{"version":3,"sources":["index.js","ComponentManager.js","Entity.js","components/framegraph/System.js","identifier.js","components/framegraph/FrameGraphHandle.js","components/framegraph/FrameGraphPass.js","components/framegraph/PassNode.js","components/framegraph/ResourceEntry.js","components/framegraph/VirtualResource.js","components/framegraph/ResourceNode.js","components/geometry/GeometryComponent.js","utils/is-typedarray.js","components/geometry/System.js","components/renderer/gl.js","components/material/MaterialComponent.js","components/material/System.js","components/mesh/CullableComponent.js","components/mesh/MeshComponent.js","shape/AABB.js","components/mesh/System.js","shape/Frustum.js","shape/Plane.js","utils/math.js","utils/is-number.js","components/renderer/passes/PixelPickingPass.js","components/renderer/passes/RenderPass.js","components/renderer/System.js","components/renderer/passes/CopyPass.js","components/scenegraph/HierarchyComponent.js","components/scenegraph/System.js","components/scenegraph/TransformComponent.js","inversify.config.js","components/framegraph/ResourcePool.js","components/scenegraph/NameComponent.js","services/config/ConfigService.js","services/interactor/IteractorService.js","services/shader-module/ShaderModuleService.js","utils/shader-module.js","utils/uniq.js","utils/aabb.js","utils/isSafari.js","services/index.js","services/config/index.js","services/interactor/index.js","services/shader-module/index.js","shape/index.js","shape/BoundingSphere.js","shape/Ray.js","components/renderer/index.js","components/renderer/IAttribute.js","components/renderer/IBuffer.js","components/renderer/IComputeModel.js","components/renderer/IElements.js","components/renderer/IFramebuffer.js","components/renderer/IModel.js","components/renderer/IMultiPassRenderer.js","components/renderer/IRenderbuffer.js","components/renderer/IRendererService.js","components/renderer/ITexture2D.js","components/renderer/IUniform.js","components/material/interface.js","components/mesh/interface.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ACHA,AFMA;ACFA,ACHA,AFMA;ACFA,ACHA,AFMA;ACFA,ACHA,ACHA,AHSA;ACFA,ACHA,ACHA,AHSA;ACFA,ACHA,ACHA,AHSA;ACFA,ACHA,ACHA,ACHA,AJYA;ACFA,ACHA,ACHA,ACHA,AJYA;ACFA,ACHA,ACHA,ACHA,AJYA;ACFA,ACHA,AGTA,AFMA,ACHA,AJYA;ACFA,ACHA,AGTA,AFMA,ACHA,AJYA;ACFA,ACHA,AGTA,AFMA,ACHA,AJYA;ACFA,ACHA,AGTA,ACHA,AHSA,ACHA,AJYA;ACFA,ACHA,AGTA,ACHA,AHSA,ACHA,AJYA;ACFA,ACHA,AGTA,ACHA,AHSA,ACHA,AJYA;ACFA,ACHA,AGTA,ACHA,ACHA,AJYA,ACHA,AJYA;ACFA,ACHA,AGTA,ACHA,ACHA,AJYA,ACHA,AJYA;ACFA,ACHA,AGTA,ACHA,ACHA,AJYA,ACHA,AJYA;ACFA,ACHA,AGTA,ACHA,ACHA,ACHA,ALeA,ACHA,AJYA;ACFA,AIZA,ACHA,ACHA,ACHA,ALeA,ACHA,AJYA;ACFA,AIZA,ACHA,ACHA,ACHA,ALeA,ACHA,AJYA;ACFA,AIZA,ACHA,ACHA,ACHA,ALeA,AMlBA,ALeA,AJYA;ACFA,AIZA,ACHA,ACHA,ACHA,ALeA,AMlBA,ALeA,AJYA;ACFA,AIZA,ACHA,ACHA,ACHA,ALeA,AMlBA,ALeA,AJYA;ACFA,AIZA,ACHA,ACHA,ACHA,AENA,APqBA,AMlBA,ALeA,AJYA;ACFA,AIZA,ACHA,ACHA,ACHA,AENA,APqBA,AMlBA,ALeA,AJYA;ACFA,AIZA,ACHA,ACHA,ACHA,AENA,APqBA,AMlBA,ALeA,AJYA;ACFA,AKfA,ACHA,ACHA,AENA,APqBA,AMlBA,AENA,APqBA,AJYA;ACFA,AKfA,ACHA,ACHA,AENA,APqBA,AMlBA,AENA,APqBA,AJYA;ACFA,AKfA,ACHA,ACHA,AENA,APqBA,AMlBA,AENA,APqBA,AJYA;ACFA,AKfA,ACHA,ACHA,AENA,APqBA,AMlBA,AENA,APqBA,AJYA,AYpCA;AXkCA,AKfA,ACHA,ACHA,AENA,APqBA,AMlBA,AENA,APqBA,AJYA,AYpCA;AXkCA,AKfA,ACHA,ACHA,AENA,APqBA,AMlBA,AENA,APqBA,AJYA,AYpCA;AXkCA,AMlBA,ACHA,AENA,APqBA,AMlBA,AENA,AENA,AT2BA,AJYA,AYpCA;AXkCA,AMlBA,ACHA,AENA,APqBA,AMlBA,AENA,AENA,AT2BA,AJYA,AYpCA;AXkCA,AMlBA,ACHA,AENA,APqBA,AMlBA,AENA,AENA,AT2BA,AJYA,AYpCA;AXkCA,AMlBA,ACHA,AENA,APqBA,AMlBA,AENA,AENA,ACHA,AV8BA,AJYA,AYpCA;AXkCA,AMlBA,ACHA,AENA,APqBA,AMlBA,AENA,AENA,ACHA,AV8BA,AJYA,AYpCA;AXkCA,AMlBA,ACHA,AENA,APqBA,AMlBA,AENA,AENA,ACHA,AV8BA,AJYA,AYpCA;AXkCA,AMlBA,ACHA,AENA,APqBA,AMlBA,AENA,AENA,AENA,ADGA,AV8BA,AJYA,AYpCA;AXkCA,AMlBA,ACHA,AENA,APqBA,AMlBA,AENA,AENA,AENA,ADGA,AV8BA,AJYA,AYpCA;AXkCA,AMlBA,ACHA,AENA,APqBA,AMlBA,AENA,AENA,AENA,ADGA,AV8BA,AJYA,AYpCA;AXkCA,AMlBA,ACHA,AENA,APqBA,AMlBA,AENA,AENA,AENA,ACHA,AFMA,AV8BA,AJYA,AYpCA;AXkCA,AMlBA,ACHA,AENA,APqBA,AQxBA,AENA,AENA,ACHA,AFMA,AV8BA,AJYA,AYpCA;AXkCA,AMlBA,ACHA,AENA,APqBA,AQxBA,AENA,AENA,ACHA,AFMA,AV8BA,AJYA,AYpCA;AXkCA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,AHSA,AV8BA,AJYA,AYpCA;AXkCA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,AHSA,AV8BA,AJYA,AYpCA;AXkCA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,AHSA,AV8BA,AJYA,AYpCA;AXkCA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AJYA,AV8BA,AJYA,AYpCA;AXkCA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AJYA,AV8BA,AJYA,AYpCA;AXkCA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AJYA,AV8BA,AJYA,AYpCA;AXkCA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AJYA,AV8BA,AJYA,AmBzDA,APqBA;AXkCA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AJYA,AV8BA,AJYA,AmBzDA,APqBA;AXkCA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AJYA,AV8BA,AJYA,AmBzDA,APqBA;AXkCA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,ANkBA,AV8BA,AJYA,AmBzDA,APqBA;AXkCA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,ANkBA,AV8BA,AJYA,AmBzDA,APqBA;AXkCA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,ANkBA,AV8BA,AJYA,AmBzDA,APqBA;AXkCA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,ANkBA,AV8BA,AJYA,AmBzDA,AENA,AT2BA;AXkCA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,ANkBA,AV8BA,AJYA,AmBzDA,AENA,AT2BA;AXkCA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,ANkBA,AV8BA,AJYA,AmBzDA,AENA,AT2BA;AXkCA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,ANkBA,AV8BA,AJYA,AmBzDA,AENA,ACHA,AV8BA;AXkCA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,ANkBA,AV8BA,AJYA,AmBzDA,AENA,ACHA,AV8BA;AXkCA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,ANkBA,Ad0CA,AmBzDA,AENA,ACHA,AV8BA;AXkCA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,ANkBA,Ad0CA,AmBzDA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,ANkBA,Ad0CA,AmBzDA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,ANkBA,Ad0CA,AmBzDA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,ANkBA,Ad0CA,AmBzDA,AENA,ACHA,AENA,AZoCA,AWjCA;AtBmEA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,ANkBA,Ad0CA,AmBzDA,AENA,ACHA,AENA,AZoCA,AWjCA;AtBmEA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,ANkBA,Ad0CA,AmBzDA,AENA,ACHA,AENA,AZoCA,AWjCA;AtBmEA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,ANkBA,AWjCA,AzB2EA,AmBzDA,AENA,ACHA,AENA,AZoCA,AWjCA;AtBmEA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,ANkBA,AWjCA,AzB2EA,AmBzDA,AENA,ACHA,AENA,AZoCA,AWjCA;AtBmEA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,ANkBA,AWjCA,AzB2EA,AmBzDA,AENA,ACHA,AENA,AZoCA,AWjCA;AtBmEA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,ANkBA,AWjCA,ACHA,A1B8EA,AmBzDA,AENA,ACHA,AENA,AZoCA,AWjCA;AtBmEA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,ANkBA,AWjCA,ACHA,A1B8EA,AmBzDA,AENA,ACHA,AENA,AZoCA,AWjCA;AtBmEA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,ANkBA,AWjCA,ACHA,A1B8EA,AmBzDA,AENA,ACHA,AENA,AZoCA,AWjCA;AtBmEA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,AOrBA,AbuCA,AWjCA,ACHA,A1B8EA,AmBzDA,AENA,ACHA,AENA,AZoCA,AWjCA;AtBmEA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,AOrBA,AbuCA,AWjCA,ACHA,A1B8EA,AmBzDA,AENA,ACHA,AENA,AZoCA,AWjCA;AtBmEA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,AOrBA,AbuCA,AWjCA,ACHA,A1B8EA,AmBzDA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,A1B8EA,AmBzDA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,A1B8EA,AmBzDA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,A1B8EA,AmBzDA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,A7BuFA,AmBzDA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,A7BuFA,AmBzDA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,A7BuFA,AmBzDA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,ACHA,A9B0FA,AmBzDA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,ACHA,A9B0FA,AmBzDA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,ACHA,A9B0FA,AmBzDA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AMlBA,ACHA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,ACHA,ACHA,A/B6FA,AmBzDA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AOrBA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,ACHA,ACHA,A/B6FA,AmBzDA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AOrBA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,ACHA,ACHA,A/B6FA,AmBzDA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AOrBA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,ACHA,ACHA,A/B6FA,AgChGA,AbuCA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AOrBA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,ACHA,ACHA,A/B6FA,AgChGA,AbuCA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AOrBA,ALeA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,ACHA,ACHA,A/B6FA,AgChGA,AbuCA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AOrBA,AyB3EA,A9B0FA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,ACHA,ACHA,A/B6FA,AgChGA,AbuCA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AOrBA,AyB3EA,A9B0FA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,ACHA,ACHA,A/B6FA,AgChGA,AbuCA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AOrBA,AyB3EA,A9B0FA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,ACHA,ACHA,A/B6FA,AgChGA,AbuCA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AOrBA,AyB3EA,A9B0FA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AbuCA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AOrBA,AyB3EA,A9B0FA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AbuCA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AOrBA,AyB3EA,A9B0FA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AbuCA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AOrBA,AyB3EA,A9B0FA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,AhBgDA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AOrBA,AyB3EA,A9B0FA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,AhBgDA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AOrBA,AyB3EA,A9B0FA,AQxBA,AENA,AENA,ACHA,ACHA,ACHA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,AhBgDA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AOrBA,AyB3EA,A9B0FA,AQxBA,AENA,AENA,ACHA,AENA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,ACHA,AjBmDA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AENA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,ACHA,AjBmDA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AENA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,ACHA,AjBmDA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AENA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,ACHA,ACHA,AlBsDA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AENA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,ACHA,ACHA,AlBsDA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AENA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,ACHA,ACHA,AlBsDA,AENA,ACHA,AV8BA,AWjCA;AtBmEA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AENA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,ACHA,ACHA,AlBsDA,AENA,ACHA,AV8BA,AWjCA,Ae7CA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AENA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,ACHA,ACHA,AlBsDA,AENA,ACHA,AV8BA,AWjCA,Ae7CA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AENA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,ACHA,ACHA,AlBsDA,AENA,ACHA,AV8BA,AWjCA,Ae7CA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AENA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,ACHA,ACHA,AlBsDA,AENA,ACHA,AV8BA,AWjCA,Ae7CA,ACHA;AtCmHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AENA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,ACHA,ACHA,AlBsDA,AENA,ACHA,AV8BA,AWjCA,Ae7CA,ACHA;AtCmHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AENA,AENA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,ACHA,ACHA,AlBsDA,AENA,ACHA,AV8BA,AWjCA,Ae7CA,ACHA;AtCmHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,ACHA,ACHA,AlBsDA,AENA,ACHA,AkBtDA,A5BoFA,AWjCA,Ae7CA,ACHA;AtCmHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,ACHA,ACHA,AlBsDA,AENA,ACHA,AkBtDA,A5BoFA,AWjCA,Ae7CA,ACHA;AtCmHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,ACHA,ACHA,AlBsDA,AENA,ACHA,AkBtDA,A5BoFA,AWjCA,Ae7CA,ACHA;AtCmHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,ACHA,ACHA,AlBsDA,AENA,ACHA,AkBtDA,A5BoFA,A6BvFA,AlBsDA,Ae7CA,ACHA;AtCmHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,ACHA,ACHA,AlBsDA,AENA,ACHA,AkBtDA,A5BoFA,A6BvFA,AlBsDA,Ae7CA,ACHA;AtCmHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,ACHA,ACHA,AlBsDA,AENA,ACHA,AkBtDA,A5BoFA,A6BvFA,AlBsDA,Ae7CA,ACHA;AtCmHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,AOrBA,ANkBA,ACHA,AlBsDA,AENA,ACHA,AkBtDA,A5BoFA,A6BvFA,AlBsDA,Ae7CA,ACHA;AtCmHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,AOrBA,ANkBA,ACHA,AlBsDA,AENA,ACHA,AkBtDA,A5BoFA,A6BvFA,AlBsDA,Ae7CA,ACHA;AtCmHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,AOrBA,ANkBA,ACHA,AlBsDA,AENA,ACHA,AkBtDA,A5BoFA,A6BvFA,AlBsDA,Ae7CA,ACHA;AtCmHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,AQxBA,ADGA,ANkBA,ACHA,AlBsDA,AENA,ACHA,AkBtDA,A5BoFA,A6BvFA,AlBsDA,Ae7CA,ACHA;AtCmHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,AQxBA,ADGA,ANkBA,ACHA,AlBsDA,AENA,ACHA,AkBtDA,A5BoFA,A6BvFA,AlBsDA,Ae7CA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AGTA,AKfA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,AQxBA,ADGA,ANkBA,ACHA,AlBsDA,AENA,ACHA,AkBtDA,A5BoFA,A6BvFA,AlBsDA,Ae7CA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AQxBA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,AQxBA,ADGA,ANkBA,AQxBA,APqBA,AlBsDA,AENA,ACHA,AkBtDA,A5BoFA,AWjCA,Ae7CA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AQxBA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,AQxBA,ADGA,ANkBA,AQxBA,APqBA,AlBsDA,AENA,ACHA,AkBtDA,A5BoFA,AWjCA,Ae7CA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AQxBA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,AQxBA,ADGA,ANkBA,AQxBA,APqBA,AlBsDA,AENA,AmBzDA,A5BoFA,AWjCA,Ae7CA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AQxBA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,AQxBA,ADGA,ANkBA,AQxBA,APqBA,AQxBA,A1B8EA,AENA,AmBzDA,A5BoFA,AWjCA,Ae7CA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AQxBA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,AQxBA,ADGA,ANkBA,AQxBA,APqBA,AQxBA,A1B8EA,AENA,AmBzDA,A5BoFA,AWjCA,Ae7CA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AQxBA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,AQxBA,ADGA,ANkBA,AQxBA,APqBA,AQxBA,A1B8EA,AENA,AmBzDA,A5BoFA,AWjCA,Ae7CA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AQxBA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,AQxBA,ADGA,ANkBA,AQxBA,APqBA,AQxBA,A1B8EA,AENA,AyB3EA,ANkBA,A5BoFA,AWjCA,Ae7CA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AQxBA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,AQxBA,ADGA,ANkBA,AQxBA,APqBA,AQxBA,A1B8EA,AENA,AyB3EA,ANkBA,A5BoFA,A0B9EA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AQxBA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,AQxBA,ADGA,ANkBA,AQxBA,APqBA,AQxBA,A1B8EA,AENA,AyB3EA,ANkBA,A5BoFA,A0B9EA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AQxBA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,AQxBA,ADGA,ANkBA,AQxBA,APqBA,AQxBA,A1B8EA,A4BpFA,A1B8EA,AyB3EA,ANkBA,A5BoFA,A0B9EA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AQxBA,AJYA,ACHA,A/B6FA,AgChGA,AGTA,AQxBA,ADGA,ANkBA,AQxBA,APqBA,AQxBA,A1B8EA,A4BpFA,A1B8EA,AyB3EA,ANkBA,A5BoFA,A0B9EA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AQxBA,AJYA,ACHA,A/B6FA,AgChGA,AWjCA,ADGA,ANkBA,AQxBA,APqBA,AQxBA,A1B8EA,A4BpFA,A1B8EA,AyB3EA,ANkBA,A5BoFA,A0B9EA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AQxBA,AJYA,ACHA,A/B6FA,AgChGA,AWjCA,ADGA,ANkBA,AQxBA,APqBA,AQxBA,A1B8EA,A4BpFA,A1B8EA,A2BjFA,AFMA,ANkBA,A5BoFA,A0B9EA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AWjCA,ADGA,ANkBA,AQxBA,APqBA,AQxBA,A1B8EA,A4BpFA,A1B8EA,A2BjFA,AFMA,ANkBA,AFMA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,Ac1CA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AWjCA,ADGA,ANkBA,AQxBA,APqBA,AQxBA,A1B8EA,A4BpFA,A1B8EA,A2BjFA,AFMA,ANkBA,AFMA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AWjCA,ADGA,ANkBA,AQxBA,APqBA,AQxBA,A1B8EA,A4BpFA,A1B8EA,A2BjFA,AFMA,ANkBA,AFMA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AU9BA,ANkBA,AQxBA,APqBA,AQxBA,A1B8EA,A4BpFA,A1B8EA,A2BjFA,AFMA,ANkBA,AFMA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AU9BA,ANkBA,AQxBA,APqBA,AQxBA,A1B8EA,A4BpFA,A1B8EA,A2BjFA,AFMA,ANkBA,AFMA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,A8B1FA,AvBqEA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AU9BA,ANkBA,AQxBA,APqBA,AQxBA,A1B8EA,A4BpFA,A1B8EA,A2BjFA,AFMA,ANkBA,AFMA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,A8B1FA,AvBqEA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AU9BA,ANkBA,ACHA,AQxBA,A1B8EA,A4BpFA,A1B8EA,A2BjFA,AFMA,ANkBA,AFMA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AU9BA,ANkBA,ACHA,AQxBA,A1B8EA,A4BpFA,A1B8EA,A2BjFA,AFMA,ANkBA,AFMA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,A+B7FA,AxBwEA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AU9BA,ANkBA,ACHA,AQxBA,A1B8EA,A4BpFA,A1B8EA,A2BjFA,AFMA,ANkBA,AFMA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,A+B7FA,AxBwEA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AU9BA,ANkBA,ACHA,AlBsDA,A4BpFA,A1B8EA,A2BjFA,AFMA,ANkBA,AFMA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AU9BA,ANkBA,ACHA,AlBsDA,A4BpFA,A1B8EA,A2BjFA,AFMA,ANkBA,AFMA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AgChGA,AzB2EA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AU9BA,ANkBA,ACHA,AlBsDA,A4BpFA,A1B8EA,A2BjFA,AFMA,ANkBA,AFMA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AgChGA,AzB2EA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AU9BA,ANkBA,ACHA,AlBsDA,A4BpFA,A1B8EA,A2BjFA,AFMA,ANkBA,AFMA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AU9BA,ANkBA,ACHA,AlBsDA,A4BpFA,A1B8EA,A2BjFA,AFMA,ANkBA,AFMA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AiCnGA,A1B8EA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AU9BA,ANkBA,ACHA,AlBsDA,A4BpFA,A1B8EA,A2BjFA,AFMA,ANkBA,AFMA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AiCnGA,A1B8EA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AU9BA,ANkBA,ACHA,AlBsDA,A4BpFA,A1B8EA,A2BjFA,AFMA,ANkBA,AFMA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AU9BA,ANkBA,ACHA,AlBsDA,A4BpFA,A1B8EA,A2BjFA,AFMA,ANkBA,AFMA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AkCtGA,A3BiFA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AU9BA,ANkBA,ACHA,AlBsDA,A4BpFA,A1B8EA,A2BjFA,AFMA,ANkBA,AFMA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AkCtGA,A3BiFA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AU9BA,ALeA,AlBsDA,A4BpFA,A1B8EA,A2BjFA,AFMA,ANkBA,AFMA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AU9BA,ALeA,AlBsDA,A4BpFA,A1B8EA,A2BjFA,AFMA,ANkBA,AFMA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AmCzGA,A5BoFA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AU9BA,ALeA,AlBsDA,A4BpFA,A1B8EA,A2BjFA,AFMA,ANkBA,AFMA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AmCzGA,A5BoFA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AU9BA,ALeA,AlBsDA,A4BpFA,A1B8EA,A2BjFA,AFMA,ANkBA,AFMA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AOrBA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AU9BA,ALeA,AlBsDA,A4BpFA,ACHA,AFMA,ANkBA,AFMA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AoC5GA,A7BuFA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AU9BA,ALeA,AlBsDA,A4BpFA,ACHA,AFMA,ANkBA,AFMA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AENA,ACHA,AIZA,AoC5GA,A7BuFA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AU9BA,ALeA,AlBsDA,A4BpFA,ACHA,AFMA,ANkBA,AFMA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AGTA,AIZA,AoC5GA,A7BuFA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AU9BA,ALeA,AlBsDA,A4BpFA,ACHA,AFMA,ANkBA,AFMA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AGTA,AIZA,AoC5GA,ACHA,A9B0FA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A4BpFA,ACHA,AFMA,ANkBA,AFMA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AGTA,AIZA,AoC5GA,ACHA,A9B0FA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A4BpFA,ACHA,AFMA,ANkBA,AFMA;ArCgHA,AgChGA,A9B0FA,AQxBA,AENA,AGTA,AIZA,AoC5GA,A7BuFA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A4BpFA,ACHA,AFMA,ANkBA,AFMA;ArCgHA,AENA,AQxBA,AENA,AGTA,AIZA,AoC5GA,AENA,A/B6FA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A4BpFA,ACHA,AFMA,ANkBA,AFMA;ArCgHA,AENA,AQxBA,AENA,AGTA,AIZA,AoC5GA,AENA,A/B6FA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A4BpFA,ACHA,AFMA,ANkBA,AFMA;ArCgHA,AENA,AQxBA,AENA,AGTA,AIZA,AoC5GA,A7BuFA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A4BpFA,ACHA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AGTA,AIZA,AoC5GA,AGTA,AhCgGA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A4BpFA,ACHA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AGTA,AIZA,AoC5GA,AGTA,AhCgGA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A4BpFA,ACHA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AGTA,AIZA,AoC5GA,A7BuFA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A4BpFA,ACHA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AGTA,AIZA,AoC5GA,AIZA,AjCmGA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A4BpFA,ACHA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AOrBA,AoC5GA,AIZA,AjCmGA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A4BpFA,ACHA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AOrBA,AoC5GA,A7BuFA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A4BpFA,ACHA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AgDhJA,AzC2HA,AoC5GA,A7BuFA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A4BpFA,ACHA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AgDhJA,AzC2HA,AoC5GA,A7BuFA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A4BpFA,ACHA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AOrBA,AoC5GA,A7BuFA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A4BpFA,ACHA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AOrBA,A0C9HA,ANkBA,A7BuFA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A4BpFA,ACHA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AOrBA,A0C9HA,ANkBA,A7BuFA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A4BpFA,ACHA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AOrBA,AoC5GA,A7BuFA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A4BpFA,ACHA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AOrBA,AOrBA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A4BpFA,ACHA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AOrBA,AOrBA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A4BpFA,ACHA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AOrBA,AOrBA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A4BpFA,ACHA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AOrBA,AOrBA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A4BpFA,ACHA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AOrBA,AOrBA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AOrBA,AOrBA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AOrBA,AOrBA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AOrBA,AOrBA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AOrBA,AOrBA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AOrBA,AOrBA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AOrBA,AOrBA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AOrBA,AOrBA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AOrBA,AOrBA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AOrBA,AOrBA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AOrBA,AOrBA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AOrBA,AOrBA,AbuCA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AOrBA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AOrBA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AOrBA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AOrBA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA,AFMA,ARwBA;ArCgHA,AENA,AQxBA,AENA,AOrBA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA,AV8BA;ArCgHA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA,AV8BA;ArCgHA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA,AV8BA;ArCgHA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA,AV8BA;ArCgHA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA,AV8BA;ArCgHA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,ArB+DA,AHSA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgChGA,AKfA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AqC/GA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AqC/GA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AqC/GA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AqC/GA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AqC/GA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AqC/GA,AlBsDA,A6BvFA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AqC/GA,AWjCA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AqC/GA,AWjCA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AqC/GA,AWjCA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AqC/GA,AWjCA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AqC/GA,AWjCA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AqC/GA,AWjCA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AqC/GA,AWjCA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AqC/GA,AWjCA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AqC/GA,AWjCA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AqC/GA,AWjCA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AqC/GA,AWjCA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AqC/GA,AWjCA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A/C8IA,AENA,AiBnDA,ANkBA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A/C8IA,AENA,AWjCA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A/C8IA,AENA,AWjCA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A/C8IA,AENA,AWjCA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AmCzGA,AxBwEA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AWjCA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AWjCA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AWjCA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AWjCA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AWjCA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AWjCA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AWjCA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AWjCA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AWjCA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AWjCA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AWjCA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AWjCA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AWjCA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AWjCA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AWjCA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AWjCA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AWjCA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AWjCA,ACHA,AIZA,ACHA,A/B6FA,AgDhJA;A7CwIA,AWjCA,AWjCA,ACHA,AIZA,ACHA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AIZA,ACHA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AIZA,ACHA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AIZA,ACHA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AIZA,ACHA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AIZA,ACHA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AWjCA,AWjCA,ACHA,AKfA,A/B6FA;AGRA,AsBlEA,ACHA,AKfA,A/B6FA;AGRA,AsBlEA,ACHA,AKfA,A/B6FA;AGRA,AsBlEA,ACHA,AKfA,A/B6FA;AGRA,AuBrEA,AKfA,A/B6FA;AGRA,AuBrEA,AKfA,A/B6FA;AGRA,AuBrEA,AKfA,A/B6FA;AGRA,AuBrEA,AKfA,A/B6FA;AGRA,AuBrEA,AKfA,A/B6FA;AGRA,AuBrEA,AKfA,A/B6FA;AGRA,AuBrEA,AKfA,A/B6FA;AGRA,AuBrEA,AKfA,A/B6FA;AGRA,AuBrEA,AKfA,A/B6FA;AGRA,AuBrEA,AKfA,A/B6FA;AGRA,AuBrEA,AKfA,A/B6FA;AGRA,AuBrEA,AKfA,A/B6FA;AGRA,AuBrEA,AKfA,A/B6FA;AGRA,AuBrEA,AKfA,A/B6FA;AGRA,AuBrEA,AKfA,A/B6FA;AGRA,AuBrEA,AKfA,A/B6FA;AGRA,AuBrEA,AKfA,A/B6FA;AGRA,AuBrEA,AKfA,A/B6FA;AGRA,AuBrEA,AKfA,A/B6FA;AGRA,AuBrEA,AKfA,A/B6FA;AGRA,AuBrEA,AKfA,A/B6FA;AGRA,AuBrEA,AKfA,A/B6FA;AGRA,AuBrEA,AKfA,A/B6FA;AGRA,AuBrEA,AKfA,A/B6FA;AGRA,AuBrEA,AKfA,A/B6FA;AGRA,AuBrEA,AKfA,A/B6FA;AGRA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;A5BqFA,AuBrEA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA,AKfA;ALgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  AST_TOKEN_TYPES: true,\n  AST_NODE_TYPES: true,\n  STORAGE_CLASS: true,\n  Target: true,\n  DefineValuePlaceholder: true,\n  Component: true,\n  ComponentManager: true,\n  FrameGraphSystem: true,\n  GeometryComponent: true,\n  GeometrySystem: true,\n  MaterialComponent: true,\n  MaterialSystem: true,\n  CullableComponent: true,\n  MeshComponent: true,\n  MeshSystem: true,\n  PixelPickingPass: true,\n  RendererSystem: true,\n  HierarchyComponent: true,\n  SceneGraphSystem: true,\n  TransformComponent: true,\n  createEntity: true,\n  IDENTIFIER: true,\n  container: true,\n  createWorldContainer: true,\n  lazyInject: true,\n  lazyMultiInject: true,\n  generateAABBFromVertices: true,\n  isSafari: true\n};\nObject.defineProperty(exports, \"Component\", {\n  enumerable: true,\n  get: function get() {\n    return _ComponentManager.Component;\n  }\n});\nObject.defineProperty(exports, \"ComponentManager\", {\n  enumerable: true,\n  get: function get() {\n    return _ComponentManager.ComponentManager;\n  }\n});\nObject.defineProperty(exports, \"FrameGraphSystem\", {\n  enumerable: true,\n  get: function get() {\n    return _System.FrameGraphSystem;\n  }\n});\nObject.defineProperty(exports, \"GeometryComponent\", {\n  enumerable: true,\n  get: function get() {\n    return _GeometryComponent.GeometryComponent;\n  }\n});\nObject.defineProperty(exports, \"GeometrySystem\", {\n  enumerable: true,\n  get: function get() {\n    return _System2.GeometrySystem;\n  }\n});\nObject.defineProperty(exports, \"MaterialComponent\", {\n  enumerable: true,\n  get: function get() {\n    return _MaterialComponent.MaterialComponent;\n  }\n});\nObject.defineProperty(exports, \"MaterialSystem\", {\n  enumerable: true,\n  get: function get() {\n    return _System3.MaterialSystem;\n  }\n});\nObject.defineProperty(exports, \"CullableComponent\", {\n  enumerable: true,\n  get: function get() {\n    return _CullableComponent.CullableComponent;\n  }\n});\nObject.defineProperty(exports, \"MeshComponent\", {\n  enumerable: true,\n  get: function get() {\n    return _MeshComponent.MeshComponent;\n  }\n});\nObject.defineProperty(exports, \"MeshSystem\", {\n  enumerable: true,\n  get: function get() {\n    return _System4.MeshSystem;\n  }\n});\nObject.defineProperty(exports, \"PixelPickingPass\", {\n  enumerable: true,\n  get: function get() {\n    return _PixelPickingPass.PixelPickingPass;\n  }\n});\nObject.defineProperty(exports, \"RendererSystem\", {\n  enumerable: true,\n  get: function get() {\n    return _System5.RendererSystem;\n  }\n});\nObject.defineProperty(exports, \"HierarchyComponent\", {\n  enumerable: true,\n  get: function get() {\n    return _HierarchyComponent.HierarchyComponent;\n  }\n});\nObject.defineProperty(exports, \"SceneGraphSystem\", {\n  enumerable: true,\n  get: function get() {\n    return _System6.SceneGraphSystem;\n  }\n});\nObject.defineProperty(exports, \"TransformComponent\", {\n  enumerable: true,\n  get: function get() {\n    return _TransformComponent.TransformComponent;\n  }\n});\nObject.defineProperty(exports, \"createEntity\", {\n  enumerable: true,\n  get: function get() {\n    return _Entity.createEntity;\n  }\n});\nObject.defineProperty(exports, \"IDENTIFIER\", {\n  enumerable: true,\n  get: function get() {\n    return _identifier.IDENTIFIER;\n  }\n});\nObject.defineProperty(exports, \"container\", {\n  enumerable: true,\n  get: function get() {\n    return _inversify.container;\n  }\n});\nObject.defineProperty(exports, \"createWorldContainer\", {\n  enumerable: true,\n  get: function get() {\n    return _inversify.createWorldContainer;\n  }\n});\nObject.defineProperty(exports, \"lazyInject\", {\n  enumerable: true,\n  get: function get() {\n    return _inversify.lazyInject;\n  }\n});\nObject.defineProperty(exports, \"lazyMultiInject\", {\n  enumerable: true,\n  get: function get() {\n    return _inversify.lazyMultiInject;\n  }\n});\nObject.defineProperty(exports, \"generateAABBFromVertices\", {\n  enumerable: true,\n  get: function get() {\n    return _aabb.generateAABBFromVertices;\n  }\n});\nObject.defineProperty(exports, \"isSafari\", {\n  enumerable: true,\n  get: function get() {\n    return _isSafari.isSafari;\n  }\n});\nexports.DefineValuePlaceholder = exports.Target = exports.STORAGE_CLASS = exports.AST_NODE_TYPES = exports.AST_TOKEN_TYPES = void 0;\n\nrequire(\"reflect-metadata\");\n\nvar _ComponentManager = require(\"./ComponentManager\");\n\nObject.keys(_ComponentManager).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _ComponentManager[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _ComponentManager[key];\n    }\n  });\n});\n\nvar _System = require(\"./components/framegraph/System\");\n\nvar _GeometryComponent = require(\"./components/geometry/GeometryComponent\");\n\nvar _System2 = require(\"./components/geometry/System\");\n\nvar _MaterialComponent = require(\"./components/material/MaterialComponent\");\n\nvar _System3 = require(\"./components/material/System\");\n\nvar _CullableComponent = require(\"./components/mesh/CullableComponent\");\n\nvar _MeshComponent = require(\"./components/mesh/MeshComponent\");\n\nvar _System4 = require(\"./components/mesh/System\");\n\nvar _PixelPickingPass = require(\"./components/renderer/passes/PixelPickingPass\");\n\nvar _System5 = require(\"./components/renderer/System\");\n\nvar _HierarchyComponent = require(\"./components/scenegraph/HierarchyComponent\");\n\nvar _System6 = require(\"./components/scenegraph/System\");\n\nvar _TransformComponent = require(\"./components/scenegraph/TransformComponent\");\n\nvar _Entity = require(\"./Entity\");\n\nvar _identifier = require(\"./identifier\");\n\nvar _inversify = require(\"./inversify.config\");\n\nvar _aabb = require(\"./utils/aabb\");\n\nvar _isSafari = require(\"./utils/isSafari\");\n\nvar _services = require(\"./services\");\n\nObject.keys(_services).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _services[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _services[key];\n    }\n  });\n});\n\nvar _shape = require(\"./shape\");\n\nObject.keys(_shape).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _shape[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _shape[key];\n    }\n  });\n});\n\nvar _renderer = require(\"./components/renderer\");\n\nObject.keys(_renderer).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _renderer[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _renderer[key];\n    }\n  });\n});\n\nvar _interface = require(\"./components/material/interface\");\n\nObject.keys(_interface).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _interface[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _interface[key];\n    }\n  });\n});\n\nvar _interface2 = require(\"./components/mesh/interface\");\n\nObject.keys(_interface2).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _interface2[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _interface2[key];\n    }\n  });\n});\n// tslint:disable-next-line:no-reference\n/// <reference path=\"../../../node_modules/@webgpu/types/dist/index.d.ts\" />\nvar AST_TOKEN_TYPES;\nexports.AST_TOKEN_TYPES = AST_TOKEN_TYPES;\n\n(function (AST_TOKEN_TYPES) {\n  AST_TOKEN_TYPES[\"Void\"] = \"Void\";\n  AST_TOKEN_TYPES[\"Boolean\"] = \"Boolean\";\n  AST_TOKEN_TYPES[\"Float\"] = \"Float\";\n  AST_TOKEN_TYPES[\"Uint32\"] = \"Uint32\";\n  AST_TOKEN_TYPES[\"Int32\"] = \"Int32\";\n  AST_TOKEN_TYPES[\"Vector\"] = \"Vector\";\n  AST_TOKEN_TYPES[\"Vector2Float\"] = \"vec2<f32>\";\n  AST_TOKEN_TYPES[\"Vector3Float\"] = \"vec3<f32>\";\n  AST_TOKEN_TYPES[\"Vector4Float\"] = \"vec4<f32>\";\n  AST_TOKEN_TYPES[\"Vector2Boolean\"] = \"vec2<bool>\";\n  AST_TOKEN_TYPES[\"Vector3Boolean\"] = \"vec3<bool>\";\n  AST_TOKEN_TYPES[\"Vector4Boolean\"] = \"vec4<bool>\";\n  AST_TOKEN_TYPES[\"Vector2Uint\"] = \"vec2<u32>\";\n  AST_TOKEN_TYPES[\"Vector3Uint\"] = \"vec3<u32>\";\n  AST_TOKEN_TYPES[\"Vector4Uint\"] = \"vec4<u32>\";\n  AST_TOKEN_TYPES[\"Vector2Int\"] = \"vec2<i32>\";\n  AST_TOKEN_TYPES[\"Vector3Int\"] = \"vec3<i32>\";\n  AST_TOKEN_TYPES[\"Vector4Int\"] = \"vec4<i32>\";\n  AST_TOKEN_TYPES[\"Matrix\"] = \"Matrix\";\n  AST_TOKEN_TYPES[\"Matrix3x3Float\"] = \"mat3x3<f32>\";\n  AST_TOKEN_TYPES[\"Matrix4x4Float\"] = \"mat4x4<i32>\";\n  AST_TOKEN_TYPES[\"Struct\"] = \"Struct\";\n  AST_TOKEN_TYPES[\"FloatArray\"] = \"Float[]\";\n  AST_TOKEN_TYPES[\"Vector4FloatArray\"] = \"vec4<f32>[]\";\n})(AST_TOKEN_TYPES || (exports.AST_TOKEN_TYPES = AST_TOKEN_TYPES = {}));\n\nvar AST_NODE_TYPES;\nexports.AST_NODE_TYPES = AST_NODE_TYPES;\n\n(function (AST_NODE_TYPES) {\n  AST_NODE_TYPES[\"Program\"] = \"Program\";\n  AST_NODE_TYPES[\"Identifier\"] = \"Identifier\";\n  AST_NODE_TYPES[\"VariableDeclaration\"] = \"VariableDeclaration\";\n  AST_NODE_TYPES[\"BlockStatement\"] = \"BlockStatement\";\n  AST_NODE_TYPES[\"ReturnStatement\"] = \"ReturnStatement\";\n  AST_NODE_TYPES[\"FunctionDeclaration\"] = \"FunctionDeclaration\";\n  AST_NODE_TYPES[\"VariableDeclarator\"] = \"VariableDeclarator\";\n  AST_NODE_TYPES[\"AssignmentExpression\"] = \"AssignmentExpression\";\n  AST_NODE_TYPES[\"LogicalExpression\"] = \"LogicalExpression\";\n  AST_NODE_TYPES[\"BinaryExpression\"] = \"BinaryExpression\";\n  AST_NODE_TYPES[\"ArrayExpression\"] = \"ArrayExpression\";\n  AST_NODE_TYPES[\"UnaryExpression\"] = \"UnaryExpression\";\n  AST_NODE_TYPES[\"UpdateExpression\"] = \"UpdateExpression\";\n  AST_NODE_TYPES[\"FunctionExpression\"] = \"FunctionExpression\";\n  AST_NODE_TYPES[\"MemberExpression\"] = \"MemberExpression\";\n  AST_NODE_TYPES[\"ConditionalExpression\"] = \"ConditionalExpression\";\n  AST_NODE_TYPES[\"ExpressionStatement\"] = \"ExpressionStatement\";\n  AST_NODE_TYPES[\"CallExpression\"] = \"CallExpression\";\n  AST_NODE_TYPES[\"NumThreadStatement\"] = \"NumThreadStatement\";\n  AST_NODE_TYPES[\"StorageStatement\"] = \"StorageStatement\";\n  AST_NODE_TYPES[\"DoWhileStatement\"] = \"DoWhileStatement\";\n  AST_NODE_TYPES[\"WhileStatement\"] = \"WhileStatement\";\n  AST_NODE_TYPES[\"ForStatement\"] = \"ForStatement\";\n  AST_NODE_TYPES[\"BreakStatement\"] = \"BreakStatement\";\n  AST_NODE_TYPES[\"ContinueStatement\"] = \"ContinueStatement\";\n  AST_NODE_TYPES[\"IfStatement\"] = \"IfStatement\";\n  AST_NODE_TYPES[\"ImportedFunctionStatement\"] = \"ImportedFunctionStatement\";\n})(AST_NODE_TYPES || (exports.AST_NODE_TYPES = AST_NODE_TYPES = {}));\n\nvar STORAGE_CLASS;\nexports.STORAGE_CLASS = STORAGE_CLASS;\n\n(function (STORAGE_CLASS) {\n  STORAGE_CLASS[\"Input\"] = \"Input\";\n  STORAGE_CLASS[\"Output\"] = \"Output\";\n  STORAGE_CLASS[\"Uniform\"] = \"Uniform\";\n  STORAGE_CLASS[\"Workgroup\"] = \"Workgroup\";\n  STORAGE_CLASS[\"UniformConstant\"] = \"UniformConstant\";\n  STORAGE_CLASS[\"Image\"] = \"Image\";\n  STORAGE_CLASS[\"StorageBuffer\"] = \"StorageBuffer\";\n  STORAGE_CLASS[\"Private\"] = \"Private\";\n  STORAGE_CLASS[\"Function\"] = \"Function\";\n})(STORAGE_CLASS || (exports.STORAGE_CLASS = STORAGE_CLASS = {}));\n\n/**\n * 根据目标平台生成 Shader 代码\n * * WebGL GLSL 1.0\n * * WebGPU Chrome/Edge GLSL 4.5 & WGSL @see https://gpuweb.github.io/gpuweb/wgsl.html\n * * Safari WHLSL (maybe deprecated)\n */\nvar Target;\nexports.Target = Target;\n\n(function (Target) {\n  Target[\"GLSL100\"] = \"GLSL100\";\n  Target[\"GLSL450\"] = \"GLSL450\";\n  Target[\"WGSL\"] = \"WGSL\";\n})(Target || (exports.Target = Target = {}));\n\nvar DefineValuePlaceholder = '__DefineValuePlaceholder__';\nexports.DefineValuePlaceholder = DefineValuePlaceholder;\n//# sourceMappingURL=index.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ComponentManager = exports.Component = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _Entity = require(\"./Entity\");\n\nvar Component = function Component(data) {//\n\n  (0, _classCallCheck2.default)(this, Component);\n};\n/**\n * 管理某一类 Component，尽可能做到 AoS 而非 SoA\n * @see https://wickedengine.net/2019/09/29/entity-component-system/\n * @see https://github.com/turanszkij/WickedEngine/blob/master/WickedEngine/wiECS.h\n */\n// tslint:disable-next-line:max-classes-per-file\n\n\nexports.Component = Component;\n\nvar ComponentManager = /*#__PURE__*/function () {\n  /**\n   * 不在 Entity 中维护拥有的 Component 列表，反之亦然\n   */\n  function ComponentManager(clazz) {\n    (0, _classCallCheck2.default)(this, ComponentManager);\n    this.clazz = void 0;\n    this.components = [];\n    this.entities = [];\n    this.lookup = {};\n    this.clazz = clazz;\n  }\n\n  (0, _createClass2.default)(ComponentManager, [{\n    key: \"clear\",\n    value: function clear() {\n      this.components = [];\n      this.entities = [];\n      this.lookup = {};\n    }\n  }, {\n    key: \"contains\",\n    value: function contains(entity) {\n      return this.lookup[entity] > -1;\n    }\n  }, {\n    key: \"create\",\n    value: function create(entity, data) {\n      this.lookup[entity] = this.components.length;\n      var component = new this.clazz(data || {});\n      this.components.push(component);\n      this.entities.push(entity);\n      return component;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(entity) {\n      var componentIndex = this.lookup[entity];\n\n      if (componentIndex > -1) {\n        if (componentIndex < this.components.length - 1) {\n          // 将待删除元素和最后一个元素交换\n          // C++ 中有 std::move 这样的操作，避免数据的拷贝\n          // @see https://github.com/turanszkij/WickedEngine/blob/master/WickedEngine/wiECS.h#L169\n          this.components[componentIndex] = this.components[this.components.length - 1];\n          this.entities[componentIndex] = this.entities[this.entities.length - 1];\n          this.lookup[this.entities[componentIndex]] = componentIndex;\n        }\n      } // 待删除元素已经移动到了最后一个\n\n\n      this.components.pop();\n      this.entities.pop();\n      delete this.lookup[entity];\n    }\n  }, {\n    key: \"removeKeepSorted\",\n    value: function removeKeepSorted(entity) {\n      var componentIndex = this.lookup[entity];\n\n      if (componentIndex > -1) {\n        var entity2 = this.entities[componentIndex];\n\n        if (componentIndex < this.components.length - 1) {\n          // Move every component left by one that is after this element:\n          for (var _i = componentIndex + 1; _i < this.components.length; ++_i) {\n            this.components[_i - 1] = this.components[_i];\n          } // Move every entity left by one that is after this element and update lut:\n\n\n          for (var _i2 = componentIndex + 1; _i2 < this.entities.length; ++_i2) {\n            this.entities[_i2 - 1] = this.entities[_i2];\n            this.lookup[this.entities[_i2 - 1]] = _i2 - 1;\n          }\n        }\n\n        this.components.pop();\n        this.entities.pop();\n        delete this.lookup[entity2];\n      }\n    }\n  }, {\n    key: \"moveItem\",\n    value: function moveItem(srcIndex, destIndex) {\n      if (srcIndex === destIndex) {\n        return;\n      } // Save the moved component and entity:\n\n\n      var srcComponent = this.components[srcIndex];\n      var srcEntity = this.entities[srcIndex]; // Every other entity-component that's in the way gets moved by one and lut is kept updated:\n\n      var direction = srcIndex < destIndex ? 1 : -1;\n\n      for (var _i3 = srcIndex; _i3 !== destIndex; _i3 += direction) {\n        var next = _i3 + direction;\n        this.components[_i3] = this.components[next];\n        this.entities[_i3] = this.entities[next];\n        this.lookup[this.entities[_i3]] = _i3;\n      } // Saved entity-component moved to the required position:\n\n\n      this.components[destIndex] = srcComponent;\n      this.entities[destIndex] = srcEntity;\n      this.lookup[srcEntity] = destIndex;\n    }\n  }, {\n    key: \"getEntity\",\n    value: function getEntity(index) {\n      return this.entities[index];\n    }\n    /**\n     * 由于缺少类似 C++ 的重载操作符，没法通过 [下标] 直接访问。因此只能增加该方法用于遍历。\n     */\n\n  }, {\n    key: \"getComponent\",\n    value: function getComponent(index) {\n      return this.components[index];\n    }\n  }, {\n    key: \"getComponentByEntity\",\n    value: function getComponentByEntity(entity) {\n      var componentIndex = this.lookup[entity];\n\n      if (componentIndex > -1) {\n        return this.components[componentIndex];\n      }\n\n      return null;\n    }\n  }, {\n    key: \"getCount\",\n    value: function getCount() {\n      return this.components.length;\n    }\n  }, {\n    key: \"getEntityByComponentIndex\",\n    value: function getEntityByComponentIndex(componentIdx) {\n      for (var _i4 = 0, _Object$keys = Object.keys(this.lookup); _i4 < _Object$keys.length; _i4++) {\n        var _entity = _Object$keys[_i4];\n        var entityInNum = Number(_entity);\n\n        if (this.lookup[entityInNum] === componentIdx) {\n          return entityInNum;\n        }\n      }\n\n      return _Entity.EMPTY;\n    }\n  }, {\n    key: \"find\",\n    value: function find(callback) {\n      for (var _i5 = 0; _i5 < this.getCount(); _i5++) {\n        var _component = this.getComponent(_i5);\n\n        if (callback(_component, _i5)) {\n          return _component;\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"findIndex\",\n    value: function findIndex(callback) {\n      for (var _i6 = 0; _i6 < this.getCount(); _i6++) {\n        var _component2 = this.getComponent(_i6);\n\n        if (callback(_component2, _i6)) {\n          return _i6;\n        }\n      }\n\n      return -1;\n    }\n  }, {\n    key: \"forEach\",\n    value: function forEach(callback) {\n      for (var _i7 = 0, _Object$keys2 = Object.keys(this.lookup); _i7 < _Object$keys2.length; _i7++) {\n        var _entity2 = _Object$keys2[_i7];\n        var entityInNum = Number(_entity2);\n        var componentIndex = this.lookup[entityInNum];\n        callback(entityInNum, this.getComponent(componentIndex));\n      }\n    }\n  }, {\n    key: \"forEachAsync\",\n    value: function () {\n      var _forEachAsync = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(callback) {\n        var _i8, _Object$keys3, _entity3, entityInNum, componentIndex;\n\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _i8 = 0, _Object$keys3 = Object.keys(this.lookup);\n\n              case 1:\n                if (!(_i8 < _Object$keys3.length)) {\n                  _context.next = 10;\n                  break;\n                }\n\n                _entity3 = _Object$keys3[_i8];\n                entityInNum = Number(_entity3);\n                componentIndex = this.lookup[entityInNum];\n                _context.next = 7;\n                return callback(entityInNum, this.getComponent(componentIndex));\n\n              case 7:\n                _i8++;\n                _context.next = 1;\n                break;\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function forEachAsync(_x) {\n        return _forEachAsync.apply(this, arguments);\n      }\n\n      return forEachAsync;\n    }()\n  }, {\n    key: \"map\",\n    value: function map(callback) {\n      var result = [];\n\n      for (var _i9 = 0, _Object$keys4 = Object.keys(this.lookup); _i9 < _Object$keys4.length; _i9++) {\n        var _entity4 = _Object$keys4[_i9];\n        var entityInNum = Number(_entity4);\n        var componentIndex = this.lookup[entityInNum];\n        result.push(callback(entityInNum, this.getComponent(componentIndex)));\n      }\n\n      return result;\n    }\n  }]);\n  return ComponentManager;\n}();\n\nexports.ComponentManager = ComponentManager;\n//# sourceMappingURL=ComponentManager.js.map","\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createEntity = createEntity;\nexports.EMPTY = void 0;\nvar EMPTY = -1;\nexports.EMPTY = EMPTY;\nvar entitySequence = 1;\n/**\n * 类似关系型数据库的主键\n * TODO: 自动生成，考虑序列化\n */\n\nfunction createEntity() {\n  return entitySequence++;\n}\n//# sourceMappingURL=Entity.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FrameGraphSystem = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _initializerDefineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/initializerDefineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _applyDecoratedDescriptor2 = _interopRequireDefault(require(\"@babel/runtime/helpers/applyDecoratedDescriptor\"));\n\nvar _initializerWarningHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/initializerWarningHelper\"));\n\nvar _inversify = require(\"inversify\");\n\nvar _identifier = require(\"../../identifier\");\n\nvar _FrameGraphHandle = require(\"./FrameGraphHandle\");\n\nvar _FrameGraphPass = require(\"./FrameGraphPass\");\n\nvar _PassNode = require(\"./PassNode\");\n\nvar _ResourceEntry = require(\"./ResourceEntry\");\n\nvar _ResourceNode = require(\"./ResourceNode\");\n\nvar _dec, _dec2, _class, _class2, _descriptor, _temp;\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/**\n * ported from FrameGraph implemented by SakuraRender\n * @see https://zhuanlan.zhihu.com/p/98572442\n * @see https://github.com/SaeruHikari/Sakura/blob/RenderGraph/SakuraCore/Source/Framework/GraphicTypes/FrameGraph/SakuraFrameGraph.cpp\n */\nvar FrameGraphSystem = (_dec = (0, _inversify.injectable)(), _dec2 = (0, _inversify.inject)(_identifier.IDENTIFIER.RenderEngine), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function () {\n  function FrameGraphSystem() {\n    (0, _classCallCheck2.default)(this, FrameGraphSystem);\n    this.passNodes = [];\n    this.resourceNodes = [];\n    this.frameGraphPasses = [];\n    (0, _initializerDefineProperty2.default)(this, \"engine\", _descriptor, this);\n  }\n\n  (0, _createClass2.default)(FrameGraphSystem, [{\n    key: \"execute\",\n    value: function () {\n      var _execute = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(views) {\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // this.engine.beginFrame();\n                this.compile();\n                _context.next = 3;\n                return this.executePassNodes(views);\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function execute(_x) {\n        return _execute.apply(this, arguments);\n      }\n\n      return execute;\n    }()\n  }, {\n    key: \"tearDown\",\n    value: function tearDown() {\n      this.frameGraphPasses.forEach(function (pass) {\n        if (pass.tearDown) {\n          pass.tearDown();\n        }\n      });\n      this.reset();\n    }\n  }, {\n    key: \"addPass\",\n    value: function addPass(name, setup, execute, tearDown) {\n      var frameGraphPass = new _FrameGraphPass.FrameGraphPass();\n      frameGraphPass.execute = execute;\n\n      if (tearDown) {\n        frameGraphPass.tearDown = tearDown;\n      }\n\n      frameGraphPass.name = name;\n      var passNode = new _PassNode.PassNode();\n      passNode.name = name;\n      this.passNodes.push(passNode);\n      this.frameGraphPasses.push(frameGraphPass);\n      setup(this, passNode, frameGraphPass);\n      return frameGraphPass;\n    }\n  }, {\n    key: \"getPass\",\n    value: function getPass(name) {\n      return this.frameGraphPasses.find(function (p) {\n        return p.name === name;\n      });\n    }\n  }, {\n    key: \"compile\",\n    value: function compile() {\n      var _this = this;\n\n      var _iterator = _createForOfIteratorHelper(this.passNodes),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _pass = _step.value;\n          _pass.refCount = _pass.writes.length + (_pass.hasSideEffect ? 1 : 0);\n\n          _pass.reads.forEach(function (handle) {\n            _this.resourceNodes[handle.index].readerCount++;\n          });\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      var stack = [];\n\n      var _iterator2 = _createForOfIteratorHelper(this.resourceNodes),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var node = _step2.value;\n\n          if (node.readerCount === 0) {\n            stack.push(node);\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      while (stack.length) {\n        var pNode = stack.pop();\n        var writer = pNode && pNode.writer;\n\n        if (writer) {\n          if (--writer.refCount === 0) {\n            // this pass is culled\n            // assert(!writer->hasSideEffect);\n            var _iterator3 = _createForOfIteratorHelper(writer.reads),\n                _step3;\n\n            try {\n              for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n                var resource = _step3.value;\n                var r = this.resourceNodes[resource.index];\n\n                if (--r.readerCount === 0) {\n                  stack.push(r);\n                }\n              }\n            } catch (err) {\n              _iterator3.e(err);\n            } finally {\n              _iterator3.f();\n            }\n          }\n        }\n      } // update the final reference counts\n\n\n      this.resourceNodes.forEach(function (node) {\n        node.resource.refs += node.readerCount;\n      });\n\n      var _iterator4 = _createForOfIteratorHelper(this.passNodes),\n          _step4;\n\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var _pass2 = _step4.value;\n\n          if (!_pass2.refCount) {\n            continue;\n          }\n\n          var _iterator6 = _createForOfIteratorHelper(_pass2.reads),\n              _step6;\n\n          try {\n            for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n              var _resource2 = _step6.value;\n              var pResource = this.resourceNodes[_resource2.index].resource;\n              pResource.first = pResource.first ? pResource.first : _pass2;\n              pResource.last = _pass2;\n            }\n          } catch (err) {\n            _iterator6.e(err);\n          } finally {\n            _iterator6.f();\n          }\n\n          var _iterator7 = _createForOfIteratorHelper(_pass2.writes),\n              _step7;\n\n          try {\n            for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n              var _resource3 = _step7.value;\n              var _pResource = this.resourceNodes[_resource3.index].resource;\n              _pResource.first = _pResource.first ? _pResource.first : _pass2;\n              _pResource.last = _pass2;\n            }\n          } catch (err) {\n            _iterator7.e(err);\n          } finally {\n            _iterator7.f();\n          }\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n\n      for (var priority = 0; priority < 2; priority++) {\n        var _iterator5 = _createForOfIteratorHelper(this.resourceNodes),\n            _step5;\n\n        try {\n          for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n            var resoureNode = _step5.value;\n            var _resource = resoureNode.resource;\n\n            if (_resource.priority === priority && _resource.refs) {\n              var pFirst = _resource.first;\n              var pLast = _resource.last;\n\n              if (pFirst && pLast) {\n                pFirst.devirtualize.push(_resource);\n                pLast.destroy.push(_resource);\n              }\n            }\n          }\n        } catch (err) {\n          _iterator5.e(err);\n        } finally {\n          _iterator5.f();\n        }\n      }\n    }\n  }, {\n    key: \"executePassNodes\",\n    value: function () {\n      var _executePassNodes = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2(views) {\n        var _iterator8, _step8, _step8$value, index, node, _iterator9, _step9, resource, _iterator10, _step10, _resource4, _iterator11, _step11, _resource5, _iterator12, _step12, _resource6;\n\n        return _regenerator.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _iterator8 = _createForOfIteratorHelper(this.passNodes.entries());\n                _context2.prev = 1;\n\n                _iterator8.s();\n\n              case 3:\n                if ((_step8 = _iterator8.n()).done) {\n                  _context2.next = 18;\n                  break;\n                }\n\n                _step8$value = (0, _slicedToArray2.default)(_step8.value, 2), index = _step8$value[0], node = _step8$value[1];\n\n                if (!node.refCount) {\n                  _context2.next = 16;\n                  break;\n                }\n\n                _iterator9 = _createForOfIteratorHelper(node.devirtualize);\n\n                try {\n                  for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n                    resource = _step9.value;\n                    resource.preExecuteDevirtualize(this.engine);\n                  }\n                } catch (err) {\n                  _iterator9.e(err);\n                } finally {\n                  _iterator9.f();\n                }\n\n                _iterator10 = _createForOfIteratorHelper(node.destroy);\n\n                try {\n                  for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n                    _resource4 = _step10.value;\n\n                    _resource4.preExecuteDestroy(this.engine);\n                  }\n                } catch (err) {\n                  _iterator10.e(err);\n                } finally {\n                  _iterator10.f();\n                }\n\n                _context2.next = 12;\n                return this.frameGraphPasses[index].execute(this, this.frameGraphPasses[index], views);\n\n              case 12:\n                _iterator11 = _createForOfIteratorHelper(node.devirtualize);\n\n                try {\n                  for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n                    _resource5 = _step11.value;\n\n                    _resource5.postExecuteDevirtualize(this.engine);\n                  }\n                } catch (err) {\n                  _iterator11.e(err);\n                } finally {\n                  _iterator11.f();\n                }\n\n                _iterator12 = _createForOfIteratorHelper(node.destroy);\n\n                try {\n                  for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n                    _resource6 = _step12.value;\n\n                    _resource6.postExecuteDestroy(this.engine);\n                  }\n                } catch (err) {\n                  _iterator12.e(err);\n                } finally {\n                  _iterator12.f();\n                }\n\n              case 16:\n                _context2.next = 3;\n                break;\n\n              case 18:\n                _context2.next = 23;\n                break;\n\n              case 20:\n                _context2.prev = 20;\n                _context2.t0 = _context2[\"catch\"](1);\n\n                _iterator8.e(_context2.t0);\n\n              case 23:\n                _context2.prev = 23;\n\n                _iterator8.f();\n\n                return _context2.finish(23);\n\n              case 26:\n                this.reset();\n\n              case 27:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[1, 20, 23, 26]]);\n      }));\n\n      function executePassNodes(_x2) {\n        return _executePassNodes.apply(this, arguments);\n      }\n\n      return executePassNodes;\n    }()\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.passNodes = [];\n      this.resourceNodes = [];\n      this.frameGraphPasses = [];\n    }\n  }, {\n    key: \"getResourceNode\",\n    value: function getResourceNode(r) {\n      return this.resourceNodes[r.index];\n    }\n  }, {\n    key: \"createResourceNode\",\n    value: function createResourceNode(resourceEntry) {\n      var resourceNode = new _ResourceNode.ResourceNode();\n      resourceNode.resource = resourceEntry;\n      resourceNode.version = resourceEntry.version;\n      this.resourceNodes.push(resourceNode);\n      var fgh = new _FrameGraphHandle.FrameGraphHandle();\n      fgh.index = this.resourceNodes.length - 1;\n      return fgh;\n    }\n  }, {\n    key: \"createTexture\",\n    value: function createTexture(passNode, name, descriptor) {\n      var resource = new _ResourceEntry.ResourceEntry();\n      resource.name = name;\n      resource.descriptor = descriptor;\n      return this.createResourceNode(resource);\n    }\n  }, {\n    key: \"createRenderTarget\",\n    value: function createRenderTarget(passNode, name, descriptor) {\n      var resource = new _ResourceEntry.ResourceEntry();\n      resource.name = name;\n      resource.descriptor = descriptor;\n      return this.createResourceNode(resource);\n    }\n  }, {\n    key: \"present\",\n    value: function present(input) {\n      this.addPass('Present', function (fg, passNode) {\n        passNode.read(input);\n        passNode.hasSideEffect = true;\n      }, /*#__PURE__*/(0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3() {\n        return _regenerator.default.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      })));\n    }\n  }]);\n  return FrameGraphSystem;\n}(), _temp), (_descriptor = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"engine\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class2)) || _class);\nexports.FrameGraphSystem = FrameGraphSystem;\n//# sourceMappingURL=System.js.map","\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.IDENTIFIER = void 0;\nvar IDENTIFIER = {\n  // SceneGraph\n  HierarchyComponentManager: Symbol('HierarchyComponentManager'),\n  TransformComponentManager: Symbol('TransformComponentManager'),\n  NameComponentManager: Symbol('NameComponentManager'),\n  SceneGraphSystem: Symbol('SceneGraphSystem'),\n  // FrameGraph\n  FrameGraphSystem: Symbol('FrameGraphSystem'),\n  ResourcePool: Symbol('ResourcePool'),\n  ResourceHandleComponentManager: Symbol('ResourceHandleComponentManager'),\n  PassNodeComponentManager: Symbol('PassNodeComponentManager'),\n  // Renderer\n  RendererSystem: Symbol('RendererSystem'),\n  RenderPass: Symbol('RenderPass'),\n  RenderPassFactory: Symbol('Factory<IRenderPass>'),\n  Renderable: Symbol('Factory<IRenderPass>'),\n  // Mesh\n  MeshSystem: Symbol('MeshSystem'),\n  MeshComponentManager: Symbol('MeshComponentManager'),\n  CullableComponentManager: Symbol('CullableComponentManager'),\n  // Geometry\n  Geometry: Symbol('Geometry'),\n  GeometrySystem: Symbol('GeometrySystem'),\n  GeometryComponentManager: Symbol('GeometryComponentManager'),\n  // Material\n  Material: Symbol('Material'),\n  MaterialSystem: Symbol('MaterialSystem'),\n  MaterialComponentManager: Symbol('MaterialComponentManager'),\n  // RenderPath\n  ForwardRenderPath: Symbol('ForwardRenderPath'),\n  // ComputeSystem\n  ComputeSystem: Symbol('ComputeSystem'),\n  ComputeComponentManager: Symbol('ComputeComponentManager'),\n  ComputeStrategy: Symbol('ComputeStrategy'),\n  Systems: Symbol('Systems'),\n  World: Symbol('World'),\n  // RenderEngine\n  RenderEngine: Symbol('RenderEngine'),\n  WebGPUEngine: Symbol('WebGPUEngine'),\n  WebGLEngine: Symbol('WebGLEngine'),\n  // Shader Module\n  ShaderModuleService: Symbol('ShaderModuleService'),\n  ConfigService: Symbol('ConfigService'),\n  InteractorService: Symbol('InteractorService'),\n  IEventEmitter: Symbol('IEventEmitter'),\n  // Light\n  Light: Symbol('Light')\n};\nexports.IDENTIFIER = IDENTIFIER;\n//# sourceMappingURL=identifier.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FrameGraphHandle = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar FrameGraphHandle = function FrameGraphHandle() {\n  (0, _classCallCheck2.default)(this, FrameGraphHandle);\n  this.index = void 0;\n};\n\nexports.FrameGraphHandle = FrameGraphHandle;\n//# sourceMappingURL=FrameGraphHandle.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FrameGraphPass = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar FrameGraphPass = function FrameGraphPass() {\n  (0, _classCallCheck2.default)(this, FrameGraphPass);\n  this.name = void 0;\n  this.data = void 0;\n  this.execute = void 0;\n  this.tearDown = void 0;\n};\n\nexports.FrameGraphPass = FrameGraphPass;\n//# sourceMappingURL=FrameGraphPass.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PassNode = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar PassNode = /*#__PURE__*/function () {\n  function PassNode() {\n    (0, _classCallCheck2.default)(this, PassNode);\n    this.name = void 0;\n    this.refCount = 0;\n    this.hasSideEffect = false;\n    this.devirtualize = [];\n    this.destroy = [];\n    this.reads = [];\n    this.writes = [];\n  }\n\n  (0, _createClass2.default)(PassNode, [{\n    key: \"read\",\n    value: function read(handle) {\n      if (!this.reads.find(function (h) {\n        return h.index === handle.index;\n      })) {\n        this.reads.push(handle);\n      }\n\n      return handle;\n    }\n  }, {\n    key: \"sample\",\n    value: function sample(handle) {\n      this.read(handle); // TODO: 记录在 this.samples 中\n\n      return handle;\n    }\n  }, {\n    key: \"write\",\n    value: function write(fg, handle) {\n      var existed = this.writes.find(function (h) {\n        return h.index === handle.index;\n      });\n\n      if (existed) {\n        return handle;\n      }\n\n      var node = fg.getResourceNode(handle);\n      node.resource.version++;\n\n      if (node.resource.imported) {\n        this.hasSideEffect = true;\n      }\n\n      var r = fg.createResourceNode(node.resource);\n      var newNode = fg.getResourceNode(r);\n      newNode.writer = this;\n      this.writes.push(r);\n      return r;\n    }\n  }]);\n  return PassNode;\n}();\n\nexports.PassNode = PassNode;\n//# sourceMappingURL=PassNode.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ResourceEntry = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _VirtualResource2 = require(\"./VirtualResource\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar ResourceEntry = /*#__PURE__*/function (_VirtualResource) {\n  (0, _inherits2.default)(ResourceEntry, _VirtualResource);\n\n  var _super = _createSuper(ResourceEntry);\n\n  function ResourceEntry() {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, ResourceEntry);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.version = 0;\n    _this.refs = 0;\n    _this.name = void 0;\n    _this.imported = void 0;\n    _this.priority = void 0;\n    _this.discardStart = true;\n    _this.discardEnd = false;\n    _this.descriptor = void 0;\n    _this.resource = void 0;\n    return _this;\n  }\n\n  (0, _createClass2.default)(ResourceEntry, [{\n    key: \"preExecuteDestroy\",\n\n    /**\n     * Lifecycles in FG's execute\n     */\n    value: function preExecuteDestroy() {\n      this.discardEnd = true;\n    }\n  }, {\n    key: \"postExecuteDestroy\",\n    value: function postExecuteDestroy() {\n      if (!this.imported) {// TODO: 不需要每一帧结束后都销毁资源，可以增加临时资源标志\n        // this.resource.destroy();\n      }\n    }\n  }, {\n    key: \"postExecuteDevirtualize\",\n    value: function postExecuteDevirtualize() {\n      this.discardStart = false;\n    }\n  }, {\n    key: \"preExecuteDevirtualize\",\n    value: function preExecuteDevirtualize() {\n      if (!this.imported) {//\n      }\n    }\n  }]);\n  return ResourceEntry;\n}(_VirtualResource2.VirtualResource);\n\nexports.ResourceEntry = ResourceEntry;\n//# sourceMappingURL=ResourceEntry.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VirtualResource = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\n/**\n * ported from filament\n */\nvar VirtualResource = function VirtualResource() {\n  (0, _classCallCheck2.default)(this, VirtualResource);\n  this.first = void 0;\n  this.last = void 0;\n};\n\nexports.VirtualResource = VirtualResource;\n//# sourceMappingURL=VirtualResource.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ResourceNode = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar ResourceNode = function ResourceNode() {\n  (0, _classCallCheck2.default)(this, ResourceNode);\n  this.resource = void 0;\n  this.writer = void 0;\n  this.readerCount = 0;\n  this.version = void 0;\n};\n\nexports.ResourceNode = ResourceNode;\n//# sourceMappingURL=ResourceNode.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GeometryComponent = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _glMatrix = require(\"gl-matrix\");\n\nvar _ComponentManager = require(\"../../ComponentManager\");\n\nvar _isTypedarray = require(\"../../utils/is-typedarray\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar GeometryComponent = /*#__PURE__*/function (_Component) {\n  (0, _inherits2.default)(GeometryComponent, _Component);\n\n  var _super = _createSuper(GeometryComponent);\n\n  // instanced count\n  function GeometryComponent(data) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, GeometryComponent);\n    _this = _super.call(this, data);\n    _this.dirty = true;\n    _this.attributes = [];\n    _this.indices = void 0;\n    _this.indicesBuffer = void 0;\n    _this.vertexCount = 0;\n    _this.maxInstancedCount = void 0;\n    _this.aabb = void 0;\n    _this.entity = void 0;\n    Object.assign((0, _assertThisInitialized2.default)(_this), data);\n    return _this;\n  }\n  /**\n   * @see https://threejs.org/docs/#api/en/core/BufferAttribute\n   */\n\n\n  (0, _createClass2.default)(GeometryComponent, [{\n    key: \"setAttribute\",\n    value: function setAttribute(name, data, descriptor, bufferGetter) {\n      var existed = this.attributes.find(function (a) {\n        return a.name === name;\n      });\n\n      if (!existed) {\n        this.attributes.push(_objectSpread(_objectSpread({\n          dirty: true,\n          name: name,\n          data: data\n        }, descriptor), {}, {\n          bufferGetter: bufferGetter\n        }));\n      } else {\n        existed.data = data;\n        existed.dirty = true;\n      }\n\n      this.dirty = true;\n      return this;\n    }\n  }, {\n    key: \"setIndex\",\n    value: function setIndex(data) {\n      this.indices = new Uint32Array( // @ts-ignore\n      data.buffer ? data.buffer : data);\n      this.dirty = true;\n      return this;\n    }\n    /**\n     * when merge all the geometries into one, we need to transform every vertex's position\n     * and every face's normal\n     */\n\n  }, {\n    key: \"applyMatrix\",\n    value: function applyMatrix(matrix) {\n      var positionAttribute = this.attributes.find(function (_ref) {\n        var name = _ref.name;\n        return name === 'position';\n      });\n      var normalAttribute = this.attributes.find(function (_ref2) {\n        var name = _ref2.name;\n        return name === 'normal';\n      });\n\n      if (positionAttribute) {\n        positionAttribute.dirty = true; // @ts-ignore\n\n        if (positionAttribute.data && positionAttribute.data.length) {\n          // @ts-ignore\n          for (var i = 0; i < positionAttribute.data.length; i += 3) {\n            var position = _glMatrix.vec4.fromValues( // @ts-ignore\n            positionAttribute.data[i], // @ts-ignore\n            positionAttribute.data[i + 1], // @ts-ignore\n            positionAttribute.data[i + 2], 1);\n\n            _glMatrix.vec4.transformMat4(position, position, matrix);\n\n            if ((0, _isTypedarray.isTypedArray)(positionAttribute.data)) {\n              // @ts-ignore\n              positionAttribute.data.set([position[0], position[1], position[2]], i);\n            } else {\n              // @ts-ignore\n              positionAttribute.data[i] = position[0]; // @ts-ignore\n\n              positionAttribute.data[i + 1] = position[1]; // @ts-ignore\n\n              positionAttribute.data[i + 2] = position[2];\n            }\n          }\n        }\n      }\n\n      if (normalAttribute) {\n        var normalMatrix = _glMatrix.mat3.normalFromMat4(_glMatrix.mat3.create(), matrix); // @ts-ignore\n\n\n        if (normalAttribute.data && normalAttribute.data.length) {\n          // @ts-ignore\n          for (var _i = 0; _i < normalAttribute.data.length; _i += 3) {\n            var normal = _glMatrix.vec3.fromValues( // @ts-ignore\n            normalAttribute.data[_i], // @ts-ignore\n            normalAttribute.data[_i + 1], // @ts-ignore\n            normalAttribute.data[_i + 2]);\n\n            _glMatrix.vec3.transformMat3(normal, normal, normalMatrix);\n\n            _glMatrix.vec3.normalize(normal, normal);\n\n            if ((0, _isTypedarray.isTypedArray)(normalAttribute.data)) {\n              // @ts-ignore\n              normalAttribute.data.set([normal[0], normal[1], normal[2]], _i);\n            } else {\n              // @ts-ignore\n              normalAttribute.data[_i] = normal[0]; // @ts-ignore\n\n              normalAttribute.data[_i + 1] = normal[1]; // @ts-ignore\n\n              normalAttribute.data[_i + 2] = normal[2];\n            }\n          }\n        }\n      }\n    }\n  }]);\n  return GeometryComponent;\n}(_ComponentManager.Component);\n\nexports.GeometryComponent = GeometryComponent;\n//# sourceMappingURL=GeometryComponent.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isTypedArray = void 0;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n/** `Object#toString` result references. */\n\nvar argsTag = '[object Arguments]';\nvar arrayTag = '[object Array]';\nvar boolTag = '[object Boolean]';\nvar dateTag = '[object Date]';\nvar errorTag = '[object Error]';\nvar funcTag = '[object Function]';\nvar mapTag = '[object Map]';\nvar numberTag = '[object Number]';\nvar objectTag = '[object Object]';\nvar regexpTag = '[object RegExp]';\nvar setTag = '[object Set]';\nvar stringTag = '[object String]';\nvar weakMapTag = '[object WeakMap]';\nvar arrayBufferTag = '[object ArrayBuffer]';\nvar dataViewTag = '[object DataView]';\nvar float32Tag = '[object Float32Array]';\nvar float64Tag = '[object Float64Array]';\nvar int8Tag = '[object Int8Array]';\nvar int16Tag = '[object Int16Array]';\nvar int32Tag = '[object Int32Array]';\nvar uint8Tag = '[object Uint8Array]';\nvar uint8ClampedTag = '[object Uint8ClampedArray]';\nvar uint16Tag = '[object Uint16Array]';\nvar uint32Tag = '[object Uint32Array]';\n/** Used to identify `toStringTag` values of typed arrays. */\n\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\n\nfunction baseUnary(func) {\n  return function (value) {\n    return func(value);\n  };\n}\n/** Used for built-in method references. */\n\n\nvar objectProto = Object.prototype;\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\n\nvar objectToString = objectProto.toString;\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\n\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[objectToString.call(value)];\n}\n\nfunction isLength(value) {\n  return typeof value === 'number' && value > -1 && value % 1 === 0 && value <= MAX_SAFE_INTEGER;\n}\n\nfunction isObjectLike(value) {\n  return !!value && (0, _typeof2.default)(value) === 'object';\n}\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\n\n\nvar isTypedArray = baseIsTypedArray;\nexports.isTypedArray = isTypedArray;\n//# sourceMappingURL=is-typedarray.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GeometrySystem = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _initializerDefineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/initializerDefineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _applyDecoratedDescriptor2 = _interopRequireDefault(require(\"@babel/runtime/helpers/applyDecoratedDescriptor\"));\n\nvar _initializerWarningHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/initializerWarningHelper\"));\n\nvar _inversify = require(\"inversify\");\n\nvar _2 = require(\"../..\");\n\nvar _identifier = require(\"../../identifier\");\n\nvar _gl = require(\"../renderer/gl\");\n\nvar _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2, _temp;\n\nvar GeometrySystem = (_dec = (0, _inversify.injectable)(), _dec2 = (0, _inversify.inject)(_identifier.IDENTIFIER.GeometryComponentManager), _dec3 = (0, _inversify.inject)(_identifier.IDENTIFIER.RenderEngine), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function () {\n  function GeometrySystem() {\n    (0, _classCallCheck2.default)(this, GeometrySystem);\n    (0, _initializerDefineProperty2.default)(this, \"geometry\", _descriptor, this);\n    (0, _initializerDefineProperty2.default)(this, \"engine\", _descriptor2, this);\n  }\n\n  (0, _createClass2.default)(GeometrySystem, [{\n    key: \"execute\",\n    value: function () {\n      var _execute = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n        var _this = this;\n\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.geometry.forEach(function (entity, component) {\n                  // build buffers for each geometry\n                  if (component.dirty) {\n                    component.attributes.forEach(function (attribute) {\n                      if (attribute.dirty && attribute.data) {\n                        if (!attribute.buffer) {\n                          attribute.buffer = _this.engine.createBuffer({\n                            data: attribute.data,\n                            type: _gl.gl.FLOAT\n                          });\n                        } else {\n                          var _attribute$buffer;\n\n                          (_attribute$buffer = attribute.buffer) === null || _attribute$buffer === void 0 ? void 0 : _attribute$buffer.subData({\n                            data: attribute.data,\n                            // TODO: support offset in subdata\n                            offset: 0\n                          });\n                        }\n\n                        attribute.dirty = false;\n                      }\n                    }); // create index buffer if needed\n\n                    if (component.indices) {\n                      if (!component.indicesBuffer) {\n                        component.indicesBuffer = _this.engine.createElements({\n                          data: component.indices,\n                          count: component.indices.length,\n                          type: _gl.gl.UNSIGNED_INT,\n                          usage: _gl.gl.STATIC_DRAW\n                        });\n                      } else {\n                        component.indicesBuffer.subData({\n                          data: component.indices,\n                          offset: 0\n                        });\n                      }\n                    }\n\n                    component.dirty = false;\n                  }\n                });\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function execute() {\n        return _execute.apply(this, arguments);\n      }\n\n      return execute;\n    }()\n  }, {\n    key: \"tearDown\",\n    value: function tearDown() {\n      this.geometry.forEach(function (_, geometry) {\n        if (geometry.indicesBuffer) {\n          geometry.indicesBuffer.destroy();\n        }\n\n        geometry.attributes.forEach(function (attribute) {\n          if (attribute.buffer) {\n            attribute.buffer.destroy();\n          }\n        });\n      });\n      this.geometry.clear();\n    }\n    /**\n     * @see https://threejs.org/docs/#api/en/core/BufferGeometry\n     */\n\n  }, {\n    key: \"createBufferGeometry\",\n    value: function createBufferGeometry() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        vertexCount: 3\n      },\n          vertexCount = _ref.vertexCount;\n\n      var entity = (0, _2.createEntity)();\n      return this.geometry.create(entity, {\n        vertexCount: vertexCount\n      });\n    }\n    /**\n     * @see https://threejs.org/docs/#api/en/core/InstancedBufferGeometry\n     */\n\n  }, {\n    key: \"createInstancedBufferGeometry\",\n    value: function createInstancedBufferGeometry(_ref2) {\n      var maxInstancedCount = _ref2.maxInstancedCount,\n          vertexCount = _ref2.vertexCount;\n      var entity = (0, _2.createEntity)();\n      return this.geometry.create(entity, {\n        maxInstancedCount: maxInstancedCount,\n        vertexCount: vertexCount\n      });\n    }\n  }]);\n  return GeometrySystem;\n}(), _temp), (_descriptor = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"geometry\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"engine\", [_dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class2)) || _class);\nexports.GeometrySystem = GeometrySystem;\n//# sourceMappingURL=System.js.map","\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.gl = void 0;\n\n/**\n * WebGL 枚举值\n * @see http://www.khronos.org/registry/webgl/specs/latest/1.0/#5.14\n * 使用 babel 插件对常量进行内联，以减少最终打包产物大小\n * @see https://github.com/uber/deck.gl/blob/7.1-release/dev-docs/roadmaps/dist-size-roadmap.md#inline-gl-constants\n * 为了支持 WebGPU，新增 TextureUsage\n * @see https://gpuweb.github.io/gpuweb/#gputextureusage\n */\nvar gl;\nexports.gl = gl;\n\n(function (gl) {\n  gl[gl[\"DEPTH_BUFFER_BIT\"] = 256] = \"DEPTH_BUFFER_BIT\";\n  gl[gl[\"STENCIL_BUFFER_BIT\"] = 1024] = \"STENCIL_BUFFER_BIT\";\n  gl[gl[\"COLOR_BUFFER_BIT\"] = 16384] = \"COLOR_BUFFER_BIT\";\n  gl[gl[\"POINTS\"] = 0] = \"POINTS\";\n  gl[gl[\"LINES\"] = 1] = \"LINES\";\n  gl[gl[\"LINE_LOOP\"] = 2] = \"LINE_LOOP\";\n  gl[gl[\"LINE_STRIP\"] = 3] = \"LINE_STRIP\";\n  gl[gl[\"TRIANGLES\"] = 4] = \"TRIANGLES\";\n  gl[gl[\"TRIANGLE_STRIP\"] = 5] = \"TRIANGLE_STRIP\";\n  gl[gl[\"TRIANGLE_FAN\"] = 6] = \"TRIANGLE_FAN\";\n  gl[gl[\"ZERO\"] = 0] = \"ZERO\";\n  gl[gl[\"ONE\"] = 1] = \"ONE\";\n  gl[gl[\"SRC_COLOR\"] = 768] = \"SRC_COLOR\";\n  gl[gl[\"ONE_MINUS_SRC_COLOR\"] = 769] = \"ONE_MINUS_SRC_COLOR\";\n  gl[gl[\"SRC_ALPHA\"] = 770] = \"SRC_ALPHA\";\n  gl[gl[\"ONE_MINUS_SRC_ALPHA\"] = 771] = \"ONE_MINUS_SRC_ALPHA\";\n  gl[gl[\"DST_ALPHA\"] = 772] = \"DST_ALPHA\";\n  gl[gl[\"ONE_MINUS_DST_ALPHA\"] = 773] = \"ONE_MINUS_DST_ALPHA\";\n  gl[gl[\"DST_COLOR\"] = 774] = \"DST_COLOR\";\n  gl[gl[\"ONE_MINUS_DST_COLOR\"] = 775] = \"ONE_MINUS_DST_COLOR\";\n  gl[gl[\"SRC_ALPHA_SATURATE\"] = 776] = \"SRC_ALPHA_SATURATE\";\n  gl[gl[\"FUNC_ADD\"] = 32774] = \"FUNC_ADD\";\n  gl[gl[\"BLEND_EQUATION\"] = 32777] = \"BLEND_EQUATION\";\n  gl[gl[\"BLEND_EQUATION_RGB\"] = 32777] = \"BLEND_EQUATION_RGB\";\n  gl[gl[\"BLEND_EQUATION_ALPHA\"] = 34877] = \"BLEND_EQUATION_ALPHA\";\n  gl[gl[\"FUNC_SUBTRACT\"] = 32778] = \"FUNC_SUBTRACT\";\n  gl[gl[\"FUNC_REVERSE_SUBTRACT\"] = 32779] = \"FUNC_REVERSE_SUBTRACT\";\n  gl[gl[\"MAX_EXT\"] = 32776] = \"MAX_EXT\";\n  gl[gl[\"MIN_EXT\"] = 32775] = \"MIN_EXT\";\n  gl[gl[\"BLEND_DST_RGB\"] = 32968] = \"BLEND_DST_RGB\";\n  gl[gl[\"BLEND_SRC_RGB\"] = 32969] = \"BLEND_SRC_RGB\";\n  gl[gl[\"BLEND_DST_ALPHA\"] = 32970] = \"BLEND_DST_ALPHA\";\n  gl[gl[\"BLEND_SRC_ALPHA\"] = 32971] = \"BLEND_SRC_ALPHA\";\n  gl[gl[\"CONSTANT_COLOR\"] = 32769] = \"CONSTANT_COLOR\";\n  gl[gl[\"ONE_MINUS_CONSTANT_COLOR\"] = 32770] = \"ONE_MINUS_CONSTANT_COLOR\";\n  gl[gl[\"CONSTANT_ALPHA\"] = 32771] = \"CONSTANT_ALPHA\";\n  gl[gl[\"ONE_MINUS_CONSTANT_ALPHA\"] = 32772] = \"ONE_MINUS_CONSTANT_ALPHA\";\n  gl[gl[\"BLEND_COLOR\"] = 32773] = \"BLEND_COLOR\";\n  gl[gl[\"ARRAY_BUFFER\"] = 34962] = \"ARRAY_BUFFER\";\n  gl[gl[\"ELEMENT_ARRAY_BUFFER\"] = 34963] = \"ELEMENT_ARRAY_BUFFER\";\n  gl[gl[\"ARRAY_BUFFER_BINDING\"] = 34964] = \"ARRAY_BUFFER_BINDING\";\n  gl[gl[\"ELEMENT_ARRAY_BUFFER_BINDING\"] = 34965] = \"ELEMENT_ARRAY_BUFFER_BINDING\";\n  gl[gl[\"STREAM_DRAW\"] = 35040] = \"STREAM_DRAW\";\n  gl[gl[\"STATIC_DRAW\"] = 35044] = \"STATIC_DRAW\";\n  gl[gl[\"DYNAMIC_DRAW\"] = 35048] = \"DYNAMIC_DRAW\";\n  gl[gl[\"BUFFER_SIZE\"] = 34660] = \"BUFFER_SIZE\";\n  gl[gl[\"BUFFER_USAGE\"] = 34661] = \"BUFFER_USAGE\";\n  gl[gl[\"CURRENT_VERTEX_ATTRIB\"] = 34342] = \"CURRENT_VERTEX_ATTRIB\";\n  gl[gl[\"FRONT\"] = 1028] = \"FRONT\";\n  gl[gl[\"BACK\"] = 1029] = \"BACK\";\n  gl[gl[\"FRONT_AND_BACK\"] = 1032] = \"FRONT_AND_BACK\";\n  gl[gl[\"CULL_FACE\"] = 2884] = \"CULL_FACE\";\n  gl[gl[\"BLEND\"] = 3042] = \"BLEND\";\n  gl[gl[\"DITHER\"] = 3024] = \"DITHER\";\n  gl[gl[\"STENCIL_TEST\"] = 2960] = \"STENCIL_TEST\";\n  gl[gl[\"DEPTH_TEST\"] = 2929] = \"DEPTH_TEST\";\n  gl[gl[\"SCISSOR_TEST\"] = 3089] = \"SCISSOR_TEST\";\n  gl[gl[\"POLYGON_OFFSET_FILL\"] = 32823] = \"POLYGON_OFFSET_FILL\";\n  gl[gl[\"SAMPLE_ALPHA_TO_COVERAGE\"] = 32926] = \"SAMPLE_ALPHA_TO_COVERAGE\";\n  gl[gl[\"SAMPLE_COVERAGE\"] = 32928] = \"SAMPLE_COVERAGE\";\n  gl[gl[\"NO_ERROR\"] = 0] = \"NO_ERROR\";\n  gl[gl[\"INVALID_ENUM\"] = 1280] = \"INVALID_ENUM\";\n  gl[gl[\"INVALID_VALUE\"] = 1281] = \"INVALID_VALUE\";\n  gl[gl[\"INVALID_OPERATION\"] = 1282] = \"INVALID_OPERATION\";\n  gl[gl[\"OUT_OF_MEMORY\"] = 1285] = \"OUT_OF_MEMORY\";\n  gl[gl[\"CW\"] = 2304] = \"CW\";\n  gl[gl[\"CCW\"] = 2305] = \"CCW\";\n  gl[gl[\"LINE_WIDTH\"] = 2849] = \"LINE_WIDTH\";\n  gl[gl[\"ALIASED_POINT_SIZE_RANGE\"] = 33901] = \"ALIASED_POINT_SIZE_RANGE\";\n  gl[gl[\"ALIASED_LINE_WIDTH_RANGE\"] = 33902] = \"ALIASED_LINE_WIDTH_RANGE\";\n  gl[gl[\"CULL_FACE_MODE\"] = 2885] = \"CULL_FACE_MODE\";\n  gl[gl[\"FRONT_FACE\"] = 2886] = \"FRONT_FACE\";\n  gl[gl[\"DEPTH_RANGE\"] = 2928] = \"DEPTH_RANGE\";\n  gl[gl[\"DEPTH_WRITEMASK\"] = 2930] = \"DEPTH_WRITEMASK\";\n  gl[gl[\"DEPTH_CLEAR_VALUE\"] = 2931] = \"DEPTH_CLEAR_VALUE\";\n  gl[gl[\"DEPTH_FUNC\"] = 2932] = \"DEPTH_FUNC\";\n  gl[gl[\"STENCIL_CLEAR_VALUE\"] = 2961] = \"STENCIL_CLEAR_VALUE\";\n  gl[gl[\"STENCIL_FUNC\"] = 2962] = \"STENCIL_FUNC\";\n  gl[gl[\"STENCIL_FAIL\"] = 2964] = \"STENCIL_FAIL\";\n  gl[gl[\"STENCIL_PASS_DEPTH_FAIL\"] = 2965] = \"STENCIL_PASS_DEPTH_FAIL\";\n  gl[gl[\"STENCIL_PASS_DEPTH_PASS\"] = 2966] = \"STENCIL_PASS_DEPTH_PASS\";\n  gl[gl[\"STENCIL_REF\"] = 2967] = \"STENCIL_REF\";\n  gl[gl[\"STENCIL_VALUE_MASK\"] = 2963] = \"STENCIL_VALUE_MASK\";\n  gl[gl[\"STENCIL_WRITEMASK\"] = 2968] = \"STENCIL_WRITEMASK\";\n  gl[gl[\"STENCIL_BACK_FUNC\"] = 34816] = \"STENCIL_BACK_FUNC\";\n  gl[gl[\"STENCIL_BACK_FAIL\"] = 34817] = \"STENCIL_BACK_FAIL\";\n  gl[gl[\"STENCIL_BACK_PASS_DEPTH_FAIL\"] = 34818] = \"STENCIL_BACK_PASS_DEPTH_FAIL\";\n  gl[gl[\"STENCIL_BACK_PASS_DEPTH_PASS\"] = 34819] = \"STENCIL_BACK_PASS_DEPTH_PASS\";\n  gl[gl[\"STENCIL_BACK_REF\"] = 36003] = \"STENCIL_BACK_REF\";\n  gl[gl[\"STENCIL_BACK_VALUE_MASK\"] = 36004] = \"STENCIL_BACK_VALUE_MASK\";\n  gl[gl[\"STENCIL_BACK_WRITEMASK\"] = 36005] = \"STENCIL_BACK_WRITEMASK\";\n  gl[gl[\"VIEWPORT\"] = 2978] = \"VIEWPORT\";\n  gl[gl[\"SCISSOR_BOX\"] = 3088] = \"SCISSOR_BOX\";\n  gl[gl[\"COLOR_CLEAR_VALUE\"] = 3106] = \"COLOR_CLEAR_VALUE\";\n  gl[gl[\"COLOR_WRITEMASK\"] = 3107] = \"COLOR_WRITEMASK\";\n  gl[gl[\"UNPACK_ALIGNMENT\"] = 3317] = \"UNPACK_ALIGNMENT\";\n  gl[gl[\"PACK_ALIGNMENT\"] = 3333] = \"PACK_ALIGNMENT\";\n  gl[gl[\"MAX_TEXTURE_SIZE\"] = 3379] = \"MAX_TEXTURE_SIZE\";\n  gl[gl[\"MAX_VIEWPORT_DIMS\"] = 3386] = \"MAX_VIEWPORT_DIMS\";\n  gl[gl[\"SUBPIXEL_BITS\"] = 3408] = \"SUBPIXEL_BITS\";\n  gl[gl[\"RED_BITS\"] = 3410] = \"RED_BITS\";\n  gl[gl[\"GREEN_BITS\"] = 3411] = \"GREEN_BITS\";\n  gl[gl[\"BLUE_BITS\"] = 3412] = \"BLUE_BITS\";\n  gl[gl[\"ALPHA_BITS\"] = 3413] = \"ALPHA_BITS\";\n  gl[gl[\"DEPTH_BITS\"] = 3414] = \"DEPTH_BITS\";\n  gl[gl[\"STENCIL_BITS\"] = 3415] = \"STENCIL_BITS\";\n  gl[gl[\"POLYGON_OFFSET_UNITS\"] = 10752] = \"POLYGON_OFFSET_UNITS\";\n  gl[gl[\"POLYGON_OFFSET_FACTOR\"] = 32824] = \"POLYGON_OFFSET_FACTOR\";\n  gl[gl[\"TEXTURE_BINDING_2D\"] = 32873] = \"TEXTURE_BINDING_2D\";\n  gl[gl[\"SAMPLE_BUFFERS\"] = 32936] = \"SAMPLE_BUFFERS\";\n  gl[gl[\"SAMPLES\"] = 32937] = \"SAMPLES\";\n  gl[gl[\"SAMPLE_COVERAGE_VALUE\"] = 32938] = \"SAMPLE_COVERAGE_VALUE\";\n  gl[gl[\"SAMPLE_COVERAGE_INVERT\"] = 32939] = \"SAMPLE_COVERAGE_INVERT\";\n  gl[gl[\"COMPRESSED_TEXTURE_FORMATS\"] = 34467] = \"COMPRESSED_TEXTURE_FORMATS\";\n  gl[gl[\"DONT_CARE\"] = 4352] = \"DONT_CARE\";\n  gl[gl[\"FASTEST\"] = 4353] = \"FASTEST\";\n  gl[gl[\"NICEST\"] = 4354] = \"NICEST\";\n  gl[gl[\"GENERATE_MIPMAP_HINT\"] = 33170] = \"GENERATE_MIPMAP_HINT\";\n  gl[gl[\"BYTE\"] = 5120] = \"BYTE\";\n  gl[gl[\"UNSIGNED_BYTE\"] = 5121] = \"UNSIGNED_BYTE\";\n  gl[gl[\"SHORT\"] = 5122] = \"SHORT\";\n  gl[gl[\"UNSIGNED_SHORT\"] = 5123] = \"UNSIGNED_SHORT\";\n  gl[gl[\"INT\"] = 5124] = \"INT\";\n  gl[gl[\"UNSIGNED_INT\"] = 5125] = \"UNSIGNED_INT\";\n  gl[gl[\"FLOAT\"] = 5126] = \"FLOAT\";\n  gl[gl[\"DEPTH_COMPONENT\"] = 6402] = \"DEPTH_COMPONENT\";\n  gl[gl[\"ALPHA\"] = 6406] = \"ALPHA\";\n  gl[gl[\"RGB\"] = 6407] = \"RGB\";\n  gl[gl[\"RGBA\"] = 6408] = \"RGBA\";\n  gl[gl[\"LUMINANCE\"] = 6409] = \"LUMINANCE\";\n  gl[gl[\"LUMINANCE_ALPHA\"] = 6410] = \"LUMINANCE_ALPHA\";\n  gl[gl[\"UNSIGNED_SHORT_4_4_4_4\"] = 32819] = \"UNSIGNED_SHORT_4_4_4_4\";\n  gl[gl[\"UNSIGNED_SHORT_5_5_5_1\"] = 32820] = \"UNSIGNED_SHORT_5_5_5_1\";\n  gl[gl[\"UNSIGNED_SHORT_5_6_5\"] = 33635] = \"UNSIGNED_SHORT_5_6_5\";\n  gl[gl[\"FRAGMENT_SHADER\"] = 35632] = \"FRAGMENT_SHADER\";\n  gl[gl[\"VERTEX_SHADER\"] = 35633] = \"VERTEX_SHADER\";\n  gl[gl[\"MAX_VERTEX_ATTRIBS\"] = 34921] = \"MAX_VERTEX_ATTRIBS\";\n  gl[gl[\"MAX_VERTEX_UNIFORM_VECTORS\"] = 36347] = \"MAX_VERTEX_UNIFORM_VECTORS\";\n  gl[gl[\"MAX_VARYING_VECTORS\"] = 36348] = \"MAX_VARYING_VECTORS\";\n  gl[gl[\"MAX_COMBINED_TEXTURE_IMAGE_UNITS\"] = 35661] = \"MAX_COMBINED_TEXTURE_IMAGE_UNITS\";\n  gl[gl[\"MAX_VERTEX_TEXTURE_IMAGE_UNITS\"] = 35660] = \"MAX_VERTEX_TEXTURE_IMAGE_UNITS\";\n  gl[gl[\"MAX_TEXTURE_IMAGE_UNITS\"] = 34930] = \"MAX_TEXTURE_IMAGE_UNITS\";\n  gl[gl[\"MAX_FRAGMENT_UNIFORM_VECTORS\"] = 36349] = \"MAX_FRAGMENT_UNIFORM_VECTORS\";\n  gl[gl[\"SHADER_TYPE\"] = 35663] = \"SHADER_TYPE\";\n  gl[gl[\"DELETE_STATUS\"] = 35712] = \"DELETE_STATUS\";\n  gl[gl[\"LINK_STATUS\"] = 35714] = \"LINK_STATUS\";\n  gl[gl[\"VALIDATE_STATUS\"] = 35715] = \"VALIDATE_STATUS\";\n  gl[gl[\"ATTACHED_SHADERS\"] = 35717] = \"ATTACHED_SHADERS\";\n  gl[gl[\"ACTIVE_UNIFORMS\"] = 35718] = \"ACTIVE_UNIFORMS\";\n  gl[gl[\"ACTIVE_ATTRIBUTES\"] = 35721] = \"ACTIVE_ATTRIBUTES\";\n  gl[gl[\"SHADING_LANGUAGE_VERSION\"] = 35724] = \"SHADING_LANGUAGE_VERSION\";\n  gl[gl[\"CURRENT_PROGRAM\"] = 35725] = \"CURRENT_PROGRAM\";\n  gl[gl[\"NEVER\"] = 512] = \"NEVER\";\n  gl[gl[\"LESS\"] = 513] = \"LESS\";\n  gl[gl[\"EQUAL\"] = 514] = \"EQUAL\";\n  gl[gl[\"LEQUAL\"] = 515] = \"LEQUAL\";\n  gl[gl[\"GREATER\"] = 516] = \"GREATER\";\n  gl[gl[\"NOTEQUAL\"] = 517] = \"NOTEQUAL\";\n  gl[gl[\"GEQUAL\"] = 518] = \"GEQUAL\";\n  gl[gl[\"ALWAYS\"] = 519] = \"ALWAYS\";\n  gl[gl[\"KEEP\"] = 7680] = \"KEEP\";\n  gl[gl[\"REPLACE\"] = 7681] = \"REPLACE\";\n  gl[gl[\"INCR\"] = 7682] = \"INCR\";\n  gl[gl[\"DECR\"] = 7683] = \"DECR\";\n  gl[gl[\"INVERT\"] = 5386] = \"INVERT\";\n  gl[gl[\"INCR_WRAP\"] = 34055] = \"INCR_WRAP\";\n  gl[gl[\"DECR_WRAP\"] = 34056] = \"DECR_WRAP\";\n  gl[gl[\"VENDOR\"] = 7936] = \"VENDOR\";\n  gl[gl[\"RENDERER\"] = 7937] = \"RENDERER\";\n  gl[gl[\"VERSION\"] = 7938] = \"VERSION\";\n  gl[gl[\"NEAREST\"] = 9728] = \"NEAREST\";\n  gl[gl[\"LINEAR\"] = 9729] = \"LINEAR\";\n  gl[gl[\"NEAREST_MIPMAP_NEAREST\"] = 9984] = \"NEAREST_MIPMAP_NEAREST\";\n  gl[gl[\"LINEAR_MIPMAP_NEAREST\"] = 9985] = \"LINEAR_MIPMAP_NEAREST\";\n  gl[gl[\"NEAREST_MIPMAP_LINEAR\"] = 9986] = \"NEAREST_MIPMAP_LINEAR\";\n  gl[gl[\"LINEAR_MIPMAP_LINEAR\"] = 9987] = \"LINEAR_MIPMAP_LINEAR\";\n  gl[gl[\"TEXTURE_MAG_FILTER\"] = 10240] = \"TEXTURE_MAG_FILTER\";\n  gl[gl[\"TEXTURE_MIN_FILTER\"] = 10241] = \"TEXTURE_MIN_FILTER\";\n  gl[gl[\"TEXTURE_WRAP_S\"] = 10242] = \"TEXTURE_WRAP_S\";\n  gl[gl[\"TEXTURE_WRAP_T\"] = 10243] = \"TEXTURE_WRAP_T\";\n  gl[gl[\"TEXTURE_2D\"] = 3553] = \"TEXTURE_2D\";\n  gl[gl[\"TEXTURE\"] = 5890] = \"TEXTURE\";\n  gl[gl[\"TEXTURE_CUBE_MAP\"] = 34067] = \"TEXTURE_CUBE_MAP\";\n  gl[gl[\"TEXTURE_BINDING_CUBE_MAP\"] = 34068] = \"TEXTURE_BINDING_CUBE_MAP\";\n  gl[gl[\"TEXTURE_CUBE_MAP_POSITIVE_X\"] = 34069] = \"TEXTURE_CUBE_MAP_POSITIVE_X\";\n  gl[gl[\"TEXTURE_CUBE_MAP_NEGATIVE_X\"] = 34070] = \"TEXTURE_CUBE_MAP_NEGATIVE_X\";\n  gl[gl[\"TEXTURE_CUBE_MAP_POSITIVE_Y\"] = 34071] = \"TEXTURE_CUBE_MAP_POSITIVE_Y\";\n  gl[gl[\"TEXTURE_CUBE_MAP_NEGATIVE_Y\"] = 34072] = \"TEXTURE_CUBE_MAP_NEGATIVE_Y\";\n  gl[gl[\"TEXTURE_CUBE_MAP_POSITIVE_Z\"] = 34073] = \"TEXTURE_CUBE_MAP_POSITIVE_Z\";\n  gl[gl[\"TEXTURE_CUBE_MAP_NEGATIVE_Z\"] = 34074] = \"TEXTURE_CUBE_MAP_NEGATIVE_Z\";\n  gl[gl[\"MAX_CUBE_MAP_TEXTURE_SIZE\"] = 34076] = \"MAX_CUBE_MAP_TEXTURE_SIZE\";\n  gl[gl[\"TEXTURE0\"] = 33984] = \"TEXTURE0\";\n  gl[gl[\"TEXTURE1\"] = 33985] = \"TEXTURE1\";\n  gl[gl[\"TEXTURE2\"] = 33986] = \"TEXTURE2\";\n  gl[gl[\"TEXTURE3\"] = 33987] = \"TEXTURE3\";\n  gl[gl[\"TEXTURE4\"] = 33988] = \"TEXTURE4\";\n  gl[gl[\"TEXTURE5\"] = 33989] = \"TEXTURE5\";\n  gl[gl[\"TEXTURE6\"] = 33990] = \"TEXTURE6\";\n  gl[gl[\"TEXTURE7\"] = 33991] = \"TEXTURE7\";\n  gl[gl[\"TEXTURE8\"] = 33992] = \"TEXTURE8\";\n  gl[gl[\"TEXTURE9\"] = 33993] = \"TEXTURE9\";\n  gl[gl[\"TEXTURE10\"] = 33994] = \"TEXTURE10\";\n  gl[gl[\"TEXTURE11\"] = 33995] = \"TEXTURE11\";\n  gl[gl[\"TEXTURE12\"] = 33996] = \"TEXTURE12\";\n  gl[gl[\"TEXTURE13\"] = 33997] = \"TEXTURE13\";\n  gl[gl[\"TEXTURE14\"] = 33998] = \"TEXTURE14\";\n  gl[gl[\"TEXTURE15\"] = 33999] = \"TEXTURE15\";\n  gl[gl[\"TEXTURE16\"] = 34000] = \"TEXTURE16\";\n  gl[gl[\"TEXTURE17\"] = 34001] = \"TEXTURE17\";\n  gl[gl[\"TEXTURE18\"] = 34002] = \"TEXTURE18\";\n  gl[gl[\"TEXTURE19\"] = 34003] = \"TEXTURE19\";\n  gl[gl[\"TEXTURE20\"] = 34004] = \"TEXTURE20\";\n  gl[gl[\"TEXTURE21\"] = 34005] = \"TEXTURE21\";\n  gl[gl[\"TEXTURE22\"] = 34006] = \"TEXTURE22\";\n  gl[gl[\"TEXTURE23\"] = 34007] = \"TEXTURE23\";\n  gl[gl[\"TEXTURE24\"] = 34008] = \"TEXTURE24\";\n  gl[gl[\"TEXTURE25\"] = 34009] = \"TEXTURE25\";\n  gl[gl[\"TEXTURE26\"] = 34010] = \"TEXTURE26\";\n  gl[gl[\"TEXTURE27\"] = 34011] = \"TEXTURE27\";\n  gl[gl[\"TEXTURE28\"] = 34012] = \"TEXTURE28\";\n  gl[gl[\"TEXTURE29\"] = 34013] = \"TEXTURE29\";\n  gl[gl[\"TEXTURE30\"] = 34014] = \"TEXTURE30\";\n  gl[gl[\"TEXTURE31\"] = 34015] = \"TEXTURE31\";\n  gl[gl[\"ACTIVE_TEXTURE\"] = 34016] = \"ACTIVE_TEXTURE\";\n  gl[gl[\"REPEAT\"] = 10497] = \"REPEAT\";\n  gl[gl[\"CLAMP_TO_EDGE\"] = 33071] = \"CLAMP_TO_EDGE\";\n  gl[gl[\"MIRRORED_REPEAT\"] = 33648] = \"MIRRORED_REPEAT\";\n  gl[gl[\"FLOAT_VEC2\"] = 35664] = \"FLOAT_VEC2\";\n  gl[gl[\"FLOAT_VEC3\"] = 35665] = \"FLOAT_VEC3\";\n  gl[gl[\"FLOAT_VEC4\"] = 35666] = \"FLOAT_VEC4\";\n  gl[gl[\"INT_VEC2\"] = 35667] = \"INT_VEC2\";\n  gl[gl[\"INT_VEC3\"] = 35668] = \"INT_VEC3\";\n  gl[gl[\"INT_VEC4\"] = 35669] = \"INT_VEC4\";\n  gl[gl[\"BOOL\"] = 35670] = \"BOOL\";\n  gl[gl[\"BOOL_VEC2\"] = 35671] = \"BOOL_VEC2\";\n  gl[gl[\"BOOL_VEC3\"] = 35672] = \"BOOL_VEC3\";\n  gl[gl[\"BOOL_VEC4\"] = 35673] = \"BOOL_VEC4\";\n  gl[gl[\"FLOAT_MAT2\"] = 35674] = \"FLOAT_MAT2\";\n  gl[gl[\"FLOAT_MAT3\"] = 35675] = \"FLOAT_MAT3\";\n  gl[gl[\"FLOAT_MAT4\"] = 35676] = \"FLOAT_MAT4\";\n  gl[gl[\"SAMPLER_2D\"] = 35678] = \"SAMPLER_2D\";\n  gl[gl[\"SAMPLER_CUBE\"] = 35680] = \"SAMPLER_CUBE\";\n  gl[gl[\"VERTEX_ATTRIB_ARRAY_ENABLED\"] = 34338] = \"VERTEX_ATTRIB_ARRAY_ENABLED\";\n  gl[gl[\"VERTEX_ATTRIB_ARRAY_SIZE\"] = 34339] = \"VERTEX_ATTRIB_ARRAY_SIZE\";\n  gl[gl[\"VERTEX_ATTRIB_ARRAY_STRIDE\"] = 34340] = \"VERTEX_ATTRIB_ARRAY_STRIDE\";\n  gl[gl[\"VERTEX_ATTRIB_ARRAY_TYPE\"] = 34341] = \"VERTEX_ATTRIB_ARRAY_TYPE\";\n  gl[gl[\"VERTEX_ATTRIB_ARRAY_NORMALIZED\"] = 34922] = \"VERTEX_ATTRIB_ARRAY_NORMALIZED\";\n  gl[gl[\"VERTEX_ATTRIB_ARRAY_POINTER\"] = 34373] = \"VERTEX_ATTRIB_ARRAY_POINTER\";\n  gl[gl[\"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING\"] = 34975] = \"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING\";\n  gl[gl[\"COMPILE_STATUS\"] = 35713] = \"COMPILE_STATUS\";\n  gl[gl[\"LOW_FLOAT\"] = 36336] = \"LOW_FLOAT\";\n  gl[gl[\"MEDIUM_FLOAT\"] = 36337] = \"MEDIUM_FLOAT\";\n  gl[gl[\"HIGH_FLOAT\"] = 36338] = \"HIGH_FLOAT\";\n  gl[gl[\"LOW_INT\"] = 36339] = \"LOW_INT\";\n  gl[gl[\"MEDIUM_INT\"] = 36340] = \"MEDIUM_INT\";\n  gl[gl[\"HIGH_INT\"] = 36341] = \"HIGH_INT\";\n  gl[gl[\"FRAMEBUFFER\"] = 36160] = \"FRAMEBUFFER\";\n  gl[gl[\"RENDERBUFFER\"] = 36161] = \"RENDERBUFFER\";\n  gl[gl[\"RGBA4\"] = 32854] = \"RGBA4\";\n  gl[gl[\"RGB5_A1\"] = 32855] = \"RGB5_A1\";\n  gl[gl[\"RGB565\"] = 36194] = \"RGB565\";\n  gl[gl[\"DEPTH_COMPONENT16\"] = 33189] = \"DEPTH_COMPONENT16\";\n  gl[gl[\"STENCIL_INDEX\"] = 6401] = \"STENCIL_INDEX\";\n  gl[gl[\"STENCIL_INDEX8\"] = 36168] = \"STENCIL_INDEX8\";\n  gl[gl[\"DEPTH_STENCIL\"] = 34041] = \"DEPTH_STENCIL\";\n  gl[gl[\"RENDERBUFFER_WIDTH\"] = 36162] = \"RENDERBUFFER_WIDTH\";\n  gl[gl[\"RENDERBUFFER_HEIGHT\"] = 36163] = \"RENDERBUFFER_HEIGHT\";\n  gl[gl[\"RENDERBUFFER_INTERNAL_FORMAT\"] = 36164] = \"RENDERBUFFER_INTERNAL_FORMAT\";\n  gl[gl[\"RENDERBUFFER_RED_SIZE\"] = 36176] = \"RENDERBUFFER_RED_SIZE\";\n  gl[gl[\"RENDERBUFFER_GREEN_SIZE\"] = 36177] = \"RENDERBUFFER_GREEN_SIZE\";\n  gl[gl[\"RENDERBUFFER_BLUE_SIZE\"] = 36178] = \"RENDERBUFFER_BLUE_SIZE\";\n  gl[gl[\"RENDERBUFFER_ALPHA_SIZE\"] = 36179] = \"RENDERBUFFER_ALPHA_SIZE\";\n  gl[gl[\"RENDERBUFFER_DEPTH_SIZE\"] = 36180] = \"RENDERBUFFER_DEPTH_SIZE\";\n  gl[gl[\"RENDERBUFFER_STENCIL_SIZE\"] = 36181] = \"RENDERBUFFER_STENCIL_SIZE\";\n  gl[gl[\"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE\"] = 36048] = \"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE\";\n  gl[gl[\"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME\"] = 36049] = \"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME\";\n  gl[gl[\"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL\"] = 36050] = \"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL\";\n  gl[gl[\"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE\"] = 36051] = \"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE\";\n  gl[gl[\"COLOR_ATTACHMENT0\"] = 36064] = \"COLOR_ATTACHMENT0\";\n  gl[gl[\"DEPTH_ATTACHMENT\"] = 36096] = \"DEPTH_ATTACHMENT\";\n  gl[gl[\"STENCIL_ATTACHMENT\"] = 36128] = \"STENCIL_ATTACHMENT\";\n  gl[gl[\"DEPTH_STENCIL_ATTACHMENT\"] = 33306] = \"DEPTH_STENCIL_ATTACHMENT\";\n  gl[gl[\"NONE\"] = 0] = \"NONE\";\n  gl[gl[\"FRAMEBUFFER_COMPLETE\"] = 36053] = \"FRAMEBUFFER_COMPLETE\";\n  gl[gl[\"FRAMEBUFFER_INCOMPLETE_ATTACHMENT\"] = 36054] = \"FRAMEBUFFER_INCOMPLETE_ATTACHMENT\";\n  gl[gl[\"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT\"] = 36055] = \"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT\";\n  gl[gl[\"FRAMEBUFFER_INCOMPLETE_DIMENSIONS\"] = 36057] = \"FRAMEBUFFER_INCOMPLETE_DIMENSIONS\";\n  gl[gl[\"FRAMEBUFFER_UNSUPPORTED\"] = 36061] = \"FRAMEBUFFER_UNSUPPORTED\";\n  gl[gl[\"FRAMEBUFFER_BINDING\"] = 36006] = \"FRAMEBUFFER_BINDING\";\n  gl[gl[\"RENDERBUFFER_BINDING\"] = 36007] = \"RENDERBUFFER_BINDING\";\n  gl[gl[\"MAX_RENDERBUFFER_SIZE\"] = 34024] = \"MAX_RENDERBUFFER_SIZE\";\n  gl[gl[\"INVALID_FRAMEBUFFER_OPERATION\"] = 1286] = \"INVALID_FRAMEBUFFER_OPERATION\";\n  gl[gl[\"UNPACK_FLIP_Y_WEBGL\"] = 37440] = \"UNPACK_FLIP_Y_WEBGL\";\n  gl[gl[\"UNPACK_PREMULTIPLY_ALPHA_WEBGL\"] = 37441] = \"UNPACK_PREMULTIPLY_ALPHA_WEBGL\";\n  gl[gl[\"CONTEXT_LOST_WEBGL\"] = 37442] = \"CONTEXT_LOST_WEBGL\";\n  gl[gl[\"UNPACK_COLORSPACE_CONVERSION_WEBGL\"] = 37443] = \"UNPACK_COLORSPACE_CONVERSION_WEBGL\";\n  gl[gl[\"BROWSER_DEFAULT_WEBGL\"] = 37444] = \"BROWSER_DEFAULT_WEBGL\";\n  gl[gl[\"COPY_SRC\"] = 1] = \"COPY_SRC\";\n  gl[gl[\"COPY_DST\"] = 2] = \"COPY_DST\";\n  gl[gl[\"SAMPLED\"] = 4] = \"SAMPLED\";\n  gl[gl[\"STORAGE\"] = 8] = \"STORAGE\";\n  gl[gl[\"RENDER_ATTACHMENT\"] = 16] = \"RENDER_ATTACHMENT\";\n})(gl || (exports.gl = gl = {}));\n//# sourceMappingURL=gl.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MaterialComponent = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _ = require(\"../..\");\n\nvar _ComponentManager = require(\"../../ComponentManager\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar MaterialComponent = /*#__PURE__*/function (_Component) {\n  (0, _inherits2.default)(MaterialComponent, _Component);\n\n  var _super = _createSuper(MaterialComponent);\n\n  // control flow in shaders, eg. USE_UV, USE_MAP...\n  function MaterialComponent(data) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, MaterialComponent);\n    _this = _super.call(this, data);\n    _this.vertexShaderGLSL = void 0;\n    _this.fragmentShaderGLSL = void 0;\n    _this.defines = {};\n    _this.dirty = true;\n    _this.uniforms = [];\n    _this.cull = {\n      enable: true,\n      face: _.gl.BACK\n    };\n    _this.depth = {\n      enable: true\n    };\n    _this.blend = void 0;\n    _this.entity = void 0;\n    _this.type = void 0;\n    Object.assign((0, _assertThisInitialized2.default)(_this), data);\n    return _this;\n  }\n\n  (0, _createClass2.default)(MaterialComponent, [{\n    key: \"setDefines\",\n    value: function setDefines(defines) {\n      this.defines = _objectSpread(_objectSpread({}, this.defines), defines);\n      return this;\n    }\n  }, {\n    key: \"setCull\",\n    value: function setCull(cull) {\n      this.cull = cull;\n      return this;\n    }\n  }, {\n    key: \"setDepth\",\n    value: function setDepth(depth) {\n      this.depth = depth;\n      return this;\n    }\n  }, {\n    key: \"setBlend\",\n    value: function setBlend(blend) {\n      this.blend = blend;\n      return this;\n    }\n  }, {\n    key: \"setUniform\",\n    value: function setUniform(name, data) {\n      var _this2 = this;\n\n      if (typeof name !== 'string') {\n        Object.keys(name).forEach(function (key) {\n          return _this2.setUniform(key, name[key]);\n        });\n        return this;\n      }\n\n      var existedUniform = this.uniforms.find(function (u) {\n        return u.name === name;\n      });\n\n      if (!existedUniform) {\n        this.uniforms.push({\n          name: name,\n          dirty: true,\n          data: data\n        });\n      } else {\n        existedUniform.dirty = true;\n        existedUniform.data = data;\n      }\n\n      this.dirty = true;\n      return this;\n    }\n  }]);\n  return MaterialComponent;\n}(_ComponentManager.Component);\n\nexports.MaterialComponent = MaterialComponent;\n//# sourceMappingURL=MaterialComponent.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MaterialSystem = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _initializerDefineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/initializerDefineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _applyDecoratedDescriptor2 = _interopRequireDefault(require(\"@babel/runtime/helpers/applyDecoratedDescriptor\"));\n\nvar _initializerWarningHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/initializerWarningHelper\"));\n\nvar _inversify = require(\"inversify\");\n\nvar _ = require(\"../..\");\n\nvar _identifier = require(\"../../identifier\");\n\nvar _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor, _descriptor2, _descriptor3, _temp;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar MaterialSystem = (_dec = (0, _inversify.injectable)(), _dec2 = (0, _inversify.inject)(_identifier.IDENTIFIER.MaterialComponentManager), _dec3 = (0, _inversify.inject)(_identifier.IDENTIFIER.RenderEngine), _dec4 = (0, _inversify.inject)(_identifier.IDENTIFIER.ShaderModuleService), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function () {\n  function MaterialSystem() {\n    (0, _classCallCheck2.default)(this, MaterialSystem);\n    (0, _initializerDefineProperty2.default)(this, \"material\", _descriptor, this);\n    (0, _initializerDefineProperty2.default)(this, \"engine\", _descriptor2, this);\n    (0, _initializerDefineProperty2.default)(this, \"shaderModule\", _descriptor3, this);\n  }\n\n  (0, _createClass2.default)(MaterialSystem, [{\n    key: \"execute\",\n    value: function () {\n      var _execute = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function execute() {\n        return _execute.apply(this, arguments);\n      }\n\n      return execute;\n    }()\n  }, {\n    key: \"tearDown\",\n    value: function tearDown() {\n      this.material.clear();\n    }\n    /**\n     * @see https://threejs.org/docs/#api/en/materials/ShaderMaterial\n     */\n\n  }, {\n    key: \"createShaderMaterial\",\n    value: function createShaderMaterial(params) {\n      var entity = (0, _.createEntity)();\n      var vertexShaderGLSL = params.vertexShader;\n      var fragmentShaderGLSL = params.fragmentShader;\n      var uniforms = [];\n\n      if (!this.engine.supportWebGPU) {\n        var moduleName = \"material-\".concat(entity);\n        this.shaderModule.registerModule(moduleName, {\n          vs: params.vertexShader,\n          fs: params.fragmentShader\n        });\n        var materialModule = this.shaderModule.getModule(moduleName);\n        vertexShaderGLSL = materialModule.vs;\n        fragmentShaderGLSL = materialModule.fs;\n\n        if (materialModule.uniforms) {\n          // @ts-ignore\n          uniforms = Object.keys(materialModule.uniforms).map(function (uniformName) {\n            return {\n              dirty: true,\n              name: uniformName,\n              // @ts-ignore\n              data: materialModule.uniforms[uniformName]\n            };\n          });\n        }\n      }\n\n      return this.material.create(entity, _objectSpread(_objectSpread({\n        vertexShaderGLSL: vertexShaderGLSL,\n        fragmentShaderGLSL: fragmentShaderGLSL\n      }, params), {}, {\n        uniforms: uniforms\n      }));\n    }\n  }]);\n  return MaterialSystem;\n}(), _temp), (_descriptor = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"material\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"engine\", [_dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"shaderModule\", [_dec4], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class2)) || _class);\nexports.MaterialSystem = MaterialSystem;\n//# sourceMappingURL=System.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CullableComponent = exports.Strategy = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _ComponentManager = require(\"../../ComponentManager\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/**\n * @see https://doc.babylonjs.com/how_to/optimizing_your_scene#changing-mesh-culling-strategy\n */\nvar Strategy;\nexports.Strategy = Strategy;\n\n(function (Strategy) {\n  Strategy[Strategy[\"Standard\"] = 0] = \"Standard\";\n})(Strategy || (exports.Strategy = Strategy = {}));\n\nvar CullableComponent = /*#__PURE__*/function (_Component) {\n  (0, _inherits2.default)(CullableComponent, _Component);\n\n  var _super = _createSuper(CullableComponent);\n\n  function CullableComponent(data) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, CullableComponent);\n    _this = _super.call(this, data);\n    _this.strategy = Strategy.Standard;\n    _this.visibilityPlaneMask = 0;\n    _this.visible = false;\n    Object.assign((0, _assertThisInitialized2.default)(_this), data);\n    return _this;\n  }\n\n  return CullableComponent;\n}(_ComponentManager.Component);\n\nexports.CullableComponent = CullableComponent;\n//# sourceMappingURL=CullableComponent.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MeshComponent = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _ComponentManager = require(\"../../ComponentManager\");\n\nvar _AABB = require(\"../../shape/AABB\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar MeshComponent = /*#__PURE__*/function (_Component) {\n  (0, _inherits2.default)(MeshComponent, _Component);\n\n  var _super = _createSuper(MeshComponent);\n\n  /**\n   * aabb 应该存在 Mesh 而非 Geometry 中，原因包括：\n   * 1. 包围盒会受 transform 影响。例如每次 transform 之后应该重新计算包围盒（center 发生偏移）。\n   * 2. 多个 Mesh 可以共享一个 Geometry，但可以各自拥有不同的 aabb\n   */\n\n  /**\n   * transform 之后需要重新计算包围盒\n   */\n\n  /**\n   * 实际渲染 Model\n   */\n  function MeshComponent(data) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, MeshComponent);\n    _this = _super.call(this, data);\n    _this.material = void 0;\n    _this.geometry = void 0;\n    _this.aabb = new _AABB.AABB();\n    _this.aabbDirty = true;\n    _this.model = void 0;\n    _this.visible = true;\n    _this.children = [];\n    Object.assign((0, _assertThisInitialized2.default)(_this), data);\n    return _this;\n  }\n\n  return MeshComponent;\n}(_ComponentManager.Component);\n\nexports.MeshComponent = MeshComponent;\n//# sourceMappingURL=MeshComponent.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AABB = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _glMatrix = require(\"gl-matrix\");\n\n/**\n * Axis-Aligned Bounding Box\n * 为了便于后续 Frustum Culling，通过查找表定义 p-vertex 和 n-vertex\n * @see https://github.com/antvis/GWebGPUEngine/issues/3\n */\nvar AABB = /*#__PURE__*/function () {\n  function AABB(center, halfExtents) {\n    (0, _classCallCheck2.default)(this, AABB);\n    this.center = void 0;\n    this.halfExtents = void 0;\n    this.min = _glMatrix.vec3.create();\n    this.max = _glMatrix.vec3.create();\n    this.update(center, halfExtents);\n  }\n\n  (0, _createClass2.default)(AABB, [{\n    key: \"update\",\n    value: function update(center, halfExtents) {\n      this.center = center || _glMatrix.vec3.create();\n      this.halfExtents = halfExtents || _glMatrix.vec3.fromValues(0.5, 0.5, 0.5);\n      this.min = _glMatrix.vec3.sub(this.min, this.center, this.halfExtents);\n      this.max = _glMatrix.vec3.add(this.max, this.center, this.halfExtents);\n    }\n  }, {\n    key: \"setMinMax\",\n    value: function setMinMax(min, max) {\n      _glMatrix.vec3.add(this.center, max, min);\n\n      _glMatrix.vec3.scale(this.center, this.center, 0.5);\n\n      _glMatrix.vec3.sub(this.halfExtents, max, min);\n\n      _glMatrix.vec3.scale(this.halfExtents, this.halfExtents, 0.5);\n\n      _glMatrix.vec3.copy(this.min, min);\n\n      _glMatrix.vec3.copy(this.max, max);\n    }\n  }, {\n    key: \"getMin\",\n    value: function getMin() {\n      return this.min;\n    }\n  }, {\n    key: \"getMax\",\n    value: function getMax() {\n      return this.max;\n    }\n  }, {\n    key: \"add\",\n    value: function add(aabb) {\n      var tc = this.center;\n      var tcx = tc[0];\n      var tcy = tc[1];\n      var tcz = tc[2];\n      var th = this.halfExtents;\n      var thx = th[0];\n      var thy = th[1];\n      var thz = th[2];\n      var tminx = tcx - thx;\n      var tmaxx = tcx + thx;\n      var tminy = tcy - thy;\n      var tmaxy = tcy + thy;\n      var tminz = tcz - thz;\n      var tmaxz = tcz + thz;\n      var oc = aabb.center;\n      var ocx = oc[0];\n      var ocy = oc[1];\n      var ocz = oc[2];\n      var oh = aabb.halfExtents;\n      var ohx = oh[0];\n      var ohy = oh[1];\n      var ohz = oh[2];\n      var ominx = ocx - ohx;\n      var omaxx = ocx + ohx;\n      var ominy = ocy - ohy;\n      var omaxy = ocy + ohy;\n      var ominz = ocz - ohz;\n      var omaxz = ocz + ohz;\n\n      if (ominx < tminx) {\n        tminx = ominx;\n      }\n\n      if (omaxx > tmaxx) {\n        tmaxx = omaxx;\n      }\n\n      if (ominy < tminy) {\n        tminy = ominy;\n      }\n\n      if (omaxy > tmaxy) {\n        tmaxy = omaxy;\n      }\n\n      if (ominz < tminz) {\n        tminz = ominz;\n      }\n\n      if (omaxz > tmaxz) {\n        tmaxz = omaxz;\n      }\n\n      tc[0] = (tminx + tmaxx) * 0.5;\n      tc[1] = (tminy + tmaxy) * 0.5;\n      tc[2] = (tminz + tmaxz) * 0.5;\n      th[0] = (tmaxx - tminx) * 0.5;\n      th[1] = (tmaxy - tminy) * 0.5;\n      th[2] = (tmaxz - tminz) * 0.5;\n      this.min[0] = tminx;\n      this.min[1] = tminy;\n      this.min[2] = tminz;\n      this.max[0] = tmaxx;\n      this.max[1] = tmaxy;\n      this.max[2] = tmaxz;\n    }\n  }, {\n    key: \"intersects\",\n    value: function intersects(aabb) {\n      var aMax = this.getMax();\n      var aMin = this.getMin();\n      var bMax = aabb.getMax();\n      var bMin = aabb.getMin();\n      return aMin[0] <= bMax[0] && aMax[0] >= bMin[0] && aMin[1] <= bMax[1] && aMax[1] >= bMin[1] && aMin[2] <= bMax[2] && aMax[2] >= bMin[2];\n    }\n  }, {\n    key: \"containsPoint\",\n    value: function containsPoint(point) {\n      var min = this.getMin();\n      var max = this.getMax();\n      return !(point[0] < min[0] || point[0] > max[0] || point[1] < min[1] || point[1] > max[1] || point[2] < min[2] || point[2] > max[2]);\n    }\n    /**\n     * get n-vertex\n     * @param plane plane of CullingVolume\n     */\n\n  }, {\n    key: \"getNegativeFarPoint\",\n    value: function getNegativeFarPoint(plane) {\n      if (plane.pnVertexFlag === 0x111) {\n        return _glMatrix.vec3.copy(_glMatrix.vec3.create(), this.min);\n      } else if (plane.pnVertexFlag === 0x110) {\n        return _glMatrix.vec3.fromValues(this.min[0], this.min[1], this.max[2]);\n      } else if (plane.pnVertexFlag === 0x101) {\n        return _glMatrix.vec3.fromValues(this.min[0], this.max[1], this.min[2]);\n      } else if (plane.pnVertexFlag === 0x100) {\n        return _glMatrix.vec3.fromValues(this.min[0], this.max[1], this.max[2]);\n      } else if (plane.pnVertexFlag === 0x011) {\n        return _glMatrix.vec3.fromValues(this.max[0], this.min[1], this.min[2]);\n      } else if (plane.pnVertexFlag === 0x010) {\n        return _glMatrix.vec3.fromValues(this.max[0], this.min[1], this.max[2]);\n      } else if (plane.pnVertexFlag === 0x001) {\n        return _glMatrix.vec3.fromValues(this.max[0], this.max[1], this.min[2]);\n      } else {\n        return _glMatrix.vec3.fromValues(this.max[0], this.max[1], this.max[2]);\n      }\n    }\n    /**\n     * get p-vertex\n     * @param plane plane of CullingVolume\n     */\n\n  }, {\n    key: \"getPositiveFarPoint\",\n    value: function getPositiveFarPoint(plane) {\n      if (plane.pnVertexFlag === 0x111) {\n        return _glMatrix.vec3.copy(_glMatrix.vec3.create(), this.max);\n      } else if (plane.pnVertexFlag === 0x110) {\n        return _glMatrix.vec3.fromValues(this.max[0], this.max[1], this.min[2]);\n      } else if (plane.pnVertexFlag === 0x101) {\n        return _glMatrix.vec3.fromValues(this.max[0], this.min[1], this.max[2]);\n      } else if (plane.pnVertexFlag === 0x100) {\n        return _glMatrix.vec3.fromValues(this.max[0], this.min[1], this.min[2]);\n      } else if (plane.pnVertexFlag === 0x011) {\n        return _glMatrix.vec3.fromValues(this.min[0], this.max[1], this.max[2]);\n      } else if (plane.pnVertexFlag === 0x010) {\n        return _glMatrix.vec3.fromValues(this.min[0], this.max[1], this.min[2]);\n      } else if (plane.pnVertexFlag === 0x001) {\n        return _glMatrix.vec3.fromValues(this.min[0], this.min[1], this.max[2]);\n      } else {\n        return _glMatrix.vec3.fromValues(this.min[0], this.min[1], this.min[2]);\n      }\n    }\n  }]);\n  return AABB;\n}();\n\nexports.AABB = AABB;\n//# sourceMappingURL=AABB.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MeshSystem = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _initializerDefineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/initializerDefineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _applyDecoratedDescriptor2 = _interopRequireDefault(require(\"@babel/runtime/helpers/applyDecoratedDescriptor\"));\n\nvar _initializerWarningHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/initializerWarningHelper\"));\n\nvar _glMatrix = require(\"gl-matrix\");\n\nvar _inversify = require(\"inversify\");\n\nvar _identifier = require(\"../../identifier\");\n\nvar _Frustum = require(\"../../shape/Frustum\");\n\nvar _math = require(\"../../utils/math\");\n\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _temp;\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar MeshSystem = (_dec = (0, _inversify.injectable)(), _dec2 = (0, _inversify.inject)(_identifier.IDENTIFIER.MeshComponentManager), _dec3 = (0, _inversify.inject)(_identifier.IDENTIFIER.CullableComponentManager), _dec4 = (0, _inversify.inject)(_identifier.IDENTIFIER.GeometryComponentManager), _dec5 = (0, _inversify.inject)(_identifier.IDENTIFIER.HierarchyComponentManager), _dec6 = (0, _inversify.inject)(_identifier.IDENTIFIER.TransformComponentManager), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function () {\n  function MeshSystem() {\n    (0, _classCallCheck2.default)(this, MeshSystem);\n    (0, _initializerDefineProperty2.default)(this, \"mesh\", _descriptor, this);\n    (0, _initializerDefineProperty2.default)(this, \"cullable\", _descriptor2, this);\n    (0, _initializerDefineProperty2.default)(this, \"geometry\", _descriptor3, this);\n    (0, _initializerDefineProperty2.default)(this, \"hierarchy\", _descriptor4, this);\n    (0, _initializerDefineProperty2.default)(this, \"transform\", _descriptor5, this);\n    this.planes = void 0;\n  }\n\n  (0, _createClass2.default)(MeshSystem, [{\n    key: \"setFrustumPlanes\",\n    value: function setFrustumPlanes(planes) {\n      this.planes = planes;\n    }\n  }, {\n    key: \"execute\",\n    value: function () {\n      var _execute = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(views) {\n        var _iterator, _step, view, scene, camera, _iterator2, _step2, entity, component, hierarchyComponent, cullableComponent, geometryComponent, meshTransform, worldTransform, _geometryComponent$aa, center, halfExtents, transformedCenter, rotationScale, transformedHalfExtents, parentCullableComponent;\n\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _iterator = _createForOfIteratorHelper(views);\n\n                try {\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    view = _step.value;\n                    scene = view.getScene();\n                    camera = view.getCamera(); // get VP matrix from camera\n\n                    _iterator2 = _createForOfIteratorHelper(scene.getEntities());\n\n                    try {\n                      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                        entity = _step2.value;\n                        component = this.mesh.getComponentByEntity(entity);\n\n                        if (component) {\n                          hierarchyComponent = this.hierarchy.getComponentByEntity(entity);\n                          cullableComponent = this.cullable.getComponentByEntity(entity);\n                          geometryComponent = component.geometry;\n                          meshTransform = this.transform.getComponentByEntity(entity); // update mesh.aabb\n\n                          if (geometryComponent && geometryComponent.aabb && meshTransform && component.aabbDirty) {\n                            worldTransform = meshTransform.worldTransform; // apply transform to geometry.aabb\n\n                            _geometryComponent$aa = geometryComponent.aabb, center = _geometryComponent$aa.center, halfExtents = _geometryComponent$aa.halfExtents;\n                            transformedCenter = _glMatrix.vec3.transformMat4(_glMatrix.vec3.create(), center, worldTransform);\n                            rotationScale = (0, _math.getRotationScale)(worldTransform, _glMatrix.mat3.create());\n                            transformedHalfExtents = _glMatrix.vec3.transformMat3(_glMatrix.vec3.create(), halfExtents, rotationScale);\n                            component.aabb.update(transformedCenter, transformedHalfExtents);\n                            component.aabbDirty = false;\n                          } // culling\n\n\n                          if (cullableComponent && geometryComponent) {\n                            parentCullableComponent = this.cullable.getComponentByEntity((hierarchyComponent === null || hierarchyComponent === void 0 ? void 0 : hierarchyComponent.parentID) || -1);\n                            cullableComponent.visibilityPlaneMask = this.computeVisibilityWithPlaneMask(component.aabb, (parentCullableComponent === null || parentCullableComponent === void 0 ? void 0 : parentCullableComponent.visibilityPlaneMask) || _Frustum.Mask.INDETERMINATE, this.planes || camera.getFrustum().planes);\n                            cullableComponent.visible = cullableComponent.visibilityPlaneMask !== _Frustum.Mask.OUTSIDE;\n                          }\n                        }\n                      }\n                    } catch (err) {\n                      _iterator2.e(err);\n                    } finally {\n                      _iterator2.f();\n                    }\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function execute(_x) {\n        return _execute.apply(this, arguments);\n      }\n\n      return execute;\n    }()\n  }, {\n    key: \"tearDown\",\n    value: function tearDown() {\n      this.cullable.clear();\n      this.mesh.clear();\n    }\n    /**\n     *\n     * @see「Optimized View Frustum Culling Algorithms for Bounding Boxes」\n     * @see https://github.com/antvis/GWebGPUEngine/issues/3\n     *\n     * * 基础相交测试 the basic intersection test\n     * * 标记 masking @see https://cesium.com/blog/2015/08/04/fast-hierarchical-culling/\n     * * TODO: 平面一致性测试 the plane-coherency test\n     * * TODO: 支持 mesh 指定自身的剔除策略，参考 Babylon.js @see https://doc.babylonjs.com/how_to/optimizing_your_scene#changing-mesh-culling-strategy\n     *\n     * @param aabb aabb\n     * @param parentPlaneMask mask of parent\n     * @param planes planes of frustum\n     */\n\n  }, {\n    key: \"computeVisibilityWithPlaneMask\",\n    value: function computeVisibilityWithPlaneMask(aabb, parentPlaneMask, planes) {\n      if (parentPlaneMask === _Frustum.Mask.OUTSIDE || parentPlaneMask === _Frustum.Mask.INSIDE) {\n        // 父节点完全位于视锥内或者外部，直接返回\n        return parentPlaneMask;\n      } // Start with MASK_INSIDE (all zeros) so that after the loop, the return value can be compared with MASK_INSIDE.\n      // (Because if there are fewer than 31 planes, the upper bits wont be changed.)\n\n\n      var mask = _Frustum.Mask.INSIDE;\n\n      for (var k = 0, len = planes.length; k < len; ++k) {\n        // For k greater than 31 (since 31 is the maximum number of INSIDE/INTERSECTING bits we can store), skip the optimization.\n        var flag = k < 31 ? 1 << k : 0;\n\n        if (k < 31 && (parentPlaneMask & flag) === 0) {\n          // 父节点处于当前面内部，可以跳过\n          continue;\n        } // 使用 p-vertex 和 n-vertex 加速，避免进行平面和 aabb 全部顶点的相交检测\n\n\n        var _planes$k = planes[k],\n            normal = _planes$k.normal,\n            distance = _planes$k.distance;\n\n        if (_glMatrix.vec3.dot(normal, aabb.getNegativeFarPoint(planes[k])) + distance > 0) {\n          return _Frustum.Mask.OUTSIDE;\n        }\n\n        if (_glMatrix.vec3.dot(normal, aabb.getPositiveFarPoint(planes[k])) + distance > 0) {\n          // 和当前面相交，对应位置为1，继续检测下一个面\n          mask |= flag;\n        }\n      }\n\n      return mask;\n    }\n  }]);\n  return MeshSystem;\n}(), _temp), (_descriptor = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"mesh\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"cullable\", [_dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"geometry\", [_dec4], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor4 = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"hierarchy\", [_dec5], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor5 = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"transform\", [_dec6], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class2)) || _class);\nexports.MeshSystem = MeshSystem;\n//# sourceMappingURL=System.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Frustum = exports.Mask = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _glMatrix = require(\"gl-matrix\");\n\nvar _Plane = require(\"./Plane\");\n\nvar Mask;\nexports.Mask = Mask;\n\n(function (Mask) {\n  Mask[Mask[\"OUTSIDE\"] = 4294967295] = \"OUTSIDE\";\n  Mask[Mask[\"INSIDE\"] = 0] = \"INSIDE\";\n  Mask[Mask[\"INDETERMINATE\"] = 2147483647] = \"INDETERMINATE\";\n})(Mask || (exports.Mask = Mask = {}));\n\nvar Frustum = /*#__PURE__*/function () {\n  function Frustum(planes) {\n    (0, _classCallCheck2.default)(this, Frustum);\n    this.planes = [];\n\n    if (planes) {\n      this.planes = planes;\n    } else {\n      for (var i = 0; i < 6; i++) {\n        this.planes.push(new _Plane.Plane());\n      }\n    }\n  }\n  /**\n   * extract 6 planes from vpMatrix\n   * @see http://www8.cs.umu.se/kurser/5DV051/HT12/lab/plane_extraction.pdf\n   * @param vpMatrix viewProjectionMatrix\n   */\n\n\n  (0, _createClass2.default)(Frustum, [{\n    key: \"extractFromVPMatrix\",\n    value: function extractFromVPMatrix(vpMatrix) {\n      var _vpMatrix = (0, _slicedToArray2.default)(vpMatrix, 16),\n          m0 = _vpMatrix[0],\n          m1 = _vpMatrix[1],\n          m2 = _vpMatrix[2],\n          m3 = _vpMatrix[3],\n          m4 = _vpMatrix[4],\n          m5 = _vpMatrix[5],\n          m6 = _vpMatrix[6],\n          m7 = _vpMatrix[7],\n          m8 = _vpMatrix[8],\n          m9 = _vpMatrix[9],\n          m10 = _vpMatrix[10],\n          m11 = _vpMatrix[11],\n          m12 = _vpMatrix[12],\n          m13 = _vpMatrix[13],\n          m14 = _vpMatrix[14],\n          m15 = _vpMatrix[15]; // right\n\n\n      _glMatrix.vec3.set(this.planes[0].normal, m3 - m0, m7 - m4, m11 - m8);\n\n      this.planes[0].distance = -(m15 - m12); // left\n\n      _glMatrix.vec3.set(this.planes[1].normal, m3 + m0, m7 + m4, m11 + m8);\n\n      this.planes[1].distance = -(m15 + m12); // bottom\n\n      _glMatrix.vec3.set(this.planes[2].normal, m3 + m1, m7 + m5, m11 + m9);\n\n      this.planes[2].distance = -(m15 + m13); // top\n\n      _glMatrix.vec3.set(this.planes[3].normal, m3 - m1, m7 - m5, m11 - m9);\n\n      this.planes[3].distance = -(m15 - m13); // far\n\n      _glMatrix.vec3.set(this.planes[4].normal, m3 - m2, m7 - m6, m11 - m10);\n\n      this.planes[4].distance = -(m15 - m14); // near\n\n      _glMatrix.vec3.set(this.planes[5].normal, m3 + m2, m7 + m6, m11 + m10);\n\n      this.planes[5].distance = -(m15 + m14);\n      this.planes.forEach(function (plane) {\n        plane.normalize();\n        plane.updatePNVertexFlag();\n      });\n    }\n  }]);\n  return Frustum;\n}();\n\nexports.Frustum = Frustum;\n//# sourceMappingURL=Frustum.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Plane = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _glMatrix = require(\"gl-matrix\");\n\nvar Plane = /*#__PURE__*/function () {\n  /**\n   * lookup table for p-vertex & n-vertex when doing frustum culling\n   */\n  function Plane(distance, normal) {\n    (0, _classCallCheck2.default)(this, Plane);\n    this.distance = void 0;\n    this.normal = void 0;\n    this.pnVertexFlag = void 0;\n    this.distance = distance || 0;\n    this.normal = normal || _glMatrix.vec3.fromValues(0, 1, 0);\n    this.updatePNVertexFlag();\n  }\n\n  (0, _createClass2.default)(Plane, [{\n    key: \"updatePNVertexFlag\",\n    value: function updatePNVertexFlag() {\n      this.pnVertexFlag = (Number(this.normal[0] >= 0) << 8) + (Number(this.normal[1] >= 0) << 4) + Number(this.normal[2] >= 0);\n    }\n  }, {\n    key: \"distanceToPoint\",\n    value: function distanceToPoint(point) {\n      return _glMatrix.vec3.dot(point, this.normal) - this.distance;\n    }\n  }, {\n    key: \"normalize\",\n    value: function normalize() {\n      var invLen = 1 / _glMatrix.vec3.len(this.normal);\n\n      _glMatrix.vec3.scale(this.normal, this.normal, invLen);\n\n      this.distance *= invLen;\n    }\n  }, {\n    key: \"intersectsLine\",\n    value: function intersectsLine(start, end, point) {\n      var d0 = this.distanceToPoint(start);\n      var d1 = this.distanceToPoint(end);\n      var t = d0 / (d0 - d1);\n      var intersects = t >= 0 && t <= 1;\n\n      if (intersects && point) {\n        _glMatrix.vec3.lerp(point, start, end, t);\n      }\n\n      return intersects;\n    }\n  }]);\n  return Plane;\n}();\n\nexports.Plane = Plane;\n//# sourceMappingURL=Plane.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getAngle = getAngle;\nexports.createVec3 = createVec3;\nexports.getRotationScale = getRotationScale;\nexports.decodePickingColor = decodePickingColor;\nexports.encodePickingColor = encodePickingColor;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _glMatrix = require(\"gl-matrix\");\n\nvar _isNumber = require(\"./is-number\");\n\nfunction getAngle(angle) {\n  if (angle === undefined) {\n    return 0;\n  } else if (angle > 360 || angle < -360) {\n    return angle % 360;\n  }\n\n  return angle;\n}\n\nfunction createVec3(x, y, z) {\n  if ((0, _isNumber.isNumber)(x)) {\n    return _glMatrix.vec3.fromValues(x, y, z);\n  }\n\n  if (x.length === 3) {\n    return _glMatrix.vec3.clone(x);\n  } // @ts-ignore\n\n\n  return _glMatrix.vec3.fromValues(x[0], x[1], x[2]);\n}\n\nfunction getRotationScale(matrix, result) {\n  result[0] = matrix[0];\n  result[1] = matrix[1];\n  result[2] = matrix[2];\n  result[3] = matrix[4];\n  result[4] = matrix[5];\n  result[5] = matrix[6];\n  result[6] = matrix[8];\n  result[7] = matrix[9];\n  result[8] = matrix[10];\n  return result;\n}\n\nfunction decodePickingColor(color) {\n  var _color = (0, _slicedToArray2.default)(color, 3),\n      i1 = _color[0],\n      i2 = _color[1],\n      i3 = _color[2]; // 1 was added to seperate from no selection\n\n\n  var index = i1 + i2 * 256 + i3 * 65536 - 1;\n  return index;\n}\n\nfunction encodePickingColor(featureIdx) {\n  return [featureIdx + 1 & 255, featureIdx + 1 >> 8 & 255, featureIdx + 1 >> 8 >> 8 & 255];\n}\n//# sourceMappingURL=math.js.map","\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isNumber = isNumber;\n\nfunction isNumber(value) {\n  return typeof value === 'number';\n}\n//# sourceMappingURL=is-number.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PixelPickingPass = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _initializerDefineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/initializerDefineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _applyDecoratedDescriptor2 = _interopRequireDefault(require(\"@babel/runtime/helpers/applyDecoratedDescriptor\"));\n\nvar _initializerWarningHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/initializerWarningHelper\"));\n\nvar _inversify = require(\"inversify\");\n\nvar _identifier = require(\"../../../identifier\");\n\nvar _math = require(\"../../../utils/math\");\n\nvar _RenderPass = require(\"./RenderPass\");\n\nvar _dec, _dec2, _dec3, _dec4, _dec5, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _class3, _temp;\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar PickingStage = {\n  NONE: 0.0,\n  ENCODE: 1.0,\n  HIGHLIGHT: 2.0\n};\n/**\n * color-based picking\n * @see https://threejsfundamentals.org/threejs/lessons/threejs-picking.html\n */\n\nvar PixelPickingPass = (_dec = (0, _inversify.injectable)(), _dec2 = (0, _inversify.inject)(_identifier.IDENTIFIER.RenderEngine), _dec3 = (0, _inversify.inject)(_identifier.IDENTIFIER.ResourcePool), _dec4 = (0, _inversify.inject)(_identifier.IDENTIFIER.RenderPassFactory), _dec5 = (0, _inversify.inject)(_identifier.IDENTIFIER.MeshComponentManager), _dec(_class = (_class2 = (_temp = _class3 = /*#__PURE__*/function () {\n  function PixelPickingPass() {\n    var _this = this;\n\n    (0, _classCallCheck2.default)(this, PixelPickingPass);\n    (0, _initializerDefineProperty2.default)(this, \"engine\", _descriptor, this);\n    (0, _initializerDefineProperty2.default)(this, \"resourcePool\", _descriptor2, this);\n    (0, _initializerDefineProperty2.default)(this, \"renderPassFactory\", _descriptor3, this);\n    (0, _initializerDefineProperty2.default)(this, \"mesh\", _descriptor4, this);\n    this.pickingFBO = void 0;\n    this.views = void 0;\n    this.highlightEnabled = true;\n    this.highlightColor = [255, 0, 0, 255];\n    this.alreadyInRendering = false;\n\n    this.setup = function (fg, passNode, pass) {\n      var output = fg.createRenderTarget(passNode, 'picking fbo', {\n        width: 1,\n        height: 1\n      });\n      pass.data = {\n        output: passNode.write(fg, output)\n      }; // 防止被 FrameGraph 剔除\n\n      passNode.hasSideEffect = true;\n    };\n\n    this.execute = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(fg, pass, views) {\n        var _iterator, _step, _loop;\n\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this.views = views;\n\n                if (!_this.alreadyInRendering) {\n                  _context.next = 3;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                _iterator = _createForOfIteratorHelper(views);\n\n                try {\n                  _loop = function _loop() {\n                    var view = _step.value;\n\n                    var _view$getViewport = view.getViewport(),\n                        width = _view$getViewport.width,\n                        height = _view$getViewport.height; // throttled\n\n\n                    _this.alreadyInRendering = true; // 实例化资源\n\n                    var resourceNode = fg.getResourceNode(pass.data.output);\n                    _this.pickingFBO = _this.resourcePool.getOrCreateResource(resourceNode.resource); // TODO: only draw 1x1 quad, with offset camera\n\n                    _this.pickingFBO.resize({\n                      width: width,\n                      height: height\n                    });\n\n                    _this.engine.useFramebuffer(_this.pickingFBO, function () {\n                      _this.engine.clear({\n                        framebuffer: _this.pickingFBO,\n                        color: [0, 0, 0, 0],\n                        stencil: 0,\n                        depth: 1\n                      }); // 渲染\n\n\n                      var renderPass = _this.renderPassFactory(_RenderPass.RenderPass.IDENTIFIER); // 修改所有\n\n\n                      var meshes = [];\n                      var scene = view.getScene();\n\n                      var _iterator2 = _createForOfIteratorHelper(scene.getEntities()),\n                          _step2;\n\n                      try {\n                        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                          var meshEntity = _step2.value;\n\n                          var mesh = _this.mesh.getComponentByEntity(meshEntity);\n\n                          var material = mesh.material;\n                          material.setUniform('u_PickingStage', PickingStage.ENCODE);\n                          meshes.push(mesh);\n                        } // @ts-ignore\n\n                      } catch (err) {\n                        _iterator2.e(err);\n                      } finally {\n                        _iterator2.f();\n                      }\n\n                      renderPass.renderView(view);\n                      meshes.forEach(function (mesh) {\n                        var material = mesh.material;\n                        material.setUniform('u_PickingStage', PickingStage.HIGHLIGHT);\n                      });\n                      _this.alreadyInRendering = false;\n                    });\n                  };\n\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    _loop();\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x, _x2, _x3) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    this.pick = function (_ref2, view) {\n      var x = _ref2.x,\n          y = _ref2.y;\n      var _this$engine = _this.engine,\n          readPixels = _this$engine.readPixels,\n          useFramebuffer = _this$engine.useFramebuffer;\n\n      var _view$getViewport2 = view.getViewport(),\n          width = _view$getViewport2.width,\n          height = _view$getViewport2.height;\n\n      var xInDevicePixel = x * window.devicePixelRatio;\n      var yInDevicePixel = y * window.devicePixelRatio; // const xInDevicePixel = x;\n      // const yInDevicePixel = y;\n\n      if (xInDevicePixel > width || xInDevicePixel < 0 || yInDevicePixel > height || yInDevicePixel < 0) {\n        return;\n      }\n\n      var pickedColors;\n      var pickedFeatureIdx;\n      useFramebuffer(_this.pickingFBO, function () {\n        // avoid realloc\n        pickedColors = readPixels({\n          x: Math.round(xInDevicePixel),\n          // 视口坐标系原点在左上，而 WebGL 在左下，需要翻转 Y 轴\n          y: Math.round(height - (y + 1) * window.devicePixelRatio),\n          // y: Math.round(height - (y + 1)),\n          width: 1,\n          height: 1,\n          data: new Uint8Array(1 * 1 * 4),\n          framebuffer: _this.pickingFBO\n        });\n\n        if (pickedColors[0] !== 0 || pickedColors[1] !== 0 || pickedColors[2] !== 0) {\n          pickedFeatureIdx = (0, _math.decodePickingColor)(pickedColors);\n\n          if (_this.highlightEnabled) {\n            // 高亮\n            _this.highlightPickedFeature(pickedColors, view);\n          }\n        }\n      });\n      return pickedFeatureIdx;\n    };\n  }\n\n  (0, _createClass2.default)(PixelPickingPass, [{\n    key: \"enableHighlight\",\n    value: function enableHighlight(enabled) {\n      this.highlightEnabled = enabled;\n    }\n  }, {\n    key: \"setHighlightColor\",\n    value: function setHighlightColor(color) {\n      this.highlightColor = color;\n    }\n  }, {\n    key: \"highlightPickedFeature\",\n\n    /**\n     * highlight 如果直接修改选中 feature 的 buffer，存在两个问题：\n     * 1. 鼠标移走时无法恢复\n     * 2. 无法实现高亮颜色与原始原色的 alpha 混合\n     * 因此高亮还是放在 shader 中做比较好\n     */\n    value: function highlightPickedFeature(pickedColors, view) {\n      if (pickedColors) {\n        var _iterator3 = _createForOfIteratorHelper(view.getScene().getEntities()),\n            _step3;\n\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var meshEntity = _step3.value;\n            var mesh = this.mesh.getComponentByEntity(meshEntity);\n            var material = mesh.material;\n            material.setUniform('u_PickingStage', PickingStage.HIGHLIGHT);\n            material.setUniform('u_PickingColor', [pickedColors[0], pickedColors[1], pickedColors[2]]);\n            material.setUniform('u_HighlightColor', this.highlightColor);\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n      }\n    }\n  }]);\n  return PixelPickingPass;\n}(), _class3.IDENTIFIER = 'PixelPicking Pass', _temp), (_descriptor = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"engine\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"resourcePool\", [_dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"renderPassFactory\", [_dec4], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor4 = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"mesh\", [_dec5], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class2)) || _class);\nexports.PixelPickingPass = PixelPickingPass;\n//# sourceMappingURL=PixelPickingPass.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RenderPass = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _initializerDefineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/initializerDefineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _applyDecoratedDescriptor2 = _interopRequireDefault(require(\"@babel/runtime/helpers/applyDecoratedDescriptor\"));\n\nvar _initializerWarningHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/initializerWarningHelper\"));\n\nvar _glMatrix = require(\"gl-matrix\");\n\nvar _inversify = require(\"inversify\");\n\nvar _identifier = require(\"../../../identifier\");\n\nvar _gl = require(\"../gl\");\n\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _class3, _temp;\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar RenderPass = (_dec = (0, _inversify.injectable)(), _dec2 = (0, _inversify.inject)(_identifier.IDENTIFIER.MeshComponentManager), _dec3 = (0, _inversify.inject)(_identifier.IDENTIFIER.GeometryComponentManager), _dec4 = (0, _inversify.inject)(_identifier.IDENTIFIER.MaterialComponentManager), _dec5 = (0, _inversify.inject)(_identifier.IDENTIFIER.CullableComponentManager), _dec6 = (0, _inversify.inject)(_identifier.IDENTIFIER.TransformComponentManager), _dec7 = (0, _inversify.inject)(_identifier.IDENTIFIER.HierarchyComponentManager), _dec8 = (0, _inversify.inject)(_identifier.IDENTIFIER.Systems), _dec9 = (0, _inversify.named)(_identifier.IDENTIFIER.FrameGraphSystem), _dec10 = (0, _inversify.inject)(_identifier.IDENTIFIER.RenderEngine), _dec11 = (0, _inversify.inject)(_identifier.IDENTIFIER.ResourcePool), _dec(_class = (_class2 = (_temp = _class3 = /*#__PURE__*/function () {\n  function RenderPass() {\n    var _this = this;\n\n    (0, _classCallCheck2.default)(this, RenderPass);\n    (0, _initializerDefineProperty2.default)(this, \"mesh\", _descriptor, this);\n    (0, _initializerDefineProperty2.default)(this, \"geometry\", _descriptor2, this);\n    (0, _initializerDefineProperty2.default)(this, \"material\", _descriptor3, this);\n    (0, _initializerDefineProperty2.default)(this, \"cullable\", _descriptor4, this);\n    (0, _initializerDefineProperty2.default)(this, \"transform\", _descriptor5, this);\n    (0, _initializerDefineProperty2.default)(this, \"hierarchy\", _descriptor6, this);\n    (0, _initializerDefineProperty2.default)(this, \"frameGraphSystem\", _descriptor7, this);\n    (0, _initializerDefineProperty2.default)(this, \"engine\", _descriptor8, this);\n    (0, _initializerDefineProperty2.default)(this, \"resourcePool\", _descriptor9, this);\n    this.modelCache = {};\n\n    this.setup = function (fg, passNode, pass) {\n      var output = fg.createRenderTarget(passNode, 'color buffer', {\n        width: 1,\n        height: 1,\n        usage: _gl.gl.RENDER_ATTACHMENT | _gl.gl.SAMPLED | _gl.gl.COPY_SRC\n      });\n      pass.data = {\n        output: passNode.write(fg, output)\n      };\n    };\n\n    this.execute = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(fg, pass, views) {\n        var resourceNode, framebuffer, _iterator, _step, view, canvas;\n\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                resourceNode = fg.getResourceNode(pass.data.output);\n                framebuffer = _this.resourcePool.getOrCreateResource(resourceNode.resource); // initialize model of each mesh\n\n                _iterator = _createForOfIteratorHelper(views);\n                _context.prev = 3;\n\n                _iterator.s();\n\n              case 5:\n                if ((_step = _iterator.n()).done) {\n                  _context.next = 11;\n                  break;\n                }\n\n                view = _step.value;\n                _context.next = 9;\n                return _this.initView(view);\n\n              case 9:\n                _context.next = 5;\n                break;\n\n              case 11:\n                _context.next = 16;\n                break;\n\n              case 13:\n                _context.prev = 13;\n                _context.t0 = _context[\"catch\"](3);\n\n                _iterator.e(_context.t0);\n\n              case 16:\n                _context.prev = 16;\n\n                _iterator.f();\n\n                return _context.finish(16);\n\n              case 19:\n                canvas = _this.engine.getCanvas();\n                framebuffer.resize({\n                  width: canvas.width,\n                  height: canvas.height\n                });\n\n                _this.engine.setScissor({\n                  enable: false\n                });\n\n                _this.engine.clear({\n                  framebuffer: framebuffer,\n                  color: views[0].getClearColor(),\n                  // TODO: use clearColor defined in view\n                  depth: 1\n                });\n\n                _this.engine.useFramebuffer(framebuffer, function () {\n                  var _iterator2 = _createForOfIteratorHelper(views),\n                      _step2;\n\n                  try {\n                    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                      var view = _step2.value;\n\n                      // must do rendering in a sync way\n                      _this.renderView(view);\n                    }\n                  } catch (err) {\n                    _iterator2.e(err);\n                  } finally {\n                    _iterator2.f();\n                  }\n                });\n\n              case 24:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[3, 13, 16, 19]]);\n      }));\n\n      return function (_x, _x2, _x3) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n  }\n\n  (0, _createClass2.default)(RenderPass, [{\n    key: \"renderView\",\n    value: function renderView(view) {\n      var scene = view.getScene();\n      var camera = view.getCamera(); // get VP matrix from camera\n\n      var viewMatrix = camera.getViewTransform();\n\n      var viewProjectionMatrix = _glMatrix.mat4.multiply(_glMatrix.mat4.create(), camera.getPerspective(), viewMatrix); // TODO: use cached planes if camera was not changed\n\n\n      camera.getFrustum().extractFromVPMatrix(viewProjectionMatrix);\n\n      var _view$getViewport = view.getViewport(),\n          x = _view$getViewport.x,\n          y = _view$getViewport.y,\n          width = _view$getViewport.width,\n          height = _view$getViewport.height;\n\n      this.engine.viewport({\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      }); // this.engine.setScissor({\n      //   enable: true,\n      //   box: { x, y, width, height },\n      // });\n      // this.engine.clear({\n      //   // framebuffer,\n      //   color: [1, 1, 1, 1], // TODO: use clearColor defined in view\n      //   depth: 1,\n      // });\n\n      var _iterator3 = _createForOfIteratorHelper(scene.getEntities()),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var meshEntity = _step3.value;\n          this.renderMesh(meshEntity, {\n            camera: camera,\n            view: view,\n            viewMatrix: viewMatrix\n          });\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    }\n  }, {\n    key: \"renderMesh\",\n    value: function renderMesh(meshEntity, _ref2) {\n      var camera = _ref2.camera,\n          view = _ref2.view,\n          viewMatrix = _ref2.viewMatrix;\n      var mesh = this.mesh.getComponentByEntity(meshEntity);\n\n      if (!mesh || !mesh.visible) {\n        return;\n      } // filter meshes with frustum culling\n      // if (!this.cullable.getComponentByEntity(meshEntity)?.visible) {\n      //   return;\n      // }\n\n\n      var material = mesh.material;\n      var geometry = mesh.geometry; // geometry 在自己的 System 中完成脏检查后的更新\n\n      if (!geometry || geometry.dirty || !material) {\n        return;\n      } // get model matrix from mesh\n\n\n      var transform = this.transform.getComponentByEntity(meshEntity);\n\n      var modelViewMatrix = _glMatrix.mat4.multiply(_glMatrix.mat4.create(), viewMatrix, transform.worldTransform);\n\n      var _view$getViewport2 = view.getViewport(),\n          width = _view$getViewport2.width,\n          height = _view$getViewport2.height; // set MVP matrix, other builtin uniforms @see https://threejs.org/docs/#api/en/renderers/webgl/WebGLProgram\n\n\n      material.setUniform({\n        projectionMatrix: camera.getPerspective(),\n        modelViewMatrix: modelViewMatrix,\n        modelMatrix: transform.worldTransform,\n        viewMatrix: viewMatrix,\n        cameraPosition: camera.getPosition(),\n        u_viewport: [width, height]\n      });\n\n      if (mesh.model) {\n        mesh.model.draw({\n          uniforms: material.uniforms.reduce(function (cur, prev) {\n            cur[prev.name] = prev.data;\n            return cur;\n          }, {})\n        });\n        material.uniforms.forEach(function (u) {\n          u.dirty = false;\n        });\n        material.dirty = false;\n      }\n    }\n  }, {\n    key: \"initMesh\",\n    value: function () {\n      var _initMesh = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2(meshEntity, view) {\n        var mesh, material, geometry, modelCacheKey, _this$engine, createModel, createAttribute, modelInitializationOptions;\n\n        return _regenerator.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                mesh = this.mesh.getComponentByEntity(meshEntity);\n\n                if (mesh) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 3:\n                material = mesh.material;\n                geometry = mesh.geometry;\n\n                if (!(!geometry || geometry.dirty || !material)) {\n                  _context2.next = 7;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 7:\n                if (mesh.model) {\n                  _context2.next = 24;\n                  break;\n                }\n\n                modelCacheKey = \"m-\".concat(material.entity, \"-g-\").concat(geometry.entity);\n\n                if (!this.modelCache[modelCacheKey]) {\n                  _context2.next = 12;\n                  break;\n                }\n\n                mesh.model = this.modelCache[modelCacheKey];\n                return _context2.abrupt(\"return\");\n\n              case 12:\n                material.setUniform({\n                  projectionMatrix: 1,\n                  modelViewMatrix: 1,\n                  modelMatrix: 1,\n                  viewMatrix: 1,\n                  cameraPosition: 1,\n                  u_viewport: 1\n                });\n                _this$engine = this.engine, createModel = _this$engine.createModel, createAttribute = _this$engine.createAttribute;\n                modelInitializationOptions = {\n                  vs: material.vertexShaderGLSL,\n                  fs: material.fragmentShaderGLSL,\n                  defines: material.defines,\n                  attributes: geometry.attributes.reduce(function (cur, prev) {\n                    if (prev.data && prev.buffer) {\n                      cur[prev.name] = createAttribute({\n                        buffer: prev.buffer,\n                        attributes: prev.attributes,\n                        arrayStride: prev.arrayStride,\n                        stepMode: prev.stepMode,\n                        divisor: prev.stepMode === 'vertex' ? 0 : 1\n                      });\n                    }\n\n                    return cur;\n                  }, {}),\n                  uniforms: material.uniforms.reduce(function (cur, prev) {\n                    cur[prev.name] = prev.data;\n                    return cur;\n                  }, {}),\n                  scissor: {\n                    enable: true,\n                    // @ts-ignore\n                    box: function box() {\n                      return view.getViewport();\n                    }\n                  }\n                };\n\n                if (material.cull) {\n                  modelInitializationOptions.cull = material.cull;\n                }\n\n                if (material.depth) {\n                  modelInitializationOptions.depth = material.depth;\n                }\n\n                if (material.blend) {\n                  modelInitializationOptions.blend = material.blend;\n                }\n\n                if (geometry.indicesBuffer) {\n                  modelInitializationOptions.elements = geometry.indicesBuffer;\n                }\n\n                if (geometry.maxInstancedCount) {\n                  modelInitializationOptions.instances = geometry.maxInstancedCount;\n                  modelInitializationOptions.count = geometry.vertexCount || 3;\n                }\n\n                _context2.next = 22;\n                return createModel(modelInitializationOptions);\n\n              case 22:\n                mesh.model = _context2.sent;\n                this.modelCache[modelCacheKey] = mesh.model;\n\n              case 24:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function initMesh(_x4, _x5) {\n        return _initMesh.apply(this, arguments);\n      }\n\n      return initMesh;\n    }()\n  }, {\n    key: \"initView\",\n    value: function () {\n      var _initView = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3(view) {\n        var scene, _iterator4, _step4, meshEntity;\n\n        return _regenerator.default.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                scene = view.getScene();\n                _iterator4 = _createForOfIteratorHelper(scene.getEntities());\n                _context3.prev = 2;\n\n                _iterator4.s();\n\n              case 4:\n                if ((_step4 = _iterator4.n()).done) {\n                  _context3.next = 10;\n                  break;\n                }\n\n                meshEntity = _step4.value;\n                _context3.next = 8;\n                return this.initMesh(meshEntity, view);\n\n              case 8:\n                _context3.next = 4;\n                break;\n\n              case 10:\n                _context3.next = 15;\n                break;\n\n              case 12:\n                _context3.prev = 12;\n                _context3.t0 = _context3[\"catch\"](2);\n\n                _iterator4.e(_context3.t0);\n\n              case 15:\n                _context3.prev = 15;\n\n                _iterator4.f();\n\n                return _context3.finish(15);\n\n              case 18:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[2, 12, 15, 18]]);\n      }));\n\n      function initView(_x6) {\n        return _initView.apply(this, arguments);\n      }\n\n      return initView;\n    }()\n  }]);\n  return RenderPass;\n}(), _class3.IDENTIFIER = 'Render Pass', _temp), (_descriptor = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"mesh\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"geometry\", [_dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"material\", [_dec4], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor4 = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"cullable\", [_dec5], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor5 = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"transform\", [_dec6], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor6 = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"hierarchy\", [_dec7], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor7 = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"frameGraphSystem\", [_dec8, _dec9], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor8 = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"engine\", [_dec10], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor9 = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"resourcePool\", [_dec11], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class2)) || _class);\nexports.RenderPass = RenderPass;\n//# sourceMappingURL=RenderPass.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RendererSystem = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _initializerDefineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/initializerDefineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _applyDecoratedDescriptor2 = _interopRequireDefault(require(\"@babel/runtime/helpers/applyDecoratedDescriptor\"));\n\nvar _initializerWarningHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/initializerWarningHelper\"));\n\nvar _inversify = require(\"inversify\");\n\nvar _identifier = require(\"../../identifier\");\n\nvar _CopyPass = require(\"./passes/CopyPass\");\n\nvar _PixelPickingPass = require(\"./passes/PixelPickingPass\");\n\nvar _RenderPass = require(\"./passes/RenderPass\");\n\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _temp;\n\nvar RendererSystem = (_dec = (0, _inversify.injectable)(), _dec2 = (0, _inversify.inject)(_identifier.IDENTIFIER.Systems), _dec3 = (0, _inversify.named)(_identifier.IDENTIFIER.FrameGraphSystem), _dec4 = (0, _inversify.inject)(_identifier.IDENTIFIER.RenderPassFactory), _dec5 = (0, _inversify.inject)(_identifier.IDENTIFIER.ConfigService), _dec6 = (0, _inversify.inject)(_identifier.IDENTIFIER.ResourcePool), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function () {\n  function RendererSystem() {\n    (0, _classCallCheck2.default)(this, RendererSystem);\n    (0, _initializerDefineProperty2.default)(this, \"frameGraphSystem\", _descriptor, this);\n    (0, _initializerDefineProperty2.default)(this, \"renderPassFactory\", _descriptor2, this);\n    (0, _initializerDefineProperty2.default)(this, \"configService\", _descriptor3, this);\n    (0, _initializerDefineProperty2.default)(this, \"resourcePool\", _descriptor4, this);\n  }\n\n  (0, _createClass2.default)(RendererSystem, [{\n    key: \"execute\",\n    value: function () {\n      var _execute = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(views) {\n        var _this$renderPassFacto, setupRenderPass, executeRenderPass, renderPass, _this$renderPassFacto2, setupCopyPass, executeCopyPass, tearDownCopyPass, copyPass;\n\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // const pixelPickingPass = this.renderPassFactory<PixelPickingPassData>(\n                //   PixelPickingPass.IDENTIFIER,\n                // );\n                // const {\n                //   setup: setupPixelPickingPass,\n                //   execute: executePixelPickingPass,\n                //   tearDown: tearDownPickingPass,\n                // } = pixelPickingPass;\n                // this.frameGraphSystem.addPass<PixelPickingPassData>(\n                //   PixelPickingPass.IDENTIFIER,\n                //   setupPixelPickingPass,\n                //   executePixelPickingPass,\n                //   tearDownPickingPass,\n                // );\n                _this$renderPassFacto = this.renderPassFactory(_RenderPass.RenderPass.IDENTIFIER), setupRenderPass = _this$renderPassFacto.setup, executeRenderPass = _this$renderPassFacto.execute;\n                renderPass = this.frameGraphSystem.addPass(_RenderPass.RenderPass.IDENTIFIER, setupRenderPass, executeRenderPass);\n                _this$renderPassFacto2 = this.renderPassFactory(_CopyPass.CopyPass.IDENTIFIER), setupCopyPass = _this$renderPassFacto2.setup, executeCopyPass = _this$renderPassFacto2.execute, tearDownCopyPass = _this$renderPassFacto2.tearDown;\n                copyPass = this.frameGraphSystem.addPass(_CopyPass.CopyPass.IDENTIFIER, setupCopyPass, executeCopyPass, tearDownCopyPass);\n                this.frameGraphSystem.present(copyPass.data.output); // this.frameGraphSystem.present(renderPass.data.output);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function execute(_x) {\n        return _execute.apply(this, arguments);\n      }\n\n      return execute;\n    }()\n  }, {\n    key: \"tearDown\",\n    value: function tearDown() {\n      this.resourcePool.clean();\n    }\n  }, {\n    key: \"pick\",\n    value: function pick(position, view) {\n      var pickingPass = this.renderPassFactory(_PixelPickingPass.PixelPickingPass.IDENTIFIER);\n      return pickingPass.pick(position, view);\n    }\n  }]);\n  return RendererSystem;\n}(), _temp), (_descriptor = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"frameGraphSystem\", [_dec2, _dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"renderPassFactory\", [_dec4], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"configService\", [_dec5], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor4 = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"resourcePool\", [_dec6], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class2)) || _class);\nexports.RendererSystem = RendererSystem;\n//# sourceMappingURL=System.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CopyPass = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _initializerDefineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/initializerDefineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _applyDecoratedDescriptor2 = _interopRequireDefault(require(\"@babel/runtime/helpers/applyDecoratedDescriptor\"));\n\nvar _initializerWarningHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/initializerWarningHelper\"));\n\nvar _inversify = require(\"inversify\");\n\nvar _identifier = require(\"../../../identifier\");\n\nvar _gl = require(\"../gl\");\n\nvar _RenderPass = require(\"./RenderPass\");\n\nvar _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2, _class3, _temp;\n\n/* babel-plugin-inline-import '../../../services/shader-module/shaders/webgl.copy.frag.glsl' */\nvar copyFrag = \"varying vec2 v_UV;\\n\\nuniform sampler2D u_Texture;\\n\\nvoid main() {\\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\\n}\";\n\n/* babel-plugin-inline-import '../../../services/shader-module/shaders/webgl.copy.vert.glsl' */\nvar copyVert = \"attribute vec2 a_Position;\\n\\nvarying vec2 v_UV;\\n\\nvoid main() {\\n  v_UV = 0.5 * (a_Position + 1.0);\\n  gl_Position = vec4(a_Position, 0., 1.);\\n}\";\n\n/* babel-plugin-inline-import '../../../services/shader-module/shaders/webgpu.copy.frag.glsl' */\nvar copyFragWebGPU = \"layout(set = 0, binding = 0) uniform sampler u_TextureSampler;\\nlayout(set = 0, binding = 1) uniform texture2D u_Texture;\\n\\nlayout(location = 0) in vec2 v_UV;\\nlayout(location = 0) out vec4 outColor;\\n\\nvoid main() {\\n  outColor = texture(sampler2D(u_Texture, u_TextureSampler), v_UV);\\n}\";\n\n/* babel-plugin-inline-import '../../../services/shader-module/shaders/webgpu.copy.vert.glsl' */\nvar copyVertWebGPU = \"layout(location = 0) in vec2 a_Position;\\nlayout(location = 0) out vec2 v_UV;\\n\\nvoid main() {\\n  v_UV = 0.5 * (a_Position + 1.0);\\n  gl_Position = vec4(a_Position, 0., 1.);\\n}\";\nvar CopyPass = (_dec = (0, _inversify.injectable)(), _dec2 = (0, _inversify.inject)(_identifier.IDENTIFIER.RenderEngine), _dec3 = (0, _inversify.inject)(_identifier.IDENTIFIER.ResourcePool), _dec(_class = (_class2 = (_temp = _class3 = function CopyPass() {\n  var _this = this;\n\n  (0, _classCallCheck2.default)(this, CopyPass);\n  (0, _initializerDefineProperty2.default)(this, \"engine\", _descriptor, this);\n  (0, _initializerDefineProperty2.default)(this, \"resourcePool\", _descriptor2, this);\n  this.model = void 0;\n\n  this.setup = function (fg, passNode, pass) {\n    var renderPass = fg.getPass(_RenderPass.RenderPass.IDENTIFIER);\n\n    if (renderPass) {\n      var output = fg.createRenderTarget(passNode, 'render to screen', {\n        width: 1,\n        height: 1\n      });\n      pass.data = {\n        input: passNode.read(renderPass.data.output),\n        output: passNode.write(fg, output)\n      };\n    }\n  };\n\n  this.execute = /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(fg, pass) {\n      var _this$engine, createModel, createAttribute, createBuffer, model, resourceNode, framebuffer;\n\n      return _regenerator.default.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this$engine = _this.engine, createModel = _this$engine.createModel, createAttribute = _this$engine.createAttribute, createBuffer = _this$engine.createBuffer;\n\n              if (_this.model) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 4;\n              return createModel({\n                vs: _this.engine.supportWebGPU ? copyVertWebGPU : copyVert,\n                fs: _this.engine.supportWebGPU ? copyFragWebGPU : copyFrag,\n                attributes: {\n                  // rendering a fullscreen triangle instead of quad\n                  // @see https://www.saschawillems.de/blog/2016/08/13/vulkan-tutorial-on-rendering-a-fullscreen-quad-without-buffers/\n                  a_Position: createAttribute({\n                    buffer: createBuffer({\n                      data: [-4, -4, 4, -4, 0, 4],\n                      type: _gl.gl.FLOAT\n                    }),\n                    size: 2,\n                    arrayStride: 2 * 4,\n                    stepMode: 'vertex',\n                    attributes: [{\n                      shaderLocation: 0,\n                      offset: 0,\n                      format: 'float2'\n                    }]\n                  })\n                },\n                uniforms: {\n                  // @ts-ignore\n                  u_Texture: null\n                },\n                depth: {\n                  enable: false\n                },\n                count: 3,\n                blend: {\n                  // copy pass 需要混合\n                  // enable: this.getName() === 'copy',\n                  enable: true\n                }\n              });\n\n            case 4:\n              model = _context.sent;\n              _this.model = model;\n\n            case 6:\n              // 实例化资源\n              resourceNode = fg.getResourceNode(pass.data.input);\n              framebuffer = _this.resourcePool.getOrCreateResource(resourceNode.resource);\n\n              _this.engine.useFramebuffer(null, function () {\n                _this.engine.clear({\n                  framebuffer: null,\n                  color: [0, 0, 0, 0],\n                  depth: 1,\n                  stencil: 0\n                });\n\n                _this.model.draw({\n                  uniforms: {\n                    u_Texture: framebuffer // u_ViewportSize: [width, height],\n\n                  }\n                });\n              });\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  this.tearDown = function () {\n    _this.model = undefined;\n  };\n}, _class3.IDENTIFIER = 'Copy Pass', _temp), (_descriptor = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"engine\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"resourcePool\", [_dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class2)) || _class);\nexports.CopyPass = CopyPass;\n//# sourceMappingURL=CopyPass.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HierarchyComponent = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _ComponentManager = require(\"../../ComponentManager\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar HierarchyComponent = /*#__PURE__*/function (_Component) {\n  (0, _inherits2.default)(HierarchyComponent, _Component);\n\n  var _super = _createSuper(HierarchyComponent);\n\n  function HierarchyComponent(data) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, HierarchyComponent);\n    _this = _super.call(this, data);\n    _this.parentID = void 0;\n    Object.assign((0, _assertThisInitialized2.default)(_this), data);\n    return _this;\n  }\n\n  return HierarchyComponent;\n}(_ComponentManager.Component);\n\nexports.HierarchyComponent = HierarchyComponent;\n//# sourceMappingURL=HierarchyComponent.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SceneGraphSystem = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _initializerDefineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/initializerDefineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _applyDecoratedDescriptor2 = _interopRequireDefault(require(\"@babel/runtime/helpers/applyDecoratedDescriptor\"));\n\nvar _initializerWarningHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/initializerWarningHelper\"));\n\nvar _glMatrix = require(\"gl-matrix\");\n\nvar _inversify = require(\"inversify\");\n\nvar _identifier = require(\"../../identifier\");\n\nvar _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor, _descriptor2, _descriptor3, _temp;\n\nvar SceneGraphSystem = (_dec = (0, _inversify.injectable)(), _dec2 = (0, _inversify.inject)(_identifier.IDENTIFIER.HierarchyComponentManager), _dec3 = (0, _inversify.inject)(_identifier.IDENTIFIER.TransformComponentManager), _dec4 = (0, _inversify.inject)(_identifier.IDENTIFIER.MeshComponentManager), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function () {\n  function SceneGraphSystem() {\n    (0, _classCallCheck2.default)(this, SceneGraphSystem);\n    (0, _initializerDefineProperty2.default)(this, \"hierarchy\", _descriptor, this);\n    (0, _initializerDefineProperty2.default)(this, \"transform\", _descriptor2, this);\n    (0, _initializerDefineProperty2.default)(this, \"mesh\", _descriptor3, this);\n  }\n\n  (0, _createClass2.default)(SceneGraphSystem, [{\n    key: \"execute\",\n    value: function () {\n      var _execute = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.runTransformUpdateSystem();\n                this.runHierarchyUpdateSystem();\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function execute() {\n        return _execute.apply(this, arguments);\n      }\n\n      return execute;\n    }()\n  }, {\n    key: \"tearDown\",\n    value: function tearDown() {\n      this.hierarchy.clear();\n      this.transform.clear();\n    }\n  }, {\n    key: \"getHierarchyComponentManager\",\n    value: function getHierarchyComponentManager() {\n      return this.hierarchy;\n    }\n  }, {\n    key: \"getTransformComponentManager\",\n    value: function getTransformComponentManager() {\n      return this.transform;\n    }\n  }, {\n    key: \"runTransformUpdateSystem\",\n    value: function runTransformUpdateSystem() {\n      var _this = this;\n\n      // 原版基于 JobSystem 实现\n      this.transform.forEach(function (entity, transform) {\n        if (transform.isDirty() || transform.isLocalDirty()) {\n          _this.setMeshAABBDirty(_this.mesh.getComponentByEntity(entity));\n\n          transform.updateTransform();\n        }\n      });\n    }\n  }, {\n    key: \"runHierarchyUpdateSystem\",\n    value: function runHierarchyUpdateSystem() {\n      var _this2 = this;\n\n      this.hierarchy.forEach(function (entity, parentComponent) {\n        var transformChild = _this2.transform.getComponentByEntity(entity);\n\n        var transformParent = _this2.transform.getComponentByEntity(parentComponent.parentID);\n\n        if (transformChild !== null && transformParent !== null) {\n          transformChild.updateTransformWithParent(transformParent);\n        }\n      });\n    }\n  }, {\n    key: \"attach\",\n    value: function attach(entity, parent, isChildAlreadyInLocalSpace) {\n      if (this.hierarchy.contains(entity)) {\n        this.detach(entity);\n      }\n\n      this.hierarchy.create(entity, {\n        parentID: parent\n      });\n      var mesh = this.mesh.getComponentByEntity(parent); // inform parent mesh to update its aabb\n\n      this.setMeshAABBDirty(mesh);\n\n      if (mesh && mesh.children.indexOf(entity) === -1) {\n        mesh.children.push(entity);\n      }\n\n      if (this.hierarchy.getCount() > 1) {\n        for (var i = this.hierarchy.getCount() - 1; i > 0; --i) {\n          var parentCandidateEntity = this.hierarchy.getEntity(i); // const parentCandidateComponent = this.hierarchy.getComponent(i);\n\n          for (var j = 0; j < i; ++j) {\n            var childCandidateEntity = this.hierarchy.getComponent(j);\n\n            if (childCandidateEntity.parentID === parentCandidateEntity) {\n              this.hierarchy.moveItem(i, j);\n              ++i; // next outer iteration will check the same index again as parent candidate, however things were moved upwards, so it will be a different entity!\n\n              break;\n            }\n          }\n        }\n      } // Re-query parent after potential MoveItem(), because it invalidates references:\n\n\n      var parentcomponent = this.hierarchy.getComponentByEntity(entity);\n      var transformParent = this.transform.getComponentByEntity(parent);\n\n      if (transformParent === null) {\n        transformParent = this.transform.create(parent);\n      }\n\n      var transformChild = this.transform.getComponentByEntity(entity);\n\n      if (transformChild === null) {\n        transformChild = this.transform.create(entity); // after transforms.Create(), transform_parent pointer could have become invalidated!\n\n        transformParent = this.transform.getComponentByEntity(parent);\n      }\n\n      transformChild.parent = transformParent;\n\n      if (!isChildAlreadyInLocalSpace && transformParent) {\n        transformChild.matrixTransform(_glMatrix.mat4.invert(_glMatrix.mat4.create(), transformParent.worldTransform));\n        transformChild.updateTransform();\n      }\n\n      if (transformParent) {\n        transformChild.updateTransformWithParent(transformParent);\n      }\n    }\n  }, {\n    key: \"detach\",\n    value: function detach(entity) {\n      var self = this.hierarchy.getComponentByEntity(entity);\n\n      if (self !== null) {\n        var transform = this.transform.getComponentByEntity(entity);\n\n        if (transform !== null) {\n          transform.parent = null;\n          transform.applyTransform();\n        }\n\n        this.hierarchy.removeKeepSorted(entity); // inform parent mesh to update its aabb\n\n        var mesh = this.mesh.getComponentByEntity(self.parentID);\n\n        if (mesh) {\n          var index = mesh.children.indexOf(entity);\n          mesh.children.splice(index, 1);\n        }\n\n        this.setMeshAABBDirty(mesh);\n      }\n    }\n  }, {\n    key: \"detachChildren\",\n    value: function detachChildren(parent) {\n      var mesh = this.mesh.getComponentByEntity(parent);\n\n      if (mesh) {\n        mesh.children = [];\n      }\n\n      for (var i = 0; i < this.hierarchy.getCount();) {\n        var _this$hierarchy$getCo;\n\n        if (((_this$hierarchy$getCo = this.hierarchy.getComponent(i)) === null || _this$hierarchy$getCo === void 0 ? void 0 : _this$hierarchy$getCo.parentID) === parent) {\n          var entity = this.hierarchy.getEntity(i);\n          this.detach(entity);\n        } else {\n          ++i;\n        }\n      }\n    }\n  }, {\n    key: \"setMeshAABBDirty\",\n    value: function setMeshAABBDirty(mesh) {\n      if (mesh) {\n        mesh.aabbDirty = true;\n      }\n    }\n  }]);\n  return SceneGraphSystem;\n}(), _temp), (_descriptor = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"hierarchy\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"transform\", [_dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"mesh\", [_dec4], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class2)) || _class);\nexports.SceneGraphSystem = SceneGraphSystem;\n//# sourceMappingURL=System.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TransformComponent = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _glMatrix = require(\"gl-matrix\");\n\nvar _ComponentManager = require(\"../../ComponentManager\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar TransformComponent = /*#__PURE__*/function (_Component) {\n  (0, _inherits2.default)(TransformComponent, _Component);\n\n  var _super = _createSuper(TransformComponent);\n\n  /**\n   * local space RTS\n   */\n\n  /**\n   * XMFLOAT4X4._41\n   * @see https://docs.microsoft.com/en-us/windows/win32/api/directxmath/nf-directxmath-xmfloat4x4-xmfloat4x4(constfloat)#remarks\n   */\n\n  /**\n   * world space RTS\n   */\n  // 高阶函数，利用闭包重复利用临时变量\n  // @see playcanvas graph node\n\n  /**\n   * @see https://docs.microsoft.com/en-us/windows/win32/api/directxmath/nf-directxmath-xmquaternionrotationrollpitchyaw\n   */\n\n  /**\n   * @see https://xiaoiver.github.io/coding/2018/12/28/Camera-%E8%AE%BE%E8%AE%A1-%E4%B8%80.html\n   */\n\n  /**\n   * TODO: 支持以下两种：\n   * * translate(x, y, z)\n   * * translate(vec3(x, y, z))\n   */\n\n  /**\n   * @see https://en.wikipedia.org/wiki/Centripetal_Catmull%E2%80%93Rom_spline\n   */\n  // public catmullRom = (() => {\n  //   const aS = vec3.create();\n  //   const aR = quat.create();\n  //   const aT = vec3.create();\n  //   const bS = vec3.create();\n  //   const bR = quat.create();\n  //   const bT = vec3.create();\n  //   const cS = vec3.create();\n  //   const cR = quat.create();\n  //   const cT = vec3.create();\n  //   const dS = vec3.create();\n  //   const dR = quat.create();\n  //   const dT = vec3.create();\n  //   const R = quat.create();\n  //   return (\n  //     a: TransformComponent,\n  //     b: TransformComponent,\n  //     c: TransformComponent,\n  //     d: TransformComponent,\n  //     t: number,\n  //   ) => {\n  //     this.setDirty();\n  //     mat4.getScaling(aS, a.worldTransform);\n  //     mat4.getTranslation(aT, a.worldTransform);\n  //     mat4.getRotation(aR, a.worldTransform);\n  //     mat4.getScaling(bS, b.worldTransform);\n  //     mat4.getTranslation(bT, b.worldTransform);\n  //     mat4.getRotation(bR, b.worldTransform);\n  //     mat4.getScaling(cS, c.worldTransform);\n  //     mat4.getTranslation(cT, c.worldTransform);\n  //     mat4.getRotation(cR, c.worldTransform);\n  //     mat4.getScaling(dS, d.worldTransform);\n  //     mat4.getTranslation(dT, d.worldTransform);\n  //     mat4.getRotation(dR, d.worldTransform);\n  //     vec3.catmullRom(this.localPosition, aT, bT, cT, dT, t);\n  //     vec3.catmullRom(R, aR, bR, cR, dR, t);\n  //     quat.normalize(this.localRotation, R);\n  //     vec3.catmullRom(this.localScale, aS, bS, cS, dS, t);\n  //   };\n  // })();\n  function TransformComponent(data) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, TransformComponent);\n    _this = _super.call(this, data);\n    _this.dirtyFlag = void 0;\n    _this.localDirtyFlag = void 0;\n    _this.parent = null;\n    _this.localPosition = _glMatrix.vec3.fromValues(0, 0, 0);\n    _this.localRotation = _glMatrix.quat.fromValues(0, 0, 0, 1);\n    _this.localScale = _glMatrix.vec3.fromValues(1, 1, 1);\n    _this.localTransform = _glMatrix.mat4.create();\n    _this.position = _glMatrix.vec3.fromValues(0, 0, 0);\n    _this.rotation = _glMatrix.quat.fromValues(0, 0, 0, 1);\n    _this.scaling = _glMatrix.vec3.fromValues(1, 1, 1);\n    _this.worldTransform = _glMatrix.mat4.create();\n\n    _this.matrixTransform = function () {\n      var transformed = _glMatrix.mat4.create();\n\n      return function (mat) {\n        _glMatrix.mat4.multiply(transformed, _this.getLocalTransform(), mat);\n\n        _glMatrix.mat4.getScaling(_this.localScale, transformed);\n\n        _glMatrix.mat4.getTranslation(_this.localPosition, transformed);\n\n        _glMatrix.mat4.getRotation(_this.localRotation, transformed);\n      };\n    }();\n\n    _this.rotateRollPitchYaw = function () {\n      var quatX = _glMatrix.quat.create();\n\n      var quatY = _glMatrix.quat.create();\n\n      var quatZ = _glMatrix.quat.create();\n\n      return function (x, y, z) {\n        _this.setDirty();\n\n        _glMatrix.quat.fromEuler(quatX, x, 0, 0);\n\n        _glMatrix.quat.fromEuler(quatY, 0, y, 0);\n\n        _glMatrix.quat.fromEuler(quatZ, 0, 0, z);\n\n        _glMatrix.quat.multiply(_this.localRotation, quatX, _this.localRotation);\n\n        _glMatrix.quat.multiply(_this.localRotation, _this.localRotation, quatY);\n\n        _glMatrix.quat.multiply(_this.localRotation, quatZ, _this.localRotation);\n\n        _glMatrix.quat.normalize(_this.localRotation, _this.localRotation);\n      };\n    }();\n\n    _this.lerp = function () {\n      var aS = _glMatrix.vec3.create();\n\n      var aR = _glMatrix.quat.create();\n\n      var aT = _glMatrix.vec3.create();\n\n      var bS = _glMatrix.vec3.create();\n\n      var bR = _glMatrix.quat.create();\n\n      var bT = _glMatrix.vec3.create();\n\n      return function (a, b, t) {\n        _this.setDirty();\n\n        _glMatrix.mat4.getScaling(aS, a.worldTransform);\n\n        _glMatrix.mat4.getTranslation(aT, a.worldTransform);\n\n        _glMatrix.mat4.getRotation(aR, a.worldTransform);\n\n        _glMatrix.mat4.getScaling(bS, b.worldTransform);\n\n        _glMatrix.mat4.getTranslation(bT, b.worldTransform);\n\n        _glMatrix.mat4.getRotation(bR, b.worldTransform);\n\n        _glMatrix.vec3.lerp(_this.localScale, aS, bS, t);\n\n        _glMatrix.quat.slerp(_this.localRotation, aR, bR, t);\n\n        _glMatrix.vec3.lerp(_this.localPosition, aT, bT, t);\n      };\n    }();\n\n    _this.translate = function () {\n      var tr = _glMatrix.vec3.create();\n\n      return function (translation) {\n        _glMatrix.vec3.add(tr, _this.getPosition(), translation);\n\n        _this.setPosition(tr);\n\n        _this.setDirty(true);\n\n        return (0, _assertThisInitialized2.default)(_this);\n      };\n    }();\n\n    _this.translateLocal = function () {\n      return function (translation) {\n        _glMatrix.vec3.transformQuat(translation, translation, _this.localRotation);\n\n        _glMatrix.vec3.add(_this.localPosition, _this.localPosition, translation);\n\n        _this.setLocalDirty(true);\n\n        return (0, _assertThisInitialized2.default)(_this);\n      };\n    }();\n\n    _this.setPosition = function () {\n      var parentInvertMatrix = _glMatrix.mat4.create();\n\n      return function (position) {\n        _this.position = position;\n\n        _this.setLocalDirty(true);\n\n        if (_this.parent === null) {\n          _glMatrix.vec3.copy(_this.localPosition, position);\n        } else {\n          _glMatrix.mat4.copy(parentInvertMatrix, _this.parent.worldTransform);\n\n          _glMatrix.mat4.invert(parentInvertMatrix, parentInvertMatrix);\n\n          _glMatrix.vec3.transformMat4(_this.localPosition, position, parentInvertMatrix);\n        }\n\n        return (0, _assertThisInitialized2.default)(_this);\n      };\n    }();\n\n    _this.rotate = function () {\n      var parentInvertRotation = _glMatrix.quat.create();\n\n      return function (quaternion) {\n        if (_this.parent === null) {\n          _glMatrix.quat.multiply(_this.localRotation, _this.localRotation, quaternion);\n\n          _glMatrix.quat.normalize(_this.localRotation, _this.localRotation);\n        } else {\n          var rot = _this.getRotation();\n\n          var parentRot = _this.parent.getRotation();\n\n          _glMatrix.quat.copy(parentInvertRotation, parentRot);\n\n          _glMatrix.quat.invert(parentInvertRotation, parentInvertRotation);\n\n          _glMatrix.quat.multiply(parentInvertRotation, parentInvertRotation, quaternion);\n\n          _glMatrix.quat.multiply(_this.localRotation, quaternion, rot);\n\n          _glMatrix.quat.normalize(_this.localRotation, _this.localRotation);\n        }\n\n        _this.setLocalDirty();\n\n        return (0, _assertThisInitialized2.default)(_this);\n      };\n    }();\n\n    _this.rotateLocal = function () {\n      return function (quaternion) {\n        _glMatrix.quat.multiply(_this.localRotation, _this.localRotation, quaternion);\n\n        _glMatrix.quat.normalize(_this.localRotation, _this.localRotation);\n\n        _this.setLocalDirty(true);\n\n        return (0, _assertThisInitialized2.default)(_this);\n      };\n    }();\n\n    _this.setRotation = function () {\n      var invParentRot = _glMatrix.quat.create();\n\n      return function (rotation) {\n        if (_this.parent === null) {\n          _glMatrix.quat.copy(_this.localRotation, rotation);\n        } else {\n          _glMatrix.quat.copy(invParentRot, _this.parent.getRotation());\n\n          _glMatrix.quat.invert(invParentRot, invParentRot);\n\n          _glMatrix.quat.copy(_this.localRotation, invParentRot);\n\n          _glMatrix.quat.mul(_this.localRotation, _this.localRotation, rotation);\n        }\n\n        _this.setLocalDirty(true);\n\n        return (0, _assertThisInitialized2.default)(_this);\n      };\n    }();\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(TransformComponent, [{\n    key: \"setLocalPosition\",\n    value: function setLocalPosition(position) {\n      _glMatrix.vec3.copy(this.localPosition, position);\n\n      this.setLocalDirty(true);\n    }\n  }, {\n    key: \"setLocalScale\",\n    value: function setLocalScale(scale) {\n      _glMatrix.vec3.copy(this.localScale, scale);\n\n      this.setLocalDirty(true);\n    }\n  }, {\n    key: \"setLocalRotation\",\n    value: function setLocalRotation(rotation) {\n      _glMatrix.quat.copy(this.localRotation, rotation);\n\n      this.setLocalDirty(true);\n      return this;\n    }\n  }, {\n    key: \"isDirty\",\n    value: function isDirty() {\n      return this.dirtyFlag;\n    }\n  }, {\n    key: \"setDirty\",\n    value: function setDirty() {\n      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (value) {\n        this.dirtyFlag |= TransformComponent.DIRTY;\n      } else {\n        this.dirtyFlag &= ~TransformComponent.DIRTY;\n      }\n    }\n  }, {\n    key: \"isLocalDirty\",\n    value: function isLocalDirty() {\n      return this.localDirtyFlag;\n    }\n  }, {\n    key: \"setLocalDirty\",\n    value: function setLocalDirty() {\n      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (value) {\n        this.localDirtyFlag |= TransformComponent.DIRTY;\n        this.setDirty(true);\n      } else {\n        this.localDirtyFlag &= ~TransformComponent.DIRTY;\n      }\n    }\n  }, {\n    key: \"updateTransform\",\n    value: function updateTransform() {\n      if (this.isLocalDirty()) {\n        this.getLocalTransform();\n      }\n\n      if (this.isDirty()) {\n        if (this.parent === null) {\n          _glMatrix.mat4.copy(this.worldTransform, this.getLocalTransform());\n\n          this.setDirty(false);\n        }\n      }\n    }\n  }, {\n    key: \"updateTransformWithParent\",\n    value: function updateTransformWithParent(parent) {\n      _glMatrix.mat4.multiply(this.worldTransform, parent.worldTransform, this.getLocalTransform());\n    }\n  }, {\n    key: \"applyTransform\",\n    value: function applyTransform() {\n      this.setDirty();\n\n      _glMatrix.mat4.getScaling(this.localScale, this.worldTransform);\n\n      _glMatrix.mat4.getTranslation(this.localPosition, this.worldTransform);\n\n      _glMatrix.mat4.getRotation(this.localRotation, this.worldTransform);\n    }\n  }, {\n    key: \"clearTransform\",\n    value: function clearTransform() {\n      this.setDirty();\n      this.localPosition = _glMatrix.vec3.fromValues(0, 0, 0);\n      this.localRotation = _glMatrix.quat.fromValues(0, 0, 0, 1);\n      this.localScale = _glMatrix.vec3.fromValues(1, 1, 1);\n    }\n  }, {\n    key: \"scaleLocal\",\n    value: function scaleLocal(scaling) {\n      this.setLocalDirty();\n\n      _glMatrix.vec3.multiply(this.localScale, this.localScale, scaling);\n\n      return this;\n    }\n  }, {\n    key: \"getLocalPosition\",\n    value: function getLocalPosition() {\n      return this.localPosition;\n    }\n  }, {\n    key: \"getLocalRotation\",\n    value: function getLocalRotation() {\n      return this.localRotation;\n    }\n  }, {\n    key: \"getLocalScale\",\n    value: function getLocalScale() {\n      return this.localScale;\n    }\n  }, {\n    key: \"getLocalTransform\",\n    value: function getLocalTransform() {\n      if (this.localDirtyFlag) {\n        _glMatrix.mat4.fromRotationTranslationScale(this.localTransform, this.localRotation, this.localPosition, this.localScale);\n\n        this.setLocalDirty(false);\n      }\n\n      return this.localTransform;\n    }\n  }, {\n    key: \"getWorldTransform\",\n    value: function getWorldTransform() {\n      if (!this.isLocalDirty() && !this.isDirty()) {\n        return this.worldTransform;\n      }\n\n      if (this.parent) {\n        this.parent.getWorldTransform();\n      }\n\n      this.updateTransform();\n      return this.worldTransform;\n    }\n  }, {\n    key: \"getPosition\",\n    value: function getPosition() {\n      _glMatrix.mat4.getTranslation(this.position, this.worldTransform);\n\n      return this.position;\n    }\n  }, {\n    key: \"getRotation\",\n    value: function getRotation() {\n      _glMatrix.mat4.getRotation(this.rotation, this.worldTransform);\n\n      return this.rotation;\n    }\n  }, {\n    key: \"getScale\",\n    value: function getScale() {\n      _glMatrix.mat4.getScaling(this.scaling, this.worldTransform);\n\n      return this.scaling;\n    }\n  }]);\n  return TransformComponent;\n}(_ComponentManager.Component);\n\nexports.TransformComponent = TransformComponent;\nTransformComponent.DIRTY = 1 << 0;\n//# sourceMappingURL=TransformComponent.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createWorldContainer = createWorldContainer;\nexports.lazyMultiInject = exports.lazyInject = exports.container = void 0;\n\nrequire(\"reflect-metadata\");\n\nvar _inversify = require(\"inversify\");\n\nvar _inversifyInjectDecorators = _interopRequireDefault(require(\"inversify-inject-decorators\"));\n\nvar _ComponentManager = require(\"./ComponentManager\");\n\nvar _ResourcePool = require(\"./components/framegraph/ResourcePool\");\n\nvar _System = require(\"./components/framegraph/System\");\n\nvar _GeometryComponent = require(\"./components/geometry/GeometryComponent\");\n\nvar _System2 = require(\"./components/geometry/System\");\n\nvar _MaterialComponent = require(\"./components/material/MaterialComponent\");\n\nvar _System3 = require(\"./components/material/System\");\n\nvar _CullableComponent = require(\"./components/mesh/CullableComponent\");\n\nvar _MeshComponent = require(\"./components/mesh/MeshComponent\");\n\nvar _System4 = require(\"./components/mesh/System\");\n\nvar _CopyPass = require(\"./components/renderer/passes/CopyPass\");\n\nvar _PixelPickingPass = require(\"./components/renderer/passes/PixelPickingPass\");\n\nvar _RenderPass = require(\"./components/renderer/passes/RenderPass\");\n\nvar _System5 = require(\"./components/renderer/System\");\n\nvar _HierarchyComponent = require(\"./components/scenegraph/HierarchyComponent\");\n\nvar _NameComponent = require(\"./components/scenegraph/NameComponent\");\n\nvar _System6 = require(\"./components/scenegraph/System\");\n\nvar _TransformComponent = require(\"./components/scenegraph/TransformComponent\");\n\nvar _identifier = require(\"./identifier\");\n\nvar _ConfigService = require(\"./services/config/ConfigService\");\n\nvar _IteractorService = require(\"./services/interactor/IteractorService\");\n\nvar _ShaderModuleService = _interopRequireDefault(require(\"./services/shader-module/ShaderModuleService\"));\n\n/**\n * Root Container\n * @see /dev-docs/IoC 容器、依赖注入与服务说明.md\n */\n// import { InteractionSystem } from './components/interaction/System';\n// @see https://github.com/inversify/InversifyJS/blob/master/wiki/container_api.md#defaultscope\nvar container = new _inversify.Container(); // @see https://github.com/inversify/InversifyJS/blob/master/wiki/inheritance.md#what-can-i-do-when-my-base-class-is-provided-by-a-third-party-module\n// decorate(injectable(), EventEmitter);\n// container.bind(IDENTIFIER.IEventEmitter).to(EventEmitter);\n// 支持使用 new 而非容器实例化的场景，同时禁止 lazyInject cache\n// @see https://github.com/inversify/inversify-inject-decorators#caching-vs-non-caching-behaviour\n\nexports.container = container;\nvar DECORATORS = (0, _inversifyInjectDecorators.default)(container, false);\n\n// Add babel legacy decorators support\n// @see https://github.com/inversify/InversifyJS/issues/1050\n// @see https://github.com/inversify/InversifyJS/issues/1026#issuecomment-504936034\nvar lazyInject = function lazyInject(serviceIdentifier) {\n  var original = DECORATORS.lazyInject(serviceIdentifier); // the 'descriptor' parameter is actually always defined for class fields for Babel, but is considered undefined for TSC\n  // so we just hack it with ?/! combination to avoid \"TS1240: Unable to resolve signature of property decorator when called as an expression\"\n\n  return function (proto, key, descriptor) {\n    // make it work as usual\n    original.call(this, proto, key); // return link to proto, so own value wont be 'undefined' after component's creation\n\n    if (descriptor) {\n      descriptor.initializer = function () {\n        return proto[key];\n      };\n    }\n  };\n};\n\nexports.lazyInject = lazyInject;\n\nvar lazyMultiInject = function lazyMultiInject(serviceIdentifier) {\n  var original = DECORATORS.lazyMultiInject(serviceIdentifier); // the 'descriptor' parameter is actually always defined for class fields for Babel, but is considered undefined for TSC\n  // so we just hack it with ?/! combination to avoid \"TS1240: Unable to resolve signature of property decorator when called as an expression\"\n\n  return function (proto, key, descriptor) {\n    // make it work as usual\n    original.call(this, proto, key);\n\n    if (descriptor) {\n      // return link to proto, so own value wont be 'undefined' after component's creation\n      descriptor.initializer = function () {\n        return proto[key];\n      };\n    }\n  };\n};\n/** global services */\n\n\nexports.lazyMultiInject = lazyMultiInject;\ncontainer.bind(_identifier.IDENTIFIER.ShaderModuleService).to(_ShaderModuleService.default).inSingletonScope();\n/**\n * bind global component managers in root container\n */\n\ncontainer.bind(_identifier.IDENTIFIER.NameComponentManager).toConstantValue(new _ComponentManager.ComponentManager(_NameComponent.NameComponent));\ncontainer.bind(_identifier.IDENTIFIER.HierarchyComponentManager).toConstantValue(new _ComponentManager.ComponentManager(_HierarchyComponent.HierarchyComponent));\ncontainer.bind(_identifier.IDENTIFIER.TransformComponentManager).toConstantValue(new _ComponentManager.ComponentManager(_TransformComponent.TransformComponent));\ncontainer.bind(_identifier.IDENTIFIER.MeshComponentManager).toConstantValue(new _ComponentManager.ComponentManager(_MeshComponent.MeshComponent));\ncontainer.bind(_identifier.IDENTIFIER.CullableComponentManager).toConstantValue(new _ComponentManager.ComponentManager(_CullableComponent.CullableComponent));\ncontainer.bind(_identifier.IDENTIFIER.GeometryComponentManager).toConstantValue(new _ComponentManager.ComponentManager(_GeometryComponent.GeometryComponent));\ncontainer.bind(_identifier.IDENTIFIER.MaterialComponentManager).toConstantValue(new _ComponentManager.ComponentManager(_MaterialComponent.MaterialComponent)); // https://github.com/inversify/InversifyJS/blob/master/wiki/hierarchical_di.md#support-for-hierarchical-di-systems\n\nfunction createWorldContainer() {\n  var worldContainer = new _inversify.Container();\n  worldContainer.parent = container;\n  /**\n   * bind systems\n   */\n\n  worldContainer.bind(_identifier.IDENTIFIER.Systems).to(_System6.SceneGraphSystem).inSingletonScope().whenTargetNamed(_identifier.IDENTIFIER.SceneGraphSystem);\n  worldContainer.bind(_identifier.IDENTIFIER.Systems).to(_System.FrameGraphSystem).inSingletonScope().whenTargetNamed(_identifier.IDENTIFIER.FrameGraphSystem);\n  worldContainer.bind(_identifier.IDENTIFIER.Systems).to(_System4.MeshSystem).inSingletonScope().whenTargetNamed(_identifier.IDENTIFIER.MeshSystem);\n  worldContainer.bind(_identifier.IDENTIFIER.Systems).to(_System2.GeometrySystem).inSingletonScope().whenTargetNamed(_identifier.IDENTIFIER.GeometrySystem);\n  worldContainer.bind(_identifier.IDENTIFIER.Systems).to(_System3.MaterialSystem).inSingletonScope().whenTargetNamed(_identifier.IDENTIFIER.MaterialSystem);\n  worldContainer.bind(_identifier.IDENTIFIER.Systems).to(_System5.RendererSystem).inSingletonScope().whenTargetNamed(_identifier.IDENTIFIER.RendererSystem); // 资源池\n\n  worldContainer.bind(_identifier.IDENTIFIER.ResourcePool).to(_ResourcePool.ResourcePool).inSingletonScope();\n  worldContainer.bind(_identifier.IDENTIFIER.ConfigService).to(_ConfigService.ConfigService).inSingletonScope();\n  worldContainer.bind(_identifier.IDENTIFIER.InteractorService).to(_IteractorService.InteractorService).inSingletonScope();\n  /**\n   * bind render passes\n   */\n\n  worldContainer.bind(_identifier.IDENTIFIER.RenderPass).to(_RenderPass.RenderPass).inSingletonScope().whenTargetNamed(_RenderPass.RenderPass.IDENTIFIER);\n  worldContainer.bind(_identifier.IDENTIFIER.RenderPass).to(_CopyPass.CopyPass).inSingletonScope().whenTargetNamed(_CopyPass.CopyPass.IDENTIFIER);\n  worldContainer.bind(_identifier.IDENTIFIER.RenderPass).to(_PixelPickingPass.PixelPickingPass).inSingletonScope().whenTargetNamed(_PixelPickingPass.PixelPickingPass.IDENTIFIER);\n  worldContainer.bind(_identifier.IDENTIFIER.RenderPassFactory).toFactory(function (context) {\n    return function (name) {\n      return context.container.getNamed(_identifier.IDENTIFIER.RenderPass, name);\n    };\n  });\n  return worldContainer;\n}\n//# sourceMappingURL=inversify.config.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ResourcePool = void 0;\n\nvar _initializerDefineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/initializerDefineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _applyDecoratedDescriptor2 = _interopRequireDefault(require(\"@babel/runtime/helpers/applyDecoratedDescriptor\"));\n\nvar _initializerWarningHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/initializerWarningHelper\"));\n\nvar _inversify = require(\"inversify\");\n\nvar _identifier = require(\"../../identifier\");\n\nvar _gl = require(\"../renderer/gl\");\n\nvar _dec, _dec2, _class, _class2, _descriptor, _temp;\n\nvar ResourcePool = (_dec = (0, _inversify.injectable)(), _dec2 = (0, _inversify.inject)(_identifier.IDENTIFIER.RenderEngine), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function () {\n  function ResourcePool() {\n    (0, _classCallCheck2.default)(this, ResourcePool);\n    (0, _initializerDefineProperty2.default)(this, \"engine\", _descriptor, this);\n    this.resourcePool = {};\n  }\n\n  (0, _createClass2.default)(ResourcePool, [{\n    key: \"getOrCreateResource\",\n\n    /**\n     * 负责实例化虚拟资源，通过引擎服务\n     * @param resource 虚拟资源\n     */\n    value: function getOrCreateResource(resource) {\n      if (!this.resourcePool[resource.name]) {\n        var _resource$descriptor = resource.descriptor,\n            width = _resource$descriptor.width,\n            height = _resource$descriptor.height,\n            usage = _resource$descriptor.usage;\n        this.resourcePool[resource.name] = this.engine.createFramebuffer({\n          color: this.engine.createTexture2D({\n            width: width,\n            height: height,\n            wrapS: _gl.gl.CLAMP_TO_EDGE,\n            wrapT: _gl.gl.CLAMP_TO_EDGE,\n            usage: usage\n          })\n        });\n      }\n\n      return this.resourcePool[resource.name];\n    }\n  }, {\n    key: \"clean\",\n    value: function clean() {\n      this.resourcePool = {};\n    }\n  }]);\n  return ResourcePool;\n}(), _temp), (_descriptor = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"engine\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class2)) || _class);\nexports.ResourcePool = ResourcePool;\n//# sourceMappingURL=ResourcePool.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NameComponent = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _ComponentManager = require(\"../../ComponentManager\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar NameComponent = /*#__PURE__*/function (_Component) {\n  (0, _inherits2.default)(NameComponent, _Component);\n\n  var _super = _createSuper(NameComponent);\n\n  function NameComponent(data) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, NameComponent);\n    _this = _super.call(this, data);\n    _this.name = void 0;\n    _this.name = data.name || '';\n    return _this;\n  }\n\n  return NameComponent;\n}(_ComponentManager.Component);\n\nexports.NameComponent = NameComponent;\n//# sourceMappingURL=NameComponent.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ConfigService = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inversify = require(\"inversify\");\n\nvar _dec, _class, _temp;\n\nvar ConfigService = (_dec = (0, _inversify.injectable)(), _dec(_class = (_temp = /*#__PURE__*/function () {\n  function ConfigService() {\n    (0, _classCallCheck2.default)(this, ConfigService);\n    this.config = void 0;\n  }\n\n  (0, _createClass2.default)(ConfigService, [{\n    key: \"get\",\n    value: function get() {\n      return this.config;\n    }\n  }, {\n    key: \"set\",\n    value: function set(config) {\n      this.config = config;\n    }\n  }]);\n  return ConfigService;\n}(), _temp)) || _class);\nexports.ConfigService = ConfigService;\n//# sourceMappingURL=ConfigService.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InteractorService = exports.IInteractorEvent = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inversify = require(\"inversify\");\n\nvar _dec, _class;\n\nvar IInteractorEvent;\nexports.IInteractorEvent = IInteractorEvent;\n\n(function (IInteractorEvent) {\n  IInteractorEvent[\"PANSTART\"] = \"PANSTART\";\n  IInteractorEvent[\"PANEND\"] = \"PANEND\";\n  IInteractorEvent[\"PANMOVE\"] = \"PANMOVE\";\n  IInteractorEvent[\"PINCH\"] = \"PINCH\";\n  IInteractorEvent[\"KEYDOWN\"] = \"KEYDOWN\";\n  IInteractorEvent[\"KEYUP\"] = \"KEYUP\";\n  IInteractorEvent[\"HOVER\"] = \"HOVER\";\n})(IInteractorEvent || (exports.IInteractorEvent = IInteractorEvent = {}));\n\nvar InteractorService = (_dec = (0, _inversify.injectable)(), _dec(_class = /*#__PURE__*/function () {\n  function InteractorService() {\n    (0, _classCallCheck2.default)(this, InteractorService);\n  }\n\n  (0, _createClass2.default)(InteractorService, [{\n    key: \"listen\",\n    value: function listen(canvas) {}\n  }, {\n    key: \"on\",\n    value: function on(event, args) {}\n  }, {\n    key: \"connect\",\n    value: function connect() {}\n  }, {\n    key: \"disconnect\",\n    value: function disconnect() {}\n  }, {\n    key: \"destroy\",\n    value: function destroy() {}\n  }]);\n  return InteractorService;\n}()) || _class);\nexports.InteractorService = InteractorService;\n//# sourceMappingURL=IteractorService.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inversify = require(\"inversify\");\n\nvar _shaderModule = require(\"../../utils/shader-module\");\n\nvar _uniq = require(\"../../utils/uniq\");\n\nvar _dec, _class, _temp;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* babel-plugin-inline-import './shaders/webgl.picking.frag.glsl' */\nvar pickingFrag = \"varying vec4 v_PickingResult;\\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\\nuniform float u_PickingStage : 0.0;\\n\\n#define PICKING_ENCODE 1.0\\n#define PICKING_HIGHLIGHT 2.0\\n#define COLOR_SCALE 1. / 255.\\n\\n/*\\n * Returns highlight color if this item is selected.\\n */\\nvec4 filterHighlightColor(vec4 color) {\\n  bool selected = bool(v_PickingResult.a);\\n\\n  if (selected) {\\n    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;\\n\\n    float highLightAlpha = highLightColor.a;\\n    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));\\n\\n    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);\\n    return vec4(resultRGB, color.a);\\n  } else {\\n    return color;\\n  }\\n}\\n\\n/*\\n * Returns picking color if picking enabled else unmodified argument.\\n */\\nvec4 filterPickingColor(vec4 color) {\\n  vec3 pickingColor = v_PickingResult.rgb;\\n  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {\\n    discard;\\n  }\\n  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;\\n}\\n\\n/*\\n * Returns picking color if picking is enabled if not\\n * highlight color if this item is selected, otherwise unmodified argument.\\n */\\nvec4 filterColor(vec4 color) {\\n  return filterPickingColor(filterHighlightColor(color));\\n}\\n\";\n\n/* babel-plugin-inline-import './shaders/webgl.picking.vert.glsl' */\nvar pickingVert = \"attribute vec3 a_PickingColor;\\nvarying vec4 v_PickingResult;\\n\\nuniform vec3 u_PickingColor : [0, 0, 0];\\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\\nuniform float u_PickingStage : 0.0;\\nuniform float u_PickingThreshold : 1.0;\\nuniform float u_PickingBuffer: 0.0;\\n\\n#define PICKING_ENCODE 1.0\\n#define PICKING_HIGHLIGHT 2.0\\n#define COLOR_SCALE 1. / 255.\\n\\nbool isVertexPicked(vec3 vertexColor) {\\n  return\\n    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&\\n    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&\\n    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;\\n}\\n\\nvoid setPickingColor(vec3 pickingColor) {\\n  // compares only in highlight stage\\n  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));\\n\\n  // Stores the picking color so that the fragment shader can render it during picking\\n  v_PickingResult.rgb = pickingColor * COLOR_SCALE;\\n}\\n\\nfloat setPickingSize(float x) {\\n   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;\\n}\";\n\n/* babel-plugin-inline-import './shaders/webgl.sdf2d.frag.glsl' */\nvar sdf2dFrag = \"/**\\n * 2D signed distance field functions\\n * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm\\n */\\n\\nfloat ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }\\n\\nfloat sdCircle(vec2 p, float r) {\\n  return length(p) - r;\\n}\\n\\nfloat sdEquilateralTriangle(vec2 p) {\\n  float k = sqrt(3.0);\\n  p.x = abs(p.x) - 1.0;\\n  p.y = p.y + 1.0/k;\\n  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;\\n  p.x -= clamp( p.x, -2.0, 0.0 );\\n  return -length(p)*sign(p.y);\\n}\\n\\nfloat sdBox(vec2 p, vec2 b) {\\n  vec2 d = abs(p)-b;\\n  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);\\n}\\n\\nfloat sdPentagon(vec2 p, float r) {\\n  vec3 k = vec3(0.809016994,0.587785252,0.726542528);\\n  p.x = abs(p.x);\\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\\n  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);\\n  return length(p)*sign(p.y);\\n}\\n\\nfloat sdHexagon(vec2 p, float r) {\\n  vec3 k = vec3(-0.866025404,0.5,0.577350269);\\n  p = abs(p);\\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\\n  return length(p)*sign(p.y);\\n}\\n\\nfloat sdOctogon(vec2 p, float r) {\\n  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );\\n  p = abs(p);\\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\\n  return length(p)*sign(p.y);\\n}\\n\\nfloat sdHexagram(vec2 p, float r) {\\n  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);\\n  p = abs(p);\\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\\n  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;\\n  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);\\n  return length(p)*sign(p.y);\\n}\\n\\nfloat sdRhombus(vec2 p, vec2 b) {\\n  vec2 q = abs(p);\\n  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);\\n  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );\\n  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );\\n}\\n\\nfloat sdVesica(vec2 p, float r, float d) {\\n  p = abs(p);\\n  float b = sqrt(r*r-d*d); // can delay this sqrt\\n  return ((p.y-b)*d>p.x*b)\\n          ? length(p-vec2(0.0,b))\\n          : length(p-vec2(-d,0.0))-r;\\n}\";\nvar precisionRegExp = /precision\\s+(high|low|medium)p\\s+float/;\nvar globalDefaultprecision = '#ifdef GL_FRAGMENT_PRECISION_HIGH\\n precision highp float;\\n #else\\n precision mediump float;\\n#endif\\n';\nvar includeRegExp = /#pragma include ([\"^+\"]?[\"\\ \"[a-zA-Z_0-9](.*)\"]*?)/g;\nvar ShaderModuleService = (_dec = (0, _inversify.injectable)(), _dec(_class = (_temp = /*#__PURE__*/function () {\n  function ShaderModuleService() {\n    (0, _classCallCheck2.default)(this, ShaderModuleService);\n    this.moduleCache = {};\n    this.rawContentCache = {};\n  }\n\n  (0, _createClass2.default)(ShaderModuleService, [{\n    key: \"registerBuiltinModules\",\n    value: function registerBuiltinModules() {\n      this.destroy();\n      this.registerModule('picking', {\n        vs: pickingVert,\n        fs: pickingFrag\n      });\n      this.registerModule('sdf2d', {\n        vs: '',\n        fs: sdf2dFrag\n      });\n    }\n  }, {\n    key: \"registerModule\",\n    value: function registerModule(moduleName, moduleParams) {\n      // prevent registering the same module multiple times\n      if (this.rawContentCache[moduleName]) {\n        return;\n      }\n\n      var _moduleParams$vs = moduleParams.vs,\n          vs = _moduleParams$vs === void 0 ? '' : _moduleParams$vs,\n          _moduleParams$fs = moduleParams.fs,\n          fs = _moduleParams$fs === void 0 ? '' : _moduleParams$fs,\n          declaredUniforms = moduleParams.uniforms;\n\n      var _extractUniforms = (0, _shaderModule.extractUniforms)(vs),\n          extractedVS = _extractUniforms.content,\n          vsUniforms = _extractUniforms.uniforms;\n\n      var _extractUniforms2 = (0, _shaderModule.extractUniforms)(fs),\n          extractedFS = _extractUniforms2.content,\n          fsUniforms = _extractUniforms2.uniforms;\n\n      this.rawContentCache[moduleName] = {\n        fs: extractedFS,\n        uniforms: _objectSpread(_objectSpread(_objectSpread({}, vsUniforms), fsUniforms), declaredUniforms),\n        vs: extractedVS\n      };\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.moduleCache = {};\n      this.rawContentCache = {};\n    }\n  }, {\n    key: \"getModule\",\n    value: function getModule(moduleName) {\n      var _this = this;\n\n      if (this.moduleCache[moduleName]) {\n        return this.moduleCache[moduleName];\n      }\n\n      var rawVS = this.rawContentCache[moduleName].vs || '';\n      var rawFS = this.rawContentCache[moduleName].fs || '';\n\n      var _this$processModule = this.processModule(rawVS, [], 'vs'),\n          vs = _this$processModule.content,\n          vsIncludeList = _this$processModule.includeList;\n\n      var _this$processModule2 = this.processModule(rawFS, [], 'fs'),\n          fs = _this$processModule2.content,\n          fsIncludeList = _this$processModule2.includeList;\n\n      var compiledFs = fs; // TODO: extract uniforms and their default values from GLSL\n\n      var uniforms = (0, _uniq.uniq)(vsIncludeList.concat(fsIncludeList).concat(moduleName)).reduce(function (prev, cur) {\n        return _objectSpread(_objectSpread({}, prev), _this.rawContentCache[cur].uniforms);\n      }, {});\n      /**\n       * set default precision for fragment shader\n       * https://stackoverflow.com/questions/28540290/why-it-is-necessary-to-set-precision-for-the-fragment-shader\n       */\n\n      if (!precisionRegExp.test(fs)) {\n        compiledFs = globalDefaultprecision + fs;\n      }\n\n      this.moduleCache[moduleName] = {\n        fs: compiledFs.trim(),\n        uniforms: uniforms,\n        vs: vs.trim()\n      };\n      return this.moduleCache[moduleName];\n    }\n  }, {\n    key: \"processModule\",\n    value: function processModule(rawContent, includeList, type) {\n      var _this2 = this;\n\n      var compiled = rawContent.replace(includeRegExp, function (_, strMatch) {\n        var includeOpt = strMatch.split(' ');\n        var includeName = includeOpt[0].replace(/\"/g, '');\n\n        if (includeList.indexOf(includeName) > -1) {\n          return '';\n        }\n\n        var txt = _this2.rawContentCache[includeName][type];\n        includeList.push(includeName);\n\n        var _this2$processModule = _this2.processModule(txt || '', includeList, type),\n            content = _this2$processModule.content;\n\n        return content;\n      });\n      return {\n        content: compiled,\n        includeList: includeList\n      };\n    }\n  }]);\n  return ShaderModuleService;\n}(), _temp)) || _class);\nexports.default = ShaderModuleService;\n//# sourceMappingURL=ShaderModuleService.js.map","\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getUniformLengthByType = getUniformLengthByType;\nexports.extractUniforms = extractUniforms;\n\nfunction getUniformLengthByType(type) {\n  var arrayLength = 0;\n\n  switch (type) {\n    case 'vec2':\n    case 'ivec2':\n      arrayLength = 2;\n      break;\n\n    case 'vec3':\n    case 'ivec3':\n      arrayLength = 3;\n      break;\n\n    case 'vec4':\n    case 'ivec4':\n    case 'mat2':\n      arrayLength = 4;\n      break;\n\n    case 'mat3':\n      arrayLength = 9;\n      break;\n\n    case 'mat4':\n      arrayLength = 16;\n      break;\n\n    default:\n  }\n\n  return arrayLength;\n}\n\nvar uniformRegExp = /uniform\\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\\s+([\\s\\S]*?);/g;\n\nfunction extractUniforms(content) {\n  var uniforms = {};\n  content = content.replace(uniformRegExp, function (_, type, c) {\n    var defaultValues = c.split(':');\n    var uniformName = defaultValues[0].trim();\n    var defaultValue = '';\n\n    if (defaultValues.length > 1) {\n      defaultValue = defaultValues[1].trim();\n    } // set default value for uniform according to its type\n    // eg. vec2 u -> [0.0, 0.0]\n\n\n    switch (type) {\n      case 'bool':\n        defaultValue = defaultValue === 'true';\n        break;\n\n      case 'float':\n      case 'int':\n        defaultValue = Number(defaultValue);\n        break;\n\n      case 'vec2':\n      case 'vec3':\n      case 'vec4':\n      case 'ivec2':\n      case 'ivec3':\n      case 'ivec4':\n      case 'mat2':\n      case 'mat3':\n      case 'mat4':\n        if (defaultValue) {\n          defaultValue = defaultValue.replace('[', '').replace(']', '').split(',').reduce(function (prev, cur) {\n            prev.push(Number(cur.trim()));\n            return prev;\n          }, []);\n        } else {\n          defaultValue = new Array(getUniformLengthByType(type)).fill(0);\n        }\n\n        break;\n\n      default:\n    } // @ts-ignore\n\n\n    uniforms[uniformName] = defaultValue;\n    return \"uniform \".concat(type, \" \").concat(uniformName, \";\\n\");\n  });\n  return {\n    content: content,\n    uniforms: uniforms\n  };\n}\n//# sourceMappingURL=shader-module.js.map","\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.uniq = uniq;\n\nfunction uniq(array) {\n  return array.filter(function (v, i, a) {\n    return a.indexOf(v) === i;\n  });\n}\n//# sourceMappingURL=uniq.js.map","\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.generateAABBFromVertices = generateAABBFromVertices;\n\nvar _glMatrix = require(\"gl-matrix\");\n\nvar _AABB = require(\"../shape/AABB\");\n\n/**\n * generate AABB with positions\n * @param positions [x1,y1,z1, x2,y2,z2]\n */\nfunction generateAABBFromVertices(positions) {\n  var aabb = new _AABB.AABB();\n\n  var min = _glMatrix.vec3.fromValues(positions[0], positions[1], positions[2]);\n\n  var max = _glMatrix.vec3.fromValues(positions[0], positions[1], positions[2]);\n\n  for (var i = 3; i < positions.length;) {\n    var x = positions[i++];\n    var y = positions[i++];\n    var z = positions[i++];\n\n    if (x < min[0]) {\n      min[0] = x;\n    }\n\n    if (y < min[1]) {\n      min[1] = y;\n    }\n\n    if (z < min[2]) {\n      min[2] = z;\n    }\n\n    if (x > max[0]) {\n      max[0] = x;\n    }\n\n    if (y > max[1]) {\n      max[1] = y;\n    }\n\n    if (z > max[2]) {\n      max[2] = z;\n    }\n  }\n\n  aabb.setMinMax(min, max);\n  return aabb;\n}\n//# sourceMappingURL=aabb.js.map","\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isSafari = void 0;\nvar isSafari = typeof navigator !== 'undefined' && /Version\\/[\\d\\.]+.*Safari/.test(navigator.userAgent);\nexports.isSafari = isSafari;\n//# sourceMappingURL=isSafari.js.map","\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _config = require(\"./config\");\n\nObject.keys(_config).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _config[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _config[key];\n    }\n  });\n});\n\nvar _interactor = require(\"./interactor\");\n\nObject.keys(_interactor).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _interactor[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _interactor[key];\n    }\n  });\n});\n\nvar _shaderModule = require(\"./shader-module\");\n\nObject.keys(_shaderModule).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _shaderModule[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _shaderModule[key];\n    }\n  });\n});\n//# sourceMappingURL=index.js.map","\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ConfigService = require(\"./ConfigService\");\n\nObject.keys(_ConfigService).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _ConfigService[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _ConfigService[key];\n    }\n  });\n});\n//# sourceMappingURL=index.js.map","\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _IteractorService = require(\"./IteractorService\");\n\nObject.keys(_IteractorService).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _IteractorService[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _IteractorService[key];\n    }\n  });\n});\n//# sourceMappingURL=index.js.map","\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ShaderModuleService = require(\"./ShaderModuleService\");\n\nObject.keys(_ShaderModuleService).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _ShaderModuleService[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _ShaderModuleService[key];\n    }\n  });\n});\n//# sourceMappingURL=index.js.map","\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _AABB = require(\"./AABB\");\n\nObject.keys(_AABB).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _AABB[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _AABB[key];\n    }\n  });\n});\n\nvar _BoundingSphere = require(\"./BoundingSphere\");\n\nObject.keys(_BoundingSphere).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _BoundingSphere[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _BoundingSphere[key];\n    }\n  });\n});\n\nvar _Frustum = require(\"./Frustum\");\n\nObject.keys(_Frustum).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _Frustum[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Frustum[key];\n    }\n  });\n});\n\nvar _Plane = require(\"./Plane\");\n\nObject.keys(_Plane).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _Plane[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Plane[key];\n    }\n  });\n});\n\nvar _Ray = require(\"./Ray\");\n\nObject.keys(_Ray).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _Ray[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Ray[key];\n    }\n  });\n});\n//# sourceMappingURL=index.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BoundingSphere = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _glMatrix = require(\"gl-matrix\");\n\nvar tmpVecA = _glMatrix.vec3.create();\n\nvar BoundingSphere = /*#__PURE__*/function () {\n  function BoundingSphere(center, radius) {\n    (0, _classCallCheck2.default)(this, BoundingSphere);\n    this.center = void 0;\n    this.radius = void 0;\n    this.center = center || _glMatrix.vec3.create();\n    this.radius = radius || 0.5;\n  }\n\n  (0, _createClass2.default)(BoundingSphere, [{\n    key: \"containsPoint\",\n    value: function containsPoint(point) {\n      _glMatrix.vec3.sub(tmpVecA, point, this.center);\n\n      return _glMatrix.vec3.length(tmpVecA) < this.radius * this.radius;\n    }\n  }, {\n    key: \"intersects\",\n    value: function intersects(sphere) {\n      _glMatrix.vec3.sub(tmpVecA, sphere.center, this.center);\n\n      var totalRadius = sphere.radius + this.radius;\n\n      if (_glMatrix.vec3.length(tmpVecA) <= totalRadius * totalRadius) {\n        return true;\n      }\n\n      return false;\n    }\n  }]);\n  return BoundingSphere;\n}();\n\nexports.BoundingSphere = BoundingSphere;\n//# sourceMappingURL=BoundingSphere.js.map","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Ray = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _glMatrix = require(\"gl-matrix\");\n\nvar tmpVecA = _glMatrix.vec3.create();\n\nvar tmpVecB = _glMatrix.vec3.create();\n\nvar tmpVecC = _glMatrix.vec3.create();\n\nvar tmpVecD = _glMatrix.vec3.create();\n\nvar tmpVecE = _glMatrix.vec3.create();\n/**\n * 包含求交方法：\n * * intersectsShape(Shape, intersection) 返回交点和求交结果\n * @see https://github.com/playcanvas/engine/blob/master/src/shape/bounding-box.js#L161\n * @see https://github.com/mrdoob/three.js/blob/dev/src/math/Ray.js\n */\n\n\nvar Ray = /*#__PURE__*/function () {\n  function Ray(origin, direction) {\n    (0, _classCallCheck2.default)(this, Ray);\n    this.origin = void 0;\n    this.direction = void 0;\n    this.origin = origin || _glMatrix.vec3.create();\n    this.direction = direction || _glMatrix.vec3.fromValues(0, 0, -1);\n  }\n\n  (0, _createClass2.default)(Ray, [{\n    key: \"intersectsAABB\",\n    value: function intersectsAABB(aabb, intersection) {\n      return intersection ? this.intersectAABBWithIntersection(aabb, intersection) : this.intersectsAABBWithoutIntersection(aabb);\n    }\n  }, {\n    key: \"intersectsSphere\",\n    value: function intersectsSphere(sphere, intersection) {\n      var m = _glMatrix.vec3.sub(tmpVecA, this.origin, sphere.center);\n\n      _glMatrix.vec3.normalize(tmpVecB, _glMatrix.vec3.copy(tmpVecB, this.direction));\n\n      var b = _glMatrix.vec3.dot(m, tmpVecB);\n\n      var c = _glMatrix.vec3.dot(m, m) - sphere.radius * sphere.radius; // exit if ray's origin outside of sphere (c > 0) and ray pointing away from s (b > 0)\n\n      if (c > 0 && b > 0) {\n        return null;\n      }\n\n      var discr = b * b - c; // a negative discriminant corresponds to ray missing sphere\n\n      if (discr < 0) {\n        return false;\n      } // ray intersects sphere, compute smallest t value of intersection\n\n\n      var t = Math.abs(-b - Math.sqrt(discr)); // if t is negative, ray started inside sphere so clamp t to zero\n\n      if (intersection) {\n        _glMatrix.vec3.copy(intersection, this.direction);\n\n        _glMatrix.vec3.scaleAndAdd(intersection, this.origin, intersection, t);\n      }\n\n      return true;\n    }\n  }, {\n    key: \"intersectsPlane\",\n    value: function intersectsPlane(plane, intersection) {\n      var t = (plane.distance - _glMatrix.vec3.dot(plane.normal, this.origin)) / _glMatrix.vec3.dot(plane.normal, this.direction);\n\n      var intersects = t >= 0;\n\n      if (intersects && intersection) {\n        _glMatrix.vec3.scaleAndAdd(intersection, this.origin, this.direction, t);\n      }\n\n      return intersects;\n    }\n    /**\n     * faster than implements like Three.js\n     * @see https://github.com/playcanvas/engine/blob/master/src/shape/bounding-box.js#L161\n     */\n\n  }, {\n    key: \"intersectsAABBWithoutIntersection\",\n    value: function intersectsAABBWithoutIntersection(aabb) {\n      var diff = tmpVecA;\n      var cross = tmpVecB;\n      var prod = tmpVecC;\n      var absDiff = tmpVecD;\n      var absDir = tmpVecE;\n      var rayDir = this.direction;\n\n      _glMatrix.vec3.sub(diff, this.origin, aabb.center);\n\n      _glMatrix.vec3.set(absDiff, Math.abs(diff[0]), Math.abs(diff[1]), Math.abs(diff[2]));\n\n      _glMatrix.vec3.mul(prod, diff, rayDir);\n\n      if (absDiff[0] > aabb.halfExtents[0] && prod[0] >= 0 || absDiff[1] > aabb.halfExtents[1] && prod[1] >= 0 || absDiff[2] > aabb.halfExtents[2] && prod[2] >= 0) {\n        return false;\n      }\n\n      _glMatrix.vec3.set(absDir, Math.abs(rayDir[0]), Math.abs(rayDir[1]), Math.abs(rayDir[2]));\n\n      _glMatrix.vec3.cross(cross, rayDir, diff);\n\n      _glMatrix.vec3.set(cross, Math.abs(cross[0]), Math.abs(cross[1]), Math.abs(cross[2]));\n\n      return !(cross[0] > aabb.halfExtents[1] * absDir[2] + aabb.halfExtents[2] * absDir[1] || cross[1] > aabb.halfExtents[0] * absDir[2] + aabb.halfExtents[2] * absDir[0] || cross[2] > aabb.halfExtents[0] * absDir[1] + aabb.halfExtents[1] * absDir[0]);\n    }\n  }, {\n    key: \"intersectAABBWithIntersection\",\n    value: function intersectAABBWithIntersection(aabb, intersection) {\n      var tMin = _glMatrix.vec3.copy(_glMatrix.vec3.create(), aabb.getMin());\n\n      _glMatrix.vec3.sub(tMin, tMin, this.origin);\n\n      var tMax = _glMatrix.vec3.copy(_glMatrix.vec3.create(), aabb.getMax());\n\n      _glMatrix.vec3.sub(tMax, tMax, this.origin);\n\n      var dir = this.direction; // Ensure that we are not dividing it by zero\n\n      if (dir[0] === 0) {\n        tMin[0] = tMin[0] < 0 ? -Number.MAX_VALUE : Number.MAX_VALUE;\n        tMax[0] = tMax[0] < 0 ? -Number.MAX_VALUE : Number.MAX_VALUE;\n      } else {\n        tMin[0] /= dir[0];\n        tMax[0] /= dir[0];\n      }\n\n      if (dir[1] === 0) {\n        tMin[1] = tMin[1] < 0 ? -Number.MAX_VALUE : Number.MAX_VALUE;\n        tMax[1] = tMax[1] < 0 ? -Number.MAX_VALUE : Number.MAX_VALUE;\n      } else {\n        tMin[1] /= dir[1];\n        tMax[1] /= dir[1];\n      }\n\n      if (dir[2] === 0) {\n        tMin[2] = tMin[2] < 0 ? -Number.MAX_VALUE : Number.MAX_VALUE;\n        tMax[2] = tMax[2] < 0 ? -Number.MAX_VALUE : Number.MAX_VALUE;\n      } else {\n        tMin[2] /= dir[2];\n        tMax[2] /= dir[2];\n      }\n\n      var realMin = _glMatrix.vec3.set(tmpVecC, Math.min(tMin[0], tMax[0]), Math.min(tMin[1], tMax[1]), Math.min(tMin[2], tMax[2]));\n\n      var realMax = _glMatrix.vec3.set(tmpVecD, Math.max(tMin[0], tMax[0]), Math.max(tMin[1], tMax[1]), Math.max(tMin[2], tMax[2]));\n\n      var minMax = Math.min(Math.min(realMax[0], realMax[1]), realMax[2]);\n      var maxMin = Math.max(Math.max(realMin[0], realMin[1]), realMin[2]);\n      var intersects = minMax >= maxMin && maxMin >= 0;\n\n      if (intersects) {\n        _glMatrix.vec3.copy(intersection, this.direction);\n\n        _glMatrix.vec3.scaleAndAdd(intersection, this.origin, intersection, maxMin);\n      }\n\n      return intersects;\n    }\n  }]);\n  return Ray;\n}();\n\nexports.Ray = Ray;\n//# sourceMappingURL=Ray.js.map","\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gl = require(\"./gl\");\n\nObject.keys(_gl).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _gl[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _gl[key];\n    }\n  });\n});\n\nvar _IAttribute = require(\"./IAttribute\");\n\nObject.keys(_IAttribute).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _IAttribute[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _IAttribute[key];\n    }\n  });\n});\n\nvar _IBuffer = require(\"./IBuffer\");\n\nObject.keys(_IBuffer).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _IBuffer[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _IBuffer[key];\n    }\n  });\n});\n\nvar _IComputeModel = require(\"./IComputeModel\");\n\nObject.keys(_IComputeModel).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _IComputeModel[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _IComputeModel[key];\n    }\n  });\n});\n\nvar _IElements = require(\"./IElements\");\n\nObject.keys(_IElements).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _IElements[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _IElements[key];\n    }\n  });\n});\n\nvar _IFramebuffer = require(\"./IFramebuffer\");\n\nObject.keys(_IFramebuffer).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _IFramebuffer[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _IFramebuffer[key];\n    }\n  });\n});\n\nvar _IModel = require(\"./IModel\");\n\nObject.keys(_IModel).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _IModel[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _IModel[key];\n    }\n  });\n});\n\nvar _IMultiPassRenderer = require(\"./IMultiPassRenderer\");\n\nObject.keys(_IMultiPassRenderer).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _IMultiPassRenderer[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _IMultiPassRenderer[key];\n    }\n  });\n});\n\nvar _IRenderbuffer = require(\"./IRenderbuffer\");\n\nObject.keys(_IRenderbuffer).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _IRenderbuffer[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _IRenderbuffer[key];\n    }\n  });\n});\n\nvar _IRendererService = require(\"./IRendererService\");\n\nObject.keys(_IRendererService).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _IRendererService[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _IRendererService[key];\n    }\n  });\n});\n\nvar _ITexture2D = require(\"./ITexture2D\");\n\nObject.keys(_ITexture2D).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _ITexture2D[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _ITexture2D[key];\n    }\n  });\n});\n\nvar _IUniform = require(\"./IUniform\");\n\nObject.keys(_IUniform).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _IUniform[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _IUniform[key];\n    }\n  });\n});\n//# sourceMappingURL=index.js.map","\n//# sourceMappingURL=IAttribute.js.map","\n//# sourceMappingURL=IBuffer.js.map","\n//# sourceMappingURL=IComputeModel.js.map","\n//# sourceMappingURL=IElements.js.map","\n//# sourceMappingURL=IFramebuffer.js.map","\n//# sourceMappingURL=IModel.js.map","\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PassType = void 0;\nvar PassType;\n/**\n * Pass 分两类：\n * 1. 渲染相关 eg. ClearPass、RenderPass、PickingPass、ShadowPass\n * 2. PostProcessing eg. CopyPass、BlurPass\n * 另外考虑到 Pass 之间严格的执行顺序，render 方法必须是异步的\n */\n\nexports.PassType = PassType;\n\n(function (PassType) {\n  PassType[\"Normal\"] = \"normal\";\n  PassType[\"PostProcessing\"] = \"post-processing\";\n})(PassType || (exports.PassType = PassType = {}));\n//# sourceMappingURL=IMultiPassRenderer.js.map","\n//# sourceMappingURL=IRenderbuffer.js.map","\n//# sourceMappingURL=IRendererService.js.map","\n//# sourceMappingURL=ITexture2D.js.map","\n//# sourceMappingURL=IUniform.js.map","\n//# sourceMappingURL=interface.js.map","\n//# sourceMappingURL=interface.js.map"]}