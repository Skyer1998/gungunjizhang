{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/../src/is-array-like.ts","webpack://[name]/../src/contains.ts","webpack://[name]/../src/filter.ts","webpack://[name]/../src/difference.ts","webpack://[name]/../src/is-type.ts","webpack://[name]/../src/is-function.ts","webpack://[name]/../src/is-nil.ts","webpack://[name]/../src/is-array.ts","webpack://[name]/../src/is-object.ts","webpack://[name]/../src/each.ts","webpack://[name]/../src/keys.ts","webpack://[name]/../src/is-match.ts","webpack://[name]/../src/is-object-like.ts","webpack://[name]/../src/is-plain-object.ts","webpack://[name]/../src/find.ts","webpack://[name]/../src/find-index.ts","webpack://[name]/../src/first-value.ts","webpack://[name]/../src/flatten.ts","webpack://[name]/../src/flatten-deep.ts","webpack://[name]/../src/max.ts","webpack://[name]/../src/min.ts","webpack://[name]/../src/get-range.ts","webpack://[name]/../src/pull.ts","webpack://[name]/../src/pull-at.ts","webpack://[name]/../src/reduce.ts","webpack://[name]/../src/remove.ts","webpack://[name]/../src/is-string.ts","webpack://[name]/../src/sort-by.ts","webpack://[name]/../src/uniq.ts","webpack://[name]/../src/union.ts","webpack://[name]/../src/values-of-key.ts","webpack://[name]/../src/head.ts","webpack://[name]/../src/last.ts","webpack://[name]/../src/starts-with.ts","webpack://[name]/../src/ends-with.ts","webpack://[name]/../src/every.ts","webpack://[name]/../src/some.ts","webpack://[name]/../src/group-by.ts","webpack://[name]/../src/group-to-map.ts","webpack://[name]/../src/group.ts","webpack://[name]/../src/get-wrap-behavior.ts","webpack://[name]/../src/wrap-behavior.ts","webpack://[name]/../src/number2color.ts","webpack://[name]/../src/parse-radius.ts","webpack://[name]/../src/clamp.ts","webpack://[name]/../src/fixed-base.ts","webpack://[name]/../src/is-number.ts","webpack://[name]/../src/is-decimal.ts","webpack://[name]/../src/is-even.ts","webpack://[name]/../src/is-integer.ts","webpack://[name]/../src/is-negative.ts","webpack://[name]/../src/is-number-equal.ts","webpack://[name]/../src/is-odd.ts","webpack://[name]/../src/is-positive.ts","webpack://[name]/../src/max-by.ts","webpack://[name]/../src/min-by.ts","webpack://[name]/../src/mod.ts","webpack://[name]/../src/to-degree.ts","webpack://[name]/../src/to-integer.ts","webpack://[name]/../src/to-radian.ts","webpack://[name]/../src/for-in.ts","webpack://[name]/../src/has.ts","webpack://[name]/../src/has-key.ts","webpack://[name]/../src/values.ts","webpack://[name]/../src/has-value.ts","webpack://[name]/../src/to-string.ts","webpack://[name]/../src/lower-case.ts","webpack://[name]/../src/lower-first.ts","webpack://[name]/../src/substitute.ts","webpack://[name]/../src/upper-case.ts","webpack://[name]/../src/upper-first.ts","webpack://[name]/../src/get-type.ts","webpack://[name]/../src/is-arguments.ts","webpack://[name]/../src/is-boolean.ts","webpack://[name]/../src/is-date.ts","webpack://[name]/../src/is-error.ts","webpack://[name]/../src/is-finite.ts","webpack://[name]/../src/is-null.ts","webpack://[name]/../src/is-prototype.ts","webpack://[name]/../src/is-reg-exp.ts","webpack://[name]/../src/is-undefined.ts","webpack://[name]/../src/is-element.ts","webpack://[name]/../src/request-animation-frame.ts","webpack://[name]/../src/clear-animation-frame.ts","webpack://[name]/../src/mix.ts","webpack://[name]/../src/augment.ts","webpack://[name]/../src/clone.ts","webpack://[name]/../src/debounce.ts","webpack://[name]/../src/memoize.ts","webpack://[name]/../src/deep-mix.ts","webpack://[name]/../src/extend.ts","webpack://[name]/../src/index-of.ts","webpack://[name]/../src/is-empty.ts","webpack://[name]/../src/is-equal.ts","webpack://[name]/../src/is-equal-with.ts","webpack://[name]/../src/map.ts","webpack://[name]/../src/map-values.ts","webpack://[name]/../src/get.ts","webpack://[name]/../src/set.ts","webpack://[name]/../src/pick.ts","webpack://[name]/../src/omit.ts","webpack://[name]/../src/throttle.ts","webpack://[name]/../src/to-array.ts","webpack://[name]/../src/unique-id.ts","webpack://[name]/../src/noop.ts","webpack://[name]/../src/identity.ts","webpack://[name]/../src/size.ts","webpack://[name]/../src/measure-text-width.ts","webpack://[name]/../src/get-ellipsis-text.ts","webpack://[name]/../src/cache.ts","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/tslib/tslib.es6.js","webpack://[name]/../node_modules/color-convert/conversions.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/detect-browser/es/index.js","webpack://[name]/./src/index.umd.ts","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/process/browser.js","webpack://[name]/../node_modules/@antv/g-base/lib/util/util.js","webpack://[name]/./src/global.ts","webpack://[name]/../node_modules/@antv/g-base/lib/util/offscreen.js","webpack://[name]/../node_modules/color-string/index.js","webpack://[name]/../node_modules/color-name/index.js","webpack://[name]/../node_modules/simple-swizzle/index.js","webpack://[name]/../node_modules/simple-swizzle/node_modules/is-arrayish/index.js","webpack://[name]/../node_modules/color-convert/index.js","webpack://[name]/../node_modules/color-convert/node_modules/color-name/index.js","webpack://[name]/../node_modules/color-convert/route.js","webpack://[name]/../node_modules/@antv/layout/lib/util/index.js","webpack://[name]/../node_modules/@antv/layout/lib/util/string.js","webpack://[name]/../node_modules/@antv/layout/lib/util/array.js","webpack://[name]/../node_modules/@antv/layout/lib/util/number.js","webpack://[name]/../node_modules/@antv/layout/lib/util/math.js","webpack://[name]/../node_modules/@antv/layout/lib/util/object.js","webpack://[name]/../node_modules/@antv/layout/lib/util/function.js","webpack://[name]/(webpack)/buildin/amd-options.js","webpack://[name]/../core/es/behavior/behaviorOption.js","webpack://[name]/../core/es/behavior/behavior.js","webpack://[name]/../core/es/behavior/index.js","webpack://[name]/../core/es/util/math.js","webpack://[name]/../core/es/global.js","webpack://[name]/../core/es/util/letterAspectRatio.js","webpack://[name]/../core/es/util/graphic.js","webpack://[name]/../core/es/util/validation.js","webpack://[name]/../core/es/graph/controller/mode.js","webpack://[name]/../core/es/interface/behavior.js","webpack://[name]/../core/es/util/base.js","webpack://[name]/../core/es/graph/controller/view.js","webpack://[name]/../core/es/element/xml.js","webpack://[name]/../core/es/element/shape.js","webpack://[name]/../core/es/item/item.js","webpack://[name]/../core/es/item/edge.js","webpack://[name]/../core/es/item/node.js","webpack://[name]/../core/es/item/combo.js","webpack://[name]/../core/es/graph/controller/item.js","webpack://[name]/../core/es/graph/controller/state.js","webpack://[name]/../core/es/util/path.js","webpack://[name]/../core/es/element/hull/convexHull.js","webpack://[name]/../core/es/element/hull/bubbleset.js","webpack://[name]/../core/es/item/hull.js","webpack://[name]/../core/es/graph/graph.js","webpack://[name]/../core/es/element/shapeBase.js","webpack://[name]/../core/es/element/node.js","webpack://[name]/../core/es/element/edge.js","webpack://[name]/../core/es/element/combo.js","webpack://[name]/../core/es/element/combos/circle.js","webpack://[name]/../core/es/element/combos/rect.js","webpack://[name]/../core/es/element/nodes/simple-circle.js","webpack://[name]/../core/es/element/nodes/simple-rect.js","webpack://[name]/../core/es/element/nodes/image.js","webpack://[name]/../core/es/element/arrow.js","webpack://[name]/../core/es/types/index.js","webpack://[name]/../core/es/element/marker.js","webpack://[name]/../core/es/element/index.js","webpack://[name]/../core/es/util/color.js","webpack://[name]/../core/es/util/index.js","webpack://[name]/../core/es/graph/controller/layout.js","webpack://[name]/../core/es/graph/controller/event.js","webpack://[name]/../core/es/index.js","webpack://[name]/../src/parse-path.ts","webpack://[name]/../src/catmull-rom-2-bezier.ts","webpack://[name]/../src/parse-path-string.ts","webpack://[name]/../src/path-2-absolute.ts","webpack://[name]/../../src/process/arc-2-cubic.ts","webpack://[name]/../src/get-arc-params.ts","webpack://[name]/../src/path-2-segments.ts","webpack://[name]/./src/layout/index.ts","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/adjacent-matrix.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/structs/linked-list.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/structs/queue.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/util.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/bfs.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/connected-component.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/degree.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/dfs.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/detect-cycle.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/dijkstra.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/find-path.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/types.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/floydWarshall.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/label-propagation.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/utils/vector.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/utils/node-properties.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/utils/data-preprocessing.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/louvain.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/i-louvain.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/k-core.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/k-means.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/cosine-similarity.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/nodes-cosine-similarity.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/structs/union-find.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/structs/binary-heap.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/mts.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/pageRank.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/gSpan/struct.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/gSpan/gSpan.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/gaddi.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/structs/stack.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/index.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/gl-matrix/esm/mat3.js","webpack://[name]/../hammer/dist/hammer.min.js","webpack://[name]/./src/util/layout.ts","webpack://[name]/./src/util/index.ts","webpack://[name]/../element/node_modules/tslib/tslib.es6.js","webpack://[name]/../element/es/nodes/circle.js","webpack://[name]/../element/es/nodes/rect.js","webpack://[name]/../element/es/nodes/ellipse.js","webpack://[name]/../element/es/nodes/diamond.js","webpack://[name]/../element/es/nodes/triangle.js","webpack://[name]/../element/es/nodes/modelRect.js","webpack://[name]/../element/es/nodes/star.js","webpack://[name]/../element/es/nodes/donut.js","webpack://[name]/../element/es/edges/polyline-util.js","webpack://[name]/../element/es/edges/router.js","webpack://[name]/../element/es/edges/polyline.js","webpack://[name]/./src/behavior/drag-canvas.ts","webpack://[name]/./src/behavior/drag-node.ts","webpack://[name]/./src/behavior/click-select.ts","webpack://[name]/./src/behavior/zoom-canvas.ts","webpack://[name]/./src/behavior/collapse-expand.ts","webpack://[name]/./src/behavior/drag-combo.ts","webpack://[name]/./src/behavior/collapse-expand-combo.ts","webpack://[name]/./src/behavior/create-edge.ts","webpack://[name]/./src/behavior/mobile-behavior.ts","webpack://[name]/./src/behavior/index.ts","webpack://[name]/./src/behavior/activate-relations.ts","webpack://[name]/../src/ext.ts","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/gl-matrix/esm/vec2.js","webpack://[name]/../src/create-dom.ts","webpack://[name]/../src/modify-css.ts","webpack://[name]/../node_modules/color/index.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/gl-matrix/esm/common.js","webpack://[name]/../node_modules/@antv/layout/lib/registy/index.js","webpack://[name]/../node_modules/@antv/layout/lib/layout/random.js","webpack://[name]/../node_modules/@antv/layout/lib/layout/base.js","webpack://[name]/../../src/util/path.ts","webpack://[name]/../../src/event/graph-event.ts","webpack://[name]/../../src/util/util.ts","webpack://[name]/../../src/abstract/base.ts","webpack://[name]/../../src/util/matrix.ts","webpack://[name]/../../src/abstract/element.ts","webpack://[name]/../../src/abstract/container.ts","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/d3-timer/src/timer.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/d3-color/src/define.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/d3-color/src/color.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/basis.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/constant.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/color.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/rgb.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/basisClosed.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/numberArray.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/array.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/date.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/number.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/object.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/string.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/value.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/linear.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/quad.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/cubic.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/poly.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/sin.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/math.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/exp.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/circle.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/bounce.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/back.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/elastic.js","webpack://[name]/../../src/animate/register.ts","webpack://[name]/../../src/util/color.ts","webpack://[name]/../../src/animate/timeline.ts","webpack://[name]/../../src/event/event-contoller.ts","webpack://[name]/../../src/abstract/canvas.ts","webpack://[name]/../../src/abstract/group.ts","webpack://[name]/../../src/abstract/shape.ts","webpack://[name]/../../src/bbox/register.ts","webpack://[name]/../../src/bbox/rect.ts","webpack://[name]/../../src/bbox/circle.ts","webpack://[name]/../../src/bbox/util.ts","webpack://[name]/../../src/bbox/polyline.ts","webpack://[name]/../../src/util/offscreen.ts","webpack://[name]/../../src/util/text.ts","webpack://[name]/../../src/bbox/text.ts","webpack://[name]/../../src/bbox/path.ts","webpack://[name]/../../src/bbox/index.ts","webpack://[name]/../../src/bbox/polygon.ts","webpack://[name]/../../src/bbox/line.ts","webpack://[name]/../../src/bbox/ellipse.ts","webpack://[name]/../src/util.ts","webpack://[name]/../src/line.ts","webpack://[name]/../src/bezier.ts","webpack://[name]/../src/quadratic.ts","webpack://[name]/../src/cubic.ts","webpack://[name]/../src/ellipse.ts","webpack://[name]/../src/arc.ts","webpack://[name]/../src/segments.ts","webpack://[name]/../src/polyline.ts","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/gl-matrix/esm/vec3.js","webpack://[name]/../src/index.ts","webpack://[name]/../../src/util/time.ts","webpack://[name]/../../src/util/parse.ts","webpack://[name]/../../src/util/arc-params.ts","webpack://[name]/../../src/util/arrow.ts","webpack://[name]/../../src/util/draw.ts","webpack://[name]/../../src/shape/base.ts","webpack://[name]/../../src/shape/circle.ts","webpack://[name]/../../src/shape/ellipse.ts","webpack://[name]/../../src/shape/image.ts","webpack://[name]/../../../src/util/in-stroke/line.ts","webpack://[name]/../../src/shape/line.ts","webpack://[name]/../../src/shape/marker.ts","webpack://[name]/../../../src/util/in-path/polygon.ts","webpack://[name]/../../../src/util/in-stroke/arc.ts","webpack://[name]/../../src/shape/path.ts","webpack://[name]/../../../src/util/in-stroke/polyline.ts","webpack://[name]/../../src/shape/polygon.ts","webpack://[name]/../../src/shape/polyline.ts","webpack://[name]/../../src/shape/rect.ts","webpack://[name]/../../../src/util/in-stroke/rect-radius.ts","webpack://[name]/../../../src/util/in-stroke/rect.ts","webpack://[name]/../../src/shape/text.ts","webpack://[name]/../../src/util/hit.ts","webpack://[name]/../src/events.ts","webpack://[name]/../../src/util/mini-canvas-proxy.ts","webpack://[name]/../../../src/patch/bbox/text.ts","webpack://[name]/../../../src/patch/bbox/index.ts","webpack://[name]/../../src/patch/index.ts","webpack://[name]/../src/canvas.ts","webpack://[name]/./src/graph/controller/event.ts","webpack://[name]/./src/graph/controller/layout.ts","webpack://[name]/./src/graph/graph.ts","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@ctrl/tinycolor/dist/module/util.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@ctrl/tinycolor/dist/module/conversion.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@ctrl/tinycolor/dist/module/css-color-names.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@ctrl/tinycolor/dist/module/format-input.js","webpack://[name]//Users/bing/git/antv/f6-js/node_modules/@ctrl/tinycolor/dist/module/index.js","webpack://[name]/./node_modules/@ant-design/colors/dist/index.esm.js","webpack://[name]/./src/util/color.ts","webpack://[name]/../node_modules/@antv/g-mobile/esm/util/time.js","webpack://[name]/(webpack)/buildin/global.js","webpack://[name]/../node_modules/@antv/layout/lib/layout/layout.js","webpack://[name]/./src/index.ts","webpack://[name]/../node_modules/@antv/g-base/lib/util/text.js"],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","isArrayLike","isFinite","length","contains","arr","indexOf","filter","func","result","index","push","difference","values","toString","isType","type","isNil","Array","isArray","each","elements","len","isObject","k","keys","obj","isFunction","isMatch","attrs","_keys","isObjectLike","isPlainObject","getPrototypeOf","proto","find","predicate","_predicate","a","findIndex","fromIndex","firstValue","data","rst","flatten","concat","flattenDeep","reduce","prev","curr","Math","max","min","getRange","filterValues","v","isNaN","tmp","getMax","getMin","arrPrototype","splice","pull","pullAt","indexes","last","previous","fn","init","remove","str","sortBy","comparer","b","keys_1","isString","prop","sort","uniq","cache","Map","item","has","set","union","sources","apply","tmpMap","j","val","head","startsWith","e","endsWith","every","some","groupBy","condition","groupToMap","paramscondition_1","replace","split","row","unique","groups","array","getWrapBehavior","action","wrapBehavior","method","numColorCache","numberToColor","num","color","parseRadius","radius","r1","r2","r3","r4","clamp","fixedBase","base","round","substr","parseFloat","toFixed","isNumber","isDecimal","isEven","isInteger","Number","isNegative","isNumberEqual","precision","abs","isOdd","isPositive","maxItem","Infinity","minItem","mod","DEGREE","PI","toDegree","radian","parseInt","RADIAN","toRadian","degree","lowerCase","toLowerCase","lowerFirst","charAt","substring","substitute","match","slice","undefined","upperCase","toUpperCase","upperFirst","getType","isArguments","isBoolean","isDate","isError","isNull","objectProto","isPrototype","Ctor","constructor","isRegExp","isUndefined","isElement","Element","HTMLDocument","requestAnimationFrame","window","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","f","setTimeout","cancelAnimationFrame","handler","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","clearTimeout","_mix","dist","mix","src1","src2","src3","augment","args","clone","debounce","wait","immediate","timeout","context","arguments","later","callNow","resolver","TypeError","memoized","_deepMix","src","level","maxLevel","deepMix","extend","subclass","superclass","overrides","staticOverrides","Tmp","superObj","isEmpty","size","isEqual","other","valueKeys","otherKeys","map","identity","forEach","defaultValue","keyArr","path","idx","includes","options","leading","Date","now","throttled","remaining","trailing","cancel","prefix","isArraylike","ctx","memoize","text","font","fontFamily","fontWeight","fontStyle","fontVariant","document","createElement","getContext","fontSize","join","measureText","width","maxWidth","currentText","currentWidth","PLACEHOLDER_WIDTH","measureTextWidth","leftText","leftWidth","default_1","def","extendStatics","setPrototypeOf","__proto__","__extends","String","__","__assign","assign","__rest","getOwnPropertySymbols","propertyIsEnumerable","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","then","__generator","body","y","g","_","label","sent","trys","ops","verb","iterator","op","pop","__spreadArrays","il","jl","__spreadArray","to","from","pack","ar","cssKeywords","require","reverseKeywords","convert","rgb","channels","labels","hsl","hsv","hwb","cmyk","xyz","lab","lch","hex","keyword","ansi16","ansi256","hcg","apple","gray","model","Error","comparativeDistance","pow","h","u","floor","atan2","sqrt","cos","sin","BrowserInfo","version","os","NodeInfo","process","platform","SearchBotDeviceInfo","bot","BotInfo","ReactNativeInfo","SEARCHBOT_OS_REGEX","userAgentRules","operatingSystemRules","detect","userAgent","parseUserAgent","navigator","product","matchUserAgent","ua","matched","_a","browser","regex","uaMatch","exec","matchedRule","versionParts","count","output","ii","createVersionParts","detectOS","searchBotMatch","globalThis","self","global","defineProperties","f6","console","warn","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","run","marker","runClearTimeout","Item","noop","nextTick","title","env","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","isAllowCapture","isParent","isBrowser","removeFromArray","util_1","isCanvas","getParent","cfg","visible","capture","colorSet","rootContainerClassName","uiContainerClassName","waterContainerClassName","nodeContainerClassName","edgeContainerClassName","comboContainerClassName","delegateContainerClassName","defaultLoopPosition","nodeLabel","style","fill","textAlign","textBaseline","offset","defaultNode","lineWidth","stroke","mainStroke","mainFill","linkPoints","activeFill","activeStroke","nodeStateStyles","active","shadowColor","shadowBlur","selected","selectedFill","selectedStroke","highlight","highlightFill","highlightStroke","inactive","inactiveFill","inactiveStroke","disable","disableFill","disableStroke","edgeLabel","defaultEdge","edgeMainStroke","lineAppendWidth","edgeStateStyles","edgeActiveStroke","edgeSelectedStroke","edgeHighlightStroke","edgeInactiveStroke","edgeDisableStroke","comboLabel","refY","refX","defaultCombo","comboMainFill","comboMainStroke","height","padding","comboStateStyles","comboActiveStroke","comboActiveFill","comboSelectedStroke","comboSelectedFill","comboHighlightStroke","comboHighlightFill","comboInactiveStroke","comboInactiveFill","comboDisableStroke","comboDisableFill","delegateStyle","fillOpacity","strokeOpacity","lineDash","textWaterMarkerConfig","compatible","x","lineHeight","rotate","baseline","imageWaterMarkerConfig","image","waterMarkerImage","getOffScreenContext","offScreenCtx","colorNames","swizzle","reverseNames","cs","hexDouble","percent","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","isArrayish","wrap","Function","getOwnPropertyDescriptor","_typeof","conversions","route","conversion","wrapRounded","raw","wrapRaw","deriveBFS","distance","parent","buildGraph","unshift","link","wrapConversion","__createBinding","__exportStar","camelize","camelizeRE","cacheStringFunction","toNumber","traverseTreeUp","scaleMatrix","getAdjMatrix","floydWarshall","getDegree","source","target","nodes","edges","id","children","traverseUp","getTime","__webpack_amd_options__","getDefaultCfg","getEvents","updateCfg","shouldBegin","shouldUpdate","shouldEnd","graph","events","event","unbind","Behavior","registerBehavior","behavior","behaviorOption","_this","eventsToBind","handle","types","hasBehavior","getBehavior","transform","compare","attributeName","isBetween","getLineIntersect","p0","p1","p2","p3","E","D0","D1","kross","invertKross","getRectIntersectByPoint","rect","point","points","center","getCircleIntersectByPoint","circle","cx","cy","dx","dy","signX","sign","signY","angle","atan","getEllipseIntersectByPoint","ellipse","rx","ry","matrix","tag","vector","transformMat3","inversedMatrix","invert","getCircleCenterByPoints","denominator","vx","vy","ratio","newRow","adjMatrix","directed","nodeMap","node","sIndex","tIndex","translate","group","vec","move","getMatrix","bbox","getCanvasBBox","minX","minY","movedMatrix","setMatrix","scaleXY","nodeIdxMap","degrees","onSegment","q","isPointInPolygon","isHit","dcmp","xValue","intersectBBox","box1","box2","maxX","maxY","points1","points2","getBBox","xArr","yArr","parseToLines","lines","first","bbox1","bbox2","isIn","lines1","lines2","isIntersect","line","Line","x1","y1","x2","y2","getBBoxBoundLine","direction","top","left","bottom","right","fractionAlongLineA","la","lb","uaT","ubT","uB","ub","POSITIVE_INFINITY","itemIntersectByLine","directions","countIntersections","intersections","fractionToLine","minDistance","testDistance","getPointsCenter","centerX","centerY","_i","points_1","squareDist","pointLineSquareDist","projlenSq","px","py","dotprod","lenSq","isPointsOverlap","pointRectSquareDist","isLeft","isRight","isTop","isBottom","exactEquals","NaN","normalize","dot","subjectColor","comboFill","A","B","C","D","F","G","H","I","J","K","L","M","N","O","Q","R","S","T","U","V","w","W","X","Y","z","Z","$","SELF_LINK_SIN","SELF_LINK_COS","element","leftTop","rightBottom","lx","ly","sourceNode","targetNode","containerMatrix","getKeyShape","loopCfg","position","startPoint","endPoint","rstart","rend","sinDeltaStart","cosDeltaStart","sinDeltaEnd","cosDeltaEnd","clockwise","swap","startVec","scaleRateStart","scaleRateEnd","startExtendVec","scale","controlPoint1","endVec","endExtendVec","controlPoint2","controlPoints","pathShape","getPoint","getStartTangent","reverse","getEndTangent","offsetPoint","rad","normal","traverse","traverseTree","letter","letterAspectRatio","getTextSize","pattern","RegExp","test","addedMap","modelMap","cd","itemType","parentId","mappedObj","mappedParent","parent_1","parent_2","pa","combo","comboId","cnode","maxDepth","tree","depth","child","oriNodeModel","reconstructTree","trees","subtreeId","newParentId","subtree","brothers","comboChildsMap","foundSubTree","oldParentId","removed","found_1","newParentDepth_1","currentDepth_1","getComboBBox","comboBBox","childItem","findById","isVisible","childBBox","refreshEdge","anchorPoints","clonedObj","key1","obj2","clonedObj2_1","key2","error","combos","validated_1","param","nonNode","nodeIds","comboIds","ids","nonEdges","edge","ModeController","destroyed","modes","default","formatModes","currentBehaves","setMode","setBehaviors","behave","behaviors","behaves","BehaviorInstance","mergeBehaviors","modeBehaviors","filterBehaviors","current","delegate","getMode","manipulateBehaviors","isAdd","currentMode","updateBehavior","newCfg","behaviorSet","length_2","length_1","destroy","_super","G6GraphEvent","canvasX","canvasY","detail","uniqueId","random","clientX","clientY","currentTarget","bubbles","isViewportChanged","ORIGIN_MATRIX","input","calculationItemsBBox","items","minx","maxx","miny","maxy","ceil","processParallelEdges","offsetDiff","multiEdgeType","singleEdgeType","loopEdgeType","cod","loopPosition","edgeMap","tags","reverses","sourceTarget","sedge","dst","arcEdges","curveOffset","ViewController","getViewCenter","getFormatPadding","fitCenter","resetMatrix","viewCenter","groupCenter","fitView","zoom","focusPoint","animate","animateCfg","modelCenter","getPointByCanvas","viewportMatrix","dx_1","dy_1","lastX_1","lastY_1","newX_1","newY_1","getPointByClient","canvasPoint","getClientByPoint","canvas","getCanvasByPoint","focus","sourceMatrix","getSource","targetMatrix","getTarget","changeSize","plugin","minZoom","looseJSONParse","safeParse","JSON","parse","trim","firstAttempt","tail","objectStack","syntaxStack","isLastPair","syntaxes","syntax","temp","nowChar","isInString","isLastTranslate","isInObject","isInArray","isWaitingValue","tempArr","generateTarget","lastOffset","defaultBbox","_b","marginTop","chilrenBBox","shapeHeight","shapeWidth","marginLeft","createNodeFromXML","gen","structures","compileXML","xml","xmlParser","innerHTML","parseXML","getAttributeNames","tagName","innerText","getAttribute","keyshape","draw","resultTarget","renderTarget","rest","shape","addShape","origin","update","container","getContainer","newTarget","diffResult","compareTwoTarget","nowTarget","formerTarget","_c","_d","formerChilren","nowChilren","formerKeys","nowKeys","delShape","targetShape","removeChild","updateTarget","originAttr","getOriginStyle","attr","getAnchorPoints","ucfirst","ShapeFactoryBase","defaultShapeType","className","getShape","afterDraw","baseUpdate","afterUpdate","setState","getControlPoints","ShapeFramework","drawShape","defaultAnchorPoints","Shape","registerFactory","factoryType","factoryBase","shapeFactory","getFactory","registerNode","shapeType","nodeDefinition","extendShapeType","shapeObj","Node","autoNodeDefinition","jsx","extendShape","registerEdge","edgeDefinition","Edge","registerCombo","comboDefinition","Combo","ItemBase","_cfg","defaultCfg","locked","keyShape","states","stateStyles","styles","calculateBBox","calculateCanvasBBox","drawInner","clear","changeVisibility","updatePosition","getShapeCfg","setOriginStyle","restoreStates","keyShapeName","styles_1","currentStatesStyle_1","getCurrentStatesStyle","shapeAttrs","shapeStateStyle_1","getShapeStyleByName","shapeAttrs_1","keyShapeStateStyles_1","originStyles_1","keyShapeStyle","shapeName","state","clearCache","beforeDraw","currentShape","styles_2","newModel","getStateStyle","getStates","stateName","filterStateName","newStates","filterStates","clearStates","originStates","getModel","getID","isItem","hasState","refresh","updateShape","isOnlyMove","onlyMove","oriVisible","cfgVisible","originPosition","toFront","toBack","show","hide","enableCapture","enable","stopAnimate","END_MAP","linkCenter","setEnd","pointName","itemName","preItem","removeEdge","addEdge","getLinkPoint","anchorName","prePoint","getPrePoint","anchorIndex","getLinkPointByAnchor","oppositeName","getEndPoint","getControlPointsByCenter","sourcePoint","targetPoint","getEndCenter","setSource","setTarget","out","sourceItem","targetItem","getNearestPoint","curPoint","nearestPoint","dis","getEdges","getInEdges","getOutEdges","getNeighbors","intersectPoint","linkPoint","bbox_1","shapeCfg","pointArr","lock","unlock","hasLocked","existX","existY","hypot","cacheSize","cacheBBox","oriX","oriY","getChildren","getNodes","getCombos","addChild","addNode","addCombo","removeNode","removeCombo","ItemController","addItem","vType","upperType","defaultModel","mapper","mappedModel_1","isComboEdge","addGroup","comboGroup","setZIndex","comboModel_1","collapsed","collapseCombo","updateItem","mappedModel","edges_1","updateCombo","updateComboEdges","combEdges","edgeSF","edgeCfg","edgeGroup","hideItem","expandCombo","showItem","removeItem","itemModel","vitems","vindex","itemId","comboTrees","brothers_1","ctree","bidx","comboInTree_1","found_2","setItemState","enabled","autoPaint","priorityState","currentItem","clearItemStates","refreshItem","addCombos","comboModels","comboModel","changeItemVisibility","id_1","children_1","found_3","timer","StateController","cachedStates","disabled","checkCache","cacheState","updateState","enabledStates","disabledStates","updateGraphStates","updateStates","map_1","res","spliePath","tangent","perpendicular","pointsToPolygon","pathToPoints","seg","getClosedSpline","second","lastSecond","closedPath","x0","y0","cp1x","cp1y","cp2x","cp2y","unitNormal","nLength","vecFrom","roundedHull","polyPoints","roundedHull1","offsetVector","invOffsetVector","add","roundedHull2","segments","segmentIndex","arcData","segment","pathFragment","paddedHull","pointCount","extensionVec","extension0","extension1","tangentHalfLength","controlDelta","invControlDelta","control0","control1","control3","smoothHull2","hullPoints","pNext","priorIndex","cross","genConvexHull","lower","upper","defaultOps","maxRoutingIterations","maxMarchingIterations","pixelGroupSize","edgeR0","edgeR1","nodeR0","nodeR1","morphBuffer","threshold","skip","nodeInfluenceFactor","edgeInfluenceFactor","negativeNodeInfluenceFactor","MarchingSquares","contour","potentialArea","marched","getVal","cells","getState","squareVal","doMarch","xPos","yPos","prevX","prevY","march","closestItem","getRoute","nonMembers","visited","optimalNeighbor","closestNeighbour","minCost","neighbourItem","itemP","neighbourItemP","directLine","numberObstacles","_item","checkedLines","finalRoute","line1","line2","mergeLine","mergeLines","linesToCheck","hasIntersection","iterations","pointExists","flag","isPointInNonMembers","_nonMembers","_nonMembers_1","itemContour","_loop_1","intersections_1","testReroute","isFirst","tempMorphBuffer","virtualNode","rerouteLine","exist","pointInside","members","centroid","virtualEdges","scaleWidth","scaleHeight","activeRegion","NEGATIVE_INFINITY","bboxes","bboxes_1","getActiveRregion","Float32Array","hull","fillPotentialArea","marchedPath","members_1","isContourValid","memberInfluenceFactor","nonMemberInfluenceFactor","pos2GridIx","gridIx","gridIx2Pos","nodeInfA","edgeInfA","getAffectedRegion","thresholdR","addItemInfluence","influenceFactor","startX","startY","endX","endY","tempX","tempY","distanceSq","dr","minDistanceSq","mdr","addEdgeInfluence","buffer","wrapNormal","topIntersect","leftIntersect","bottomIntersect","rightIntersect","cornerPos","topLeft","topRight","bottomLeft","bottomRight","totalArea","calcHalfArea","intersect1","intersect2","Hull","setPadding","setType","calcPath","render","opacity","nodeSize","bubbleCfg","addMember","updateData","addNonMember","removeMember","removeNonMember","updateStyle","contain","nodeItem","shapePoints","shapeBBox","AbstractGraph","animating","enabledStack","undoStack","maxStep","redoStack","initCanvas","viewController","modeController","itemController","stateController","initLayoutController","initEventController","initGroups","initPlugins","timeIndex","onTick","nodeGroup","delegateGroup","renderer","plugins","fitViewPadding","maxZoom","groupByTypes","vedges","itemMap","onFrame","duration","easing","callback","tooltips","getGroup","getMinZoom","setMinZoom","getMaxZoom","setMaxZoom","getWidth","getHeight","nodeFn","edgeFn","comboFn","findAll","findAllByState","moveTo","addBehaviors","removeBehaviors","zoomTo","toRatio","getZoom","focusItem","isAnimate","curAniamteCfg","paint","getGraphCenterPoint","getViewPortCenterPoint","stack","before","after","pushStack","setAutoPaint","auto","deletedModel","updateComboTree","newComboTrees","sortCombo","currentComboSorted","itemMap_1","foundParent_1","newCombo","parentCombo","itemMap_2","foundParent_2","foundNode_1","cloneNode","sortCombos","addedModel","UnupdateModel","afterModel","clearStack","layoutController","layout","refreshPositions","read","diffItems","models","changeData","save","removeHulls","localRefresh","combosData","comboItems","getLayoutType","positionsAnimate","createCombo","comboConfig","elementId","cItem","uncombo","comboItem","treeToBeUncombo","parentItem","childModel","updateCombos","uItem","itemSubTree_1","valid_1","subTree","beforeData","afterData","vedge","getComboChildren","toNodes","isAnimating","originAttrs","updatedNodes","changed","sourceModel","targetModel","getCurrentMode","avoidEmit","updateLayout","oriLayoutCfg","layoutCfg","isLayoutTypeSame","gpuEnabled","updateLayoutCfg","changeLayout","destroyLayout","workerEnabled","layoutMethod","relayout","cnodes","ccombos","found","edgeWeightMap","addedVEdges","isVEdge","edgeModel","targetId","sourceId","vedgeModel","vedgeId","collapseExpandCombo","parentModel","depthMap","dataDepthMap","cTree","edgeItem","sourceDepth","targetDepth","getNodeDegree","nodeDegrees","inDegree","outDegree","getUndoStack","getRedoStack","getStackData","toArray","stackType","stackData","currentAdjMatrix","getShortestPathMatrix","currentShourtestPathMatrix","eventName","createHull","hullMap","getHulls","getHullById","hullId","removeHull","hullInstance","hulls","timestamp","SHAPE_DEFAULT_ATTRS","shadowOffsetX","shadowOffsetY","SHAPES_DEFAULT_ATTRS","startArrow","endArrow","shapeBase","getCustomConfig","getOptions","labelCfg","getComputedStyle","getPropertyValue","descriptionCfg","drawLabel","labelStyle","getLabelStyle","draggable","labelBBox","labelMatrix","rotateCenter","background","drawLabelBg","labelBgClassname","defaultLabelCfg","getLabelBgStyleByPosition","getLabelStyleByPosition","calculateStyle","attrName","defaultStyle","getShapeStyle","updateShapeStyle","updateLabel","shapeStyle","subShape","labelClassName","labelBg","currentLabelCfg","cfgStyle","cfgBgStyle","rotateMatrix","calculateBgStyle","labelBgStyle","bgRotateMatrix","shapeStateStyle","itemStateStyle","keptAttrs","_loop_2","enableStatesStyle","originStyle_1","keyShapeName_1","keyShapeStyles_1","filtetDisableStatesStyle","_loop_3","subShape_1","subShapeStyles_1","value_1","value_2","value_3","enableStyle","originstyles","keyShapeSetted","_loop_4","originKey","_e","value_4","modelStateStyle","singleNode","labelPosition","getSize","backgroundStyle","backgroundWidth","backgroundHeight","updateLinkPoints","currentLinkPoints","defaultLinkPoints","markLeft","markRight","markTop","markBottom","markFill","markStroke","borderWidth","markSize","isAnchorPoint","hasIcon","updateIcon","icon","iconShape","iconConfig","labelShape","singleNodeDef","singleEdge","labelAutoRotate","getPath","strokeStyle","getPathPoints","currentAttr","previousStyle","routeCfg","pointPercent","autoRotate","offsetX","offsetY","offsetStyle","_getTextAlign","revertAlign","defaultFontFamily","rotateAtStart","singleEdgeDef","arcPoint","midPoint","edgeAngle","curvePosition","minCurveOffset","yDist","xDist","singleCombo","singleComboDef","fixSize","itemCacheSize","leftDis","topDis","fixCollapseSize","img","clipCfg","drawClip","clip","setClip","rectX","rectY","shapeClassName","G6Event","triangle","begin","vee","diamond","triangleRect","tWidth","tLength","rWidth","rLength","gap","rectBegin","collapse","expand","upTriangle","l1","l2","downTriangle","defaultSubjectColors","mat3","LayoutController","layoutType","layoutMethods","initLayout","getLayoutCfgType","pipes","pipe","refreshLayout","destoryLayoutMethods","setDataFromGraph","hiddenNodes","hiddenEdges","comboEdges","nodeItems","edgeItems","nodeLength","edgeLength","comboLength","hiddenCombos","reLayoutMethod","reslove","onLayoutEnd","ticking","forceSimulation","stop","execute","isCustomLayout","reloadData","initPositions","start","currentCfg","onAllLayoutEnd","catch","filterLayoutData","nodesFilter","edegsFilter","edgesFilter","nodesMap_1","acc","cur","getLayoutBBox","graphGroupNodes","layoutOrder","layoutNodes","groupNodes","layoutAnimate","moveToZero","meanCenter","horiNum","horiGap","vertiGap","beginX","beginY","allHavePos","initEvents","BaseGlobal","regexTags","regexDot","parsePath","sub","catmullRom2Bezier","crp","constraint","isLoop","pointList","cp1","cp2","controlPointList","smooth","prevPoint","nextPoint","nextCp0","cp0","cps","hasConstraint","vec2","d0","d1","sum","v1","v2","shift","smoothBezier","SPACES","PATH_COMMAND","PATH_VALUES","parsePathString","pathString","paramCounts","params","REGEX_MD","toSymmetry","pathToAbsolute","pathArray","needProcess","cmd","mx","my","preParams","upCmd","jj","symetricT","symetricS","vMag","vRatio","vAngle","acos","isSamePoint","point1","point2","getArcParams","xRotation","arcFlag","sweepFlag","xp","yp","lambda","diff","cxp","cyp","theta","dTheta","startAngle","endAngle","getSegments","currentPoint","nextParams","startMovePoint","lastStartMovePointIndex","command","startTangent","endTangent","arcParams","cp","preSegment","_f","_g","_h","dx1","dy1","dx2","dy2","graphData","defaultComparator","LinkedListNode","LinkedList","comparator","prepend","newNode","append","delete","deleteNode","currentNode","deleteTail","deletedTail","deleteHead","deletedHead","fromArray","prevNode","nextNode","Queue","linkedList","peek","enqueue","dequeue","removeHead","nodeId","currentEdges","getEdgesByNodeId","random1","random2","breadthFirstSearch","startNodeId","originalCallbacks","callbacks","seen","initiatedCallback","stubCallback","allowTraversalCallback","allowTraversal","enter","leave","initCallbacks","nodeQueue","previousNode","detectStrongConnectComponents","nodeStack","inStack","indices","lowLink","allComponents","getComponent","neighbors","targetNodeID","component","tmpNode","nodes_1","getConnectedComponents","neighbor","detectConnectedComponents","getInDegree","getOutDegree","depthFirstSearch","depthFirstSearchRecursive","detectAllUndirectedCycle","include","allCycles","components_1","rootId","used","Set","curNode","curNodeId","neighborId","cycleValid","cyclePath","cycle","detectAllDirectedCycle","blocked","idx2Node","node2Idx","circuit","adjList","closed","thisNode","unblock","getMinComponentAdj","components","minCompIdx","minIdx","comp","nodeIdx_1","nodeIdx","subgraphNodes","sccs","scc","startNode","detectAllCycles","detectDirectedCycle","dfsParentMap","unvisitedSet","visitingSet","visitedSet","currentCycleNode","previousCycleNode","dfs","dijkstra","weightPropertyName","marks","prevs","nodeNum","minNode","minDis","minVertex","minNodeId","getOutEdgesNodeId","edgeTarget","edgeSource","weight","paths","findAllPaths","allPath","foundPaths","prevPaths","prevPaths_1","prePath","DistanceType","findShortestPath","end","findAllPath","isVisited","adjacentMatrix","labelPropagation","maxIteration","clusters","cid","clusterId","ks","iid","entry","jid","iter","neighborClusters","neighborWeight","neighborClusterId","maxWeight","bestClusterIds","selfClusterIdx","selfCluster","nodeInSelfClusterIdx","randomIdx","bestCluster","cluster","clusterEdges","clusterEdgeMap","sourceClusterId","targetClusterId","newEdgeId","newEdge","clustersArray","Vector","getArr","otherVector","otherArr","subtract","avg","negate","squareEuclideanDistance","euclideanDistance","cloneArr","norm2","equal","getAllProperties","allProperties","getAllKeyValueMap","dataList","involvedKeys","uninvolvedKeys","allKeyValueMap","oneHot","oneHotCode","code","keyValue","allKeyValue","valueIndex","subCode","getDistance","otherItem","distanceType","EuclideanDistance","getModularity","modularity","clusteri","getInertialModularity","allPropertiesWeight","totalProperties","avgProperties","variance","propertiesi","squareEuclideanDistanceInfo","propertiesj","inertialModularity","clusterj","clusterInertial","louvain","propertyKey","inertialWeight","properties","originIndex","nodeTypeInfo_1","nodeType","totalModularity","previousModularity","finalNodes","finalClusters","increaseWithinThreshold","sumTot","bestIncrease","commonParam","kiin","selfClusterNodes","scNode","scNodeIdx","removeModurarity","selfClusterNodesAfterRemove","propertiesWeightRemove","nodeRemove","removeInertialModularity","nodeNeighborIds","neighborNodeId","neighborCluster","clusterNodes","neighborClusterKiin","cNode","cNodeIdx","addModurarity","clusterNodesAfterAdd","propertiesWeightAdd","nodeAdd","addInertialModularity","increase","previousClusterId_1","neighborClusterSumTot_1","selfClusterSumTot_1","newClusterIdMap","clusterIdx","newId","nodeInfo","iLouvain","kCore","minIndexId","getCentroid","kMeans","defaultClusterInfo","allPropertiesWeightUniq","finalK","centroids","centroidIndexList","randomIndex","maxDistance","maxDistanceNodeIndex","totalDistance","avgDistance","minDistanceIndex","centroidsEqualAvg","totalVector","avgVector","cosineSimilarity","targetItemVector","targetNodeNorm2","itemVector","itemNorm2","norm2Product","nodesCosineSimilarity","seedNode","similarNodes","seedNodeIndex","seedNodeProperties","allCosineSimilarity","nodeProperties","cosineSimilarityValue","UnionFind","items_1","rootA","rootB","connected","defaultCompare","MinBinaryHeap","compareFn","list","getLeft","getRight","delMin","moveDown","insert","moveUp","primMST","selectedEdges","currNode","edgeQueue","currEdge","kruskalMST","weightEdges","disjointSet","curEdge","minimumSpanningTree","algo","prim","kruskal","pageRank","epsilon","linkProb","currentRank","leakedRank","maxIterations","nodesCount","curRanks","prevRanks","nodeDegree","Graph","edgeIdAutoIncrease","nodeLabelMap","edgeLabelMap","counter","getNodeNum","rEdge","DFSedge","fromNode","toNode","fromNodeLabel","toNodeLabel","nodeEdgeNodeLabel","nodeLabel1","nodeLabel2","equalTo","formNode","notEqualTo","DFScode","rmpath","dfsEdgeList","aLength","pushBack","toGraph","graphId","dfsEdge","fromNodeId","toNodeId","buildRmpath","oldFrom","fromNodeIdx","toNodeIdx","History","pdfs","his","nodesUsed","edgesUsed","preNode","hasNode","hasEdge","GSpan","graphs","minSupport","minNodeNum","maxNodeNum","verbose","dfsCode","support","frequentSize1Subgraphs","frequentSubgraphs","reportDF","findForwardRootEdges","findBackwardEdge","edge1","edge2","history","edge2ToEdges","findForwardPureEdges","rightmostEdge","minNodeLabel","rightmostEdgeToId","findForwardRmpathEdges","newToNodeLabel","getSupport","projected","graphMap","pro","findMinLabel","minLabel","isMin","log","dfsCodeMin","otherNode","projectIsMin","maxToC","backwardRoot","newTo","backwardEdge","minBackwardEdgeLabel","idx_1","forwardRoot","newFrom","forwardPureEdges","pathLength","forwardRmpathEdges","forwardMinEdgeNodeLabel","report","subGraphMining","generate1EdgeFrequentSubGraphs","nodeLabelCounter","nodeEdgeNodeCounter","nodeLableCounted","nodeEdgeNodeLabelCounted","graphNodeKey","graphKey","graphNodeEdgeNodeKey","nodeEdgeNodeKey","gSpan","nodeLabelProp","edgeLabelProp","formattedGraphs","fGraph","sourceIdx","targetIdx","formatGraphs","calculator","toGraphDatas","findKNeighborUnits","spm","units","findKNeighborUnit","unitNodeIdxs","labelCountMap","dists","nodeIdxs","neighborNum","nodeLabelCountMap","getIntersectNeighborInducedGraph","nodePairMap","neighborUnits","cachedInducedGraphMap","pair","startUnitNodeIds","endUnitNodeIds","endSet","intersect","intersectIdMap","intersectLength","getMatchedCount","structure","sourceLabel","targetLabel","strNodeLabel1","strNodeLabel2","strEdgeLabel","getNodeMaps","getEdgeMaps","getSpmMap","iId","jId","getNDSDist","node1","node2","spDist","kNeighborUnits","cachedNDSMap","cachedInterInducedGraph","interInducedGraph","pairMap","stashPatternNodeLabelDegreeMap","minPatternNodeLabelDegreeMap","neighborLabel","patternNodeMap","patternNodeLabelMap","minPatternNodeLabelDegree","minPatternNodeLabelInDegree","minPatternNodeLabelOutDegree","patternNodeWithLabel","patternNodeDegree","patternNodeInDegree","patternNodeOutDegree","GADDI","patternSpm","spmMap","patternSpmMap","patternEdgeLabelMap","patternSpmSpread","patternKNeighborUnits","nodePairsMap","maxNodePairNum","nodePairNumEachNode","foundNodePairCount","unit","nodePairForICount","outerLoopCount","oidx","innerLoopCount","findNodePairsRandomly","intGMap","freStructures","structureNum","matchedCountMap","subStructureCount","maxOffset","representClusterType","countMapI","sortedGraphKeys","totalCount","aveCount","aveIntraDist","aveCounts","graphsInCluster","aveIntraPerCluster","graphsNum","graphKey1","graph1Count","graphKey2","aveInterDist","aveCount1","aveCount2","structureCountMap","findRepresentStructure","dsG","ndsDist","beginPNode","candidates","maxNodeNumWithSameLabel","pLabel","nodesWithSameLabel","patternIntGraphMap","patternNDSDist","patternNDSDistMap","patternSpDist","patternSpDistBack","label2","maxDist","patternNodesWithLabel2","patternNodePairMap","nodeWithLabel2","distBack","currentPatternNDSDistArray","patternIntGraph","graphNeighborUnit","graphNeighborUnitCountMap","patternLabel2Num","prune2Invalid","cNodePairMap","neighborNode","currentNDSDistArray","intGraph","prune3Invalid","candidateGraphs","candidate","neighborNodes","unmatched","distToCandidate","keyBack","distFromCandidate","ndsToCandidate","patternKey","undirectedLengthsToBeginPNode","undirectedLengthsToBeginPNodeLabelMap","candidateGraph","candidateNodeLabelCountMap","candidateNodeMap","cNodeLabel","candidateEdges","edgeLabelCountMap","pattenrEdgeLabelNum","prunedByEdgeLabel","label_1","candidateEdgeNum","candidateGraphInvalid","_loop_5","patternEdgesWithLabel","edgeMatched","patternEdge","patternSource","patternTarget","lengthsToCandidate","targetNodeLabel","nLabel","degreeChanged","loopCount","cgNode","nodeInDegree","nodeOutDegree","cedge","currentLength","cg1","cg1EdgeMap","_loop_6","cg2","cg2EdgeMap","same","Stack","configurable","isMaxStack","detectCycle","connectedComponent","glMatrix","fromMat4","copy","fromValues","m00","m01","m02","m10","m11","m12","m20","m21","m22","transpose","a01","a02","a12","a00","a10","a11","a20","a21","a22","b01","b11","b21","det","adjoint","determinant","multiply","b00","b02","b10","b12","b20","b22","fromTranslation","fromRotation","fromScaling","fromMat2d","fromQuat","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","normalFromMat4","a03","a13","a23","a30","a31","a32","a33","b03","b04","b05","b06","b07","b08","b09","projection","frob","multiplyScalar","multiplyScalarAndAdd","equals","a0","a1","a2","a3","a4","a5","a6","a7","a8","b0","b1","b2","b3","b4","b5","b6","b7","b8","mul","ke","manager","defaults","simultaneous","requireFail","touchAction","recognizeWith","requireFailure","additionalEvent","canEmit","reset","tryEmit","writable","ReferenceError","Reflect","construct","sham","Proxy","Boolean","valueOf","pointers","eventType","attrTest","rotation","tt","et","nt","rt","it","ut","st","ct","at","ft","pX","pY","deltaX","deltaY","directionTest","ot","lt","pt","ht","vt","mt","bt","dt","gt","getTouchAction","overallVelocity","overallVelocityX","overallVelocityY","offsetDirection","maxPointers","velocity","yt","Ot","wt","Tt","jt","Pt","Et","Rt","St","kt","pTime","pCenter","_timer","_input","deltaTime","time","failTimeout","timeStamp","interval","posThreshold","taps","hasRequireFailures","tapCount","_t","xt","Dt","It","Ct","zt","Nt","At","Xt","Ft","compute","actions","recognizers","srcEvent","session","prevented","preventDefault","none","preventSrc","Yt","Bt","Mt","qt","Lt","Wt","Ut","changedPointers","isFinal","firstInput","firstMultiple","offsetDelta","prevDelta","prevInput","lastInterval","velocityX","velocityY","recognize","Vt","Ht","addEventListener","Zt","eventHandler","removeManagerListeners","Gt","$t","Jt","Kt","Qt","ee","ne","re","oe","touchstart","touchmove","touchend","touchcancel","ie","ue","evTarget","targetIds","ce","pointerType","te","touches","identifier","changedTouches","se","pe","handlers","filters","inputClass","stopped","preventDefaults","curRecognizer","canRecognizeWith","ae","fe","le","preset","ye","he","be","de","me","domEvents","ge","pointerdown","pointermove","pointerup","pointercancel","pointerout","Oe","2","3","4","5","we","Te","je","evEl","evWin","store","pointerEvents","pointerId","button","ve","Pe","removeEventListener","Re","Se","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","STATE_FAILED","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_ALL","Manager","Input","TouchAction","TouchInput","PointerEventInput","Recognizer","AttrRecognizer","Tap","Pan","Swipe","Pinch","Rotate","Press","merge","inherit","bindFn","inArray","uniqueArray","splitStr","boolOrFn","hasParent","parentNode","addEventListeners","removeEventListeners","proccessToFunc","defaultV","buildTextureData","dataArray","nodeDict","mapIdPos","maxEdgePerVetex","dests","dest","buildTextureDataWithOneEdgeAttr","buildTextureDataWithTwoEdgeAttr","attrs1","attrs2","attributesToTextureData","attributeNames","attributeNum","attributteStringMap","arrayToTextureData","valueArrays","itemNum","valueArray","radialLayout","rScale","radScale","avgRad","radDiff","radial","G6Util","defaultIcon","drawLinkPoints","markR","markStyle","defaultDirection","iconW","iconH","leftPos","diffY","rightPos","topPos","bottomPos","existLinkPoint","paddingTop","preRect","logoIcon","stateIcon","preRectShow","preRectStyle","drawLogoIcon","drawStateIcon","logoIconStyle","iconStyle","descriptionStyle","descriptionPaddingTop","description","logoIconShape","currentLogoIconAttr","preRectShape","logoW","logoOffset","stateIconShape","currentStateIconAttr","stateW","stateOffset","stateIconStyle","leftBottom","outerR","defaultInnerR","innerR","markLeftBottom","markRightBottom","donutR","arcR","donutAttrs","donutColorMap","attrNum","attrs_1","totalValue_1","lineWidth_1","arcBegin_1","beginAngle_1","beginAgnle","arcBegin","arcEnd","isBig","getBBoxFromPoint","filterConnectPoints","pointsMap","simplifyPolyline","getExpandedBBox","getExpandedBBoxPoint","anotherPoint","isHorizontal","port","isHorizontalPort","mergeBBox","getPointsFromBBox","isPointOutsideBBox","heuristicCostEstimate","ps","_costByPoints","reconstructPath","pathPoints","pointById","cameFrom","currentId","isSegmentsIntersected","v1x","v1y","v2x","v2y","v3x","v3y","v4x","v4y","isSegmentCrossingBBox","pb","pc","pd","getNeighborPoints","getPathWithBorderRadiusByPolyline","borderRadius","pathSegments","isBending","getBorderRadiusPoints","getPolylinePoints","sNode","tNode","sBBox","tBBox","tKeyShapeBBox","tx","ty","sxBBox","txBBox","sPoint","tPoint","lineBBox","xs","ys","getBBoxFromPoints","sMixBBox","tMixBBox","connectPoints","centerPoint","getBBoxXCrossPoints","getBBoxYCrossPoints","getBBoxCrossPointsByPoint","goal","closedSet","openSet","gScore","fScore","lowestFScore","tentativeGScore","maxAllowedDirectionChange","maximumLoops","gridSize","stepX","stepY","0","45","90","distFunc","fallbackRoute","endNode","pos","getDirectionAngle","getAngleDiff","angle1","angle2","directionChange","estimateCost","endPoints","cost","oriPoint","isInside","expandBBox","directions_1","bounds","boundLine","insterctP_1","insterctP","getDirectionChange","scaleStartPoint","directionAngle","prevDirectionAngle","scaleEndPoint","currentX","currentY","lastPoint","preId","preX","preY","firstPoint","routerCfg","obstacles","startPoints","firstStep","curCost","neighborCost","costFromStart","remainLoops","penalties","defaultRouteCfg","simple","pathArray_1","polylinePoints","cloneEvent","enableOptimize","scalableRange","allowDragOnItem","dragstart","drag","dragend","updateViewport","graphCanvasBBox","onDragStart","originalEvent","targetIsCanvas","dragging","shapes","nodeLen","onDragMove","onDragEnd","endDrag","dragbegin","updateEdge","enableDelegate","onlyChangeComboSize","comboActiveState","selectedState","validationCombo","evt","targets","targetCombo","currentNodeId","beforeDragNodes","originPoint","onDrag","updateDelegate","delegateRect","updatePositions","onDropCombo","onDropCanvas","onDropNode","nodeModel","onDragEnter","onDragLeave","calculationGroupPosition","multiple","onClick","selectedNodes","selectedCombos","selectedItems","select","onCanvasClick","firstScale","originScale","sensitivity","optimizeZoom","fixSelectedItems","fixAll","fixLineWidth","fixLabel","fixState","pinchstart","pinchmove","onPinch","extra","currentScale","posA","posB","ALLOW_EVENTS","trigger","onChange","onNodeTap","sourceData","findDataById","err","traverseCombo","ALLOW_KEYS","activeState","inactiveState","resetSelected","setAllItemStates","hasSelected","rEdges","rEdgeLegnth","otherEnd","clearActiveState","clearAllItemStates","currentCombo","currentItemChildCombos","sourceBBox","cmodel","disX","disY","onDrop","endComparison","onNodeDrop","droppedCombo","getParentCombo","comboDropedOn","delegateShape","updateSignleItem","onComboClick","edgeConfig","mousemove","keydown","keyup","ev","cancelCreating","addingEdge","updateEndPoint","currentEdge","cancelEdge","nodeBBox","onKeyDown","onKeyUp","leftTranslate","transMat","leftRotate","rotateMat","leftScale","scaleMat","angleTo","direct","ang","angleLargeThanPI","vertical","divide","scaleAndAdd","squaredDistance","squaredLength","inverse","lerp","ax","ay","transformMat2","transformMat2d","transformMat4","sinC","cosC","mag","cosine","zero","div","sqrDist","sqrLen","stride","arg","TABLE","TABLE_TR","FRAGMENT_REG","CONTAINERS","createDom","tr","tbody","thead","tfoot","td","th","$1","dom","childNodes","modifyCSS","css","colorString","_slice","skippedModels","hashedModelKeys","limiters","Color","valpha","zeroArray","alpha","stringify","freeze","roundToPlace","roundTo","getset","maxfn","assertArray","string","toJSON","percentString","unitArray","unitObject","hue","saturationl","lightness","saturationv","chroma","wblack","rgbNumber","luminosity","contrast","isDark","isLight","lighten","darken","saturate","desaturate","whiten","blacken","grayscale","fade","opaquer","EPSILON","ARRAY_TYPE","RANDOM","getLayoutByName","unRegisterLayout","registerLayout","base_1","Base","RandomLayout","innerWidth","innerHeight","positions","executeWithWorker","catmullRomToBezier","iLen","ellipsePath","pa0","dots","crz","kk","l2c","q2c","a2c","large_arc_flag","sweep_flag","recursive","xy","f1","f2","_120","rx2","ry2","asin","df","f2old","x2old","y2old","c1","s1","c2","s2","hx","hy","m1","m2","m3","m4","newres","pathToCurve","path2","bx","by","qx","qy","pcoms1","pcoms2","pfirst","pcom","processPath","nx","ny","fixArc","pp","pi","fixM","path1","seg2","seglen","seg2len","p2s","parsePathArray","base3","p4","bezlen","x3","y3","x4","y4","Tvalues","Cvalues","xbase","ybase","comb","curveDim","tvalues","b2ac","sqrtb2ac","t1","t2","jlen","px2","py2","isPointInsideBBox","rectPath","box","r0","vb","bezierBBox","p1x","p1y","c1x","c1y","c2x","c2y","p2x","p2y","findDotsAtSegment","t13","t12","t3","interHelper","bez1","bez2","justCount","isBBoxIntersect","n1","n2","dots1","dots2","di","di1","dj","dj1","ci","cj","is","intersection","x1m","y1m","x2m","y2m","pj","intr","segment1","segment2","interPathHelper","decasteljau","recurse","middlePoints","splitSegment","leftSegments","splitCurve","fillPath","sourceLen","targetLen","segmentsToFill","filled","obj1","getMinDiff","del","modify","fillPathByDiff","diffMatrix","sourceSegment","targetSegment","levenshteinDistance","changes","minPos","_splitPoints","former","formerEnd","_getSegmentPoints","formatPath","fromPath","toPath","GraphEvent","defaultPrevented","propagationStopped","EE","multiplyMatrix","multiplyVec2","ext","CLONE_CFGS","RESERVED_PORPS","getFormatFromAttrs","toAttrs","fromAttrs","getFormatToAttrs","props","checkExistedAttrs","animations","animation","delay","startTime","getDefaultAttrs","initAttrs","initAnimate","zIndex","getDefaultMatrix","changeType","setAttr","afterAttrsChange","getClip","originValue","onAttrChange","targetAttrs","isClipShape","applyTo","onCanvasChange","totalMatrix","currentMatrix","parentMatrix","invertMatrix","getCanvas","clipShape","Cons","getShapeBase","_cloneArrayAttr","cons","cfgName","isPaused","timeline","initTimer","repeat","pauseCallback","resumeCallback","formatToAttrs","pathFormatted","addAnimator","toEnd","pauseTime","_paused","_pauseTime","eventObj","relativeShape","propagationPath","fromShape","toShape","name_1","isGroup","subName","emitDelegateEvent","this_1","delegateTarget","delegateObject","translateX","translateY","newMatrix","targetX","targetY","ratioX","ratioY","SHAPE_MAP","Container","getTotalMatrix","_applyChildrenMarix","preTotalMatrix","applyMatrix","ShapeBase","groupClass","tmpCfg","TmpGroupClass","getGroupBase","_findShape","invertFromMatrix","isClipped","preParent","setCanvas","setTimeline","_applyElementMatrix","getChildByIndex","taskHead","taskTail","frame","clockLast","clockNow","clockSkew","clock","performance","setFrame","clearNow","Timer","_call","_time","_next","restart","wake","timerFlush","t0","sleep","nap","poke","clearInterval","setInterval","definition","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","color_formatHex","formatHex","color_formatRgb","formatRgb","format","rgbn","Rgb","rgba","hsla","rgbConvert","rgb_formatHex","rgb_formatRgb","Hsl","hslConvert","hsl2rgb","basis","v0","v3","displayable","formatHsl","brighter","darker","linear","gamma","nogamma","exponential","constant","rgbGamma","colorRgb","rgbSpline","spline","colors","isNumberArray","ArrayBuffer","isView","DataView","genericArray","nb","na","setTime","reA","reB","am","bm","bs","bi","lastIndex","number","one","date","numberArray","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","polyIn","custom","exponent","polyOut","polyInOut","halfPi","sinIn","sinOut","sinInOut","tpmt","expIn","expOut","expInOut","circleIn","circleOut","circleInOut","bounceIn","bounceOut","bounceInOut","backIn","overshoot","backOut","backInOut","tau","elasticIn","amplitude","period","elasticOut","elasticInOut","EASING_MAP","IDENTITY_MATRIX","elapsed","easeFn","d3Ease","cProps","interf","PathUtil","toPathPoint","fromPathPoint","cPathPoint","interpolate","_update","Timeline","d3Timer","animators","removeAnimator","isAnimatePaused","animator","EVENTS","emitTargetEvent","bubbleEvent","isOverEvent","EventController","_triggerEvent","pointInfo","_getPointInfo","_emitEvent","draggingShape","_afterDrag","_bindEvents","el","_eventCallback","_onDocumentMove","_onDocumentMouseUp","clientPoint","getClientByEvent","getPointByEvent","_getShape","leaveCanvas","preShape","cursor","mousedownShape","mousedownPoint","mousedownTimeStamp","isCanvasEmit","_emitMouseoverEvents","_emitDragoverEvents","timeWindow","_getEventObj","emitDelegation","_clearEvents","isFirefox","Canvas","initContainer","initDom","initTimeline","getElementById","appendChild","setDOMSize","eventController","layerX","layerY","clientInfo","getBoundingClientRect","clearEvents","removeDom","AbstractGroup","AbstractShape","clearCacheBBox","canvasBBox","shadowLeft","shadowRight","shadowTop","shadowBottom","startArrowShape","endArrowShape","inBBox","_isInBBox","isOnlyHitBox","isInShape","register","getMethod","mergeArrowBBox","getTextHeight","lineCount","getLineSpaceing","getTextWidth","textArr","subText","measureWidth","restore","assembleFont","getExtraFromSegmentWithAngle","currentAndPre","currentAndNext","preAndNext","currentAngle","xExtra","yExtra","xAngle","yAngle","Util","getBBoxByArray","segmentsWithAngle","QuadUtil","CubicUtil","EllipseArcUtil","getPathBox","path2Segments","minNum","maxNum","getBBoxRange","piMod","pointAt","pointDistance","pointToLine","tangentAngle","tCallback","segNum","increaseRate","d2","quadraticAt","onet","extrema","derivativeAt","divideQuadratic","xExtrema","yExtrema","quadraticLength","iterationCount","quadratics","interpolationAt","cubicAt","discSqrt","extremas","disc","divideCubic","c3","c12","c23","cubicLength","totalLength","snapLength","cubics","copysign","absv","nearestX","nearestY","relativeX","relativeY","squareA","squareB","ex","ey","rx1","ry1","xAt","yAt","xDim","yDim","relativeVector","relativePoint","getAngle","derivativeXAt","derivativeYAt","analyzePoints","lengthOfSegment","pointAtSegments","startRatio","currentRatio","localRatio","angleAtSegments","distanceAtSegment","distance_1","az","bz","hermite","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","zScale","transformQuat","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","rotateX","rotateY","rotateZ","EventEmitter","_events","wildcardEvents","doEmit","es","clearAnimationFrame","inBox","intersectRect","regexLG","regexRG","regexPR","regexColorStop","addStop","steps","gradient","itemArr","addColorStop","parseStyle","gradientStr","tanTheta","tanTheta2","createLinearGradient","parseLineGradient","fx","fy","fr","createRadialGradient","parseRadialGradient","patternStr","onload","createPattern","Image","crossOrigin","complete","parsePattern","_addDefaultArrow","isStart","arrowShape","Path","isArrowShape","rotateAtPoint","_addCustomizedArrow","arrowAttrs","arrowFill","arrowStroke","arrowLineWidth","restAttrs","getShortenOffset","addStartArrow","addEndArrow","SHAPE_ATTRS_MAP","applyAttrsToContext","setLineDash","globalAlpha","drawChildren","region","skipDraw","checkRefresh","refreshElements","setChildrenRefresh","checkChildrenRefresh","hasChanged","checkElementRefresh","cacheCanvasBBox","isInView","drawPath","arcParamsCache","beginPath","ArrowUtil","lineTo","quadraticCurveTo","bezierCurveTo","scaleX","scaleY","arc","closePath","refreshElement","_cacheCanvasBBox","getRefreshRegion","region1","region2","cacheBox","validCache","validBBox","Group","createPath","_afterDraw","viewRange","getViewRange","allowDraw","_applyClip","getHitLineWidth","getBBoxMethod","bboxMethod","halfLineWidth","getCanvasViewBox","strokeAndFill","afterDrawPath","isFill","isStroke","isInStrokeOrPath","Circle","absDistance","ellipseDistance","squareX","squareY","Ellipse","halfLineWith","HTMLElement","nodeName","miniCanvas","ImageShape","_setImage","isMini","isMiniNative","image_1","createImage","_afterLoading","sx","sy","swidth","sheight","drawImage","inLine","halfWidth","LineUtil","setArrow","startArrowDistance","endArrowDistance","Symbols","square","Marker","_resetParamsCache","symbol","_getR","path2Absolute","_getPath","isInPolygon","hasArc","extractPolygons","polygons","polylines","isPointInStroke","vec3","inArc","isInPolygons","_setPathArr","getTotalLength","extractResutl","_calculateCurve","_setTcache","subt","tCache","curve","nextSeg","segmentT","segmentL","segmentN","tempLength","inPolyline","isClose","Polygon","PolyLine","_resetCache","PolylineUtil","Rect","inRectWithRadius","inRect","Text","_assembleFont","_setText","subY","spaceingY","_getSpaceingY","fillText","strokeText","_drawTextArr","_drawText","getRefXY","preTest","hammerRuntime","_initEvent","Hammer","_onpanend","panstartShape","panstartPoint","_onpanstart","_onpanmove","_emitMobileEvent","panstartTimeStamp","MiniCanvasProxy","registerBBox","setMiniCanvas","CanvasProxy","miniPatch","handleEvent","pixelRatio","devicePixelRatio","getPixelRatio","_clearFrame","clearRect","curShape","viewRegion","minXArr","minYArr","maxXArr","maxYArr","getMergedRegion","mergeView","drawFrame","_startDraw","_drawRegion","_drawAll","_getRefreshRegion","clearChanged","AbstractCanvas","extendEvents","canvasHandler","getItemRoot","onCanvasEvents","handleTouchMove","itemShape","onExtendEvents","emitCustomEvent","LayoutPipesAdjustNames","updateLayoutMethod","success","layoutEndFormatted","adjust","adjustPipesBox","execLayoutMethod","order","tick","enableTick","layoutData","addLayoutOrder","preventOverlap","preNodes","ele","registerGraph","graphName","GraphFunction","G6","emitEvent","registerEventCallback","canvasDom","canvasCfg","initPlugin","toDataURL","backgroundColor","getRenderer","dataURL","svgDocType","implementation","createDocumentType","svgDoc","createDocument","replaceChild","documentElement","svgData","XMLSerializer","serializeToString","encodeURIComponent","imageData","compositeOperation","getImageData","globalCompositeOperation","fillStyle","fillRect","putImageData","toFullDataURL","imageConfig","vContainerDOM","vHeight","vWidth","vCanvas","quickHit","vGroup","vCanvasEl","downloadFullImage","fileName","dataURLToImage","createEvent","initEvent","dispatchEvent","downloadImage","Blob","URL","mime","bstr","atob","u8arr","Uint8Array","charCodeAt","download","href","createObjectURL","addPlugin","removePlugin","destroyPlugin","setImageWaterMarker","imgURL","config","waterCanvas","waterMarkerConfig","imgWidth","imgHeight","water_img_url","setTextWaterMarker","texts","display","cssText","querySelector","tooltipDOMs","parentElement","waterGroup","uiGroup","bound01","isOnePointZero","isPercent","isPercentage","clamp01","boundAlpha","convertToPercentage","pad2","rgbToHsl","hue2rgb","rgbToHsv","rgbToHex","allow3Char","convertDecimalToHex","convertHexToDecimal","parseIntFromHex","names","inputToRGB","ok","matchers","hsva","hex8","hex6","hex4","hex3","stringInputToObject","isValidCSSUnit","hsvToRgb","hslToRgb","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","TinyColor","opts","numberInputToObject","originalInput","roundA","gradientType","isValid","getBrightness","toRgb","getLuminance","RsRGB","GsRGB","BsRGB","getAlpha","setAlpha","toHsv","toHsvString","toHsl","toHslString","toHex","toHexString","toHex8","allow4Char","rgbaToHex","toHex8String","toRgbString","toPercentageRgb","fmt","toPercentageRgbString","rnd","toName","entries","formatSet","formattedString","hasAlpha","amount","brighten","tint","shade","greyscale","spin","rgb1","rgb2","analogous","results","slices","part","ret","complement","monochromatic","modification","splitcomplement","onBackground","fg","bg","triad","polyad","tetrad","increment","darkColorMap","getHue","light","getSaturation","saturation","getValue","generate","patterns","pColor","_hsv","_colorString","theme","_ref","presetPrimaryColors","volcano","geekblue","presetPalettes","presetDarkPalettes","primary","mixColor","backColor","frontColor","frontAlpha","bc","fc","getColorsWithSubjectColor","disableColor","subjectColor005","subjectColor01","subjectColor02","subjectColor04","disableColor002","disableColor005","disableColor01","disableColor02","disableColor03","paletteFromSubject","subjectHex","subjectIdx","deeperSubject","getColorsWithDefaultTheme","subjectColor03","subjectColor06","subjectColor08","disableColor025","disableColor04","disableColor05","getColorsWithDarkTheme","getColorSetsBySubjectColors","subjectColors","sets","sColor","setExtraFunction","Layouts","Layout","registy_1","layoutInstance","F6","Global","Algorithm","Arrow","registerExtender","offscreen_1"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAY,GAAID,IAEhBD,EAAS,GAAIC,IARf,CASGK,MAAM,WACT,O,YCTE,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUP,QAGnC,IAAIC,EAASI,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHT,QAAS,IAUV,OANAU,EAAQH,GAAUI,KAAKV,EAAOD,QAASC,EAAQA,EAAOD,QAASM,GAG/DL,EAAOQ,GAAI,EAGJR,EAAOD,QA0Df,OArDAM,EAAoBM,EAAIF,EAGxBJ,EAAoBO,EAAIR,EAGxBC,EAAoBQ,EAAI,SAASd,EAASe,EAAMC,GAC3CV,EAAoBW,EAAEjB,EAASe,IAClCG,OAAOC,eAAenB,EAASe,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEV,EAAoBgB,EAAI,SAAStB,GACX,oBAAXuB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAenB,EAASuB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAenB,EAAS,aAAc,CAAEyB,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBQ,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAAShC,GAChC,IAAIe,EAASf,GAAUA,EAAO2B,WAC7B,WAAwB,OAAO3B,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAK,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG7B,EAAoBgC,EAAI,GAIjBhC,EAAoBA,EAAoBiC,EAAI,K,ujJClFrD,IAUeC,EAVK,SAASf,GAO3B,OAAiB,OAAVA,GAAmC,mBAAVA,GAAwBgB,SAAShB,EAAMiB,SCE1DC,EAPE,SAASC,EAAYnB,GACpC,QAAKe,EAAYI,IAGVA,EAAIC,QAAQpB,IAAU,GCWhBqB,EAfA,SAAaF,EAAUG,GACpC,IAAKP,EAAYI,GACf,OAAOA,EAGT,IADA,IAAMI,EAAc,GACXC,EAAQ,EAAGA,EAAQL,EAAIF,OAAQO,IAAS,CAC/C,IAAMxB,EAAQmB,EAAIK,GACdF,EAAKtB,EAAOwB,IACdD,EAAOE,KAAKzB,GAIhB,OAAOuB,GCEMG,EAJI,SAAYP,EAAUQ,GACvC,YADuC,QAAAA,MAChCN,EAAOF,GAAK,SAACnB,GAAe,OAACkB,EAASS,EAAQ3B,OCbjD4B,EAAW,GAAGA,SAILC,EAFA,SAAC7B,EAAY8B,GAA0B,SAAS5C,KAAKc,KAAW,WAAa8B,EAAO,KCKpF,WAAC9B,GACd,OAAO6B,EAAO7B,EAAO,aCCR+B,EARD,SAAS/B,GAKrB,OAAOA,SCJM,WAACA,GACd,OAAOgC,MAAMC,QACXD,MAAMC,QAAQjC,GACd6B,EAAO7B,EAAO,U,qOCLH,eAAaA,GAO1B,IAAM8B,EAAI,EAAU9B,GACpB,OAAiB,OAAVA,GAA2B,WAAT8B,GAA8B,aAATA,GCmBjCI,MAxBf,SAAeC,EAA0Bb,GACvC,GAAKa,EAIL,GAAIF,EAAQE,GACV,IAAK,IAAIpD,EAAI,EAAGqD,EAAMD,EAASlB,OAAQlC,EAAIqD,IAE7B,IADNd,EAAKa,EAASpD,GAAIA,GADsBA,UAM3C,GAAIsD,EAASF,GAClB,IAAK,IAAMG,KAAKH,EACd,GAAIA,EAASvB,eAAe0B,KAEd,IADNhB,EAAKa,EAASG,GAAIA,GAEtB,OCPKC,EAVF9C,OAAO8C,KAAO,YAAO,cAAOA,KAAKC,IAAO,YACnD,IAAMjB,EAAS,GAMf,OALAW,EAAKM,GAAK,SAACxC,EAAOM,GACVmC,EAAWD,IAAgB,cAARlC,GACvBiB,EAAOE,KAAKnB,MAGTiB,GCMMmB,MAbf,SAAiBF,EAAUG,GACzB,IAAMC,EAAQL,EAAKI,GACb1B,EAAS2B,EAAM3B,OACrB,GAAIc,EAAMS,GAAM,OAAQvB,EACxB,IAAK,IAAIlC,EAAI,EAAGA,EAAIkC,EAAQlC,GAAK,EAAG,CAClC,IAAMuB,EAAMsC,EAAM7D,GAClB,GAAI4D,EAAMrC,KAASkC,EAAIlC,MAAUA,KAAOkC,GACtC,OAAO,EAGX,OAAO,G,qOCbT,IAUeK,EAVM,SAAS7C,GAO5B,MAAwB,WAAjB,EAAOA,IAAgC,OAAVA,GCgBvB8C,EApBO,SAAS9C,GAO7B,IAAK6C,EAAa7C,KAAW6B,EAAO7B,EAAO,UACzC,OAAO,EAET,GAAqC,OAAjCP,OAAOsD,eAAe/C,GACxB,OAAO,EAGT,IADA,IAAIgD,EAAQhD,EAC4B,OAAjCP,OAAOsD,eAAeC,IAC3BA,EAAQvD,OAAOsD,eAAeC,GAEhC,OAAOvD,OAAOsD,eAAe/C,KAAWgD,GCQ3BC,MApBf,SAAiB9B,EAAU+B,GACzB,IAAKjB,EAAQd,GAAM,OAAO,KAE1B,IAAIgC,EAOJ,GANIV,EAAWS,KACbC,EAAaD,GAEXJ,EAAcI,KAChBC,EAAa,YAAK,SAAQC,EAAGF,KAE3BC,EACF,IAAK,IAAIpE,EAAI,EAAGA,EAAIoC,EAAIF,OAAQlC,GAAK,EACnC,GAAIoE,EAAWhC,EAAIpC,IACjB,OAAOoC,EAAIpC,GAIjB,OAAO,MCdMsE,MAXf,SAAsBlC,EAAU+B,EAA+CI,QAAA,QAAAA,KAC7E,IAAK,IAAIvE,EAAIuE,EAAWvE,EAAIoC,EAAIF,OAAQlC,IACtC,GAAImE,EAAU/B,EAAIpC,GAAIA,GAEpB,OAAOA,EAIX,OAAQ,GCYKwE,EAjBI,SAASC,EAAgBlE,GAE1C,IADA,IAAImE,EAAM,KACD1E,EAAI,EAAGA,EAAIyE,EAAKvC,OAAQlC,IAAK,CACpC,IACMiB,EADMwD,EAAKzE,GACCO,GAClB,IAAKyC,EAAM/B,GAAQ,CAEfyD,EADExB,EAAQjC,GACJA,EAAM,GAENA,EAER,OAGJ,OAAOyD,GCKMC,EAXC,SAAavC,GAC3B,IAAKc,EAAQd,GACX,MAAO,GAGT,IADA,IAAIsC,EAAW,GACN1E,EAAI,EAAGA,EAAIoC,EAAIF,OAAQlC,IAC9B0E,EAAMA,EAAIE,OAAOxC,EAAIpC,IAEvB,OAAO0E,GCIMG,EAXK,SAAdA,EAAuBzC,EAAYI,GACvC,QADuC,QAAAA,MAClCU,EAAQd,GAGX,IAAK,IAAIpC,EAAI,EAAGA,EAAIoC,EAAIF,OAAQlC,GAAK,EACnC6E,EAAYzC,EAAIpC,GAAIwC,QAHtBA,EAAOE,KAAKN,GAMd,OAAOI,GCAM,WAACJ,GACd,GAAKc,EAAQd,GAGb,OAAOA,EAAI0C,QAAO,SAACC,EAAMC,GACvB,OAAOC,KAAKC,IAAIH,EAAMC,KACrB5C,EAAI,KCNM,WAACA,GACd,GAAKc,EAAQd,GAGb,OAAOA,EAAI0C,QAAO,SAACC,EAAMC,GACvB,OAAOC,KAAKE,IAAIJ,EAAMC,KACrB5C,EAAI,KCQMgD,EAzBE,SAAUxC,GAEzB,IAAIyC,EAAezC,EAAON,QAAO,SAACgD,GAAM,OAACC,MAAMD,MAC/C,IAAKD,EAAanD,OAEhB,MAAO,CACLiD,IAAK,EACLD,IAAK,GAGT,GAAIhC,EAAQN,EAAO,IAAK,CAEtB,IADA,IAAI4C,EAAM,GACDxF,EAAI,EAAGA,EAAI4C,EAAOV,OAAQlC,IACjCwF,EAAMA,EAAIZ,OAAOhC,EAAO5C,IAE1BqF,EAAeG,EAEjB,IAAMN,EAAMO,EAAOJ,GAEnB,MAAO,CACLF,IAFUO,EAAOL,GAGjBH,IAAG,IC9BDS,EAAe1C,MAAMrB,UACrBgE,EAASD,EAAaC,OACtBvD,EAAUsD,EAAatD,QAadwD,EAXF,SAAYzD,G,IAAU,oCAAAQ,oBACjC,IAAK,IAAI5C,EAAI,EAAGA,EAAI4C,EAAOV,OAAQlC,IAGjC,IAFA,IAAMiB,EAAQ2B,EAAO5C,GACjBuE,GAAa,GACTA,EAAYlC,EAAQlC,KAAKiC,EAAKnB,KAAW,GAC/C2E,EAAOzF,KAAKiC,EAAKmC,EAAW,GAGhC,OAAOnC,GCVHwD,EAAS3C,MAAMrB,UAAUgE,OAoBhBE,EAlBA,SAAoB1D,EAAU2D,GAC3C,IAAK/D,EAAYI,GACf,MAAO,GAKT,IAHA,IAAIF,EAASE,EAAM2D,EAAQ7D,OAAS,EAC9B8D,EAAO9D,EAAS,EAEfA,KAAU,CACf,IAAI+D,OAAQ,EACNxD,EAAQsD,EAAQ7D,GAClBA,IAAW8D,GAAQvD,IAAUwD,IAC/BA,EAAWxD,EACXmD,EAAOzF,KAAKiC,EAAKK,EAAO,IAG5B,OAAOL,GCHM0C,EAXA,SAAe1C,EAAwB8D,EAAqDC,GACzG,IAAKjD,EAAQd,KAAS2B,EAAc3B,GAClC,OAAOA,EAET,IAAII,EAAS2D,EAIb,OAHAhD,EAAKf,GAAK,SAACqC,EAAMzE,GACfwC,EAAS0D,EAAG1D,EAAQiC,EAAMzE,MAErBwC,GCgBM4D,EA1BA,SAAYhE,EAAU+B,GAOnC,IAAM3B,EAAS,GACf,IAAKR,EAAYI,GACf,OAAOI,EAMT,IAJA,IAAIxC,GAAK,EACH+F,EAAU,GACV7D,EAASE,EAAIF,SAEVlC,EAAIkC,GAAQ,CACnB,IAAMjB,EAAQmB,EAAIpC,GACdmE,EAAUlD,EAAOjB,EAAGoC,KACtBI,EAAOE,KAAKzB,GACZ8E,EAAQrD,KAAK1C,IAIjB,OADA8F,EAAO1D,EAAK2D,GACLvD,GCxBM,WAAC6D,GACd,OAAOvD,EAAOuD,EAAK,WCsCNC,MA7Bf,SAAoBlE,EAAsBb,GACxC,IAAIgF,EACJ,GAAI7C,EAAWnC,GACbgF,EAAW,SAAClC,EAAGmC,GAAM,SAAInC,GAAK9C,EAAIiF,QAC7B,CACL,IAAIC,EAAO,GACPC,EAASnF,GACXkF,EAAK/D,KAAKnB,GACD2B,EAAQ3B,KACjBkF,EAAOlF,GAETgF,EAAW,SAAClC,EAAGmC,GACb,IAAK,IAAIxG,EAAI,EAAGA,EAAIyG,EAAKvE,OAAQlC,GAAK,EAAG,CACvC,IAAM2G,EAAOF,EAAKzG,GAClB,GAAIqE,EAAEsC,GAAQH,EAAEG,GACd,OAAO,EAET,GAAItC,EAAEsC,GAAQH,EAAEG,GACd,OAAQ,EAGZ,OAAO,GAKX,OADAvE,EAAIwE,KAAKL,GACFnE,GCtCK,SAAUyE,EAAKzE,EAAY0E,QAAA,QAAAA,MAAYC,KACnD,IAAMjG,EAAI,GAEV,GAAImC,MAAMC,QAAQd,GAChB,IAAK,IAAIpC,EAAI,EAAGqD,EAAMjB,EAAIF,OAAQlC,EAAIqD,EAAKrD,IAAM,CAC/C,IAAMgH,EAAO5E,EAAIpC,GAEZ8G,EAAMG,IAAID,KACblG,EAAE4B,KAAKsE,GACPF,EAAMI,IAAIF,GAAM,IAItB,OAAOlG,ECXT,IAIeqG,EAJD,W,IAAS,oCAAAC,kBACrB,OAAOP,EAAK,GAAGjC,OAAMyC,MAAT,GAAaD,KCAZ,WAAC3C,EAAalE,GAI3B,IAHA,IAAMmE,EAAM,GACN4C,EAAS,GAENtH,EAAI,EAAGA,EAAIyE,EAAKvC,OAAQlC,IAAK,CACpC,IACIiB,EADQwD,EAAKzE,GACDO,GAEhB,IAAKyC,EAAM/B,GAAQ,CAEZiC,EAAQjC,KACXA,EAAQ,CAAEA,IAEZ,IAAK,IAAIsG,EAAI,EAAGA,EAAItG,EAAMiB,OAAQqF,IAAK,CACrC,IAAMC,EAAMvG,EAAMsG,GAEbD,EAAOE,KACV9C,EAAIhC,KAAK8E,GACTF,EAAOE,IAAO,KAMtB,OAAO9C,GCzBK,SAAU+C,EAAKhH,GAC3B,GAAIuB,EAAYvB,GACd,OAAwBA,EAAG,GCFjB,SAAUuF,EAAKvF,GAC3B,GAAIuB,EAAYvB,GAAI,CAElB,OADYA,IACGyB,OAAS,ICIbwF,MAJf,SAAuBtF,EAAmBuF,GACxC,SAAQzE,EAAQd,KAAQsE,EAAStE,KAAQA,EAAI,KAAOuF,GCGvCC,MAJf,SAAqBxF,EAAmBuF,GACtC,SAAQzE,EAAQd,KAAQsE,EAAStE,KAAQA,EAAIA,EAAIF,OAAS,KAAOyF,GCOpDE,EARD,SAAazF,EAAUG,GACnC,IAAK,IAAIvC,EAAI,EAAGA,EAAIoC,EAAIF,OAAQlC,IAC9B,IAAKuC,EAAKH,EAAIpC,GAAIA,GAAI,OAAO,EAG/B,OAAO,GCGM8H,EARF,SAAa1F,EAAUG,GAClC,IAAK,IAAIvC,EAAI,EAAGA,EAAIoC,EAAIF,OAAQlC,IAC9B,GAAIuC,EAAKH,EAAIpC,GAAIA,GAAI,OAAO,EAG9B,OAAO,GCPH6B,EAAiBnB,OAAOkB,UAAUC,eA+BzBkG,MAvBf,SAAoBtD,EAAWuD,GAC7B,IAAKA,IAAc9E,EAAQuB,GACzB,MAAO,GAQT,IANA,IAKIlD,EALEiB,EAAwB,GAGxB2B,EAAYT,EAAWsE,GAAaA,EAAY,SAAChB,GAAS,SAAKgB,IAG5DhI,EAAI,EAAGA,EAAIyE,EAAKvC,OAAQlC,IAAK,CACpC,IAAMgH,EAAOvC,EAAKzE,GAClBuB,EAAM4C,EAAU6C,GACZnF,EAAe1B,KAAKqC,EAAQjB,GAC9BiB,EAAOjB,GAAKmB,KAAKsE,GAEjBxE,EAAOjB,GAAO,CAAEyF,GAIpB,OAAOxE,GCtBK,SAAUyF,EAAWxD,EAAWuD,GAC5C,IAAKA,EACH,MAAO,CACL,EAAGvD,GAGP,IAAKf,EAAWsE,GAAY,CAE1B,IAAME,EAAkBhF,EAAQ8E,GAAaA,EAAYA,EAAUG,QAAQ,OAAQ,IAAIC,MAAM,KAC7FJ,EAAY,SAAUK,GAIpB,IAHA,IAAIC,EAAS,IAGJtI,EAAI,EAAGC,EAAIiI,EAAgBhG,OAAQlC,EAAIC,EAAGD,IACjDsI,GAAUD,EAAIH,EAAgBlI,KAAOqI,EAAIH,EAAgBlI,IAAI6C,WAE/D,OAAOyF,GAGX,OAAOP,EAAQtD,EAAMuD,GC1BR,eAAIvD,EAAWuD,GAC5B,IAAKA,EAEH,MAAO,CAAEvD,GAEX,IAAM8D,EAASN,EAAWxD,EAAMuD,GAC1BQ,EAAQ,GACd,IAAK,IAAMxI,KAAKuI,EACdC,EAAM9F,KAAK6F,EAAOvI,IAEpB,OAAOwI,GCAMC,MAJf,SAAyBhF,EAAaiF,GACpC,OAAOjF,EAAI,SAAWiF,ICUTC,MAXf,SAAsBlF,EAAaiF,GACjC,GAAIjF,EAAI,SAAWiF,GACjB,OAAOjF,EAAI,SAAWiF,GAExB,IAAME,EAAS,YACbnF,EAAIiF,GAAQf,IAGd,OADAlE,EAAI,SAAWiF,GAAUE,EAClBA,GChBHC,EAAgB,GAgBPC,OAdf,SAAuBC,GAErB,IAAIC,EAAQH,EAAcE,GAC1B,IAAKC,EAAO,CAEV,IADA,IAAI3C,EAAM0C,EAAIlG,SAAS,IACd7C,EAAIqG,EAAInE,OAAQlC,EAAI,EAAGA,IAC9BqG,EAAM,IAAMA,EAEd2C,EAAQ,IAAM3C,EACdwC,EAAcE,GAAOC,EAEvB,OAAOA,GC+BMC,OAhCf,SAAqBC,GACnB,IAAIC,EAAK,EACPC,EAAK,EACLC,EAAK,EACLC,EAAK,EAoBP,OAnBIpG,EAAQgG,GACY,IAAlBA,EAAOhH,OACTiH,EAAKC,EAAKC,EAAKC,EAAKJ,EAAO,GACA,IAAlBA,EAAOhH,QAChBiH,EAAKE,EAAKH,EAAO,GACjBE,EAAKE,EAAKJ,EAAO,IACU,IAAlBA,EAAOhH,QAChBiH,EAAKD,EAAO,GACZE,EAAKE,EAAKJ,EAAO,GACjBG,EAAKH,EAAO,KAEZC,EAAKD,EAAO,GACZE,EAAKF,EAAO,GACZG,EAAKH,EAAO,GACZI,EAAKJ,EAAO,IAGdC,EAAKC,EAAKC,EAAKC,EAAKJ,EAEf,CACLC,GAAE,EACFC,GAAE,EACFC,GAAE,EACFC,GAAE,IC/BSC,GATD,SAASlF,EAAWc,EAAaD,GAC7C,OAAIb,EAAIc,EACCA,EACEd,EAAIa,EACNA,EAEFb,GCOMmF,GAbG,SAASlE,EAAWmE,GACpC,IAAMpD,EAAMoD,EAAK5G,WACXJ,EAAQ4D,EAAIhE,QAAQ,KAC1B,IAAe,IAAXI,EACF,OAAOwC,KAAKyE,MAAMpE,GAEpB,IAAIpD,EAASmE,EAAIsD,OAAOlH,EAAQ,GAAGP,OAInC,OAHIA,EAAS,KACXA,EAAS,IAEJ0H,WAAWtE,EAAEuE,QAAQ3H,KCDf4H,GAHE,SAAS7I,GACxB,OAAO6B,EAAO7B,EAAO,WCDR8I,GAJG,SAAShB,GACzB,OAAOe,GAASf,IAAQA,EAAM,GAAM,GCGvBiB,GAJA,SAASjB,GACtB,OAAOe,GAASf,IAAQA,EAAM,GAAM,GCGvBkB,GAJGC,OAAOD,UAAYC,OAAOD,UAAY,SAASlB,GAC/D,OAAOe,GAASf,IAAQA,EAAM,GAAM,GCGvBoB,GAJI,SAASpB,GAC1B,OAAOe,GAASf,IAAQA,EAAM,GCDlB,SAAUqB,GAAc/F,EAAWmC,EAAW6D,GAC1D,YAD0D,QAAAA,EAF1C,MAGTpF,KAAKqF,IAAKjG,EAAImC,GAAM6D,ECD7B,IAIeE,GAJD,SAASxB,GACrB,OAAOe,GAASf,IAAQA,EAAM,GAAM,GCGvByB,GAJI,SAASzB,GAC1B,OAAOe,GAASf,IAAQA,EAAM,GCcjB,YAAI3G,EAAU8D,GAC3B,GAAKhD,EAAQd,GAAb,CAOA,IAHA,IAAIqI,EACAvF,GAAOwF,IAEF1K,EAAI,EAAGA,EAAIoC,EAAIF,OAAQlC,IAAK,CACnC,IAAMgH,EAAO5E,EAAIpC,GACXsF,EAAI5B,EAAWwC,GAAMA,EAAGc,GAAQA,EAAKd,GAEvCZ,EAAIJ,IACNuF,EAAUzD,EACV9B,EAAMI,GAIV,OAAOmF,ICjBM,YAAIrI,EAAU8D,GAC3B,GAAKhD,EAAQd,GAAb,CAOA,IAHA,IAAIuI,EACAxF,EAAMuF,IAED1K,EAAI,EAAGA,EAAIoC,EAAIF,OAAQlC,IAAK,CACnC,IAAMgH,EAAO5E,EAAIpC,GACXsF,EAAI5B,EAAWwC,GAAMA,EAAGc,GAAQA,EAAKd,GAEvCZ,EAAIH,IACNwF,EAAU3D,EACV7B,EAAMG,GAIV,OAAOqF,IChCMC,GAJH,SAASnJ,EAAWrB,GAC9B,OAASqB,EAAIrB,EAAKA,GAAKA,GCDnByK,GAAS,IAAM5F,KAAK6F,GAMXC,GAJE,SAASC,GACxB,OAAOH,GAASG,GCHHC,YCATC,GAASjG,KAAK6F,GAAK,IAMVK,GAJE,SAASC,GACxB,OAAOF,GAASE,GCDHjI,KCFA,YAACM,EAAalC,GAAsB,SAAIM,eAAeN,ICCvD0F,MCaArE,GAVAlC,OAAOkC,OAAS,YAAO,cAAOA,OAAOa,IAAO,YACzD,IAAMjB,EAAS,GAMf,OALAW,EAAKM,GAAK,SAACxC,EAAOM,GACVmC,EAAWD,IAAgB,cAARlC,GACvBiB,EAAOE,KAAKzB,MAGTuB,GCRM,YAACiB,EAAaxC,GAAwB,SAAS2B,GAAOa,GAAMxC,ICD5D,YAACA,GACd,OAAI+B,EAAM/B,GAAe,GAClBA,EAAM4B,YCEAwI,GAJG,SAAShF,GACzB,OAAOxD,GAASwD,GAAKiF,eCIRC,GALI,SAAStK,GAC1B,IAAMoF,EAAMxD,GAAS5B,GACrB,OAAOoF,EAAImF,OAAO,GAAGF,cAAgBjF,EAAIoF,UAAU,ICYtCC,OAZf,SAAwBrF,EAAa5F,GACnC,OAAK4F,GAAQ5F,EAGN4F,EAAI8B,QAAQ,oBAAoB,SAACwD,EAAOpL,GAC7C,MAAwB,OAApBoL,EAAMH,OAAO,GACRG,EAAMC,MAAM,QAEDC,IAAZpL,EAAEF,GAAuB,GAAKE,EAAEF,MANjC8F,GCAIyF,GAJG,SAASzF,GACzB,OAAOxD,GAASwD,GAAK0F,eCIRC,GALI,SAAS/K,GAC1B,IAAMoF,EAAMxD,GAAS5B,GACrB,OAAOoF,EAAImF,OAAO,GAAGO,cAAgB1F,EAAIoF,UAAU,ICJ/C5I,GAAW,GAAGA,SAMLoJ,GAJC,SAAShL,GACvB,OAAO4B,GAAS1C,KAAKc,GAAOkH,QAAQ,aAAc,IAAIA,QAAQ,KAAM,KCSvD+D,GAJK,SAASjL,GAC3B,OAAO6B,EAAO7B,EAAO,cCGRkL,GAJG,SAASlL,GACzB,OAAO6B,EAAO7B,EAAO,YCHRmL,GAJA,SAASnL,GACtB,OAAO6B,EAAO7B,EAAO,SCSRoL,GAJC,SAASpL,GACvB,OAAO6B,EAAO7B,EAAO,UCHT,YAAUA,GACpB,OAAO6I,GAAS7I,IAAUgB,SAAShB,ICHxBqL,GAJA,SAASrL,GACtB,OAAiB,OAAVA,GCDHsL,GAAc7L,OAAOkB,UAQZ4K,GANK,SAASvL,GAC3B,IAAMwL,EAAOxL,GAASA,EAAMyL,YAE5B,OAAOzL,KADwB,mBAATwL,GAAuBA,EAAK7K,WAAc2K,KCEnDI,GAJE,SAAStG,GACxB,OAAOvD,EAAOuD,EAAK,WCCNuG,GAJK,SAAS3L,GAC3B,YAAiB4K,IAAV5K,GCMM4L,GAHG,SAASpM,GACzB,OAAOA,aAAaqM,SAAWrM,aAAasM,cCLhC,SAAUC,GAAsB9G,GAW5C,OAVe+G,OAAOD,uBACpBC,OAAOC,6BAEPD,OAAOE,0BAEPF,OAAOG,yBACP,SAASC,GACP,OAAOC,WAAWD,EAAG,MAGXnH,GCXF,SAAUqH,GAAqBC,IAC5BP,OAAOM,sBACpBN,OAAOQ,4BAEPR,OAAOS,yBAEPT,OAAOU,wBACPC,cAEKJ,GCRT,SAASK,GAAmBC,EAAqBrK,GAC/C,IAAK,IAAMlC,KAAOkC,EACZA,EAAI5B,eAAeN,IAAgB,gBAARA,QAAsCsK,IAAbpI,EAAIlC,KACpDuM,EAAMvM,GAAOkC,EAAIlC,IAKf,SAAUwM,GAAmBD,EAAwBE,EAAUC,EAAUC,GAIrF,OAHIF,GAAMH,GAAKC,EAAME,GACjBC,GAAMJ,GAAKC,EAAMG,GACjBC,GAAML,GAAKC,EAAMI,GACdJ,ECTT,IAWeK,GAXC,W,IAAS,oCAAAC,kBAEvB,IADA,IAAM/N,EAAI+N,EAAK,GACNpO,EAAI,EAAGA,EAAIoO,EAAKlM,OAAQlC,IAAK,CACpC,IAAIyD,EAAM2K,EAAKpO,GACX0D,EAAWD,KACbA,EAAMA,EAAI7B,WAEZmM,GAAI1N,EAAEuB,UAAW6B,K,uOCTrB,IA4Be4K,GA5BD,SAARA,EAAiB5K,GACrB,GAAmB,WAAf,GAAOA,IAA4B,OAARA,EAC7B,OAAOA,EAET,IAAIiB,EACJ,GAAIxB,EAAQO,GAAM,CAChBiB,EAAM,GACN,IAAK,IAAI1E,EAAI,EAAGC,EAAIwD,EAAIvB,OAAQlC,EAAIC,EAAGD,IACf,WAAlB,GAAOyD,EAAIzD,KAA6B,MAAVyD,EAAIzD,GACpC0E,EAAI1E,GAAKqO,EAAM5K,EAAIzD,IAEnB0E,EAAI1E,GAAKyD,EAAIzD,QAKjB,IAAK,IAAMuD,KADXmB,EAAM,GACUjB,EACQ,WAAlB,GAAOA,EAAIF,KAA6B,MAAVE,EAAIF,GACpCmB,EAAInB,GAAK8K,EAAM5K,EAAIF,IAEnBmB,EAAInB,GAAKE,EAAIF,GAKnB,OAAOmB,GCNM4J,OApBf,SAAkB/L,EAAgBgM,EAAeC,GAC/C,IAAIC,EACJ,OAAO,WACL,IAAMC,EAAU,KACdN,EAAOO,UACHC,EAAQ,WACZH,EAAU,KACLD,GACHjM,EAAK8E,MAAMqH,EAASN,IAGlBS,EAAUL,IAAcC,EAC9Bb,aAAaa,GACbA,EAAUnB,WAAWsB,EAAOL,GACxBM,GACFtM,EAAK8E,MAAMqH,EAASN,KCRX,YAACf,EAAayB,GAC3B,IAAKpL,EAAW2J,GACd,MAAM,IAAI0B,UAAU,uBAGtB,IAAMC,EAAW,SAAXA,I,IAAoB,oCAAAZ,kBAExB,IAAM7M,EAAMuN,EAAWA,EAASzH,MAAM,KAAM+G,GAAQA,EAAK,GACnDtH,EAAQkI,EAASlI,MAEvB,GAAIA,EAAMG,IAAI1F,GACZ,OAAOuF,EAAMjG,IAAIU,GAEnB,IAAMiB,EAAS6K,EAAEhG,MAAM,KAAM+G,GAG7B,OADAtH,EAAMI,IAAI3F,EAAKiB,GACRA,GAKT,OAFAwM,EAASlI,MAAQ,IAAIC,IAEdiI,GCxBT,SAASC,GAASnB,EAAMoB,EAAKC,EAAQC,GAGnC,IAAK,IAAM7N,KAFX4N,EAAQA,GAAS,EACjBC,EAAWA,GAJS,EAKFF,EAChB,GAAIA,EAAIrN,eAAeN,GAAM,CAC3B,IAAMN,EAAQiO,EAAI3N,GACJ,OAAVN,GAAkB8C,EAAc9C,IAC7B8C,EAAc+J,EAAKvM,MACtBuM,EAAKvM,GAAO,IAEV4N,EAAQC,EACVH,GAASnB,EAAKvM,GAAMN,EAAOkO,EAAQ,EAAGC,GAEtCtB,EAAKvM,GAAO2N,EAAI3N,IAET2B,EAAQjC,IACjB6M,EAAKvM,GAAO,GACZuM,EAAKvM,GAAOuM,EAAKvM,GAAKqD,OAAO3D,SACV4K,IAAV5K,IACT6M,EAAKvM,GAAON,IAOpB,IAOeoO,GAPC,SAAS3K,G,IAAS,oCAAA0J,oBAChC,IAAK,IAAIpO,EAAI,EAAGA,EAAIoO,EAAKlM,OAAQlC,GAAK,EACpCiP,GAASvK,EAAK0J,EAAKpO,IAErB,OAAO0E,GCAM4K,GAhCA,SAASC,EAAUC,EAAYC,EAAYC,GAEnDhM,EAAW8L,KACdC,EAAYD,EACZA,EAAaD,EACbA,EAAW,cAGb,IAAMjO,EAASZ,OAAOY,OACpB,SAAS2C,EAAO5D,GACd,OAAOK,OAAOY,OAAO2C,EAAO,CAC1ByI,YAAa,CACXzL,MAAOZ,MAIb,SAAS4D,EAAO5D,GACd,SAASsP,KACTA,EAAI/N,UAAYqC,EAChB,IAAMxD,EAAI,IAAIkP,EAEd,OADAlP,EAAEiM,YAAcrM,EACTI,GAGLmP,EAAWtO,EAAOkO,EAAW5N,UAAW2N,GAK9C,OAJAA,EAAS3N,UAAYmM,GAAI6B,EAAUL,EAAS3N,WAC5C2N,EAASC,WAAalO,EAAOkO,EAAW5N,UAAW4N,GACnDzB,GAAI6B,EAAUH,GACd1B,GAAIwB,EAAUG,GACPH,GCXMlN,GAnBC,SAAaD,EAAUqB,GACrC,IAAKzB,EAAYI,GACf,OAAQ,EAEV,IAAMhC,EAAI6C,MAAMrB,UAAUS,QAC1B,GAAIjC,EACF,OAAOA,EAAED,KAAKiC,EAAKqB,GAIrB,IAFA,IAAIhB,GAAS,EAEJzC,EAAI,EAAGA,EAAIoC,EAAIF,OAAQlC,IAC9B,GAAIoC,EAAIpC,KAAOyD,EAAK,CAClBhB,EAAQzC,EACR,MAGJ,OAAOyC,GCbHZ,GAAiBnB,OAAOkB,UAAUC,eAiCzBgO,OA/Bf,SAAiB5O,GAUf,GAAI+B,EAAM/B,GACR,OAAO,EAET,GAAIe,EAAYf,GACd,OAAQA,EAAMiB,OAEhB,IAAMa,EAAOkJ,GAAQhL,GACrB,GAAa,QAAT8B,GAA2B,QAATA,EACpB,OAAQ9B,EAAM6O,KAEhB,GAAItD,GAAYvL,GACd,OAAQP,OAAO8C,KAAKvC,GAAOiB,OAE7B,IAAK,IAAMX,KAAON,EAChB,GAAIY,GAAe1B,KAAKc,EAAOM,GAC7B,OAAO,EAGX,OAAO,GCUMwO,GAzCC,SAAVA,EAAW9O,EAAY+O,GAC3B,GAAI/O,IAAU+O,EACZ,OAAO,EAET,IAAK/O,IAAU+O,EACb,OAAO,EAET,GAAItJ,EAASzF,IAAUyF,EAASsJ,GAC9B,OAAO,EAET,GAAIhO,EAAYf,IAAUe,EAAYgO,GAAQ,CAC5C,GAAI/O,EAAMiB,SAAW8N,EAAM9N,OACzB,OAAO,EAGT,IADA,IAAIwC,GAAM,EACD1E,EAAI,EAAGA,EAAIiB,EAAMiB,SACxBwC,EAAMqL,EAAQ9O,EAAMjB,GAAIgQ,EAAMhQ,KADEA,KAMlC,OAAO0E,EAET,GAAIZ,EAAa7C,IAAU6C,EAAakM,GAAQ,CAC9C,IAAMC,EAAYvP,OAAO8C,KAAKvC,GACxBiP,EAAYxP,OAAO8C,KAAKwM,GAC9B,GAAIC,EAAU/N,SAAWgO,EAAUhO,OACjC,OAAO,EAGT,IADIwC,GAAM,EACD1E,EAAI,EAAGA,EAAIiQ,EAAU/N,SAC5BwC,EAAMqL,EAAQ9O,EAAMgP,EAAUjQ,IAAKgQ,EAAMC,EAAUjQ,MADfA,KAMtC,OAAO0E,EAET,OAAO,GCjBM,YAAIzD,EAAU+O,EAAU9J,GACrC,OAAKxC,EAAWwC,KAGPA,EAAGjF,EAAO+O,GAFVD,GAAQ9O,EAAO+O,ICXXG,GAdH,SAAQ/N,EAAUG,GAC5B,IAAKP,EAAYI,GAEf,OAAOA,EAIT,IAFA,IAAMI,EAAc,GAEXC,EAAQ,EAAGA,EAAQL,EAAIF,OAAQO,IAAS,CAC/C,IAAMxB,EAAQmB,EAAIK,GAClBD,EAAOE,KAAKH,EAAKtB,EAAOwB,IAE1B,OAAOD,GCVH4N,GAAW,SAAI9K,GAAY,UAMlB,YAAI5D,EAA8Ba,QAAA,QAAAA,MAC/C,IAAMzB,EAAc,GAOpB,OANIwC,EAAS5B,KAAYsB,EAAMtB,IAC7BhB,OAAO8C,KAAK9B,GAAQ2O,SAAQ,YAE1BvP,EAAES,GAAOgB,EAAKb,EAAOH,GAAMA,MAGxBT,GCVM,YAAC2C,EAAUlC,EAAqB+O,GAK7C,IAJA,IAAIxO,EAAI,EAEFyO,EAAS7J,EAASnF,GAAOA,EAAI6G,MAAM,KAAO7G,EAEzCkC,GAAO3B,EAAIyO,EAAOrO,QACvBuB,EAAMA,EAAI8M,EAAOzO,MAGnB,YAAgB+J,IAARpI,GAAqB3B,EAAIyO,EAAOrO,OAAUoO,EAAe7M,GCNpD,YAACA,EAAU+M,EAAsBvP,GAC9C,IAAIR,EAAIgD,EAEF8M,EAAS7J,EAAS8J,GAAQA,EAAKpI,MAAM,KAAOoI,EAclD,OAZAD,EAAOF,SAAQ,SAAC9O,EAAsBkP,GAEhCA,EAAMF,EAAOrO,OAAS,GACnBoB,EAAS7C,EAAEc,MACdd,EAAEc,GAAOuI,GAASyG,EAAOE,EAAM,IAAM,GAAK,IAE5ChQ,EAAIA,EAAEc,IAENd,EAAEc,GAAON,KAINwC,GCxBH5B,GAAiBnB,OAAOkB,UAAUC,eAiBzB,YAAIH,EAAuB8B,GACxC,GAAe,OAAX9B,IAAoBqC,EAAcrC,GACpC,MAAO,GAET,IAAMc,EAAwB,GAM9B,OALAW,EAAKK,GAAM,YACL3B,GAAe1B,KAAKuB,EAAQH,KAC9BiB,EAAOjB,GAAOG,EAAOH,OAGlBiB,GC3BM,YAAIiB,EAAoBD,GACrC,OAAOsB,EACLrB,GACA,SAAC3C,EAAkBkE,EAASzD,GAI1B,OAHKiC,EAAKkN,SAASnP,KACjBT,EAAES,GAAOyD,GAEJlE,IAET,KCPW,YAACyB,EAAgBgM,EAAcoC,GAC5C,IAAIlC,EACFC,EACAN,EACA5L,EACEyD,EAAW,EACV0K,IAASA,EAAU,IAExB,IAAM/B,EAAQ,WACZ3I,GAA+B,IAApB0K,EAAQC,QAAoB,EAAIC,KAAKC,MAChDrC,EAAU,KACVjM,EAASD,EAAK8E,MAAMqH,EAASN,GACxBK,IAASC,EAAUN,EAAO,OAG3B2C,EAAY,WAChB,IAAMD,EAAMD,KAAKC,MACZ7K,IAAgC,IAApB0K,EAAQC,UAAmB3K,EAAW6K,GACvD,IAAME,EAAYzC,GAAQuC,EAAM7K,GAchC,OAbAyI,EAAU,KACVN,EAAOO,UACHqC,GAAa,GAAKA,EAAYzC,GAC5BE,IACFb,aAAaa,GACbA,EAAU,MAEZxI,EAAW6K,EACXtO,EAASD,EAAK8E,MAAMqH,EAASN,GACxBK,IAASC,EAAUN,EAAO,OACrBK,IAAgC,IAArBkC,EAAQM,WAC7BxC,EAAUnB,WAAWsB,EAAOoC,IAEvBxO,GAST,OANAuO,EAAUG,OAAS,WACjBtD,aAAaa,GACbxI,EAAW,EACXwI,EAAUC,EAAUN,EAAO,MAGtB2C,GC5CM,YAAC9P,GACd,OAAOe,EAAYf,GAASgC,MAAMrB,UAAUgK,MAAMzL,KAAKc,GAAS,ICH5DkP,GAAM,GAEG,YAACgB,GAOd,OALKhB,GADLgB,EAASA,GAAU,KAIjBhB,GAAIgB,IAAW,EAFfhB,GAAIgB,GAAU,EAITA,EAAShB,GAAIgB,ICTP,gBCAA,YAAI7L,GAAY,UCGjB,SAAUwK,GAAKrP,GAC3B,OAAIuC,EAAMvC,GACD,EAEL2Q,EAAY3Q,GACUA,EAAGyB,OAEtBxB,OAAO8C,KAAa/C,GAAGyB,O,ICD5BmP,G,QAKWC,OACb,SAACC,EAAWC,QAAA,QAAAA,MACF,MAA6DA,EAAI,SAAvDC,EAAmDD,EAAI,WAA3CE,EAAuCF,EAAI,WAA/BG,EAA2BH,EAAI,UAApBI,EAAgBJ,EAAI,YAKzE,OAJKH,KACHA,GAAMQ,SAASC,cAAc,UAAUC,WAAW,OAEpDV,GAAKG,KAAO,CAACG,EAAWC,EAAaF,EAAeM,EAAQ,KAAMP,GAAYQ,KAAK,KAC5EZ,GAAKa,YAAYxL,EAAS6K,GAAQA,EAAO,IAAIY,SAEtD,SAACZ,EAAWC,GAAoB,YAApB,QAAAA,MAAoB,cAACD,GAAS3O,GAAO4O,IAAOS,KAAK,OCThD,YAACV,EAAuBa,EAAkBZ,EAAanL,QAAA,QAAAA,SACpE,IAOIgM,EACAC,EAPEC,EAAoBC,GAAiBnM,EAAKmL,GAC5CiB,EAAY/L,EAAS6K,GAAyBA,EAAjB1O,GAAS0O,GAEtCmB,EAAYN,EAEVtR,EAAI,GAIV,GAAI0R,GAAiBjB,EAAMC,IAASY,EAClC,OAAOb,EAKT,KAEEc,EAAcI,EAAS9I,OAAO,EAlBnB,OAoBX2I,EAAeE,GAAiBH,EAAab,IAE1Be,EAAoBG,GACjCJ,EAAeI,IAUrB,GALA5R,EAAE4B,KAAK2P,GAEPK,GAAaJ,IACbG,EAAWA,EAAS9I,OA/BT,KAkCT,OAAO7I,EAAEmR,KAAK,IAMlB,KAEEI,EAAcI,EAAS9I,OAAO,EAAG,MAEjC2I,EAAeE,GAAiBH,EAAab,IAE1Be,EAAoBG,IAQvC,GALA5R,EAAE4B,KAAK2P,GAEPK,GAAaJ,IACbG,EAAWA,EAAS9I,OAAO,IAGzB,OAAO7I,EAAEmR,KAAK,IAGlB,MAAO,GAAGnR,EAAEmR,KAAK,IAAM5L,G,GCtEzB,wBACE,SAA4B,GA0B9B,OAxBEsM,yBAAIpR,GACF,YAAyBsK,IAAlB,KAAKsE,IAAI5O,IAGlBoR,yBAAIpR,EAAaqR,GACf,IAAMtN,EAAI,KAAK6K,IAAI5O,GACnB,YAAasK,IAANvG,EAAkBsN,EAAMtN,GAGjCqN,yBAAIpR,EAAaN,GACf,KAAKkP,IAAI5O,GAAON,GAGlB0R,6BACE,KAAKxC,IAAM,IAGbwC,4BAAOpR,UACE,KAAK4O,IAAI5O,IAGlBoR,4BACE,OAAOjS,OAAO8C,KAAK,KAAK2M,KAAKjO,QAEjC,EA3BA,I;;;;;;;;;;;;;;;ACaA,IAAI2Q,EAAgB,SAASvS,EAAGkG,GAI5B,OAHAqM,EAAgBnS,OAAOoS,gBAClB,CAAEC,UAAW,cAAgB9P,OAAS,SAAU3C,EAAGkG,GAAKlG,EAAEyS,UAAYvM,IACvE,SAAUlG,EAAGkG,GAAK,IAAK,IAAI1E,KAAK0E,EAAO9F,OAAOkB,UAAUC,eAAe1B,KAAKqG,EAAG1E,KAAIxB,EAAEwB,GAAK0E,EAAE1E,MAC3ExB,EAAGkG,IAGrB,SAASwM,EAAU1S,EAAGkG,GACzB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAIuI,UAAU,uBAAyBkE,OAAOzM,GAAK,iCAE7D,SAAS0M,IAAOtT,KAAK8M,YAAcpM,EADnCuS,EAAcvS,EAAGkG,GAEjBlG,EAAEsB,UAAkB,OAAN4E,EAAa9F,OAAOY,OAAOkF,IAAM0M,EAAGtR,UAAY4E,EAAE5E,UAAW,IAAIsR,GAG5E,IAAIC,EAAW,WAQlB,OAPAA,EAAWzS,OAAO0S,QAAU,SAAkBlS,GAC1C,IAAK,IAAIa,EAAG/B,EAAI,EAAGyB,EAAIkN,UAAUzM,OAAQlC,EAAIyB,EAAGzB,IAE5C,IAAK,IAAI8B,KADTC,EAAI4M,UAAU3O,GACOU,OAAOkB,UAAUC,eAAe1B,KAAK4B,EAAGD,KAAIZ,EAAEY,GAAKC,EAAED,IAE9E,OAAOZ,IAEKmG,MAAMzH,KAAM+O,YAGzB,SAAS0E,EAAOtR,EAAG4F,GACtB,IAAIzG,EAAI,GACR,IAAK,IAAIY,KAAKC,EAAOrB,OAAOkB,UAAUC,eAAe1B,KAAK4B,EAAGD,IAAM6F,EAAEtF,QAAQP,GAAK,IAC9EZ,EAAEY,GAAKC,EAAED,IACb,GAAS,MAALC,GAAqD,mBAAjCrB,OAAO4S,sBACtB,KAAItT,EAAI,EAAb,IAAgB8B,EAAIpB,OAAO4S,sBAAsBvR,GAAI/B,EAAI8B,EAAEI,OAAQlC,IAC3D2H,EAAEtF,QAAQP,EAAE9B,IAAM,GAAKU,OAAOkB,UAAU2R,qBAAqBpT,KAAK4B,EAAGD,EAAE9B,MACvEkB,EAAEY,EAAE9B,IAAM+B,EAAED,EAAE9B,KAE1B,OAAOkB,EAkBJ,SAASsS,EAAUC,EAASC,EAAYC,EAAGC,GAE9C,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GAC/C,SAASC,EAAU/S,GAAS,IAAMgT,EAAKL,EAAUM,KAAKjT,IAAW,MAAO0G,GAAKoM,EAAOpM,IACpF,SAASwM,EAASlT,GAAS,IAAMgT,EAAKL,EAAS,MAAU3S,IAAW,MAAO0G,GAAKoM,EAAOpM,IACvF,SAASsM,EAAKzR,GAJlB,IAAevB,EAIauB,EAAO4R,KAAON,EAAQtR,EAAOvB,QAJ1CA,EAIyDuB,EAAOvB,MAJhDA,aAAiB0S,EAAI1S,EAAQ,IAAI0S,GAAE,SAAUG,GAAWA,EAAQ7S,OAIToT,KAAKL,EAAWG,GAClGF,GAAML,EAAYA,EAAUvM,MAAMoM,EAASC,GAAc,KAAKQ,WAI/D,SAASI,EAAYb,EAASc,GACjC,IAAsGlH,EAAGmH,EAAGtT,EAAGuT,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAP1T,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAO2T,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEP,KAAMa,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,mBAAXhU,SAA0B0T,EAAE1T,OAAOiU,UAAY,WAAa,OAAOpV,OAAU6U,EACvJ,SAASM,EAAKtT,GAAK,OAAO,SAAU6D,GAAK,OACzC,SAAc2P,GACV,GAAI5H,EAAG,MAAM,IAAI0B,UAAU,mCAC3B,KAAO2F,GAAG,IACN,GAAIrH,EAAI,EAAGmH,IAAMtT,EAAY,EAAR+T,EAAG,GAAST,EAAC,OAAaS,EAAG,GAAKT,EAAC,SAAetT,EAAIsT,EAAC,SAAetT,EAAEf,KAAKqU,GAAI,GAAKA,EAAEN,SAAWhT,EAAIA,EAAEf,KAAKqU,EAAGS,EAAG,KAAKb,KAAM,OAAOlT,EAE3J,OADIsT,EAAI,EAAGtT,IAAG+T,EAAK,CAAS,EAARA,EAAG,GAAQ/T,EAAED,QACzBgU,EAAG,IACP,KAAK,EAAG,KAAK,EAAG/T,EAAI+T,EAAI,MACxB,KAAK,EAAc,OAAXP,EAAEC,QAAgB,CAAE1T,MAAOgU,EAAG,GAAIb,MAAM,GAChD,KAAK,EAAGM,EAAEC,QAASH,EAAIS,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKP,EAAEI,IAAII,MAAOR,EAAEG,KAAKK,MAAO,SACxC,QACI,KAAMhU,EAAIwT,EAAEG,MAAM3T,EAAIA,EAAEgB,OAAS,GAAKhB,EAAEA,EAAEgB,OAAS,KAAkB,IAAV+S,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEP,EAAI,EAAG,SACjG,GAAc,IAAVO,EAAG,MAAc/T,GAAM+T,EAAG,GAAK/T,EAAE,IAAM+T,EAAG,GAAK/T,EAAE,IAAM,CAAEwT,EAAEC,MAAQM,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYP,EAAEC,MAAQzT,EAAE,GAAI,CAAEwT,EAAEC,MAAQzT,EAAE,GAAIA,EAAI+T,EAAI,MAC7D,GAAI/T,GAAKwT,EAAEC,MAAQzT,EAAE,GAAI,CAAEwT,EAAEC,MAAQzT,EAAE,GAAIwT,EAAEI,IAAIpS,KAAKuS,GAAK,MACvD/T,EAAE,IAAIwT,EAAEI,IAAII,MAChBR,EAAEG,KAAKK,MAAO,SAEtBD,EAAKV,EAAKpU,KAAKsT,EAASiB,GAC1B,MAAO/M,GAAKsN,EAAK,CAAC,EAAGtN,GAAI6M,EAAI,EAjBrB,QAiBoCnH,EAAInM,EAAI,EACtD,GAAY,EAAR+T,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAEhU,MAAOgU,EAAG,GAAKA,EAAG,QAAK,EAAQb,MAAM,GArB9BH,CAAK,CAACxS,EAAG6D,MAyBhC5E,OAAOY,OAiD7B,SAAS6T,IACZ,IAAK,IAAIpT,EAAI,EAAG/B,EAAI,EAAGoV,EAAKzG,UAAUzM,OAAQlC,EAAIoV,EAAIpV,IAAK+B,GAAK4M,UAAU3O,GAAGkC,OACxE,IAAIpB,EAAImC,MAAMlB,GAAIwB,EAAI,EAA3B,IAA8BvD,EAAI,EAAGA,EAAIoV,EAAIpV,IACzC,IAAK,IAAIqE,EAAIsK,UAAU3O,GAAIuH,EAAI,EAAG8N,EAAKhR,EAAEnC,OAAQqF,EAAI8N,EAAI9N,IAAKhE,IAC1DzC,EAAEyC,GAAKc,EAAEkD,GACjB,OAAOzG,EAGJ,SAASwU,EAAcC,EAAIC,EAAMC,GACpC,GAAIA,GAA6B,IAArB9G,UAAUzM,OAAc,IAAK,IAA4BwT,EAAxB1V,EAAI,EAAGC,EAAIuV,EAAKtT,OAAYlC,EAAIC,EAAGD,KACxE0V,GAAQ1V,KAAKwV,IACRE,IAAIA,EAAKzS,MAAMrB,UAAUgK,MAAMzL,KAAKqV,EAAM,EAAGxV,IAClD0V,EAAG1V,GAAKwV,EAAKxV,IAGrB,OAAOuV,EAAG3Q,OAAO8Q,GAAMzS,MAAMrB,UAAUgK,MAAMzL,KAAKqV,IAsC7B9U,OAAOY,Q,iCCjNnB,IAAIqU,EAAYC,EAAQ,KAAcC,EAAgB,GAAG,IAAI,IAAItU,KAAOoU,EAAYA,EAAY9T,eAAeN,KAAOsU,EAAgBF,EAAYpU,IAAMA,GAAK,IAAIuU,EAAQrW,EAAOD,QAAQ,CAACuW,IAAI,CAACC,SAAS,EAAEC,OAAO,OAAOC,IAAI,CAACF,SAAS,EAAEC,OAAO,OAAOE,IAAI,CAACH,SAAS,EAAEC,OAAO,OAAOG,IAAI,CAACJ,SAAS,EAAEC,OAAO,OAAOI,KAAK,CAACL,SAAS,EAAEC,OAAO,QAAQK,IAAI,CAACN,SAAS,EAAEC,OAAO,OAAOM,IAAI,CAACP,SAAS,EAAEC,OAAO,OAAOO,IAAI,CAACR,SAAS,EAAEC,OAAO,OAAOQ,IAAI,CAACT,SAAS,EAAEC,OAAO,CAAC,QAAQS,QAAQ,CAACV,SAAS,EAAEC,OAAO,CAAC,YAAYU,OAAO,CAACX,SAAS,EAAEC,OAAO,CAAC,WAAWW,QAAQ,CAACZ,SAAS,EAAEC,OAAO,CAAC,YAAYY,IAAI,CAACb,SAAS,EAAEC,OAAO,CAAC,IAAI,IAAI,MAAMa,MAAM,CAACd,SAAS,EAAEC,OAAO,CAAC,MAAM,MAAM,QAAQc,KAAK,CAACf,SAAS,EAAEC,OAAO,CAAC,UAAU,IAAI,IAAIe,KAASlB,EAAQ,GAAGA,EAAQjU,eAAemV,GAAO,CAAC,KAAK,aAAalB,EAAQkB,IAAQ,MAAM,IAAIC,MAAM,8BAA8BD,GAAO,KAAK,WAAWlB,EAAQkB,IAAQ,MAAM,IAAIC,MAAM,oCAAoCD,GAAO,GAAGlB,EAAQkB,GAAOf,OAAO/T,SAAS4T,EAAQkB,GAAOhB,SAAS,MAAM,IAAIiB,MAAM,sCAAsCD,GAAO,IAAIhB,EAASF,EAAQkB,GAAOhB,SAASC,EAAOH,EAAQkB,GAAOf,cAAcH,EAAQkB,GAAOhB,gBAAgBF,EAAQkB,GAAOf,OAAOvV,OAAOC,eAAemV,EAAQkB,GAAO,WAAW,CAAC/V,MAAM+U,IAAWtV,OAAOC,eAAemV,EAAQkB,GAAO,SAAS,CAAC/V,MAAMgV,IAAS,SAASiB,EAAoBpW,EAAEW,GAAG,OAAOwD,KAAKkS,IAAIrW,EAAE,GAAGW,EAAE,GAAG,GAAGwD,KAAKkS,IAAIrW,EAAE,GAAGW,EAAE,GAAG,GAAGwD,KAAKkS,IAAIrW,EAAE,GAAGW,EAAE,GAAG,GAAGqU,EAAQC,IAAIG,IAAI,SAASpV,GAAG,IAAIW,EAAEkG,EAAEzG,EAAEJ,EAAE,GAAG,IAAIuD,EAAEvD,EAAE,GAAG,IAAIL,EAAEK,EAAE,GAAG,IAAIT,EAAE4E,KAAKE,IAAIjE,EAAEmD,EAAE5D,GAAG2W,EAAEnS,KAAKC,IAAIhE,EAAEmD,EAAE5D,GAAGsB,EAAEqV,EAAE/W,EAAE,OAAO+W,IAAI/W,EAAEoB,EAAE,EAAEP,IAAIkW,EAAE3V,GAAG4C,EAAE5D,GAAGsB,EAAEsC,IAAI+S,EAAE3V,EAAE,GAAGhB,EAAES,GAAGa,EAAEtB,IAAI2W,IAAI3V,EAAE,GAAGP,EAAEmD,GAAGtC,IAAIN,EAAEwD,KAAKE,IAAI,GAAG1D,EAAE,MAAM,IAAIA,GAAG,KAAKkG,GAAGtH,EAAE+W,GAAG,EAAE,CAAC3V,EAAE,KAAK2V,IAAI/W,EAAE,EAAEsH,GAAG,GAAG5F,GAAGqV,EAAE/W,GAAG0B,GAAG,EAAEqV,EAAE/W,IAAI,IAAIsH,IAAImO,EAAQC,IAAII,IAAI,SAASrV,GAAG,IAAIW,EAAEkG,EAAEzG,EAAEmD,EAAE5D,EAAEJ,EAAES,EAAE,GAAG,IAAIsW,EAAEtW,EAAE,GAAG,IAAIiB,EAAEjB,EAAE,GAAG,IAAIb,EAAEgF,KAAKC,IAAI7E,EAAE+W,EAAErV,GAAGuD,EAAErF,EAAEgF,KAAKE,IAAI9E,EAAE+W,EAAErV,GAAGsV,EAAE,SAASvW,GAAG,OAAOb,EAAEa,GAAG,EAAEwE,EAAE,IAAI,OAAO,IAAIA,EAAEjB,EAAE5D,EAAE,GAAGA,EAAE6E,EAAErF,EAAEwB,EAAE4V,EAAEhX,GAAGsH,EAAE0P,EAAED,GAAGlW,EAAEmW,EAAEtV,GAAG1B,IAAIJ,EAAEoE,EAAEnD,EAAEyG,EAAEyP,IAAInX,EAAEoE,EAAE,EAAE,EAAE5C,EAAEP,EAAEa,IAAI9B,IAAIoE,EAAE,EAAE,EAAEsD,EAAElG,GAAG4C,EAAE,EAAEA,GAAG,EAAEA,EAAE,IAAIA,GAAG,IAAI,CAAC,IAAIA,EAAE,IAAI5D,EAAE,IAAIR,IAAI6V,EAAQC,IAAIK,IAAI,SAAStV,GAAG,IAAIW,EAAEX,EAAE,GAAG6G,EAAE7G,EAAE,GAAGI,EAAEJ,EAAE,GAAG,MAAM,CAACgV,EAAQC,IAAIG,IAAIpV,GAAG,GAAQ,EAAE,IAAImE,KAAKE,IAAI1D,EAAEwD,KAAKE,IAAIwC,EAAEzG,IAAjC,IAAsC,KAAKA,EAAE,EAAE,EAAE,IAAI+D,KAAKC,IAAIzD,EAAEwD,KAAKC,IAAIyC,EAAEzG,OAAO4U,EAAQC,IAAIM,KAAK,SAASvV,GAAG,IAAIW,EAAEX,EAAE,GAAG,IAAI6G,EAAE7G,EAAE,GAAG,IAAII,EAAEJ,EAAE,GAAG,IAAIuD,EAAEY,KAAKE,IAAI,EAAE1D,EAAE,EAAEkG,EAAE,EAAEzG,GAAG,MAAM,CAAC,MAAM,EAAEO,EAAE4C,IAAI,EAAEA,IAAI,GAAG,MAAM,EAAEsD,EAAEtD,IAAI,EAAEA,IAAI,GAAG,MAAM,EAAEnD,EAAEmD,IAAI,EAAEA,IAAI,GAAG,IAAIA,IAAIyR,EAAQC,IAAIW,QAAQ,SAAS5V,GAAG,IAAIW,EAAEkG,EAAEkO,EAAgB/U,GAAG,GAAG6G,EAAE,OAAOA,EAAE,IAAIzG,EAAEmD,EAAE,IAAI,IAAI,IAAI5D,KAAKkV,EAAYA,EAAY9T,eAAepB,KAAKgB,EAAEyV,EAAoBpW,EAAE6U,EAAYlV,KAAK4D,IAAIA,EAAE5C,EAAEP,EAAET,GAAG,OAAOS,GAAG4U,EAAQY,QAAQX,IAAI,SAASjV,GAAG,OAAO6U,EAAY7U,IAAIgV,EAAQC,IAAIO,IAAI,SAASxV,GAAG,IAAIW,EAAEX,EAAE,GAAG,IAAI6G,EAAE7G,EAAE,GAAG,IAAII,EAAEJ,EAAE,GAAG,IAAI,MAAM,CAAC,KAAK,OAAOW,EAAEA,EAAE,OAAOwD,KAAKkS,KAAK1V,EAAE,MAAM,MAAM,KAAKA,EAAE,OAAO,OAAOkG,EAAEA,EAAE,OAAO1C,KAAKkS,KAAKxP,EAAE,MAAM,MAAM,KAAKA,EAAE,OAAO,OAAOzG,EAAEA,EAAE,OAAO+D,KAAKkS,KAAKjW,EAAE,MAAM,MAAM,KAAKA,EAAE,QAAQ,KAAK,MAAMO,EAAE,MAAMkG,EAAE,MAAMzG,GAAG,KAAK,MAAMO,EAAE,MAAMkG,EAAE,MAAMzG,KAAK4U,EAAQC,IAAIQ,IAAI,SAASzV,GAAG,IAAIW,EAAEqU,EAAQC,IAAIO,IAAIxV,GAAG6G,EAAElG,EAAE,GAAGP,EAAEO,EAAE,GAAG4C,EAAE5C,EAAE,GAAG,OAAOP,GAAG,IAAImD,GAAG,QAAQsD,GAAGA,GAAG,QAAQ,QAAQ1C,KAAKkS,IAAIxP,EAAE,EAAE,GAAG,MAAMA,EAAE,GAAG,IAAI,CAAC,KAAKzG,EAAEA,EAAE,QAAQ+D,KAAKkS,IAAIjW,EAAE,EAAE,GAAG,MAAMA,EAAE,GAAG,KAAK,GAAG,KAAKyG,EAAEzG,GAAG,KAAKA,GAAGmD,EAAEA,EAAE,QAAQY,KAAKkS,IAAI9S,EAAE,EAAE,GAAG,MAAMA,EAAE,GAAG,QAAQyR,EAAQI,IAAIH,IAAI,SAASjV,GAAG,IAAIW,EAAEkG,EAAEzG,EAAEmD,EAAE5D,EAAEJ,EAAE+W,EAAEtW,EAAE,GAAG,IAAIiB,EAAEjB,EAAE,GAAG,IAAIb,EAAEa,EAAE,GAAG,IAAI,GAAG,IAAIiB,EAAE,MAAM,CAAC1B,EAAE,IAAIJ,EAAEI,EAAEA,GAAG,IAAIsH,EAAE,EAAE1H,GAAGiB,EAAEjB,EAAE,GAAGA,GAAG,EAAE8B,GAAG9B,EAAE8B,EAAE9B,EAAE8B,GAAGtB,EAAE,CAAC,EAAE,EAAE,GAAGgB,EAAE,EAAEA,EAAE,EAAEA,KAAK4C,EAAE+S,EAAE,EAAE,IAAI3V,EAAE,IAAI,GAAG4C,IAAIA,EAAE,GAAGA,IAAIhE,EAAE,EAAEgE,EAAE,EAAEsD,EAAE,GAAGzG,EAAEyG,GAAGtD,EAAE,EAAEA,EAAE,EAAEnD,EAAE,EAAEmD,EAAE,EAAEsD,GAAGzG,EAAEyG,IAAI,EAAE,EAAEtD,GAAG,EAAEsD,EAAElH,EAAEgB,GAAG,IAAIpB,EAAE,OAAOI,GAAGqV,EAAQI,IAAIC,IAAI,SAASrV,GAAG,IAAIW,EAAEX,EAAE,GAAG6G,EAAE7G,EAAE,GAAG,IAAII,EAAEJ,EAAE,GAAG,IAAIuD,EAAEsD,EAAElH,EAAEwE,KAAKC,IAAIhE,EAAE,KAAK,OAAOyG,IAAIzG,GAAG,IAAI,EAAEA,EAAE,EAAEA,EAAEmD,GAAG5D,GAAG,EAAEA,EAAE,EAAEA,EAAE,CAACgB,EAAE,KAAK,IAAIP,EAAE,EAAEmD,GAAG5D,EAAE4D,GAAG,EAAEsD,GAAGzG,EAAEyG,KAAUzG,EAAEyG,GAAG,EAAX,MAAgBmO,EAAQK,IAAIJ,IAAI,SAASjV,GAAG,IAAIW,EAAEX,EAAE,GAAG,GAAG6G,EAAE7G,EAAE,GAAG,IAAII,EAAEJ,EAAE,GAAG,IAAIuD,EAAEY,KAAKqS,MAAM7V,GAAG,EAAEhB,EAAEgB,EAAEwD,KAAKqS,MAAM7V,GAAGpB,EAAE,IAAIa,GAAG,EAAEyG,GAAGyP,EAAE,IAAIlW,GAAG,EAAEyG,EAAElH,GAAGsB,EAAE,IAAIb,GAAG,EAAEyG,GAAG,EAAElH,IAAI,OAAOS,GAAG,IAAImD,GAAG,KAAK,EAAE,MAAM,CAACnD,EAAEa,EAAE1B,GAAG,KAAK,EAAE,MAAM,CAAC+W,EAAElW,EAAEb,GAAG,KAAK,EAAE,MAAM,CAACA,EAAEa,EAAEa,GAAG,KAAK,EAAE,MAAM,CAAC1B,EAAE+W,EAAElW,GAAG,KAAK,EAAE,MAAM,CAACa,EAAE1B,EAAEa,GAAG,KAAK,EAAE,MAAM,CAACA,EAAEb,EAAE+W,KAAKtB,EAAQK,IAAID,IAAI,SAASpV,GAAG,IAAIW,EAAEkG,EAAEzG,EAAEJ,EAAE,GAAGuD,EAAEvD,EAAE,GAAG,IAAIL,EAAEK,EAAE,GAAG,IAAIT,EAAE4E,KAAKC,IAAIzE,EAAE,KAAK2W,GAAG,EAAE/S,GAAG5D,EAAE,OAAOkH,EAAEtD,EAAEhE,EAAE,CAACa,EAAE,KAAKyG,GAAGA,IAAIlG,GAAG,EAAE4C,GAAGhE,IAAI,EAAEoB,EAAE,EAAEA,IAAI,GAAG,KAAK2V,GAAG,KAAKtB,EAAQM,IAAIL,IAAI,SAASjV,GAAG,IAAIW,EAAEkG,EAAEzG,EAAEmD,EAAE5D,EAAEJ,EAAE+W,EAAErV,EAAEjB,EAAE,GAAG,IAAIb,EAAEa,EAAE,GAAG,IAAIwE,EAAExE,EAAE,GAAG,IAAIuW,EAAEpX,EAAEqF,EAAE,OAAO+R,EAAE,IAAIpX,GAAGoX,EAAE/R,GAAG+R,GAAGnW,EAAE,EAAEa,GAAGN,EAAEwD,KAAKqS,MAAM,EAAEvV,IAAI,IAAI,EAAEN,KAAKP,EAAE,EAAEA,GAAGmD,EAAEpE,EAAEiB,IAAIyG,EAAE,EAAErC,GAAGrF,GAAGwB,GAAG,QAAQ,KAAK,EAAE,KAAK,EAAEhB,EAAEkH,EAAEtH,EAAEgE,EAAE+S,EAAEnX,EAAE,MAAM,KAAK,EAAEQ,EAAE4D,EAAEhE,EAAEsH,EAAEyP,EAAEnX,EAAE,MAAM,KAAK,EAAEQ,EAAER,EAAEI,EAAEsH,EAAEyP,EAAE/S,EAAE,MAAM,KAAK,EAAE5D,EAAER,EAAEI,EAAEgE,EAAE+S,EAAEzP,EAAE,MAAM,KAAK,EAAElH,EAAE4D,EAAEhE,EAAEJ,EAAEmX,EAAEzP,EAAE,MAAM,KAAK,EAAElH,EAAEkH,EAAEtH,EAAEJ,EAAEmX,EAAE/S,EAAE,MAAM,CAAC,IAAI5D,EAAE,IAAIJ,EAAE,IAAI+W,IAAItB,EAAQO,KAAKN,IAAI,SAASjV,GAAG,IAAIW,EAAEX,EAAE,GAAG,IAAI6G,EAAE7G,EAAE,GAAG,IAAII,EAAEJ,EAAE,GAAG,IAAIuD,EAAEvD,EAAE,GAAG,IAAI,MAAM,CAAC,KAAK,EAAEmE,KAAKE,IAAI,EAAE1D,GAAG,EAAE4C,GAAGA,IAAI,KAAK,EAAEY,KAAKE,IAAI,EAAEwC,GAAG,EAAEtD,GAAGA,IAAI,KAAK,EAAEY,KAAKE,IAAI,EAAEjE,GAAG,EAAEmD,GAAGA,MAAMyR,EAAQQ,IAAIP,IAAI,SAASjV,GAAG,IAAIW,EAAEkG,EAAEzG,EAAEmD,EAAEvD,EAAE,GAAG,IAAIL,EAAEK,EAAE,GAAG,IAAIT,EAAES,EAAE,GAAG,IAAI,OAAO6G,GAAG,MAAMtD,EAAE,OAAO5D,EAAE,MAAMJ,EAAEa,EAAE,MAAMmD,GAAG,KAAK5D,EAAE,MAAMJ,EAAEoB,GAAGA,EAAE,OAAO4C,GAAG,OAAO5D,GAAG,MAAMJ,GAAG,SAAS,MAAM4E,KAAKkS,IAAI1V,EAAE,EAAE,KAAK,KAAK,MAAMA,EAAEkG,EAAEA,EAAE,SAAS,MAAM1C,KAAKkS,IAAIxP,EAAE,EAAE,KAAK,KAAK,MAAMA,EAAEzG,EAAEA,EAAE,SAAS,MAAM+D,KAAKkS,IAAIjW,EAAE,EAAE,KAAK,KAAK,MAAMA,EAAE,CAAC,KAAKO,EAAEwD,KAAKE,IAAIF,KAAKC,IAAI,EAAEzD,GAAG,IAAI,KAAKkG,EAAE1C,KAAKE,IAAIF,KAAKC,IAAI,EAAEyC,GAAG,IAAI,KAAKzG,EAAE+D,KAAKE,IAAIF,KAAKC,IAAI,EAAEhE,GAAG,MAAM4U,EAAQQ,IAAIC,IAAI,SAASzV,GAAG,IAAIW,EAAEX,EAAE,GAAG6G,EAAE7G,EAAE,GAAGI,EAAEJ,EAAE,GAAG,OAAO6G,GAAG,IAAIzG,GAAG,QAAQO,GAAGA,GAAG,QAAQ,QAAQwD,KAAKkS,IAAI1V,EAAE,EAAE,GAAG,MAAMA,EAAE,GAAG,IAAI,CAAC,KAAKkG,EAAEA,EAAE,QAAQ1C,KAAKkS,IAAIxP,EAAE,EAAE,GAAG,MAAMA,EAAE,GAAG,KAAK,GAAG,KAAKlG,EAAEkG,GAAG,KAAKA,GAAGzG,EAAEA,EAAE,QAAQ+D,KAAKkS,IAAIjW,EAAE,EAAE,GAAG,MAAMA,EAAE,GAAG,QAAQ4U,EAAQS,IAAID,IAAI,SAASxV,GAAG,IAAIW,EAAEkG,EAAEzG,EAAEmD,EAAEvD,EAAE,GAAGW,EAAEX,EAAE,GAAG,KAAK6G,GAAGtD,EAAE,IAAI,KAAKnD,EAAEyG,EAAE7G,EAAE,GAAG,IAAI,IAAIL,EAAEwE,KAAKkS,IAAIxP,EAAE,GAAGtH,EAAE4E,KAAKkS,IAAI1V,EAAE,GAAG2V,EAAEnS,KAAKkS,IAAIjW,EAAE,GAAG,OAAOyG,EAAElH,EAAE,QAAQA,GAAGkH,EAAE,GAAG,KAAK,MAAMlG,EAAEpB,EAAE,QAAQA,GAAGoB,EAAE,GAAG,KAAK,MAAMP,EAAEkW,EAAE,QAAQA,GAAGlW,EAAE,GAAG,KAAK,MAAM,CAACO,GAAG,OAAOkG,GAAG,IAAIzG,GAAG,UAAU4U,EAAQS,IAAIC,IAAI,SAAS1V,GAAG,IAAIW,EAAEkG,EAAE7G,EAAE,GAAGI,EAAEJ,EAAE,GAAGuD,EAAEvD,EAAE,GAAG,OAAOW,EAAE,IAAIwD,KAAKsS,MAAMlT,EAAEnD,GAAG,EAAE+D,KAAK6F,IAAI,IAAIrJ,GAAG,KAAK,CAACkG,EAAE1C,KAAKuS,KAAKtW,EAAEA,EAAEmD,EAAEA,GAAG5C,IAAIqU,EAAQU,IAAID,IAAI,SAASzV,GAAG,IAAIW,EAAEX,EAAE,GAAG6G,EAAE7G,EAAE,GAAGI,EAAEJ,EAAE,GAAG,IAAI,EAAEmE,KAAK6F,GAAG,MAAM,CAACrJ,EAAEkG,EAAE1C,KAAKwS,IAAIvW,GAAGyG,EAAE1C,KAAKyS,IAAIxW,KAAK4U,EAAQC,IAAIY,OAAO,SAAS7V,GAAG,IAAIW,EAAEX,EAAE,GAAG6G,EAAE7G,EAAE,GAAGI,EAAEJ,EAAE,GAAGuD,EAAE,KAAKsK,UAAUA,UAAU,GAAGmH,EAAQC,IAAII,IAAIrV,GAAG,GAAG,GAAG,KAAKuD,EAAEY,KAAKyE,MAAMrF,EAAE,KAAK,OAAO,GAAG,IAAI5D,EAAE,IAAIwE,KAAKyE,MAAMxI,EAAE,MAAM,EAAE+D,KAAKyE,MAAM/B,EAAE,MAAM,EAAE1C,KAAKyE,MAAMjI,EAAE,MAAM,OAAO,IAAI4C,IAAI5D,GAAG,IAAIA,GAAGqV,EAAQK,IAAIQ,OAAO,SAAS7V,GAAG,OAAOgV,EAAQC,IAAIY,OAAOb,EAAQK,IAAIJ,IAAIjV,GAAGA,EAAE,KAAKgV,EAAQC,IAAIa,QAAQ,SAAS9V,GAAG,IAAIW,EAAEX,EAAE,GAAG6G,EAAE7G,EAAE,GAAGI,EAAEJ,EAAE,GAAG,OAAOW,IAAIkG,GAAGA,IAAIzG,EAAEO,EAAE,EAAE,GAAGA,EAAE,IAAI,IAAIwD,KAAKyE,OAAOjI,EAAE,GAAG,IAAI,IAAI,IAAI,GAAG,GAAGwD,KAAKyE,MAAMjI,EAAE,IAAI,GAAG,EAAEwD,KAAKyE,MAAM/B,EAAE,IAAI,GAAG1C,KAAKyE,MAAMxI,EAAE,IAAI,IAAI4U,EAAQa,OAAOZ,IAAI,SAASjV,GAAG,IAAIW,EAAEX,EAAE,GAAG,GAAG,IAAIW,GAAG,IAAIA,EAAE,OAAOX,EAAE,KAAKW,GAAG,KAAK,CAACA,EAAEA,EAAE,KAAK,IAAIA,EAAEA,GAAG,IAAIkG,EAAE,IAAI,KAAK7G,EAAE,KAAK,MAAM,EAAE,EAAEW,GAAGkG,EAAE,KAAKlG,GAAG,EAAE,GAAGkG,EAAE,KAAKlG,GAAG,EAAE,GAAGkG,EAAE,MAAMmO,EAAQc,QAAQb,IAAI,SAASjV,GAAG,OAAOA,GAAG,IAAI,CAAC6G,EAAE,IAAI7G,EAAE,KAAK,EAAE6G,EAAEA,IAAI7G,GAAG,GAAG,CAACmE,KAAKqS,MAAMxW,EAAE,IAAI,EAAE,IAAImE,KAAKqS,OAAO7V,EAAEX,EAAE,IAAI,GAAG,EAAE,IAAIW,EAAE,EAAE,EAAE,MAAM,IAAIA,EAAEkG,GAAGmO,EAAQC,IAAIU,IAAI,SAAS3V,GAAG,IAAIW,KAAK,IAAIwD,KAAKyE,MAAM5I,EAAE,MAAM,MAAM,IAAImE,KAAKyE,MAAM5I,EAAE,MAAM,IAAI,IAAImE,KAAKyE,MAAM5I,EAAE,MAAM+B,SAAS,IAAIkJ,cAAc,MAAM,SAASN,UAAUhK,EAAES,QAAQT,GAAGqU,EAAQW,IAAIV,IAAI,SAASjV,GAAG,IAAIW,EAAEX,EAAE+B,SAAS,IAAI8I,MAAM,4BAA4B,IAAIlK,EAAE,MAAM,CAAC,EAAE,EAAE,GAAG,IAAIkG,EAAElG,EAAE,GAAG,IAAIA,EAAE,GAAGS,SAASyF,EAAEA,EAAES,MAAM,IAAI+H,KAAK,SAASrP,GAAG,OAAOA,EAAEA,KAAKmR,KAAK,KAAK,IAAI/Q,EAAE+J,SAAStD,EAAE,IAAI,MAAM,CAACzG,GAAG,GAAG,IAAIA,GAAG,EAAE,IAAI,IAAIA,IAAI4U,EAAQC,IAAIc,IAAI,SAAS/V,GAAG,IAAIW,EAAEkG,EAAE7G,EAAE,GAAG,IAAII,EAAEJ,EAAE,GAAG,IAAIuD,EAAEvD,EAAE,GAAG,IAAIL,EAAEwE,KAAKC,IAAID,KAAKC,IAAIyC,EAAEzG,GAAGmD,GAAGhE,EAAE4E,KAAKE,IAAIF,KAAKE,IAAIwC,EAAEzG,GAAGmD,GAAG+S,EAAE3W,EAAEJ,EAAE,OAAOoB,EAAE2V,GAAG,EAAE,EAAE3W,IAAIkH,GAAGzG,EAAEmD,GAAG+S,EAAE,EAAE3W,IAAIS,EAAE,GAAGmD,EAAEsD,GAAGyP,EAAE,GAAGzP,EAAEzG,GAAGkW,EAAE,EAAE3V,GAAG,EAAE,CAAC,KAAKA,GAAG,GAAG,IAAI2V,EAAE,KAAKA,EAAE,EAAE/W,GAAG,EAAE+W,GAAG,KAAKtB,EAAQI,IAAIW,IAAI,SAAS/V,GAAG,IAA0BI,EAAtBO,EAAEX,EAAE,GAAG,IAAI6G,EAAE7G,EAAE,GAAG,IAAQuD,EAAE,EAAE,OAAOnD,EAAEyG,EAAE,GAAG,EAAElG,EAAEkG,EAAE,EAAElG,GAAG,EAAEkG,IAAI,IAAItD,GAAGsD,EAAE,GAAGzG,IAAI,EAAEA,IAAI,CAACJ,EAAE,GAAG,IAAII,EAAE,IAAImD,IAAIyR,EAAQK,IAAIU,IAAI,SAAS/V,GAAG,IAAIW,EAAEX,EAAE,GAAG,IAAI6G,EAAE7G,EAAE,GAAG,IAAII,EAAEO,EAAEkG,EAAEtD,EAAE,EAAE,OAAOnD,EAAE,IAAImD,GAAGsD,EAAEzG,IAAI,EAAEA,IAAI,CAACJ,EAAE,GAAG,IAAII,EAAE,IAAImD,IAAIyR,EAAQe,IAAId,IAAI,SAASjV,GAAG,IAAIW,EAAEX,EAAE,GAAG,IAAI6G,EAAE7G,EAAE,GAAG,IAAII,EAAEJ,EAAE,GAAG,IAAI,GAAG,IAAI6G,EAAE,MAAM,CAAC,IAAIzG,EAAE,IAAIA,EAAE,IAAIA,GAAG,IAAImD,EAAE5D,EAAE,CAAC,EAAE,EAAE,GAAGJ,EAAEoB,EAAE,EAAE,EAAE2V,EAAE/W,EAAE,EAAE0B,EAAE,EAAEqV,EAAE,OAAOnS,KAAKqS,MAAMjX,IAAI,KAAK,EAAEI,EAAE,GAAG,EAAEA,EAAE,GAAG2W,EAAE3W,EAAE,GAAG,EAAE,MAAM,KAAK,EAAEA,EAAE,GAAGsB,EAAEtB,EAAE,GAAG,EAAEA,EAAE,GAAG,EAAE,MAAM,KAAK,EAAEA,EAAE,GAAG,EAAEA,EAAE,GAAG,EAAEA,EAAE,GAAG2W,EAAE,MAAM,KAAK,EAAE3W,EAAE,GAAG,EAAEA,EAAE,GAAGsB,EAAEtB,EAAE,GAAG,EAAE,MAAM,KAAK,EAAEA,EAAE,GAAG2W,EAAE3W,EAAE,GAAG,EAAEA,EAAE,GAAG,EAAE,MAAM,QAAQA,EAAE,GAAG,EAAEA,EAAE,GAAG,EAAEA,EAAE,GAAGsB,EAAE,OAAOsC,GAAG,EAAEsD,GAAGzG,EAAE,CAAC,KAAKyG,EAAElH,EAAE,GAAG4D,GAAG,KAAKsD,EAAElH,EAAE,GAAG4D,GAAG,KAAKsD,EAAElH,EAAE,GAAG4D,KAAKyR,EAAQe,IAAIV,IAAI,SAASrV,GAAG,IAAIW,EAAEX,EAAE,GAAG,IAAI6G,EAAElG,EAAEX,EAAE,GAAG,KAAK,EAAEW,GAAGP,EAAE,EAAE,OAAOyG,EAAE,IAAIzG,EAAEO,EAAEkG,GAAG,CAAC7G,EAAE,GAAG,IAAII,EAAE,IAAIyG,IAAImO,EAAQe,IAAIX,IAAI,SAASpV,GAAG,IAAIW,EAAEX,EAAE,GAAG,IAAI6G,EAAE7G,EAAE,GAAG,KAAK,EAAEW,GAAG,GAAGA,EAAEP,EAAE,EAAE,OAAOyG,EAAE,GAAGA,EAAE,GAAGzG,EAAEO,GAAG,EAAEkG,GAAGA,GAAG,IAAIA,EAAE,IAAIzG,EAAEO,GAAG,GAAG,EAAEkG,KAAK,CAAC7G,EAAE,GAAG,IAAII,EAAE,IAAIyG,IAAImO,EAAQe,IAAIT,IAAI,SAAStV,GAAG,IAAIW,EAAEX,EAAE,GAAG,IAAI6G,EAAElG,EAAEX,EAAE,GAAG,KAAK,EAAEW,GAAG,MAAM,CAACX,EAAE,GAAG,KAAK6G,EAAElG,GAAG,KAAK,EAAEkG,KAAKmO,EAAQM,IAAIS,IAAI,SAAS/V,GAAG,IAAIW,EAAEX,EAAE,GAAG,IAAI6G,EAAE,EAAE7G,EAAE,GAAG,IAAII,EAAEyG,EAAElG,EAAE4C,EAAE,EAAE,OAAOnD,EAAE,IAAImD,GAAGsD,EAAEzG,IAAI,EAAEA,IAAI,CAACJ,EAAE,GAAG,IAAII,EAAE,IAAImD,IAAIyR,EAAQgB,MAAMf,IAAI,SAASjV,GAAG,MAAM,CAACA,EAAE,GAAG,MAAM,IAAIA,EAAE,GAAG,MAAM,IAAIA,EAAE,GAAG,MAAM,MAAMgV,EAAQC,IAAIe,MAAM,SAAShW,GAAG,MAAM,CAACA,EAAE,GAAG,IAAI,MAAMA,EAAE,GAAG,IAAI,MAAMA,EAAE,GAAG,IAAI,QAAQgV,EAAQiB,KAAKhB,IAAI,SAASjV,GAAG,MAAM,CAACA,EAAE,GAAG,IAAI,IAAIA,EAAE,GAAG,IAAI,IAAIA,EAAE,GAAG,IAAI,MAAMgV,EAAQiB,KAAKb,IAAIJ,EAAQiB,KAAKZ,IAAI,SAASrV,GAAG,MAAM,CAAC,EAAE,EAAEA,EAAE,KAAKgV,EAAQiB,KAAKX,IAAI,SAAStV,GAAG,MAAM,CAAC,EAAE,IAAIA,EAAE,KAAKgV,EAAQiB,KAAKV,KAAK,SAASvV,GAAG,MAAM,CAAC,EAAE,EAAE,EAAEA,EAAE,KAAKgV,EAAQiB,KAAKR,IAAI,SAASzV,GAAG,MAAM,CAACA,EAAE,GAAG,EAAE,IAAIgV,EAAQiB,KAAKN,IAAI,SAAS3V,GAAG,IAAIW,EAAE,IAAIwD,KAAKyE,MAAM5I,EAAE,GAAG,IAAI,KAAK6G,IAAIlG,GAAG,KAAKA,GAAG,GAAGA,GAAGoB,SAAS,IAAIkJ,cAAc,MAAM,SAASN,UAAU9D,EAAEzF,QAAQyF,GAAGmO,EAAQC,IAAIgB,KAAK,SAASjW,GAAG,MAAM,EAAEA,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAI,EAAE,IAAI,O,0ECAl2R,kDAAIwU,EAAgD,SAAUC,EAAIC,EAAMC,GACpE,GAAIA,GAA6B,IAArB9G,UAAUzM,OAAc,IAAK,IAA4BwT,EAAxB1V,EAAI,EAAGC,EAAIuV,EAAKtT,OAAYlC,EAAIC,EAAGD,KACxE0V,GAAQ1V,KAAKwV,IACRE,IAAIA,EAAKzS,MAAMrB,UAAUgK,MAAMzL,KAAKqV,EAAM,EAAGxV,IAClD0V,EAAG1V,GAAKwV,EAAKxV,IAGrB,OAAOuV,EAAG3Q,OAAO8Q,GAAMzS,MAAMrB,UAAUgK,MAAMzL,KAAKqV,KAElDmC,EACA,SAAqBpX,EAAMqX,EAASC,GAChCjY,KAAKW,KAAOA,EACZX,KAAKgY,QAAUA,EACfhY,KAAKiY,GAAKA,EACVjY,KAAKmD,KAAO,WAKhB+U,EACA,SAAkBF,GACdhY,KAAKgY,QAAUA,EACfhY,KAAKmD,KAAO,OACZnD,KAAKW,KAAO,OACZX,KAAKiY,GAAKE,EAAQC,UAKtBC,EACA,SAA6B1X,EAAMqX,EAASC,EAAIK,GAC5CtY,KAAKW,KAAOA,EACZX,KAAKgY,QAAUA,EACfhY,KAAKiY,GAAKA,EACVjY,KAAKsY,IAAMA,EACXtY,KAAKmD,KAAO,cAKhBoV,EACA,WACIvY,KAAKmD,KAAO,MACZnD,KAAKsY,KAAM,EACXtY,KAAKW,KAAO,MACZX,KAAKgY,QAAU,KACfhY,KAAKiY,GAAK,MAKdO,EACA,WACIxY,KAAKmD,KAAO,eACZnD,KAAKW,KAAO,eACZX,KAAKgY,QAAU,KACfhY,KAAKiY,GAAK,MAOdQ,EAAqB,qFAErBC,EAAiB,CACjB,CAAC,MAAO,0BACR,CAAC,OAAQ,qBACT,CAAC,WAAY,uBACb,CAAC,gBAAiB,0BAClB,CAAC,YAAa,yBACd,CAAC,UAAW,8BACZ,CAAC,OAAQ,yBACT,CAAC,OAAQ,4BACT,CAAC,SAAU,6BACX,CAAC,gBAAiB,qBAClB,CACI,mBACA,0DAEJ,CAAC,SAAU,oDACX,CAAC,YAAa,iCACd,CAAC,QAAS,6BACV,CAAC,UAAW,+BACZ,CAAC,QAAS,qBACV,CAAC,aAAc,mCACf,CAAC,QAAS,6BACV,CAAC,QAAS,2BACV,CAAC,MAAO,oDACR,CAAC,MAAO,iGACR,CAAC,WAAY,wCACb,CAAC,KAAM,6CACP,CAAC,KAAM,uCACP,CAAC,KAAM,gBACP,CAAC,OAAQ,qCACT,CAAC,UAAW,uBACZ,CAAC,MAAO,0CACR,CAAC,SAAU,gCACX,CAAC,WAAY,uBACb,CAAC,YAAa,yBACd,CAAC,cAAe,mCAChB,CAAC,cAAe,qCAChB,CAAC,OAAQ,sBACT,CAAC,YAzCoB,iIA2CrBC,EAAuB,CACvB,CAAC,MAAO,kBACR,CAAC,aAAc,WACf,CAAC,gBAAiB,mBAClB,CAAC,iBAAkB,YACnB,CAAC,YAAa,UACd,CAAC,eAAgB,SACjB,CAAC,aAAc,qCACf,CAAC,aAAc,wBACf,CAAC,eAAgB,mCACjB,CAAC,aAAc,iCACf,CAAC,sBAAuB,oBACxB,CAAC,gBAAiB,oBAClB,CAAC,YAAa,oBACd,CAAC,YAAa,oBACd,CAAC,cAAe,oBAChB,CAAC,aAAc,qBACf,CAAC,aAAc,cACf,CAAC,aAAc,uDACf,CAAC,WAAY,WACb,CAAC,SAAU,SACX,CAAC,YAAa,QACd,CAAC,QAAS,iBACV,CAAC,SAAU,6BACX,CAAC,MAAO,OACR,CAAC,OAAQ,QACT,CAAC,OAAQ,UAEN,SAASC,EAAOC,GACnB,OAAMA,EACKC,EAAeD,GAEF,oBAAb5G,UACc,oBAAd8G,WACe,gBAAtBA,UAAUC,QACH,IAAIR,EAEU,oBAAdO,UACAD,EAAeC,UAAUF,gBA6DJ,IAAZV,GAA2BA,EAAQH,QACvC,IAAIE,EAASC,EAAQH,QAAQhM,MAAM,IAAM,KA1D7D,SAASiN,EAAeC,GAKpB,MAAe,KAAPA,GACJR,EAAexT,QAAO,SAAUiU,EAASC,GACrC,IAAIC,EAAUD,EAAG,GAAIE,EAAQF,EAAG,GAChC,GAAID,EACA,OAAOA,EAEX,IAAII,EAAUD,EAAME,KAAKN,GACzB,QAASK,GAAW,CAACF,EAASE,MAC/B,GAMJ,SAAST,EAAeI,GAC3B,IAAIO,EAAcR,EAAeC,GACjC,IAAKO,EACD,OAAO,KAEX,IAAI9Y,EAAO8Y,EAAY,GAAI1N,EAAQ0N,EAAY,GAC/C,GAAa,cAAT9Y,EACA,OAAO,IAAI4X,EAGf,IAAImB,EAAe3N,EAAM,IAAMA,EAAM,GAAGvD,MAAM,KAAK6J,KAAK,KAAK7J,MAAM,KAAKwD,MAAM,EAAG,GAC7E0N,EACIA,EAAapX,OAlHI,IAmHjBoX,EAAehE,EAAcA,EAAc,GAAIgE,GAAc,GA4BzE,SAA4BC,GAExB,IADA,IAAIC,EAAS,GACJC,EAAK,EAAGA,EAAKF,EAAOE,IACzBD,EAAO9W,KAAK,KAEhB,OAAO8W,EAjCqEE,CAnHnD,EAmH+FJ,EAAapX,SAAS,IAI1IoX,EAAe,GAEnB,IAAI1B,EAAU0B,EAAarH,KAAK,KAC5B4F,EAOD,SAAkBiB,GACrB,IAAK,IAAIW,EAAK,EAAGF,EAAQhB,EAAqBrW,OAAQuX,EAAKF,EAAOE,IAAM,CACpE,IAAIT,EAAKT,EAAqBkB,GAAK5B,EAAKmB,EAAG,GAE3C,GAFuDA,EAAG,GACxCI,KAAKN,GAEnB,OAAOjB,EAGf,OAAO,KAfE8B,CAASb,GACdc,EAAiBvB,EAAmBe,KAAKN,GAC7C,OAAIc,GAAkBA,EAAe,GAC1B,IAAI3B,EAAoB1X,EAAMqX,EAASC,EAAI+B,EAAe,IAE9D,IAAIjC,EAAYpX,EAAMqX,EAASC,M,oDC/L1C,+BAmBMvY,EAdsB,oBAAfua,WACFA,WAEW,oBAATC,KACFA,KAEa,oBAAX7M,OACFA,YAEa,IAAX8M,EACFA,OADT,EAOqB,iBAAZva,SAA0C,iBAAXC,GACb,mBAAXC,QAAyB,QACb,iBAAZF,SAEhBkB,OAAOsZ,iBAAiB1a,EAAM,CAC5B2a,GAAI,CACFpZ,IAAK,WAEH,OADAqZ,QAAQC,KAAK,2BACN,cAMA,YAAE,S,oCClCjB,IAOIC,EACAC,EARAtC,EAAUtY,EAAOD,QAAU,GAU/B,SAAS8a,IACL,MAAM,IAAIrD,MAAM,mCAEpB,SAASsD,IACL,MAAM,IAAItD,MAAM,qCAsBpB,SAASuD,EAAWC,GAChB,GAAIL,IAAqB9M,WAErB,OAAOA,WAAWmN,EAAK,GAG3B,IAAKL,IAAqBE,IAAqBF,IAAqB9M,WAEhE,OADA8M,EAAmB9M,WACZA,WAAWmN,EAAK,GAE3B,IAEI,OAAOL,EAAiBK,EAAK,GAC/B,MAAM9S,GACJ,IAEI,OAAOyS,EAAiBja,KAAK,KAAMsa,EAAK,GAC1C,MAAM9S,GAEJ,OAAOyS,EAAiBja,KAAKP,KAAM6a,EAAK,MAvCnD,WACG,IAEQL,EADsB,mBAAf9M,WACYA,WAEAgN,EAEzB,MAAO3S,GACLyS,EAAmBE,EAEvB,IAEQD,EADwB,mBAAjBzM,aACcA,aAEA2M,EAE3B,MAAO5S,GACL0S,EAAqBE,GAjB5B,GAwED,IAEIG,EAFAC,EAAQ,GACRC,GAAW,EAEXC,GAAc,EAElB,SAASC,IACAF,GAAaF,IAGlBE,GAAW,EACPF,EAAaxY,OACbyY,EAAQD,EAAa9V,OAAO+V,GAE5BE,GAAc,EAEdF,EAAMzY,QACN6Y,KAIR,SAASA,IACL,IAAIH,EAAJ,CAGA,IAAInM,EAAU+L,EAAWM,GACzBF,GAAW,EAGX,IADA,IAAIvX,EAAMsX,EAAMzY,OACVmB,GAAK,CAGP,IAFAqX,EAAeC,EACfA,EAAQ,KACCE,EAAaxX,GACdqX,GACAA,EAAaG,GAAYG,MAGjCH,GAAc,EACdxX,EAAMsX,EAAMzY,OAEhBwY,EAAe,KACfE,GAAW,EAnEf,SAAyBK,GACrB,GAAIZ,IAAuBzM,aAEvB,OAAOA,aAAaqN,GAGxB,IAAKZ,IAAuBE,IAAwBF,IAAuBzM,aAEvE,OADAyM,EAAqBzM,aACdA,aAAaqN,GAExB,IAEWZ,EAAmBY,GAC5B,MAAOtT,GACL,IAEI,OAAO0S,EAAmBla,KAAK,KAAM8a,GACvC,MAAOtT,GAGL,OAAO0S,EAAmBla,KAAKP,KAAMqb,KAgD7CC,CAAgBzM,IAiBpB,SAAS0M,EAAKV,EAAKjS,GACf5I,KAAK6a,IAAMA,EACX7a,KAAK4I,MAAQA,EAYjB,SAAS4S,KA5BTrD,EAAQsD,SAAW,SAAUZ,GACzB,IAAIrM,EAAO,IAAInL,MAAM0L,UAAUzM,OAAS,GACxC,GAAIyM,UAAUzM,OAAS,EACnB,IAAK,IAAIlC,EAAI,EAAGA,EAAI2O,UAAUzM,OAAQlC,IAClCoO,EAAKpO,EAAI,GAAK2O,UAAU3O,GAGhC2a,EAAMjY,KAAK,IAAIyY,EAAKV,EAAKrM,IACJ,IAAjBuM,EAAMzY,QAAiB0Y,GACvBJ,EAAWO,IASnBI,EAAKvZ,UAAUoZ,IAAM,WACjBpb,KAAK6a,IAAIpT,MAAM,KAAMzH,KAAK4I,QAE9BuP,EAAQuD,MAAQ,UAChBvD,EAAQkB,SAAU,EAClBlB,EAAQwD,IAAM,GACdxD,EAAQyD,KAAO,GACfzD,EAAQH,QAAU,GAClBG,EAAQ0D,SAAW,GAInB1D,EAAQ2D,GAAKN,EACbrD,EAAQ4D,YAAcP,EACtBrD,EAAQ6D,KAAOR,EACfrD,EAAQ8D,IAAMT,EACdrD,EAAQ+D,eAAiBV,EACzBrD,EAAQgE,mBAAqBX,EAC7BrD,EAAQiE,KAAOZ,EACfrD,EAAQkE,gBAAkBb,EAC1BrD,EAAQmE,oBAAsBd,EAE9BrD,EAAQoE,UAAY,SAAU5b,GAAQ,MAAO,IAE7CwX,EAAQqE,QAAU,SAAU7b,GACxB,MAAM,IAAI0W,MAAM,qCAGpBc,EAAQsE,IAAM,WAAc,MAAO,KACnCtE,EAAQuE,MAAQ,SAAUC,GACtB,MAAM,IAAItF,MAAM,mCAEpBc,EAAQyE,MAAQ,WAAa,OAAO,I,iCCvLgD9b,OAAOC,eAAenB,EAAQ,aAAa,CAACyB,OAAM,IAAKzB,EAAQid,eAAejd,EAAQkd,SAASld,EAAQwM,WAAWxM,EAAQ2D,KAAK3D,EAAQuO,IAAIvO,EAAQ0D,QAAQ1D,EAAQ8D,SAAS9D,EAAQkH,SAASlH,EAAQkE,WAAWlE,EAAQwD,MAAMxD,EAAQmd,UAAUnd,EAAQod,qBAAgB,EAAOpd,EAAQod,gBAA9V,SAAyBjV,EAAE7G,GAAG,IAAII,EAAEyG,EAAEtF,QAAQvB,IAAI,IAAII,GAAGyG,EAAE/B,OAAO1E,EAAE,IAA0T1B,EAAQmd,UAAU,oBAAoB1P,aAAQ,IAASA,OAAO4E,SAAS,IAAIgL,EAAOjH,EAAQ,GAA4MlV,OAAOC,eAAenB,EAAQ,QAAQ,CAACoB,YAAW,EAAGC,IAAI,WAAW,OAAOgc,EAAO7Z,SAAStC,OAAOC,eAAenB,EAAQ,aAAa,CAACoB,YAAW,EAAGC,IAAI,WAAW,OAAOgc,EAAOnZ,cAAchD,OAAOC,eAAenB,EAAQ,WAAW,CAACoB,YAAW,EAAGC,IAAI,WAAW,OAAOgc,EAAOnW,YAAYhG,OAAOC,eAAenB,EAAQ,WAAW,CAACoB,YAAW,EAAGC,IAAI,WAAW,OAAOgc,EAAOvZ,YAAY5C,OAAOC,eAAenB,EAAQ,UAAU,CAACoB,YAAW,EAAGC,IAAI,WAAW,OAAOgc,EAAO3Z,WAAWxC,OAAOC,eAAenB,EAAQ,MAAM,CAACoB,YAAW,EAAGC,IAAI,WAAW,OAAOgc,EAAO9O,OAAOrN,OAAOC,eAAenB,EAAQ,OAAO,CAACoB,YAAW,EAAGC,IAAI,WAAW,OAAOgc,EAAO1Z,QAAQzC,OAAOC,eAAenB,EAAQ,aAAa,CAACoB,YAAW,EAAGC,IAAI,WAAW,OAAOgc,EAAO7Q,cAAcxM,EAAQkd,SAA57B,SAAkB/U,EAAE7G,GAAG,GAAG6G,EAAEmV,WAAW,OAAM,EAAG,IAAI,IAAI5b,EAAEJ,EAAEic,YAAY/c,GAAE,EAAGkB,GAAG,CAAC,GAAGA,IAAIyG,EAAE,CAAC3H,GAAE,EAAG,MAAMkB,EAAEA,EAAE6b,YAAY,OAAO/c,GAAi1BR,EAAQid,eAAv1B,SAAwB9U,GAAG,OAAOA,EAAEqV,IAAIC,SAAStV,EAAEqV,IAAIE,U,gCCAzqB,YAMMC,EAAW,oCAJI,oBACH,sBAKH,KACbvF,QAAS,SACTwF,uBAAwB,iBACxBC,qBAAsB,eACtBC,wBAAyB,kBACzBC,uBAAwB,iBACxBC,uBAAwB,iBACxBC,wBAAyB,kBACzBC,2BAA4B,qBAC5BC,oBAAqB,MACrBC,UAAW,CACTC,MAAO,CACLC,KAAM,OACN9L,SAAU,GACV+L,UAAW,SACXC,aAAc,UAEhBC,OAAQ,GAEVC,YAAa,CACXnb,KAAM,SACN8a,MAAO,CACLM,UAAW,EACXC,OAAQjB,EAASkB,WACjBP,KAAMX,EAASmB,UAEjBxO,KAAM,GACN9G,MAAOmU,EAASkB,WAChBE,WAAY,CACVzO,KAAM,EACNqO,UAAW,EACXL,KAAMX,EAASqB,WACfJ,OAAQjB,EAASsB,eAIrBC,gBAAiB,CACfC,OAAQ,CACNb,KAAMX,EAASqB,WACfJ,OAAQjB,EAASsB,aACjBN,UAAW,EACXS,YAAazB,EAASkB,WACtBQ,WAAY,IAEdC,SAAU,CACRhB,KAAMX,EAAS4B,aACfX,OAAQjB,EAAS6B,eACjBb,UAAW,EACXS,YAAazB,EAAS6B,eACtBH,WAAY,GACZ,aAAc,CACZnN,WAAY,MAGhBuN,UAAW,CACTnB,KAAMX,EAAS+B,cACfd,OAAQjB,EAASgC,gBACjBhB,UAAW,EACX,aAAc,CACZzM,WAAY,MAGhB0N,SAAU,CACRtB,KAAMX,EAASkC,aACfjB,OAAQjB,EAASmC,eACjBnB,UAAW,GAEboB,QAAS,CACPzB,KAAMX,EAASqC,YACfpB,OAAQjB,EAASsC,cACjBtB,UAAW,IAGfuB,UAAW,CACT7B,MAAO,CACLC,KA/EY,eAgFZC,UAAW,SACXC,aAAc,SACdhM,SAAU,KAGd2N,YAAa,CACX5c,KAAM,OACN+M,KAAM,EACN+N,MAAO,CACLO,OAAQjB,EAASyC,eACjBC,gBAAiB,GAEnB7W,MAAOmU,EAASyC,gBAGlBE,gBAAiB,CACfnB,OAAQ,CACNP,OAAQjB,EAAS4C,iBACjB5B,UAAW,GAEbW,SAAU,CACRV,OAAQjB,EAAS6C,mBACjB7B,UAAW,EACXS,YAAazB,EAAS6C,mBACtBnB,WAAY,GACZ,aAAc,CACZnN,WAAY,MAGhBuN,UAAW,CACTb,OAAQjB,EAAS8C,oBACjB9B,UAAW,EACX,aAAc,CACZzM,WAAY,MAGhB0N,SAAU,CACRhB,OAAQjB,EAAS+C,mBACjB/B,UAAW,GAEboB,QAAS,CACPnB,OAAQjB,EAASgD,kBACjBhC,UAAW,IAGfiC,WAAY,CACVvC,MAAO,CACLC,KA/HY,eAiIZE,aAAc,SACdhM,SAAU,IAEZqO,KAAM,GACNC,KAAM,IAERC,aAAc,CACZxd,KAAM,SACN8a,MAAO,CACLC,KAAMX,EAASqD,cACfrC,UAAW,EACXC,OAAQjB,EAASsD,gBACjB3f,EAAG,EACHqR,MAAO,GACPuO,OAAQ,IAEV5Q,KAAM,CAAC,GAAI,GACX9G,MAAOmU,EAASsD,gBAChBE,QAAS,CAAC,GAAI,GAAI,GAAI,KAGxBC,iBAAkB,CAChBjC,OAAQ,CACNP,OAAQjB,EAAS0D,kBACjB1C,UAAW,EACXL,KAAMX,EAAS2D,iBAEjBhC,SAAU,CACRV,OAAQjB,EAAS4D,oBACjB5C,UAAW,EACXL,KAAMX,EAAS6D,kBACfpC,YAAazB,EAAS4D,oBACtBlC,WAAY,GACZ,aAAc,CACZnN,WAAY,MAGhBuN,UAAW,CACTb,OAAQjB,EAAS8D,qBACjB9C,UAAW,EACXL,KAAMX,EAAS+D,mBACf,aAAc,CACZxP,WAAY,MAGhB0N,SAAU,CACRhB,OAAQjB,EAASgE,oBACjBrD,KAAMX,EAASiE,kBACfjD,UAAW,GAEboB,QAAS,CACPnB,OAAQjB,EAASkE,mBACjBvD,KAAMX,EAASmE,iBACfnD,UAAW,IAGfoD,cAAe,CACbzD,KAAM,UACN0D,YAAa,GACbpD,OAAQ,UACRqD,cAAe,GACfC,SAAU,CAAC,EAAG,IAGhBC,sBAAuB,CACrBxP,MAAO,IACPuO,OAAQ,IACRkB,YAAY,EACZrQ,KAAM,CACJsQ,EAAG,EACHrN,EAAG,GACHsN,WAAY,GACZC,OAAQ,GACR/P,SAAU,GACVP,WAAY,kBACZqM,KAAM,qBACNkE,SAAU,WAGdC,uBAAwB,CAEtBC,MAAO,CACLL,EAAG,EACHrN,EAAG,EACHrC,MAAO,GACPuO,OAAQ,GACRqB,OAAQ,IAGZI,iBACE,sF,iCC/NSzhB,OAAOC,eAAenB,EAAQ,aAAa,CAACyB,OAAM,IAAKzB,EAAQ4iB,yBAAoB,EAAO,IAAIC,EAAa,KAAsK7iB,EAAQ4iB,oBAAzK,WAA+B,IAAIza,EAAE,OAAO0a,KAAgB1a,EAAEkK,SAASC,cAAc,WAAWK,MAAM,EAAExK,EAAE+Y,OAAO,EAAE2B,EAAa1a,EAAEoK,WAAW,OAAOsQ,I,iCCApQ,IAAIC,EAAW1M,EAAQ,KAAc2M,EAAQ3M,EAAQ,KAAkB4M,EAAa,GAAG,IAAI,IAAIjiB,KAAQ+hB,EAAWA,EAAWzgB,eAAetB,KAAQiiB,EAAaF,EAAW/hB,IAAOA,GAAM,IAAIkiB,EAAGhjB,EAAOD,QAAQ,CAAC+V,GAAG,GAAG1U,IAAI,IAAI,SAAS0I,EAAM5B,EAAE7G,EAAEiB,GAAG,OAAOkD,KAAKE,IAAIF,KAAKC,IAAIpE,EAAE6G,GAAG5F,GAAG,SAAS2gB,EAAU/a,GAAG,IAAI7G,EAAE6G,EAAE9E,SAAS,IAAIkJ,cAAc,OAAOjL,EAAEoB,OAAO,EAAE,IAAIpB,EAAEA,EAAE2hB,EAAG5hB,IAAI,SAAS8G,GAAG,IAAI7G,EAAEiB,EAAE,OAAO4F,EAAE8D,UAAU,EAAE,GAAGH,eAAe,IAAI,MAAMxK,EAAE2hB,EAAG5hB,IAAIqV,IAAIvO,GAAG5F,EAAE,MAAM,MAAM,IAAI,MAAMjB,EAAE2hB,EAAG5hB,IAAIuV,IAAIzO,GAAG5F,EAAE,MAAM,MAAM,QAAQjB,EAAE2hB,EAAG5hB,IAAIkV,IAAIpO,GAAG5F,EAAE,MAAM,OAAOjB,EAAE,CAACkW,MAAMjV,EAAEd,MAAMH,GAAG,MAAM2hB,EAAG5hB,IAAIkV,IAAI,SAASpO,GAAG,IAAIA,EAAE,OAAO,KAAK,IAAI7G,EAAEiB,EAAEsC,EAAEnD,EAAEO,EAAE,CAAC,EAAE,EAAE,EAAE,GAAG,GAAGM,EAAE4F,EAAEgE,MAAM,mCAAmC,CAAC,IAAIzK,EAAEa,EAAE,GAAGA,EAAEA,EAAE,GAAGsC,EAAE,EAAEA,EAAE,EAAEA,IAAIvD,EAAE,EAAEuD,EAAE5C,EAAE4C,GAAG4G,SAASlJ,EAAE6J,MAAM9K,EAAEA,EAAE,GAAG,IAAII,IAAIO,EAAE,GAAGwJ,SAAS/J,EAAE,IAAI,UAAU,GAAGa,EAAE4F,EAAEgE,MAAM,uBAAuB,CAAC,IAAIzK,GAAGa,EAAEA,EAAE,IAAI,GAAGsC,EAAE,EAAEA,EAAE,EAAEA,IAAI5C,EAAE4C,GAAG4G,SAASlJ,EAAEsC,GAAGtC,EAAEsC,GAAG,IAAInD,IAAIO,EAAE,GAAGwJ,SAAS/J,EAAEA,EAAE,IAAI,UAAU,GAAGa,EAAE4F,EAAEgE,MAAM,2FAA2F,CAAC,IAAItH,EAAE,EAAEA,EAAE,EAAEA,IAAI5C,EAAE4C,GAAG4G,SAASlJ,EAAEsC,EAAE,GAAG,GAAGtC,EAAE,KAAKN,EAAE,GAAGmI,WAAW7H,EAAE,SAAS,CAAC,KAAKA,EAAE4F,EAAEgE,MAAM,8GAA8G,OAAO5J,EAAE4F,EAAEgE,MAAM,UAAU,gBAAgB5J,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,IAAIN,EAAE6gB,EAAWvgB,EAAE,MAAMN,EAAE,GAAG,EAAEA,GAAG,KAAK,KAAK,IAAI4C,EAAE,EAAEA,EAAE,EAAEA,IAAI5C,EAAE4C,GAAGY,KAAKyE,MAAM,KAAKE,WAAW7H,EAAEsC,EAAE,KAAKtC,EAAE,KAAKN,EAAE,GAAGmI,WAAW7H,EAAE,KAAK,IAAIsC,EAAE,EAAEA,EAAE,EAAEA,IAAI5C,EAAE4C,GAAGkF,EAAM9H,EAAE4C,GAAG,EAAE,KAAK,OAAO5C,EAAE,GAAG8H,EAAM9H,EAAE,GAAG,EAAE,GAAGA,GAAGghB,EAAG5hB,IAAIqV,IAAI,SAASvO,GAAG,IAAIA,EAAE,OAAO,KAAK,IAAI7G,EAAEiB,EAAE4F,EAAEgE,MAAM,2HAA2H,OAAO5J,GAAGjB,EAAE8I,WAAW7H,EAAE,IAAI,EAAE6H,WAAW7H,EAAE,IAAI,KAAK,IAAIwH,EAAMK,WAAW7H,EAAE,IAAI,EAAE,KAAKwH,EAAMK,WAAW7H,EAAE,IAAI,EAAE,KAAKwH,EAAMhE,MAAMzE,GAAG,EAAEA,EAAE,EAAE,KAAK,MAAM2hB,EAAG5hB,IAAIuV,IAAI,SAASzO,GAAG,IAAIA,EAAE,OAAO,KAAK,IAAI7G,EAAEiB,EAAE4F,EAAEgE,MAAM,yHAAyH,OAAO5J,GAAGjB,EAAE8I,WAAW7H,EAAE,IAAI,EAAE6H,WAAW7H,EAAE,IAAI,IAAI,KAAK,IAAIwH,EAAMK,WAAW7H,EAAE,IAAI,EAAE,KAAKwH,EAAMK,WAAW7H,EAAE,IAAI,EAAE,KAAKwH,EAAMhE,MAAMzE,GAAG,EAAEA,EAAE,EAAE,KAAK,MAAM2hB,EAAGlN,GAAGkB,IAAI,WAAW,IAAI9O,EAAE4a,EAAQ5T,WAAW,MAAM,IAAI+T,EAAU/a,EAAE,IAAI+a,EAAU/a,EAAE,IAAI+a,EAAU/a,EAAE,KAAKA,EAAE,GAAG,EAAE+a,EAAUzd,KAAKyE,MAAM,IAAI/B,EAAE,KAAK,KAAK8a,EAAGlN,GAAGQ,IAAI,WAAW,IAAIpO,EAAE4a,EAAQ5T,WAAW,OAAOhH,EAAEzF,OAAO,GAAG,IAAIyF,EAAE,GAAG,OAAO1C,KAAKyE,MAAM/B,EAAE,IAAI,KAAK1C,KAAKyE,MAAM/B,EAAE,IAAI,KAAK1C,KAAKyE,MAAM/B,EAAE,IAAI,IAAI,QAAQ1C,KAAKyE,MAAM/B,EAAE,IAAI,KAAK1C,KAAKyE,MAAM/B,EAAE,IAAI,KAAK1C,KAAKyE,MAAM/B,EAAE,IAAI,KAAKA,EAAE,GAAG,KAAK8a,EAAGlN,GAAGQ,IAAI4M,QAAQ,WAAW,IAAIhb,EAAE4a,EAAQ5T,WAAW7N,EAAEmE,KAAKyE,MAAM/B,EAAE,GAAG,IAAI,KAAK5F,EAAEkD,KAAKyE,MAAM/B,EAAE,GAAG,IAAI,KAAKtD,EAAEY,KAAKyE,MAAM/B,EAAE,GAAG,IAAI,KAAK,OAAOA,EAAEzF,OAAO,GAAG,IAAIyF,EAAE,GAAG,OAAO7G,EAAE,MAAMiB,EAAE,MAAMsC,EAAE,KAAK,QAAQvD,EAAE,MAAMiB,EAAE,MAAMsC,EAAE,MAAMsD,EAAE,GAAG,KAAK8a,EAAGlN,GAAGW,IAAI,WAAW,IAAIvO,EAAE4a,EAAQ5T,WAAW,OAAOhH,EAAEzF,OAAO,GAAG,IAAIyF,EAAE,GAAG,OAAOA,EAAE,GAAG,KAAKA,EAAE,GAAG,MAAMA,EAAE,GAAG,KAAK,QAAQA,EAAE,GAAG,KAAKA,EAAE,GAAG,MAAMA,EAAE,GAAG,MAAMA,EAAE,GAAG,KAAK8a,EAAGlN,GAAGa,IAAI,WAAW,IAAIzO,EAAE4a,EAAQ5T,WAAW7N,EAAE,GAAG,OAAO6G,EAAEzF,QAAQ,GAAG,IAAIyF,EAAE,KAAK7G,EAAE,KAAK6G,EAAE,IAAI,OAAOA,EAAE,GAAG,KAAKA,EAAE,GAAG,MAAMA,EAAE,GAAG,IAAI7G,EAAE,KAAK2hB,EAAGlN,GAAGmB,QAAQ,SAAS/O,GAAG,OAAO6a,EAAa7a,EAAEiE,MAAM,EAAE,M,iCCAxiGnM,EAAOD,QAAQ,CAACojB,UAAU,CAAC,IAAI,IAAI,KAAKC,aAAa,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,EAAE,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,KAAKC,MAAM,CAAC,IAAI,IAAI,KAAKC,MAAM,CAAC,IAAI,IAAI,KAAKC,OAAO,CAAC,IAAI,IAAI,KAAKC,MAAM,CAAC,EAAE,EAAE,GAAGC,eAAe,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,EAAE,EAAE,KAAKC,WAAW,CAAC,IAAI,GAAG,KAAKC,MAAM,CAAC,IAAI,GAAG,IAAIC,UAAU,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,GAAG,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,GAAGC,UAAU,CAAC,IAAI,IAAI,IAAIC,MAAM,CAAC,IAAI,IAAI,IAAIC,eAAe,CAAC,IAAI,IAAI,KAAKC,SAAS,CAAC,IAAI,IAAI,KAAKC,QAAQ,CAAC,IAAI,GAAG,IAAIC,KAAK,CAAC,EAAE,IAAI,KAAKC,SAAS,CAAC,EAAE,EAAE,KAAKC,SAAS,CAAC,EAAE,IAAI,KAAKC,cAAc,CAAC,IAAI,IAAI,IAAIC,SAAS,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,EAAE,IAAI,GAAGC,SAAS,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,YAAY,CAAC,IAAI,EAAE,KAAKC,eAAe,CAAC,GAAG,IAAI,IAAIC,WAAW,CAAC,IAAI,IAAI,GAAGC,WAAW,CAAC,IAAI,GAAG,KAAKC,QAAQ,CAAC,IAAI,EAAE,GAAGC,WAAW,CAAC,IAAI,IAAI,KAAKC,aAAa,CAAC,IAAI,IAAI,KAAKC,cAAc,CAAC,GAAG,GAAG,KAAKC,cAAc,CAAC,GAAG,GAAG,IAAIC,cAAc,CAAC,GAAG,GAAG,IAAIC,cAAc,CAAC,EAAE,IAAI,KAAKC,WAAW,CAAC,IAAI,EAAE,KAAKC,SAAS,CAAC,IAAI,GAAG,KAAKC,YAAY,CAAC,EAAE,IAAI,KAAKC,QAAQ,CAAC,IAAI,IAAI,KAAKC,QAAQ,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,GAAG,IAAI,KAAKC,UAAU,CAAC,IAAI,GAAG,IAAIC,YAAY,CAAC,IAAI,IAAI,KAAKC,YAAY,CAAC,GAAG,IAAI,IAAIC,QAAQ,CAAC,IAAI,EAAE,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,IAAI,IAAI,GAAGC,UAAU,CAAC,IAAI,IAAI,IAAIjP,KAAK,CAAC,IAAI,IAAI,KAAKkP,MAAM,CAAC,EAAE,IAAI,GAAGC,YAAY,CAAC,IAAI,IAAI,IAAIC,KAAK,CAAC,IAAI,IAAI,KAAKC,SAAS,CAAC,IAAI,IAAI,KAAKC,QAAQ,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,GAAG,IAAIC,OAAO,CAAC,GAAG,EAAE,KAAKC,MAAM,CAAC,IAAI,IAAI,KAAKC,MAAM,CAAC,IAAI,IAAI,KAAKC,SAAS,CAAC,IAAI,IAAI,KAAKC,cAAc,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,GAAGC,aAAa,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,qBAAqB,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,YAAY,CAAC,IAAI,IAAI,KAAKC,cAAc,CAAC,GAAG,IAAI,KAAKC,aAAa,CAAC,IAAI,IAAI,KAAKC,eAAe,CAAC,IAAI,IAAI,KAAKC,eAAe,CAAC,IAAI,IAAI,KAAKC,eAAe,CAAC,IAAI,IAAI,KAAKC,YAAY,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,EAAE,IAAI,GAAGC,UAAU,CAAC,GAAG,IAAI,IAAIC,MAAM,CAAC,IAAI,IAAI,KAAKC,QAAQ,CAAC,IAAI,EAAE,KAAKC,OAAO,CAAC,IAAI,EAAE,GAAGC,iBAAiB,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,EAAE,EAAE,KAAKC,aAAa,CAAC,IAAI,GAAG,KAAKC,aAAa,CAAC,IAAI,IAAI,KAAKC,eAAe,CAAC,GAAG,IAAI,KAAKC,gBAAgB,CAAC,IAAI,IAAI,KAAKC,kBAAkB,CAAC,EAAE,IAAI,KAAKC,gBAAgB,CAAC,GAAG,IAAI,KAAKC,gBAAgB,CAAC,IAAI,GAAG,KAAKC,aAAa,CAAC,GAAG,GAAG,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,SAAS,CAAC,IAAI,IAAI,KAAKC,YAAY,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,EAAE,EAAE,KAAKC,QAAQ,CAAC,IAAI,IAAI,KAAKC,MAAM,CAAC,IAAI,IAAI,GAAGC,UAAU,CAAC,IAAI,IAAI,IAAIC,OAAO,CAAC,IAAI,IAAI,GAAGC,UAAU,CAAC,IAAI,GAAG,GAAGC,OAAO,CAAC,IAAI,IAAI,KAAKC,cAAc,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,cAAc,CAAC,IAAI,IAAI,KAAKC,cAAc,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,IAAI,IAAI,IAAIC,KAAK,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,KAAKC,OAAO,CAAC,IAAI,EAAE,KAAKC,cAAc,CAAC,IAAI,GAAG,KAAKC,IAAI,CAAC,IAAI,EAAE,GAAGC,UAAU,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,GAAG,IAAI,KAAKC,YAAY,CAAC,IAAI,GAAG,IAAIC,OAAO,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,IAAIC,SAAS,CAAC,GAAG,IAAI,IAAIC,SAAS,CAAC,IAAI,IAAI,KAAKC,OAAO,CAAC,IAAI,GAAG,IAAIC,OAAO,CAAC,IAAI,IAAI,KAAKC,QAAQ,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,GAAG,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,IAAI,IAAI,KAAKC,YAAY,CAAC,EAAE,IAAI,KAAKC,UAAU,CAAC,GAAG,IAAI,KAAKC,IAAI,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,EAAE,IAAI,KAAKC,QAAQ,CAAC,IAAI,IAAI,KAAKC,OAAO,CAAC,IAAI,GAAG,IAAIC,UAAU,CAAC,GAAG,IAAI,KAAKC,OAAO,CAAC,IAAI,IAAI,KAAKC,MAAM,CAAC,IAAI,IAAI,KAAKC,MAAM,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,KAAKC,OAAO,CAAC,IAAI,IAAI,GAAGC,YAAY,CAAC,IAAI,IAAI,M,iCCA90G,IAAIC,EAAWnW,EAAQ,KAAehR,EAAO3B,MAAMrB,UAAUgD,OAAOgH,EAAM3I,MAAMrB,UAAUgK,MAAM2W,EAAQ9iB,EAAOD,QAAQ,SAASsB,GAAG,IAAI6G,EAAE3H,EAAEkB,EAAEa,EAAE,GAAG,IAAI4F,EAAE,EAAE3H,EAAEc,EAAEoB,OAAOyF,EAAE3H,EAAE2H,IAAIzG,EAAEJ,EAAE6G,GAAGokB,EAAW7qB,GAAGa,EAAE6C,EAAOzE,KAAK4B,EAAE6J,EAAMzL,KAAKe,IAAIa,EAAEW,KAAKxB,GAAG,OAAOa,GAAGwgB,EAAQyJ,KAAK,SAASlrB,GAAG,OAAO,WAAW,OAAOA,EAAEyhB,EAAQ5T,e,iCCAjTlP,EAAOD,QAAQ,SAAS0B,GAAG,SAASA,GAAG,iBAAiBA,KAAKA,aAAa+B,OAAOA,MAAMC,QAAQhC,IAAIA,EAAEgB,QAAQ,IAAIhB,EAAE0E,kBAAkBqmB,UAAUvrB,OAAOwrB,yBAAyBhrB,EAAEA,EAAEgB,OAAO,IAAI,WAAWhB,EAAEwL,YAAYnM,S,sQCAvN,SAAS4rB,EAAQ1rB,GAAG,OAAO0rB,EAAQ,mBAAmBprB,QAAQ,YAAiBA,OAAOiU,UAAS,SAASvU,GAAG,SAAcA,IAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBM,QAAQN,EAAEiM,cAAc3L,QAAQN,IAAIM,OAAOa,UAAU,SAA3E,EAA2FnB,KAAIA,GAAG,IAAI2rB,EAAYxW,EAAQ,KAAiByW,EAAMzW,EAAQ,KAAWE,EAAQ,GAAUpV,OAAO8C,KAAK4oB,GAA4d/b,SAAS,SAAS5P,GAAGqV,EAAQrV,GAAG,GAAGC,OAAOC,eAAemV,EAAQrV,GAAG,WAAW,CAACQ,MAAMmrB,EAAY3rB,GAAGuV,WAAWtV,OAAOC,eAAemV,EAAQrV,GAAG,SAAS,CAACQ,MAAMmrB,EAAY3rB,GAAGwV,SAAS,IAAItO,EAAE0kB,EAAM5rB,GAAGC,OAAO8C,KAAKmE,GAAG0I,SAAS,SAAS5O,GAAG,IAAIX,EAAE6G,EAAElG,GAAGqU,EAAQrV,GAAGgB,GAA9hB,SAAqBhB,GAAG,IAAIkH,EAAE,SAASA,GAAG,GAAG,MAAMA,EAAE,OAAOA,EAAEgH,UAAUzM,OAAO,IAAIyF,EAAE1E,MAAMrB,UAAUgK,MAAMzL,KAAKwO,YAAY,IAAIlN,EAAEX,EAAEI,EAAET,EAAEkH,GAAG,GAAG,WAAWwkB,EAAQjrB,GAAG,IAAIO,EAAEP,EAAEgB,OAAOpB,EAAE,EAAEA,EAAEW,EAAEX,IAAII,EAAEJ,GAAGmE,KAAKyE,MAAMxI,EAAEJ,IAAI,OAAOI,GAAG,MAAM,eAAeT,IAAIkH,EAAE2kB,WAAW7rB,EAAE6rB,YAAY3kB,EAA8Q4kB,CAAYzrB,GAAGgV,EAAQrV,GAAGgB,GAAG+qB,IAAjvB,SAAiB/rB,GAAG,IAAIkH,EAAE,SAASA,GAAG,OAAO,MAAMA,EAAEA,GAAGgH,UAAUzM,OAAO,IAAIyF,EAAE1E,MAAMrB,UAAUgK,MAAMzL,KAAKwO,YAAYlO,EAAEkH,KAAK,MAAM,eAAelH,IAAIkH,EAAE2kB,WAAW7rB,EAAE6rB,YAAY3kB,EAAokB8kB,CAAQ3rB,SAASrB,EAAOD,QAAQsW,G,iCCAnnCrW,EAAOD,QAAQ,CAACojB,UAAU,CAAC,IAAI,IAAI,KAAKC,aAAa,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,EAAE,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,KAAKC,MAAM,CAAC,IAAI,IAAI,KAAKC,MAAM,CAAC,IAAI,IAAI,KAAKC,OAAO,CAAC,IAAI,IAAI,KAAKC,MAAM,CAAC,EAAE,EAAE,GAAGC,eAAe,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,EAAE,EAAE,KAAKC,WAAW,CAAC,IAAI,GAAG,KAAKC,MAAM,CAAC,IAAI,GAAG,IAAIC,UAAU,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,GAAG,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,GAAGC,UAAU,CAAC,IAAI,IAAI,IAAIC,MAAM,CAAC,IAAI,IAAI,IAAIC,eAAe,CAAC,IAAI,IAAI,KAAKC,SAAS,CAAC,IAAI,IAAI,KAAKC,QAAQ,CAAC,IAAI,GAAG,IAAIC,KAAK,CAAC,EAAE,IAAI,KAAKC,SAAS,CAAC,EAAE,EAAE,KAAKC,SAAS,CAAC,EAAE,IAAI,KAAKC,cAAc,CAAC,IAAI,IAAI,IAAIC,SAAS,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,EAAE,IAAI,GAAGC,SAAS,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,YAAY,CAAC,IAAI,EAAE,KAAKC,eAAe,CAAC,GAAG,IAAI,IAAIC,WAAW,CAAC,IAAI,IAAI,GAAGC,WAAW,CAAC,IAAI,GAAG,KAAKC,QAAQ,CAAC,IAAI,EAAE,GAAGC,WAAW,CAAC,IAAI,IAAI,KAAKC,aAAa,CAAC,IAAI,IAAI,KAAKC,cAAc,CAAC,GAAG,GAAG,KAAKC,cAAc,CAAC,GAAG,GAAG,IAAIC,cAAc,CAAC,GAAG,GAAG,IAAIC,cAAc,CAAC,EAAE,IAAI,KAAKC,WAAW,CAAC,IAAI,EAAE,KAAKC,SAAS,CAAC,IAAI,GAAG,KAAKC,YAAY,CAAC,EAAE,IAAI,KAAKC,QAAQ,CAAC,IAAI,IAAI,KAAKC,QAAQ,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,GAAG,IAAI,KAAKC,UAAU,CAAC,IAAI,GAAG,IAAIC,YAAY,CAAC,IAAI,IAAI,KAAKC,YAAY,CAAC,GAAG,IAAI,IAAIC,QAAQ,CAAC,IAAI,EAAE,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,IAAI,IAAI,GAAGC,UAAU,CAAC,IAAI,IAAI,IAAIjP,KAAK,CAAC,IAAI,IAAI,KAAKkP,MAAM,CAAC,EAAE,IAAI,GAAGC,YAAY,CAAC,IAAI,IAAI,IAAIC,KAAK,CAAC,IAAI,IAAI,KAAKC,SAAS,CAAC,IAAI,IAAI,KAAKC,QAAQ,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,GAAG,IAAIC,OAAO,CAAC,GAAG,EAAE,KAAKC,MAAM,CAAC,IAAI,IAAI,KAAKC,MAAM,CAAC,IAAI,IAAI,KAAKC,SAAS,CAAC,IAAI,IAAI,KAAKC,cAAc,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,GAAGC,aAAa,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,qBAAqB,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,YAAY,CAAC,IAAI,IAAI,KAAKC,cAAc,CAAC,GAAG,IAAI,KAAKC,aAAa,CAAC,IAAI,IAAI,KAAKC,eAAe,CAAC,IAAI,IAAI,KAAKC,eAAe,CAAC,IAAI,IAAI,KAAKC,eAAe,CAAC,IAAI,IAAI,KAAKC,YAAY,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,EAAE,IAAI,GAAGC,UAAU,CAAC,GAAG,IAAI,IAAIC,MAAM,CAAC,IAAI,IAAI,KAAKC,QAAQ,CAAC,IAAI,EAAE,KAAKC,OAAO,CAAC,IAAI,EAAE,GAAGC,iBAAiB,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,EAAE,EAAE,KAAKC,aAAa,CAAC,IAAI,GAAG,KAAKC,aAAa,CAAC,IAAI,IAAI,KAAKC,eAAe,CAAC,GAAG,IAAI,KAAKC,gBAAgB,CAAC,IAAI,IAAI,KAAKC,kBAAkB,CAAC,EAAE,IAAI,KAAKC,gBAAgB,CAAC,GAAG,IAAI,KAAKC,gBAAgB,CAAC,IAAI,GAAG,KAAKC,aAAa,CAAC,GAAG,GAAG,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,SAAS,CAAC,IAAI,IAAI,KAAKC,YAAY,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,EAAE,EAAE,KAAKC,QAAQ,CAAC,IAAI,IAAI,KAAKC,MAAM,CAAC,IAAI,IAAI,GAAGC,UAAU,CAAC,IAAI,IAAI,IAAIC,OAAO,CAAC,IAAI,IAAI,GAAGC,UAAU,CAAC,IAAI,GAAG,GAAGC,OAAO,CAAC,IAAI,IAAI,KAAKC,cAAc,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,cAAc,CAAC,IAAI,IAAI,KAAKC,cAAc,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,IAAI,IAAI,IAAIC,KAAK,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,KAAKC,OAAO,CAAC,IAAI,EAAE,KAAKC,cAAc,CAAC,IAAI,GAAG,KAAKC,IAAI,CAAC,IAAI,EAAE,GAAGC,UAAU,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,GAAG,IAAI,KAAKC,YAAY,CAAC,IAAI,GAAG,IAAIC,OAAO,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,IAAIC,SAAS,CAAC,GAAG,IAAI,IAAIC,SAAS,CAAC,IAAI,IAAI,KAAKC,OAAO,CAAC,IAAI,GAAG,IAAIC,OAAO,CAAC,IAAI,IAAI,KAAKC,QAAQ,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,GAAG,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,IAAI,IAAI,KAAKC,YAAY,CAAC,EAAE,IAAI,KAAKC,UAAU,CAAC,GAAG,IAAI,KAAKC,IAAI,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,EAAE,IAAI,KAAKC,QAAQ,CAAC,IAAI,IAAI,KAAKC,OAAO,CAAC,IAAI,GAAG,IAAIC,UAAU,CAAC,GAAG,IAAI,KAAKC,OAAO,CAAC,IAAI,IAAI,KAAKC,MAAM,CAAC,IAAI,IAAI,KAAKC,MAAM,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,KAAKC,OAAO,CAAC,IAAI,IAAI,GAAGC,YAAY,CAAC,IAAI,IAAI,M,iCCA90G,IAAIM,EAAYxW,EAAQ,KAAqJ,SAAS8W,EAAUjrB,GAAG,IAAIX,EAAE6G,EAAEzG,EAAET,EAAET,EAAE+B,EAAEsC,EAA1K,WAAsB,IAAI5C,EAAEX,EAAE6G,EAAE,GAAGzG,EAAER,OAAO8C,KAAK4oB,GAAa,IAAI3qB,EAAEP,EAAEgB,OAAOpB,EAAE,EAAEA,EAAEW,EAAEX,IAAI6G,EAAEzG,EAAEJ,IAAI,CAAC6rB,UAAU,EAAEC,OAAO,MAAM,OAAOjlB,EAA0CklB,GAAaxsB,EAAE,CAACoB,GAAG,IAAI4C,EAAE5C,GAAGkrB,SAAS,EAAEtsB,EAAE6B,QAAQ,IAAIpB,EAAET,EAAE6U,MAAMhU,GAAGyG,EAAEjH,OAAO8C,KAAK4oB,EAAYtrB,KAAKoB,OAAOzB,EAAE,EAAEA,EAAES,EAAET,KAAK,KAAKsB,EAAEsC,EAAErE,EAAE2H,EAAElH,KAAKksB,WAAW5qB,EAAE4qB,SAAStoB,EAAEvD,GAAG6rB,SAAS,EAAE5qB,EAAE6qB,OAAO9rB,EAAET,EAAEysB,QAAQ9sB,IAAI,OAAOqE,EAAE,SAAS0oB,EAAKtrB,EAAEX,GAAG,OAAO,SAAS6G,GAAG,OAAO7G,EAAEW,EAAEkG,KAAK,SAASqlB,EAAevrB,EAAEX,GAAG,IAAI,IAAI6G,EAAE,CAAC7G,EAAEW,GAAGmrB,OAAOnrB,GAAGP,EAAEkrB,EAAYtrB,EAAEW,GAAGmrB,QAAQnrB,GAAGhB,EAAEK,EAAEW,GAAGmrB,OAAO9rB,EAAEL,GAAGmsB,QAAQjlB,EAAEmlB,QAAQhsB,EAAEL,GAAGmsB,QAAQ1rB,EAAE6rB,EAAKX,EAAYtrB,EAAEL,GAAGmsB,QAAQnsB,GAAGS,GAAGT,EAAEK,EAAEL,GAAGmsB,OAAO,OAAO1rB,EAAEorB,WAAW3kB,EAAEzG,EAAEzB,EAAOD,QAAQ,SAASiC,GAAG,IAAIX,EAAE6G,EAAEzG,EAAET,EAAEisB,EAAUjrB,GAAGzB,EAAE,GAAG+B,EAAErB,OAAO8C,KAAK/C,GAAG,IAAIK,EAAEiB,EAAEG,OAAOyF,EAAE,EAAEA,EAAE7G,EAAE6G,IAAI,OAAOlH,EAAES,EAAEa,EAAE4F,IAAIilB,SAAS5sB,EAAEkB,GAAG8rB,EAAe9rB,EAAET,IAAI,OAAOT,I,iCCA70B,IAAIitB,EAAgBvsB,OAAOY,OAAO,SAASqG,EAAE7G,EAAEI,EAAET,QAAG,IAASA,IAAIA,EAAES,GAAGR,OAAOC,eAAegH,EAAElH,EAAE,CAACG,YAAW,EAAGC,IAAI,WAAW,OAAOC,EAAEI,OAAO,SAASyG,EAAE7G,EAAEI,EAAET,QAAG,IAASA,IAAIA,EAAES,GAAGyG,EAAElH,GAAGK,EAAEI,IAAIgsB,EAAa,SAASvlB,EAAE7G,GAAG,IAAI,IAAII,KAAKyG,EAAE,YAAYzG,GAAGR,OAAOkB,UAAUC,eAAe1B,KAAKW,EAAEI,IAAI+rB,EAAgBnsB,EAAE6G,EAAEzG,IAAIR,OAAOC,eAAenB,EAAQ,aAAa,CAACyB,OAAM,IAAKisB,EAAatX,EAAQ,KAAYpW,GAAS0tB,EAAatX,EAAQ,KAAWpW,GAAS0tB,EAAatX,EAAQ,KAAYpW,GAAS0tB,EAAatX,EAAQ,KAAUpW,GAAS0tB,EAAatX,EAAQ,KAAYpW,GAAS0tB,EAAatX,EAAQ,KAAcpW,I,iCCAlmBkB,OAAOC,eAAenB,EAAQ,aAAa,CAACyB,OAAM,IAAKzB,EAAQ2tB,SAAS3tB,EAAQkH,cAAS,EAA0DlH,EAAQkH,SAA9C,SAASiB,GAAG,MAAM,iBAAiBA,GAA6B,IAA4GylB,EAAW,SAAS5tB,EAAQ2tB,SAAhH,SAASxlB,GAAG,IAAIzG,EAAER,OAAOY,OAAO,MAAM,OAAO,SAASR,GAAG,OAAOI,EAAEJ,KAAKI,EAAEJ,GAAG6G,EAAE7G,KAA2CusB,EAAqB,SAAS1lB,GAAG,OAAOA,EAAEQ,QAAQilB,GAAY,SAASzlB,EAAEzG,GAAG,OAAOA,EAAEA,EAAE6K,cAAc,U,iCCAnarL,OAAOC,eAAenB,EAAQ,aAAa,CAACyB,OAAM,IAAKzB,EAAQ0D,aAAQ,EAAO1D,EAAQ0D,QAAQD,MAAMC,S,iCCApGxC,OAAOC,eAAenB,EAAQ,aAAa,CAACyB,OAAM,IAAKzB,EAAQ8tB,SAAS9tB,EAAQ+F,MAAM/F,EAAQsK,cAAS,EAA0DtK,EAAQsK,SAA9C,SAAShJ,GAAG,MAAM,iBAAiBA,GAAmFtB,EAAQ+F,MAApD,SAASzE,GAAG,OAAOoJ,OAAO3E,MAAM2E,OAAOpJ,KAAmGtB,EAAQ8tB,SAArE,SAASxsB,GAAG,IAAI6G,EAAEiC,WAAW9I,GAAG,OAAOtB,EAAQ+F,MAAMoC,GAAG7G,EAAE6G,I,iCCA5UjH,OAAOC,eAAenB,EAAQ,aAAa,CAACyB,OAAM,IAAKzB,EAAQ+tB,eAAe/tB,EAAQguB,YAAYhuB,EAAQiuB,aAAajuB,EAAQkuB,cAAcluB,EAAQmuB,eAAU,EAA6KnuB,EAAQmuB,UAAhK,SAAS7sB,EAAE6G,EAAEzG,GAAG,IAAImD,EAAE5D,EAAE,GAAG,IAAI4D,EAAE,EAAEA,EAAEvD,EAAEuD,IAAI5D,EAAE4D,GAAG,EAAE,OAAOnD,GAAGA,EAAEmP,SAAS,SAASvP,GAAGA,EAAE8sB,SAASntB,EAAEkH,EAAE7G,EAAE8sB,UAAU,GAAG9sB,EAAE+sB,SAASptB,EAAEkH,EAAE7G,EAAE+sB,UAAU,MAAMptB,GAAGA,GAAsTjB,EAAQkuB,cAA7Q,SAAS5sB,GAAG,IAAI6G,EAAEzG,EAAE,GAAGmD,EAAEvD,EAAEoB,OAAO,IAAIzB,EAAE,EAAEA,EAAE4D,EAAE5D,GAAG,EAAE,IAAIS,EAAET,GAAG,GAAGgB,EAAE,EAAEA,EAAE4C,EAAE5C,GAAG,EAAEhB,IAAIgB,EAAEP,EAAET,GAAGgB,GAAG,EAAE,IAAIX,EAAEL,GAAGgB,IAAIX,EAAEL,GAAGgB,GAAGP,EAAET,GAAGgB,GAAGX,EAAEL,GAAGgB,GAAGP,EAAET,GAAGgB,GAAG,IAAI,IAAIkG,EAAE,EAAEA,EAAEtD,EAAEsD,GAAG,EAAE,IAAI,IAAIlH,EAAE,EAAEA,EAAE4D,EAAE5D,GAAG,EAAE,IAAI,IAAIgB,EAAE,EAAEA,EAAE4C,EAAE5C,GAAG,EAAEP,EAAET,GAAGgB,GAAGP,EAAET,GAAGkH,GAAGzG,EAAEyG,GAAGlG,KAAKP,EAAET,GAAGgB,GAAGP,EAAET,GAAGkH,GAAGzG,EAAEyG,GAAGlG,IAAI,OAAOP,GAAiT1B,EAAQiuB,aAAjQ,SAAS3sB,EAAE6G,GAAG,IAAIzG,EAAEJ,EAAEgtB,MAAMzpB,EAAEvD,EAAEitB,MAAMttB,EAAE,GAAGgB,EAAE,GAAG,IAAIP,EAAE,MAAM,IAAI+V,MAAM,uBAAuB,OAAO/V,GAAGA,EAAEmP,SAAS,SAASvP,EAAE6G,GAAGlG,EAAEX,EAAEktB,IAAIrmB,EAAElH,EAAEiC,KAAK,OAAO2B,GAAGA,EAAEgM,SAAS,SAASvP,GAAG,IAAII,EAAEJ,EAAE8sB,OAAOvpB,EAAEvD,EAAE+sB,OAAO9rB,EAAEN,EAAEP,GAAGmM,EAAE5L,EAAE4C,GAAG5D,EAAEsB,GAAGsL,GAAG,EAAE1F,IAAIlH,EAAE4M,GAAGtL,GAAG,MAAMtB,GAAyKjB,EAAQguB,YAA5H,SAAS1sB,EAAE6G,GAAG,IAAIzG,EAAE,GAAG,OAAOJ,EAAEuP,SAAS,SAASvP,GAAG,IAAIuD,EAAE,GAAGvD,EAAEuP,SAAS,SAASvP,GAAGuD,EAAE3B,KAAK5B,EAAE6G,MAAMzG,EAAEwB,KAAK2B,MAAMnD,GAA4O1B,EAAQ+tB,eAA7D,SAASzsB,EAAE6G,GAAG,mBAAmBA,GAAtK,SAAS7G,EAAE6G,EAAEzG,GAAG,IAAImD,EAAE,GAAGsD,GAAGA,EAAEsmB,SAAS,IAAI5pB,EAAEsD,EAAEsmB,SAAS/rB,OAAO,EAAEmC,GAAG,EAAEA,IAAI,IAAIvD,EAAE6G,EAAEsmB,SAAS5pB,GAAGnD,GAAG,OAAO,QAAQA,EAAEyG,GAAuDumB,CAAWptB,EAAE6G,K,sQCAxzC,SAASwkB,EAAQjrB,GAAG,OAAOirB,EAAQ,mBAAmBprB,QAAQ,YAAiBA,OAAOiU,UAAS,SAAS9T,GAAG,SAAcA,IAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBH,QAAQG,EAAEwL,cAAc3L,QAAQG,IAAIH,OAAOa,UAAU,SAA3E,EAA2FV,KAAIA,GAAG,IAAIiS,EAAS,WAAW,OAAOA,EAASzS,OAAO0S,QAAQ,SAASlS,GAAG,IAAIyG,EAAElH,EAAEgB,EAAE,IAAIhB,EAAE,EAAEgB,EAAEkN,UAAUzM,OAAOzB,EAAEgB,EAAEhB,IAAI,IAAI,IAAIK,KAAK6G,EAAEgH,UAAUlO,GAAGC,OAAOkB,UAAUC,eAAe1B,KAAKwH,EAAE7G,KAAKI,EAAEJ,GAAG6G,EAAE7G,IAAI,OAAOI,IAAImG,MAAMzH,KAAK+O,YAAYjO,OAAOC,eAAenB,EAAQ,aAAa,CAACyB,OAAM,IAAKzB,EAAQ6O,MAAM7O,EAAQ8D,cAAS,EAAwE9D,EAAQ8D,SAA5D,SAASpC,GAAG,OAAO,OAAOA,GAAG,WAAWirB,EAAQjrB,IAAwV1B,EAAQ6O,MAAxT,SAASnN,GAAG,IAAIyG,EAAElH,EAAE,OAAO,OAAOS,EAAEA,EAAEA,aAAa2P,KAAK,IAAIA,KAAK3P,EAAEitB,WAAWjtB,aAAa+B,OAAO0E,EAAE,GAAGzG,EAAEmP,SAAS,SAASnP,GAAGyG,EAAEjF,KAAKxB,MAAMyG,EAAEwI,KAAK,SAASjP,GAAG,OAAO1B,EAAQ6O,MAAMnN,OAAO,WAAWirB,EAAQjrB,IAAIA,IAAI,IAAIT,EAAE0S,EAAS,GAAGjS,GAAGR,OAAO8C,KAAK/C,GAAG4P,SAAS,SAASnP,GAAGT,EAAES,GAAG1B,EAAQ6O,MAAM5N,EAAES,OAAOT,GAAGS,I,iCCAr8BR,OAAOC,eAAenB,EAAQ,aAAa,CAACyB,OAAM,IAAKzB,EAAQkE,gBAAW,EAA8DlE,EAAQkE,WAAhD,SAASxC,GAAG,MAAM,mBAAmBA,I,mBCAlJ,YACAzB,EAAOD,QAAU4uB,I,2qGCCF,GACbC,cAAe,WACb,MAAO,IAUTC,UAAW,WACT,MAAO,IAETC,UAAW,SAAmBvR,GAE5B,OADAtc,OAAO0S,OAAOxT,KAAMod,IACb,GAETwR,YAAa,WACX,OAAO,GAETC,aAAc,WACZ,OAAO,GAETC,UAAW,WACT,OAAO,GAOTltB,KAAM,SAAcmtB,GAClB,IAAIC,EAAShvB,KAAKgvB,OAClBhvB,KAAK+uB,MAAQA,EAEK,gBAAd/uB,KAAKmD,MAAwC,iBAAdnD,KAAKmD,MAAyC,iBAAdnD,KAAKmD,MACtE4rB,EAAM9tB,IAAI,UAAUqG,IAAI,aAAa,GAGvC,eAAK0nB,GAAQ,SAAUphB,EAASqhB,GAC9BF,EAAMjT,GAAGmT,EAAOrhB,OAGpBshB,OAAQ,SAAgBH,GACtB,IAAIC,EAAShvB,KAAKgvB,OAEA,gBAAdhvB,KAAKmD,MAAwC,iBAAdnD,KAAKmD,MAAyC,iBAAdnD,KAAKmD,MACtE4rB,EAAM9tB,IAAI,UAAUqG,IAAI,aAAa,GAGvC,eAAK0nB,GAAQ,SAAUphB,EAASqhB,GAC9BF,EAAM9S,IAAIgT,EAAOrhB,OAGrB3M,IAAK,SAAa2G,GAChB,OAAO5H,KAAK4H,IAEdN,IAAK,SAAa3F,EAAKiG,GAErB,OADA5H,KAAK2B,GAAOiG,EACL5H,OCRI,EAlDf,WACE,SAASmvB,KA8CT,OAtCAA,EAASC,iBAAmB,SAAUjsB,EAAMksB,GAC1C,IAAKA,EACH,MAAM,IAAIhY,MAAM,6CAA6CrS,OAAO7B,IAGtE,IAAInB,EAAY,gBAAMstB,GACtBxuB,OAAO0S,OAAOxR,EAAWqtB,GAEzB,IAAIxlB,EAAO,SAAcuT,GACvB,IAAImS,EAAQvvB,KAEZc,OAAO0S,OAAOxT,KAAMA,KAAKyuB,gBAAiBrR,GAC1C,IAAI4R,EAAShvB,KAAK0uB,YAClB1uB,KAAKgvB,OAAS,KACd,IAAIQ,EAAe,GAEfR,IACF,eAAKA,GAAQ,SAAUS,EAAQR,GAC7BO,EAAaP,GAAS,uBAAaM,EAAOE,MAE5CzvB,KAAKgvB,OAASQ,IAIlB3lB,EAAK7H,UAAYA,EACjBmtB,EAASO,MAAMvsB,GAAQ0G,GAGzBslB,EAASQ,YAAc,SAAUxsB,GAC/B,QAASgsB,EAASO,MAAMvsB,IAG1BgsB,EAASS,YAAc,SAAUzsB,GAC/B,OAAOgsB,EAASO,MAAMvsB,IAIxBgsB,EAASO,MAAQ,GACVP,EA/CT,GCJe,I,sCCCXU,EAAY,IAAIA,UASTC,EAAU,SAAiBC,GACpC,OAAO,SAAUvvB,EAAGqB,GAClB,OAAOrB,EAAEuvB,GAAiBluB,EAAEkuB,KAW5BC,EAAY,SAAmB3uB,EAAOkE,EAAKD,GAC7C,OAAOjE,GAASkE,GAAOlE,GAASiE,GAYvB2qB,EAAmB,SAA0BC,EAAIC,EAAIC,EAAIC,GAClE,IACIC,EACCF,EAAGnO,EAAIiO,EAAGjO,EADXqO,EAECF,EAAGxb,EAAIsb,EAAGtb,EAEX2b,EACCJ,EAAGlO,EAAIiO,EAAGjO,EADXsO,EAECJ,EAAGvb,EAAIsb,EAAGtb,EAEX4b,EACCH,EAAGpO,EAAImO,EAAGnO,EADXuO,EAECH,EAAGzb,EAAIwb,EAAGxb,EAEX6b,EAAQF,EAAOC,EAAOD,EAAOC,EAE7BE,EAAc,EAAID,EAItB,GALeA,EAAQA,EAdP,MAgBFF,EAAOA,EAAOA,EAAOA,IACrBC,EAAOA,EAAOA,EAAOA,GAEW,CAC5C,IAAIruB,GAAKmuB,EAAME,EAAOF,EAAME,GAAQE,EAChCpvB,GAAKgvB,EAAMC,EAAOD,EAAMC,GAAQG,EACpC,OAAKV,EAAU7tB,EAAG,EAAG,IAAO6tB,EAAU1uB,EAAG,EAAG,GACrC,CACL2gB,EAAGiO,EAAGjO,EAAI9f,EAAIouB,EACd3b,EAAGsb,EAAGtb,EAAIzS,EAAIouB,GAHuC,KAOzD,OAAO,MASEI,EAA0B,SAAiCC,EAAMC,GAC1E,IAAI5O,EAAI2O,EAAK3O,EACTrN,EAAIgc,EAAKhc,EACTrC,EAAQqe,EAAKre,MACbuO,EAAS8P,EAAK9P,OAGdgQ,EAAS,GACTC,EAAS,CACX9O,EAJOA,EAAI1P,EAAQ,EAKnBqC,EAJOA,EAAIkM,EAAS,GAMtBgQ,EAAOhuB,KAAK,CACVmf,EAAGA,EACHrN,EAAGA,IAELkc,EAAOhuB,KAAK,CACVmf,EAAGA,EAAI1P,EACPqC,EAAGA,IAELkc,EAAOhuB,KAAK,CACVmf,EAAGA,EAAI1P,EACPqC,EAAGA,EAAIkM,IAETgQ,EAAOhuB,KAAK,CACVmf,EAAGA,EACHrN,EAAGA,EAAIkM,IAETgQ,EAAOhuB,KAAK,CACVmf,EAAGA,EACHrN,EAAGA,IAIL,IAFA,IAAI9P,EAAM,KAED1E,EAAI,EAAGA,EAAI0wB,EAAOxuB,UACzBwC,EAAMmrB,EAAiBa,EAAO1wB,EAAI,GAAI0wB,EAAO1wB,GAAI2wB,EAAQF,IADxBzwB,KAQnC,OAAO0E,GASEksB,EAA4B,SAAmCC,EAAQJ,GAChF,IAAIK,EAAKD,EAAOhP,EACZkP,EAAKF,EAAOrc,EACZ1T,EAAI+vB,EAAO/vB,EAGXkwB,EAFIP,EAAM5O,EAEDiP,EACTG,EAFIR,EAAMjc,EAEDuc,EAGb,GAFQ9rB,KAAKuS,KAAKwZ,EAAKA,EAAKC,EAAKA,GAEzBnwB,EACN,OAAO,KAGT,IAAIowB,EAAQjsB,KAAKksB,KAAKH,GAClBI,EAAQnsB,KAAKksB,KAAKF,GAClBI,EAAQpsB,KAAKqsB,KAAKL,EAAKD,GAC3B,MAAO,CACLnP,EAAGiP,EAAK7rB,KAAKqF,IAAIxJ,EAAImE,KAAKwS,IAAI4Z,IAAUH,EACxC1c,EAAGuc,EAAK9rB,KAAKqF,IAAIxJ,EAAImE,KAAKyS,IAAI2Z,IAAUD,IAUjCG,EAA6B,SAAoCC,EAASf,GACnF,IAAIpsB,EAAImtB,EAAQC,GACZjrB,EAAIgrB,EAAQE,GACZZ,EAAKU,EAAQ3P,EACbkP,EAAKS,EAAQhd,EACbwc,EAAKP,EAAM5O,EAAIiP,EACfG,EAAKR,EAAMjc,EAAIuc,EAEfM,EAAQpsB,KAAKsS,MAAM0Z,EAAKzqB,EAAGwqB,EAAK3sB,GAMpC,OAJIgtB,EAAQ,IACVA,GAAS,EAAIpsB,KAAK6F,IAGb,CACL+W,EAAGiP,EAAKzsB,EAAIY,KAAKwS,IAAI4Z,GACrB7c,EAAGuc,EAAKvqB,EAAIvB,KAAKyS,IAAI2Z,KAWd,EAAc,SAAqBZ,EAAOkB,EAAQC,QAC/C,IAARA,IACFA,EAAM,GAGR,IAAIC,EAAS,CAACpB,EAAM5O,EAAG4O,EAAMjc,EAAGod,GAOhC,OALKD,IAAUpsB,MAAMosB,EAAO,MAC1BA,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGpC,IAAKG,cAAcD,EAAQA,EAAQF,GAC5B,CACL9P,EAAGgQ,EAAO,GACVrd,EAAGqd,EAAO,KAWH,EAAe,SAAsBpB,EAAOkB,EAAQC,QACjD,IAARA,IACFA,EAAM,GAGHD,IAAUpsB,MAAMosB,EAAO,MAC1BA,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGpC,IAAII,EAAiB,IAAKC,OAAO,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAIL,GAEzDI,IACHA,EAAiB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAG5C,IAAIF,EAAS,CAACpB,EAAM5O,EAAG4O,EAAMjc,EAAGod,GAEhC,OADA,IAAKE,cAAcD,EAAQA,EAAQE,GAC5B,CACLlQ,EAAGgQ,EAAO,GACVrd,EAAGqd,EAAO,KAUHI,EAA0B,SAAiClC,EAAIC,EAAIC,GAC5E,IAAI5rB,EAAI0rB,EAAGlO,EAAImO,EAAGnO,EACdrb,EAAIupB,EAAGvb,EAAIwb,EAAGxb,EACdnU,EAAI0vB,EAAGlO,EAAIoO,EAAGpO,EACdvhB,EAAIyvB,EAAGvb,EAAIyb,EAAGzb,EACd7M,GAAKooB,EAAGlO,EAAIkO,EAAGlO,EAAImO,EAAGnO,EAAImO,EAAGnO,EAAImO,EAAGxb,EAAIwb,EAAGxb,EAAIub,EAAGvb,EAAIub,EAAGvb,GAAK,EAC9DnH,GAAK0iB,EAAGlO,EAAIkO,EAAGlO,EAAIoO,EAAGpO,EAAIoO,EAAGpO,EAAIoO,EAAGzb,EAAIyb,EAAGzb,EAAIub,EAAGvb,EAAIub,EAAGvb,GAAK,EAC9D0d,EAAc1rB,EAAInG,EAAIgE,EAAI/D,EAC9B,MAAO,CACLuhB,IAAKvhB,EAAIqH,EAAInB,EAAI6G,GAAK6kB,EACtB1d,IAAKnQ,EAAIgJ,EAAIhN,EAAIsH,GAAKuqB,IASf,EAAW,SAAkBnC,EAAIC,GAC1C,IAAImC,EAAKpC,EAAGlO,EAAImO,EAAGnO,EACfuQ,EAAKrC,EAAGvb,EAAIwb,EAAGxb,EACnB,OAAOvP,KAAKuS,KAAK2a,EAAKA,EAAKC,EAAKA,IAQvB5E,EAAc,SAAqBmE,EAAQU,GACpD,IAAI7vB,EAAS,GAQb,OAPAmvB,EAAOthB,SAAQ,SAAUhI,GACvB,IAAIiqB,EAAS,GACbjqB,EAAIgI,SAAQ,SAAU/K,GACpBgtB,EAAO5vB,KAAK4C,EAAI+sB,MAElB7vB,EAAOE,KAAK4vB,MAEP9vB,GAQEkrB,EAAgB,SAAuB6E,GAKhD,IAHA,IAAIzkB,EAAO,GACPgC,EAAOyiB,EAAUrwB,OAEZlC,EAAI,EAAGA,EAAI8P,EAAM9P,GAAK,EAAG,CAChC8N,EAAK9N,GAAK,GAEV,IAAK,IAAIuH,EAAI,EAAGA,EAAIuI,EAAMvI,GAAK,EACzBvH,IAAMuH,EACRuG,EAAK9N,GAAGuH,GAAK,EACgB,IAApBgrB,EAAUvyB,GAAGuH,IAAagrB,EAAUvyB,GAAGuH,GAGhDuG,EAAK9N,GAAGuH,GAAKgrB,EAAUvyB,GAAGuH,GAF1BuG,EAAK9N,GAAGuH,GAAKmD,IAQnB,IAAK,IAAInH,EAAI,EAAGA,EAAIuM,EAAMvM,GAAK,EAC7B,IAASvD,EAAI,EAAGA,EAAI8P,EAAM9P,GAAK,EAC7B,IAASuH,EAAI,EAAGA,EAAIuI,EAAMvI,GAAK,EACzBuG,EAAK9N,GAAGuH,GAAKuG,EAAK9N,GAAGuD,GAAKuK,EAAKvK,GAAGgE,KACpCuG,EAAK9N,GAAGuH,GAAKuG,EAAK9N,GAAGuD,GAAKuK,EAAKvK,GAAGgE,IAM1C,OAAOuG,GAQE2f,EAAe,SAAsBhpB,EAAM+tB,GACpD,IAAI1E,EAAQrpB,EAAKqpB,MACbC,EAAQtpB,EAAKspB,MACb4D,EAAS,GAETc,EAAU,GAEd,IAAK3E,EACH,MAAM,IAAI7W,MAAM,uBAyBlB,OAtBI6W,GACFA,EAAMzd,SAAQ,SAAUqiB,EAAM1yB,GAC5ByyB,EAAQC,EAAK1E,IAAMhuB,EAEnB2xB,EAAOjvB,KADG,OAKVqrB,GACFA,EAAM1d,SAAQ,SAAU1I,GACtB,IAAIimB,EAASjmB,EAAEimB,OACXC,EAASlmB,EAAEkmB,OACX8E,EAASF,EAAQ7E,GACjBgF,EAASH,EAAQ5E,GACrB8D,EAAOgB,GAAQC,GAAU,EAEpBJ,IACHb,EAAOiB,GAAQD,GAAU,MAKxBhB,GAQEkB,EAAY,SAAmBC,EAAOC,GAC/CD,EAAMD,UAAUE,EAAIlR,EAAGkR,EAAIve,IAQlBwe,EAAO,SAAcF,EAAOrC,GACrC,IAAIkB,EAASmB,EAAMG,YAEdtB,IACHA,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGpC,IAAIuB,EAAOJ,EAAMK,gBACbhB,EAAK1B,EAAM5O,EAAIqR,EAAKE,KACpBhB,EAAK3B,EAAMjc,EAAI0e,EAAKG,KACpBC,EAAc7D,EAAUkC,EAAQ,CAAC,CAAC,IAAKQ,EAAIC,KAC/CU,EAAMS,UAAUD,IAQP,EAAQ,SAAeR,EAAOT,GACvC,IAAIV,EAASmB,EAAMG,YAEdtB,IACHA,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGpC,IAAI6B,EAAUnB,EAET,kBAAQA,KACXmB,EAAU,CAACnB,EAAOA,IAGhB,kBAAQA,IAA2B,IAAjBA,EAAMnwB,SAC1BsxB,EAAU,CAACnB,EAAM,GAAIA,EAAM,KAG7BV,EAASlC,EAAUkC,EAAQ,CAAC,CAAC,IAAK6B,EAAQ,GAAIA,EAAQ,MACtDV,EAAMS,UAAU5B,IAQP,EAAS,SAAgBmB,EAAOzB,GACzC,IAAIM,EAASmB,EAAMG,YAEdtB,IACHA,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGpCA,EAASlC,EAAUkC,EAAQ,CAAC,CAAC,IAAKN,KAClCyB,EAAMS,UAAU5B,IAEPhE,EAAY,SAAmBlsB,EAAGgyB,EAAY1F,GAGvD,IAFA,IAAI2F,EAAU,GAEL1zB,EAAI,EAAGA,EAAIyB,EAAGzB,IACrB0zB,EAAQ1zB,GAAK,EAYf,OATA+tB,EAAM1d,SAAQ,SAAU1I,GAClBA,EAAEimB,SACJ8F,EAAQD,EAAW9rB,EAAEimB,UAAY,GAG/BjmB,EAAEkmB,SACJ6F,EAAQD,EAAW9rB,EAAEkmB,UAAY,MAG9B6F,GAGT,SAASC,EAAU5D,EAAIC,EAAI4D,GACzB,OAAKA,EAAE,GAAK7D,EAAG,KAAOC,EAAG,GAAKD,EAAG,MAASC,EAAG,GAAKD,EAAG,KAAO6D,EAAE,GAAK7D,EAAG,KAAO9qB,KAAKE,IAAI4qB,EAAG,GAAIC,EAAG,KAAO4D,EAAE,IAAMA,EAAE,IAAM3uB,KAAKC,IAAI6qB,EAAG,GAAIC,EAAG,KAAO/qB,KAAKE,IAAI4qB,EAAG,GAAIC,EAAG,KAAO4D,EAAE,IAAMA,EAAE,IAAM3uB,KAAKC,IAAI6qB,EAAG,GAAIC,EAAG,IAczM,IAAI6D,EAAmB,SAA0BnD,EAAQ7O,EAAGrN,GACjE,IAAIsf,GAAQ,EACRryB,EAAIivB,EAAOxuB,OAIf,SAAS6xB,EAAKC,GACZ,OAAI/uB,KAAKqF,IAAI0pB,GAHC,KAIL,EAGFA,EAAS,GAAK,EAAI,EAG3B,GAAIvyB,GAAK,EAEP,OAAO,EAGT,IAAK,IAAIzB,EAAI,EAAGA,EAAIyB,EAAGzB,IAAK,CAC1B,IAAI+vB,EAAKW,EAAO1wB,GACZgwB,EAAKU,GAAQ1wB,EAAI,GAAKyB,GAE1B,GAAIkyB,EAAU5D,EAAIC,EAAI,CAACnO,EAAGrN,IAExB,OAAO,EAKLuf,EAAKhE,EAAG,GAAKvb,GAAK,GAAMuf,EAAK/D,EAAG,GAAKxb,GAAK,GAAKuf,EAAKlS,GAAKrN,EAAIub,EAAG,KAAOA,EAAG,GAAKC,EAAG,KAAOD,EAAG,GAAKC,EAAG,IAAMD,EAAG,IAAM,IACrH+D,GAASA,GAIb,OAAOA,GAGEG,EAAgB,SAAuBC,EAAMC,GACtD,QAASA,EAAKf,KAAOc,EAAKE,MAAQD,EAAKC,KAAOF,EAAKd,MAAQe,EAAKd,KAAOa,EAAKG,MAAQF,EAAKE,KAAOH,EAAKb,OAqB5F,EAAsB,SAA6BiB,EAASC,GACrE,IAAIC,EAAU,SAAiB9D,GAC7B,IAAI+D,EAAO/D,EAAOvgB,KAAI,SAAUrO,GAC9B,OAAOA,EAAE,MAEP4yB,EAAOhE,EAAOvgB,KAAI,SAAUrO,GAC9B,OAAOA,EAAE,MAEX,MAAO,CACLsxB,KAAMnuB,KAAKE,IAAIkC,MAAM,KAAMotB,GAC3BL,KAAMnvB,KAAKC,IAAImC,MAAM,KAAMotB,GAC3BpB,KAAMpuB,KAAKE,IAAIkC,MAAM,KAAMqtB,GAC3BL,KAAMpvB,KAAKC,IAAImC,MAAM,KAAMqtB,KAI3BC,EAAe,SAAsBjE,GAIvC,IAHA,IAAIkE,EAAQ,GACRrb,EAAQmX,EAAOxuB,OAEVlC,EAAI,EAAGA,EAAIuZ,EAAQ,EAAGvZ,IAAK,CAClC,IAAIywB,EAAQC,EAAO1wB,GACfkU,EAAOwc,EAAO1wB,EAAI,GACtB40B,EAAMlyB,KAAK,CACT8S,KAAM,CACJqM,EAAG4O,EAAM,GACTjc,EAAGic,EAAM,IAEXlb,GAAI,CACFsM,EAAG3N,EAAK,GACRM,EAAGN,EAAK,MAKd,GAAI0gB,EAAM1yB,OAAS,EAAG,CACpB,IAAI2yB,EAAQnE,EAAO,GACf1qB,EAAO0qB,EAAOnX,EAAQ,GAC1Bqb,EAAMlyB,KAAK,CACT8S,KAAM,CACJqM,EAAG7b,EAAK,GACRwO,EAAGxO,EAAK,IAEVuP,GAAI,CACFsM,EAAGgT,EAAM,GACTrgB,EAAGqgB,EAAM,MAKf,OAAOD,GAIT,GAAIN,EAAQpyB,OAAS,GAAKqyB,EAAQryB,OAAS,EACzC,OAAO,EAGT,IAAI4yB,EAAQN,EAAQF,GAChBS,EAAQP,EAAQD,GAEpB,IAAKN,EAAca,EAAOC,GACxB,OAAO,EAGT,IAAIC,GAAO,EASX,GAPA,eAAKT,GAAS,SAAU9D,GACtB,GAAIoD,EAAiBS,EAAS7D,EAAM,GAAIA,EAAM,IAE5C,OADAuE,GAAO,GACA,KAIPA,EACF,OAAO,EAUT,GAPA,eAAKV,GAAS,SAAU7D,GACtB,GAAIoD,EAAiBU,EAAS9D,EAAM,GAAIA,EAAM,IAE5C,OADAuE,GAAO,GACA,KAIPA,EACF,OAAO,EAGT,IAAIC,EAASN,EAAaL,GACtBY,EAASP,EAAaJ,GACtBY,GAAc,EAOlB,OANA,eAAKD,GAAQ,SAAUE,GACrB,GA/GuB,SAA8BR,EAAOQ,GAC9D,IAAID,GAAc,EAOlB,OANA,eAAKP,GAAO,SAAU30B,GACpB,GAAI4vB,EAAiB5vB,EAAEuV,KAAMvV,EAAEsV,GAAI6f,EAAK5f,KAAM4f,EAAK7f,IAEjD,OADA4f,GAAc,GACP,KAGJA,EAuGD,CAAqBF,EAAQG,GAE/B,OADAD,GAAc,GACP,KAGJA,GAGLE,EAEJ,WACE,SAASA,EAAKC,EAAIC,EAAIC,EAAIC,GACxB71B,KAAK01B,GAAKA,EACV11B,KAAK21B,GAAKA,EACV31B,KAAK41B,GAAKA,EACV51B,KAAK61B,GAAKA,EAqBZ,OAlBAJ,EAAKzzB,UAAU4yB,QAAU,WACvB,IAAIpB,EAAOnuB,KAAKE,IAAIvF,KAAK01B,GAAI11B,KAAK41B,IAC9BnC,EAAOpuB,KAAKE,IAAIvF,KAAK21B,GAAI31B,KAAK61B,IAC9BrB,EAAOnvB,KAAKC,IAAItF,KAAK01B,GAAI11B,KAAK41B,IAC9BnB,EAAOpvB,KAAKC,IAAItF,KAAK21B,GAAI31B,KAAK61B,IAWlC,MAVU,CACR5T,EAAGuR,EACH5e,EAAG6e,EACHD,KAAMA,EACNC,KAAMA,EACNe,KAAMA,EACNC,KAAMA,EACNliB,MAAOiiB,EAAOhB,EACd1S,OAAQ2T,EAAOhB,IAKZgC,EA1BT,GA8BWK,EAAmB,SAA0BxC,EAAMyC,GAO5D,MANa,CACXC,IAAK,CAAC1C,EAAKE,KAAMF,EAAKG,KAAMH,EAAKkB,KAAMlB,EAAKG,MAC5CwC,KAAM,CAAC3C,EAAKE,KAAMF,EAAKG,KAAMH,EAAKE,KAAMF,EAAKmB,MAC7CyB,OAAQ,CAAC5C,EAAKE,KAAMF,EAAKmB,KAAMnB,EAAKkB,KAAMlB,EAAKmB,MAC/C0B,MAAO,CAAC7C,EAAKkB,KAAMlB,EAAKG,KAAMH,EAAKkB,KAAMlB,EAAKmB,OAElCsB,IAMZK,EAAqB,SAA4BC,EAAIC,GACvD,IAAIC,GAAOD,EAAGV,GAAKU,EAAGZ,KAAOW,EAAGV,GAAKW,EAAGX,KAAOW,EAAGT,GAAKS,EAAGX,KAAOU,EAAGX,GAAKY,EAAGZ,IACxEc,GAAOH,EAAGT,GAAKS,EAAGX,KAAOW,EAAGV,GAAKW,EAAGX,KAAOU,EAAGR,GAAKQ,EAAGV,KAAOU,EAAGX,GAAKY,EAAGZ,IACxEe,GAAMH,EAAGT,GAAKS,EAAGX,KAAOU,EAAGT,GAAKS,EAAGX,KAAOY,EAAGV,GAAKU,EAAGZ,KAAOW,EAAGR,GAAKQ,EAAGV,IAE3E,GAAIc,EAAI,CACN,IAAIvd,EAAKqd,EAAME,EACXC,EAAKF,EAAMC,EAEf,GAAIvd,GAAM,GAAKA,GAAM,GAAKwd,GAAM,GAAKA,GAAM,EACzC,OAAOxd,EAIX,OAAO5O,OAAOqsB,mBAGLC,EAAsB,SAA6BxvB,EAAMouB,GAMlE,IALA,IAAIqB,EAAa,CAAC,MAAO,OAAQ,SAAU,SACvCvD,EAAOlsB,EAAKwtB,UACZkC,EAAqB,EACrBC,EAAgB,GAEX32B,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAIgZ,EAAK0c,EAAiBxC,EAAMuD,EAAWz2B,IACvCs1B,EAAKtc,EAAG,GACRuc,EAAKvc,EAAG,GACRwc,EAAKxc,EAAG,GACRyc,EAAKzc,EAAG,GAEZ2d,EAAc32B,GAAK6vB,EAAiB,CAClChO,EAAGuT,EAAKE,GACR9gB,EAAG4gB,EAAKG,IACP,CACD1T,EAAGuT,EAAKI,GACRhhB,EAAG4gB,EAAKK,IACP,CACD5T,EAAGyT,EACH9gB,EAAG+gB,GACF,CACD1T,EAAG2T,EACHhhB,EAAGihB,IAGDkB,EAAc32B,KAChB02B,GAAsB,GAI1B,MAAO,CAACC,EAAeD,IAEdE,EAAiB,SAAwB5vB,EAAMouB,GAMxD,IALA,IAAIqB,EAAa,CAAC,MAAO,OAAQ,SAAU,SACvCvD,EAAOlsB,EAAKwtB,UACZqC,EAAc3sB,OAAOqsB,kBACrBG,EAAqB,EAEhB12B,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAIgZ,EAAK0c,EAAiBxC,EAAMuD,EAAWz2B,IACvCs1B,EAAKtc,EAAG,GACRuc,EAAKvc,EAAG,GACRwc,EAAKxc,EAAG,GACRyc,EAAKzc,EAAG,GAER8d,EAAed,EAAmBZ,EAAM,IAAIC,EAAKC,EAAIC,EAAIC,EAAIC,KACjEqB,EAAe7xB,KAAKqF,IAAIwsB,EAAe,MAEnB,GAAKA,GAAgB,IACvCJ,GAAsB,EACtBG,EAAcC,EAAeD,EAAcC,EAAeD,GAI9D,OAA2B,IAAvBH,GAAkC,EAC/BG,GAEEE,EAAkB,SAAyBrG,GACpD,IAAIsG,EAAU,EACVC,EAAU,EAEd,GAAIvG,EAAOxuB,OAAS,EAAG,CACrB,IAAK,IAAIg1B,EAAK,EAAGC,EAAWzG,EAAQwG,EAAKC,EAASj1B,OAAQg1B,IAAM,CAC9D,IAAIzG,EAAQ0G,EAASD,GACrBF,GAAWvG,EAAM5O,EACjBoV,GAAWxG,EAAMjc,EAGnBwiB,GAAWtG,EAAOxuB,OAClB+0B,GAAWvG,EAAOxuB,OAGpB,MAAO,CACL2f,EAAGmV,EACHxiB,EAAGyiB,IAGIG,EAAa,SAAoB/yB,EAAGmC,GAC7C,OAAOvB,KAAKkS,IAAI9S,EAAEwd,EAAIrb,EAAEqb,EAAG,GAAK5c,KAAKkS,IAAI9S,EAAEmQ,EAAIhO,EAAEgO,EAAG,IAE3C6iB,EAAsB,SAA6B5G,EAAO2E,GACnE,IAOIkC,EAPAhC,EAAKF,EAAKE,GACVC,EAAKH,EAAKG,GACVC,EAAKJ,EAAKI,GAAKF,EACfG,EAAKL,EAAKK,GAAKF,EACfgC,EAAK9G,EAAM5O,EAAIyT,EACfkC,EAAK/G,EAAMjc,EAAI+gB,EACfkC,EAAUF,EAAK/B,EAAKgC,EAAK/B,EAI3B6B,EADEG,GAAW,IAKbA,GAFAF,EAAK/B,EAAK+B,GAEK/B,GADfgC,EAAK/B,EAAK+B,GACe/B,IAEV,EANH,EASEgC,EAAUA,GAAWjC,EAAKA,EAAKC,EAAKA,GAIpD,IAAIiC,EAAQH,EAAKA,EAAKC,EAAKA,EAAKF,EAMhC,OAJII,EAAQ,IACVA,EAAQ,GAGHA,GAEEC,EAAkB,SAAyB5H,EAAIC,EAAIroB,GAK5D,YAJU,IAANA,IACFA,EAAI,MAGC1C,KAAKkS,IAAI4Y,EAAGlO,EAAImO,EAAGnO,EAAG,GAAK5c,KAAKkS,IAAI4Y,EAAGvb,EAAIwb,EAAGxb,EAAG,GAAKvP,KAAKkS,IAAIxP,EAAG,IAQhEiwB,EAAsB,SAA6BnH,EAAOD,GACnE,IAAIqH,EAASpH,EAAM5O,EAAI2O,EAAK3O,EACxBiW,EAAUrH,EAAM5O,EAAI2O,EAAK3O,EAAI2O,EAAKre,MAClC4lB,EAAQtH,EAAMjc,EAAIgc,EAAKhc,EAAIgc,EAAK9P,OAChCsX,EAAWvH,EAAMjc,EAAIgc,EAAKhc,EAG9B,KAFqBqjB,GAAUC,GAAWC,GAASC,GAGjD,OAAO,EAGT,GAAID,IAAUF,IAAWC,EACvB,OAAO7yB,KAAKkS,IAAIqZ,EAAKhc,EAAIgc,EAAK9P,OAAS+P,EAAMjc,EAAG,GAGlD,GAAIwjB,IAAaH,IAAWC,EAC1B,OAAO7yB,KAAKkS,IAAIsZ,EAAMjc,EAAIgc,EAAKhc,EAAG,GAGpC,GAAIqjB,IAAWE,IAAUC,EACvB,OAAO/yB,KAAKkS,IAAIqZ,EAAK3O,EAAI4O,EAAM5O,EAAG,GAGpC,GAAIiW,IAAYC,IAAUC,EACxB,OAAO/yB,KAAKkS,IAAIqZ,EAAK3O,EAAI2O,EAAKre,MAAQse,EAAM5O,EAAG,GAGjD,IAAImP,EAAK/rB,KAAKE,IAAIF,KAAKqF,IAAIkmB,EAAK3O,EAAI4O,EAAM5O,GAAI5c,KAAKqF,IAAIkmB,EAAK3O,EAAI2O,EAAKre,MAAQse,EAAM5O,IAC/EoP,EAAKhsB,KAAKE,IAAIF,KAAKqF,IAAIkmB,EAAKhc,EAAIic,EAAMjc,GAAIvP,KAAKqF,IAAIkmB,EAAKhc,EAAIgc,EAAK9P,OAAS+P,EAAMjc,IACpF,OAAOwc,EAAKA,EAAKC,EAAKA,GASb,EAAoB,SAA2BmE,EAAM3E,GAC9D,IAAI6E,EAAKF,EAAK,GACVG,EAAKH,EAAK,GACVI,EAAKJ,EAAK,GACVK,EAAKL,EAAK,GACVvT,EAAI4O,EAAM5O,EACVrN,EAAIic,EAAMjc,EACVlU,EAAI,CAACk1B,EAAKF,EAAIG,EAAKF,GAEvB,GAAI,IAAK0C,YAAY33B,EAAG,CAAC,EAAG,IAC1B,OAAO43B,IAGT,IAAI7gB,EAAI,EAAE/W,EAAE,GAAIA,EAAE,IAElB,IAAK63B,UAAU9gB,EAAGA,GAClB,IAAIhT,EAAI,CAACwd,EAAIyT,EAAI9gB,EAAI+gB,GAErB,OAAOtwB,KAAKqF,IAAI,IAAK8tB,IAAI/zB,EAAGgT,KCn2B1BghB,EAAe,oBAKfC,EAAY,qBAQZnb,EAVa,qBAUbA,GANiB,qBAMjBA,GANiB,qBAyCN,IACbvF,QAAS,QACTwF,uBAAwB,iBACxBG,uBAAwB,iBACxBC,uBAAwB,iBACxBC,wBAAyB,kBACzBC,2BAA4B,qBAC5BC,oBAAqB,MACrBC,UAAW,CACTC,MAAO,CACLC,KAAM,OACN9L,SAAU,GACV+L,UAAW,SACXC,aAAc,UAEhBC,OAAQ,GAGVC,YAAa,CACXnb,KAAM,SACN8a,MAAO,CACLM,UAAW,EACXC,OAvDQia,EAwDRva,KAnEa,sBAqEfhO,KAAM,GACN9G,MA3DUqvB,EA4DV9Z,WAAY,CACVzO,KAAM,EACNqO,UAAW,EACXL,KAAMX,EACNiB,OA9DUia,IAkEd3Z,gBAAiB,CACfC,OAAQ,CACNb,KAAMX,EACNiB,OArEUia,EAsEVla,UAAW,EACXS,YAzEQyZ,EA0ERxZ,WAAY,IAEdC,SAAU,CACRhB,KA3FU,qBA4FVM,OAxEYia,EAyEZla,UAAW,EACXS,YA1EYyZ,EA2EZxZ,WAAY,GACZ,aAAc,CACZnN,WAAY,MAGhBuN,UAAW,CACTnB,KA1Fc,qBA2FdM,OA5FgB,UA6FhBD,UAAW,EACX,aAAc,CACZzM,WAAY,MAGhB0N,SAAU,CACRtB,KA3GW,qBA4GXM,OArGe,qBAsGfD,UAAW,GAEboB,QAAS,CACPzB,KA7Ga,qBA8GbM,OA7Ge,qBA8GfD,UAAW,IAGfuB,UAAW,CACT7B,MAAO,CACLC,KAxHU,eAyHVC,UAAW,SACXC,aAAc,SACdhM,SAAU,KAGd2N,YAAa,CACX5c,KAAM,OACN+M,KAAM,EACN+N,MAAO,CACLO,OAAQjB,GACR0C,gBAAiB,GAEnB7W,MAAOmU,IAGT2C,gBAAiB,CACfnB,OAAQ,CACNP,OA/Gcia,EAgHdla,UAAW,GAEbW,SAAU,CACRV,OAjHgBia,EAkHhBla,UAAW,EACXS,YAnHgByZ,EAoHhBxZ,WAAY,GACZ,aAAc,CACZnN,WAAY,MAGhBuN,UAAW,CACTb,OAzHiBia,EA0HjBla,UAAW,EACX,aAAc,CACZzM,WAAY,MAGhB0N,SAAU,CACRhB,OAxJmB,qBAyJnBD,UAAW,GAEboB,QAAS,CACPnB,OA3JmB,qBA4JnBD,UAAW,IAGfiC,WAAY,CACVvC,MAAO,CACLC,KAxKU,eA0KVE,aAAc,SACdhM,SAAU,IAEZqO,KAAM,GACNC,KAAM,IAGRC,aAAc,CACZxd,KAAM,SACN8a,MAAO,CACLC,KAlJWwa,EAmJXna,UAAW,EACXC,OAAQjB,GACRrc,EAAG,EACHqR,MAAO,GACPuO,OAAQ,IAEV5Q,KAAM,CAAC,GAAI,GACX9G,MAAOmU,GACPwD,QAAS,CAAC,GAAI,GAAI,GAAI,KAGxBC,iBAAkB,CAChBjC,OAAQ,CACNP,OA/Jeia,EAgKfla,UAAW,EACXL,KAnMW,sBAqMbgB,SAAU,CACRV,OAhKiBia,EAiKjBla,UAAW,EACXL,KAjKewa,EAkKf1Z,YAnKiByZ,EAoKjBxZ,WAAY,GACZ,aAAc,CACZnN,WAAY,MAGhBuN,UAAW,CACTb,OAxMgB,UAyMhBD,UAAW,EACXL,KAzKgBwa,EA0KhB,aAAc,CACZ5mB,WAAY,MAGhB0N,SAAU,CACRhB,OApNe,qBAqNfN,KApLewa,EAqLfna,UAAW,GAEboB,QAAS,CACPnB,OAxNmB,qBAyNnBN,KA3Na,qBA4NbK,UAAW,IAGfoD,cAAe,CACbzD,KAAM,UACN0D,YAAa,GACbpD,OAAQ,UACRqD,cAAe,GACfC,SAAU,CAAC,EAAG,KC1OH,IACb,IAAK,kBACLrd,EAAG,kBACHk0B,EAAG,kBACH/xB,EAAG,gBACHgyB,EAAG,kBACHn4B,EAAG,kBACHo4B,EAAG,kBACHn4B,EAAG,gBACHo4B,EAAG,iBACH/wB,EAAG,iBACHuoB,EAAG,gBACH7iB,EAAG,mBACHsrB,EAAG,kBACHlkB,EAAG,kBACHmkB,EAAG,kBACHxhB,EAAG,iBACHyhB,EAAG,kBACH74B,EAAG,iBACH84B,EAAG,gBACHvxB,EAAG,mBACHwxB,EAAG,kBACHx1B,EAAG,kBACHy1B,EAAG,kBACH/4B,EAAG,mBACHg5B,EAAG,kBACH74B,EAAG,iBACH84B,EAAG,kBACHz3B,EAAG,kBACH03B,EAAG,kBACH14B,EAAG,gBACH24B,EAAG,kBACHt3B,EAAG,gBACH6R,EAAG,kBACHigB,EAAG,gBACHyF,EAAG,kBACHv4B,EAAG,kBACHw4B,EAAG,kBACHv3B,EAAG,iBACHw3B,EAAG,kBACHr4B,EAAG,iBACHs4B,EAAG,kBACHniB,EAAG,kBACHoiB,EAAG,kBACHn0B,EAAG,mBACHo0B,EAAG,kBACHC,EAAG,iBACHC,EAAG,iBACH/X,EAAG,kBACHgY,EAAG,gBACHrlB,EAAG,kBACHslB,EAAG,gBACHC,EAAG,gBACHC,EAAG,eACH,EAAK,GACL,EAAK,mBACL,EAAK,GACL,EAAK,GACL,EAAK,GACL,EAAK,GACL,EAAK,GACL,EAAK,kBACL,EAAK,GACL,EAAK,GACL,IAAK,kBACL,IAAK,kBACL,IAAK,mBACL,IAAK,mBACL,IAAK,mBACL,IAAK,mBACL,IAAK,kBACL,IAAK,kBACL,KAAM,GACN,IAAK,mBACL,IAAK,iBACL,IAAK,iBACL,IAAK,iBACLtlB,EAAG,GACH,IAAK,kBACL,KAAM,kBACN,IAAK,kBACL,IAAK,kBACL,IAAK,GACLulB,EAAG,GACH,IAAK,kBACL,IAAK,iBACL,IAAK,kBACL,IAAK,iBACL,IAAK,kBACL,IAAK,kBACL,IAAK,iBACL,IAAK,iBACL,IAAK,GACL,IAAK,iBCvFHnvB,GAAK7F,KAAK6F,GACV4M,GAAMzS,KAAKyS,IACXD,GAAMxS,KAAKwS,IAEXyiB,GAAgBxiB,GAAI5M,GAAK,GACzBqvB,GAAgB1iB,GAAI3M,GAAK,GAClB,GAAU,SAAiBsvB,EAAStH,GAC7C,IAAII,EAAOkH,EAAQ5F,UACf6F,EAAU,CACZxY,EAAGqR,EAAKE,KACR5e,EAAG0e,EAAKG,MAENiH,EAAc,CAChBzY,EAAGqR,EAAKkB,KACR5f,EAAG0e,EAAKmB,MAGV,GAAIvB,EAAO,CACT,IAAInB,EAASmB,EAAMG,YAEdtB,IACHA,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGpC0I,EAAU,EAAYA,EAAS1I,GAC/B2I,EAAc,EAAYA,EAAa3I,GAGzC,IAAI4I,EAAKF,EAAQxY,EACb2Y,EAAKH,EAAQ7lB,EACbid,EAAK6I,EAAYzY,EACjB6P,EAAK4I,EAAY9lB,EACrB,MAAO,CACLqN,EAAG0Y,EACH/lB,EAAGgmB,EACHpH,KAAMmH,EACNlH,KAAMmH,EACNpG,KAAM3C,EACN4C,KAAM3C,EACNvf,MAAOsf,EAAK8I,EACZ7Z,OAAQgR,EAAK8I,IAQN,GAAc,SAAqBxd,GAC5C,IAAIhW,EAAOgW,EAAIyd,YAAczd,EAAI0d,WAE7BC,EADY3zB,EAAKnG,IAAI,SACOoyB,YAC3B0H,IAAiBA,EAAkB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACjE,IACIzH,EADWlsB,EAAK4zB,cACApG,UAChBqG,EAAU7d,EAAI6d,SAAW,GAEzB/sB,EAAO+sB,EAAQ/sB,MAA4C,EAApC7I,KAAKC,IAAIguB,EAAK/gB,MAAO+gB,EAAKxS,QAEjDoa,EAAWD,EAAQC,UAAY,GAAOnd,oBAEtCgT,EAAS,CAACgK,EAAgB,GAAIA,EAAgB,IAC9CI,EAAa,CAAC/d,EAAI+d,WAAWlZ,EAAG7E,EAAI+d,WAAWvmB,GAC/CwmB,EAAW,CAAChe,EAAIge,SAASnZ,EAAG7E,EAAIge,SAASxmB,GACzCymB,EAAS/H,EAAKxS,OAAS,EACvBwa,EAAOhI,EAAKxS,OAAS,EACrBya,EAAgBF,EAASf,GACzBkB,EAAgBH,EAASd,GACzBkB,EAAcH,EAAOhB,GACrBoB,EAAcJ,EAAOf,GAEzB,GAAIY,EAAW,KAAOC,EAAS,IAAMD,EAAW,KAAOC,EAAS,GAAI,CAClE,OAAQF,GACN,IAAK,MACHC,EAAa,CAACpK,EAAO,GAAKwK,EAAexK,EAAO,GAAKyK,GACrDJ,EAAW,CAACrK,EAAO,GAAK0K,EAAa1K,EAAO,GAAK2K,GACjD,MAEF,IAAK,YACHL,EAAS/H,EAAKxS,OAAS,EACvBwa,EAAOhI,EAAK/gB,MAAQ,EAKpB4oB,EAAa,CAACpK,EAAO,IAJrBwK,EAAgBF,EAASf,IAIgBvJ,EAAO,IAHhDyK,EAAgBH,EAASd,KAIzBa,EAAW,CAACrK,EAAO,IAFnB2K,EAAcJ,EAAOf,IAEgBxJ,EAAO,IAH5C0K,EAAcH,EAAOhB,KAIrB,MAEF,IAAK,QACHe,EAAS/H,EAAK/gB,MAAQ,EACtB+oB,EAAOhI,EAAK/gB,MAAQ,EAKpB4oB,EAAa,CAACpK,EAAO,IAHrByK,EAAgBH,EAASd,IAGgBxJ,EAAO,IAJhDwK,EAAgBF,EAASf,KAKzBc,EAAW,CAACrK,EAAO,IAFnB2K,EAAcJ,EAAOf,IAEgBxJ,EAAO,IAH5C0K,EAAcH,EAAOhB,KAIrB,MAEF,IAAK,eACHe,EAAS/H,EAAK/gB,MAAQ,EACtB+oB,EAAOhI,EAAKxS,OAAS,EAKrBqa,EAAa,CAACpK,EAAO,IAHrByK,EAAgBH,EAASd,IAGgBxJ,EAAO,IAJhDwK,EAAgBF,EAASf,KAKzBc,EAAW,CAACrK,EAAO,IAHnB0K,EAAcH,EAAOhB,IAGgBvJ,EAAO,IAF5C2K,EAAcJ,EAAOf,KAGrB,MAEF,IAAK,SACHc,EAAS/H,EAAKxS,OAAS,EACvBwa,EAAOhI,EAAKxS,OAAS,EAKrBqa,EAAa,CAACpK,EAAO,IAJrBwK,EAAgBF,EAASf,IAIgBvJ,EAAO,IAHhDyK,EAAgBH,EAASd,KAIzBa,EAAW,CAACrK,EAAO,IAHnB0K,EAAcH,EAAOhB,IAGgBvJ,EAAO,IAF5C2K,EAAcJ,EAAOf,KAGrB,MAEF,IAAK,cACHc,EAAS/H,EAAKxS,OAAS,EACvBwa,EAAOhI,EAAK/gB,MAAQ,EAKpB4oB,EAAa,CAACpK,EAAO,IAJrBwK,EAAgBF,EAASf,IAIgBvJ,EAAO,IAHhDyK,EAAgBH,EAASd,KAIzBa,EAAW,CAACrK,EAAO,IAFnB2K,EAAcJ,EAAOf,IAEgBxJ,EAAO,IAH5C0K,EAAcH,EAAOhB,KAIrB,MAEF,IAAK,OACHe,EAAS/H,EAAK/gB,MAAQ,EACtB+oB,EAAOhI,EAAK/gB,MAAQ,EAKpB4oB,EAAa,CAACpK,EAAO,IAHrByK,EAAgBH,EAASd,IAGgBxJ,EAAO,IAJhDwK,EAAgBF,EAASf,KAKzBc,EAAW,CAACrK,EAAO,IAFnB2K,EAAcJ,EAAOf,IAEgBxJ,EAAO,IAH5C0K,EAAcH,EAAOhB,KAIrB,MAEF,IAAK,WACHe,EAAS/H,EAAK/gB,MAAQ,EACtB+oB,EAAOhI,EAAKxS,OAAS,EAKrBqa,EAAa,CAACpK,EAAO,IAHrByK,EAAgBH,EAASd,IAGgBxJ,EAAO,IAJhDwK,EAAgBF,EAASf,KAKzBc,EAAW,CAACrK,EAAO,IAHnB0K,EAAcH,EAAOhB,IAGgBvJ,EAAO,IAF5C2K,EAAcJ,EAAOf,KAGrB,MAEF,QACEc,EAAS/H,EAAK/gB,MAAQ,EACtB+oB,EAAOhI,EAAK/gB,MAAQ,EAKpB4oB,EAAa,CAACpK,EAAO,IAJrBwK,EAAgBF,EAASf,IAIgBvJ,EAAO,IAHhDyK,EAAgBH,EAASd,KAIzBa,EAAW,CAACrK,EAAO,IAHnB0K,EAAcH,EAAOhB,IAGgBvJ,EAAO,IAF5C2K,EAAcJ,EAAOf,KAMzB,IAA0B,IAAtBU,EAAQU,UAAqB,CAC/B,IAAIC,EAAO,CAACT,EAAW,GAAIA,EAAW,IACtCA,EAAa,CAACC,EAAS,GAAIA,EAAS,IACpCA,EAAW,CAACQ,EAAK,GAAIA,EAAK,KAI9B,IAAIC,EAAW,CAACV,EAAW,GAAKpK,EAAO,GAAIoK,EAAW,GAAKpK,EAAO,IAC9D+K,GAAkBT,EAASntB,GAAQmtB,EACnCU,GAAgBT,EAAOptB,GAAQotB,GAET,IAAtBL,EAAQU,YACVG,GAAkBR,EAAOptB,GAAQotB,EACjCS,GAAgBV,EAASntB,GAAQmtB,GAGnC,IAAIW,EAAiB,IAAKC,MAAM,CAAC,EAAG,GAAIJ,EAAUC,GAC9CI,EAAgB,CAACnL,EAAO,GAAKiL,EAAe,GAAIjL,EAAO,GAAKiL,EAAe,IAC3EG,EAAS,CAACf,EAAS,GAAKrK,EAAO,GAAIqK,EAAS,GAAKrK,EAAO,IACxDqL,EAAe,IAAKH,MAAM,CAAC,EAAG,GAAIE,EAAQJ,GAC1CM,EAAgB,CAACtL,EAAO,GAAKqL,EAAa,GAAIrL,EAAO,GAAKqL,EAAa,IAgB3E,OAfAhf,EAAI+d,WAAa,CACflZ,EAAGkZ,EAAW,GACdvmB,EAAGumB,EAAW,IAEhB/d,EAAIge,SAAW,CACbnZ,EAAGmZ,EAAS,GACZxmB,EAAGwmB,EAAS,IAEdhe,EAAIkf,cAAgB,CAAC,CACnBra,EAAGia,EAAc,GACjBtnB,EAAGsnB,EAAc,IAChB,CACDja,EAAGoa,EAAc,GACjBznB,EAAGynB,EAAc,KAEZjf,GAYE,GAAmB,SAA0Bmf,EAAWxZ,EAASrC,EAAMD,EAAM0B,GACtF,IACI8P,EAAS,GACTpB,EAAQ0L,EAAUC,SAASzZ,GAE/B,GAAc,OAAV8N,EACF,MAAO,CACL5O,EAAG,EACHrN,EAAG,EACH6c,MAAO,GAKX,GAAI1O,EAba,KAcfkP,EAASsK,EAAUE,kBAAkBC,eAChC,GAAI3Z,EAAU,MACnBkP,EAASsK,EAAUI,oBACd,CAEL,IAAIC,EAAcL,EAAUC,SAASzZ,EAnBtB,MAoBfkP,EAAOnvB,KAAK,CAAC+tB,EAAM5O,EAAG4O,EAAMjc,IAC5Bqd,EAAOnvB,KAAK,CAAC85B,EAAY3a,EAAG2a,EAAYhoB,IAG1C,IAAIioB,EAAMx3B,KAAKsS,MAAMsa,EAAO,GAAG,GAAKA,EAAO,GAAG,GAAIA,EAAO,GAAG,GAAKA,EAAO,GAAG,IAW3E,GATI4K,EAAM,IACRA,GAAY,EAAL3xB,IAGLwV,IACFmQ,EAAM5O,GAAKpK,GAAIglB,GAAOnc,EACtBmQ,EAAMjc,GAAKkD,GAAI+kB,GAAOnc,GAGpBD,EAAM,CAER,IAAIqc,EAASD,EAAM3xB,GAAK,EAEpB2xB,EAAM,GAAQ3xB,IAAM2xB,EAAM,IAAY3xB,KACxC4xB,GAAU5xB,IAGZ2lB,EAAM5O,GAAKpK,GAAIilB,GAAUrc,EACzBoQ,EAAMjc,GAAKkD,GAAIglB,GAAUrc,EAG3B,IAAI7d,EAAS,CACXqf,EAAG4O,EAAM5O,EACTrN,EAAGic,EAAMjc,EACT6c,MAAOoL,GAGT,OAAI1a,GACE0a,EAAM,GAAQ3xB,IAAM2xB,EAAM,IAAY3xB,KACxC2xB,GAAO3xB,IAGF,YAAS,CACdiX,OAAQ0a,GACPj6B,IAGEA,GAOLm6B,GAAW,SAASA,EAASl4B,EAAMyB,GACrC,IAAiB,IAAbA,EAAGzB,GACL,OAAO,EAGT,GAAIA,GAAQA,EAAKwpB,SACf,IAAK,IAAIjuB,EAAIyE,EAAKwpB,SAAS/rB,OAAS,EAAGlC,GAAK,EAAGA,IAC7C,IAAK28B,EAASl4B,EAAKwpB,SAASjuB,GAAIkG,GAAK,OAAO,EAIhD,OAAO,GA2BE02B,GAAe,SAAsBn4B,EAAMyB,GAClC,mBAAPA,GAIXy2B,GAASl4B,EAAMyB,IAONqnB,GAAiB,SAAwB9oB,EAAMyB,GACtC,mBAAPA,GAhCI,SAASgoB,EAAWzpB,EAAMyB,GACzC,GAAIzB,GAAQA,EAAKwpB,SACf,IAAK,IAAIjuB,EAAIyE,EAAKwpB,SAAS/rB,OAAS,EAAGlC,GAAK,EAAGA,IAC7C,IAAKkuB,EAAWzpB,EAAKwpB,SAASjuB,GAAIkG,GAAK,OAI3C,OAAiB,IAAbA,EAAGzB,GA6BPypB,CAAWzpB,EAAMyB,IASR,GAAiB,SAAwB22B,EAAQ7qB,GAC1D,OAAOA,GAAY8qB,GAAkBD,IAAW,IASvCE,GAAc,SAAqBxrB,EAAMS,GAClD,IAAIG,EAAQ,EACR6qB,EAAU,IAAIC,OAAO,UASzB,OARA1rB,EAAKnJ,MAAM,IAAIiI,SAAQ,SAAUwsB,GAC3BG,EAAQE,KAAKL,GAEf1qB,GAASH,EAETG,GAAS,GAAe0qB,EAAQ7qB,MAG7B,CAACG,EAAOH,IASN,GAAqB,SAA4BxJ,EAAOslB,GACjE,IAAItrB,EAAS,GACT26B,EAAW,GACXC,EAAW,GACf50B,EAAM6H,SAAQ,SAAU/P,GACtB88B,EAAS98B,EAAE0tB,IAAM1tB,KAEnBkI,EAAM6H,SAAQ,SAAU/P,EAAGN,GACzB,IAAIq9B,EAAK,gBAAM/8B,GACf+8B,EAAGC,SAAW,QACdD,EAAGpP,cAAWpiB,EAEVwxB,EAAGE,WAAaF,EAAGrP,IACrB9T,QAAQC,KAAK,0BAA0BvV,OAAOy4B,EAAGrP,GAAI,kDAC9CqP,EAAGE,UACDF,EAAGE,WAAaH,EAASC,EAAGE,YACrCrjB,QAAQC,KAAK,8BAA8BvV,OAAOy4B,EAAGrP,GAAI,4BAClDqP,EAAGE,UAGZ,IAAIC,EAAYL,EAASE,EAAGrP,IAE5B,GAAIwP,EAAJ,CAKE,GAJAH,EAAGpP,SAAWuP,EAAUvP,SACxBkP,EAASE,EAAGrP,IAAMqP,IAClBG,EAAYH,GAEGE,SAEb,YADA/6B,EAAOE,KAAK86B,GAId,IAAIC,EAAeN,EAASK,EAAUD,UAEtC,GAAIE,EACEA,EAAaxP,SAAUwP,EAAaxP,SAASvrB,KAAK26B,GAASI,EAAaxP,SAAW,CAACoP,OACnF,CACL,IAAIK,EAAW,CACb1P,GAAIwP,EAAUD,SACdtP,SAAU,CAACuP,IAEbL,EAASK,EAAUD,UAAYG,EAC/BP,EAASE,EAAGrP,IAAMqP,QAMtB,GAAI,mBAAS/8B,EAAEi9B,UAAW,CACxB,IAAII,EAAWR,EAAS78B,EAAEi9B,UAE1B,GAAII,EACEA,EAAS1P,SAAU0P,EAAS1P,SAASvrB,KAAK26B,GAASM,EAAS1P,SAAW,CAACoP,GAC5EF,EAASE,EAAGrP,IAAMqP,MACb,CACL,IAAIO,EAAK,CACP5P,GAAI1tB,EAAEi9B,SACNtP,SAAU,CAACoP,IAEbF,EAASS,EAAG5P,IAAM4P,EAClBT,EAASE,EAAGrP,IAAMqP,QAGpB76B,EAAOE,KAAK26B,GACZF,EAASE,EAAGrP,IAAMqP,KAItB,IAAI5K,EAAU,IACb3E,GAAS,IAAIzd,SAAQ,SAAUqiB,GAC9BD,EAAQC,EAAK1E,IAAM0E,EACnB,IAAImL,EAAQV,EAASzK,EAAKoL,SAE1B,GAAID,EAAO,CACT,IAAIE,EAAQ,CACV/P,GAAI0E,EAAK1E,GACT8P,QAASpL,EAAKoL,SAEZD,EAAM5P,SAAU4P,EAAM5P,SAASvrB,KAAKq7B,GAAYF,EAAM5P,SAAW,CAAC8P,GACtEA,EAAMT,SAAW,OACjBH,EAASzK,EAAK1E,IAAM+P,MAIxB,IAAIC,EAAW,EA6Bf,OA5BAx7B,EAAO6N,SAAQ,SAAU4tB,GACvBA,EAAKC,MAAQF,EAAW,GACxBrB,GAASsB,GAAM,SAAUE,GACvB,IAAIvR,EACA0Q,EAAWH,EAASgB,EAAMnQ,IAAIsP,SAGhC1Q,EADe,SAAb0Q,EACOH,EAASgB,EAAML,SAEfX,EAASgB,EAAMZ,UAICY,EAAMD,MAD7BtR,GACe,SAAb0Q,EAAmCU,EAAW,EAEpCA,EAAW,GAGvBA,EAAWG,EAAMD,QAAOF,EAAWG,EAAMD,OAC7C,IAAIE,EAAe3L,EAAQ0L,EAAMnQ,IAMjC,OAJIoQ,IACFA,EAAaF,MAAQC,EAAMD,QAGtB,QAGJ17B,GAEE67B,GAAkB,SAAyBC,EAAOC,EAAWC,GACtE,IACIC,EADAC,EAAWJ,EAEXK,EAAiB,CACnBr/B,KAAM,CACJ2uB,SAAUqQ,IAGVM,GAAe,EACfC,EAAc,QACjBP,GAAS,IAAIjuB,SAAQ,SAAU4tB,GAC9B,IAAIW,EAEJ,OAAIX,EAAKjQ,KAAOuQ,GACdE,EAAUR,EAEY,UAAlBA,EAAKX,SACPmB,EAAQlB,SAAWiB,EAEnBC,EAAQX,QAAUU,OAGpBI,GAAe,SAIjBhC,GAAaqB,GAAM,SAAUE,GAO3B,OANAQ,EAAeR,EAAMnQ,IAAM,CACzBC,SAAUkQ,EAAMlQ,UAGlByQ,EAAWC,EAAeR,EAAMZ,UAAYY,EAAML,SAAW,QAAQ7P,UAEjEkQ,IAAUA,EAAMW,SAAWP,IAAcJ,EAAMnQ,KAAO0Q,IACxDG,EAAcV,EAAMZ,UAAYY,EAAML,SAAW,OACjDW,EAAUN,EAEa,UAAnBA,EAAMb,SACRmB,EAAQlB,SAAWiB,EAEnBC,EAAQX,QAAUU,EAGpBI,GAAe,GACR,SAOb,IAAIn8B,GADJi8B,EAAWC,EAAeE,GAAa5Q,UAChByQ,EAASr8B,QAAQo8B,IAAY,EAepD,GAdIh8B,GAAS,GAAGi8B,EAAS94B,OAAOnD,EAAO,GAElCm8B,IACHH,EAAU,CACRzQ,GAAIuQ,EACJjB,SAAU,OACVQ,QAASU,GAEXG,EAAeJ,GAAa,CAC1BtQ,cAAUpiB,IAKV0yB,EAAW,CACb,IAAIQ,GAAU,EAEd,GAAIP,EAAa,CACf,IAAIQ,EAAmB,GACtBV,GAAS,IAAIjuB,SAAQ,SAAU4tB,GAC1Bc,GAEJnC,GAAaqB,GAAM,SAAUE,GAE3B,OAAIK,IAAgBL,EAAMnQ,KACxB+Q,GAAU,EACNZ,EAAMlQ,SAAUkQ,EAAMlQ,SAASvrB,KAAK+7B,GAAcN,EAAMlQ,SAAW,CAACwQ,GACxEO,EAAmBb,EAAMD,MACA,SAArBO,EAAQnB,SAAqBmB,EAAQP,MAAQc,EAAmB,EAAOP,EAAQP,MAAQc,EAAmB,GACvG,cAMFR,GAAgBO,GAAiC,SAArBN,EAAQnB,UAE/CgB,EAAM57B,KAAK+7B,GAIb,IAAIQ,EAAiBR,EAAQP,MAC7BtB,GAAa6B,GAAS,SAAUN,GAG9B,MAFuB,SAAnBA,EAAMb,SAAqB2B,GAAkB,EAAOA,GAAkB,EAC1Ed,EAAMD,MAAQe,GACP,KAIX,OAAOX,GAEEY,GAAe,SAAsBjR,EAAUU,GACxD,IAAIwQ,EAAY,CACd/L,KAAM1oB,IACN2oB,KAAM3oB,IACN0pB,MAAO1pB,IACP2pB,MAAO3pB,IACPmX,OAAGhW,EACH2I,OAAG3I,EACHsG,WAAOtG,EACP6U,YAAQ7U,EACRmrB,aAASnrB,EACTorB,aAASprB,GAGX,OAAKoiB,GAAgC,IAApBA,EAAS/rB,QAI1B+rB,EAAS5d,SAAQ,SAAU8tB,GACzB,IAAIiB,EAAYzQ,EAAM0Q,SAASlB,EAAMnQ,IACrC,GAAKoR,GAAcA,EAAUE,YAA7B,CAEAF,EAAUl4B,IAAI,uBAAmB2E,GACjC,IAAI0zB,EAAYH,EAAUjM,gBACtBoM,EAAU1d,GAAKsd,EAAU/L,KAAOmM,EAAUnM,OAAM+L,EAAU/L,KAAOmM,EAAUnM,MAC3EmM,EAAU/qB,GAAK2qB,EAAU9L,KAAOkM,EAAUlM,OAAM8L,EAAU9L,KAAOkM,EAAUlM,MAC3EkM,EAAU1d,GAAKsd,EAAU/K,KAAOmL,EAAUnL,OAAM+K,EAAU/K,KAAOmL,EAAUnL,MAC3EmL,EAAU/qB,GAAK2qB,EAAU9K,KAAOkL,EAAUlL,OAAM8K,EAAU9K,KAAOkL,EAAUlL,UAEjF8K,EAAUtd,GAAKsd,EAAU/L,KAAO+L,EAAU/K,MAAQ,EAClD+K,EAAU3qB,GAAK2qB,EAAU9L,KAAO8L,EAAU9K,MAAQ,EAClD8K,EAAUhtB,MAAQgtB,EAAU/K,KAAO+K,EAAU/L,KAC7C+L,EAAUze,OAASye,EAAU9K,KAAO8K,EAAU9L,KAC9C8L,EAAUnI,SAAWmI,EAAU/L,KAAO+L,EAAU/K,MAAQ,EACxD+K,EAAUlI,SAAWkI,EAAU9L,KAAO8L,EAAU9K,MAAQ,EACxD3zB,OAAO8C,KAAK27B,GAAW9uB,SAAQ,SAAU9O,GACnC49B,EAAU59B,KAASmJ,KAAYy0B,EAAU59B,MAAUmJ,MACrDy0B,EAAU59B,QAAOsK,MAGdszB,GAzBEA,GA2BA,GAAoB,SAA2BniB,GACxD,IAAIwiB,EAAc,mBAASxiB,EAAI6E,IAAM,mBAAS7E,EAAIxI,IAAMwI,EAAIja,MAAQia,EAAIyiB,cAAgBziB,EAAIlN,KAE5F,OADIkN,EAAIa,QAAO2hB,EAAcA,GAAe,mBAASxiB,EAAIa,MAAM/c,IAAM,mBAASkc,EAAIa,MAAM1L,QAAU,mBAAS6K,EAAIa,MAAM6C,SAAW,mBAAS1D,EAAIa,MAAM4T,KAAO,mBAASzU,EAAIa,MAAM6T,KACtK8N,GAEE,GAAkB,SAAyB/7B,GACpD,IAAIi8B,EAAY,GAgBhB,OAfAh/B,OAAO8C,KAAKC,GAAK4M,SAAQ,SAAUsvB,GACjC,IAAIC,EAAOn8B,EAAIk8B,GAEf,GAAI,mBAASC,GAAO,CAClB,IAAIC,EAAe,GACnBn/B,OAAO8C,KAAKo8B,GAAMvvB,SAAQ,SAAUyvB,GAClC,IAAIx6B,EAAIs6B,EAAKE,IACA,QAATA,GAAmB,mBAASx6B,MAChCu6B,EAAaC,GAAQ,gBAAMx6B,OAE7Bo6B,EAAUC,GAAQE,OAElBH,EAAUC,GAAQ,gBAAMC,MAGrBF,GChpBE,GAAiB,SAAwBj7B,GAElD,IAAKA,EAEH,OADAyV,QAAQ6lB,MAAM,4CACP,EAIT,IAAIjS,EAAQrpB,EAAKqpB,MACbC,EAAQtpB,EAAKspB,MACb/U,EAAKvU,EAAKu7B,OACVA,OAAgB,IAAPhnB,EAAgB,GAAKA,EAElC,IAAK8U,IAAUC,EAAO,CACpB,IAAIkS,GAAc,EAUlB,OARArD,GAAan4B,GAAM,SAAUy7B,GAC3B,QAAK,mBAASA,EAAMlS,MAClBiS,GAAc,GACP,MAKJA,EAGT,IAAIE,GAAWrS,GAAS,IAAI5pB,MAAK,SAAUwuB,GACzC,OAAQ,mBAASA,EAAK1E,OAGxB,GAAImS,EAEF,OADAjmB,QAAQC,KAAK,gDAAgDvV,OAAOu7B,EAAQnS,GAAI,uBAAwB,+BAAgC,KACjI,EAIT,IAAIoS,GAAWtS,GAAS,IAAI3d,KAAI,SAAUuiB,GACxC,OAAOA,EAAK1E,MAEVqS,EAAWL,EAAO7vB,KAAI,SAAU0tB,GAClC,OAAOA,EAAM7P,MAGXsS,EAAM,YAAc,YAAc,GAAIF,GAAS,GAAOC,GAAU,GAEhEE,GAAYxS,GAAS,IAAI7pB,MAAK,SAAUs8B,GAC1C,OAAQF,EAAI5vB,SAAS8vB,EAAK5S,UAAY0S,EAAI5vB,SAAS8vB,EAAK3S,WAG1D,OAAI0S,IACFrmB,QAAQC,KAAK,iCAAiCvV,OAAO27B,EAAS3S,OAAQ,uBAAuBhpB,OAAO27B,EAAS1S,OAAQ,uDAAwD,+BAAgC,GAAI,+BAAgC,KAC1O,IC0LI,GArPf,WACE,SAAS4S,EAAe9R,GACtB/uB,KAAK+uB,MAAQA,EACb/uB,KAAK8gC,WAAY,EACjB9gC,KAAK+gC,MAAQhS,EAAM9tB,IAAI,UAAY,CACjC+/B,QAAS,IAEXhhC,KAAKihC,cACLjhC,KAAKuB,KAAOwtB,EAAM9tB,IAAI,gBAAkB,UACxCjB,KAAKkhC,eAAiB,GACtBlhC,KAAKmhC,QAAQnhC,KAAKuB,MAwOpB,OArOAs/B,EAAe7+B,UAAUi/B,YAAc,WACrC,IAAIF,EAAQ/gC,KAAK+gC,MACjB,eAAKA,GAAO,SAAUx/B,GACpB,eAAKA,GAAM,SAAU8tB,EAAUjvB,GACzB,mBAASivB,KACX9tB,EAAKnB,GAAK,CACR+C,KAAMksB,WAOhBwR,EAAe7+B,UAAUo/B,aAAe,SAAU7/B,GAChD,IAGI8/B,EAHAtS,EAAQ/uB,KAAK+uB,MACbuS,EAAYthC,KAAK+gC,MAAMx/B,GACvBggC,EAAU,GAEd,eAAKD,GAAa,IAAI,SAAUjS,GAC9B,IAAImS,EAAmB,EAAS5R,YAAYP,EAASlsB,MAAQksB,GAExDmS,IAILH,EAAS,IAAIG,EAAiBnS,MAG5BgS,EAAOz/B,KAAKmtB,GACZwS,EAAQz+B,KAAKu+B,OAGjBrhC,KAAKkhC,eAAiBK,GAGxBV,EAAeY,eAAiB,SAAUC,EAAeJ,GAYvD,OAXA,eAAKA,GAAW,SAAUjS,GACpBqS,EAAcj/B,QAAQ4sB,GAAY,IAChC,mBAASA,KACXA,EAAW,CACTlsB,KAAMksB,IAIVqS,EAAc5+B,KAAKusB,OAGhBqS,GAGTb,EAAec,gBAAkB,SAAUD,EAAeJ,GACxD,IAAI1+B,EAAS,GAeb,OAdA8+B,EAAcjxB,SAAQ,SAAU4e,GAC9B,IAAIlsB,EAAO,GAGTA,EADE,mBAASksB,GACJA,EAGAA,EAASlsB,KAGdm+B,EAAU7+B,QAAQU,GAAQ,GAC5BP,EAAOE,KAAKusB,MAGTzsB,GAGTi+B,EAAe7+B,UAAUm/B,QAAU,SAAU5/B,GAC3C,IACIw/B,EADK/gC,KACM+gC,MACXhS,EAFK/uB,KAEM+uB,MAEX6S,EAAUrgC,EACEw/B,EAAMa,KAMtB7S,EAAM3S,KAAK,mBAAoB,CAC7B7a,KAAMA,IAER,eAAKvB,KAAKkhC,gBAAgB,SAAUG,GAC9BA,EAAOQ,UAAUR,EAAOQ,SAASr7B,SACrC66B,EAAOnS,OAAOH,MAEhB/uB,KAAKohC,aAAaQ,GAClB7S,EAAM3S,KAAK,kBAAmB,CAC5B7a,KAAMA,IAERvB,KAAKuB,KAAOA,IAGds/B,EAAe7+B,UAAU8/B,QAAU,WACjC,OAAO9hC,KAAKuB,MAads/B,EAAe7+B,UAAU+/B,oBAAsB,SAAUT,EAAWP,EAAOiB,GACzE,IAEIT,EAFAhS,EAAQvvB,KAUZ,GAHEuhC,EAHG,kBAAQD,GAGDA,EAFA,CAACA,GAKT,kBAAQP,GAYV,OAXA,eAAKA,GAAO,SAAUx/B,GACfguB,EAAMwR,MAAMx/B,GAKfguB,EAAMwR,MAAMx/B,GADHygC,EACWnB,EAAeY,eAAelS,EAAMwR,MAAMx/B,IAAS,GAAIggC,GAEvDV,EAAec,gBAAgBpS,EAAMwR,MAAMx/B,IAAS,GAAIggC,GANxES,IACFzS,EAAMwR,MAAMx/B,GAAQggC,MAQnBvhC,KAGT,IAAIiiC,EAAclB,EAmBlB,OAjBKA,IACHkB,EAAcjiC,KAAKuB,MAGhBvB,KAAK+gC,MAAMkB,IACVD,IACFhiC,KAAK+gC,MAAMkB,GAAeV,GAK5BvhC,KAAK+gC,MAAMkB,GADTD,EACwBnB,EAAeY,eAAezhC,KAAK+gC,MAAMkB,IAAgB,GAAIV,GAE7DV,EAAec,gBAAgB3hC,KAAK+gC,MAAMkB,IAAgB,GAAIV,GAG1FvhC,KAAKmhC,QAAQnhC,KAAKuB,MACXvB,MAUT6gC,EAAe7+B,UAAUkgC,eAAiB,SAAU7S,EAAU8S,EAAQ5gC,GAChE,mBAAS8tB,KACXA,EAAW,CACTlsB,KAAMksB,IAIV,IAAI+S,EAAc,GAElB,GAAK7gC,GAAQA,IAASvB,KAAKuB,MAAiB,YAATA,EAoB5B,CAGL,KAFA6gC,EAAcpiC,KAAK+gC,MAAMx/B,MAEJ6gC,EAAY9/B,OAE/B,OADAgY,QAAQC,KAAK,4EACNva,KAGT,IAAIqiC,EAAWD,EAAY9/B,OAE3B,IAASlC,EAAI,EAAGA,EAAIiiC,EAAUjiC,IAAK,CAGjC,IAFIihC,EAASe,EAAYhiC,IAEd+C,OAASksB,EAASlsB,MAAQk+B,IAAWhS,EAASlsB,KAMvD,OALIk+B,IAAWhS,EAASlsB,OAAMk+B,EAAS,CACrCl+B,KAAMk+B,IAERvgC,OAAO0S,OAAO6tB,EAAQc,GACtBC,EAAYhiC,GAAKihC,EACVrhC,KAGLI,IAAMiiC,EAAW,GAAG/nB,QAAQC,KAAK,sEA1Cc,CAGrD,KAFA6nB,EAAcpiC,KAAKkhC,kBAEEkB,EAAY9/B,OAE/B,OADAgY,QAAQC,KAAK,4EACNva,KAKT,IAFA,IAAIsiC,EAAWF,EAAY9/B,OAElBlC,EAAI,EAAGA,EAAIkiC,EAAUliC,IAAK,CACjC,IAAIihC,EAEJ,IAFIA,EAASe,EAAYhiC,IAEd+C,OAASksB,EAASlsB,KAE3B,OADAk+B,EAAO1S,UAAUwT,GACVniC,KAGLI,IAAMkiC,EAAW,GAAGhoB,QAAQC,KAAK,kEA4BzC,OAAOva,MAGT6gC,EAAe7+B,UAAUugC,QAAU,WACjCviC,KAAK+uB,MAAQ,KACb/uB,KAAK+gC,MAAQ,KACb/gC,KAAKkhC,eAAiB,KACtBlhC,KAAK8gC,WAAY,GAGZD,EAlPT,G,SCFI,GAEJ,SAAU2B,GAGR,SAASC,EAAat/B,EAAM8rB,GAC1B,IAAIM,EAAQiT,EAAOjiC,KAAKP,KAAMmD,EAAM8rB,IAAUjvB,KAM9C,OAJAuvB,EAAMnoB,KAAO6nB,EAAM7nB,KACnBmoB,EAAMmT,QAAUzT,EAAMyT,QACtBnT,EAAMoT,QAAU1T,EAAM0T,QACtBpT,EAAMqT,OAAS3T,EAAM2T,OACdrT,EAGT,OAZA,YAAUkT,EAAcD,GAYjBC,EAbT,C,KAcE,GCjBSI,GAAW,SAAkB1/B,GACtC,MAAO,GAAG6B,OAAO7B,EAAM,KAAK6B,OAAOK,KAAKy9B,UAAU99B,OAAOiM,KAAKC,QAQrD,GAAgB,SAAuB6P,GAChD,IAAIiV,EAAM,EACNC,EAAO,EACPE,EAAQ,EACRD,EAAS,EAEb,GAAI,mBAASnV,GACXiV,EAAMC,EAAOE,EAAQD,EAASnV,OACzB,GAAI,mBAASA,GAAU,CAE5BiV,EAAMC,EAAOE,EAAQD,EADJ7qB,SAAS0V,EAAS,SAE1B,kBAAQA,KACjBiV,EAAMjV,EAAQ,GACdoV,EAAS,gBAAMpV,EAAQ,IAAmBA,EAAQ,GAArBA,EAAQ,GACrCmV,EAAU,gBAAMnV,EAAQ,IAAmBA,EAAQ,GAArBA,EAAQ,GACtCkV,EAAQ,gBAAMlV,EAAQ,IAAmBoV,EAAbpV,EAAQ,IAGtC,MAAO,CAACiV,EAAKG,EAAOD,EAAQD,IAOnB,GAAa,SAAoBluB,GAC1C,IAAIknB,EAAQ,IAAI,GAAalnB,EAAE5E,KAAM4E,GASrC,OARAknB,EAAM8T,QAAUh7B,EAAEg7B,QAClB9T,EAAM+T,QAAUj7B,EAAEi7B,QAClB/T,EAAMhN,EAAIla,EAAEka,EACZgN,EAAMra,EAAI7M,EAAE6M,EACZqa,EAAMhB,OAASlmB,EAAEkmB,OACjBgB,EAAMgU,cAAgBl7B,EAAEk7B,cACxBhU,EAAMiU,SAAU,EAChBjU,EAAM7nB,KAAOW,EAAEX,KACR6nB,GAOEkU,GAAoB,SAA2BpR,GAExD,IAAKA,EACH,OAAO,EAMT,IAHA,IACIqR,EAAgB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAEpChjC,EAAI,EAAGA,EAHC,EAGeA,IAC9B,GAAI2xB,EAAO3xB,KAAOgjC,EAAchjC,GAC9B,OAAO,EAIX,OAAO,GAEE,GAAQ,SAAeijC,GAChC,OAAO/4B,OAAO3E,MAAM2E,OAAO+4B,KAOlBC,GAAuB,SAA8BC,GAM9D,IALA,IAAIC,EAAO14B,IACP24B,GAAQ34B,IACR44B,EAAO54B,IACP64B,GAAQ74B,IAEH1K,EAAI,EAAGA,EAAImjC,EAAMjhC,OAAQlC,IAAK,CACrC,IACIkzB,EADUiQ,EAAMnjC,GACDw0B,UACfpB,EAAOF,EAAKE,KACZC,EAAOH,EAAKG,KACZe,EAAOlB,EAAKkB,KACZC,EAAOnB,EAAKmB,KAEZjB,EAAOgQ,IACTA,EAAOhQ,GAGLC,EAAOiQ,IACTA,EAAOjQ,GAGLe,EAAOiP,IACTA,EAAOjP,GAGLC,EAAOkP,IACTA,EAAOlP,GAQX,MAAO,CACLxS,EALM5c,KAAKqS,MAAM8rB,GAMjB5uB,EALMvP,KAAKqS,MAAMgsB,GAMjBnxB,MALUlN,KAAKu+B,KAAKH,GAAQp+B,KAAKqS,MAAM8rB,GAMvC1iB,OALWzb,KAAKu+B,KAAKD,GAAQt+B,KAAKqS,MAAMgsB,GAMxClQ,KAAMgQ,EACN/P,KAAMiQ,EACNlP,KAAMiP,EACNhP,KAAMkP,IAaCE,GAAuB,SAA8B1V,EAAO2V,EAAYC,EAAeC,EAAgBC,QAC7F,IAAfH,IACFA,EAAa,SAGO,IAAlBC,IACFA,EAAgB,kBAGK,IAAnBC,IACFA,OAAiB/3B,QAGE,IAAjBg4B,IACFA,OAAeh4B,GAUjB,IAPA,IAAIxI,EAAM0qB,EAAM7rB,OACZ4hC,EAAmB,EAAbJ,EACNK,EAAe,CAAC,MAAO,YAAa,QAAS,eAAgB,SAAU,cAAe,OAAQ,YAC9FC,EAAU,GACVC,EAAO,GACPC,EAAW,GAENlkC,EAAI,EAAGA,EAAIqD,EAAKrD,IAAK,CAC5B,IAAIwgC,EAAOzS,EAAM/tB,GACb4tB,EAAS4S,EAAK5S,OACdC,EAAS2S,EAAK3S,OACdsW,EAAe,GAAGv/B,OAAOgpB,EAAQ,KAAKhpB,OAAOipB,GACjD,IAAIoW,EAAKjkC,GAAT,CAEKgkC,EAAQG,KACXH,EAAQG,GAAgB,IAG1BF,EAAKjkC,IAAK,EACVgkC,EAAQG,GAAczhC,KAAK89B,GAE3B,IAAK,IAAIj5B,EAAI,EAAGA,EAAIlE,EAAKkE,IACvB,GAAIvH,IAAMuH,EAAV,CACA,IAAI68B,EAAQrW,EAAMxmB,GACd2H,EAAMk1B,EAAMxW,OACZyW,EAAMD,EAAMvW,OAIXoW,EAAK18B,KACJqmB,IAAWyW,GAAOxW,IAAW3e,GAC/B80B,EAAQG,GAAczhC,KAAK0hC,GAC3BH,EAAK18B,IAAK,EACV28B,EAAS,GAAGt/B,OAAOsK,EAAK,KAAKtK,OAAOy/B,EAAK,KAAKz/B,OAAOo/B,EAAQG,GAAcjiC,OAAS,KAAM,GACjF0rB,IAAW1e,GAAO2e,IAAWwW,IACtCL,EAAQG,GAAczhC,KAAK0hC,GAC3BH,EAAK18B,IAAK,MAMlB,IAAK,IAAIhG,KAAOyiC,EAId,IAHA,IAAIM,EAAWN,EAAQziC,GACnB2gC,EAAWoC,EAASpiC,OAEfqB,EAAI,EAAGA,EAAI2+B,EAAU3+B,IAAK,CACjC,IAAIi+B,EAAU8C,EAAS/gC,GAEvB,GAAIi+B,EAAQ5T,SAAW4T,EAAQ3T,OAU/B,GAAiB,IAAbqU,GAAkB0B,GAAkBpC,EAAQ5T,SAAW4T,EAAQ3T,OACjE2T,EAAQz+B,KAAO6gC,MADjB,CAKApC,EAAQz+B,KAAO4gC,EACf,IAAIxS,GAAQ5tB,EAAI,GAAM,EAAI,GAAK,IAAM2gC,EAAS,GAAGt/B,OAAO48B,EAAQ5T,OAAQ,KAAKhpB,OAAO48B,EAAQ3T,OAAQ,KAAKjpB,OAAOrB,KAAO,EAAI,GAGzHi+B,EAAQ+C,YADNrC,EAAW,GAAM,EACG/Q,EAAOlsB,KAAKu+B,KAAKjgC,EAAI,GAAKugC,EAE1B3S,GAAQlsB,KAAKqS,MAAM/T,EAAI,GAAKugC,EAAMJ,QApBpDG,IAAcrC,EAAQz+B,KAAO8gC,GAEjCrC,EAAQ3G,QAAU,CAChBC,SAAUiJ,EAAaxgC,EAAI,GAC3BuK,KAA0B,GAApB7I,KAAKqS,MAAM/T,EAAI,GAAU,IAqBvC,OAAOwqB,GCiCM,GA3Pf,WACE,SAASyW,EAAe7V,GACtB/uB,KAAK8gC,WAAY,EACjB9gC,KAAK+uB,MAAQA,EACb/uB,KAAK8gC,WAAY,EAoPnB,OAhPA8D,EAAe5iC,UAAU6iC,cAAgB,WACvC,IAAI9jB,EAAU/gB,KAAK8kC,mBACf/V,EAAQ/uB,KAAK+uB,MACbxc,EAAQvS,KAAK+uB,MAAM9tB,IAAI,SACvB6f,EAASiO,EAAM9tB,IAAI,UACvB,MAAO,CACLghB,GAAI1P,EAAQwO,EAAQ,GAAKA,EAAQ,IAAM,EAAIA,EAAQ,GACnDnM,GAAIkM,EAASC,EAAQ,GAAKA,EAAQ,IAAM,EAAIA,EAAQ,KAIxD6jB,EAAe5iC,UAAU+iC,UAAY,WACnC,IAAIhW,EAAQ/uB,KAAK+uB,MACbmE,EAAQnE,EAAM9tB,IAAI,SACtBiyB,EAAM8R,cACN,IAAI1R,EAAOJ,EAAMK,gBACjB,GAAmB,IAAfD,EAAK/gB,OAA+B,IAAhB+gB,EAAKxS,OAA7B,CACA,IAAImkB,EAAajlC,KAAK6kC,gBAClBK,EACC5R,EAAKrR,EAAIqR,EAAK/gB,MAAQ,EADvB2yB,EAEC5R,EAAK1e,EAAI0e,EAAKxS,OAAS,EAE5BiO,EAAMkE,UAAUgS,EAAWhjB,EAAIijB,EAAeD,EAAWrwB,EAAIswB,KAI/DN,EAAe5iC,UAAUmjC,QAAU,WACjC,IAAIpW,EAAQ/uB,KAAK+uB,MACbhO,EAAU/gB,KAAK8kC,mBACfvyB,EAAQwc,EAAM9tB,IAAI,SAClB6f,EAASiO,EAAM9tB,IAAI,UACnBiyB,EAAQnE,EAAM9tB,IAAI,SACtBiyB,EAAM8R,cACN,IAAI1R,EAAOJ,EAAMK,gBACjB,GAAmB,IAAfD,EAAK/gB,OAA+B,IAAhB+gB,EAAKxS,OAA7B,CACA,IAAImkB,EAAajlC,KAAK6kC,gBAClBK,EACC5R,EAAKrR,EAAIqR,EAAK/gB,MAAQ,EADvB2yB,EAEC5R,EAAK1e,EAAI0e,EAAKxS,OAAS,EAE5BiO,EAAMkE,UAAUgS,EAAWhjB,EAAIijB,EAAeD,EAAWrwB,EAAIswB,GAC7D,IAAInL,GAAKxnB,EAAQwO,EAAQ,GAAKA,EAAQ,IAAMuS,EAAK/gB,MAC7CiF,GAAKsJ,EAASC,EAAQ,GAAKA,EAAQ,IAAMuS,EAAKxS,OAC9C2R,EAAQsH,EAERA,EAAIviB,IACNib,EAAQjb,GAGVuX,EAAMqW,KAAK3S,EAAOwS,KAGpBL,EAAe5iC,UAAU8iC,iBAAmB,WAC1C,IAAI/jB,EAAU/gB,KAAK+uB,MAAM9tB,IAAI,kBAC7B,OAAO,GAAc8f,IAGvB6jB,EAAe5iC,UAAUqjC,WAAa,SAAUxU,EAAOyU,EAASC,GAC9D,IAAIhW,EAAQvvB,KAERilC,EAAajlC,KAAK6kC,gBAClBW,EAAcxlC,KAAKylC,iBAAiBR,EAAWhjB,EAAGgjB,EAAWrwB,GAC7D8wB,EAAiB1lC,KAAK+uB,MAAM9tB,IAAI,SAASoyB,YAG7C,GAFKqS,IAAgBA,EAAiB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAE3DJ,EAAS,CACX,IAAIK,GAAQH,EAAYvjB,EAAI4O,EAAM5O,GAAKyjB,EAAe,GAClDE,GAAQJ,EAAY5wB,EAAIic,EAAMjc,GAAK8wB,EAAe,GAClDG,EAAU,EACVC,EAAU,EACVC,EAAS,EACTC,EAAS,EAEbhmC,KAAK+uB,MAAM9tB,IAAI,UAAUqkC,SAAQ,SAAU7S,GACzCsT,EAASJ,EAAOlT,EAChBuT,EAASJ,EAAOnT,EAEhBlD,EAAMR,MAAMkE,UAAU8S,EAASF,EAASG,EAASF,GAEjDD,EAAUE,EACVD,EAAUE,IACT,YAAS,GAAIT,SAEhBvlC,KAAK+uB,MAAMkE,WAAWuS,EAAYvjB,EAAI4O,EAAM5O,GAAKyjB,EAAe,IAAKF,EAAY5wB,EAAIic,EAAMjc,GAAK8wB,EAAe,KAUnHd,EAAe5iC,UAAUyjC,iBAAmB,SAAU/C,EAASC,GAC7D,IAAI+C,EAAiB1lC,KAAK+uB,MAAM9tB,IAAI,SAASoyB,YAU7C,OARKqS,IACHA,EAAiB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGhC,EAAa,CACvBzjB,EAAGygB,EACH9tB,EAAG+tB,GACF+C,IAULd,EAAe5iC,UAAUikC,iBAAmB,SAAUlD,EAASC,GAC7D,IACIkD,EADSlmC,KAAK+uB,MAAM9tB,IAAI,UACHglC,iBAAiBlD,EAASC,GACnD,OAAOhjC,KAAKylC,iBAAiBS,EAAYjkB,EAAGikB,EAAYtxB,IAS1DgwB,EAAe5iC,UAAUmkC,iBAAmB,SAAUlkB,EAAGrN,GACvD,IAAIwxB,EAASpmC,KAAK+uB,MAAM9tB,IAAI,UACxBilC,EAAclmC,KAAKqmC,iBAAiBpkB,EAAGrN,GACvCic,EAAQuV,EAAOD,iBAAiBD,EAAYjkB,EAAGikB,EAAYtxB,GAC/D,MAAO,CACLqN,EAAG4O,EAAM5O,EACTrN,EAAGic,EAAMjc,IAUbgwB,EAAe5iC,UAAUqkC,iBAAmB,SAAUpkB,EAAGrN,GACvD,IAAI8wB,EAAiB1lC,KAAK+uB,MAAM9tB,IAAI,SAASoyB,YAM7C,OAJKqS,IACHA,EAAiB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGrC,EAAY,CACjBzjB,EAAGA,EACHrN,EAAGA,GACF8wB,IAULd,EAAe5iC,UAAUskC,MAAQ,SAAUl/B,EAAMk+B,EAASC,GAKxD,GAJI,mBAASn+B,KACXA,EAAOpH,KAAK+uB,MAAM0Q,SAASr4B,IAGzBA,EAAM,CACR,IAAI6a,EAAI,EACJrN,EAAI,EAER,GAAIxN,EAAKiF,SAA8B,SAAnBjF,EAAKiF,UAAsB,CAC7C,IAAIk6B,EAAen/B,EAAKo/B,YAAYvlC,IAAI,SAASoyB,YAC7CoT,EAAer/B,EAAKs/B,YAAYzlC,IAAI,SAASoyB,YAE7CkT,GAAgBE,GAClBxkB,GAAKskB,EAAa,GAAKE,EAAa,IAAM,EAC1C7xB,GAAK2xB,EAAa,GAAKE,EAAa,IAAM,IACjCF,GAAgBE,KACzBxkB,EAAIskB,EAAeA,EAAa,GAAKE,EAAa,GAClD7xB,EAAI2xB,EAAeA,EAAa,GAAKE,EAAa,QAE/C,CACL,IACI1U,EADQ3qB,EAAKnG,IAAI,SACFoyB,YACdtB,IAAQA,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAC/C9P,EAAI8P,EAAO,GACXnd,EAAImd,EAAO,GAIb/xB,KAAKqlC,WAAW,CACdpjB,EAAGA,EACHrN,EAAGA,GACF0wB,EAASC,KAUhBX,EAAe5iC,UAAU2kC,WAAa,SAAUp0B,EAAOuO,GACrD,IAAIiO,EAAQ/uB,KAAK+uB,MAEjB,IAAK,mBAASxc,KAAW,mBAASuO,GAChC,MAAMzJ,MAAM,iFAGd0X,EAAMznB,IAAI,CACRiL,MAAOA,EACPuO,OAAQA,IAEGiO,EAAM9tB,IAAI,UAChB0lC,WAAWp0B,EAAOuO,GAEXiO,EAAM9tB,IAAI,WAChBwP,SAAQ,SAAUm2B,GACxB,GAAIA,EAAO3lC,IAAI,iBAAkB,CAC/B,IAAI4lC,EAAU9X,EAAM9tB,IAAI,WACxB,aAAU2lC,EAAO3lC,IAAI,aAAc,CACjCsR,MAAO,GAAGvN,OAAOuN,EAAO,MACxBuO,OAAQ,GAAG9b,OAAO8b,EAAQ,QAE5B,aAAU8lB,EAAO3lC,IAAI,iBAAkB,CACrCsR,MAAO,GAAGvN,OAAOuN,EAAQs0B,EAAS,MAClC/lB,OAAQ,GAAG9b,OAAO8b,EAAS+lB,EAAS,MACpC5Q,KAAM,EACND,IAAK,SAMb4O,EAAe5iC,UAAUugC,QAAU,WACjCviC,KAAK+uB,MAAQ,KACb/uB,KAAK8gC,WAAY,GAGZ8D,EAxPT,GCRA,SAASrY,GAAQ1oB,GAAkC,OAAO0oB,GAAU,mBAAqBprB,QAAU,iBAAmBA,OAAOiU,SAAW,SAAUvR,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB1C,QAAU0C,EAAIiJ,cAAgB3L,QAAU0C,IAAQ1C,OAAOa,UAAY,gBAAkB6B,IAAgBA,GAczU,SAASijC,GAAen1B,GACtB,GAAoB,iBAATA,EACT,OAAOA,EAGT,IAAIo1B,EAAY,SAAmBtgC,GACjC,GAAmB,iBAARA,EACT,OAAOA,EAGT,IACE,OAAOugC,KAAKC,MAAMxgC,EAAIygC,QACtB,MAAOn/B,GACP,OAAOtB,EAAIygC,SAIXC,EAAeJ,EAAUp1B,GAE7B,GAA4B,iBAAjBw1B,EACT,OAAOA,EA+BT,IA5BA,IAAIC,EAAO,SAAc5kC,GACvB,OAAOA,EAAIA,EAAIF,OAAS,IAGtBmE,EAAMkL,EAAKu1B,OACXG,EAAc,GACdC,EAAc,GAEdC,EAAa,WAGf,IAFA,IAAIC,EAAW,GAENlQ,EAAK,EAAGA,EAAKvoB,UAAUzM,OAAQg1B,IACtCkQ,EAASlQ,GAAMvoB,UAAUuoB,GAG3B,OAAOkQ,EAASt/B,MAAK,SAAUu/B,GAC7B,OAAOL,EAAKE,KAAiBG,MAQ7B3iC,EAAM,KACN1E,EAAI,EACJsnC,EAAO,GAEJtnC,EAAIqG,EAAInE,QAAQ,CACrB,IAAIqlC,EAAUlhC,EAAIrG,GACdwnC,EAAaL,EAAW,IAAK,KAEjC,GAAKK,GAAeD,EAAQT,OAA5B,CAKA,IAAIW,EAAiC,OAAfphC,EAAIrG,EAAI,GAC1B0nC,EAAaP,EAAW,KACxBQ,EAAYR,EAAW,KACvBS,EAAiBT,EAAW,KAC5BU,EApBGb,EAAKC,GAsBZ,GAAIO,EACF,GAAIR,EAAKE,KAAiBK,GAAYE,EAOpCH,GAAQC,MAP6C,CACrDL,EAAYhyB,MACZ,IAAIjU,EAAQ0lC,EAAUW,GACtBO,EAAQnlC,KAAKzB,GACbyD,EAAMzD,EACNqmC,EAAO,QAIJ,GAAIK,GAAyB,MAAZJ,EAClBD,IACFO,EAAQnlC,KAAKikC,EAAUW,IACvBA,EAAO,SAEJ,GAAII,GAA0B,MAAZH,EACvBL,EAAYxkC,KAAK,KAEb4kC,IACFO,EAAQnlC,KAAK4kC,GACbA,EAAO,SAEJ,GAAIM,GAA8B,MAAZL,EACvBD,IACFO,EAAQnlC,KAAKikC,EAAUW,IACvBA,EAAO,IAGTJ,EAAYhyB,WACP,GAAgB,MAAZqyB,IAAoBG,GAAcE,GAAiB,CACxDN,IACFO,EAAQnlC,KAAKikC,EAAUW,IACvBA,EAAO,IAGLM,GACFV,EAAYhyB,MAKd,IAFA,IAAIzR,EAAM,GAEDpD,EAAI,EAAGA,EAAIwnC,EAAQ3lC,OAAQ7B,GAAK,EACvCoD,EAAIokC,EAAQxnC,EAAI,IAAMwnC,EAAQxnC,GAGhC4mC,EAAY/xB,MAER+xB,EAAY/kC,QACd8kC,EAAKC,GAAavkC,KAAKe,GAGzByjC,EAAYhyB,MACZxQ,EAAMjB,MACe,MAAZ8jC,GAAmBI,GACxBL,IACFO,EAAQnlC,KAAKikC,EAAUW,IACvBA,EAAO,IAGTL,EAAY/xB,MAER+xB,EAAY/kC,QACd8kC,EAAKC,GAAavkC,KAAKmlC,GAGzBX,EAAYhyB,MACZxQ,EAAMmjC,GACe,MAAZN,GACTN,EAAYvkC,KAAK,IACjBwkC,EAAYxkC,KAAK,MACI,MAAZ6kC,GACTN,EAAYvkC,KAAK,IACjBwkC,EAAYxkC,KAAK,MACI,MAAZ6kC,EACTL,EAAYxkC,KAAK,KACI,MAAZ6kC,EACTL,EAAYxkC,KAAK,KAEjB4kC,GAAQC,EAGVvnC,GAAK,OA3FHA,GAAK,EA8FT,OAAO0E,GAAO4iC,EAqLT,SAASQ,GAAeja,EAAQka,GACrC,IAAI/uB,OAEe,IAAf+uB,IACFA,EAAa,CACXlmB,EAAG,EACHrN,EAAG,IAIP,IAAIwzB,EAAc,YAAS,CACzBnmB,EAAG,EACHrN,EAAG,EACHrC,MAAO,EACPuO,OAAQ,GACPqnB,GAEH,GAA+B,QAA1B/uB,EAAK6U,EAAOI,gBAA6B,IAAPjV,OAAgB,EAASA,EAAG9W,OAAQ,CACzE,IAAI+lC,EAAKpa,EAAOjqB,MACZA,OAAe,IAAPqkC,EAAgB,GAAKA,EAC7BC,EAAYtkC,EAAMskC,UAElBjqB,EAAS,YAAS,GAAI8pB,GAEtBG,IACFjqB,EAAOzJ,GAAK0zB,GAGd,IAAK,IAAIzlC,EAAQ,EAAGA,EAAQorB,EAAOI,SAAS/rB,OAAQO,IAAS,CAC3DorB,EAAOI,SAASxrB,GAAOmB,MAAMrC,IAAM,GAAGqD,OAAOhB,EAAMrC,KAAO,OAAQ,MAAMqD,OAAOnC,EAAO,KACtF,IAAIiwB,EAAOoV,GAAeja,EAAOI,SAASxrB,GAAQwb,GAElD,GAAIyU,EAAKQ,KAAM,CACb,IAAIA,EAAOR,EAAKQ,KAEQ,WAApBR,EAAK9uB,MAAMsQ,KACb+J,EAAO4D,GAAK6Q,EAAKQ,KAAK/gB,MAEtB8L,EAAOzJ,GAAKke,EAAKQ,KAAKxS,OAGpBwS,EAAK/gB,MAAQ+gB,EAAKrR,EAAImmB,EAAY71B,QACpC61B,EAAY71B,MAAQ+gB,EAAK/gB,MAAQ+gB,EAAKrR,GAGpCqR,EAAKxS,OAASwS,EAAK1e,EAAIwzB,EAAYtnB,SACrCsnB,EAAYtnB,OAASwS,EAAKxS,OAASwS,EAAK1e,KAQhD,OAFAqZ,EAAOqF,KA3HF,SAAiBR,EAAMzU,EAAQkqB,GACpC,IAQIC,EAAaC,EARbrvB,EAAK0Z,EAAK9uB,MACVA,OAAe,IAAPoV,EAAgB,GAAKA,EAC7Bka,EAAO,CACTrR,EAAG5D,EAAO4D,GAAK,EACfrN,EAAGyJ,EAAOzJ,GAAK,EACfrC,MAAOg2B,EAAYh2B,OAAS,EAC5BuO,OAAQynB,EAAYznB,QAAU,GAIhC,OAAQgS,EAAK3vB,MACX,IAAK,QACL,IAAK,SACCa,EAAM9C,IACRunC,EAAa,EAAIzkC,EAAM9C,EACvBsnC,EAAc,EAAIxkC,EAAM9C,GAG1B,MAEF,IAAK,OACC8C,EAAM2N,OACR82B,EAAatL,GAAYn5B,EAAM2N,KAAM3N,EAAMoO,UAAY,IAAI,GAC3Do2B,EAAc,GACdlV,EAAK1e,GAAK4zB,EACVlV,EAAKxS,OAAS0nB,EACdlV,EAAK/gB,MAAQk2B,EACb3V,EAAK9uB,MAAQ,YAAS,CACpBoO,SAAU,GACV8L,KAAM,QACLla,IAGL,MAEF,QACMA,EAAMuO,QACRk2B,EAAazkC,EAAMuO,OAGjBvO,EAAM8c,SACR0nB,EAAcxkC,EAAM8c,QAqB1B,OAhBI0nB,GAAe,IACjBlV,EAAKxS,OAAS0nB,GAGZC,GAAc,IAChBnV,EAAK/gB,MAAQk2B,GAGXzkC,EAAMskC,YACRhV,EAAK1e,GAAK5Q,EAAMskC,WAGdtkC,EAAM0kC,aACRpV,EAAKrR,GAAKje,EAAM0kC,YAGXpV,EA4DO,CAAQrF,EAAQka,EAAYC,GAC1Cna,EAAOjqB,MAAQ,YAAS,YAAS,GAAIiqB,EAAOjqB,OAAQiqB,EAAOqF,MACpDrF,EA8FF,SAAS0a,GAAkBC,GAChC,IAAIC,EAAa,GAEbC,EAAa,SAAoB1rB,GACnC,IACI6Q,EAhUqB,SAAyB8a,GACpD,OAAO,SAAUlkC,GAMf,IALA,IAAIpB,EAAMslC,EAAIzmC,OACVE,EAAM,GACNpC,EAAI,EACJwF,EAAM,GAEHxF,EAAIqD,GACT,GAAe,MAAXslC,EAAI3oC,IAA6B,MAAf2oC,EAAI3oC,EAAI,GAC5BoC,EAAIM,KAAK8C,GACTA,EAAM,GACNxF,GAAK,OACA,GAAe,MAAX2oC,EAAI3oC,IAA6B,MAAf2oC,EAAI3oC,EAAI,GAAY,CAC/C,GAAIoC,EAAIF,OAAQ,CACd,IAAI8D,EAAO5D,EAAI8S,MACf1P,EAAM,cAAIf,EAAMe,EAAKQ,EAAK4B,SAAS,KAAO,KAAMhD,OAAOY,EAAK,MAASA,GACrEpD,EAAIM,KAAKsD,EAAOR,GAGlBxF,GAAK,EACLwF,EAAM,QAENA,GAAOmjC,EAAI3oC,GACXA,GAAK,EAKT,OADAoC,EAAIM,KAAK8C,GACFpD,EAAI+N,KAAI,SAAUxI,EAAGlF,GAC1B,OAAOL,EAAIK,EAAQ,IAAML,EAAIK,EAAQ,GAAGmF,SAAS,KAAO,KAAMhD,OAAO+C,EAAG,MAASA,KAChFsK,KAAK,KAkSK,CADe,mBAARu2B,EAAqBA,EAAIxrB,GAAOwrB,EACvC,CAAwBxrB,GAEjC4rB,EAAY/2B,SAASC,cAAc,OACvC82B,EAAUC,UAAYhb,EACtB,IACIrrB,EAASslC,GA/RV,SAASgB,EAASH,EAAK3rB,GAC5B,IAAIpZ,EAAQ,GACRJ,EAAOmlC,EAAII,mBAAqBJ,EAAII,qBAAuB,GAC3D9a,EAAW0a,EAAI1a,UAAYhrB,MAAMuS,KAAKmzB,EAAI1a,UAAU9d,KAAI,SAAUxI,GACpE,OAAOmhC,EAASnhC,EAAGqV,MAEjBtY,EAAM,GACNskC,EAAUL,EAAIK,QAAUL,EAAIK,QAAQ19B,cAAgB,QA6CxD,MA3CgB,SAAZ09B,IACFplC,EAAM2N,KAAOo3B,EAAIM,WAGnBvkC,EAAI3B,KAAOimC,EAEK,QAAZA,IACFtkC,EAAI3B,KAAO,SAGbE,MAAMuS,KAAKhS,GAAM6M,SAAQ,SAAU9M,GACjC,IAAIhC,EAAiBgC,EApEZ6E,MAAM,KAAKtD,QAAO,SAAUT,EAAGmC,GACxC,OAAOnC,EAAImC,EAAEgF,OAAO,GAAGO,cAAgBvF,EAAEoF,MAAM,MAoE3CpE,EAAMmhC,EAAIO,aAAa3lC,GAE3B,IACE,GAAY,UAARhC,GAA2B,UAARA,EAAiB,CACtC,IAAIsc,EAAQ6oB,GAAel/B,GAC3B5D,EAAQ,YAAS,YAAS,GAAIA,GAAQia,QAEtCnZ,EAAInD,GAAOmlC,GAAel/B,GAE5B,MAAOG,GACP,GAAY,UAARpG,EACF,MAAMoG,EAGRjD,EAAInD,GAAOiG,MAGf9C,EAAId,MAAQA,EAERoZ,GAAOA,EAAIa,OAASnZ,EAAInE,MAAyC,WAAjC4rB,GAAQnP,EAAIa,MAAMnZ,EAAInE,SACxDmE,EAAId,MAAQ,YAAS,YAAS,GAAIc,EAAId,OAAQoZ,EAAIa,MAAMnZ,EAAInE,QAG1Dyc,GAAOA,EAAIa,OAASnZ,EAAIykC,WAC1BzkC,EAAId,MAAQ,YAAS,YAAS,GAAIc,EAAId,OAAQoZ,EAAIa,QAGhDoQ,EAAS/rB,SACXwC,EAAIupB,SAAWA,GAGVvpB,EA2OuBokC,CADlBF,EAAU3a,SAAS,GACajR,IAE1C,OADA4rB,EAAUxiC,SACH5D,GAGT,MAAO,CACL4mC,KAAM,SAAcpsB,EAAK8V,GACvB,IAAIuW,EAAeX,EAAW1rB,GAC1BmsB,EAAWrW,EAkCf,OAhCmB,SAASwW,EAAazb,GACvC,IAAI7U,EAAK6U,EAAOjqB,MACZA,OAAe,IAAPoV,EAAgB,GAAKA,EAC7Bka,EAAOrF,EAAOqF,KACdnwB,EAAO8qB,EAAO9qB,KACdkrB,EAAWJ,EAAOI,SAClBsb,EAAO,YAAO1b,EAAQ,CAAC,QAAS,OAAQ,OAAQ,aAEpD,GAAoB,UAAhBA,EAAO9qB,KAAkB,CAC3B,IAAIymC,EAAQ1W,EAAM2W,SAAS5b,EAAO9qB,KAAM,YAAS,CAC/Ca,MAAOA,EACP8lC,OAAQ,CACNxW,KAAMA,EACNnwB,KAAMA,EACNkrB,SAAUA,IAEXsb,IAEC1b,EAAOsb,WACTA,EAAWK,GAIX3b,EAAOI,UACTJ,EAAOI,SAAS5d,SAAQ,SAAU5O,GAChC,OAAO6nC,EAAa7nC,MAK1B6nC,CAAaD,GACbZ,EAAWzrB,EAAIgR,IAAM,CAACqb,GACfF,GAETQ,OAAQ,SAAgB3sB,EAAK0V,GACtB+V,EAAWzrB,EAAIgR,MAClBya,EAAWzrB,EAAIgR,IAAM,IAGvB,IAAI4b,EAAYlX,EAAKmX,eACjB5b,EAAW2b,EAAU/oC,IAAI,YACzBipC,EAAYpB,EAAW1rB,GAEvB+sB,EApJH,SAASC,EAAiBC,EAAWC,GAC1C,IAAIlxB,EAAIivB,EAAIkC,EAAIC,EAEZrnC,GAAQknC,GAAa,IAAIlnC,KACzBxB,IAAQ2oC,aAAmD,EAASA,EAAatmC,QAAU,IAAIrC,IAMnG,GAJIA,GAAO0oC,IACTA,EAAUrmC,MAAMrC,IAAMA,IAGnB0oC,GAAaC,EAChB,MAAO,CACLxhC,OAAQ,SACRlB,IAAK0iC,EACLnnC,KAAMA,EACNxB,IAAKA,GAIT,GAAI0oC,IAAcC,EAChB,MAAO,CACLxhC,OAAQ,MACRlB,IAAKyiC,EACLlnC,KAAMA,GAIV,IAAKknC,IAAcC,EACjB,MAAO,CACLxhC,OAAQ,OACR3F,KAAMA,GAIV,IAAIkrB,EAAW,GAEf,IAAmC,QAA7BjV,EAAKixB,EAAUhc,gBAA6B,IAAPjV,OAAgB,EAASA,EAAG9W,QAAU,IAAuC,QAAhC+lC,EAAKiC,EAAajc,gBAA6B,IAAPga,OAAgB,EAASA,EAAG/lC,QAAU,EAKpK,IAJA,IAAIggC,EAAWj9B,KAAKC,IAAkC,QAA7BilC,EAAKF,EAAUhc,gBAA6B,IAAPkc,OAAgB,EAASA,EAAGjoC,OAAyC,QAAhCkoC,EAAKF,EAAajc,gBAA6B,IAAPmc,OAAgB,EAASA,EAAGloC,QACnKmoC,EAAgBH,EAAajc,UAAY,GACzCqc,EAAaL,EAAUhc,UAAY,GAE9BxrB,EAAQ,EAAGA,EAAQy/B,EAAUz/B,GAAS,EAC7CwrB,EAASvrB,KAAKsnC,EAAiBM,EAAW7nC,GAAQ4nC,EAAc5nC,KAIpE,IAAI8nC,EAAa7pC,OAAO8C,KAAK0mC,EAAatmC,OACtC4mC,EAAU9pC,OAAO8C,KAAKymC,EAAUrmC,OAEpC,OAAIsmC,EAAannC,OAASknC,EAAUlnC,KAC3B,CACL2F,OAAQ,cACRuhC,UAAWA,EACXC,aAAcA,EACd3oC,IAAKA,EACL0sB,SAAUA,GAIVsc,EAAWjoC,QAAO,SAAUqF,GAC9B,MAAa,aAANA,KACNG,MAAK,SAAUH,GAChB,OAAOsiC,EAAUrmC,MAAM+D,KAAOuiC,EAAatmC,MAAM+D,KAAO6iC,EAAQ95B,SAAS/I,MAElE,CACLe,OAAQ,SACRlB,IAAKyiC,EACLhc,SAAUA,EACVlrB,KAAMA,EACNxB,IAAKA,GAIF,CACLmH,OAAQ,OACRulB,SAAUA,EACVlrB,KAAMA,EACNxB,IAAKA,GAuEcyoC,CAAiBF,EADjBrB,EAAWzrB,EAAIgR,IAAI9Y,OAGhCu0B,EAAW,SAASA,EAASD,GAC/B,IAAIxwB,EAEe,UAAfwwB,EAAMzmC,MACR6mC,EAAUH,SAASD,EAAMzmC,KAAM,CAC7Ba,MAAO4lC,EAAM5lC,SAIa,QAAzBoV,EAAKwwB,EAAMvb,gBAA6B,IAAPjV,OAAgB,EAASA,EAAG9W,SAChEsnC,EAAMvb,SAAS9d,KAAI,SAAUxI,GAC3B,OAAO8hC,EAAS9hC,OAKlB8iC,EAAW,SAASA,EAASjB,GAC/B,IAAIxwB,EAEA0xB,EAAczc,EAAS/pB,MAAK,SAAUyD,GACxC,OAAOA,EAAE/D,MAAMrC,MAAQioC,EAAM5lC,MAAMrC,OAGjCmpC,GACFd,EAAUe,YAAYD,IAGM,QAAzB1xB,EAAKwwB,EAAMvb,gBAA6B,IAAPjV,OAAgB,EAASA,EAAG9W,SAChEsnC,EAAMvb,SAAS9d,KAAI,SAAUxI,GAC3B,OAAO8iC,EAAS9iC,QAKH,SAASijC,EAAa/c,GACvC,IAAItsB,EAAMssB,EAAOtsB,IAEjB,GAAoB,UAAhBssB,EAAO9qB,KAAkB,CAC3B,IAAI2nC,EAAczc,EAAS/pB,MAAK,SAAUyD,GACxC,OAAOA,EAAE/D,MAAMrC,MAAQA,KAGzB,OAAQssB,EAAOnlB,QACb,IAAK,SACH,GAAIgiC,EAAa,CACf,IAAIG,EAAahd,EAAOrmB,IAAI2hC,SAAWzW,EAAKoY,iBAAmB,GAC/DJ,EAAYK,KAAK,YAAS,YAAS,GAAIF,GAAahd,EAAOrmB,IAAI5D,QAGjE,MAEF,IAAK,MACH6lC,EAAS5b,EAAOrmB,KAChB,MAEF,IAAK,SACHijC,EAAS5c,EAAOrmB,KAChB,MAEF,IAAK,cACHijC,EAAS5c,EAAOqc,cAChBT,EAAS5b,EAAOoc,YAQlBpc,EAAOI,UACTJ,EAAOI,SAAS5d,SAAQ,SAAU5O,GAChC,OAAOmpC,EAAanpC,MAK1BmpC,CAAab,GACbtB,EAAWzrB,EAAIgR,IAAItrB,KAAKonC,IAE1BkB,gBAAiB,WACf,MAAO,CAAC,CAAC,EAAG,IAAM,CAAC,EAAG,IAAM,CAAC,GAAK,GAAI,CAAC,GAAK,MC3nBlD,IAAI,GAAQ,GAGZ,SAASC,GAAQ5kC,GAKf,OAJK,GAAMA,KACT,GAAMA,GAAO,qBAAWA,IAGnB,GAAMA,GAQR,IAAI6kC,GAAmB,CAK5BC,iBAAkB,cAMlBC,UAAW,KAOXC,SAAU,SAAkBtoC,GAG1B,OAFWnD,KACMmD,IADNnD,UACyBurC,mBADzBvrC,KACmD,kBAWhEwpC,KAAM,SAAcrmC,EAAMia,EAAK8V,GAC7B,IAAI0W,EAAQ5pC,KAAKyrC,SAAStoC,GACtB2B,EAAM8kC,EAAMJ,KAAKpsB,EAAK8V,GAM1B,OAJI0W,EAAM8B,WACR9B,EAAM8B,UAAUtuB,EAAK8V,EAAOpuB,GAGvBA,GAST6mC,WAAY,SAAoBxoC,EAAMia,EAAKhW,GACzC,IAAIwiC,EAAQ5pC,KAAKyrC,SAAStoC,GAEtBymC,EAAMG,QAERH,EAAMG,OAAO3sB,EAAKhW,GAGhBwiC,EAAMgC,aACRhC,EAAMgC,YAAYxuB,EAAKhW,IAW3BykC,SAAU,SAAkB1oC,EAAMxC,EAAMU,EAAO+F,GACjCpH,KAAKyrC,SAAStoC,GAEpB0oC,SAASlrC,EAAMU,EAAO+F,IAQ9BynB,aAAc,SAAsB1rB,GAElC,QADYnD,KAAKyrC,SAAStoC,GACX4mC,QAEjB+B,iBAAkB,SAA0B3oC,EAAMia,GAEhD,OADYpd,KAAKyrC,SAAStoC,GACb2oC,iBAAiB1uB,IAShCguB,gBAAiB,SAAyBjoC,EAAMia,GAE9C,OADYpd,KAAKyrC,SAAStoC,GACbioC,gBAAgBhuB,KAO7B2uB,GAAiB,CAEnBh7B,QAAS,GAKTy4B,KAAM,SAAcpsB,EAAK8V,GACvB,OAAOlzB,KAAKgsC,UAAU5uB,EAAK8V,IAM7B8Y,UAAW,aAOXN,UAAW,aAIXE,YAAa,aAObC,SAAU,aASVC,iBAAkB,SAA0B1uB,GAC1C,OAAOA,EAAIkf,eAQb8O,gBAAiB,SAAyBhuB,GACxC,IAAI6uB,EAAsBjsC,KAAK+Q,QAAQ8uB,aAEvC,OADmBziB,EAAIyiB,cAAgBoM,IAUvC,GAEJ,WACE,SAASC,KAiET,OA/DAA,EAAMC,gBAAkB,SAAUC,EAAahvB,GAC7C,IAAIouB,EAAYH,GAAQe,GACpBC,EAAcf,GAEdgB,EAAe,YAAS,YAAS,GAAID,GAAcjvB,GAIvD,OAFA8uB,EAAMV,GAAac,EACnBA,EAAad,UAAYA,EAClBc,GAGTJ,EAAMK,WAAa,SAAUH,GAE3B,OAAOF,EADSb,GAAQe,KAI1BF,EAAMM,aAAe,SAAUC,EAAWC,EAAgBC,GACxD,IACIC,EADAN,EAAeJ,EAAMW,KAGzB,GAA8B,iBAAnBH,GAAyD,mBAAnBA,EAA+B,CAC9E,IAAII,EAAqBnE,GAAkB+D,GAC3CE,EAAW,YAAS,YAAS,GAAIN,EAAab,SAAS,gBAAiBqB,QACnE,GAAIJ,EAAeK,IAAK,CAEzBD,EAAqBnE,GADf+D,EAAeK,KAEzBH,EAAW,YAAS,YAAS,YAAS,GAAIN,EAAab,SAAS,gBAAiBqB,GAAqBJ,OACjG,CACLJ,EAAab,SAASkB,GACtB,IAAIK,EAAcL,EAAkBL,EAAab,SAASkB,GAAmBZ,GAC7Ea,EAAW,YAAS,YAAS,GAAII,GAAcN,GAMjD,OAHAE,EAASzpC,KAAOspC,EAChBG,EAASlP,SAAW,OACpB4O,EAAaG,GAAaG,EACnBA,GAGTV,EAAMe,aAAe,SAAUR,EAAWS,EAAgBP,GACxD,IAAIL,EAAeJ,EAAMiB,KACrBH,EAAcL,EAAkBL,EAAab,SAASkB,GAAmBZ,GAEzEa,EAAW,YAAS,YAAS,GAAII,GAAcE,GAKnD,OAHAN,EAASzpC,KAAOspC,EAChBG,EAASlP,SAAW,OACpB4O,EAAaG,GAAaG,EACnBA,GAGTV,EAAMkB,cAAgB,SAAUX,EAAWY,EAAiBV,GAC1D,IAAIL,EAAeJ,EAAMoB,MACrBN,EAAcL,EAAkBL,EAAab,SAASkB,GAAmBZ,GAEzEa,EAAW,YAAS,YAAS,GAAII,GAAcK,GAKnD,OAHAT,EAASzpC,KAAOspC,EAChBG,EAASlP,SAAW,QACpB4O,EAAaG,GAAaG,EACnBA,GAGFV,EAlET,GAqEe,MAEf,GAAMC,gBAAgB,OAAQ,CAC5BZ,iBAAkB,WAGpB,GAAMY,gBAAgB,OAAQ,CAC5BZ,iBAAkB,SAGpB,GAAMY,gBAAgB,QAAS,CAC7BZ,iBAAkB,WCpQpB,IAy0Be,GAn0Bf,WACE,SAASgC,EAASnwB,GAChBpd,KAAKwtC,KAAO,GACZxtC,KAAK8gC,WAAY,EACjB,IAAI2M,EAAa,CAKfrf,QAAIniB,EAMJ9I,KAAM,OAMNiU,MAAO,GAMP8b,WAAOjnB,EAMPq5B,SAAS,EAMTjoB,SAAS,EAMTqwB,QAAQ,EAMRze,OAAO,EAMP0e,cAAU1hC,EAMV2hC,OAAQ,IAEV5tC,KAAKwtC,KAAO1sC,OAAO0S,OAAOi6B,EAAYztC,KAAKyuB,gBAAiBrR,GAC5D,IAAIhG,EAAQpX,KAAKiB,IAAI,SACjBmtB,EAAKhX,EAAMgX,GACXsP,EAAW19B,KAAKiB,IAAI,QAEnBmtB,IACHA,EAAKyU,GAASnF,GACd19B,KAAKiB,IAAI,SAASmtB,GAAKA,GAGzBpuB,KAAKsH,IAAI,KAAM8mB,GACf,IAAI8E,EAAQ9V,EAAI8V,MAEZA,IACFA,EAAM5rB,IAAI,OAAQtH,MAClBkzB,EAAM5rB,IAAI,KAAM8mB,IAGlBpuB,KAAKuG,OACLvG,KAAKwpC,OACL,IAAIiD,EAAYr1B,EAAMwyB,OAASxyB,EAAMjU,OAAsB,SAAbu6B,EAAsB,OAAS,UACzE4O,EAAetsC,KAAKiB,IAAI,gBAE5B,GAAIqrC,GAAgBA,EAAaG,GAAY,CAC3C,IAAI17B,EAAUu7B,EAAaG,GAAW17B,QAEtC,GAAIA,GAAWA,EAAQ88B,YAAa,CAClC,IAAIC,EAAS9tC,KAAKiB,IAAI,WAAamW,EAAMy2B,YACzCC,EAAS,kBAAQ,GAAI/8B,EAAQ88B,YAAaC,GAC1C9tC,KAAKsH,IAAI,SAAUwmC,KAkuBzB,OAztBAP,EAASvrC,UAAU+rC,cAAgB,WACjC,IAAIJ,EAAW3tC,KAAKiB,IAAI,YACpBiyB,EAAQlzB,KAAKiB,IAAI,SAEjBqyB,EAAO,GAAQqa,EAAUza,GAO7B,OANAI,EAAKrR,EAAIqR,EAAKE,KACdF,EAAK1e,EAAI0e,EAAKG,KACdH,EAAK/gB,MAAQ+gB,EAAKkB,KAAOlB,EAAKE,KAC9BF,EAAKxS,OAASwS,EAAKmB,KAAOnB,EAAKG,KAC/BH,EAAK8D,SAAW9D,EAAKE,KAAOF,EAAKkB,MAAQ,EACzClB,EAAK+D,SAAW/D,EAAKG,KAAOH,EAAKmB,MAAQ,EAClCnB,GAOTia,EAASvrC,UAAUgsC,oBAAsB,WACvC,IAAIL,EAAW3tC,KAAKiB,IAAI,YACpBiyB,EAAQlzB,KAAKiB,IAAI,SAEjBqyB,EAAO,GAAQqa,EAAUza,GAO7B,OANAI,EAAKrR,EAAIqR,EAAKE,KACdF,EAAK1e,EAAI0e,EAAKG,KACdH,EAAK/gB,MAAQ+gB,EAAKkB,KAAOlB,EAAKE,KAC9BF,EAAKxS,OAASwS,EAAKmB,KAAOnB,EAAKG,KAC/BH,EAAK8D,SAAW9D,EAAKE,KAAOF,EAAKkB,MAAQ,EACzClB,EAAK+D,SAAW/D,EAAKG,KAAOH,EAAKmB,MAAQ,EAClCnB,GAOTia,EAASvrC,UAAUisC,UAAY,WAC7B,IACI3B,EADOtsC,KACaiB,IAAI,gBACxBiyB,EAFOlzB,KAEMiB,IAAI,SACjBmW,EAHOpX,KAGMiB,IAAI,SACrBiyB,EAAMgb,QACN,IAAI7wB,EAAUjG,EAAMiG,QAGpB,QAFgBpR,IAAZoR,GAA0BA,GANnBrd,KAMiCmuC,iBAAiB9wB,GAExDivB,EAAL,CARWtsC,KAYNouC,eAAeh3B,GACpB,IAAIgG,EAbOpd,KAaIquC,YAAYj3B,GAEvBq1B,EAAYrvB,EAAIja,KAChBwqC,EAAWrB,EAAa9C,KAAKiD,EAAWrvB,EAAK8V,GAE7Cya,IAlBO3tC,KAmBJsH,IAAI,WAAYqmC,GACrBA,EAASrmC,IAAI,cAAc,GAC3BqmC,EAASrmC,IAAI,aAAa,IAG5BtH,KAAKsuC,iBAELtuC,KAAKsH,IAAI,eAAgBmlC,GACzBzsC,KAAKuuC,cAAcjC,EAAcG,KASnCc,EAASvrC,UAAUssC,eAAiB,WAClC,IACIjgB,EADQruB,KAAKiB,IAAI,SACAA,IAAI,YACrB0sC,EAAW3tC,KAAKg7B,cAChB9gB,EAAOla,KACPwuC,EAAeb,EAAS1sC,IAAI,QAEhC,GAAKjB,KAAKiB,IAAI,eA6BP,CAGL,IAAIwtC,EAAWzuC,KAAKkrC,iBAEhBsD,IAAiBC,EAASD,KAAeC,EAASD,GAAgB,IAEtE,IAAIE,EAAuB1uC,KAAK2uC,wBAEhC,eAAKtgB,GAAU,SAAUkQ,GACvB,IAAI59B,EAAO49B,EAAMt9B,IAAI,QACjB2tC,EAAarQ,EAAM4M,OAEvB,GAAIxqC,GAAQA,IAAS6tC,EAAc,CAEjC,IAAIK,EAAoBH,EAAqB/tC,GACxC8tC,EAAS9tC,KAAO8tC,EAAS9tC,GAAQ,IAElCkuC,EACF/tC,OAAO8C,KAAKgrC,GAAYn+B,SAAQ,SAAU9O,GACxC,IAAIN,EAAQutC,EAAWjtC,GACnBN,IAAUwtC,EAAkBltC,KAAM8sC,EAAS9tC,GAAMgB,GAAON,MAG9DotC,EAAS9tC,GAA8B,UAAtB49B,EAAMt9B,IAAI,QAAsB,gBAAM2tC,GAAc10B,EAAK40B,oBAAoBnuC,OAE3F,CACL,IAAIouC,EAAexQ,EAAM4M,OAErB6D,EAAwB,YAAS,YAAS,GAAIN,GAAuBA,EAAqBF,IAE9F1tC,OAAO8C,KAAKmrC,GAAct+B,SAAQ,SAAU9O,GAC1C,IAAIN,EAAQ0tC,EAAaptC,GAGrBqtC,EAAsBrtC,KAASN,IAC7BmtC,EAAcC,EAASD,GAAc7sC,GAAON,EAAWotC,EAAS9sC,GAAON,UAK/EotC,EAAS79B,aAAa69B,EAAS79B,KAC/B69B,EAAS1c,eAAe0c,EAAS1c,OACjC0c,EAASxsB,UAAUwsB,EAASxsB,EAC5BwsB,EAAS75B,UAAU65B,EAAS75B,EAC5B65B,EAASD,IAAiBC,EAASD,GAAcvsB,UAAUwsB,EAASD,GAAcvsB,EAClFwsB,EAASD,IAAiBC,EAASD,GAAc55B,UAAU65B,EAASD,GAAc55B,EACtFsF,EAAK5S,IAAI,cAAemnC,OA5EI,CAE5B,IAAIQ,EAAiB,GACrB,eAAK5gB,GAAU,SAAUkQ,GACvB,IAAIkO,EAAYlO,EAAMt9B,IAAI,QACtBN,EAAO49B,EAAMt9B,IAAI,QAErB,GAAIN,GAAQA,IAAS6tC,EACnBS,EAAetuC,GAAsB,UAAd8rC,EAAwB,gBAAMlO,EAAM4M,QAAUjxB,EAAK40B,oBAAoBnuC,OACzF,CAEL,IAAIuuC,EAAgBh1B,EAAK40B,sBAKzB,GAHII,EAAct+B,aAAas+B,EAAct+B,KACzCs+B,EAAcnd,eAAemd,EAAcnd,OAE1Cyc,EAIH,GAAK7tC,EAIEsuC,EAAeT,GAAgBU,MAJ3B,CACT,IAAIC,EAAYtM,GAAS,SACzBtE,EAAMj3B,IAAI,OAAQ6nC,GAClBF,EAAeE,GAA2B,UAAd1C,EAAwB,gBAAMlO,EAAM4M,QAAUjxB,EAAK40B,oBAAoBnuC,QANrGG,OAAO0S,OAAOy7B,EAAgBC,OAWpCh1B,EAAK5S,IAAI,cAAe2nC,KA0D5B1B,EAASvrC,UAAUusC,cAAgB,SAAUjC,EAAcG,GACzD,IAAIvyB,EAAOla,KACP4tC,EAAS1zB,EAAKjZ,IAAI,UACtB,eAAK2sC,GAAQ,SAAUwB,GACrB9C,EAAaT,SAASY,EAAW2C,GAAO,EAAMl1B,OAIlDqzB,EAASvrC,UAAUuE,KAAO,WACxB,IAAI+lC,EAAe,GAAMC,WAAWvsC,KAAKiB,IAAI,SAC7CjB,KAAKsH,IAAI,eAAgBglC,IAU3BiB,EAASvrC,UAAUf,IAAM,SAAUU,GACjC,OAAO3B,KAAKwtC,KAAK7rC,IAUnB4rC,EAASvrC,UAAUsF,IAAM,SAAU3F,EAAKiG,GAClC,wBAAcjG,GAChB3B,KAAKwtC,KAAO,YAAS,YAAS,GAAIxtC,KAAKwtC,MAAO7rC,GAE9C3B,KAAKwtC,KAAK7rC,GAAOiG,GAIrB2lC,EAASvrC,UAAUysB,cAAgB,WACjC,MAAO,IAOT8e,EAASvrC,UAAUqtC,WAAa,WAC9BrvC,KAAKsH,IAnUQ,YAmUQ,MACrBtH,KAAKsH,IAnUe,kBAmUQ,OAO9BimC,EAASvrC,UAAUstC,WAAa,aAMhC/B,EAASvrC,UAAU0pC,UAAY,aAM/B6B,EAASvrC,UAAU4pC,YAAc,aAMjC2B,EAASvrC,UAAUwnC,KAAO,WACxBxpC,KAAKsvC,aACLtvC,KAAKiuC,YACLjuC,KAAK0rC,aAGP6B,EAASvrC,UAAU8sC,oBAAsB,SAAUnuC,GACjD,IACI4uC,EADArc,EAAQlzB,KAAKiB,IAAI,SAWrB,GAPEsuC,EADE5uC,EACauyB,EAAM5uB,MAAK,SAAUk2B,GAClC,OAAOA,EAAQv5B,IAAI,UAAYN,KAGlBX,KAAKg7B,cAGJ,CAChB,IAAIwU,EAAW,GAOf,OANA,eAAKD,EAAapE,QAAQ,SAAUvjC,EAAKjG,GAE3B,QAARA,IACF6tC,EAAS7tC,GAAOiG,MAGb4nC,EAGT,MAAO,IAGTjC,EAASvrC,UAAUqsC,YAAc,SAAUj3B,GACzC,IAAI02B,EAAS9tC,KAAKiB,IAAI,UAEtB,GAAI6sC,EAAQ,CAEV,IAAI2B,EAAWr4B,EAEf,OADAq4B,EAASxxB,MAAQ,YAAS,YAAS,GAAI6vB,GAAS12B,EAAM6G,OAC/CwxB,EAGT,OAAOr4B,GAQTm2B,EAASvrC,UAAU0tC,cAAgB,SAAUN,GAC3C,IAAItB,EAAS9tC,KAAKiB,IAAI,UAEtB,OADiB6sC,GAAUA,EAAOsB,IAQpC7B,EAASvrC,UAAUkpC,eAAiB,WAClC,OAAOlrC,KAAKiB,IAAI,gBAGlBssC,EAASvrC,UAAU2sC,sBAAwB,WACzC,IAAIz0B,EAAOla,KACP8tC,EAAS,GACTF,EAAS1zB,EAAKy1B,YAElB,OAAK/B,GAAWA,EAAOtrC,QAIvB,eAAK4X,EAAKy1B,aAAa,SAAUP,GAC/BtB,EAAShtC,OAAO0S,OAAOs6B,EAAQ5zB,EAAKw1B,cAAcN,OAE7CtB,GANE9tC,KAAKkrC,kBAgBhBqC,EAASvrC,UAAU6pC,SAAW,SAAUuD,EAAO/tC,GAC7C,IAAIusC,EAAS5tC,KAAKiB,IAAI,UAClBqrC,EAAetsC,KAAKiB,IAAI,gBACxB2uC,EAAYR,EACZS,EAAkBT,EAElB,mBAAS/tC,KACXuuC,EAAY,GAAG5qC,OAAOoqC,EAAO,KAAKpqC,OAAO3D,GACzCwuC,EAAkB,GAAG7qC,OAAOoqC,EAAO,MAGrC,IAAIU,EAAYlC,EAEhB,GAAI,oBAAUvsC,GAAQ,CACpB,IAAIwB,EAAQ+qC,EAAOnrC,QAAQotC,GAE3B,GAAIxuC,EAAO,CACT,GAAIwB,GAAS,EACX,OAGF+qC,EAAO9qC,KAAK8sC,QACH/sC,GAAS,GAClB+qC,EAAO5nC,OAAOnD,EAAO,QAElB,GAAI,mBAASxB,GAAQ,CAE1B,IAAI0uC,EAAenC,EAAOlrC,QAAO,SAAU/B,GACzC,OAAOA,EAAKmQ,SAAS++B,MAGnBE,EAAaztC,OAAS,GACxBtC,KAAKgwC,YAAYD,IAGnBD,EAAYA,EAAUptC,QAAO,SAAU/B,GACrC,OAAQA,EAAKmQ,SAAS++B,OAEd/sC,KAAK8sC,GACf5vC,KAAKsH,IAAI,SAAUwoC,GAGrB,GAAIxD,EAAc,CAChB,IACInpC,EADQnD,KAAKiB,IAAI,SACJkC,KAEjBmpC,EAAaT,SAAS1oC,EAAMisC,EAAO/tC,EAAOrB,QAS9CutC,EAASvrC,UAAUguC,YAAc,SAAUpC,GACzC,IAAI1zB,EAAOla,KACPiwC,EAAe/1B,EAAKy1B,YACpBrD,EAAepyB,EAAKjZ,IAAI,gBAExB2oC,EADQ1vB,EAAKjZ,IAAI,SACHkC,KAEbyqC,IACHA,EAASqC,GAGP,mBAASrC,KACXA,EAAS,CAACA,IAGZ,IAAIkC,EAAYG,EAAavtC,QAAO,SAAU0sC,GAC5C,OAAkC,IAA3BxB,EAAOnrC,QAAQ2sC,MAExBl1B,EAAK5S,IAAI,SAAUwoC,GACnBlC,EAAOn9B,SAAQ,SAAU2+B,GACvB9C,EAAaT,SAASjC,EAAOwF,GAAO,EAAOl1B,OAS/CqzB,EAASvrC,UAAUioC,aAAe,WAChC,OAAOjqC,KAAKiB,IAAI,UAQlBssC,EAASvrC,UAAUg5B,YAAc,WAC/B,OAAOh7B,KAAKiB,IAAI,aAQlBssC,EAASvrC,UAAUkuC,SAAW,WAC5B,OAAOlwC,KAAKiB,IAAI,UAQlBssC,EAASvrC,UAAUqK,QAAU,WAC3B,OAAOrM,KAAKiB,IAAI,SAOlBssC,EAASvrC,UAAUmuC,MAAQ,WACzB,OAAOnwC,KAAKiB,IAAI,OAOlBssC,EAASvrC,UAAUouC,OAAS,WAC1B,OAAO,GAQT7C,EAASvrC,UAAU2tC,UAAY,WAC7B,OAAO3vC,KAAKiB,IAAI,WASlBssC,EAASvrC,UAAUquC,SAAW,SAAUjB,GAEtC,OADapvC,KAAK2vC,YACJltC,QAAQ2sC,IAAU,GAWlC7B,EAASvrC,UAAUsuC,QAAU,WAC3B,IAAIl5B,EAAQpX,KAAKiB,IAAI,SAErBjB,KAAKouC,eAAeh3B,GAEpBpX,KAAKuwC,cAELvwC,KAAK4rC,cAEL5rC,KAAKqvC,cAGP9B,EAASvrC,UAAUwuC,WAAa,SAAUpzB,GACxC,OAAO,GASTmwB,EAASvrC,UAAU+nC,OAAS,SAAU3sB,EAAKqzB,QACxB,IAAbA,IACFA,GAAW,GAGb,IAAIr5B,EAAQpX,KAAKiB,IAAI,SACjByvC,EAAat5B,EAAMiG,QACnBszB,EAAavzB,EAAIC,QACjBqzB,IAAeC,QAA6B1kC,IAAf0kC,GAA0B3wC,KAAKmuC,iBAAiBwC,GACjF,IAAIC,EACCx5B,EAAM6K,EADP2uB,EAECx5B,EAAMxC,EAEXwI,EAAI6E,EAAItc,MAAMyX,EAAI6E,GAAK7K,EAAM6K,EAAI7E,EAAI6E,EACrC7E,EAAIxI,EAAIjP,MAAMyX,EAAIxI,GAAKwC,EAAMxC,EAAIwI,EAAIxI,EACrC,IAAIk5B,EAAS9tC,KAAKiB,IAAI,UAEtB,GAAImc,EAAIywB,YAAa,CAEnB,IAAIA,EAAczwB,EAAIywB,YACtB,cAAIC,EAAQD,UACLzwB,EAAIywB,YAIb/sC,OAAO0S,OAAO4D,EAAOgG,GAIjBqzB,EACFzwC,KAAKouC,eAAehxB,IAGhBwzB,IAAqBxzB,EAAI6E,GAAK2uB,IAAqBxzB,EAAIxI,GACzD5U,KAAKouC,eAAehxB,GAGtBpd,KAAKuwC,eAGPvwC,KAAK4rC,cACL5rC,KAAKqvC,cAOP9B,EAASvrC,UAAUuuC,YAAc,WAC/B,IAAIjE,EAAetsC,KAAKiB,IAAI,gBACxBmW,EAAQpX,KAAKiB,IAAI,SACjB2oC,EAAQxyB,EAAMjU,KAIlB,GAAImpC,EAAazd,aAAa+a,IAAUA,IAAU5pC,KAAKiB,IAAI,gBAAiB,CAC1E,IAAI0tB,EAAY3uB,KAAKquC,YAAYj3B,GACjCk1B,EAAaX,WAAW/B,EAAOjb,EAAW3uB,MAE1CA,KAAKsuC,sBAGLtuC,KAAKwpC,OAIPxpC,KAAKuuC,cAAcjC,EAAc1C,IAQnC2D,EAASvrC,UAAUosC,eAAiB,SAAUhxB,GAC5C,IAAIhG,EAAQpX,KAAKiB,IAAI,SACjBghB,EAAI,gBAAM7E,EAAI6E,GAAK7K,EAAM6K,EAAI7E,EAAI6E,EACjCrN,EAAI,gBAAMwI,EAAIxI,GAAKwC,EAAMxC,EAAIwI,EAAIxI,EACjCse,EAAQlzB,KAAKiB,IAAI,SAErB,GAAI,gBAAMghB,IAAM,gBAAMrN,GACpB,OAAO,EAGTwC,EAAM6K,EAAIA,EACV7K,EAAMxC,EAAIA,EACV,IAAImd,EAASmB,EAAMG,YACnB,QAAItB,GAAUA,EAAO,KAAO9P,GAAK8P,EAAO,KAAOnd,KAC/Cse,EAAM8R,cAEN/R,EAAUC,EAAO,CACfjR,EAAGA,EACHrN,EAAGA,IAEL5U,KAAKqvC,cAEE,IAQT9B,EAASvrC,UAAU4yB,QAAU,WAE3B,IAAItB,EAAOtzB,KAAKiB,IAltBH,aAytBb,OALKqyB,IACHA,EAAOtzB,KAAK+tC,gBACZ/tC,KAAKsH,IAttBM,YAstBUgsB,IAGhBA,GAQTia,EAASvrC,UAAUuxB,cAAgB,WAEjC,IAAID,EAAOtzB,KAAKiB,IAluBI,mBAyuBpB,OALKqyB,IACHA,EAAOtzB,KAAKguC,sBACZhuC,KAAKsH,IAtuBa,kBAsuBUgsB,IAGvBA,GAOTia,EAASvrC,UAAU6uC,QAAU,WACf7wC,KAAKiB,IAAI,SACf4vC,WAORtD,EAASvrC,UAAU8uC,OAAS,WACd9wC,KAAKiB,IAAI,SACf6vC,UAORvD,EAASvrC,UAAU+uC,KAAO,WACxB/wC,KAAKmuC,kBAAiB,IAOxBZ,EAASvrC,UAAUgvC,KAAO,WACxBhxC,KAAKmuC,kBAAiB,IAQxBZ,EAASvrC,UAAUmsC,iBAAmB,SAAU9wB,GAC9C,IAAI6V,EAAQlzB,KAAKiB,IAAI,SAEjBoc,EACF6V,EAAM6d,OAEN7d,EAAM8d,OAGRhxC,KAAKsH,IAAI,UAAW+V,IAQtBkwB,EAASvrC,UAAU09B,UAAY,WAC7B,OAAO1/B,KAAKiB,IAAI,YAQlBssC,EAASvrC,UAAUivC,cAAgB,SAAUC,GAC3C,IAAIhe,EAAQlzB,KAAKiB,IAAI,SAEjBiyB,GACFA,EAAM5rB,IAAI,UAAW4pC,IAIzB3D,EAASvrC,UAAUugC,QAAU,WAC3B,IAAKviC,KAAK8gC,UAAW,CACnB,IAAIwE,EAAUtlC,KAAKiB,IAAI,WACnBiyB,EAAQlzB,KAAKiB,IAAI,SAEjBqkC,GACFpS,EAAMie,cAGRnxC,KAAKqvC,aACLnc,EAAM1sB,SACNxG,KAAKwtC,KAAO,KACZxtC,KAAK8gC,WAAY,IAIdyM,EAh0BT,GCTI6D,GAAU,CACZpjB,OAAQ,QACRC,OAAQ,OAwRK,GA9Qf,SAAUuU,GAGR,SAAS2K,IACP,OAAkB,OAAX3K,GAAmBA,EAAO/6B,MAAMzH,KAAM+O,YAAc/O,KAuQ7D,OA1QA,YAAUmtC,EAAM3K,GAMhB2K,EAAKnrC,UAAUysB,cAAgB,WAC7B,MAAO,CACLtrB,KAAM,OACN03B,WAAY,KACZC,WAAY,KACZK,WAAY,KACZC,SAAU,KACViW,YAAY,IAIhBlE,EAAKnrC,UAAUsvC,OAAS,SAAU3wC,EAAMU,GACtC,IAAIkwC,EAAYH,GAAQzwC,GAzBJ,QA0BhB6wC,EAAW7wC,EA5BI,OA6Bf8wC,EAAUzxC,KAAKiB,IAAIuwC,GAEnBC,IAAYA,EAAQ3Q,WAEtB2Q,EAAQC,WAAW1xC,MAGjB,wBAAcqB,IAEhBrB,KAAKsH,IAAIiqC,EAAWlwC,GACpBrB,KAAKsH,IAAIkqC,EAAU,QAEnBnwC,EAAMswC,QAAQ3xC,MACdA,KAAKsH,IAAIkqC,EAAUnwC,GACnBrB,KAAKsH,IAAIiqC,EAAW,QAWxBpE,EAAKnrC,UAAU4vC,aAAe,SAAUjxC,EAAMyW,EAAOklB,GACnD,IAAIiV,EAAYH,GAAQzwC,GArDJ,QAsDhB6wC,EAAW7wC,EAxDI,OAyDfkwB,EAAQ7wB,KAAKiB,IAAIswC,GAErB,IAAK1gB,EAAO,CACV,IAAIzpB,EAAOpH,KAAKiB,IAAIuwC,GAChBK,EAAalxC,EAzDE,SA0DfmxC,EAAW9xC,KAAK+xC,YAAYpxC,EAAM27B,GAClC0V,EAAc56B,EAAMy6B,GAEnB,gBAAMG,KAETnhB,EAAQzpB,EAAK6qC,qBAAqBD,IAIpCnhB,EAAQA,GAASzpB,EAAKwqC,aAAaE,GAE9B,gBAAMjhB,EAAMhuB,QACf7C,KAAKsH,IAAI,GAAGtC,OAAOrE,EAAM,eAAgBkwB,EAAMhuB,OAInD,OAAOguB,GASTsc,EAAKnrC,UAAU+vC,YAAc,SAAUpxC,EAAM27B,GAC3C,GAAIA,GAAiBA,EAAch6B,OAEjC,OAAOg6B,EADc,WAAT37B,EAAoB,EAAI27B,EAAch6B,OAAS,GAI7D,IAAI4vC,EAAwB,WAATvxC,EAAoB,SAAW,SAElD,OAAOX,KAAKmyC,YAAYD,IAQ1B/E,EAAKnrC,UAAUmwC,YAAc,SAAUxxC,GACrC,IAAI6wC,EAAW7wC,EAxGI,OAyGf4wC,EAAYH,GAAQzwC,GAvGJ,QAwGhByG,EAAOpH,KAAKiB,IAAIuwC,GAEpB,OAAIpqC,EACKA,EAAKnG,IAAI,SAIXjB,KAAKiB,IAAIswC,IAQlBpE,EAAKnrC,UAAUowC,yBAA2B,SAAUh7B,GAClD,IAAIi7B,EAAcryC,KAAKmyC,YAAY,UAC/BG,EAActyC,KAAKmyC,YAAY,UAC/B7F,EAAetsC,KAAKiB,IAAI,gBACxBkC,EAAOiU,EAAMjU,KACjB,OAAOmpC,EAAaR,iBAAiB3oC,EAAM,CACzCg4B,WAAYkX,EACZjX,SAAUkX,KAIdnF,EAAKnrC,UAAUuwC,aAAe,SAAU5xC,GACtC,IAAI6wC,EAAW7wC,EArII,OAsIf4wC,EAAYH,GAAQzwC,GApIJ,QAqIhByG,EAAOpH,KAAKiB,IAAIuwC,GAEpB,GAAIpqC,EAAM,CACR,IAAIksB,EAAOlsB,EAAKwtB,UAChB,MAAO,CACL3S,EAAGqR,EAAK8D,QACRxiB,EAAG0e,EAAK+D,SAKZ,OAAOr3B,KAAKiB,IAAIswC,IAGlBpE,EAAKnrC,UAAUuE,KAAO,WACpBi8B,EAAOxgC,UAAUuE,KAAKhG,KAAKP,MAG3BA,KAAKwyC,UAAUxyC,KAAKiB,IAAI,WACxBjB,KAAKyyC,UAAUzyC,KAAKiB,IAAI,YAG1BksC,EAAKnrC,UAAUqsC,YAAc,SAAUj3B,GACrC,IACIi6B,EADOrxC,KACWiB,IAAI,cAEtBmc,EAAMolB,EAAOxgC,UAAUqsC,YAAY9tC,KAAKP,KAAMoX,GAElD,GAAIi6B,EACFj0B,EAAI+d,WANKn7B,KAMauyC,aAAa,UACnCn1B,EAAIge,SAPKp7B,KAOWuyC,aAAa,cAC5B,CACL,IAAIjW,EAAgBlf,EAAIkf,eATft8B,KASqCoyC,yBAAyBh1B,GACvEA,EAAI+d,WAVKn7B,KAUa4xC,aAAa,SAAUx6B,EAAOklB,GACpDlf,EAAIge,SAXKp7B,KAWW4xC,aAAa,SAAUx6B,EAAOklB,GAKpD,OAFAlf,EAAIyd,WAdO76B,KAcWiB,IAAI,cAC1Bmc,EAAI0d,WAfO96B,KAeWiB,IAAI,cACnBmc,GAOT+vB,EAAKnrC,UAAUkuC,SAAW,WACxB,IAAIwC,EAAM1yC,KAAKiB,IAAI,SACf0xC,EAAa3yC,KAAKiB,IAAI,SAAS+D,OAvLhB,SAwLf4tC,EAAa5yC,KAAKiB,IAAI,SAAS+D,OAxLhB,SA8MnB,OApBI2tC,SACKD,EAAI,SAAS1tC,OA3LH,SA6LjB0tC,EAAI1kB,OAAShuB,KAAKiB,IAAI,QAAQ+D,OA3LZ,UA8LhB4tC,SACKF,EAAI,SAAS1tC,OAjMH,SAmMjB0tC,EAAIzkB,OAASjuB,KAAKiB,IAAI,MAAM+D,OAjMV,UAoMf,mBAAS0tC,EAAI1kB,SAAY,wBAAc0kB,EAAI1kB,UAC9C0kB,EAAI1kB,OAAS0kB,EAAI1kB,OAAOmiB,SAGrB,mBAASuC,EAAIzkB,SAAY,wBAAcykB,EAAIzkB,UAC9CykB,EAAIzkB,OAASykB,EAAIzkB,OAAOkiB,SAGnBuC,GAGTvF,EAAKnrC,UAAUwwC,UAAY,SAAUxkB,GACnChuB,KAAKsxC,OAAO,SAAUtjB,GACtBhuB,KAAKsH,IAAI,SAAU0mB,IAGrBmf,EAAKnrC,UAAUywC,UAAY,SAAUxkB,GACnCjuB,KAAKsxC,OAAO,SAAUrjB,GACtBjuB,KAAKsH,IAAI,SAAU2mB,IAGrBkf,EAAKnrC,UAAUwkC,UAAY,WACzB,OAAOxmC,KAAKiB,IAAI,WAGlBksC,EAAKnrC,UAAU0kC,UAAY,WACzB,OAAO1mC,KAAKiB,IAAI,WAGlBksC,EAAKnrC,UAAUosC,eAAiB,WAC9B,OAAO,GAQTjB,EAAKnrC,UAAU+nC,OAAS,SAAU3sB,EAAKqzB,QACpB,IAAbA,IACFA,GAAW,GAGb,IAAIr5B,EAAQpX,KAAKiB,IAAI,SACjByvC,EAAat5B,EAAMiG,QACnBszB,EAAavzB,EAAIC,QACjBqzB,IAAeC,QAA6B1kC,IAAf0kC,GAA0B3wC,KAAKmuC,iBAAiBwC,GACjF,IAAI7C,EAAS9tC,KAAKiB,IAAI,UAEtB,GAAImc,EAAIywB,YAAa,CAEnB,IAAIA,EAAczwB,EAAIywB,YACtB,cAAIC,EAAQD,UACLzwB,EAAIywB,YAGb/sC,OAAO0S,OAAO4D,EAAOgG,GACrBpd,KAAKuwC,cACLvwC,KAAK4rC,cACL5rC,KAAKqvC,cAGPlC,EAAKnrC,UAAUugC,QAAU,WACvB,IAAIoQ,EAAa3yC,KAAKiB,IAAI,SAAS+D,OArQhB,SAsQf4tC,EAAa5yC,KAAKiB,IAAI,SAAS+D,OAtQhB,SAwQf2tC,IAAeA,EAAW7R,WAC5B6R,EAAWjB,WAAW1xC,MAGpB4yC,IAAeA,EAAW9R,WAC5B8R,EAAWlB,WAAW1xC,MAGxBwiC,EAAOxgC,UAAUugC,QAAQhiC,KAAKP,OAGzBmtC,EA3QT,CA4QE,ICUa,GA5Rf,SAAU3K,GAGR,SAASqK,IACP,OAAkB,OAAXrK,GAAmBA,EAAO/6B,MAAMzH,KAAM+O,YAAc/O,KAqR7D,OAxRA,YAAU6sC,EAAMrK,GAMhBqK,EAAK7qC,UAAU6wC,gBAAkB,SAAU/hB,EAAQgiB,GAKjD,IAJA,IAAIjwC,EAAQ,EACRkwC,EAAejiB,EAAO,GACtBmG,EAAc,EAASnG,EAAO,GAAIgiB,GAE7B1yC,EAAI,EAAGA,EAAI0wB,EAAOxuB,OAAQlC,IAAK,CACtC,IAAIywB,EAAQC,EAAO1wB,GACf4yC,EAAM,EAASniB,EAAOiiB,GAEtBE,EAAM/b,IACR8b,EAAeliB,EACfoG,EAAc+b,EACdnwC,EAAQzC,GAKZ,OADA2yC,EAAaf,YAAcnvC,EACpBkwC,GAGTlG,EAAK7qC,UAAUysB,cAAgB,WAC7B,MAAO,CACLtrB,KAAM,OACNgrB,MAAO,KAQX0e,EAAK7qC,UAAUixC,SAAW,WACxB,OAAOjzC,KAAKiB,IAAI,UAOlB4rC,EAAK7qC,UAAUkxC,WAAa,WAC1B,IAAIh5B,EAAOla,KACX,OAAOA,KAAKiB,IAAI,SAASyB,QAAO,SAAUk+B,GACxC,OAAOA,EAAK3/B,IAAI,YAAciZ,MAQlC2yB,EAAK7qC,UAAUmxC,YAAc,WAC3B,IAAIj5B,EAAOla,KACX,OAAOA,KAAKiB,IAAI,SAASyB,QAAO,SAAUk+B,GACxC,OAAOA,EAAK3/B,IAAI,YAAciZ,MAWlC2yB,EAAK7qC,UAAUoxC,aAAe,SAAUjwC,GACtC,IAAIosB,EAAQvvB,KAERmuB,EAAQnuB,KAAKiB,IAAI,SAErB,GAAa,WAATkC,EAAmB,CAMrB,OAAOgrB,EAAMzrB,QAJe,SAA+Bk+B,GACzD,OAAOA,EAAK4F,cAAgBjX,KAGahf,KAAI,SAAUqwB,GACvD,OAAOA,EAAK8F,eAIhB,GAAa,WAATvjC,EAAmB,CAMrB,OAAOgrB,EAAMzrB,QAJe,SAA+Bk+B,GACzD,OAAOA,EAAK8F,cAAgBnX,KAGahf,KAAI,SAAUqwB,GACvD,OAAOA,EAAK4F,eAShB,OAAOrY,EAAM5d,KAJa,SAA6BqwB,GACrD,OAAOA,EAAK4F,cAAgBjX,EAAQqR,EAAK8F,YAAc9F,EAAK4F,gBAWhEqG,EAAK7qC,UAAUiwC,qBAAuB,SAAUpvC,GAE9C,OADmB7C,KAAKorC,kBACJvoC,IAQtBgqC,EAAK7qC,UAAU4vC,aAAe,SAAU/gB,GACtC,IAGIuG,EACAC,EAHAl0B,EADWnD,KAAKiB,IAAI,YACJA,IAAI,QACpBy8B,EAAW19B,KAAKiB,IAAI,QAGpBqyB,EAAOtzB,KAAK40B,UAEC,UAAb8I,GACFtG,EAAU9D,EAAK8D,UAAY9D,EAAKkB,KAAOlB,EAAKE,MAAQ,EACpD6D,EAAU/D,EAAK+D,UAAY/D,EAAKmB,KAAOnB,EAAKG,MAAQ,IAEpD2D,EAAU9D,EAAK8D,QACfC,EAAU/D,EAAK+D,SAGjB,IACIgc,EADAxT,EAAe7/B,KAAKorC,kBAGxB,OAAQjoC,GACN,IAAK,SACHkwC,EAAiBriB,EAA0B,CACzC/O,EAAGmV,EACHxiB,EAAGyiB,EACHn2B,EAAGoyB,EAAK/gB,MAAQ,GACfse,GACH,MAEF,IAAK,UACHwiB,EAAiB1hB,EAA2B,CAC1C1P,EAAGmV,EACHxiB,EAAGyiB,EACHxF,GAAIyB,EAAK/gB,MAAQ,EACjBuf,GAAIwB,EAAKxS,OAAS,GACjB+P,GACH,MAEF,QACEwiB,EAAiB1iB,EAAwB2C,EAAMzC,GAGnD,IAAIyiB,EAAYD,EAmBhB,OAjBIxT,EAAav9B,SACVgxC,IAEHA,EAAYziB,GAGdyiB,EAAYtzC,KAAK6yC,gBAAgBhT,EAAcyT,IAG5CA,IAEHA,EAAY,CACVrxB,EAAGmV,EACHxiB,EAAGyiB,IAIAic,GAQTzG,EAAK7qC,UAAUopC,gBAAkB,WAC/B,IAAIvL,EAAe7/B,KAAKiB,IAnMF,qBAqMtB,IAAK4+B,EAAc,CACjBA,EAAe,GACf,IAAIyM,EAAetsC,KAAKiB,IAAI,gBACxBsyC,EAASvzC,KAAK40B,UACdxd,EAAQpX,KAAKiB,IAAI,SACjBuyC,EAAWxzC,KAAKquC,YAAYj3B,GAC5BjU,EAAOiU,EAAMjU,KACb2tB,EAASwb,EAAalB,gBAAgBjoC,EAAMqwC,IAAa,GAC7D,eAAK1iB,GAAQ,SAAU2iB,EAAU5wC,GAC/B,IAAIguB,EAAQ,CACV5O,EAAGsxB,EAAO/f,KAAOigB,EAAS,GAAKF,EAAOhhC,MACtCqC,EAAG2+B,EAAO9f,KAAOggB,EAAS,GAAKF,EAAOzyB,OACtCkxB,YAAanvC,GAEfg9B,EAAa/8B,KAAK+tB,MAEpB7wB,KAAKsH,IArNe,oBAqNUu4B,GAGhC,OAAOA,GAQTgN,EAAK7qC,UAAU2vC,QAAU,SAAU/Q,GACjC5gC,KAAKiB,IAAI,SAAS6B,KAAK89B,IAOzBiM,EAAK7qC,UAAU0xC,KAAO,WACpB1zC,KAAKsH,IAAI,UAAU,IAOrBulC,EAAK7qC,UAAU2xC,OAAS,WACtB3zC,KAAKsH,IAAI,UAAU,IAGrBulC,EAAK7qC,UAAU4xC,UAAY,WACzB,OAAO5zC,KAAKiB,IAAI,WAQlB4rC,EAAK7qC,UAAU0vC,WAAa,SAAU9Q,GACpC,IAAIzS,EAAQnuB,KAAKizC,WACbpwC,EAAQsrB,EAAM1rB,QAAQm+B,GAEtB/9B,GAAS,GACXsrB,EAAMnoB,OAAOnD,EAAO,IAIxBgqC,EAAK7qC,UAAUqtC,WAAa,WAC1BrvC,KAAKsH,IAtQQ,YAsQQ,MAErBtH,KAAKsH,IAzQiB,oBAyQQ,OAQhCulC,EAAK7qC,UAAUwuC,WAAa,SAAUpzB,GACpC,IAAKA,EACH,OAAO,EAGT,IAAIy2B,GAAU,gBAAMz2B,EAAI6E,GACpB6xB,GAAU,gBAAM12B,EAAIxI,GACpBhR,EAAO9C,OAAO8C,KAAKwZ,GAGvB,OAAuB,IAAhBxZ,EAAKtB,SAAiBuxC,GAAUC,IAA2B,IAAhBlwC,EAAKtB,QAAgBuxC,GAAUC,GAG5EjH,EAzRT,CA0RE,ICKa,GA5Rf,SAAUrK,GAGR,SAAS8K,IACP,OAAkB,OAAX9K,GAAmBA,EAAO/6B,MAAMzH,KAAM+O,YAAc/O,KAqR7D,OAxRA,YAAUstC,EAAO9K,GAMjB8K,EAAMtrC,UAAUysB,cAAgB,WAC9B,MAAO,CACLtrB,KAAM,QACN+qB,MAAO,GACPC,MAAO,GACPiS,OAAQ,KAIZkN,EAAMtrC,UAAUqsC,YAAc,SAAUj3B,GACtC,IAAI02B,EAAS9tC,KAAKiB,IAAI,UAClBqyB,EAAOtzB,KAAKiB,IAAI,QAEpB,GAAI6sC,GAAUxa,EAAM,CAElB,IAAImc,EAAWr4B,EACXlH,EAAO,CACThP,EAAGmE,KAAK0uC,MAAMzgB,EAAKxS,OAAQwS,EAAK/gB,OAAS,GAAK,GAAOoO,aAAazQ,KAAK,GAAK,EAC5EqC,MAAO+gB,EAAK/gB,OAAS,GAAOoO,aAAazQ,KAAK,GAC9C4Q,OAAQwS,EAAKxS,QAAU,GAAOH,aAAazQ,KAAK,IAElDu/B,EAASxxB,MAAQ,YAAS,YAAS,YAAS,GAAI6vB,GAAS12B,EAAM6G,OAAQ/N,GACvE,IAAI6Q,EAAU3J,EAAM2J,SAAW,GAAOJ,aAAaI,QAanD,OAXI,mBAASA,IACX7Q,EAAKhP,GAAK6f,EACV7Q,EAAKqC,OAAmB,EAAVwO,EACd7Q,EAAK4Q,QAAoB,EAAVC,IAEf7Q,EAAKhP,GAAK6f,EAAQ,GAClB7Q,EAAKqC,OAASwO,EAAQ,GAAKA,EAAQ,IAAmB,EAAbA,EAAQ,GACjD7Q,EAAK4Q,QAAUC,EAAQ,GAAKA,EAAQ,IAAmB,EAAbA,EAAQ,IAGpD/gB,KAAKsH,IA9CM,YA8CU4I,GACdu/B,EAGT,OAAOr4B,GAOTk2B,EAAMtrC,UAAUgsC,oBAAsB,WACpC,IAAIhuC,KAAK8gC,UAAT,CACA,IAAI6M,EAAW3tC,KAAKiB,IAAI,YACpBiyB,EAAQlzB,KAAKiB,IAAI,SAEjBqyB,EAAO,GAAQqa,EAAUza,GAC7BI,EAAK8D,SAAW9D,EAAKE,KAAOF,EAAKkB,MAAQ,EACzClB,EAAK+D,SAAW/D,EAAKG,KAAOH,EAAKmB,MAAQ,EACzC,IAAIuf,EAAYh0C,KAAKiB,IAjER,aAkETgzC,EAAYj0C,KAAKiB,IApER,cAoE2B,GACpCizC,EAAOD,EAAUhyB,EACjBkyB,EAAOF,EAAUhyB,EAErB,GAAI+xB,EACFA,EAAUzhC,MAAQlN,KAAKC,IAAI0uC,EAAUzhC,MAAO+gB,EAAK/gB,OACjDyhC,EAAUlzB,OAASzb,KAAKC,IAAI0uC,EAAUlzB,OAAQwS,EAAKxS,QAGtC,WAFF6sB,EAAS1sC,IAAI,SAGtBqyB,EAAK/gB,MAAsB,EAAdyhC,EAAU9yC,EACvBoyB,EAAKxS,OAAuB,EAAdkzB,EAAU9yC,IAExBoyB,EAAK/gB,MAAQyhC,EAAUzhC,MACvB+gB,EAAKxS,OAASkzB,EAAUlzB,QAG1BwS,EAAKE,KAAOF,EAAK8D,QAAU9D,EAAK/gB,MAAQ,EACxC+gB,EAAKG,KAAOH,EAAK+D,QAAU/D,EAAKxS,OAAS,EACzCwS,EAAKkB,KAAOlB,EAAK8D,QAAU9D,EAAK/gB,MAAQ,EACxC+gB,EAAKmB,KAAOnB,EAAK+D,QAAU/D,EAAKxS,OAAS,OAEzCwS,EAAK/gB,MAAQ+gB,EAAKkB,KAAOlB,EAAKE,KAC9BF,EAAKxS,OAASwS,EAAKmB,KAAOnB,EAAKG,KAC/BH,EAAK8D,SAAW9D,EAAKE,KAAOF,EAAKkB,MAAQ,EACzClB,EAAK+D,SAAW/D,EAAKG,KAAOH,EAAKmB,MAAQ,EAM3C,OAHAnB,EAAKrR,EAAIqR,EAAKE,KACdF,EAAK1e,EAAI0e,EAAKG,KACVH,EAAKrR,IAAMiyB,GAAQ5gB,EAAK1e,IAAMu/B,GAAMn0C,KAAKsH,IA/FvB,oBA+FgD,MAC/DgsB,IAOTga,EAAMtrC,UAAUoyC,YAAc,WAE5B,MAAO,CACLlmB,MAFSluB,KAEGq0C,WACZjU,OAHSpgC,KAGIs0C,cAQjBhH,EAAMtrC,UAAUqyC,SAAW,WAEzB,OADWr0C,KACCiB,IAAI,UAOlBqsC,EAAMtrC,UAAUsyC,UAAY,WAE1B,OADWt0C,KACCiB,IAAI,WASlBqsC,EAAMtrC,UAAUuyC,SAAW,SAAUntC,GAInC,OAFeA,EAAKiF,WAGlB,IAAK,OAJIrM,KAKFw0C,QAAQptC,GACb,MAEF,IAAK,QARIpH,KASFy0C,SAASrtC,GACd,MAEF,QAEE,OADAkT,QAAQC,KAAK,kEACN,EAGX,OAAO,GAST+yB,EAAMtrC,UAAUyyC,SAAW,SAAUxW,GAGnC,OAFWj+B,KACNiB,IAAI,UAAU6B,KAAKm7B,IACjB,GASTqP,EAAMtrC,UAAUwyC,QAAU,SAAU1hB,GAGlC,OAFW9yB,KACNiB,IAAI,SAAS6B,KAAKgwB,IAChB,GASTwa,EAAMtrC,UAAU+oC,YAAc,SAAU3jC,GAItC,OAFeA,EAAKiF,WAGlB,IAAK,OAJIrM,KAKF00C,WAAWttC,GAChB,MAEF,IAAK,QARIpH,KASF20C,YAAYvtC,GACjB,MAEF,QAEE,OADAkT,QAAQC,KAAK,kEACN,EAGX,OAAO,GAST+yB,EAAMtrC,UAAU2yC,YAAc,SAAU1W,GACtC,GAAKA,EAAL,CACA,IAAImC,EAASpgC,KAAKs0C,YACdzxC,EAAQu9B,EAAO39B,QAAQw7B,GAE3B,OAAIp7B,GAAS,IACXu9B,EAAOp6B,OAAOnD,EAAO,IACd,KAYXyqC,EAAMtrC,UAAU0yC,WAAa,SAAU5hB,GACrC,GAAKA,EAAL,CACA,IAAI5E,EAAQluB,KAAKq0C,WACbxxC,EAAQqrB,EAAMzrB,QAAQqwB,GAE1B,OAAIjwB,GAAS,IACXqrB,EAAMloB,OAAOnD,EAAO,IACb,KAMXyqC,EAAMtrC,UAAUwuC,WAAa,SAAUpzB,GACrC,OAAO,GAQTkwB,EAAMtrC,UAAU4yB,QAAU,WAGxB,OAFA50B,KAAKsH,IAjQe,kBAiQQ,MACjBtH,KAAKguC,uBAIlBV,EAAMtrC,UAAUqtC,WAAa,WAC3BrvC,KAAKsH,IAxQQ,YAwQQ,MAErBtH,KAAKsH,IAzQe,kBAyQQ,MAC5BtH,KAAKsH,IAxQiB,oBAwQQ,OAGhCgmC,EAAMtrC,UAAUugC,QAAU,WACxB,IAAKviC,KAAK8gC,UAAW,CACnB,IAAIwE,EAAUtlC,KAAKiB,IAAI,WACnBiyB,EAAQlzB,KAAKiB,IAAI,SAEjBqkC,GACFpS,EAAMie,cAGRnxC,KAAKqvC,aACLrvC,KAAKsH,IAtRM,YAsRU,MACrBtH,KAAKsH,IAAI,OAAQ,MACjB4rB,EAAM1sB,SACNxG,KAAKwtC,KAAO,KACZxtC,KAAK8gC,WAAY,IAIdwM,EAzRT,CA0RE,IC2ca,GAjuBf,WACE,SAASsH,EAAe7lB,GACtB/uB,KAAK+uB,MAAQA,EACb/uB,KAAK8gC,WAAY,EA2tBnB,OA/sBA8T,EAAe5yC,UAAU6yC,QAAU,SAAU1xC,EAAMiU,GACjD,IAAI2X,EAAQ/uB,KAAK+uB,MACb+lB,EAzBI,UAyBI3xC,EA1BL,OA0B6BA,EAChC6pB,EAAS+B,EAAM9tB,IAAI,GAAG+D,OAAO8vC,EAAO,WAAa/lB,EAAM9tB,IAAI,SAC3D8zC,EAAY,qBAAWD,GACvB1tC,EAAO,KAEP0mC,EAAS/e,EAAM9tB,IAAI6zC,EAAQ,qBA1BhB,iBA0B6C,GACxDE,EAAejmB,EAAM9tB,IA7BZ,UA6B6B8zC,GAEtC39B,EAAkB,cAEpB02B,EAAS12B,EAAkB,aAGzB49B,GAEF,eAAKA,GAAc,SAAUptC,EAAKwV,GAC5B,mBAASxV,KAAS,kBAAQA,GAC5BwP,EAAMgG,GAAO,kBAAQ,GAAIxV,EAAKwP,EAAMgG,IAC3B,kBAAQxV,GACjBwP,EAAMgG,GAAOhG,EAAMgG,IAAQ,gBAAM43B,EAAa53B,IAE9ChG,EAAMgG,GAAOhG,EAAMgG,IAAQ43B,EAAa53B,MAK9C,IAAI63B,EAASlmB,EAAM9tB,IAAI6zC,EAhDP,UAkDhB,GAAIG,EAAQ,CACV,IAAIC,EAAgBD,EAAO79B,GAEvB89B,EAA0B,cAE5BpH,EAASoH,EAA0B,mBAC5BA,EAA0B,aAInC,eAAKA,GAAe,SAAUttC,EAAKwV,GAC7B,mBAASxV,KAAS,kBAAQA,GAC5BwP,EAAMgG,GAAO,kBAAQ,GAAIhG,EAAMgG,GAAMxV,GAErCwP,EAAMgG,GAAO83B,EAAc93B,IAAQhG,EAAMgG,MAU/C,GALA2R,EAAM3S,KAAK,gBAAiB,CAC1BjZ,KAAMA,EACNiU,MAAOA,IA3EF,SA8EHjU,GA7EI,UA6EaA,EAAgB,CACnC,IAAI6qB,OAAS,EACTC,OAAS,EAab,GAZAD,EAAS5W,EAAM4W,OAEfC,EAAS7W,EAAM6W,OAEXD,GAAU,mBAASA,KACrBA,EAASe,EAAM0Q,SAASzR,IAGtBC,GAAU,mBAASA,KACrBA,EAASc,EAAM0Q,SAASxR,KAGrBD,IAAWC,EAEd,YADA3T,QAAQC,KAAK,qCAAqCvV,OAAOoS,EAAMgX,GAAI,qBAIjEJ,EAAO3hB,SAAgC,UAArB2hB,EAAO3hB,YAC3B+K,EAAM+9B,aAAc,GAGlBlnB,EAAO5hB,SAAgC,UAArB4hB,EAAO5hB,YAC3B+K,EAAM+9B,aAAc,GAGtB/tC,EAAO,IAAI,GAAK,CACdgQ,MAAOA,EACP4W,OAAQA,EACRC,OAAQA,EACR6f,OAAQA,EACRuD,WAAYtiB,EAAM9tB,IAAI,cACtBiyB,MAAOlG,EAAOooB,kBAEX,GAnHA,SAmHIjyC,EACTiE,EAAO,IAAI,GAAK,CACdgQ,MAAOA,EACP02B,OAAQA,EACR5a,MAAOlG,EAAOooB,kBAEX,GAtHC,UAsHGjyC,EAAgB,CACzB,IAAIkrB,EAAWjX,EAAMiX,SACjBkR,EAAYD,GAAajR,EAAUU,GAClCppB,MAAM45B,EAAUtd,GAAmCtc,MAAMyR,EAAM6K,KAAI7K,EAAM6K,EAAoB,IAAhB5c,KAAKy9B,UAA9D1rB,EAAM6K,EAAIsd,EAAUtd,EACxCtc,MAAM45B,EAAU3qB,GAAmCjP,MAAMyR,EAAMxC,KAAIwC,EAAMxC,EAAoB,IAAhBvP,KAAKy9B,UAA9D1rB,EAAMxC,EAAI2qB,EAAU3qB,EAC7C,IAAIygC,EAAaroB,EAAOooB,WACxBC,EAAWC,UAAUl+B,EAAMknB,OAO3B,IAAIiX,GANJnuC,EAAO,IAAI,GAAM,CACfgQ,MAAOA,EACP02B,OAAQA,EACRxa,KAAMlc,EAAMo+B,UAAYlW,GAAa,GAAIvQ,GAASwQ,EAClDrM,MAAOmiB,KAEenF,YACvB7hB,GAAY,IAAI5d,SAAQ,SAAU8tB,GACjC,IAAIiB,EAAYzQ,EAAM0Q,SAASlB,EAAMnQ,IACrChnB,EAAKmtC,SAAS/U,GACdjB,EAAMD,MAAQiX,EAAajX,MAAQ,KAGjClnB,EAAMo+B,WACR9nC,YAAW,WACTqhB,EAAM0mB,cAAcruC,KACnB,IAIP,GAAIA,EAQF,OAPA2nB,EAAM9tB,IAAI,GAAG+D,OAAO7B,EAAM,MAAML,KAAKsE,GACrC2nB,EAAM9tB,IAAI,WAAWmG,EAAKnG,IAAI,OAASmG,EACvC2nB,EAAM3S,KAAK,eAAgB,CACzBhV,KAAMA,EACNgQ,MAAOA,IAGFhQ,GAaXwtC,EAAe5yC,UAAU0zC,WAAa,SAAUtuC,EAAMgW,GACpD,IAAIhE,EAAIivB,EAEJtZ,EAAQ/uB,KAAK+uB,MAMjB,GAJI,mBAAS3nB,KACXA,EAAO2nB,EAAM0Q,SAASr4B,IAGnBA,IAAQA,EAAK05B,UAAlB,CAKA,IAAI39B,EAAO,GACPiE,EAAKiF,UAASlJ,EAAOiE,EAAKiF,WAC9B,IAAI4oC,EAASlmB,EAAM9tB,IAAIkC,EApLP,UAqLZiU,EAAQhQ,EAAK8oC,WACbM,EAAappC,EAAKopC,WAAWpzB,GAEjC,GAAI63B,EAAQ,CACV,IACIU,EAAcV,EADL,kBAAQ,GAAI79B,EAAOgG,IAG5BqyB,EAAW,kBAAQ,GAAIr4B,EAAOu+B,EAAav4B,GAE3Cu4B,EAAwB,cAC1BvuC,EAAKE,IAAI,SAAUmoC,EAAqB,oBACjCA,EAAqB,aAG9B,eAAKA,GAAU,SAAU7nC,EAAKjG,GAC5Byb,EAAIzb,GAAOiG,UAIb,eAAKwV,GAAK,SAAUxV,EAAKjG,GACnByV,EAAMzV,IACJ,mBAASiG,KAAS,kBAAQA,KAC5BwV,EAAIzb,GAAO,YAAS,YAAS,GAAIyV,EAAMzV,IAAOyb,EAAIzb,QAY1D,GALAotB,EAAM3S,KAAK,mBAAoB,CAC7BhV,KAAMA,EACNgW,IAAKA,IAxNA,SA2NHja,EAAe,CAEjB,GAAIia,EAAI4Q,OAAQ,CACd,IAAIA,EAAS5Q,EAAI4Q,OAEb,mBAASA,KACXA,EAASe,EAAM0Q,SAASzR,IAG1B5mB,EAAKorC,UAAUxkB,GAGjB,GAAI5Q,EAAI6Q,OAAQ,CACd,IAAIA,EAAS7Q,EAAI6Q,OAEb,mBAASA,KACXA,EAASc,EAAM0Q,SAASxR,IAG1B7mB,EAAKqrC,UAAUxkB,GAGjB7mB,EAAK2iC,OAAO3sB,GAId,GAtPO,SAsPHja,GAnPI,UAmPaA,EAAgB,CACnCiE,EAAK2iC,OAAO3sB,EAAKozB,GACjB,IAAIoF,EAAUxuC,EAAK6rC,WACfrT,EAAc,GAAkBxiB,GACpC,GAAIwiB,GA1PC,SA0Pcz8B,EAAe,eAAKyyC,GAAS,SAAUhV,GACxDA,EAAK0P,kBACC,GAAI1Q,GAzPN,UAyPqBz8B,EAAgB,CACzC,IAAImpC,EAAellC,EAAKnG,IAAI,gBACxBwrC,EAAYr1B,EAAMjU,MAAQ,eACO8I,IAAlBmL,EAAMkuB,cAAyCr5B,IAAhBmR,EAAIkoB,QAAkH,QAAzF+C,EAAwC,QAAlCjvB,EAAKkzB,EAAaG,UAA+B,IAAPrzB,OAAgB,EAASA,EAAGrI,eAA4B,IAAPs3B,OAAgB,EAASA,EAAG/C,QAAUluB,EAAMkuB,SAAWloB,EAAIkoB,SAGzO53B,YAAW,WACT,GAAKtG,IAAQA,EAAK05B,UAAlB,CACA,IAAI6M,EAAWvmC,EAAK4zB,cACf2S,IAAYA,EAAS7M,WAC1B,eAAK8U,GAAS,SAAUhV,GAClBA,IAASA,EAAKE,WAAWF,EAAK0P,gBAEnC,KAEH,eAAKsF,GAAS,SAAUhV,GACtBA,EAAK0P,cAMbvhB,EAAM3S,KAAK,kBAAmB,CAC5BhV,KAAMA,EACNgW,IAAKA,MAYTw3B,EAAe5yC,UAAU6zC,YAAc,SAAU5X,EAAO5P,GACtD,IAEIjV,EAAIivB,EAFJ9Y,EAAQvvB,KAIR+uB,EAAQ/uB,KAAK+uB,MAMjB,GAJI,mBAASkP,KACXA,EAAQlP,EAAM0Q,SAASxB,IAGpBA,IAASA,EAAM6C,UAApB,CAIA,IAAI1pB,EAAQ6mB,EAAMiS,WACd3Q,EAAYD,GAAaloB,EAAMo+B,UAAY,GAAKnnB,EAAUU,GAC9DkP,EAAM32B,IAAI,OAAQi4B,GAClBtB,EAAM8L,OAAO,CACX9nB,EAAGsd,EAAUtd,EACbrN,EAAG2qB,EAAU3qB,IAEf,IAAI03B,EAAerO,EAAMh9B,IAAI,gBACzBwrC,EAAYr1B,EAAMjU,MAAQ,eACO8I,IAAlBmL,EAAMkuB,QAAkH,QAAzF+C,EAAwC,QAAlCjvB,EAAKkzB,EAAaG,UAA+B,IAAPrzB,OAAgB,EAASA,EAAGrI,eAA4B,IAAPs3B,OAAgB,EAASA,EAAG/C,QAAUluB,EAAMkuB,SAG7L53B,YAAW,WACT,GAAKuwB,IAASA,EAAM6C,UAApB,CACA,IAAI6M,EAAW1P,EAAMjD,cAChB2S,IAAYA,EAAS7M,YAC1B7C,EAAMoQ,YAAYj3B,GAElBmY,EAAMumB,iBAAiB7X,OACtB,KAEHj+B,KAAK81C,iBAAiB7X,KAI1B2W,EAAe5yC,UAAU8zC,iBAAmB,SAAU7X,GAGpD,IAFA,IAAI8X,EAAY9X,EAAMgV,YAAc,GAE3B7yC,EAAI,EAAGA,EAAI21C,EAAUzzC,OAAQlC,IAAK,CACzC,IAAIwgC,EAAOmV,EAAU31C,GAErB,GAAIwgC,IAASA,EAAKE,UAAW,CAC3B,IAAIkV,EAASpV,EAAK3/B,IAAI,gBAClBg1C,EAAUrV,EAAKyN,YAAYzN,EAAKsP,YAChCgG,EAAYtV,EAAKqJ,eACrBiM,EAAUhI,QACV,IAAIP,EAAWqI,EAAOxM,KAAKyM,EAAQ9yC,KAAM8yC,EAASC,GAClDtV,EAAKt5B,IAAI,WAAYqmC,GACrBA,EAASrmC,IAAI,cAAc,GAC3BqmC,EAASrmC,IAAI,aAAa,GAC1Bs5B,EAAK0N,oBASXsG,EAAe5yC,UAAUyzC,cAAgB,SAAUxX,GACjD,IAAIlP,EAAQ/uB,KAAK+uB,MAEb,mBAASkP,KACXA,EAAQlP,EAAM0Q,SAASxB,IAGzB,IAAI5P,EAAW4P,EAAMmW,cACrB/lB,EAASH,MAAMzd,SAAQ,SAAUqiB,GAC/B/D,EAAMonB,SAASrjB,MAEjBzE,EAAS+R,OAAO3vB,SAAQ,SAAUhQ,GAChCsuB,EAAMonB,SAAS11C,OASnBm0C,EAAe5yC,UAAUo0C,YAAc,SAAUnY,GAC/C,IAAIlP,EAAQ/uB,KAAK+uB,MAEb,mBAASkP,KACXA,EAAQlP,EAAM0Q,SAASxB,IAGzB,IAAI5P,EAAW4P,EAAMmW,cACrB/lB,EAASH,MAAMzd,SAAQ,SAAUqiB,GAC/B/D,EAAMsnB,SAASvjB,MAEjBzE,EAAS+R,OAAO3vB,SAAQ,SAAUhQ,GAC5BA,EAAEyvC,WAAWsF,UACf/0C,EAAEswC,OAEFhiB,EAAMsnB,SAAS51C,OAarBm0C,EAAe5yC,UAAUs0C,WAAa,SAAUlvC,GAC9C,IAAImoB,EAAQvvB,KAER+uB,EAAQ/uB,KAAK+uB,MAMjB,GAJI,mBAAS3nB,KACXA,EAAO2nB,EAAM0Q,SAASr4B,IAGnBA,IAAQA,EAAK05B,UAAlB,CAIA,IAAIyV,EAAY,gBAAMnvC,EAAK8oC,YAC3BnhB,EAAM3S,KAAK,mBAAoB,CAC7BhV,KAAMmvC,IAER,IAAIpzC,EAAO,GACPiE,EAAKiF,UAASlJ,EAAOiE,EAAKiF,WAC9B,IAAIk3B,EAAQxU,EAAM9tB,IAAI,GAAG+D,OAAO7B,EAAM,MAClCN,EAAQ0gC,EAAM9gC,QAAQ2E,GAG1B,GAFIvE,GAAS,GAAG0gC,EAAMv9B,OAAOnD,EAAO,GAra7B,SAuaHM,EAAe,CACjB,IAAIqzC,EAASznB,EAAM9tB,IAAI,IAAI+D,OAAO7B,EAAM,MACpCszC,EAASD,EAAO/zC,QAAQ2E,GACxBqvC,GAAU,GAAGD,EAAOxwC,OAAOywC,EAAQ,GAGzC,IAAIC,EAAStvC,EAAKnG,IAAI,aACR8tB,EAAM9tB,IAAI,WACTy1C,GACf,IAAIC,EAAa5nB,EAAM9tB,IAAI,cACvBmtB,EAAKhnB,EAAKnG,IAAI,MAElB,GApbO,SAobHkC,EAAe,CACjB,IAAI+6B,EAAU92B,EAAK8oC,WAAWhS,QAE9B,GAAIyY,GAAczY,EAAS,CACzB,IAAI0Y,EAAaD,EACbxX,GAAU,EAGdwX,EAAWlmC,SAAQ,SAAUomC,GACvB1X,GACJnC,GAAa6Z,GAAO,SAAU5Y,GAC5B,GAAIA,EAAM7P,KAAOA,GAAMwoB,EAAY,CACjC,IAAIE,EAAOF,EAAWn0C,QAAQw7B,GAG9B,OAFA2Y,EAAW5wC,OAAO8wC,EAAM,GACxB3X,GAAU,GACH,EAIT,OADAyX,EAAa3Y,EAAM5P,UACZ,QAQb,IAFA,IAESjuB,GAFL+tB,EAAQ/mB,EAAK6rC,YAEE3wC,OAAS,EAAGlC,GAAK,EAAGA,IACrC2uB,EAAMunB,WAAWnoB,EAAM/tB,IAAI,GAGzB89B,GAASnP,EAAM8mB,YAAY3X,QAC1B,GAjdC,UAidG/6B,EAAgB,CACzB,IACI4zC,EADApZ,EAAWv2B,EAAK8oC,WAAWvS,SAG3BqZ,GAAU,GAEbL,GAAc,IAAIlmC,SAAQ,SAAUomC,GAC/BG,GACJha,GAAa6Z,GAAO,SAAU5Y,GAC5B,OAAIA,EAAM7P,KAAOA,IACf2oB,EAAgB9Y,EAChB+Y,GAAU,GACH,SAMbD,EAAc7X,SAAU,EAEpB6X,GAAiBA,EAAc1oB,UACjC0oB,EAAc1oB,SAAS5d,SAAQ,SAAU8tB,GACvChP,EAAM+mB,WAAW/X,EAAMnQ,OAK3B,IAAID,EAEJ,IAAS/tB,GAFL+tB,EAAQ/mB,EAAK6rC,YAEE3wC,OAAQlC,GAAK,EAAGA,IACjC2uB,EAAMunB,WAAWnoB,EAAM/tB,IAAI,GAGzBu9B,GAAU5O,EAAM8mB,YAAYlY,GAGlCv2B,EAAKm7B,UACLxT,EAAM3S,KAAK,kBAAmB,CAC5BhV,KAAMmvC,MAcV3B,EAAe5yC,UAAUi1C,aAAe,SAAU7vC,EAAMgoC,EAAO/tC,GAC7D,IAAI0tB,EAAQ/uB,KAAK+uB,MACb6gB,EAAYR,EAEZ,mBAAS/tC,KACXuuC,EAAY,GAAG5qC,OAAOoqC,EAAO,KAAKpqC,OAAO3D,IAIvC+F,EAAKipC,SAAST,KAAevuC,GAASA,GAC1C,mBAASA,IAAU+F,EAAKipC,SAAST,KAKjC7gB,EAAM3S,KAAK,wBAAyB,CAClChV,KAAMA,EACNgoC,MAAOQ,EACPsH,QAAS71C,IAEX+F,EAAKykC,SAASuD,EAAO/tC,GACrB0tB,EAAMooB,YACNpoB,EAAM3S,KAAK,uBAAwB,CACjChV,KAAMA,EACNgoC,MAAOQ,EACPsH,QAAS71C,MAUbuzC,EAAe5yC,UAAUo1C,cAAgB,SAAUhwC,EAAMgoC,GACvD,IAAIrgB,EAAQ/uB,KAAK+uB,MACbsoB,EAAcjwC,EAEd,mBAASA,KACXiwC,EAActoB,EAAM0Q,SAASr4B,IAI/BpH,KAAKi3C,aAAaI,EAAajI,GAAO,GAEtCpvC,KAAKi3C,aAAaI,EAAajI,GAAO,IAWxCwF,EAAe5yC,UAAUs1C,gBAAkB,SAAUlwC,EAAMwmC,GACzD,IAAI7e,EAAQ/uB,KAAK+uB,MAEb,mBAAS3nB,KACXA,EAAO2nB,EAAM0Q,SAASr4B,IAGxB2nB,EAAM3S,KAAK,wBAAyB,CAClChV,KAAMA,EACNwmC,OAAQA,IAEVxmC,EAAK4oC,YAAYpC,GACjB7e,EAAM3S,KAAK,uBAAwB,CACjChV,KAAMA,EACNwmC,OAAQA,KAWZgH,EAAe5yC,UAAUu1C,YAAc,SAAUnwC,GAC/C,IAAI2nB,EAAQ/uB,KAAK+uB,MAEb,mBAAS3nB,KACXA,EAAO2nB,EAAM0Q,SAASr4B,IAGxB2nB,EAAM3S,KAAK,oBAAqB,CAC9BhV,KAAMA,IAGRA,EAAKkpC,UACLvhB,EAAM3S,KAAK,mBAAoB,CAC7BhV,KAAMA,KAYVwtC,EAAe5yC,UAAUw1C,UAAY,SAAUb,EAAYc,GACzD,IAAIloB,EAAQvvB,KAER+uB,EAAQ/uB,KAAK+uB,OAChB4nB,GAAc,IAAIlmC,SAAQ,SAAUomC,GACnClpB,GAAekpB,GAAO,SAAUtY,GAC9B,IAAImZ,EAaJ,OAZAD,EAAYhnC,SAAQ,SAAU2G,GACxBA,EAAMgX,KAAOmQ,EAAMnQ,KACrBhX,EAAMiX,SAAWkQ,EAAMlQ,SACvBjX,EAAMknB,MAAQC,EAAMD,MACpBoZ,EAAatgC,MAIbsgC,GACFnoB,EAAMslB,QAAQ,QAAS6C,IAGlB,QAGX,IAAIrC,EAAatmB,EAAM9tB,IAAI,cACvBo0C,GAAYA,EAAWruC,QAW7B4tC,EAAe5yC,UAAU21C,qBAAuB,SAAUvwC,EAAMiW,GAC9D,IAAIkS,EAAQvvB,KAER+uB,EAAQ/uB,KAAK+uB,MAMjB,GAJI,mBAAS3nB,KACXA,EAAO2nB,EAAM0Q,SAASr4B,IAGnBA,EAAL,CAWA,GANA2nB,EAAM3S,KAAK,6BAA8B,CACvChV,KAAMA,EACNiW,QAASA,IAEXjW,EAAK+mC,iBAAiB9wB,GAElBjW,EAAKiF,SAzqBF,SAyqBajF,EAAKiF,UAAoB,CAC3C,IAAI8hB,EAAQ/mB,EAAK6rC,WACjB,eAAK9kB,GAAO,SAAUyS,KAGhBvjB,GAAaujB,EAAK3/B,IAAI,UAAUy+B,aAAekB,EAAK3/B,IAAI,UAAUy+B,cAItEnQ,EAAMooB,qBAAqB/W,EAAMvjB,WAE9B,GAAIjW,EAAKiF,SAjrBR,UAirBmBjF,EAAKiF,UAAqB,CACnD,IAAIsqC,EAAa5nB,EAAM9tB,IAAI,cACvB22C,EAAOxwC,EAAKnG,IAAI,MAChB42C,EAAa,GACbC,GAAU,GAEbnB,GAAc,IAAIlmC,SAAQ,SAAUomC,GAC/BiB,GACCjB,EAAMxoB,UAAsC,IAA1BwoB,EAAMxoB,SAAS/rB,QACtC06B,GAAa6Z,GAAO,SAAU5Y,GAC5B,OAAIA,EAAM7P,KAAOwpB,IACfC,EAAa5Z,EAAM5P,SACnBypB,GAAU,GACH,SAOTD,KAAgBx6B,GAAWA,IAAYjW,EAAK8oC,WAAWsF,YACzDqC,EAAWpnC,SAAQ,SAAU8tB,GAC3B,IAAIiB,EAAYzQ,EAAM0Q,SAASlB,EAAMnQ,IAErCmB,EAAMooB,qBAAqBnY,EAAWniB,MAItC8Q,EAAQ/mB,EAAK6rC,WACjB,eAAK9kB,GAAO,SAAUyS,KAGhBvjB,GAAaujB,EAAK3/B,IAAI,UAAUy+B,aAAekB,EAAK3/B,IAAI,UAAUy+B,cAItEnQ,EAAMooB,qBAAqB/W,EAAMvjB,MAQrC,OAJA0R,EAAM3S,KAAK,4BAA6B,CACtChV,KAAMA,EACNiW,QAASA,IAEJjW,EAjELkT,QAAQC,KAAK,mDAoEjBq6B,EAAe5yC,UAAUugC,QAAU,WACjCviC,KAAK+uB,MAAQ,KACb/uB,KAAK8gC,WAAY,GAGZ8T,EA9tBT,GCfImD,GAAQ,KA6LG,GAzLf,WACE,SAASC,EAAgBjpB,GACvB/uB,KAAK+uB,MAAQA,EAUb/uB,KAAKi4C,aAAe,CAClBf,QAAS,GACTgB,SAAU,IAEZl4C,KAAK8gC,WAAY,EAsKnB,OAxJAkX,EAAgBG,WAAa,SAAU/wC,EAAMgoC,EAAOloC,GAClD,GAAKA,EAAMkoC,GAAX,CAIA,IAAIvsC,EAAQqE,EAAMkoC,GAAO3sC,QAAQ2E,GAE7BvE,GAAS,GACXqE,EAAMkoC,GAAOppC,OAAOnD,EAAO,KAc/Bm1C,EAAgBI,WAAa,SAAUhxC,EAAMgoC,EAAOxB,GAC7CA,EAAOwB,KACVxB,EAAOwB,GAAS,IAGlBxB,EAAOwB,GAAOtsC,KAAKsE,IAYrB4wC,EAAgBh2C,UAAUq2C,YAAc,SAAUjxC,EAAMgoC,EAAO8H,GAC7D,IAAI3nB,EAAQvvB,KAERm4C,EAAaH,EAAgBG,WAC7BC,EAAaJ,EAAgBI,WAEjC,IAAIhxC,EAAK05B,UAAT,CAIA,IAAImX,EAAej4C,KAAKi4C,aACpBK,EAAgBL,EAAaf,QAC7BqB,EAAiBN,EAAaC,SAE9BhB,GACFiB,EAAW/wC,EAAMgoC,EAAOmJ,GACxBH,EAAWhxC,EAAMgoC,EAAOkJ,KAExBH,EAAW/wC,EAAMgoC,EAAOkJ,GACxBF,EAAWhxC,EAAMgoC,EAAOmJ,IAGtBR,IACF/pC,aAAa+pC,IAGfA,GAAQrqC,YAAW,WACjBqqC,GAAQ,KAERxoB,EAAMipB,sBACL,MAYLR,EAAgBh2C,UAAUy2C,aAAe,SAAUrxC,EAAMwmC,EAAQsJ,GAC/D,IAAI3nB,EAAQvvB,KAER,mBAAS4tC,GACX5tC,KAAKq4C,YAAYjxC,EAAMwmC,EAAQsJ,GAE/BtJ,EAAOn9B,SAAQ,SAAU2+B,GACvB7f,EAAM8oB,YAAYjxC,EAAMgoC,EAAO8H,OAWrCc,EAAgBh2C,UAAUw2C,kBAAoB,WAC5C,IAAI5K,EAAS5tC,KAAK+uB,MAAM9tB,IAAI,UACxBg3C,EAAej4C,KAAKi4C,aACxB,eAAKA,EAAaC,UAAU,SAAUtwC,EAAKjG,GACrCisC,EAAOjsC,KACTisC,EAAOjsC,GAAOisC,EAAOjsC,GAAKe,QAAO,SAAU0E,GACzC,OAAOQ,EAAInF,QAAQ2E,GAAQ,IAAMQ,EAAIk5B,iBAI3C,eAAKmX,EAAaf,SAAS,SAAUtvC,EAAKjG,GACxC,GAAKisC,EAAOjsC,GAEL,CACL,IAAI+2C,EAAQ,GACZ9K,EAAOjsC,GAAK8O,SAAQ,SAAUrJ,GACvBA,EAAK05B,YACR4X,EAAMtxC,EAAKnG,IAAI,QAAS,MAG5B2G,EAAI6I,SAAQ,SAAUrJ,GACpB,IAAKA,EAAK05B,UAAW,CACnB,IAAI1S,EAAKhnB,EAAKnG,IAAI,MAEby3C,EAAMtqB,KACTsqB,EAAMtqB,IAAM,EACZwf,EAAOjsC,GAAKmB,KAAKsE,aAdvBwmC,EAAOjsC,GAAOiG,KAoBlB5H,KAAK+uB,MAAM3S,KAAK,mBAAoB,CAClCwxB,OAAQA,IAEV5tC,KAAKi4C,aAAe,CAClBf,QAAS,GACTgB,SAAU,KAIdF,EAAgBh2C,UAAUugC,QAAU,WAClCviC,KAAK+uB,MAAQ,KACb/uB,KAAKi4C,aAAe,KAEhBF,IACF/pC,aAAa+pC,IAGfA,GAAQ,KACR/3C,KAAK8gC,WAAY,GAGZkX,EAtLT,G,SCGIlsC,GAAa,SAAoBrF,EAAK5F,GACxC,OAAK4F,GAAQ5F,EAIN4F,EAAI8B,QAAQ,oBAAoB,SAAUwD,EAAOpL,GACtD,GAAwB,OAApBoL,EAAMH,OAAO,GACf,OAAOG,EAAMC,MAAM,GAGrB,IAAI2sC,EAAM93C,EAAEF,GAEZ,OADY,IAARg4C,IAAWA,EAAM,KACdA,GAAO,MAVPlyC,GAmBA,GAAY,SAAmBqqB,GACxC,IAAIjsB,EAAO,GAEX,GAAIisB,EAAOxuB,OAAS,EAClB,MAAM,IAAI+U,MAAM,4CAA4CrS,OAAO8rB,EAAOxuB,SAG5E,IAAK,IAAIg1B,EAAK,EAAGC,EAAWzG,EAAQwG,EAAKC,EAASj1B,OAAQg1B,IAAM,CAC9D,IAAIzG,EAAQ0G,EAASD,GACjBrV,EAAI4O,EAAM5O,EACVrN,EAAIic,EAAMjc,EACd/P,EAAK/B,KAAKmf,GACVpd,EAAK/B,KAAK8R,GAGZ,IAAIgkC,EAAY,aAAkB/zC,GAElC,OADA+zC,EAAU1rB,QAAQ,CAAC,IAAK4D,EAAO,GAAG7O,EAAG6O,EAAO,GAAGlc,IACxCgkC,GAWE,GAAkB,SAAyBzd,EAAYC,EAAUrY,EAAS1E,QACnE,IAAZ0E,IACFA,EAAU,QAGG,IAAX1E,IACFA,EAAS,GAGX,IAAIwS,EAAQ,CACV5O,GAAI,EAAIc,GAAWoY,EAAWlZ,EAAIc,EAAUqY,EAASnZ,EACrDrN,GAAI,EAAImO,GAAWoY,EAAWvmB,EAAImO,EAAUqY,EAASxmB,GAEnDikC,EAAU,CAAC,EAAG,GAClB,IAAKtgB,UAAUsgB,EAAS,CAACzd,EAASnZ,EAAIkZ,EAAWlZ,EAAGmZ,EAASxmB,EAAIumB,EAAWvmB,IAEvEikC,IAAYA,EAAQ,IAAOA,EAAQ,MACtCA,EAAU,CAAC,EAAG,IAGhB,IAAIC,EAAgB,EAAED,EAAQ,GAAKx6B,EAAQw6B,EAAQ,GAAKx6B,GAIxD,OAFAwS,EAAM5O,GAAK62B,EAAc,GACzBjoB,EAAMjc,GAAKkkC,EAAc,GAClBjoB,GASEkoB,GAAkB,SAAyBjoB,EAAQqJ,GAC5D,IAAI73B,EAASwuB,EAAOxuB,OAEpB,IAAKA,EACH,MAAO,GAMT,IAHA,IAAIsO,EAAO,GAGFxQ,EAAI,EAAGA,EAAIkC,EAAQlC,IAAK,CAC/B,IAAIgH,EAAO0pB,EAAO1wB,GAQlBwQ,GAAQ9E,GANE,IAAN1L,EACI,WAEA,WAGgBgH,GAO1B,OAJI+yB,IACFvpB,GAAQ,KAGHA,GAEEooC,GAAe,SAAsBpoC,GAC9C,IAAIkgB,EAAS,GAab,OAZAlgB,EAAKH,SAAQ,SAAUwoC,GAGrB,GAAgB,MAFFA,EAAI,GAGhB,IAAK,IAAI74C,EAAI,EAAGA,EAAI64C,EAAI32C,OAAQlC,GAAQ,EACtC0wB,EAAOhuB,KAAK,CAACm2C,EAAI74C,GAAI64C,EAAI74C,EAAI,SAE1B,CACL,IAAIkiC,EAAW2W,EAAI32C,OACnBwuB,EAAOhuB,KAAK,CAACm2C,EAAI3W,EAAW,GAAI2W,EAAI3W,EAAW,SAG5CxR,GAOEooB,GAAkB,SAAyBpoB,GACpD,GAAIA,EAAOxuB,OAAS,EAClB,MAAM,IAAI+U,MAAM,4CAA4CrS,OAAO8rB,EAAOxuB,SAG5E,IAAI2yB,EAAQnE,EAAO,GACfqoB,EAASroB,EAAO,GAChB1qB,EAAO0qB,EAAOA,EAAOxuB,OAAS,GAC9B82C,EAAatoB,EAAOA,EAAOxuB,OAAS,GACxCwuB,EAAO5D,QAAQ9mB,GACf0qB,EAAO5D,QAAQksB,GACftoB,EAAOhuB,KAAKmyB,GACZnE,EAAOhuB,KAAKq2C,GAGZ,IAFA,IAAIE,EAAa,GAERj5C,EAAI,EAAGA,EAAI0wB,EAAOxuB,OAAS,EAAGlC,GAAK,EAAG,CAC7C,IAAIk5C,EAAKxoB,EAAO1wB,EAAI,GAAG6hB,EACnBs3B,EAAKzoB,EAAO1wB,EAAI,GAAGwU,EACnB8gB,EAAK5E,EAAO1wB,GAAG6hB,EACf0T,EAAK7E,EAAO1wB,GAAGwU,EACfghB,EAAK9E,EAAO1wB,EAAI,GAAG6hB,EACnB4T,EAAK/E,EAAO1wB,EAAI,GAAGwU,EAGnB4kC,EAAO9jB,GAAME,EAAK0jB,GAAM,EACxBG,EAAO9jB,GAAME,EAAK0jB,GAAM,EACxBG,EAAO9jB,IAJFx1B,IAAM0wB,EAAOxuB,OAAS,EAAIwuB,EAAO1wB,EAAI,GAAG6hB,EAAI2T,GAI/BF,GAAM,EACxBikB,EAAO9jB,IAJFz1B,IAAM0wB,EAAOxuB,OAAS,EAAIwuB,EAAO1wB,EAAI,GAAGwU,EAAIihB,GAI/BF,GAAM,EAC5B0jB,EAAWv2C,KAAK,CAAC,IAAK02C,EAAMC,EAAMC,EAAMC,EAAM/jB,EAAIC,IAIpD,OADAwjB,EAAWnsB,QAAQ,CAAC,IAAK9mB,EAAK6b,EAAG7b,EAAKwO,IAC/BykC,GAGL,GAAa,SAAoB3zC,EAAGpD,GAEtC,OAAO,IAAK25B,MAAM,CAAC,EAAG,GAAI,IAAK1D,UAAU,CAAC,EAAG,GAAI7yB,GAAIpD,IAGnDs3C,GAAa,SAAoB1pB,EAAIC,GAEvC,IAAItuB,EAAI,CAACquB,EAAG,GAAKC,EAAG,GAAIA,EAAG,GAAKD,EAAG,IAC/B2pB,EAAUx0C,KAAKuS,KAAK/V,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAE/C,GAAgB,IAAZg4C,EACF,MAAM,IAAIxiC,MAAM,gCAGlB,MAAO,CAACxV,EAAE,GAAKg4C,EAASh4C,EAAE,GAAKg4C,IAG7BC,GAAU,SAAiB5pB,EAAIC,GAEjC,MAAO,CAACA,EAAG,GAAKD,EAAG,GAAIC,EAAG,GAAKD,EAAG,KAS7B,SAAS6pB,GAAYC,EAAYj5B,GAoBtC,IAAKi5B,GAAcA,EAAW13C,OAAS,EAAG,MAAO,GACjD,GAA0B,IAAtB03C,EAAW13C,OAAc,OAnBV,SAAsBwuB,GACvC,IAAIX,EAAK,CAACW,EAAO,GAAG,GAAIA,EAAO,GAAG,GAAK/P,GACnCqP,EAAK,CAACU,EAAO,GAAG,GAAIA,EAAO,GAAG,GAAK/P,GACvC,MAAO,KAAK/b,OAAOmrB,EAAI,OAAOnrB,OAAO+b,EAAS,KAAK/b,OAAO+b,EAAS,WAAW/b,OAAOorB,EAAI,OAAOprB,OAAO+b,EAAS,KAAK/b,OAAO+b,EAAS,WAAW/b,OAAOmrB,GAgBrH8pB,CAAaD,GACjD,GAA0B,IAAtBA,EAAW13C,OAAc,OAbV,SAAsBwuB,GACvC,IAAIopB,EAAe,IAAKje,MAAM,CAAC,EAAG,GAAI2d,GAAW9oB,EAAO,GAAIA,EAAO,IAAK/P,GACpEo5B,EAAkB,IAAKle,MAAM,CAAC,EAAG,GAAIie,GAAe,GACpDhqB,EAAK,IAAKkqB,IAAI,CAAC,EAAG,GAAItpB,EAAO,GAAIopB,GACjC/pB,EAAK,IAAKiqB,IAAI,CAAC,EAAG,GAAItpB,EAAO,GAAIopB,GACjC9pB,EAAK,IAAKgqB,IAAI,CAAC,EAAG,GAAItpB,EAAO,GAAIqpB,GACjC9pB,EAAK,IAAK+pB,IAAI,CAAC,EAAG,GAAItpB,EAAO,GAAIqpB,GACrC,MAAO,KAAKn1C,OAAOkrB,EAAI,OAAOlrB,OAAOmrB,EAAI,OAAOnrB,OAAO,CAAC+b,EAASA,EAAS,QAASqP,GAAI/d,KAAK,KAAM,OAAOrN,OAAOqrB,EAAI,OAAOrrB,OAAO,CAAC+b,EAASA,EAAS,QAASmP,GAAI7d,KAAK,MAMrIgoC,CAAaL,GAGjD,IAFA,IAAIM,EAAW,IAAIj3C,MAAM22C,EAAW13C,QAE3Bi4C,EAAe,EAAGA,EAAeD,EAASh4C,SAAUi4C,EAAc,CACzE,IAAIrqB,EAAsB,IAAjBqqB,EAAqBP,EAAWA,EAAW13C,OAAS,GAAK03C,EAAWO,EAAe,GACxFpqB,EAAK6pB,EAAWO,GAEhBl8B,EAAS,IAAK4d,MAAM,CAAC,EAAG,GAAI2d,GAAW1pB,EAAIC,GAAKpP,GACpDu5B,EAASC,GAAgB,CAAC,IAAKH,IAAI,CAAC,EAAG,GAAIlqB,EAAI7R,GAAS,IAAK+7B,IAAI,CAAC,EAAG,GAAIjqB,EAAI9R,IAG/E,IAAIm8B,EAAU,KAAKx1C,OAAO,CAAC+b,EAASA,EAAS,UAAU1O,KAAK,MAW5D,OAVAioC,EAAWA,EAAS/pC,KAAI,SAAUkqC,EAAS53C,GACzC,IAAI63C,EAAe,GAOnB,OALc,IAAV73C,IACF63C,EAAe,KAAK11C,OAAOs1C,EAASA,EAASh4C,OAAS,GAAG,GAAI,MAG/Do4C,GAAgB,GAAG11C,OAAOw1C,EAAUC,EAAQ,GAAI,OAAOz1C,OAAOy1C,EAAQ,QAGxDpoC,KAAK,KAQhB,SAASsoC,GAAWX,EAAYj5B,GACrC,IAEuC+P,EAEjCX,EACAC,EALFwqB,EAAaZ,EAAW13C,OA+B5B,IAAK03C,GAAcY,EAAa,EAAG,MAAO,GAC1C,GAAmB,IAAfA,EAAkB,OA5BhBzqB,EAAK,EAF4BW,EA8BEkpB,GA5BtB,GAAG,GAAIlpB,EAAO,GAAG,GAAK/P,GACnCqP,EAAK,CAACU,EAAO,GAAG,GAAIA,EAAO,GAAG,GAAK/P,GAChC,KAAK/b,OAAOmrB,EAAI,OAAOnrB,OAAO,CAAC+b,EAASA,EAAS,QAASqP,GAAI/d,KAAK,KAAM,OAAOrN,OAAO,CAAC+b,EAASA,EAAS,QAASoP,GAAI9d,KAAK,MA2BrI,GAAmB,IAAfuoC,EAAkB,OAvBJ,SAAqB9pB,GACrC,IAAIprB,EAAIo0C,GAAQhpB,EAAO,GAAIA,EAAO,IAC9B+pB,EAAe,GAAWn1C,EAAGqb,GAC7B+5B,EAAa,IAAKV,IAAI,CAAC,EAAG,GAAItpB,EAAO,GAAI,IAAKmL,MAAM,CAAC,EAAG,GAAI4e,GAAe,IAC3EE,EAAa,IAAKX,IAAI,CAAC,EAAG,GAAItpB,EAAO,GAAI+pB,GACzCG,EAAoB,IAAMj6B,EAC1Bk6B,EAAe,GAAW,IAAK1iB,UAAU,CAAC,EAAG,GAAI7yB,GAAIs1C,GACrDE,EAAkB,IAAKjf,MAAM,CAAC,EAAG,GAAIgf,GAAe,GACpDE,EAAW,IAAKf,IAAI,CAAC,EAAG,GAAIU,EAAYI,GACxCE,EAAW,IAAKhB,IAAI,CAAC,EAAG,GAAIW,EAAYG,GACxCG,EAAW,IAAKjB,IAAI,CAAC,EAAG,GAAIU,EAAYG,GAO5C,MAAO,KAAKj2C,OAAO81C,EAAY,OAAO91C,OAAO,CAACm2C,EAAUC,EAAUL,GAAY1oC,KAAK,KAAM,OAAOrN,OAAO,CAACq2C,EAAUP,GAAYzoC,KAAK,KAAM,MAM9GipC,CAAYtB,GASzC,IARA,IAAIuB,EAAavB,EAAWzpC,KAAI,SAAUsgB,EAAOhuB,GAC/C,IAAI24C,EAAQxB,GAAYn3C,EAAQ,GAAK+3C,GACrC,MAAO,CACL14C,EAAG2uB,EACHnrB,EAAG,IAAK6yB,UAAU,CAAC,EAAG,GAAIuhB,GAAQjpB,EAAO2qB,QAIpCp7C,EAAI,EAAGA,EAAIm7C,EAAWj5C,SAAUlC,EAAG,CAC1C,IAAIq7C,EAAar7C,EAAI,EAAIA,EAAI,EAAIw6C,EAAa,EAC1CC,EAAe,IAAKtiB,UAAU,CAAC,EAAG,GAAI,IAAK6hB,IAAI,CAAC,EAAG,GAAImB,EAAWE,GAAY/1C,EAAG,IAAKu2B,MAAM,CAAC,EAAG,GAAIsf,EAAWn7C,GAAGsF,GAAI,KAC1H61C,EAAWn7C,GAAG8B,EAAI,IAAKk4C,IAAI,CAAC,EAAG,GAAImB,EAAWn7C,GAAG8B,EAAG,IAAK+5B,MAAM,CAAC,EAAG,GAAI4e,EAAc95B,IAGvF,OAAOw6B,EAAWhrC,KAAI,SAAU1M,GAC9B,IAAIgtB,EAAQhtB,EAAI3B,EAChB,MAAO,CACL+f,EAAG4O,EAAM,GACTjc,EAAGic,EAAM,OC9SR,IAAI6qB,GAAQ,SAAej3C,EAAGmC,EAAG/F,GACtC,OAAQ4D,EAAEmQ,EAAI/T,EAAE+T,IAAMhO,EAAEqb,EAAIphB,EAAEohB,IAAMxd,EAAEwd,EAAIphB,EAAEohB,IAAMrb,EAAEgO,EAAI/T,EAAE+T,IAQjD+mC,GAAgB,SAAuBpY,GAChD,IAAIzS,EAASyS,EAAMhzB,KAAI,SAAUnJ,GAC/B,MAAO,CACL6a,EAAG7a,EAAK8oC,WAAWjuB,EACnBrN,EAAGxN,EAAK8oC,WAAWt7B,MAOvB,GAJAkc,EAAO9pB,MAAK,SAAUvC,EAAGmC,GACvB,OAAOnC,EAAEwd,IAAMrb,EAAEqb,EAAIxd,EAAEmQ,EAAIhO,EAAEgO,EAAInQ,EAAEwd,EAAIrb,EAAEqb,KAGrB,IAAlB6O,EAAOxuB,OACT,OAAOwuB,EAMT,IAFA,IAAI8qB,EAAQ,GAEHx7C,EAAI,EAAGA,EAAI0wB,EAAOxuB,OAAQlC,IAAK,CACtC,KAAOw7C,EAAMt5C,QAAU,GAAKo5C,GAAME,EAAMA,EAAMt5C,OAAS,GAAIs5C,EAAMA,EAAMt5C,OAAS,GAAIwuB,EAAO1wB,KAAO,GAChGw7C,EAAMtmC,MAGRsmC,EAAM94C,KAAKguB,EAAO1wB,IAIpB,IAAIy7C,EAAQ,GAEZ,IAASz7C,EAAI0wB,EAAOxuB,OAAS,EAAGlC,GAAK,EAAGA,IAAK,CAC3C,KAAOy7C,EAAMv5C,QAAU,GAAKo5C,GAAMG,EAAMA,EAAMv5C,OAAS,GAAIu5C,EAAMA,EAAMv5C,OAAS,GAAIwuB,EAAO1wB,KAAO,GAChGy7C,EAAMvmC,MAGRumC,EAAM/4C,KAAKguB,EAAO1wB,IAMpB,OAHAy7C,EAAMvmC,MACNsmC,EAAMtmC,MACWsmC,EAAM52C,OAAO62C,ICpD5BC,GAAa,CACfC,qBAAsB,IACtBC,sBAAuB,IACvBC,eAAgB,EAChBC,OAAQ,GACRC,OAAQ,GACRC,OAAQ,EACRC,OAAQ,GACRC,YAAa,EACbC,UAAW,KACXC,KAAM,GACNC,oBAAqB,EACrBC,oBAAqB,EACrBC,6BAA8B,IAShC,SAASC,GAAgBC,EAASC,EAAeP,GAC/C,IAAIQ,GAAU,EAEVC,EAAS,SAAgB/6B,EAAGrN,GAC9B,OAAOkoC,EAAcG,MAAMh7B,EAAIrN,EAAIkoC,EAAcvqC,QAG/C2qC,EAAW,SAAkBj7B,EAAGrN,GAClC,IAAIuoC,EAAY,EAkBhB,OAhBIH,EAAO/6B,EAAI,EAAGrN,EAAI,IAAM2nC,IAC1BY,GAAa,GAGXH,EAAO/6B,EAAGrN,EAAI,GAAK2nC,IACrBY,GAAa,GAGXH,EAAO/6B,EAAI,EAAGrN,GAAK2nC,IACrBY,GAAa,GAGXH,EAAO/6B,EAAGrN,GAAK2nC,IACjBY,GAAa,GAGRA,GAGLC,EAAU,SAAiBC,EAAMC,GAMnC,IALA,IAEIC,EACAC,EAHAv7B,EAAIo7B,EACJzoC,EAAI0oC,EAICl9C,EAAI,EAAGA,EAAI08C,EAAcvqC,MAAQuqC,EAAch8B,OAAQ1gB,IAAK,CAInE,GAHAm9C,EAAQt7B,EACRu7B,EAAQ5oC,EAEJioC,EAAQn4C,WAAU,SAAU0C,GAC9B,OAAOA,EAAK6a,IAAMA,GAAK7a,EAAKwN,IAAMA,MAC9B,GACJ,GAAIioC,EAAQ,GAAG56B,IAAMA,GAAK46B,EAAQ,GAAGjoC,IAAMA,EAEzC,OAAO,OAGTioC,EAAQ/5C,KAAK,CACXmf,EAAGA,EACHrN,EAAGA,IAIP,IAAIw6B,EAAQ8N,EAASj7B,EAAGrN,GAExB,OAAQw6B,GACN,KAAM,EAEJ,OADA90B,QAAQC,KAAK,0BACN,EAET,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACH0H,IAEA,MAEF,KAAK,GACL,KAAK,GACL,KAAK,EACHA,IAEA,MAEF,KAAK,EAEW,IAAVs7B,KACa,IAAXC,EACFv7B,GAAK,EAELA,GAAK,GAIT,MAEF,KAAK,EACL,KAAK,GACL,KAAK,EACHrN,IAEA,MAEF,KAAK,EAEW,IAAV2oC,IACY,IAAVC,EACF5oC,GAAK,EAELA,GAAK,GAIT,MAEF,KAAK,GACL,KAAK,EACL,KAAK,GACHA,IAEA,MAEF,QAEE,OADA0F,QAAQC,KAAK,mCAAmCvV,OAAOoqC,KAChD,KAKfpvC,KAAKy9C,MAAQ,WACX,IAAK,IAAIx7B,EAAI,EAAGA,EAAI66B,EAAcvqC,QAAUwqC,EAAS96B,GAAK,EACxD,IAAK,IAAIrN,EAAI,EAAGA,EAAIkoC,EAAch8B,SAAWi8B,EAASnoC,GAAK,EACrDooC,EAAO/6B,EAAGrN,GAAK2nC,GAAgC,KAAnBW,EAASj7B,EAAGrN,KAC1CmoC,EAAUK,EAAQn7B,EAAGrN,IAK3B,OAAOmoC,GASX,IAsDI,GAAmB,SAA0BxZ,EAAO/N,GACtD,IAAIyB,EAAc3sB,OAAOqsB,kBACrB+mB,EAAc,KASlB,OARAna,EAAM9yB,SAAQ,SAAUrJ,GACtB,IAAI2lB,EAAWiK,EAAe5vB,EAAMouB,GAEhCzI,GAAY,GAAKA,EAAWkK,IAC9BymB,EAAct2C,EACd6vB,EAAclK,MAGX2wB,GAwHT,SAASC,GAASv2C,EAAMw2C,EAAYC,EAAS9B,EAAsBO,GACjE,IAAIwB,EAxKiB,SAA0B12C,EAAMy2C,EAASD,GAC9D,IAAIG,EAAmB,KACnBC,EAAU1zC,OAAOqsB,kBAyBrB,OAxBAknB,EAAQptC,SAAQ,SAAUwtC,GACxB,IAAIC,EAAQ,CACVj8B,EAAG7a,EAAK8oC,WAAWjuB,EACnBrN,EAAGxN,EAAK8oC,WAAWt7B,GAEjBupC,EAAiB,CACnBl8B,EAAGg8B,EAAc/N,WAAWjuB,EAC5BrN,EAAGqpC,EAAc/N,WAAWt7B,GAE1B1G,EAAOspB,EAAW0mB,EAAOC,GACzBC,EAAa,IAAI3oB,EAAKyoB,EAAMj8B,EAAGi8B,EAAMtpC,EAAGupC,EAAel8B,EAAGk8B,EAAevpC,GACzEypC,EAAkBT,EAAW14C,QAAO,SAAUyU,EAAO2kC,GACvD,OAAItnB,EAAesnB,EAAOF,GAAc,EAC/BzkC,EAAQ,EAGVA,IACN,GAECzL,EAAO7I,KAAKkS,IAAI8mC,EAAkB,EAAG,GAAKL,IAC5CD,EAAmBE,EACnBD,EAAU9vC,EAAO7I,KAAKkS,IAAI8mC,EAAkB,EAAG,OAG5CN,EA6Ie,CAAiB32C,EAAMy2C,EAASD,GAEtD,GAAwB,OAApBE,EACF,MAAO,GAiCT,OA7BiB,SAAoBS,GAGnC,IAFA,IAAIC,EAAa,GAEVD,EAAaj8C,OAAS,GAAG,CAC9B,IAAIm8C,EAAQF,EAAajpC,MAEzB,GAA4B,IAAxBipC,EAAaj8C,OAAc,CAC7Bk8C,EAAW17C,KAAK27C,GAChB,MAGF,IAAIC,EAAQH,EAAajpC,MACrBqpC,EAAY,IAAIlpB,EAAKgpB,EAAM/oB,GAAI+oB,EAAM9oB,GAAI+oB,EAAM9oB,GAAI8oB,EAAM7oB,IAC3C,GAAiB+nB,EAAYe,IAK7CH,EAAW17C,KAAK27C,GAChBF,EAAaz7C,KAAK47C,IAHlBH,EAAaz7C,KAAK67C,GAOtB,OAAOH,EAKQI,CArJA,SAAsBR,EAAYR,EAAY7B,EAAsBO,GACrF,IAAIiC,EAAe,GACfM,EAAe,GACnBA,EAAa/7C,KAAKs7C,GAqClB,IApCA,IAAIU,GAAkB,EAClBC,EAAa,EAEbC,EAAc,SAAqBnuB,EAAOmE,GAC5C,IAAIiqB,GAAO,EAcX,OAbAjqB,EAAMvkB,SAAQ,SAAU+kB,GAClBypB,IAEAlnB,EAAgBlH,EAAO,CACzB5O,EAAGuT,EAAKE,GACR9gB,EAAG4gB,EAAKG,MACJoC,EAAgBlH,EAAO,CAC3B5O,EAAGuT,EAAKI,GACRhhB,EAAG4gB,EAAKK,QAERopB,GAAO,MAGJA,GAGLC,EAAsB,SAA6BruB,EAAOsuB,GAC5D,IAAK,IAAI7nB,EAAK,EAAG8nB,EAAgBD,EAAa7nB,EAAK8nB,EAAc98C,OAAQg1B,IAAM,CAC7E,IACIhE,EADO8rB,EAAc9nB,GACT1C,UACZyqB,EAAc,CAAC,CAAC/rB,EAAKrR,EAAGqR,EAAK1e,GAAI,CAAC0e,EAAKrR,EAAIqR,EAAK/gB,MAAO+gB,EAAK1e,GAAI,CAAC0e,EAAKrR,EAAGqR,EAAK1e,EAAI0e,EAAKxS,QAAS,CAACwS,EAAKrR,EAAIqR,EAAK/gB,MAAO+gB,EAAK1e,EAAI0e,EAAKxS,SAExI,GAAImT,EAAiBorB,EAAaxuB,EAAM5O,EAAG4O,EAAMjc,GAC/C,OAAO,EAIX,OAAO,GAIFkqC,GAAmBC,EAAahD,GAAsB,CAC3D+C,GAAkB,EAuDlB,IArDA,IAAIQ,EAAU,WACZ,IAAI9pB,EAAOqpB,EAAavpC,MACpBooC,EAAc,GAAiBE,EAAYpoB,GAE/C,GAAIkoB,EAAa,CACf,IAAItkC,EAAKwd,EAAoB8mB,EAAaloB,GACtC+pB,EAAkBnmC,EAAG,GAIzB,GAA2B,IAHFA,EAAG,GAGE,CAC5B,IAAIomC,EAAc,SAAqBC,GAOrC,IANA,IAAIC,EAAkBpD,EAClBqD,EAAcC,GAAYlC,EAAagC,EAAiBH,EAAiBE,GAEzEI,EAAQb,EAAYW,EAAad,IAAiBG,EAAYW,EAAapB,GAC3EuB,EAAcZ,EAAoBS,EAAa/B,IAE3CiC,GAASC,GAAeJ,GAAmB,GAGjDC,EAAcC,GAAYlC,EAD1BgC,GAAmB,IACqCH,EAAiBE,GACzEI,EAAQb,EAAYW,EAAad,IAAiBG,EAAYW,EAAapB,GAC3EuB,EAAcZ,EAAoBS,EAAa/B,IAI7C+B,GAAgBE,GAAWJ,GAAYK,IAEzCjB,EAAa/7C,KAAK,IAAI2yB,EAAKD,EAAKE,GAAIF,EAAKG,GAAIgqB,EAAY19B,EAAG09B,EAAY/qC,IACxEiqC,EAAa/7C,KAAK,IAAI2yB,EAAKkqB,EAAY19B,EAAG09B,EAAY/qC,EAAG4gB,EAAKI,GAAIJ,EAAKK,KACvEipB,GAAkB,IAItBU,GAAY,GAEPV,GAEHU,GAAY,IAMbV,GACHP,EAAaz7C,KAAK0yB,GAGpBupB,GAAc,IAIRD,GAAmBD,EAAav8C,QACtCg9C,IAKJ,KAAOT,EAAav8C,QAClBi8C,EAAaz7C,KAAK+7C,EAAavpC,OAGjC,OAAOipC,EA0CY,CADF,IAAI9oB,EAAKruB,EAAK8oC,WAAWjuB,EAAG7a,EAAK8oC,WAAWt7B,EAAGkpC,EAAgB5N,WAAWjuB,EAAG67B,EAAgB5N,WAAWt7B,GAC7EgpC,EAAY7B,EAAsBO,IAazE,IAAI,GAAe,SAAsByD,EAASnC,EAAY1oC,GAEnE,IAAInE,EAAUjQ,OAAO0S,OAAOsoC,GAAY5mC,GACpC8qC,EAAW7oB,EAAgB4oB,EAAQxvC,KAAI,SAAUnJ,GACnD,MAAO,CACL6a,EAAG7a,EAAK8oC,WAAWjuB,EACnBrN,EAAGxN,EAAK8oC,WAAWt7B,OAIvBmrC,EAAUA,EAAQ/4C,MAAK,SAAUvC,EAAGmC,GAClC,OAAO4wB,EAAW,CAChBvV,EAAGxd,EAAEyrC,WAAWjuB,EAChBrN,EAAGnQ,EAAEyrC,WAAWt7B,GACforC,GAAYxoB,EAAW,CACxBvV,EAAGrb,EAAEspC,WAAWjuB,EAChBrN,EAAGhO,EAAEspC,WAAWt7B,GACforC,MAEL,IAAInC,EAAU,GACVoC,EAAe,GACnBF,EAAQtvC,SAAQ,SAAUrJ,GACZu2C,GAASv2C,EAAMw2C,EAAYC,EAAS9sC,EAAQgrC,qBAAsBhrC,EAAQurC,aAChF7rC,SAAQ,SAAUpQ,GACtB4/C,EAAan9C,KAAKzC,MAEpBw9C,EAAQ/6C,KAAKsE,MAYf,IANA,IAzQyCmL,EAAOuO,EAAQm7B,EACpDiE,EACAC,EAuQAC,EAiFN,SAA0BL,EAAS5xB,EAAO9P,GACxC,IAAI+hC,EAAe,CACjB5sB,KAAMlpB,OAAOqsB,kBACblD,KAAMnpB,OAAOqsB,kBACbnC,KAAMlqB,OAAO+1C,kBACb5rB,KAAMnqB,OAAO+1C,kBACb9tC,MAAO,EACPuO,OAAQ,EACRmB,EAAG,EACHrN,EAAG,GAED0rC,EAAS,GACbP,EAAQtvC,SAAQ,SAAUrJ,GACxBk5C,EAAOx9C,KAAKsE,EAAKwtB,cAEnBzG,EAAM1d,SAAQ,SAAUpQ,GACtBigD,EAAOx9C,KAAKzC,EAAEu0B,cAGhB,IAAK,IAAI0C,EAAK,EAAGipB,EAAWD,EAAQhpB,EAAKipB,EAASj+C,OAAQg1B,IAAM,CAC9D,IAAIhE,EAAOitB,EAASjpB,GACpB8oB,EAAa5sB,MAAQF,EAAKE,KAAO4sB,EAAa5sB,KAAOF,EAAKE,KAAO4sB,EAAa5sB,MAAQnV,EACtF+hC,EAAa3sB,MAAQH,EAAKG,KAAO2sB,EAAa3sB,KAAOH,EAAKG,KAAO2sB,EAAa3sB,MAAQpV,EACtF+hC,EAAa5rB,MAAQlB,EAAKkB,KAAO4rB,EAAa5rB,KAAOlB,EAAKkB,KAAO4rB,EAAa5rB,MAAQnW,EACtF+hC,EAAa3rB,MAAQnB,EAAKmB,KAAO2rB,EAAa3rB,KAAOnB,EAAKmB,KAAO2rB,EAAa3rB,MAAQpW,EAOxF,OAJA+hC,EAAa7tC,MAAQ6tC,EAAa5rB,KAAO4rB,EAAa5sB,KACtD4sB,EAAat/B,OAASs/B,EAAa3rB,KAAO2rB,EAAa3sB,KACvD2sB,EAAan+B,EAAIm+B,EAAa5sB,KAC9B4sB,EAAaxrC,EAAIwrC,EAAa3sB,KACvB2sB,EAhHYI,CAAiBT,EAASE,EAAclvC,EAAQqrC,QAC/DU,GA1QqCvqC,EA0QP6tC,EAAa7tC,MA1QCuO,EA0QMs/B,EAAat/B,OA1QXm7B,EA0QmBlrC,EAAQkrC,eAzQ/EiE,EAAa76C,KAAKu+B,KAAKrxB,EAAQ0pC,GAC/BkE,EAAc96C,KAAKu+B,KAAK9iB,EAASm7B,GAE9B,CACLgB,MAFc,IAAIwD,aAAap7C,KAAKC,IAAI,EAAG46C,EAAaC,IAAcjiC,KAAK,GAG3E3L,MAAO2tC,EACPp/B,OAAQq/B,IAqQNtD,EAAU,GACV6D,EAAO,GAEF3B,EAAa,EAAGA,EAAahuC,EAAQirC,sBAAuB+C,IAInE,GAHA4B,GAAkBZ,EAASnC,EAAYqC,EAAcG,EAActD,EAAe/rC,GAElF2vC,EAAO,GACF,IAAI9D,GAFTC,EAAU,GAEwBC,EAAe/rC,EAAQwrC,WAAWkB,QAApE,CACA,IAAImD,EAAc/D,EAAQtsC,KAAI,SAAUsgB,GACtC,MAAO,CACL5O,EAAG5c,KAAKyE,MAAM+mB,EAAM5O,EAAIlR,EAAQkrC,eAAiBmE,EAAa5sB,MAC9D5e,EAAGvP,KAAKyE,MAAM+mB,EAAMjc,EAAI7D,EAAQkrC,eAAiBmE,EAAa3sB,UAIlE,GAAImtB,EAAa,CACf,IAAI1wC,EAAO0wC,EAAYt+C,OAEvB,GAAIyO,EAAQyrC,KAAO,EAGjB,IAFAtsC,EAAO7K,KAAKqS,MAAMkpC,EAAYt+C,OAASyO,EAAQyrC,MAExCtsC,EAAO,GAAKa,EAAQyrC,KAAO,GAChCzrC,EAAQyrC,MAAQ,EAChBtsC,EAAO7K,KAAKqS,MAAMkpC,EAAYt+C,OAASyO,EAAQyrC,MAKnD,IAAK,IAAIp8C,EAAI,EAAGuH,EAAI,EAAGA,EAAIuI,EAAMvI,GAAK,EAAGvH,GAAK2Q,EAAQyrC,KACpDkE,EAAK59C,KAAK,CACRmf,EAAG2+B,EAAYxgD,GAAG6hB,EAClBrN,EAAGgsC,EAAYxgD,GAAGwU,IAqBxB,GAAI8rC,GAhBiB,WACnB,IAAK,IAAIppB,EAAK,EAAGupB,EAAYd,EAASzoB,EAAKupB,EAAUv+C,OAAQg1B,IAAM,CACjE,IAAIlwB,EAAOy5C,EAAUvpB,GACjBikB,EAAamF,EAAKnwC,KAAI,SAAUsgB,GAClC,MAAO,CAACA,EAAM5O,EAAG4O,EAAMjc,MAEzB,IAAKqf,EAAiBsnB,EAAYn0C,EAAKwtB,UAAUwC,QAAShwB,EAAKwtB,UAAUyC,SAAU,OAAO,EAO5F,OAAO,EAGGypB,GACV,OAAOJ,EAMT,GAFA3vC,EAAQwrC,WAAa,GAEjBwC,GAA8C,GAAhChuC,EAAQirC,sBACxBjrC,EAAQgwC,uBAAyB,IACjChwC,EAAQ2rC,qBAAuB,QAC1B,MAAyC,IAArC3rC,EAAQiwC,0BAAkCpD,EAAWt7C,OAAS,GAIvE,MAFAyO,EAAQiwC,0BAA4B,IAMxC,OAAON,GA0CT,SAASC,GAAkBZ,EAASnC,EAAYzvB,EAAOiyB,EAActD,EAAe/rC,GAClF,SAASkwC,EAAWh/B,EAAG5D,GACrB,IAAI6iC,EAAS77C,KAAKqS,OAAOuK,EAAI5D,GAAUtN,EAAQkrC,gBAC/C,OAAOiF,EAAS,EAAI,EAAIA,EAG1B,SAASC,EAAWl/B,EAAG5D,GACrB,OAAO4D,EAAIlR,EAAQkrC,eAAiB59B,EAItC,IAAI+iC,GAAYrwC,EAAQqrC,OAASrrC,EAAQsrC,SAAWtrC,EAAQqrC,OAASrrC,EAAQsrC,QACzEgF,GAAYtwC,EAAQmrC,OAASnrC,EAAQorC,SAAWprC,EAAQmrC,OAASnrC,EAAQorC,QAEzEmF,EAAoB,SAA2BhuB,EAAMiuB,GAKvD,MAAO,CAJMl8C,KAAKE,IAAI07C,EAAW3tB,EAAKE,KAAM+tB,EAAanB,EAAa5sB,MAAOspB,EAAcvqC,OAC9ElN,KAAKE,IAAI07C,EAAW3tB,EAAKG,KAAM8tB,EAAanB,EAAa3sB,MAAOqpB,EAAch8B,QAChFzb,KAAKE,IAAI07C,EAAW3tB,EAAKkB,MAAO+sB,EAAanB,EAAa5sB,MAAOspB,EAAcvqC,OAC/ElN,KAAKE,IAAI07C,EAAW3tB,EAAKmB,MAAO8sB,EAAanB,EAAa3sB,MAAOqpB,EAAch8B,UAIxF0gC,EAAmB,SAA0Bp6C,EAAMq6C,GAUrD,IATA,IAAInuB,EAAOlsB,EAAKwtB,UAEZxb,EAAKkoC,EAAkBhuB,EAAMviB,EAAQsrC,QACrCqF,EAAStoC,EAAG,GACZuoC,EAASvoC,EAAG,GACZwoC,EAAOxoC,EAAG,GACVyoC,EAAOzoC,EAAG,GAGLxE,EAAI+sC,EAAQ/sC,EAAIitC,EAAMjtC,GAAK,EAClC,IAAK,IAAIqN,EAAIy/B,EAAQz/B,EAAI2/B,EAAM3/B,GAAK,EAClC,KAAIw/B,EAAkB,GAAK3E,EAAc76B,EAAIrN,EAAIkoC,EAAcvqC,QAAU,GAAzE,CAIA,IAAIuvC,EAAQX,EAAWl/B,EAAGm+B,EAAa5sB,MACnCuuB,EAAQZ,EAAWvsC,EAAGwrC,EAAa3sB,MACnCuuB,EAAahqB,EAAoB,CACnC/V,EAAG6/B,EACHltC,EAAGmtC,GACF,CACD9/B,EAAGqR,EAAKE,KACR5e,EAAG0e,EAAKG,KACRlhB,MAAO+gB,EAAK/gB,MACZuO,OAAQwS,EAAKxS,SAGf,GAAIkhC,EAAa38C,KAAKkS,IAAIxG,EAAQsrC,OAAQ,GAAI,CAC5C,IAAI4F,EAAK58C,KAAKuS,KAAKoqC,GAAcjxC,EAAQsrC,OACzCS,EAAcG,MAAMh7B,EAAIrN,EAAIkoC,EAAcvqC,QAAUkvC,EAAkBQ,EAAKA,KAqC/ElxC,EAAQ0rC,qBACVsD,EAAQtvC,SAAQ,SAAUrJ,GACxBo6C,EAAiBp6C,EAAM2J,EAAQ0rC,oBAAsB2E,MAIrDrwC,EAAQ2rC,qBACVvuB,EAAM1d,SAAQ,SAAUmwB,IAtCH,SAA0BpL,EAAMisB,GAUrD,IATA,IAAInuB,EAAOkC,EAAKZ,UAEZxb,EAAKkoC,EAAkBhuB,EAAMviB,EAAQorC,QACrCuF,EAAStoC,EAAG,GACZuoC,EAASvoC,EAAG,GACZwoC,EAAOxoC,EAAG,GACVyoC,EAAOzoC,EAAG,GAGLxE,EAAI+sC,EAAQ/sC,EAAIitC,EAAMjtC,GAAK,EAClC,IAAK,IAAIqN,EAAIy/B,EAAQz/B,EAAI2/B,EAAM3/B,GAAK,EAClC,KAAIw/B,EAAkB,GAAK3E,EAAcG,MAAMh7B,EAAIrN,EAAIkoC,EAAcvqC,QAAU,GAA/E,CAIA,IAAIuvC,EAAQX,EAAWl/B,EAAGm+B,EAAa5sB,MACnCuuB,EAAQZ,EAAWvsC,EAAGwrC,EAAa3sB,MACnCyuB,EAAgBzqB,EAAoB,CACtCxV,EAAG6/B,EACHltC,EAAGmtC,GACFvsB,GAEH,GAAI0sB,EAAgB78C,KAAKkS,IAAIxG,EAAQorC,OAAQ,GAAI,CAC/C,IAAIgG,EAAM98C,KAAKuS,KAAKsqC,GAAiBnxC,EAAQorC,OAC7CW,EAAcG,MAAMh7B,EAAIrN,EAAIkoC,EAAcvqC,QAAUkvC,EAAkBU,EAAMA,IAchFC,CAAiBxhB,EAAM7vB,EAAQ2rC,oBAAsB2E,MAIrDtwC,EAAQ4rC,6BACViB,EAAWntC,SAAQ,SAAUrJ,GAC3Bo6C,EAAiBp6C,EAAM2J,EAAQ4rC,4BAA8ByE,MAKnE,SAASxB,GAAYx4C,EAAMi7C,EAAQtrB,EAAeurB,GAChD,IAAIhvB,EAAOlsB,EAAKwtB,UACZ2tB,EAAexrB,EAAc,GAC7ByrB,EAAgBzrB,EAAc,GAC9B0rB,EAAkB1rB,EAAc,GAChC2rB,EAAiB3rB,EAAc,GAC/B4rB,EAAY,CACdC,QAAS,CACP3gC,EAAGqR,EAAKE,KAAO6uB,EACfztC,EAAG0e,EAAKG,KAAO4uB,GAEjBQ,SAAU,CACR5gC,EAAGqR,EAAKkB,KAAO6tB,EACfztC,EAAG0e,EAAKG,KAAO4uB,GAEjBS,WAAY,CACV7gC,EAAGqR,EAAKE,KAAO6uB,EACfztC,EAAG0e,EAAKmB,KAAO4tB,GAEjBU,YAAa,CACX9gC,EAAGqR,EAAKkB,KAAO6tB,EACfztC,EAAG0e,EAAKmB,KAAO4tB,IAGfW,EAAY1vB,EAAKxS,OAASwS,EAAK/gB,MAEnC,SAAS0wC,EAAaC,EAAYC,GAChC,OAAO7vB,EAAK/gB,OAAmE,IAAzD2wC,EAAWtuC,EAAI0e,EAAKG,MAAQ0vB,EAAWvuC,EAAI0e,EAAKG,QAIxE,GAAI+uB,EAEF,OAAID,EAAqBD,EAAaK,EAAUC,QAAUD,EAAUI,YAChEN,EAAwBH,EAAaK,EAAUG,WAAaH,EAAUE,SAE5DI,EAAaT,EAAeE,GAEhB,GAAZM,EACRR,EAAc5tC,EAAI8tC,EAAe9tC,EAAU0tC,EAAaK,EAAUC,QAAUD,EAAUI,YACnFT,EAAaK,EAAUE,SAAWF,EAAUG,WAGjDN,EAAc5tC,EAAI8tC,EAAe9tC,EAAU0tC,EAAaK,EAAUG,WAAaH,EAAUE,SACtFP,EAAaK,EAAUI,YAAcJ,EAAUC,QAGxD,GAAIF,EAAgB,CAClB,GAAIH,EAAc,OAAOD,EAAaK,EAAUE,SAAWF,EAAUG,WACrE,GAAIL,EAAiB,OAAOH,EAAaK,EAAUI,YAAcJ,EAAUC,QAM7E,OAFeK,EAAaV,EAAcE,GAEf,GAAZO,EACTT,EAAatgC,EAAIwgC,EAAgBxgC,EAAUqgC,EAAaK,EAAUC,QAAUD,EAAUI,YACnFT,EAAaK,EAAUG,WAAaH,EAAUE,SAGnDN,EAAatgC,EAAIwgC,EAAgBxgC,EAAUqgC,EAAaK,EAAUE,SAAWF,EAAUG,WACpFR,EAAaK,EAAUI,YAAcJ,EAAUC,QCxrBxD,IAwRe,GAtRf,WACE,SAASQ,EAAKr0B,EAAO3R,GACnBpd,KAAKod,IAAM,kBAAQpd,KAAKyuB,gBAAiBrR,GACzCpd,KAAK+uB,MAAQA,EACb/uB,KAAKouB,GAAKpuB,KAAKod,IAAIgR,GACnBpuB,KAAKkzB,MAAQlzB,KAAKod,IAAI8V,MACtBlzB,KAAK+/C,QAAU//C,KAAKod,IAAI2iC,QAAQxvC,KAAI,SAAUnJ,GAC5C,OAAO,mBAASA,GAAQ2nB,EAAM0Q,SAASr4B,GAAQA,KAEjDpH,KAAK49C,WAAa59C,KAAKod,IAAIwgC,WAAWrtC,KAAI,SAAUnJ,GAClD,OAAO,mBAASA,GAAQ2nB,EAAM0Q,SAASr4B,GAAQA,KAEjDpH,KAAKqjD,aACLrjD,KAAKsjD,UACLtjD,KAAK4Q,KAAO5Q,KAAKujD,SAASvjD,KAAK+/C,QAAS//C,KAAK49C,YAC7C59C,KAAKwjD,SAoQP,OAjQAJ,EAAKphD,UAAUysB,cAAgB,WAC7B,MAAO,CACLL,GAAI,UACJjrB,KAAM,eACN48C,QAAS,GACTnC,WAAY,GACZ3/B,MAAO,CACLC,KAAM,YACNM,OAAQ,OACRilC,QAAS,IAEX1iC,QAAS,KAIbqiC,EAAKphD,UAAUqhD,WAAa,WAC1B,IAAIK,EAAW1jD,KAAK+/C,QAAQz9C,QAAUtC,KAAK+/C,QAAQ,GAAG/kB,cAAczH,gBAAgBhhB,MAAQ,EAC5FvS,KAAK+gB,QAAU/gB,KAAKod,IAAI2D,QAAU,EAAI/gB,KAAKod,IAAI2D,QAAU2iC,EAAW,GAAKA,EACzE1jD,KAAKod,IAAIumC,UAAY,CACnBvH,OAAQp8C,KAAK+gB,QAAU2iC,EACvBrH,OAAQr8C,KAAK+gB,QAAU2iC,EACvBpH,YAAat8C,KAAK+gB,QAAU2iC,IAIhCN,EAAKphD,UAAUshD,QAAU,WACvBtjD,KAAKmD,KAAOnD,KAAKod,IAAIja,KAEjBnD,KAAK+/C,QAAQz9C,OAAS,IACxBtC,KAAKmD,KAAO,gBAGI,iBAAdnD,KAAKmD,MAAyC,kBAAdnD,KAAKmD,MAA0C,WAAdnD,KAAKmD,OACxEmX,QAAQC,KAAK,0GACbva,KAAKmD,KAAO,iBAIhBigD,EAAKphD,UAAUuhD,SAAW,SAAUxD,EAASnC,GAC3C,IAAIf,EAASjsC,EAAM8vC,EAEnB,OAAQ1gD,KAAKmD,MACX,IAAK,eAEHu9C,EAAO3G,IADP8C,EAAUlB,GAAcoE,IACGxvC,KAAI,SAAUrO,GACvC,MAAO,CAACA,EAAE+f,EAAG/f,EAAE0S,MACb5U,KAAK+gB,SACTnQ,EAAO,aAAgB8vC,GACvB,MAEF,IAAK,gBAGoB,KAFvB7D,EAAUlB,GAAcoE,IAEZz9C,QACVo+C,EAAO3G,GAAY8C,EAAQtsC,KAAI,SAAUrO,GACvC,MAAO,CAACA,EAAE+f,EAAG/f,EAAE0S,MACb5U,KAAK+gB,SACTnQ,EAAO,aAAgB8vC,IACd7D,EAAQv6C,OAAS,IAC1Bo+C,EAAO/F,GAAWkC,EAAQtsC,KAAI,SAAUrO,GACtC,MAAO,CAACA,EAAE+f,EAAG/f,EAAE0S,MACb5U,KAAK+gB,SACTnQ,EAAOsoC,GAAgBwH,IAGzB,MAEF,IAAK,SAEH9vC,GADAisC,EAAU,GAAakD,EAASnC,EAAY59C,KAAKod,IAAIumC,YACtCrhD,QAAU,GAAK42C,GAAgB2D,GAMlD,OAAOjsC,GAGTwyC,EAAKphD,UAAUwhD,OAAS,WACtBxjD,KAAKkzB,MAAM2W,SAAS,OAAQ,CAC1B7lC,MAAO,YAAS,CACd4M,KAAM5Q,KAAK4Q,MACV5Q,KAAKod,IAAIa,OACZmQ,GAAIpuB,KAAKouB,GACTztB,KAAMX,KAAKod,IAAIgR,KAEjBpuB,KAAKkzB,MAAM4d,UASbsS,EAAKphD,UAAU4hD,UAAY,SAAUx8C,GACnC,GAAKA,EAAL,CACI,mBAASA,KAAOA,EAAOpH,KAAK+uB,MAAM0Q,SAASr4B,IAC/CpH,KAAK+/C,QAAQj9C,KAAKsE,GAClB,IAAIvE,EAAQ7C,KAAK49C,WAAWn7C,QAAQ2E,GAOpC,OALIvE,GAAS,GACX7C,KAAK49C,WAAW53C,OAAOnD,EAAO,GAGhC7C,KAAK6jD,WAAW7jD,KAAK+/C,QAAS//C,KAAK49C,aAC5B,IASTwF,EAAKphD,UAAU8hD,aAAe,SAAU18C,GACtC,GAAKA,EAAL,CACI,mBAASA,KAAOA,EAAOpH,KAAK+uB,MAAM0Q,SAASr4B,IAC/CpH,KAAK49C,WAAW96C,KAAKsE,GACrB,IAAIvE,EAAQ7C,KAAK+/C,QAAQt9C,QAAQ2E,GAOjC,OALIvE,GAAS,GACX7C,KAAK+/C,QAAQ/5C,OAAOnD,EAAO,GAG7B7C,KAAK6jD,WAAW7jD,KAAK+/C,QAAS//C,KAAK49C,aAC5B,IASTwF,EAAKphD,UAAU+hD,aAAe,SAAU38C,GACtC,GAAKA,EAAL,CACI,mBAASA,KAAOA,EAAOpH,KAAK+uB,MAAM0Q,SAASr4B,IAC/C,IAAIvE,EAAQ7C,KAAK+/C,QAAQt9C,QAAQ2E,GAEjC,OAAIvE,GAAS,IACX7C,KAAK+/C,QAAQ/5C,OAAOnD,EAAO,GAC3B7C,KAAK6jD,WAAW7jD,KAAK+/C,QAAS//C,KAAK49C,aAC5B,KAWXwF,EAAKphD,UAAUgiD,gBAAkB,SAAU58C,GACzC,GAAKA,EAAL,CACI,mBAASA,KAAOA,EAAOpH,KAAK+uB,MAAM0Q,SAASr4B,IAC/C,IAAIvE,EAAQ7C,KAAK49C,WAAWn7C,QAAQ2E,GAEpC,OAAIvE,GAAS,IACX7C,KAAK49C,WAAW53C,OAAOnD,EAAO,GAC9B7C,KAAK6jD,WAAW7jD,KAAK+/C,QAAS//C,KAAK49C,aAC5B,KAMXwF,EAAKphD,UAAU6hD,WAAa,SAAU9D,EAASnC,GAC7C,IAAIruB,EAAQvvB,KAEZA,KAAKkzB,MAAMuM,SAASz/B,KAAKouB,IAAI5nB,SACzBu5C,IAAS//C,KAAK+/C,QAAUA,EAAQxvC,KAAI,SAAUnJ,GAChD,OAAO,mBAASA,GAAQmoB,EAAMR,MAAM0Q,SAASr4B,GAAQA,MAEnDw2C,IAAY59C,KAAK49C,WAAaA,EAAWrtC,KAAI,SAAUnJ,GACzD,OAAO,mBAASA,GAAQmoB,EAAMR,MAAM0Q,SAASr4B,GAAQA,MAEvDpH,KAAK4Q,KAAO5Q,KAAKujD,SAASvjD,KAAK+/C,QAAS//C,KAAK49C,YAC7C59C,KAAKwjD,UAGPJ,EAAKphD,UAAUiiD,YAAc,SAAU7mC,GAC1Bpd,KAAKkzB,MAAMuM,SAASz/B,KAAKouB,IAC/B+c,KAAK,YAAS,GAAI/tB,KAQzBgmC,EAAKphD,UAAU2sB,UAAY,SAAUvR,GACnC,IAAImS,EAAQvvB,KAEZA,KAAKod,IAAM,kBAAQpd,KAAKod,IAAKA,GAC7Bpd,KAAKouB,GAAKpuB,KAAKod,IAAIgR,GACnBpuB,KAAKkzB,MAAQlzB,KAAKod,IAAI8V,MAElB9V,EAAI2iC,UACN//C,KAAK+/C,QAAU//C,KAAKod,IAAI2iC,QAAQxvC,KAAI,SAAUnJ,GAC5C,OAAO,mBAASA,GAAQmoB,EAAMR,MAAM0Q,SAASr4B,GAAQA,MAIrDgW,EAAIwgC,aACN59C,KAAK49C,WAAa59C,KAAKod,IAAIwgC,WAAWrtC,KAAI,SAAUnJ,GAClD,OAAO,mBAASA,GAAQmoB,EAAMR,MAAM0Q,SAASr4B,GAAQA,MAKzDpH,KAAKqjD,aACLrjD,KAAKsjD,UACLtjD,KAAK4Q,KAAO5Q,KAAKujD,SAASvjD,KAAK+/C,QAAS//C,KAAK49C,YAC7C59C,KAAKwjD,UAQPJ,EAAKphD,UAAUkiD,QAAU,SAAU98C,GACjC,IAEI+8C,EAQAC,EAVA70B,EAAQvvB,KAWR4pC,GANFua,EADE,mBAAS/8C,GACApH,KAAK+uB,MAAM0Q,SAASr4B,GAEpBA,GAIQ4zB,cAErB,GAA6B,SAAzBmpB,EAASljD,IAAI,QACfmjD,EAAcpL,GAAapP,EAAMuB,KAAK,aACjC,CACL,IAAIkZ,EAAYza,EAAMrW,gBACtB6wB,EAAc,CAAC,CAACC,EAAU7wB,KAAM6wB,EAAU5wB,MAAO,CAAC4wB,EAAU7vB,KAAM6vB,EAAU5wB,MAAO,CAAC4wB,EAAU7vB,KAAM6vB,EAAU5vB,MAAO,CAAC4vB,EAAU7wB,KAAM6wB,EAAU5vB,OAQlJ,OALA2vB,EAAcA,EAAY7zC,KAAI,SAAU21B,GACtC,IAAIrV,EAAQtB,EAAMR,MAAM0W,iBAAiBS,EAAY,GAAIA,EAAY,IAErE,MAAO,CAACrV,EAAM5O,EAAG4O,EAAMjc,MAElB,EAAoBwvC,EAAapL,GAAah5C,KAAK4Q,QAG5DwyC,EAAKphD,UAAUugC,QAAU,WACvBviC,KAAKkzB,MAAM1sB,SACXxG,KAAKod,IAAM,MAGNgmC,EAnRT,GCJI,GAAY,IAAIvzB,UAykGL,GApkGf,SAAU2S,GAGR,SAAS8hB,EAAclnC,GACrB,IAAImS,EAAQiT,EAAOjiC,KAAKP,OAASA,KAejC,OAbAuvB,EAAMnS,IAAM,kBAAQmS,EAAMd,gBAAiBrR,GAE3CmS,EAAMhpB,OAENgpB,EAAMg1B,WAAY,EAClBh1B,EAAMuR,WAAY,EAEdvR,EAAMnS,IAAIonC,eAEZj1B,EAAMk1B,UAAY,IAAI,QAAMl1B,EAAMnS,IAAIsnC,SACtCn1B,EAAMo1B,UAAY,IAAI,QAAMp1B,EAAMnS,IAAIsnC,UAGjCn1B,EA8iGT,OAhkGA,YAAU+0B,EAAe9hB,GAqBzB8hB,EAActiD,UAAUuE,KAAO,WAC7BvG,KAAK4kD,aAEL,IAAIC,EAAiB,IAAI,GAAe7kD,MACpC8kD,EAAiB,IAAI,GAAe9kD,MACpC+kD,EAAiB,IAAI,GAAe/kD,MACpCglD,EAAkB,IAAI,GAAgBhlD,MAC1CA,KAAKsH,IAAI,CACPu9C,eAAgBA,EAChBC,eAAgBA,EAChBC,eAAgBA,EAChBC,gBAAiBA,IAGnBhlD,KAAKilD,uBAELjlD,KAAKklD,sBACLllD,KAAKmlD,aAGLnlD,KAAKolD,cACLplD,KAAKqlD,UAAY,gCAAsBrlD,KAAKslD,OAAO1jD,KAAK5B,QAI1DskD,EAActiD,UAAUmjD,WAAa,WACnC,IAAI/e,EAASpmC,KAAKiB,IAAI,UAElBmtB,EADKpuB,KAAKiB,IAAI,UAAUA,IAAI,MACpBmtB,GACR8E,EAAQkT,EAAOgP,SAAS,CAC1BhnB,GAAI,GAAGppB,OAAOopB,EAAI,SAClBod,UAAW,GAAOhuB,yBAGpB,GAAIxd,KAAKiB,IAAI,gBAAiB,CAC5B,IAAIi1C,EAAYhjB,EAAMkiB,SAAS,CAC7BhnB,GAAI,GAAGppB,OAAOopB,EAAI,SAClBod,UAAW,GAAO5tB,yBAEhB2nC,EAAYryB,EAAMkiB,SAAS,CAC7BhnB,GAAI,GAAGppB,OAAOopB,EAAI,SAClBod,UAAW,GAAO7tB,yBAEhB03B,EAAaniB,EAAMkiB,SAAS,CAC9BhnB,GAAI,GAAGppB,OAAOopB,EAAI,UAClBod,UAAW,GAAO3tB,0BAGpBw3B,EAAWvE,SACX9wC,KAAKsH,IAAI,CACPi+C,UAAWA,EACXrP,UAAWA,EACXb,WAAYA,IAIhB,IAAImQ,EAAgBtyB,EAAMkiB,SAAS,CACjChnB,GAAI,GAAGppB,OAAOopB,EAAI,aAClBod,UAAW,GAAO1tB,6BAEpB9d,KAAKsH,IAAI,CACPk+C,cAAeA,IAEjBxlD,KAAKsH,IAAI,QAAS4rB,IAIpBoxB,EAActiD,UAAUysB,cAAgB,WACtC,MAAO,CAILub,eAAW/9B,EAMXsG,WAAOtG,EAMP6U,YAAQ7U,EAMRw5C,SAAU,SAKV1kB,MAAO,GAKP2kB,QAAS,GAKT7gD,KAAM,GAKN8gD,eAAgB,GAKhB9e,QAAS,GAKT+e,QAAS,GAKT32B,OAAO,EAKP42B,cAAc,EAKdjzB,UAAU,EAKVukB,WAAW,EAKXjpB,MAAO,GAKPC,MAAO,GAKPiS,OAAQ,GAKR0lB,OAAQ,GAKRC,QAAS,GAKT1U,YAAY,EAgBZ/yB,YAAa,GAKbyB,YAAa,GAcbjB,gBAAiB,GAKjBoB,gBAAiB,GAKjB0tB,OAAQ,GAKRtI,SAAS,EAKTC,WAAY,CAIVygB,aAAS/5C,EAKTg6C,SAAU,IAKVC,OAAQ,cAEVC,cAAUl6C,EAEVu4C,cAAc,EAEdE,QAAS,GAET0B,SAAU,KAUd9B,EAActiD,UAAUsF,IAAM,SAAU3F,EAAKiG,GAO3C,OANI,wBAAcjG,GAChB3B,KAAKod,IAAM,YAAS,YAAS,GAAIpd,KAAKod,KAAMzb,GAE5C3B,KAAKod,IAAIzb,GAAOiG,EAGX5H,MAQTskD,EAActiD,UAAUf,IAAM,SAAUU,GACtC,OAAO3B,KAAKod,IAAIzb,IAQlB2iD,EAActiD,UAAUqkD,SAAW,WACjC,OAAOrmD,KAAKiB,IAAI,UAQlBqjD,EAActiD,UAAUioC,aAAe,WACrC,OAAOjqC,KAAKiB,IAAI,cAQlBqjD,EAActiD,UAAUskD,WAAa,WACnC,OAAOtmD,KAAKiB,IAAI,YAQlBqjD,EAActiD,UAAUukD,WAAa,SAAU9zB,GAC7C,OAAOzyB,KAAKsH,IAAI,UAAWmrB,IAQ7B6xB,EAActiD,UAAUwkD,WAAa,WACnC,OAAOxmD,KAAKiB,IAAI,YAQlBqjD,EAActiD,UAAUykD,WAAa,SAAUh0B,GAC7C,OAAOzyB,KAAKsH,IAAI,UAAWmrB,IAQ7B6xB,EAActiD,UAAU0kD,SAAW,WACjC,OAAO1mD,KAAKiB,IAAI,UAQlBqjD,EAActiD,UAAU2kD,UAAY,WAClC,OAAO3mD,KAAKiB,IAAI,WASlBqjD,EAActiD,UAAUs1C,gBAAkB,SAAUlwC,EAAMwmC,GACpD,mBAASxmC,KACXA,EAAOpH,KAAKy/B,SAASr4B,IAGvB,IAAI29C,EAAiB/kD,KAAKiB,IAAI,kBAEzB2sC,IACHA,EAASxmC,EAAKnG,IAAI,WAGpB8jD,EAAezN,gBAAgBlwC,EAAMwmC,GACf5tC,KAAKiB,IAAI,mBACfw3C,aAAarxC,EAAMwmC,GAAQ,IAoB7C0W,EAActiD,UAAU8wB,KAAO,SAAU8zB,GACjB,mBAAXA,GACT5mD,KAAKsH,IAAI,aAAcs/C,IAS3BtC,EAActiD,UAAU4+B,KAAO,SAAUimB,GACjB,mBAAXA,GACT7mD,KAAKsH,IAAI,aAAcu/C,IAS3BvC,EAActiD,UAAUi8B,MAAQ,SAAU6oB,GACjB,mBAAZA,GACT9mD,KAAKsH,IAAI,cAAew/C,IAS5BxC,EAActiD,UAAUy9B,SAAW,SAAUrR,GAC3C,OAAOpuB,KAAKiB,IAAI,WAAWmtB,IAU7Bk2B,EAActiD,UAAUsC,KAAO,SAAUnB,EAAMmD,GAC7C,IAAI1D,EACA2gC,EAAQvjC,KAAKiB,IAAI,GAAG+D,OAAO7B,EAAM,MAQrC,OANA,eAAKogC,GAAO,SAAUn8B,EAAMhH,GAC1B,GAAIkG,EAAGc,EAAMhH,GAEX,OADAwC,EAASwE,KAINxE,GAUT0hD,EAActiD,UAAU+kD,QAAU,SAAU5jD,EAAMmD,GAChD,IAAI1D,EAAS,GAMb,OALA,eAAK5C,KAAKiB,IAAI,GAAG+D,OAAO7B,EAAM,OAAO,SAAUiE,EAAMhH,GAC/CkG,EAAGc,EAAMhH,IACXwC,EAAOE,KAAKsE,MAGTxE,GAUT0hD,EAActiD,UAAUglD,eAAiB,SAAU7jD,EAAMisC,GACvD,OAAOpvC,KAAK+mD,QAAQ5jD,GAAM,SAAUiE,GAClC,OAAOA,EAAKipC,SAASjB,OAUzBkV,EAActiD,UAAUixB,UAAY,SAAU7B,EAAIC,GAChD,IAAI6B,EAAQlzB,KAAKiB,IAAI,SACjB8wB,EAAS,gBAAMmB,EAAMG,aAEpBtB,IACHA,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGpCA,EAAS,GAAUA,EAAQ,CAAC,CAAC,IAAKX,EAAIC,KACtC6B,EAAMS,UAAU5B,GAChB/xB,KAAKoc,KAAK,iBAAkB,CAC1BtT,OAAQ,YACRipB,OAAQmB,EAAMG,cAEhBrzB,KAAKm3C,aASPmN,EAActiD,UAAUilD,OAAS,SAAUhlC,EAAGrN,GAC5C,IAAIse,EAAQlzB,KAAKiB,IAAI,SACrBmyB,EAAKF,EAAO,CACVjR,EAAGA,EACHrN,EAAGA,IAEL5U,KAAKoc,KAAK,iBAAkB,CAC1BtT,OAAQ,OACRipB,OAAQmB,EAAMG,eASlBixB,EAActiD,UAAUmjC,QAAU,SAAUpkB,GACtCA,GACF/gB,KAAKsH,IAAI,iBAAkByZ,GAGR/gB,KAAKiB,IAAI,kBACfkkC,UACfnlC,KAAKm3C,aAOPmN,EAActiD,UAAU+iC,UAAY,WACb/kC,KAAKiB,IAAI,kBACf8jC,YACf/kC,KAAKm3C,aAUPmN,EAActiD,UAAUklD,aAAe,SAAU5lB,EAAWP,GAG1D,OAFqB/gC,KAAKiB,IAAI,kBACf8gC,oBAAoBT,EAAWP,GAAO,GAC9C/gC,MAUTskD,EAActiD,UAAUmlD,gBAAkB,SAAU7lB,EAAWP,GAG7D,OAFqB/gC,KAAKiB,IAAI,kBACf8gC,oBAAoBT,EAAWP,GAAO,GAC9C/gC,MAUTskD,EAActiD,UAAUkgC,eAAiB,SAAU7S,EAAU8S,EAAQ5gC,GAGnE,OAFqBvB,KAAKiB,IAAI,kBACfihC,eAAe7S,EAAU8S,EAAQ5gC,GACzCvB,MASTskD,EAActiD,UAAUojC,KAAO,SAAU3S,EAAO1B,GAC9C,IAAImC,EAAQlzB,KAAKiB,IAAI,SACjB8wB,EAAS,gBAAMmB,EAAMG,aACrBwT,EAAU7mC,KAAKiB,IAAI,WACnB2kD,EAAU5lD,KAAKiB,IAAI,WAElB8wB,IACHA,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAIlCA,EAAS,GAAUA,EADjBhB,EACyB,CAAC,CAAC,KAAMA,EAAO9O,GAAI8O,EAAOnc,GAAI,CAAC,IAAK6d,EAAOA,GAAQ,CAAC,IAAK1B,EAAO9O,EAAG8O,EAAOnc,IAE1E,CAAC,CAAC,IAAK6d,EAAOA,KAGvCoU,GAAW9U,EAAO,GAAK8U,GAAW+e,GAAW7zB,EAAO,GAAK6zB,IAK7D1yB,EAAMS,UAAU5B,GAChB/xB,KAAKoc,KAAK,iBAAkB,CAC1BtT,OAAQ,OACRipB,OAAQA,IAEV/xB,KAAKm3C,cASPmN,EAActiD,UAAUolD,OAAS,SAAUC,EAASt2B,GAClD,IAAI0B,EAAQ40B,EAAUrnD,KAAKsnD,UAC3BtnD,KAAKolC,KAAK3S,EAAO1B,IAUnBuzB,EAActiD,UAAUulD,UAAY,SAAUngD,EAAMk+B,EAASC,GAC3D,IAAIsf,EAAiB7kD,KAAKiB,IAAI,kBAC1BumD,GAAY,EACZliB,EAASkiB,GAAY,OAA0Bv7C,IAAZq5B,IAAuBkiB,EAAYxnD,KAAKiB,IAAI,YACnF,IAAIwmD,EAAgB,GAChBliB,EAAYkiB,EAAgBliB,OAAmCt5B,IAAfs5B,IAA0BkiB,EAAgBznD,KAAKiB,IAAI,eACvG4jD,EAAeve,MAAMl/B,EAAMogD,EAAWC,GACtCznD,KAAKm3C,aAQPmN,EAActiD,UAAUm1C,UAAY,WAC9Bn3C,KAAKiB,IAAI,cACXjB,KAAK0nD,SAQTpD,EAActiD,UAAU0lD,MAAQ,WAC9B1nD,KAAKoc,KAAK,eACVpc,KAAKiB,IAAI,UAAUuoC,OACnBxpC,KAAKoc,KAAK,eAUZkoC,EAActiD,UAAUikC,iBAAmB,SAAUlD,EAASC,GAE5D,OADqBhjC,KAAKiB,IAAI,kBACRglC,iBAAiBlD,EAASC,IAUlDshB,EAActiD,UAAUmkC,iBAAmB,SAAUlkB,EAAGrN,GAEtD,OADqB5U,KAAKiB,IAAI,kBACRklC,iBAAiBlkB,EAAGrN,IAU5C0vC,EAActiD,UAAUyjC,iBAAmB,SAAU/C,EAASC,GAE5D,OADqB3iC,KAAKiB,IAAI,kBACRwkC,iBAAiB/C,EAASC,IAUlD2hB,EAActiD,UAAUqkC,iBAAmB,SAAUpkB,EAAGrN,GAEtD,OADqB5U,KAAKiB,IAAI,kBACRolC,iBAAiBpkB,EAAGrN,IAQ5C0vC,EAActiD,UAAU2lD,oBAAsB,WAC5C,IAAIr0B,EAAOtzB,KAAKiB,IAAI,SAASsyB,gBAC7B,MAAO,CACLtR,GAAIqR,EAAKE,KAAOF,EAAKkB,MAAQ,EAC7B5f,GAAI0e,EAAKG,KAAOH,EAAKmB,MAAQ,IASjC6vB,EAActiD,UAAU4lD,uBAAyB,WAC/C,OAAO5nD,KAAKylC,iBAAiBzlC,KAAKiB,IAAI,SAAW,EAAGjB,KAAKiB,IAAI,UAAY,IAS3EqjD,EAActiD,UAAUq0C,SAAW,SAAUjvC,EAAMygD,QACnC,IAAVA,IACFA,GAAQ,GAGV,IACI/lD,EADiB9B,KAAKiB,IAAI,kBACF02C,qBAAqBvwC,GAAM,GAEvD,GAAIygD,GAAS7nD,KAAKiB,IAAI,gBAAiB,CACrC,IAAImtB,EAAKtsB,EAAOquC,QAEZ2X,EAAS,GACTC,EAAQ,GAEZ,OAJWjmD,EAAOuK,WAKhB,IAAK,OACHy7C,EAAO55B,MAAQ,CAAC,CACdE,GAAIA,EACJ/Q,SAAS,IAEX0qC,EAAM75B,MAAQ,CAAC,CACbE,GAAIA,EACJ/Q,SAAS,IAEX,MAEF,IAAK,OACHyqC,EAAO55B,MAAQ,CAAC,CACdE,GAAIA,EACJ/Q,SAAS,IAEX0qC,EAAM55B,MAAQ,CAAC,CACbC,GAAIA,EACJ/Q,SAAS,IAEX,MAEF,IAAK,QACHyqC,EAAO55B,MAAQ,CAAC,CACdE,GAAIA,EACJ/Q,SAAS,IAEX0qC,EAAM3nB,OAAS,CAAC,CACdhS,GAAIA,EACJ/Q,SAAS,IAQfrd,KAAKgoD,UAAU,UAAW,CACxBF,OAAQA,EACRC,MAAOA,MAWbzD,EAActiD,UAAUm0C,SAAW,SAAU/uC,EAAMygD,QACnC,IAAVA,IACFA,GAAQ,GAGV,IACI/lD,EADiB9B,KAAKiB,IAAI,kBACF02C,qBAAqBvwC,GAAM,GAEvD,GAAIygD,GAAS7nD,KAAKiB,IAAI,gBAAiB,CACrC,IAAImtB,EAAKtsB,EAAOquC,QAEZ2X,EAAS,GACTC,EAAQ,GAEZ,OAJWjmD,EAAOuK,WAKhB,IAAK,OACHy7C,EAAO55B,MAAQ,CAAC,CACdE,GAAIA,EACJ/Q,SAAS,IAEX0qC,EAAM75B,MAAQ,CAAC,CACbE,GAAIA,EACJ/Q,SAAS,IAEX,MAEF,IAAK,OACHyqC,EAAO55B,MAAQ,CAAC,CACdE,GAAIA,EACJ/Q,SAAS,IAEX0qC,EAAM55B,MAAQ,CAAC,CACbC,GAAIA,EACJ/Q,SAAS,IAEX,MAEF,IAAK,QACHyqC,EAAO55B,MAAQ,CAAC,CACdE,GAAIA,EACJ/Q,SAAS,IAEX0qC,EAAM3nB,OAAS,CAAC,CACdhS,GAAIA,EACJ/Q,SAAS,IAQfrd,KAAKgoD,UAAU,UAAW,CACxBF,OAAQA,EACRC,MAAOA,MAUbzD,EAActiD,UAAUu1C,YAAc,SAAUnwC,GACzBpH,KAAKiB,IAAI,kBACfs2C,YAAYnwC,IAQ7Bk9C,EAActiD,UAAUimD,aAAe,SAAUC,GACpCloD,KACNsH,IAAI,YAAa4gD,GADXloD,KAEOiB,IAAI,UACfqG,IAAI,WAAY4gD,IASzB5D,EAActiD,UAAUwE,OAAS,SAAUY,EAAMygD,QACjC,IAAVA,IACFA,GAAQ,GAGV7nD,KAAKs2C,WAAWlvC,EAAMygD,IASxBvD,EAActiD,UAAUs0C,WAAa,SAAUlvC,EAAMygD,QACrC,IAAVA,IACFA,GAAQ,GAGV,IAAI1D,EAAW/8C,EAGf,GAFI,mBAASA,KAAO+8C,EAAWnkD,KAAKy/B,SAASr4B,KAExC+8C,GAAY,mBAAS/8C,GACxBkT,QAAQC,KAAK,+CACR,GAAI4pC,EAAU,CACnB,IAAIhhD,EAAO,GAGX,GAFIghD,EAAS93C,UAASlJ,EAAOghD,EAAS93C,WAElCw7C,GAAS7nD,KAAKiB,IAAI,gBAAiB,CACrC,IAAIknD,EAAe,YAAS,YAAS,GAAIhE,EAASjU,YAAa,CAC7DxS,SAAUv6B,IAGR2kD,EAAS,GAEb,OAAQ3kD,GACN,IAAK,OAED2kD,EAAO55B,MAAQ,CAACi6B,GAChBL,EAAO35B,MAAQ,GAGf,IAFA,IAAIA,EAAQg2B,EAASlR,WAEZ7yC,EAAI+tB,EAAM7rB,OAAS,EAAGlC,GAAK,EAAGA,IACrC0nD,EAAO35B,MAAMrrB,KAAK,YAAS,YAAS,GAAIqrB,EAAM/tB,GAAG8vC,YAAa,CAC5DxS,SAAU,UAId,MAGJ,IAAK,OACHoqB,EAAO35B,MAAQ,CAACg6B,GAChB,MAEF,IAAK,QACHL,EAAO1nB,OAAS,CAAC+nB,GAOrBnoD,KAAKgoD,UAAU,SAAU,CACvBF,OAAQA,EACRC,MAAO,KAIX,GAAa,SAAT5kD,EACUghD,EAASjU,WAEXhS,SACRl+B,KAAKooD,gBAAgBjE,GAOzB,GAHqBnkD,KAAKiB,IAAI,kBACfq1C,WAAW6N,GAEb,UAAThhD,EAAkB,CACpB,IAAIklD,EAAgB5pB,GAAgBz+B,KAAKiB,IAAI,eAC7CjB,KAAKsH,IAAI,aAAc+gD,MAc7B/D,EAActiD,UAAU6yC,QAAU,SAAU1xC,EAAMiU,EAAOywC,EAAOS,QAChD,IAAVT,IACFA,GAAQ,QAGQ,IAAdS,IACFA,GAAY,GAGd,IAAIC,EAAqBvoD,KAAKiB,IAAI,eAClCjB,KAAKsH,IAAI,cAAeihD,IAAuBD,GAC/C,IAAIvD,EAAiB/kD,KAAKiB,IAAI,kBAE9B,IjBn8B8B,SAA8BkC,EAAM0B,GACpE,GAAa,SAAT1B,GAA4B,UAATA,GAErB,GAAI0B,EAAKupB,KAAO,mBAASvpB,EAAKupB,IAE5B,OADA9T,QAAQC,KAAK,yDAAyDvV,OAAOH,EAAKupB,GAAI,uBAAwB,+BAAgC,KACvI,OAEJ,KAAa,SAATjrB,GAEJ0B,EAAKmpB,QAAWnpB,EAAKopB,QAExB,OADA3T,QAAQC,KAAK,gEACN,EAIX,OAAO,EiBo7BA,CAAqBpX,EAAMiU,GAC9B,OAAO,EAGT,IAAIA,EAAMgX,KAAMpuB,KAAKy/B,SAASroB,EAAMgX,IAApC,CAKA,IAAIhnB,EACAuvC,EAAa32C,KAAKiB,IAAI,cAG1B,GAFK01C,IAAYA,EAAa,IAEjB,UAATxzC,EAAkB,CACpB,IAAIqlD,EAAYxoD,KAAKiB,IAAI,WACrBwnD,GAAgB,EA6BpB,GA5BA9R,EAAWlmC,SAAQ,SAAUomC,GACvB4R,GAEJ96B,GAAekpB,GAAO,SAAUtY,GAE9B,GAAInnB,EAAMumB,WAAaY,EAAMnQ,GAAI,CAC/Bq6B,GAAgB,EAEhB,IAAIC,EAAW,YAAS,CACtBt6B,GAAIhX,EAAMgX,GACVkQ,MAAOC,EAAMD,MAAQ,GACpBlnB,GAECmnB,EAAMlQ,SAAUkQ,EAAMlQ,SAASvrB,KAAK4lD,GAAenqB,EAAMlQ,SAAW,CAACq6B,GACzEtxC,EAAMknB,MAAQoqB,EAASpqB,MACvBl3B,EAAO29C,EAAelQ,QAAQ1xC,EAAMiU,GAGtC,IAAIooB,EAAYgpB,EAAUjqB,EAAMnQ,IAMhC,OAJIq6B,GAAiBjpB,GAAaA,EAAUnzB,SAAmC,UAAxBmzB,EAAUnzB,WAC/D04C,EAAelP,YAAYrW,EAAWjB,EAAMlQ,WAGvC,SAINo6B,EAAe,CAClB,IAAIC,EAAW,YAAS,CACtBt6B,GAAIhX,EAAMgX,GACVkQ,MAAO,GACNlnB,GAEHA,EAAMknB,MAAQoqB,EAASpqB,MACvBqY,EAAW7zC,KAAK4lD,GAChBthD,EAAO29C,EAAelQ,QAAQ1xC,EAAMiU,GAGtCpX,KAAKsH,IAAI,aAAcqvC,QAClB,GAAa,SAATxzC,GAAmB,mBAASiU,EAAM8mB,UAAYyY,EAAY,CACnE,IAAIgS,KAAc3oD,KAAKy/B,SAASroB,EAAM8mB,WAEnByqB,EAAYt8C,SAAqC,UAA1Bs8C,EAAYt8C,WACpDiO,QAAQC,KAAK,IAAIvV,OAAOoS,EAAM8mB,QAAS,iFAGzC92B,EAAO29C,EAAelQ,QAAQ1xC,EAAMiU,GACpC,IAAIwxC,EAAY5oD,KAAKiB,IAAI,WACrB4nD,GAAgB,EAChBC,GAAc,GACjBnS,GAAc,IAAIlmC,SAAQ,SAAUomC,GAC/BiS,GAAeD,GAEnBl7B,GAAekpB,GAAO,SAAUtY,GAC9B,GAAIA,EAAMnQ,KAAOhX,EAAMgX,GAGrB,OADA06B,GAAc,GACP,EAGT,GAAI1xC,EAAM8mB,UAAYK,EAAMnQ,KAAO06B,EAAa,CAE9CD,GAAgB,EAChB,IAAIE,EAAY,gBAAM3xC,GACtB2xC,EAAUrrB,SAAW,OACjBa,EAAMlQ,SAAUkQ,EAAMlQ,SAASvrB,KAAKimD,GAAgBxqB,EAAMlQ,SAAW,CAAC06B,GAC1EA,EAAUzqB,MAAQC,EAAMD,MAAQ,EAQlC,OAJIuqB,GAAiBD,EAAUrqB,EAAMnQ,IAAI/hB,SAA6C,UAAlCu8C,EAAUrqB,EAAMnQ,IAAI/hB,WACtE04C,EAAelP,YAAY+S,EAAUrqB,EAAMnQ,IAAKmQ,EAAMlQ,WAGjD,aAIXjnB,EAAO29C,EAAelQ,QAAQ1xC,EAAMiU,GAGtC,GAAa,SAATjU,GAAmBiU,EAAM8mB,SAAoB,UAAT/6B,GAAoBiU,EAAMumB,UAE5DgrB,EAAc3oD,KAAKy/B,SAASroB,EAAM8mB,SAAW9mB,EAAMumB,YACpCgrB,EAAYt8C,SAAqC,UAA1Bs8C,EAAYt8C,WAAuBs8C,EAAYpU,SAASntC,GAGpG,IAAIg5B,EAASpgC,KAAKiB,IAAI,UAQtB,GANIm/B,GAAUA,EAAO99B,OAAS,GAC5BtC,KAAKgpD,aAGPhpD,KAAKm3C,YAED0Q,GAAS7nD,KAAKiB,IAAI,gBAAiB,CACrC,IAAIgoD,EAAa,YAAS,YAAS,GAAI7hD,EAAK8oC,YAAa,CACvDxS,SAAUv6B,IAGR4kD,EAAQ,GAEZ,OAAQ5kD,GACN,IAAK,OACH4kD,EAAM75B,MAAQ,CAAC+6B,GACf,MAEF,IAAK,OACHlB,EAAM55B,MAAQ,CAAC86B,GACf,MAEF,IAAK,QACHlB,EAAM3nB,OAAS,CAAC6oB,GAOpBjpD,KAAKgoD,UAAU,MAAO,CACpBF,OAAQ,GACRC,MAAOA,IAIX,OAAO3gD,EAzILkT,QAAQC,KAAK,8CAA8CvV,OAAOoS,EAAMgX,GAAI,iBAAkB,+BAAgC,KAoJlIk2B,EAActiD,UAAUo4C,IAAM,SAAUj3C,EAAMiU,EAAOywC,EAAOS,GAS1D,YARc,IAAVT,IACFA,GAAQ,QAGQ,IAAdS,IACFA,GAAY,GAGPtoD,KAAK60C,QAAQ1xC,EAAMiU,EAAOywC,EAAOS,IAS1ChE,EAActiD,UAAU0zC,WAAa,SAAUtuC,EAAMgW,EAAKyqC,GACxD,IAAIt4B,EAAQvvB,UAEE,IAAV6nD,IACFA,GAAQ,GAGV,IACIxQ,EADA0N,EAAiB/kD,KAAKiB,IAAI,kBAI5Bo2C,EADE,mBAASjwC,GACGpH,KAAKy/B,SAASr4B,GAEdA,EAGhB,IAAI8hD,EAAgB,gBAAM7R,EAAYnH,YAClC/sC,EAAO,GACPk0C,EAAYhrC,UAASlJ,EAAOk0C,EAAYhrC,WAE5C,IAAIuhC,EAAS,YAAc,GAAIyJ,EAAY1H,aAAa,GAgBxD,GAda,UAATxsC,GACF,eAAKyqC,GAAQ,SAAUwB,GACrB,OAAO7f,EAAM0nB,aAAaI,EAAajI,GAAO,MAIlD2V,EAAerP,WAAW2B,EAAaj6B,GAE1B,UAATja,GACF,eAAKyqC,GAAQ,SAAUwB,GACrB,OAAO7f,EAAM0nB,aAAaI,EAAajI,GAAO,MAI9CyY,GAAS7nD,KAAKiB,IAAI,gBAAiB,CACrC,IAAI6mD,EAAS,CACX55B,MAAO,GACPC,MAAO,GACPiS,OAAQ,IAEN2nB,EAAQ,CACV75B,MAAO,GACPC,MAAO,GACPiS,OAAQ,IAGN+oB,EAAa,YAAS,CACxB/6B,GAAI86B,EAAc96B,IACjBhR,GAEH,OAAQja,GACN,IAAK,OACH2kD,EAAO55B,MAAMprB,KAAKomD,GAClBnB,EAAM75B,MAAMprB,KAAKqmD,GACjB,MAEF,IAAK,OACHrB,EAAO35B,MAAMrrB,KAAKomD,GAClBnB,EAAM55B,MAAMrrB,KAAKqmD,GACjB,MAEF,IAAK,QACHrB,EAAO1nB,OAAOt9B,KAAKomD,GACnBnB,EAAM3nB,OAAOt9B,KAAKqmD,GAOT,SAAThmD,GACF2kD,EAAO55B,MAAMprB,KAAKomD,GAGpBlpD,KAAKgoD,UAAU,SAAU,CACvBF,OAAQA,EACRC,MAAOA,MAYbzD,EAActiD,UAAU+nC,OAAS,SAAU3iC,EAAMgW,EAAKyqC,QACtC,IAAVA,IACFA,GAAQ,GAGV7nD,KAAK01C,WAAWtuC,EAAMgW,EAAKyqC,IAU7BvD,EAActiD,UAAUi1C,aAAe,SAAU7vC,EAAMgoC,EAAO/tC,GACxD,mBAAS+F,KACXA,EAAOpH,KAAKy/B,SAASr4B,IAGFpH,KAAKiB,IAAI,kBACfg2C,aAAa7vC,EAAMgoC,EAAO/tC,GACzC,IAAI2jD,EAAkBhlD,KAAKiB,IAAI,mBAE3B,mBAASI,GACX2jD,EAAgB3M,YAAYjxC,EAAM,GAAGpC,OAAOoqC,EAAO,KAAKpqC,OAAO3D,IAAQ,GAEvE2jD,EAAgB3M,YAAYjxC,EAAMgoC,EAAO/tC,IAU7CijD,EAActiD,UAAUo1C,cAAgB,SAAUhwC,EAAMgoC,GACjCpvC,KAAKiB,IAAI,kBACfm2C,cAAchwC,EAAMgoC,IAQrCkV,EAActiD,UAAU6C,KAAO,SAAUA,GACvC,GAAeA,GACf7E,KAAKsH,IAAI,OAAQzC,IAOnBy/C,EAActiD,UAAUwhD,OAAS,WAC/B,IAAItpC,EAAOla,KACXA,KAAKsH,IAAI,eAAe,GACxB,IAAIzC,EAAO7E,KAAKiB,IAAI,QAOpB,GALIjB,KAAKiB,IAAI,iBAEXjB,KAAKopD,cAGFvkD,EACH,MAAM,IAAIwS,MAAM,8BAGlB,IAAI+B,EAAKvU,EAAKqpB,MACVA,OAAe,IAAP9U,EAAgB,GAAKA,EAC7BivB,EAAKxjC,EAAKspB,MACVA,OAAe,IAAPka,EAAgB,GAAKA,EAC7BkC,EAAK1lC,EAAKu7B,OACVA,OAAgB,IAAPmK,EAAgB,GAAKA,EAOlC,GANAvqC,KAAKkuC,OAAM,GACXluC,KAAKoc,KAAK,gBACV,eAAK8R,GAAO,SAAU4E,GACpB5Y,EAAKkgC,IAAI,OAAQtnB,GAAM,GAAO,MAG5BsN,GAA4B,IAAlBA,EAAO99B,OAAc,CACjC,IAAIq0C,EAAa,GAAmBvW,EAAQlS,GAC5CluB,KAAKsH,IAAI,aAAcqvC,GAEvBz8B,EAAKs9B,UAAUpX,GAGjB,eAAKjS,GAAO,SAAUyS,GACpB1mB,EAAKkgC,IAAI,OAAQxZ,GAAM,GAAO,MAEhC,IAAI0E,EAAUprB,EAAKjZ,IAAI,YAEnBiZ,EAAKjZ,IAAI,YAAciZ,EAAKjZ,IAAI,eAClCiZ,EAAK5S,IAAI,WAAW,GAItB,IAAI+hD,EAAmBnvC,EAAKjZ,IAAI,oBAEhC,GAAIooD,GAIF,GAHAA,EAAiBC,QAkBnB,WAEMpvC,EAAKjZ,IAAI,WACXiZ,EAAKirB,UACIjrB,EAAKjZ,IAAI,cAClBiZ,EAAK6qB,YAGP7qB,EAAKi9B,YACLj9B,EAAKkC,KAAK,gBAENlC,EAAKjZ,IAAI,YAAciZ,EAAKjZ,IAAI,eAClCiZ,EAAK5S,IAAI,UAAWg+B,MA5BtBtlC,KAAKupD,mBACDvpD,KAAK8gC,UAAW,YAEhB5mB,EAAKjZ,IAAI,YACXiZ,EAAKirB,UAGHjrB,EAAKjZ,IAAI,cACXiZ,EAAK6qB,YAGP7qB,EAAKkC,KAAK,eACVlC,EAAK5S,IAAI,UAAWg+B,GAoBjBtlC,KAAKiB,IAAI,kBACRm/B,GAA4B,IAAlBA,EAAO99B,OACnBtC,KAAKgpD,aAGDnkD,EAAKqpB,OAASrpB,EAAKspB,OAAStpB,EAAKqpB,MAAM5rB,OAASuC,EAAKspB,MAAM7rB,OAC9CtC,KAAKq0C,WAEX5jC,SAAQ,SAAUqiB,GACzBA,EAAK+d,aAGQ7wC,KAAKizC,WAEXxiC,SAAQ,SAAUmwB,GACzBA,EAAKkQ,aAMT9wC,KAAKiB,IAAI,iBACXjB,KAAKgoD,UAAU,WASnB1D,EAActiD,UAAUwnD,KAAO,SAAU3kD,GACvC7E,KAAK6E,KAAKA,GACV7E,KAAKwjD,UAIPc,EAActiD,UAAUynD,UAAY,SAAUtmD,EAAMogC,EAAOmmB,GACzD,IACItiD,EADA8S,EAAOla,KAEP+lD,EAAU/lD,KAAKiB,IAAI,WACvB,eAAKyoD,GAAQ,SAAUtyC,GAGrB,GAFAhQ,EAAO2+C,EAAQ3uC,EAAMgX,IAEX,CACR,GAAIlU,EAAKjZ,IAAI,YA57CV,SA47CwBkC,EAAe,CACxC,IAAI43B,EAAkB3zB,EAAK6iC,eAAe5W,YACrC0H,IAAiBA,EAAkB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACjE3zB,EAAKE,IAAI,cAAe,CACtB2a,EAAG8Y,EAAgB,GACnBnmB,EAAGmmB,EAAgB,KAIvB7gB,EAAKw7B,WAAWtuC,EAAMgQ,GAAO,QAE7BhQ,EAAO8S,EAAK26B,QAAQ1xC,EAAMiU,GAAO,GAG/BhQ,GAAMm8B,EAAM,GAAGv+B,OAAO7B,EAAM,MAAML,KAAKsE,OAW/Ck9C,EAActiD,UAAU2nD,WAAa,SAAU9kD,EAAMgjD,QACrC,IAAVA,IACFA,GAAQ,GAGV,IAAI3tC,EAAOla,KAEX,IAAK,GAAe6E,GAClB,OAAO7E,KAGL6nD,GAAS7nD,KAAKiB,IAAI,iBACpBjB,KAAKgoD,UAAU,aAAc,CAC3BF,OAAQ5tC,EAAK0vC,OACb7B,MAAOljD,IAIX7E,KAAKsH,IAAI,eAAe,GAExBtH,KAAK6pD,cAEL7pD,KAAKq0C,WAAW9jC,KAAI,SAAUuiB,GAC5B,OAAO5Y,EAAKo9B,gBAAgBxkB,MAE9B9yB,KAAKizC,WAAW1iC,KAAI,SAAUqwB,GAC5B,OAAO1mB,EAAKo9B,gBAAgB1W,MAE9B,IAAIwF,EAASpmC,KAAKiB,IAAI,UAClB6oD,EAAe1jB,EAAOnlC,IAAI,gBAC9BmlC,EAAO9+B,IAAI,gBAAgB,GAEtB4S,EAAKjZ,IAAI,UACZiZ,EAAKrV,KAAKA,GACVqV,EAAKspC,UAGP,IAAIuC,EAAU/lD,KAAKiB,IAAI,WACnBsiC,EAAQ,CACVrV,MAAO,GACPC,MAAO,IAEL47B,EAAallD,EAAKu7B,OAEtB,GAAI2pB,EAAY,CACd,IAAIpT,EAAa,GAAmBoT,EAAYllD,EAAKqpB,OACrDluB,KAAKsH,IAAI,aAAcqvC,GAGzB32C,KAAKypD,UAAU,OAAQlmB,EAAO1+B,EAAKqpB,OACnC,eAAK63B,GAAS,SAAU3+C,EAAMgnB,GAC5B23B,EAAQ33B,GAAI8hB,WAAW5R,MAAQ,EAC3Bl3B,EAAKiF,SAA8B,SAAnBjF,EAAKiF,YAErBjF,EAAKiF,SAA8B,UAAnBjF,EAAKiF,kBAChB05C,EAAQ33B,GACfhnB,EAAKm7B,WACIgB,EAAMrV,MAAMzrB,QAAQ2E,GAAQ,WAC9B2+C,EAAQ33B,GACflU,EAAK1T,OAAOY,GAAM,QAOtB,IAHA,IAAI4iD,EAAahqD,KAAKs0C,YAGbl0C,EAFU4pD,EAAW1nD,OAEF,EAAGlC,GAAK,EAAGA,IACjC4pD,EAAW5pD,GAAG0gC,WAChBkpB,EAAWhkD,OAAO5F,EAAG,GAKrB2pD,IAEF7vC,EAAKs9B,UAAUuS,GAEV/pD,KAAKiB,IAAI,iBACZjB,KAAKgpD,cAIThpD,KAAKypD,UAAU,OAAQlmB,EAAO1+B,EAAKspB,OACnC,eAAK43B,GAAS,SAAU3+C,EAAMgnB,KACxBhnB,EAAKiF,SAA+B,SAAnBjF,EAAKiF,WAA2C,UAAnBjF,EAAKiF,YAEnDk3B,EAAMpV,MAAM1rB,QAAQ2E,GAAQ,WACvB2+C,EAAQ33B,GACflU,EAAK1T,OAAOY,GAAM,OAGtBpH,KAAKsH,IAAI,CACP4mB,MAAOqV,EAAMrV,MACbC,MAAOoV,EAAMpV,QAEf,IAAIk7B,EAAmBrpD,KAAKiB,IAAI,oBAgBhC,OAdIooD,IACFA,EAAiBM,aAEbzvC,EAAKjZ,IAAI,aAAeooD,EAAiBY,gBAE3C/vC,EAAKgwC,mBAELhwC,EAAKi9B,aAITzpC,YAAW,WACT04B,EAAO9+B,IAAI,eAAgBwiD,KAC1B,IACI9pD,MAQTskD,EAActiD,UAAUw1C,UAAY,SAAUpX,GAC5C,IACIuW,EADO32C,KACWiB,IAAI,cACLjB,KAAKiB,IAAI,kBACfu2C,UAAUb,EAAYvW,IASvCkkB,EAActiD,UAAUmoD,YAAc,SAAUlsB,EAAO5P,GACrD,IAAIkB,EAAQvvB,KAEZA,KAAKsH,IAAI,eAAe,GAExB,IACI8iD,EADAlsB,EAAU,GAEd,GAAKD,EAAL,CAEA,GAAI,mBAASA,GACXC,EAAUD,EACVmsB,EAAc,CACZh8B,GAAI6P,OAED,CAGL,KAFAC,EAAUD,EAAM7P,IAId,YADA9T,QAAQC,KAAK,+EAIf6vC,EAAcnsB,EAIhB,IAAIS,EAAQrQ,EAAS9d,KAAI,SAAU85C,GACjC,IAAIjjD,EAAOmoB,EAAMkQ,SAAS4qB,GAEtBjzC,EAAQhQ,EAAK8oC,WACb/sC,EAAO,GACPiE,EAAKiF,UAASlJ,EAAOiE,EAAKiF,WAC9B,IAAIi+C,EAAQ,CACVl8B,GAAIhnB,EAAK+oC,QACTzS,SAAUv6B,GAWZ,MARa,UAATA,GACFmnD,EAAM3sB,SAAWO,EACjB9mB,EAAMumB,SAAWO,GACC,SAAT/6B,IACTmnD,EAAMpsB,QAAUA,EAChB9mB,EAAM8mB,QAAUA,GAGXosB,KAETF,EAAY/7B,SAAWqQ,EAEvB1+B,KAAK60C,QAAQ,QAASuV,GAAa,GACnCpqD,KAAKsH,IAAI,eAAe,GAExB,IAAIqvC,EAAa32C,KAAKiB,IAAI,eACzB01C,GAAc,IAAIlmC,SAAQ,SAAUomC,GACnClpB,GAAekpB,GAAO,SAAUtY,GAC9B,OAAIA,EAAMnQ,KAAO8P,IACfK,EAAMb,SAAW,QACjBa,EAAMlQ,SAAWqQ,GACV,SAOTiY,GACF32C,KAAKgpD,eAST1E,EAActiD,UAAUuoD,QAAU,SAAUtsB,GAC1C,IAAI1O,EAAQvvB,KAGRwqD,EAAYvsB,EAMhB,GAJI,mBAASA,KACXusB,EAAYxqD,KAAKy/B,SAASxB,KAGvBusB,GAAaA,EAAUn+C,SAAmC,UAAxBm+C,EAAUn+C,UAC/CiO,QAAQC,KAAK,gCADf,CAKA,IAAIojB,EAAW6sB,EAAUta,WAAWvS,SAChCgZ,EAbO32C,KAaWiB,IAAI,cACrB01C,IAAYA,EAAa,IAC9B,IAEI8T,EAFA1E,EAAU/lD,KAAKiB,IAAI,WACnBi9B,EAAUssB,EAAUvpD,IAAI,MAExB69B,EAAW,GACXkrB,EAAahqD,KAAKiB,IAAI,UACtBypD,EAAa1qD,KAAKy/B,SAAS9B,GA0D/B,GAzDAgZ,EAAWlmC,SAAQ,SAAUomC,GACvB4T,GAEJ98B,GAAekpB,GAAO,SAAUhY,GAE9B,GAAIA,EAAQzQ,KAAO8P,EAAS,CAC1BusB,EAAkB5rB,EAEN2rB,EAAUvX,WAChBxiC,SAAQ,SAAUmwB,GACtBrR,EAAM+mB,WAAW1V,GAAM,MAEzB,IAAI/9B,EAAQmnD,EAAWvnD,QAAQw7B,GAC/B+rB,EAAWhkD,OAAOnD,EAAO,UAClBkjD,EAAQ7nB,GACfssB,EAAUjoB,UAIZ,OAAI5E,IAAY8sB,GAAmB5rB,EAAQzQ,KAAOuP,IAChD+sB,EAAW/V,YAAY6V,IAMR,KAFX3nD,GAHJi8B,EAAWD,EAAQxQ,UAGE5rB,QAAQgoD,KAG3B3rB,EAAS94B,OAAOnD,EAAO,GAIzB4nD,EAAgBp8B,SAAS5d,SAAQ,SAAU8tB,GACzC,IAAIn3B,EAAOmoB,EAAMkQ,SAASlB,EAAMnQ,IAE5Bu8B,EAAavjD,EAAK8oC,WAElB9oC,EAAKiF,SAA8B,UAAnBjF,EAAKiF,WACvBkyB,EAAMZ,SAAWA,SACVY,EAAML,QACbysB,EAAWhtB,SAAWA,SAEfgtB,EAAWzsB,SACT92B,EAAKiF,SAA8B,SAAnBjF,EAAKiF,YAC9BkyB,EAAML,QAAUP,EAChBgtB,EAAWzsB,QAAUP,GAGvB+sB,EAAWnW,SAASntC,GACpB03B,EAASh8B,KAAKy7B,OAET,UAORZ,GAAY8sB,EAAiB,CAChC,IAAI5nD,EAAQ8zC,EAAWl0C,QAAQgoD,GAC/B9T,EAAW3wC,OAAOnD,EAAO,GAEzB4nD,EAAgBp8B,SAAS5d,SAAQ,SAAU8tB,GACzCA,EAAMZ,cAAW1xB,EAEjB,IAAI0+C,EAAap7B,EAAMkQ,SAASlB,EAAMnQ,IAAI8hB,kBAEnCya,EAAWhtB,gBAEXgtB,EAAWzsB,QAEK,SAAnBK,EAAMb,UAAqBiZ,EAAW7zC,KAAKy7B,SASrD+lB,EAActiD,UAAU4oD,aAAe,WACrC,IAAIr7B,EAAQvvB,KAGR22C,EAAa32C,KAAKiB,IAAI,cACtB8jD,EAFO/kD,KAEeiB,IAAI,kBAC1B8kD,EAHO/lD,KAGQiB,IAAI,YACtB01C,GAAc,IAAIlmC,SAAQ,SAAUomC,GACnClpB,GAAekpB,GAAO,SAAUtY,GAC9B,IAAKA,EACH,OAAO,EAGT,IAAIiB,EAAYumB,EAAQxnB,EAAMnQ,IAE9B,GAAIoR,GAAaA,EAAUnzB,SAAmC,UAAxBmzB,EAAUnzB,UAAuB,CAErE,IAAIuhC,EAAS,YAAc,GAAIpO,EAAUmQ,aAAa,GAEtD,eAAK/B,GAAQ,SAAUwB,GACrB,OAAO7f,EAAM0nB,aAAazX,EAAW4P,GAAO,MAG9C2V,EAAelP,YAAYrW,EAAWjB,EAAMlQ,UAE5C,eAAKuf,GAAQ,SAAUwB,GACrB,OAAO7f,EAAM0nB,aAAazX,EAAW4P,GAAO,MAIhD,OAAO,QA3BApvC,KA8BNgpD,cAQP1E,EAActiD,UAAU6zC,YAAc,SAAU5X,GAC9C,IAIIC,EAJA3O,EAAQvvB,KAGRwqD,EAAYvsB,EAOhB,GAJI,mBAASA,KACXusB,EAAYxqD,KAAKy/B,SAASxB,KAGvBusB,GAAaA,EAAUn+C,SAAmC,UAAxBm+C,EAAUn+C,UAC/CiO,QAAQC,KAAK,8CADf,CAKA2jB,EAAUssB,EAAUvpD,IAAI,MACxB,IAAI01C,EAAa32C,KAAKiB,IAAI,cACtB8jD,EAfO/kD,KAeeiB,IAAI,kBAC1B8kD,EAhBO/lD,KAgBQiB,IAAI,YACtB01C,GAAc,IAAIlmC,SAAQ,SAAUomC,GACnClpB,GAAekpB,GAAO,SAAUtY,GAC9B,IAAKA,EACH,OAAO,EAGT,IAAIiB,EAAYumB,EAAQxnB,EAAMnQ,IAE9B,GAAI8P,IAAYK,EAAMnQ,IAAMoR,GAAaA,EAAUnzB,SAAmC,UAAxBmzB,EAAUnzB,UAAuB,CAE7F,IAAIuhC,EAAS,YAAc,GAAIpO,EAAUmQ,aAAa,GAGtD,eAAK/B,GAAQ,SAAUwB,GACjB5P,EAAUkQ,cAAcN,IAC1B7f,EAAM0nB,aAAazX,EAAW4P,GAAO,MAIzC2V,EAAelP,YAAYrW,EAAWjB,EAAMlQ,UAE5C,eAAKuf,GAAQ,SAAUwB,GACjB5P,EAAUkQ,cAAcN,IAC1B7f,EAAM0nB,aAAazX,EAAW4P,GAAO,MAGrClR,IAASA,EAAUK,EAAMZ,UAG/B,OAAO,UAWb2mB,EAActiD,UAAUomD,gBAAkB,SAAUhhD,EAAMu2B,EAAUkqB,QACpD,IAAVA,IACFA,GAAQ,GAGV,IAEIgD,EADJ7qD,KAAKsH,IAAI,eAAe,GASxB,IA8FMqhD,EA9FFvxC,GALFyzC,EADE,mBAASzjD,GAJFpH,KAKIy/B,SAASr4B,GAEdA,GAGQ8oC,WACdjR,EAAc7nB,EAAM8mB,SAAW9mB,EAAMumB,SACrCx6B,EAAO,GAGX,GAFI0nD,EAAMx+C,UAASlJ,EAAO0nD,EAAMx+C,WAE5BsxB,GAAqB,UAATx6B,EAAkB,CAChC,IAEI2nD,EAFAnU,EAAa32C,KAAKiB,IAAI,cACtB8pD,GAAU,EAwBd,IAtBCpU,GAAc,IAAIlmC,SAAQ,SAAUomC,GAC/BiU,GACJ9tB,GAAa6Z,GAAO,SAAUmU,GAC5B,IAAIF,EAMJ,OAJIE,EAAQ58B,KAAOy8B,EAAM1a,UACvB2a,EAAgBE,IAGX,QAIXhuB,GAAa8tB,GAAe,SAAUE,GACpC,OAAIA,EAAQ58B,KAAOuP,IACjBotB,GAAU,GACH,OAMNA,EAEH,YADAzwC,QAAQC,KAAK,sFAKjB,GAAIstC,GAAS7nD,KAAKiB,IAAI,gBAAiB,CACrC,IAAIgqD,EAAa,GACbC,EAAY,GAEH,UAAT/nD,GACF8nD,EAAW7qB,OAAS,CAAC,CACnBhS,GAAIhX,EAAMgX,GACVuP,SAAUvmB,EAAMumB,WAElButB,EAAU9qB,OAAS,CAAC,CAClBhS,GAAIhX,EAAMgX,GACVuP,SAAUA,KAEM,SAATx6B,IACT8nD,EAAW/8B,MAAQ,CAAC,CAClBE,GAAIhX,EAAMgX,GACVuP,SAAUvmB,EAAM8mB,UAElBgtB,EAAUh9B,MAAQ,CAAC,CACjBE,GAAIhX,EAAMgX,GACVuP,SAAUA,KAId39B,KAAKgoD,UAAU,kBAAmB,CAChCF,OAAQmD,EACRlD,MAAOmD,IAKX,GAAI9zC,EAAMumB,UAAYvmB,EAAM8mB,QAAS,CACnC,IAAID,EAAQj+B,KAAKy/B,SAASroB,EAAMumB,UAAYvmB,EAAM8mB,SAE9CD,GACFA,EAAM8M,YAAY8f,IAIT,UAAT1nD,EACFiU,EAAMumB,SAAWA,EACC,SAATx6B,IACTiU,EAAM8mB,QAAUP,GAIdA,MACEgrB,EAAc3oD,KAAKy/B,SAAS9B,KAI9BgrB,EAAYpU,SAASsW,IAKrB5rB,KACE0pB,EAAc3oD,KAAKy/B,SAASR,KAI9B0pB,EAAY5d,YAAY8f,IAI5B,IAAIxC,EAAgB5pB,GAAgBz+B,KAAKiB,IAAI,cAAemW,EAAMgX,GAAIuP,GACtE39B,KAAKsH,IAAI,aAAc+gD,GACvBroD,KAAK4qD,gBAQPtG,EAActiD,UAAU4nD,KAAO,WAC7B,IAAI17B,EAAQ,GACRC,EAAQ,GACRiS,EAAS,GAUb,OATA,eAAKpgC,KAAKiB,IAAI,UAAU,SAAU6xB,GAChC5E,EAAMprB,KAAKgwB,EAAKod,eAElB,eAAKlwC,KAAKiB,IAAI,UAAU,SAAU2/B,GAChCzS,EAAMrrB,KAAK89B,EAAKsP,eAElB,eAAKlwC,KAAKiB,IAAI,WAAW,SAAUg9B,GACjCmC,EAAOt9B,KAAKm7B,EAAMiS,eAEb,CACLhiB,MAAOA,EACPC,MAAOA,EACPiS,OAAQA,IAWZkkB,EAActiD,UAAU2kC,WAAa,SAAUp0B,EAAOuO,GAGpD,OAFqB9gB,KAAKiB,IAAI,kBACf0lC,WAAWp0B,EAAOuO,GAC1B9gB,MAOTskD,EAActiD,UAAUsuC,QAAU,WAIhC,GAHWtwC,KACNoc,KAAK,sBADCpc,KAGFiB,IAAI,WAHFjB,KAIJkqD,uBACA,CACL,IAAIh8B,EANKluB,KAMQiB,IAAI,SACjBktB,EAPKnuB,KAOQiB,IAAI,SACjB6kD,EARK9lD,KAQSiB,IAAI,SACtB,eAAKitB,GAAO,SAAU4E,GACpBA,EAAKwd,aAEP,eAAKniB,GAAO,SAAUyS,GACpBA,EAAK0P,aAEP,eAAKwV,GAAQ,SAAUqF,GACrBA,EAAM7a,aAhBCtwC,KAoBNoc,KAAK,qBApBCpc,KAqBNm3C,aAQPmN,EAActiD,UAAUqyC,SAAW,WACjC,OAAOr0C,KAAKiB,IAAI,UAQlBqjD,EAActiD,UAAUixC,SAAW,WACjC,OAAOjzC,KAAKiB,IAAI,UAOlBqjD,EAActiD,UAAUsyC,UAAY,WAClC,OAAOt0C,KAAKiB,IAAI,WAQlBqjD,EAActiD,UAAUopD,iBAAmB,SAAUntB,GAKnD,GAJI,mBAASA,KACXA,EAAQj+B,KAAKy/B,SAASxB,IAGnBA,KAASA,EAAM5xB,SAA+B,UAApB4xB,EAAM5xB,WAKrC,OAAO4xB,EAAMmW,cAJX95B,QAAQC,KAAK,8BAWjB+pC,EAActiD,UAAUkoD,iBAAmB,WACzC,IAAIhwC,EAAOla,KACXka,EAAKkC,KAAK,iBACV,IAAImpB,EAAarrB,EAAKjZ,IAAI,cACtB+kD,EAAUzgB,EAAWygB,QACrB93B,EAAQhU,EAAKm6B,WACbgX,EAAUn9B,EAAM3d,KAAI,SAAUuiB,GAChC,IAAI1b,EAAQ0b,EAAKod,WACjB,MAAO,CACL9hB,GAAIhX,EAAMgX,GACVnM,EAAG7K,EAAM6K,EACTrN,EAAGwC,EAAMxC,MAITsF,EAAKoxC,eACPpxC,EAAKi3B,cAGMj3B,EAAKjZ,IAAI,UACfqkC,SAAQ,SAAU7S,GACvB,eAAK44B,GAAS,SAAUxmD,GACtB,IAAIiuB,EAAO5Y,EAAKulB,SAAS56B,EAAKupB,IAE9B,GAAK0E,IAAQA,EAAKgO,UAAlB,CAIA,IAAIyqB,EAAcz4B,EAAK7xB,IAAI,eACvBmW,EAAQ0b,EAAK7xB,IAAI,SAErB,IAAKsqD,EAAa,CAChB,IAAIxwB,EAAkBjI,EAAKmX,eAAe5W,YACrC0H,IAAiBA,EAAkB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACjEwwB,EAAc,CACZtpC,EAAG8Y,EAAgB,GACnBnmB,EAAGmmB,EAAgB,IAErBjI,EAAKxrB,IAAI,cAAeikD,GAG1B,GAAIvF,EAAS,CACX,IAAIhiD,EAAQgiD,EAAQlzB,EAAML,EAAO5tB,EAAM0mD,GACvCz4B,EAAKxrB,IAAI,QAASxG,OAAO0S,OAAO4D,EAAOpT,SAEvCoT,EAAM6K,EAAIspC,EAAYtpC,GAAKpd,EAAKod,EAAIspC,EAAYtpC,GAAKwQ,EACrDrb,EAAMxC,EAAI22C,EAAY32C,GAAK/P,EAAK+P,EAAI22C,EAAY32C,GAAK6d,MAGzDvY,EAAKqvC,qBACJ,CACDtD,SAAU1gB,EAAW0gB,SACrBC,OAAQ3gB,EAAW2gB,OACnBC,SAAU,WACR,eAAKj4B,GAAO,SAAU4E,GACpBA,EAAKxrB,IAAI,cAAe,SAGtBi+B,EAAW4gB,UACb5gB,EAAW4gB,WAGbjsC,EAAKkC,KAAK,gBACVlC,EAAKqqC,WAAY,MASvBD,EAActiD,UAAUunD,iBAAmB,WAC9BvpD,KACNoc,KAAK,8BACV,IAIIhF,EAJA8W,EAFOluB,KAEMiB,IAAI,SACjBktB,EAHOnuB,KAGMiB,IAAI,SACjB6kD,EAJO9lD,KAIOiB,IAAI,UAClBm/B,EALOpgC,KAKOiB,IAAI,UAElBuqD,EAAe,GACnB,eAAKt9B,GAAO,SAAU4E,GACpB1b,EAAQ0b,EAAKod,WACb,IAAIqb,EAAcz4B,EAAK7xB,IAAI,eAE3B,IAAIsqD,GAAen0C,EAAM6K,IAAMspC,EAAYtpC,GAAK7K,EAAMxC,IAAM22C,EAAY32C,EAAxE,CAIA,IAAI62C,EAAU34B,EAAKsb,eAAe,CAChCnsB,EAAG7K,EAAM6K,EACTrN,EAAGwC,EAAMxC,IAEX42C,EAAap0C,EAAMgX,IAAMq9B,EACrBr0C,EAAM8mB,UAASstB,EAAap0C,EAAM8mB,SAAWstB,EAAap0C,EAAM8mB,UAAYutB,OAG9ErrB,GAA4B,IAAlBA,EAAO99B,QAxBVtC,KAyBJ4qD,eAGP,eAAKz8B,GAAO,SAAUyS,GACpB,IAAI8qB,EAAc9qB,EAAK4F,YAAY0J,WAC/BjiB,EAAS2S,EAAK8F,YAGlB,IAAK,wBAAczY,GAAS,CAC1B,IAAI09B,EAAc19B,EAAOiiB,YAErBsb,EAAaE,EAAYt9B,KAAOo9B,EAAaG,EAAYv9B,KAAOwS,EAAKsP,WAAWiF,cAClFvU,EAAK0P,cAIX,eAAKwV,GAAQ,SAAUqF,GACrBA,EAAM7a,aA1CGtwC,KA4CNoc,KAAK,6BA5CCpc,KA6CNm3C,aAGPmN,EAActiD,UAAUmvC,YAAc,WACpCnxC,KAAKiB,IAAI,UAAUkwC,eAGrBmT,EAActiD,UAAUspD,YAAc,WACpC,OAAOtrD,KAAKukD,WAQdD,EAActiD,UAAUslD,QAAU,WAChC,IAAIv1B,EAAS/xB,KAAKiB,IAAI,SAASoyB,YAC/B,OAAOtB,EAASA,EAAO,GAAK,GAQ9BuyB,EAActiD,UAAU4pD,eAAiB,WAEvC,OADqB5rD,KAAKiB,IAAI,kBACR6gC,WASxBwiB,EAActiD,UAAUm/B,QAAU,SAAU5/B,GAG1C,OAFqBvB,KAAKiB,IAAI,kBACfkgC,QAAQ5/B,GAChBvB,MAQTskD,EAActiD,UAAUksC,MAAQ,SAAU2d,GAkBxC,YAjBkB,IAAdA,IACFA,GAAY,GAGD7rD,KAAKiB,IAAI,UACfitC,QACPluC,KAAKmlD,aAELnlD,KAAKsH,IAAI,CACPy+C,QAAS,GACT73B,MAAO,GACPC,MAAO,GACPxlB,OAAQ,GACRy3B,OAAQ,GACRuW,WAAY,KAETkV,GAAW7rD,KAAKoc,KAAK,eACnBpc,MAUTskD,EAActiD,UAAU8pD,aAAe,SAAU1uC,GAC/C,IAAIisC,EAAmBrpD,KAAKiB,IAAI,oBAE5B,mBAASmc,KACXA,EAAM,CACJja,KAAMia,IAIV,IAAI2uC,EAAe/rD,KAAKiB,IAAI,UACxB+qD,EAAY,GAChBlrD,OAAO0S,OAAOw4C,EAAWD,EAAc3uC,GACvCpd,KAAKsH,IAAI,SAAU0kD,GAEf3C,EAAiB4C,iBAAiBD,IAAcA,EAAUE,aAAeH,EAAaG,WAExF7C,EAAiB8C,gBAAgBH,GAGjC3C,EAAiB+C,aAAaJ,IAQlC1H,EAActiD,UAAUqqD,cAAgB,WACfrsD,KAAKiB,IAAI,oBACforD,iBAOnB/H,EAActiD,UAAUsnD,OAAS,WAC/B,IAAID,EAAmBrpD,KAAKiB,IAAI,oBAC5B+qD,EAAYhsD,KAAKiB,IAAI,UACpB+qD,GAAc3C,IAEf2C,EAAUM,cAEZjD,EAAiBC,SAIfD,EAAiBkD,aACnBlD,EAAiBmD,UAAS,GAE1BnD,EAAiBC,WASrBhF,EAActiD,UAAUyzC,cAAgB,SAAUxX,GAChD,IAAI1O,EAAQvvB,KAMZ,GAJI,mBAASi+B,KACXA,EAAQj+B,KAAKy/B,SAASxB,IAGnBA,EAAL,CAKAj+B,KAAKoc,KAAK,4BAA6B,CACrCtT,OAAQ,SACR1B,KAAM62B,IAER,IAAIyZ,EAAazZ,EAAMiS,WACFlwC,KAAKiB,IAAI,kBACfw0C,cAAcxX,GAC7ByZ,EAAWlC,WAAY,EAEvB,IAAIrnB,EAAQnuB,KAAKizC,WAAWjuC,OAAOhF,KAAKiB,IAAI,WAExCwrD,EAAS,GACTC,EAAU,GACV/V,EAAa32C,KAAKiB,IAAI,cACtB0rD,GAAQ,GACXhW,GAAc,IAAIlmC,SAAQ,SAAUomC,GAC/B8V,GAEJ3vB,GAAa6Z,GAAO,SAAUmU,GAE5B,GAAI2B,GAAS3B,EAAQ1sB,OAASoZ,EAAWpZ,MAAO,OAAO,EAIvD,GAFIoZ,EAAWtpB,KAAO48B,EAAQ58B,KAAIu+B,GAAQ,GAEtCA,EAAO,CAET,IAAIvlD,EAAOmoB,EAAMkQ,SAASurB,EAAQ58B,IAE9BhnB,GAAQA,EAAKiF,SAA8B,UAAnBjF,EAAKiF,YAC/BogD,EAASA,EAAOznD,OAAOoC,EAAKitC,YAC5BqY,EAAUA,EAAQ1nD,OAAOoC,EAAKktC,cAIlC,OAAO,QAGX,IAAIsY,EAAgB,GAChBC,EAAc,GAClB1+B,EAAM1d,SAAQ,SAAUmwB,GACtB,IAAIA,EAAKlB,aAAgBkB,EAAKsP,WAAW4c,QAAzC,CACA,IAAI9+B,EAAS4S,EAAK4F,YACdvY,EAAS2S,EAAK8F,YAElB,IAAK+lB,EAAO37C,SAASkd,IAAW0+B,EAAQ57C,SAASkd,MAAay+B,EAAO37C,SAASmd,KAAYy+B,EAAQ57C,SAASmd,IAAWD,EAAOkiB,WAAW9hB,KAAOspB,EAAWtpB,GAAI,CAG5J,IAFI2+B,EAAYnsB,EAAKsP,YAEP4c,QAGZ,YAFAv9B,EAAM+mB,WAAW1V,GAAM,GAOzB,IAFA,IAAI+qB,EAAc19B,EAAOiiB,YAEjBjiB,EAAOyR,aAAa,CAE1B,KADAzR,EAASsB,EAAMkQ,SAASksB,EAAYhuB,UAAYguB,EAAYztB,YAC5CytB,EAAYhuB,WAAaguB,EAAYztB,QAAS,OAE9DytB,EAAc19B,EAAOiiB,WAGvB,IAAI8c,EAAWrB,EAAYv9B,GAE3B,GAAIw+B,EAAc,GAAG5nD,OAAO0yC,EAAWtpB,GAAI,KAAKppB,OAAOgoD,IAErD,YADAJ,EAAc,GAAG5nD,OAAO0yC,EAAWtpB,GAAI,KAAKppB,OAAOgoD,KAAcD,EAAU78C,MAAQ,GAKrF,IAAIi7C,EAAQ57B,EAAMslB,QAAQ,QAAS,CACjC7mB,OAAQ0pB,EAAWtpB,GACnBH,OAAQ++B,EACRF,SAAS,IACR,GAEHF,EAAc,GAAG5nD,OAAO0yC,EAAWtpB,GAAI,KAAKppB,OAAOgoD,IAAaD,EAAU78C,MAAQ,EAClF28C,EAAY/pD,KAAKqoD,QACZ,IAAKsB,EAAO37C,SAASkd,KAAY0+B,EAAQ57C,SAASkd,KAAYy+B,EAAO37C,SAASmd,IAAWy+B,EAAQ57C,SAASmd,KAAYA,EAAOiiB,WAAW9hB,KAAOspB,EAAWtpB,GAAI,CACnK,IAAI2+B,EAEJ,IAFIA,EAAYnsB,EAAKsP,YAEP4c,QAGZ,YAFAv9B,EAAM+mB,WAAW1V,GAAM,GAOzB,IAFA,IAAI8qB,EAAc19B,EAAOkiB,YAEjBliB,EAAO0R,aAAa,CAE1B,KADA1R,EAASuB,EAAMkQ,SAASisB,EAAY/tB,UAAY+tB,EAAYxtB,YAC5CwtB,EAAY/tB,WAAa+tB,EAAYxtB,QAAS,OAE9DwtB,EAAc19B,EAAOkiB,WAGvB,IAAI+c,EAAWvB,EAAYt9B,GAE3B,GAAIw+B,EAAc,GAAG5nD,OAAOioD,EAAU,KAAKjoD,OAAO0yC,EAAWtpB,KAE3D,YADAw+B,EAAc,GAAG5nD,OAAOioD,EAAU,KAAKjoD,OAAO0yC,EAAWtpB,MAAQ2+B,EAAU78C,MAAQ,GAKjFi7C,EAAQ57B,EAAMslB,QAAQ,QAAS,CACjC5mB,OAAQypB,EAAWtpB,GACnBJ,OAAQi/B,EACRH,SAAS,IACR,GAEHF,EAAc,GAAG5nD,OAAOioD,EAAU,KAAKjoD,OAAO0yC,EAAWtpB,KAAO2+B,EAAU78C,MAAQ,EAClF28C,EAAY/pD,KAAKqoD,QAKrB0B,EAAYp8C,SAAQ,SAAU06C,GAC5B,IAAI+B,EAAa/B,EAAMjb,WAEvB3gB,EAAMmmB,WAAWyV,EAAO,CACtBj7C,KAAM08C,EAAc,GAAG5nD,OAAOkoD,EAAWl/B,OAAQ,KAAKhpB,OAAOkoD,EAAWj/B,WACvE,MAELjuB,KAAKoc,KAAK,2BAA4B,CACpCtT,OAAQ,WACR1B,KAAM62B,SAjIN3jB,QAAQC,KAAK,8CA0IjB+pC,EAActiD,UAAUo0C,YAAc,SAAUnY,GAC9C,IAAI1O,EAAQvvB,KAMZ,GAJI,mBAASi+B,KACXA,EAAQj+B,KAAKy/B,SAASxB,KAGnBA,GAASA,EAAM5xB,SAA+B,UAApB4xB,EAAM5xB,UACnCiO,QAAQC,KAAK,iDADf,CAKAva,KAAKoc,KAAK,4BAA6B,CACrCtT,OAAQ,SACR1B,KAAM62B,IAER,IAAIyZ,EAAazZ,EAAMiS,WACFlwC,KAAKiB,IAAI,kBACfm1C,YAAYnY,GAC3ByZ,EAAWlC,WAAY,EAEvB,IAAIrnB,EAAQnuB,KAAKizC,WAAWjuC,OAAOhF,KAAKiB,IAAI,WAExCwrD,EAAS,GACTC,EAAU,GACV/V,EAAa32C,KAAKiB,IAAI,cACtB0rD,GAAQ,GACXhW,GAAc,IAAIlmC,SAAQ,SAAUomC,GAC/B8V,GAEJ3vB,GAAa6Z,GAAO,SAAUmU,GAE5B,GAAI2B,GAAS3B,EAAQ1sB,OAASoZ,EAAWpZ,MAAO,OAAO,EAGvD,GAFIoZ,EAAWtpB,KAAO48B,EAAQ58B,KAAIu+B,GAAQ,GAEtCA,EAAO,CACT,IAAIvlD,EAAOmoB,EAAMkQ,SAASurB,EAAQ58B,IAE9BhnB,GAAQA,EAAKiF,SAA8B,UAAnBjF,EAAKiF,YAC/BogD,EAASA,EAAOznD,OAAOoC,EAAKitC,YAC5BqY,EAAUA,EAAQ1nD,OAAOoC,EAAKktC,cAIlC,OAAO,QAGX,IAAIsY,EAAgB,GAChBC,EAAc,GAClB1+B,EAAM1d,SAAQ,SAAUmwB,GACtB,IAAIA,EAAKlB,aAAgBkB,EAAKsP,WAAW4c,QAAzC,CACA,IAAI9+B,EAAS4S,EAAK4F,YACdvY,EAAS2S,EAAK8F,YACdumB,EAAWj/B,EAAO/sB,IAAI,MACtB+rD,EAAW/+B,EAAOhtB,IAAI,MAE1B,IAAKwrD,EAAO37C,SAASkd,IAAW0+B,EAAQ57C,SAASkd,MAAay+B,EAAO37C,SAASmd,KAAYy+B,EAAQ57C,SAASmd,IAAWg/B,IAAavV,EAAWtpB,GAAI,CAGhJ,GAAIwS,EAAKsP,WAAW4c,QAGlB,YAFAv9B,EAAM+mB,WAAW1V,GAAM,GAOzB,IAFA,IAAI+qB,EAAc19B,EAAOiiB,YAEjBjiB,EAAOyR,aAAa,CAG1B,KAFAzR,EAASsB,EAAMkQ,SAASksB,EAAYztB,SAAWytB,EAAYhuB,aAE3CguB,EAAYhuB,WAAaguB,EAAYztB,QACnD,OAGFytB,EAAc19B,EAAOiiB,WAGvB8c,EAAWrB,EAAYv9B,GAGvB,IAFA,IAAIs9B,EAAc19B,EAAOkiB,YAEjBliB,EAAO0R,aAAa,CAG1B,KAFA1R,EAASuB,EAAMkQ,SAASisB,EAAYxtB,SAAWwtB,EAAY/tB,aAE3C+tB,EAAY/tB,WAAa+tB,EAAYxtB,QACnD,OAGF,GAAIwtB,EAAYxtB,UAAYwZ,EAAWtpB,IAAMs9B,EAAY/tB,WAAa+Z,EAAWtpB,GAC/E,MAGFs9B,EAAc19B,EAAOkiB,WAKvB,GAFA+c,EAAWvB,EAAYt9B,GAEnB4+B,EAAU,CACZ,IAAIG,EAAU,GAAGnoD,OAAOioD,EAAU,KAAKjoD,OAAOgoD,GAG9C,GAAIJ,EAAcO,GAOhB,OANAP,EAAcO,IAAYvsB,EAAKsP,WAAWhgC,MAAQ,OAElDqf,EAAMmmB,WAAWmX,EAAYM,GAAU,CACrCj9C,KAAM08C,EAAcO,KACnB,GAKL,IAAIhC,EAAQ57B,EAAMslB,QAAQ,QAAS,CACjC7mB,OAAQi/B,EACRh/B,OAAQ++B,EACRF,SAAS,IACR,GAEHF,EAAcO,GAAWvsB,EAAKsP,WAAWhgC,MAAQ,EACjD28C,EAAYM,GAAWhC,QAEpB,IAAKsB,EAAO37C,SAASkd,KAAY0+B,EAAQ57C,SAASkd,KAAYy+B,EAAO37C,SAASmd,IAAWy+B,EAAQ57C,SAASmd,KAAY++B,IAAatV,EAAWtpB,GAAI,CAGvJ,GAAIwS,EAAKsP,WAAW4c,QAGlB,YAFAv9B,EAAM+mB,WAAW1V,GAAM,GAOzB,IAFI8qB,EAAc19B,EAAOkiB,YAEjBliB,EAAO0R,aAAa,CAG1B,KAFA1R,EAASuB,EAAMkQ,SAASisB,EAAYxtB,SAAWwtB,EAAY/tB,aAE3C+tB,EAAY/tB,WAAa+tB,EAAYxtB,QACnD,OAGFwtB,EAAc19B,EAAOkiB,WAGvB+c,EAAWvB,EAAYt9B,GAGvB,IAFIu9B,EAAc19B,EAAOiiB,YAEjBjiB,EAAOyR,aAAa,CAG1B,KAFAzR,EAASsB,EAAMkQ,SAASksB,EAAYztB,SAAWytB,EAAYhuB,aAE3CguB,EAAYhuB,WAAaguB,EAAYztB,QACnD,OAGF,GAAIytB,EAAYztB,UAAYwZ,EAAWtpB,IAAMu9B,EAAYhuB,WAAa+Z,EAAWtpB,GAC/E,MAGFu9B,EAAc19B,EAAOiiB,WAKvB,GAFA8c,EAAWrB,EAAYv9B,GAEnB6+B,EAAU,CACRE,EAAU,GAAGnoD,OAAOioD,EAAU,KAAKjoD,OAAOgoD,GAG9C,GAAIJ,EAAcO,GAOhB,OANAP,EAAcO,IAAYvsB,EAAKsP,WAAWhgC,MAAQ,OAElDqf,EAAMmmB,WAAWmX,EAAYM,GAAU,CACrCj9C,KAAM08C,EAAcO,KACnB,GAKDhC,EAAQ57B,EAAMslB,QAAQ,QAAS,CACjC5mB,OAAQ++B,EACRh/B,OAAQi/B,EACRH,SAAS,IACR,GAEHF,EAAcO,GAAWvsB,EAAKsP,WAAWhgC,MAAQ,EACjD28C,EAAYM,GAAWhC,QAEfsB,EAAO37C,SAASkd,IAAW0+B,EAAQ57C,SAASkd,MAAay+B,EAAO37C,SAASmd,IAAWy+B,EAAQ57C,SAASmd,KAE3GD,EAAO0R,aAAezR,EAAOyR,aAC/BkB,EAAKmQ,WAIX/wC,KAAKoc,KAAK,2BAA4B,CACpCtT,OAAQ,SACR1B,KAAM62B,MAIVqmB,EAActiD,UAAUorD,oBAAsB,SAAUnvB,GAKtD,GAJI,mBAASA,KACXA,EAAQj+B,KAAKy/B,SAASxB,IAGnBA,KAASA,EAAM5xB,SAA+B,UAApB4xB,EAAM5xB,WAArC,CAKA,IAJA,IAAIqrC,EAAazZ,EAAMiS,WAEnBwa,EAAa1qD,KAAKy/B,SAASiY,EAAW/Z,UAEnC+sB,GAAY,CACjB,IAAI2C,EAAc3C,EAAWxa,WAE7B,GAAImd,EAAY7X,UAGd,OAFAl7B,QAAQC,KAAK,yEACbmwC,OAAaz+C,GAIfy+C,EAAa1qD,KAAKy/B,SAAS4tB,EAAY1vB,UAGzB+Z,EAAWlC,UAGzBx1C,KAAKo2C,YAAYnY,GAEjBj+B,KAAKy1C,cAAcxX,GAGrBj+B,KAAK61C,YAAY5X,KAQnBqmB,EAActiD,UAAUgnD,WAAa,WACnC,IAAIz5B,EAAQvvB,KAGZ,IADkBA,KAAKiB,IAAI,eAC3B,CACAjB,KAAKsH,IAAI,eAAe,GACxB,IAAIgmD,EAAW,GACXC,EAAe,IACFvtD,KAAKiB,IAAI,eACX,IAAIwP,SAAQ,SAAU+8C,GACnCxwB,GAAawwB,GAAO,SAAUjvB,GAG5B,OAFI+uB,EAAS/uB,EAAMD,OAAQgvB,EAAS/uB,EAAMD,OAAOx7B,KAAKy7B,EAAMnQ,IAASk/B,EAAS/uB,EAAMD,OAAS,CAACC,EAAMnQ,IACpGm/B,EAAahvB,EAAMnQ,IAAMmQ,EAAMD,OACxB,SAGCt+B,KAAKizC,WAAWjuC,OAAOhF,KAAKiB,IAAI,YAClC,IAAIwP,SAAQ,SAAUg9C,GAC9B,IAAI7sB,EAAO6sB,EAASvd,WAChBwd,EAAcH,EAAa3sB,EAAK5S,SAAW,EAC3C2/B,EAAcJ,EAAa3sB,EAAK3S,SAAW,EAC3CqQ,EAAQj5B,KAAKC,IAAIooD,EAAaC,GAC9BL,EAAShvB,GAAQgvB,EAAShvB,GAAOx7B,KAAK89B,EAAKxS,IAASk/B,EAAShvB,GAAS,CAACsC,EAAKxS,OAElFk/B,EAAS78C,SAAQ,SAAU7H,GACzB,GAAKA,GAAUA,EAAMtG,OAErB,IAAK,IAAIlC,EAAIwI,EAAMtG,OAAS,EAAGlC,GAAK,EAAGA,IAAK,CAC1C,IAAIgH,EAAOmoB,EAAMkQ,SAAS72B,EAAMxI,IAE5BgH,GAAMA,EAAKypC,gBAarByT,EAActiD,UAAUoxC,aAAe,SAAUtgB,EAAM3vB,GACrD,IAAIiE,EAAO0rB,EAMX,OAJI,mBAASA,KACX1rB,EAAOpH,KAAKy/B,SAAS3M,IAGhB1rB,EAAKgsC,aAAajwC,IAY3BmhD,EAActiD,UAAU4rD,cAAgB,SAAU96B,EAAM3vB,EAAMmtC,QAC/C,IAATntC,IACFA,OAAO8I,QAGO,IAAZqkC,IACFA,GAAU,GAGZ,IAAIlpC,EAAO0rB,EAEP,mBAASA,KACX1rB,EAAOpH,KAAKy/B,SAAS3M,IAGvB,IAAIgB,EAAU9zB,KAAKiB,IAAI,WAElB6yB,IAAWwc,IACdxc,EAAU,oBAAU9zB,KAAK4pD,QACzB5pD,KAAKsH,IAAI,UAAWwsB,IAGtB,IAAI+5B,EAAc/5B,EAAQ1sB,EAAK+oC,SAC3BwI,EAAM,EAEV,IAAKkV,EACH,OAAO,EAGT,OAAQ1qD,GACN,IAAK,KACHw1C,EAAMkV,EAAYC,SAClB,MAEF,IAAK,MACHnV,EAAMkV,EAAYE,UAClB,MAEF,IAAK,MACHpV,EAAMkV,EACN,MAEF,QACElV,EAAMkV,EAAYriD,OAItB,OAAOmtC,GAGT2L,EAActiD,UAAUgsD,aAAe,WACrC,OAAOhuD,KAAKykD,WAGdH,EAActiD,UAAUisD,aAAe,WACrC,OAAOjuD,KAAK2kD,WAOdL,EAActiD,UAAUksD,aAAe,WACrC,OAAKluD,KAAKiB,IAAI,gBAIP,CACLwjD,UAAWzkD,KAAKykD,UAAU0J,UAC1BxJ,UAAW3kD,KAAK2kD,UAAUwJ,WALnB,MAaX7J,EAActiD,UAAUonD,WAAa,WAC/BppD,KAAKiB,IAAI,kBACXjB,KAAKykD,UAAUvW,QACfluC,KAAK2kD,UAAUzW,UAWnBoW,EAActiD,UAAUgmD,UAAY,SAAUl/C,EAAQjE,EAAMupD,GAS1D,QARe,IAAXtlD,IACFA,EAAS,eAGO,IAAdslD,IACFA,EAAY,QAGTpuD,KAAKiB,IAAI,gBAAd,CAKA,IAAIotD,EAAYxpD,EAAO,gBAAMA,GAAQ,CACnCijD,OAAQ,GACRC,MAAO,gBAAM/nD,KAAK4pD,SAGF,SAAdwE,EACFpuD,KAAK2kD,UAAU7hD,KAAK,CAClBgG,OAAQA,EACRjE,KAAMwpD,IAGRruD,KAAKykD,UAAU3hD,KAAK,CAClBgG,OAAQA,EACRjE,KAAMwpD,IAIVruD,KAAKoc,KAAK,cAAe,CACvBqoC,UAAWzkD,KAAKykD,UAChBE,UAAW3kD,KAAK2kD,iBAvBhBrqC,QAAQC,KAAK,6DAoCjB+pC,EAActiD,UAAU6rB,aAAe,SAAU3mB,EAAO0rB,QACxC,IAAV1rB,IACFA,GAAQ,QAGO+E,IAAb2mB,IAAwBA,EAAW5yB,KAAKiB,IAAI,aAChD,IAAIqtD,EAAmBtuD,KAAKiB,IAAI,aAOhC,OALKqtD,GAAqBpnD,IACxBonD,EAAmB,uBAAkBtuD,KAAK4pD,OAAQh3B,GAClD5yB,KAAKsH,IAAI,YAAagnD,IAGjBA,GAYThK,EAActiD,UAAUusD,sBAAwB,SAAUrnD,EAAO0rB,QACjD,IAAV1rB,IACFA,GAAQ,QAGO+E,IAAb2mB,IAAwBA,EAAW5yB,KAAKiB,IAAI,aAChD,IAAIqtD,EAAmBtuD,KAAKiB,IAAI,aAC5ButD,EAA6BxuD,KAAKiB,IAAI,sBAY1C,OAVKqtD,GAAqBpnD,IACxBonD,EAAmB,uBAAkBtuD,KAAK4pD,OAAQh3B,GAClD5yB,KAAKsH,IAAI,YAAagnD,IAGnBE,GAA+BtnD,IAClCsnD,EAA6B,wBAAcxuD,KAAK4pD,OAAQh3B,GACxD5yB,KAAKsH,IAAI,qBAAsBknD,IAG1BA,GAOTlK,EAActiD,UAAU8Z,GAAK,SAAU2yC,EAAWtI,EAAUnqC,GAC1D,OAAOwmB,EAAOxgC,UAAU8Z,GAAGvb,KAAKP,KAAMyuD,EAAWtI,EAAUnqC,IAO7DsoC,EAActiD,UAAUugC,QAAU,WAChCviC,KAAKkuC,QACL,8BAAoBluC,KAAKqlD,WAEzBrlD,KAAKopD,aACLppD,KAAKiB,IAAI,kBAAkBshC,UAC3BviC,KAAKiB,IAAI,kBAAkBshC,UAC3BviC,KAAKiB,IAAI,kBAAkBshC,UAC3BviC,KAAKiB,IAAI,mBAAmBshC,UAC5BviC,KAAKiB,IAAI,UAAUshC,UACnBviC,KAAKod,IAAM,KACXpd,KAAK8gC,WAAY,EACjB9gC,KAAK2kD,UAAY,KACjB3kD,KAAKykD,UAAY,MAQnBH,EAActiD,UAAU0sD,WAAa,SAAUtxC,GAC7C,GAAKA,EAAI2iC,WAAW3iC,EAAI2iC,QAAQz9C,OAAS,GAAzC,CAKA,IAAI0qB,EAAShtB,KAAKiB,IAAI,aAClB0tD,EAAU3uD,KAAKiB,IAAI,WAevB,GAbK0tD,IACHA,EAAU,GACV3uD,KAAKsH,IAAI,UAAWqnD,IAGjB3hC,IAAUA,EAAO/rB,IAAI,gBACxB+rB,EAAShtB,KAAKiB,IAAI,SAASm0C,SAAS,CAClChnB,GAAI,eAEC0iB,SACP9wC,KAAKsH,IAAI,YAAa0lB,IAGpB2hC,EAAQvxC,EAAIgR,IAEd,OADA9T,QAAQC,KAAK,oBACNo0C,EAAQvxC,EAAIgR,IAGrB,IAAI8E,EAAQlG,EAAOooB,SAAS,CAC1BhnB,GAAI,GAAGppB,OAAOoY,EAAIgR,GAAI,gBAEpBsyB,EAAO,IAAI,GAAK1gD,KAAM,YAAS,YAAS,GAAIod,GAAM,CACpD8V,MAAOA,KAIT,OADAy7B,EADajO,EAAKtyB,IACAsyB,EACXA,EAjCLpmC,QAAQC,KAAK,8CAyCjB+pC,EAActiD,UAAU4sD,SAAW,WACjC,OAAO5uD,KAAKiB,IAAI,YAQlBqjD,EAActiD,UAAU6sD,YAAc,SAAUC,GAC9C,OAAO9uD,KAAKiB,IAAI,WAAW6tD,IAG7BxK,EAActiD,UAAU+sD,WAAa,SAAUrO,GAC7C,IAAIsO,EAGFA,EADE,mBAAStO,GACI1gD,KAAK6uD,YAAYnO,GAEjBA,SAGH1gD,KAAKiB,IAAI,WACR+tD,EAAa5gC,IAC5B4gC,EAAazsB,WAGf+hB,EAActiD,UAAU6nD,YAAc,WACpC,IAAIoF,EAAQjvD,KAAK4uD,WACZK,GAAUnuD,OAAO8C,KAAKqrD,GAAO3sD,SAClCxB,OAAO8C,KAAKqrD,GAAOx+C,SAAQ,SAAU9O,GACxBstD,EAAMttD,GACZ4gC,aAEPviC,KAAKsH,IAAI,UAAW,MAGtBg9C,EAActiD,UAAUsjD,OAAS,SAAU4J,GACzC,IAAI7F,EAAmBrpD,KAAKiB,IAAI,oBAE5BooD,IACFA,EAAiB/D,OAAO4J,GACxBlvD,KAAKqlD,UAAY,gCAAsBrlD,KAAKslD,OAAO1jD,KAAK5B,SAIrDskD,EAjkGT,CAkkGE,KCnlGF,SAAS,GAAQzgD,GAAkC,OAAO,GAAU,mBAAqB1C,QAAU,iBAAmBA,OAAOiU,SAAW,SAAUvR,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB1C,QAAU0C,EAAIiJ,cAAgB3L,QAAU0C,IAAQ1C,OAAOa,UAAY,gBAAkB6B,IAAgBA,GAOzU,IAAI,GAAY,IAAIgsB,UAGhB,GAAS,CAAC,aAAc,YACxBs/B,GAAsB,CACxB5wC,UAAW,EACXC,YAAQvS,EACRiS,UAAMjS,EACNgU,gBAAiB,EACjBwjC,aAASx3C,EACT4V,mBAAe5V,EACf2V,iBAAa3V,EACbgW,EAAG,EACHrN,EAAG,EACH1T,EAAG,GACHqR,MAAO,GACPuO,OAAQ,GACR9B,iBAAa/S,EACbgT,WAAY,EACZmwC,cAAe,EACfC,cAAe,GAgBbC,GAAuB,CACzB1uB,KAf6B,CAC7BriB,UAAW,EACXC,OAAQ,OACRsD,cAAU7V,EACVsjD,YAAY,EACZC,UAAU,EACV/L,aAASx3C,EACT4V,mBAAe5V,EACf2V,iBAAa3V,EACb+S,iBAAa/S,EACbgT,WAAY,EACZmwC,cAAe,EACfC,cAAe,GAIfv8B,KAAMq8B,GACNlxB,MAAOkxB,IAIEM,GAAY,CAErB1+C,QAAS,GACT2sB,SAAU,GAKVv6B,KAAM,GACNusD,gBAAiB,SAAyBtyC,GACxC,MAAO,IAETuyC,WAAY,SAAoBvyC,GAC9B,OAAO,kBAAQ,CAEbwyC,SAAU,CACR3xC,MAAO,CACLpM,WAA8B,oBAAXxE,QAA0BA,OAAOwiD,kBAAmBxiD,OAAOwiD,iBAAiB59C,SAAS0C,KAAM,MAAMm7C,iBAAiB,gBAAwC,sBAGjLC,eAAgB,CACd9xC,MAAO,CACLpM,WAA8B,oBAAXxE,QAA0BA,OAAOwiD,kBAAmBxiD,OAAOwiD,iBAAiB59C,SAAS0C,KAAM,MAAMm7C,iBAAiB,gBAAwC,uBAGhL9vD,KAAK+Q,QAAS/Q,KAAK0vD,gBAAgBtyC,IAAQ,GAAIA,IAUpDosB,KAAM,SAAcpsB,EAAK8V,GACvB,IAAI0W,EAAQ5pC,KAAKgsC,UAAU5uB,EAAK8V,IAChC0W,EAAMtiC,IAAI,YAAatH,KAAK09B,SA/ET,UAiFftgB,EAAIrI,QACM/U,KAAKgwD,UAAU5yC,EAAK8V,GAC1B5rB,IAAI,YAAatH,KAAK09B,SAlFX,UAqFnB,OAAOkM,GAST8B,UAAW,SAAmBtuB,EAAK8V,EAAOya,KAC1C3B,UAAW,SAAmB5uB,EAAK8V,GACjC,OAAO,MAET88B,UAAW,SAAmB5yC,EAAK8V,GACjC,IAEI08B,EAFkB5vD,KAAK2vD,WAAWvyC,GAAKwyC,UAET,GAC9BK,EAAajwD,KAAKkwD,cAAc9yC,EAAKwyC,EAAU18B,GAC/C/Q,EAAS8tC,EAAW9tC,cACjB8tC,EAAW9tC,OAClB,IAAIpN,EAAQme,EAAM2W,SAAS,OAAQ,CACjC7lC,MAAOisD,EACPE,WAAW,EACX3kB,UAAW,aACX7qC,KAAM,eAGR,GAAIwhB,EAAQ,CACV,IAAIiuC,EAAYr7C,EAAM6f,UAClBy7B,EAAct7C,EAAMse,YAMxB,GAJKg9B,IACHA,EAAc,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGrCJ,EAAWK,aACb,OAAQL,EAAWK,cACjB,IAAK,SACHD,EAAc,GAAUA,EAAa,CAAC,CAAC,KAAMD,EAAU79C,MAAQ,GAAI69C,EAAUtvC,OAAS,GAAI,CAAC,IAAKqB,GAAS,CAAC,IAAKiuC,EAAU79C,MAAQ,EAAG69C,EAAUtvC,OAAS,KACvJ,MAEF,IAAK,UACHuvC,EAAc,GAAUA,EAAa,CAAC,CAAC,KAAMJ,EAAWhuC,GAAIguC,EAAWr7C,GAAI,CAAC,IAAKuN,GAAS,CAAC,IAAK8tC,EAAWhuC,EAAGguC,EAAWr7C,KACzH,MAEF,IAAK,aACHy7C,EAAc,GAAUA,EAAa,CAAC,CAAC,KAAMJ,EAAWhuC,GAAIguC,EAAWr7C,EAAIw7C,EAAUtvC,OAAS,GAAI,CAAC,IAAKqB,GAAS,CAAC,IAAK8tC,EAAWhuC,EAAGguC,EAAWr7C,EAAIw7C,EAAUtvC,OAAS,KACvK,MAEF,QACEuvC,EAAc,GAAUA,EAAa,CAAC,CAAC,KAAMD,EAAU79C,MAAQ,GAAI69C,EAAUtvC,OAAS,GAAI,CAAC,IAAKqB,GAAS,CAAC,IAAKiuC,EAAU79C,MAAQ,EAAG69C,EAAUtvC,OAAS,UAI3JuvC,EAAc,GAAUA,EAAa,CAAC,CAAC,KAAMJ,EAAWhuC,GAAIguC,EAAWr7C,EAAIw7C,EAAUtvC,OAAS,GAAI,CAAC,IAAKqB,GAAS,CAAC,IAAK8tC,EAAWhuC,EAAGguC,EAAWr7C,EAAIw7C,EAAUtvC,OAAS,KAGzK/L,EAAM4e,UAAU08B,GAGlB,GAAIJ,EAAWM,WAAY,CACzB,IAAI3/B,EAAO5wB,KAAKwwD,YAAYpzC,EAAK8V,EAAOne,GACpC07C,EAAmBzwD,KAAK09B,SA5GD,YA6G3B9M,EAAKtpB,IAAI,YAAampD,GACtB17C,EAAM87B,UAGR,OAAO97B,GAETy7C,YAAa,SAAqBpzC,EAAK8V,EAAOne,GAC5C,IAAI27C,EAAkB1wD,KAAK+Q,QAAQ6+C,SAC/BA,EAAW,cAAI,GAAIc,EAAiBtzC,EAAIwyC,UACxC3xC,EAAQje,KAAK2wD,0BAA0B57C,EAAOqI,EAAKwyC,EAAU18B,GAKjE,OAJWA,EAAM2W,SAAS,OAAQ,CAChClpC,KAAM,gBACNqD,MAAOia,KAIX2yC,wBAAyB,SAAiCxzC,EAAKwyC,EAAU18B,GACvE,MAAO,CACLvhB,KAAMyL,EAAIrI,QAGd47C,0BAA2B,SAAmC57C,EAAOqI,EAAKwyC,EAAU18B,GAClF,MAAO,IASTg9B,cAAe,SAAuB9yC,EAAKwyC,EAAU18B,GACnD,IAAI29B,EAAiB7wD,KAAK4wD,wBAAwBxzC,EAAKwyC,EAAU18B,GAC7D49B,EAAW,GAAG9rD,OAAOhF,KAAK09B,SAAU,SAEpCqzB,EAAe,GAAOD,GAAY,GAAOA,GAAU7yC,MAAQ,KAI/D,OAFiB,YAAS,YAAS,YAAS,GAAI8yC,GAAeF,GAAiBjB,EAAS3xC,QAS3F+yC,cAAe,SAAuB5zC,GACpC,OAAOA,EAAIa,OASb8rB,OAAQ,SAAgB3sB,EAAKhW,GAC3BpH,KAAKixD,iBAAiB7zC,EAAKhW,GAC3BpH,KAAKkxD,YAAY9zC,EAAKhW,IAExB6pD,iBAAkB,SAA0B7zC,EAAKhW,GAC/C,IAAI8rB,EAAQ9rB,EAAK6iC,eACbL,EAAQxiC,EAAK4zB,cACbm2B,EAAa,cAAI,GAAIvnB,EAAMuB,OAAQ/tB,EAAIa,OAEvCqhC,EAAU,SAAiB39C,GAC7B,IAAIyX,EAEA6E,EAAQkzC,EAAWxvD,GAEvB,GAAI,wBAAcsc,GAAQ,CAExB,IAAImzC,EAAWl+B,EAAM5uB,MAAK,SAAUk2B,GAClC,OAAOA,EAAQv5B,IAAI,UAAYU,KAG7ByvD,GACFA,EAASjmB,KAAKltB,QAGhB2rB,EAAMuB,OAAM/xB,EAAK,IAAOzX,GAAOsc,EAAO7E,KAI1C,IAAK,IAAIzX,KAAOwvD,EACd7R,EAAQ39C,IAGZuvD,YAAa,SAAqB9zC,EAAKhW,GACrC,IAAI8rB,EAAQ9rB,EAAK6iC,eACbymB,EAAkB1wD,KAAK2vD,WAAW,IAAIC,SACtCyB,EAAiBrxD,KAAK09B,SA/OP,SAgPf3oB,EAAQme,EAAM5uB,MAAK,SAAUk2B,GAC/B,OAAOA,EAAQv5B,IAAI,eAAiBowD,KAElCZ,EAAmBzwD,KAAK09B,SA5MC,YA6MzB4zB,EAAUp+B,EAAM5uB,MAAK,SAAUk2B,GACjC,OAAOA,EAAQv5B,IAAI,eAAiBwvD,KAGtC,GAAIrzC,EAAIrI,OAAuB,KAAdqI,EAAIrI,MAEnB,GAAKA,EAIE,CAGL,IAAIw8C,EAAkB,GAElBnqD,EAAK8oC,WACPqhB,EAAkBnqD,EAAK8oC,WAAW0f,UAIpC,IAAIA,EAAW,kBAAQ,GAAIc,EAAiBa,EAAiBn0C,EAAIwyC,UAE7DiB,EAAiB7wD,KAAK4wD,wBAAwBxzC,EAAKwyC,EAAU18B,GAE7Ds+B,EAAWp0C,EAAIwyC,SAAWxyC,EAAIwyC,SAAS3xC,WAAQhS,EAC/CwlD,EAAa7B,EAAS3xC,OAAS2xC,EAAS3xC,MAAMsyC,WAE9CN,EAAa,YAAS,YAAS,YAAS,GAAIl7C,EAAMo2B,QAAS0lB,GAAiBW,GAE5ErvC,EAAS8tC,EAAW9tC,OAGxB,UAFO8tC,EAAW9tC,OAEdA,EAAQ,CAEV,IAAIuvC,EAAe,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC5CA,EAAe,GAAUA,EAAc,CAAC,CAAC,KAAMzB,EAAWhuC,GAAIguC,EAAWr7C,GAAI,CAAC,IAAKuN,GAAS,CAAC,IAAK8tC,EAAWhuC,EAAGguC,EAAWr7C,KAC3HG,EAAMiwB,cACNjwB,EAAMo2B,KAAK,YAAS,YAAS,GAAI8kB,GAAa,CAC5Cl+B,OAAQ2/B,UAGV38C,EAAMiwB,cACNjwB,EAAMo2B,KAAK8kB,GAGb,GAAKqB,EAME,GAAIrB,EAAWM,WAAY,CAChC,IAAIoB,EAAmB3xD,KAAK2wD,0BAA0B57C,EAAOqI,EAAKwyC,EAAU18B,GAExE0+B,EAAe,YAAS,YAAS,GAAID,GAAmBF,GAI5D,GAFAH,EAAQtsB,cAEJ7iB,EAAQ,CACV,IAAI0vC,EAAiB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC9CA,EAAiB,GAAUA,EAAgB,CAAC,CAAC,KAAMD,EAAa3vC,GAAI2vC,EAAah9C,GAAI,CAAC,IAAKuN,GAAS,CAAC,IAAKyvC,EAAa3vC,EAAG2vC,EAAah9C,KACvIg9C,EAAa7/B,OAAS8/B,EAGxBP,EAAQnmB,KAAKymB,QAEb1+B,EAAM6X,YAAYumB,QApBdrB,EAAWM,cACbe,EAAUtxD,KAAKwwD,YAAYpzC,EAAK8V,EAAOne,IAC/BzN,IAAI,YAAampD,GACzB17C,EAAM87B,eA3CA,CAEK7wC,KAAKgwD,UAAU5yC,EAAK8V,GAC1B5rB,IAAI,YAAa+pD,KA+DhCzlB,YAAa,SAAqBxuB,EAAKhW,KAUvCykC,SAAU,SAAkBlrC,EAAMU,EAAO+F,GACvC,IAAIgS,EAAIivB,EAEJuB,EAAQxiC,EAAKnG,IAAI,YACrB,GAAK2oC,IAASA,EAAM9I,UAApB,CACA,IAAI39B,EAAOiE,EAAKiF,UACZujC,EAAY,oBAAUvuC,GAASV,EAAO,GAAGqE,OAAOrE,EAAM,KAAKqE,OAAO3D,GAClEywD,EAAkB9xD,KAAK0vC,cAAcE,EAAWxoC,GAChD2qD,EAAiB3qD,EAAKsoC,cAAcE,GAGxC,GAAKmiB,GAAmBD,EAAxB,CAMA,IAAIhkB,EAAS,cAAI,GAAIikB,GAAkBD,GACnC5+B,EAAQ9rB,EAAK6iC,eAEb+nB,EAAY,CACd/vC,EAAG,EACHrN,EAAG,EACHsc,GAAI,EACJC,GAAI,GASN,GANa,UAAThuB,IACF6uD,EAAU9wD,EAAI,EACd8wD,EAAUz/C,MAAQ,EAClBy/C,EAAUlxC,OAAS,GAGjBzf,EAAO,CACT,IAAI4wD,EAAU,SAAiBtwD,GAC7B,IAAI4oC,EAEAtsB,EAAQ6vB,EAAOnsC,GAEnB,GAAI,wBAAcsc,KAAW,GAAOnN,SAASnP,GAAM,CACjD,IAAIyvD,EAAWl+B,EAAM5uB,MAAK,SAAUk2B,GAClC,OAAOA,EAAQv5B,IAAI,UAAYU,KAG7ByvD,GACFA,EAASjmB,KAAKltB,QAIhB2rB,EAAMuB,OAAMZ,EAAK,IAAO5oC,GAAOsc,EAAOssB,KAK1C,IAAK,IAAI5oC,KAAOmsC,EACdmkB,EAAQtwD,OAEL,CAEL,IAAIuwD,EAAoB,GAAgB9qD,EAAKunC,yBACzCv3B,EAAQhQ,EAAK8oC,WAEbiiB,EAAgB,cAAI,GAAI/6C,EAAM6G,MAAO,GAAgB7W,EAAK8jC,mBAC1DknB,EAAiBxoB,EAAM3oC,IAAI,QAG3B8tC,EAAenF,EAAMuB,OACrBknB,EAAmB,GACvBvxD,OAAO8C,KAAKmrC,GAAct+B,SAAQ,SAAU9O,GAC1C,GAAY,QAARA,EAAJ,CACA,IAAIwpC,EAAO4D,EAAaptC,GAEpBwpC,GAA0B,WAAlB,GAAQA,GAClBknB,EAAiB1wD,GAAO,gBAAMwpC,GAE9BknB,EAAiB1wD,GAAOwpC,MAI5B,IAAImnB,EAA2B,GAE3BC,EAAU,SAAiBrwD,GAC7B,IAAI+b,EAAQ6vB,EAAO5rC,GAEnB,GAAI,wBAAc+b,KAAW,GAAOnN,SAAS5O,GAAI,CAC/C,IAAIswD,EAAat/B,EAAM5uB,MAAK,SAAUk2B,GACpC,OAAOA,EAAQv5B,IAAI,UAAYiB,KAGjC,GAAIswD,EAAY,CACd,IAAIC,EAAmB,gBAAMD,EAAWrnB,QACxC,eAAKltB,GAAO,SAAUvY,EAAG/D,GACvB,GAAIO,IAAMkwD,GAAkBC,EAAiB1wD,KAASqwD,EAAUrwD,GAAM,QAC7D0wD,EAAiB1wD,GACxB,IAAI+wD,EAAUP,EAAcjwD,GAAGP,IAAQ2tD,GAAqBnsD,GAAMxB,GAClEioC,EAAMuB,KAAKxpC,EAAK+wD,QACX,GAAID,EAAiB9wD,IAAkC,IAA1B8wD,EAAiB9wD,GAAY,QACxD8wD,EAAiB9wD,GACxB,IAAIgxD,EAAUR,EAAcjwD,GAAGP,IAAQ2tD,GAAqBnsD,GAAMxB,GAClE6wD,EAAWrnB,KAAKxpC,EAAKgxD,OAGzBL,EAAyBpwD,GAAKuwD,QAGhC,GAAIJ,EAAiBnwD,KAAO8vD,EAAU9vD,GAAI,QACjCmwD,EAAiBnwD,GACxB,IAAI0wD,EAAUT,EAAcjwD,KAAOiwD,EAAcC,GAAkBD,EAAcC,GAAgBlwD,QAAK+J,IAAcqjD,GAAqBnsD,GAAMjB,GAC/I0nC,EAAMuB,KAAKjpC,EAAG0wD,KAMpB,IAAK,IAAI1wD,KAAK4rC,EACZykB,EAAQrwD,GAYV,IAAK,IAAIP,KANJywD,EAGHE,EAAyBF,GAAkBC,EAF3C,cAAIC,EAA0BD,GAKhBH,EACd,IAAIF,EAAUrwD,GAAd,CACA,IAAIkxD,EAAcX,EAAkBvwD,GAE/B,wBAAckxD,KAAgB,GAAO/hD,SAASnP,KAE5CywD,GAGH,cAAID,EAAcC,KAAkB/pB,EAAK,IAAO1mC,GAAOkxD,EAAaxqB,WAC7D8pB,EAAcxwD,IAHrB,cAAIwwD,IAAgB/4C,EAAK,IAAOzX,GAAOkxD,EAAaz5C,WAM/C84C,EAAkBvwD,IAI7B,IAAImxD,EAAe,GACnB,kBAAQA,EAAcX,EAAeG,EAA0BJ,GAC/D,IAAIa,GAAiB,EAEjBC,EAAU,SAAiBC,GAC7B,IAAIzoB,EAAI0oB,EAEJj1C,EAAQ60C,EAAaG,GAEzB,GAAI,wBAAch1C,KAAW,GAAOnN,SAASmiD,GAAY,CACvD,IAAI7B,EAAWl+B,EAAM5uB,MAAK,SAAUk2B,GAClC,OAAOA,EAAQv5B,IAAI,UAAYgyD,KAG7B7B,IACE6B,IAAcb,IACH,UAATjvD,WACK8a,EAAM/c,SACN+c,EAAM1L,aACN0L,EAAM6C,QAGfiyC,GAAiB,GAGnB3B,EAASjmB,KAAKltB,SAEX,IAAK80C,EAAgB,CAC1B,IAAII,EAAUl1C,GAASqxC,GAAqBnsD,GAAM8vD,GAErC,UAAT9vD,EACGivD,GACHxoB,EAAMuB,OAAMX,EAAK,IAAOyoB,GAAaE,EAAS3oB,IAGhDZ,EAAMuB,OAAM+nB,EAAK,IAAOD,GAAaE,EAASD,MAKpD,IAAK,IAAID,KAAaH,EACpBE,EAAQC,OAYdvjB,cAAe,SAAuB/uC,EAAMyG,GAC1C,IAAIgQ,EAAQhQ,EAAK8oC,WACb/sC,EAAOiE,EAAKiF,UAEZ+M,EAAKpZ,KAAK2vD,WAAWv4C,GACrBy2B,EAAcz0B,EAAGy0B,YACjBxF,EAAKjvB,EAAG6E,MACRA,OAAe,IAAPoqB,EAAgB,GAAKA,EAE7B+qB,EAAkBh8C,EAAMy2B,YAAcz2B,EAAMy2B,YAAYltC,GAAQktC,GAAeA,EAAYltC,GAE/F,MAAa,UAATwC,EACK,gBAAMiwD,GAGR,cAAI,GAAIn1C,EAAOm1C,IAQxBtnB,iBAAkB,SAA0B1uB,GAC1C,OAAOA,EAAIkf,eAQb8O,gBAAiB,SAAyBhuB,GAExC,OADmBpd,KAAK2vD,WAAWvyC,GAAKyiB,eC/iBxCwzB,GAAa,CACf31B,SAAU,OAEV+O,UAAW,cAOX6mB,cAAe,SAMfj1C,OAAQ,GAAOL,UAAUK,OAQzBk1C,QAAS,SAAiBn2C,GACxB,IAAIlN,EAAOkN,EAAIlN,MAAQlQ,KAAK2vD,WAAW,IAAIz/C,MAAQ,GAAOoO,YAAYpO,KAWtE,OATI,kBAAQA,IAAyB,IAAhBA,EAAK5N,SACxB4N,EAAO,CAACA,EAAK,GAAIA,EAAK,KAInB,kBAAQA,KACXA,EAAO,CAACA,EAAMA,IAGTA,GAGT0gD,wBAAyB,SAAiCxzC,EAAKwyC,GAC7D,IAAI0D,EAAgB1D,EAAS10B,UAAYl7B,KAAKszD,cAE9C,GAAsB,WAAlBA,EACF,MAAO,CACLrxC,EAAG,EACHrN,EAAG,EACHjD,KAAMyL,EAAIrI,OAId,IAAIsJ,EAASuxC,EAASvxC,OAElB,gBAAMA,KAERA,EAASre,KAAKqe,QAGhB,IAGIJ,EAHA/N,EAAOlQ,KAAKuzD,QAAQn2C,GACpB7K,EAAQrC,EAAK,GACb4Q,EAAS5Q,EAAK,GAGlB,OAAQojD,GACN,IAAK,MACHr1C,EAAQ,CACNgE,EAAG,EACHrN,EAAG,EAAIkM,EAAS,EAAIzC,EACpBD,aAAc,UAGhB,MAEF,IAAK,SACHH,EAAQ,CACNgE,EAAG,EACHrN,EAAGkM,EAAS,EAAIzC,EAChBD,aAAc,OAEhB,MAEF,IAAK,OACHH,EAAQ,CACNgE,EAAG,EAAI1P,EAAQ,EAAI8L,EACnBzJ,EAAG,EACHuJ,UAAW,SAEb,MAEF,QACEF,EAAQ,CACNgE,EAAG1P,EAAQ,EAAI8L,EACfzJ,EAAG,EACHuJ,UAAW,QAMjB,OADAF,EAAMtM,KAAOyL,EAAIrI,MACVkJ,GAET0yC,0BAA2B,SAAmC57C,EAAOqI,EAAKwyC,EAAU18B,GAClF,IAAKne,EACH,MAAO,GAGT,IAAIue,EAAOve,EAAM6f,UACb4+B,EAAkB5D,EAAS3xC,OAAS2xC,EAAS3xC,MAAMsyC,WAEvD,IAAKiD,EACH,MAAO,GAGT,IAUIv1C,EAVA8C,EAAU,GAAcyyC,EAAgBzyC,SACxC0yC,EAAkBngC,EAAK/gB,MAAQwO,EAAQ,GAAKA,EAAQ,GACpD2yC,EAAmBpgC,EAAKxS,OAASC,EAAQ,GAAKA,EAAQ,GACtD1C,EAASuxC,EAASvxC,OAgBtB,OAdI,gBAAMA,KAERA,EAASre,KAAKqe,QAIhBJ,EAAQ,CACNgE,EAAGqR,EAAKE,KAAOzS,EAAQ,GACvBnM,EAAG0e,EAAKG,KAAO1S,EAAQ,IAEzB9C,EAAQ,YAAS,YAAS,YAAS,GAAIA,GAAQu1C,GAAkB,CAC/DjhD,MAAOkhD,EACP3yC,OAAQ4yC,KAIZ1nB,UAAW,SAAmB5uB,EAAK8V,GACjC,IAAIuZ,EAAYzsC,KAAKysC,UAEjBxuB,EAAQje,KAAKgxD,cAAc5zC,GAM/B,OALY8V,EAAM2W,SAAS4C,EAAW,CACpCzoC,MAAOia,EACPkyC,WAAW,EACXxvD,KAAM,gBAUVgzD,iBAAkB,SAA0Bv2C,EAAK8V,GAC/C,IAaI0gC,EAbAC,EAAoB7zD,KAAK2vD,WAAWvyC,GAAKuB,WACzCm1C,EAAW5gC,EAAM5uB,MAAK,SAAUk2B,GAClC,MAAoC,oBAA7BA,EAAQv5B,IAAI,gBAEjB8yD,EAAY7gC,EAAM5uB,MAAK,SAAUk2B,GACnC,MAAoC,qBAA7BA,EAAQv5B,IAAI,gBAEjB+yD,EAAU9gC,EAAM5uB,MAAK,SAAUk2B,GACjC,MAAoC,mBAA7BA,EAAQv5B,IAAI,gBAEjBgzD,EAAa/gC,EAAM5uB,MAAK,SAAUk2B,GACpC,MAAoC,sBAA7BA,EAAQv5B,IAAI,gBAIjB6yD,IACFF,EAAoBE,EAAS3oB,QAG3B4oB,IAAcH,IAChBA,EAAoBG,EAAU5oB,QAG5B6oB,IAAYJ,IACdA,EAAoBI,EAAQ7oB,QAG1B8oB,IAAeL,IACjBA,EAAoBK,EAAW9oB,QAG5ByoB,IAAmBA,EAAoBC,GAC5C,IAAIl1C,EAAa,cAAI,GAAIi1C,EAAmBx2C,EAAIuB,YAC5Cu1C,EAAWv1C,EAAWT,KACtBi2C,EAAax1C,EAAWH,OACxB41C,EAAcz1C,EAAWJ,UACzB81C,EAAW11C,EAAWzO,KAAO,EAC5BmkD,IAAUA,EAAW11C,EAAWzd,GAErC,IAAIkY,EAAKgE,EAAIuB,WAAavB,EAAIuB,WAAa,CACzCsX,UAAMhqB,EACNkqB,WAAOlqB,EACP+pB,SAAK/pB,EACLiqB,YAAQjqB,GAENgqB,EAAO7c,EAAG6c,KACVE,EAAQ/c,EAAG+c,MACXH,EAAM5c,EAAG4c,IACTE,EAAS9c,EAAG8c,OAEZhmB,EAAOlQ,KAAKuzD,QAAQn2C,GACpB7K,EAAQrC,EAAK,GACb4Q,EAAS5Q,EAAK,GACd49B,EAAS,CACX5sC,EAAGmzD,EACHn2C,KAAMg2C,EACN11C,OAAQ21C,EACR51C,UAAW61C,GAGTN,EACG79B,QAAiBhqB,IAATgqB,EAGX69B,EAAS3oB,KAAK,YAAS,YAAS,GAAI2C,GAAS,CAC3C7rB,GAAI1P,EAAQ,EACZqC,EAAG,KAJLk/C,EAASttD,SAOFyvB,GACT/C,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,YAAS,YAAS,GAAI8pC,GAAS,CACpC7rB,GAAI1P,EAAQ,EACZqC,EAAG,IAEL42B,UAAW,kBACX7qC,KAAM,kBACN2zD,eAAe,IAIfP,GACG59B,QAAmBlqB,IAAVkqB,GACZ49B,EAAUvtD,SAGZutD,EAAU5oB,KAAK,YAAS,YAAS,GAAI2C,GAAS,CAC5C7rB,EAAG1P,EAAQ,EACXqC,EAAG,MAEIuhB,GACTjD,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,YAAS,YAAS,GAAI8pC,GAAS,CACpC7rB,EAAG1P,EAAQ,EACXqC,EAAG,IAEL42B,UAAW,mBACX7qC,KAAM,mBACN2zD,eAAe,IAIfN,GACGh+B,QAAe/pB,IAAR+pB,GACVg+B,EAAQxtD,SAGVwtD,EAAQ7oB,KAAK,YAAS,YAAS,GAAI2C,GAAS,CAC1C7rB,EAAG,EACHrN,GAAIkM,EAAS,MAENkV,GACT9C,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,YAAS,YAAS,GAAI8pC,GAAS,CACpC7rB,EAAG,EACHrN,GAAIkM,EAAS,IAEf0qB,UAAW,iBACX7qC,KAAM,iBACN2zD,eAAe,IAIfL,EACG/9B,QAAqBjqB,IAAXiqB,EAGb+9B,EAAW9oB,KAAK,YAAS,YAAS,GAAI2C,GAAS,CAC7C7rB,EAAG,EACHrN,EAAGkM,EAAS,KAJdmzC,EAAWztD,SAOJ0vB,GACThD,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,YAAS,YAAS,GAAI8pC,GAAS,CACpC7rB,EAAG,EACHrN,EAAGkM,EAAS,IAEd0qB,UAAW,oBACX7qC,KAAM,oBACN2zD,eAAe,KAIrB/jB,YAAa,SAAqBnzB,EAAKhW,EAAM8nC,EAAeqlB,GAC3CntD,EAAKnG,IAAI,YACfkqC,KAAK,YAAS,GAAI+D,IAC3BlvC,KAAKkxD,YAAY9zC,EAAKhW,GAElBmtD,GACFv0D,KAAKw0D,WAAWp3C,EAAKhW,IAGzBotD,WAAY,SAAoBp3C,EAAKhW,GACnC,IAAImoB,EAAQvvB,KAERkzB,EAAQ9rB,EAAK6iC,eACbwqB,EAAOz0D,KAAK2vD,WAAWvyC,GAAKq3C,KAC5B1jB,GAAQ3zB,EAAIq3C,KAAOr3C,EAAIq3C,KAAO,CAChC1jB,UAAM9kC,IACL8kC,KACC2jB,EAAYxhC,EAAM5uB,MAAK,SAAUk2B,GACnC,OAAOA,EAAQv5B,IAAI,eAAiB,GAAG+D,OAAOuqB,EAAMpsB,KAAM,YAG5D,GAAIuxD,EAEF,GAAI3jB,QAAiB9kC,IAAT8kC,EAAoB,CAE9B,IAAI4jB,EAAa,cAAI,GAAID,EAAUvpB,OAAQspB,GACvC16B,EAAI46B,EAAWpiD,MACfiF,EAAIm9C,EAAW7zC,OACnB4zC,EAAUvpB,KAAK,YAAS,YAAS,GAAIwpB,GAAa,CAChD1yC,GAAI8X,EAAI,EACRnlB,GAAI4C,EAAI,UAIVk9C,EAAUluD,cAEP,GAAIuqC,EAAM,CAEXhX,EAAI06B,EAAKliD,MACTiF,EAAIi9C,EAAK3zC,OACboS,EAAM2W,SAAS,QAAS,CACtB7lC,MAAO,YAAS,YAAS,GAAIywD,GAAO,CAClCxyC,GAAI8X,EAAI,EACRnlB,GAAI4C,EAAI,IAEVg0B,UAAW,GAAGxmC,OAAOhF,KAAKmD,KAAM,SAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,WAG7B,IAAIyxD,EAAa1hC,EAAM5uB,MAAK,SAAUk2B,GACpC,MAAoC,eAA7BA,EAAQv5B,IAAI,gBAGjB2zD,GACFA,EAAW/jB,aAMfgkB,GAAgB,YAAS,YAAS,GAAIpF,IAAY4D,IAEtD,GAAM7mB,aAAa,cAAeqoB,ICjVlC,IAAIC,GAAa,CACfp3B,SAAU,OAMV41B,cAAe,SAMf5yC,KAAM,EAMND,KAAM,EAMNs0C,iBAAiB,EAEjBhkD,QAAS,CACPb,KAAM,GAAO6P,YAAY7P,KACzB+N,MAAO,CACLgE,EAAG,EACHrN,EAAG,EACH4J,OAAQ,GAAOuB,YAAY9B,MAAMO,OACjCyB,gBAAiB,GAAOF,YAAY9B,MAAMgC,iBAE5C2vC,SAAU,CACR3xC,MAAO,CACLC,KAAM,GAAO4B,UAAU7B,MAAMC,KAC7B9L,SAAU,GAAO0N,UAAU7B,MAAM7L,WAGrCy7B,YAAa,YAAS,GAAI,GAAO3tB,kBASnC80C,QAAS,SAAiBlkC,GACxB,IAAIlgB,EAAO,GAQX,OAPA,eAAKkgB,GAAQ,SAAUD,EAAOhuB,GACd,IAAVA,EACF+N,EAAK9N,KAAK,CAAC,IAAK+tB,EAAM5O,EAAG4O,EAAMjc,IAE/BhE,EAAK9N,KAAK,CAAC,IAAK+tB,EAAM5O,EAAG4O,EAAMjc,OAG5BhE,GAETogD,cAAe,SAAuB5zC,GACpC,IAAI2zC,EAAe/wD,KAAK+Q,QAAQkN,MAC5Bg3C,EAAc,CAChBz2C,OAAQpB,EAAIhU,OAGV6U,EAAQ,cAAI,GAAI8yC,EAAckE,EAAa73C,EAAIa,OAC/C/N,EAAOkN,EAAIlN,MAAQ,GAAO6P,YAAY7P,KAEtCirB,GADJ/d,EAAMpd,KAAKk1D,cAAc93C,IACJ+d,WACjBC,EAAWhe,EAAIge,SACfkB,EAAgBt8B,KAAK8rC,iBAAiB1uB,GACtC0T,EAAS,CAACqK,GAGVmB,IACFxL,EAASA,EAAO9rB,OAAOs3B,IAIzBxL,EAAOhuB,KAAKs4B,GACZ,IAAIxqB,EAAO5Q,KAAKg1D,QAAQlkC,GAMxB,OALa,cAAI,GAAI,GAAO/Q,YAAY9B,MAAO,CAC7CO,OAAQ,GAAOuB,YAAY3W,MAC3BmV,UAAWrO,EACXU,KAAMA,GACLqN,IAGLgzC,iBAAkB,SAA0B7zC,EAAKhW,GAC/C,IAAI8rB,EAAQ9rB,EAAK6iC,eACbgrB,EAAc,CAChBz2C,OAAQpB,EAAIhU,OAEVwgC,EAAQ1W,EAAM5uB,MAAK,SAAUk2B,GAC/B,MAAoC,eAA7BA,EAAQv5B,IAAI,iBACfmG,EAAK4zB,cACP9qB,EAAOkN,EAAIlN,KAEXirB,GADJ/d,EAAMpd,KAAKk1D,cAAc93C,IACJ+d,WACjBC,EAAWhe,EAAIge,SACfkB,EAAgBt8B,KAAK8rC,iBAAiB1uB,GAEtC0T,EAAS,CAACqK,GAGVmB,IACFxL,EAASA,EAAO9rB,OAAOs3B,IAIzBxL,EAAOhuB,KAAKs4B,GACZ,IAAI+5B,EAAcvrB,EAAMuB,OACpBiqB,EAAgB,cAAI,GAAIH,EAAaE,EAAa/3C,EAAIa,OACtD+P,EAAS5Q,EAAIyd,WACb5M,EAAS7Q,EAAI0d,WACbu6B,EAAW,CACb/rD,OAAQ8rD,EAAc9rD,QAGnBgzB,IACH+4B,EAAW,CACTrnC,OAAQA,EACRC,OAAQA,EACR5P,OAAQ+2C,EAAc/2C,OACtB/U,OAAQ8rD,EAAc9rD,SAItB6rD,EAAY3F,WAAuC,IAA3B4F,EAAc5F,WACxCpyC,EAAIa,MAAMuxC,SAAW,CACnB5+C,KAAM,KAINukD,EAAY5F,aAA2C,IAA7B6F,EAAc7F,aAC1CnyC,EAAIa,MAAMsxC,WAAa,CACrB3+C,KAAM,KAIV,IAAIA,EAAO5Q,KAAKg1D,QAAQlkC,EAAQukC,GAC5Bp3C,EAAQ,cAAIg3C,EAAarrB,EAAMuB,OAAQ,CACzC5sB,UAAWrO,EACXU,KAAMA,GACLwM,EAAIa,OAEH2rB,GACFA,EAAMuB,KAAKltB,IAGf2yC,wBAAyB,SAAiCxzC,EAAKwyC,EAAU18B,GACvE,IAOIoiC,EAPAhC,EAAgB1D,EAAS10B,UAAYl7B,KAAKszD,cAE1Cr1C,EAAQ,GACRse,EAAYrJ,GAASA,EAAM5uB,MAAK,SAAUk2B,GAC5C,MA3KU,eA2KHA,EAAQv5B,IAAI,gBAMnBq0D,EADoB,UAAlBhC,EACa,EACY,QAAlBA,EACM,EAEA,GAIjB,IAUIiC,EAVAC,EAAU5F,EAASlvC,MAAQ1gB,KAAK0gB,KAChC+0C,EAAU7F,EAASnvC,MAAQzgB,KAAKygB,KAEpC,GAAIrD,EAAI+d,WAAWlZ,IAAM7E,EAAIge,SAASnZ,GAAK7E,EAAI+d,WAAWvmB,IAAMwI,EAAIge,SAASxmB,EAI3E,OAHAqJ,EAAMgE,EAAI7E,EAAI+d,WAAWlZ,EAAIuzC,EAC7Bv3C,EAAMrJ,EAAIwI,EAAI+d,WAAWvmB,EAAI6gD,EAC7Bx3C,EAAMtM,KAAOyL,EAAIrI,MACVkJ,EAIuBs3C,EAA5B,gBAAM3F,EAAS2F,YAA0Bv1D,KAAK+0D,gBAAkCnF,EAAS2F,WAC7F,IAAIG,EAAc,GAAiBn5B,EAAW+4B,EAAcE,EAASC,EAASF,GAM9E,OALAt3C,EAAMgE,EAAIyzC,EAAYzzC,EACtBhE,EAAMrJ,EAAI8gD,EAAY9gD,EACtBqJ,EAAMkE,OAASuzC,EAAYvzC,OAC3BlE,EAAME,UAAYne,KAAK21D,cAAcrC,EAAeoC,EAAYjkC,OAChExT,EAAMtM,KAAOyL,EAAIrI,MACVkJ,GAET0yC,0BAA2B,SAAmC57C,EAAOqI,EAAKwyC,EAAU18B,GAClF,IAAKne,EACH,MAAO,GAGT,IAAIue,EAAOve,EAAM6f,UACb4+B,EAAkB5D,EAAS3xC,OAAS2xC,EAAS3xC,MAAMsyC,WAEvD,IAAKiD,EACH,MAAO,GAGT,IAaI+B,EAbAx0C,EAAUyyC,EAAgBzyC,QAC1B0yC,EAAkBngC,EAAK/gB,MAAQwO,EAAQ,GAAKA,EAAQ,GACpD2yC,EAAmBpgC,EAAKxS,OAASC,EAAQ,GAAKA,EAAQ,GACtDuyC,EAAgB1D,EAAS10B,UAAYl7B,KAAKszD,cAE1Cr1C,EAAQ,YAAS,YAAS,GAAIu1C,GAAkB,CAClDjhD,MAAOkhD,EACP3yC,OAAQ4yC,EACRzxC,EAAGqR,EAAKE,KAAOzS,EAAQ,GACvBnM,EAAG0e,EAAKG,KAAO1S,EAAQ,GACvBoB,OAAQ,IAIsBozC,EAA5B,gBAAM3F,EAAS2F,YAA0Bv1D,KAAK+0D,gBAAkCnF,EAAS2F,WAC7F,IAIID,EAJA/4B,EAAYrJ,GAASA,EAAM5uB,MAAK,SAAUk2B,GAC5C,MAzOU,eAyOHA,EAAQv5B,IAAI,gBAMnBq0D,EADoB,UAAlBhC,EACa,EACY,QAAlBA,EACM,EAEA,GAIjB,IAAIkC,EAAU5F,EAASlvC,MAAQ1gB,KAAK0gB,KAChC+0C,EAAU7F,EAASnvC,MAAQzgB,KAAKygB,KAEpC,GAAIrD,EAAI+d,WAAWlZ,IAAM7E,EAAIge,SAASnZ,GAAK7E,EAAI+d,WAAWvmB,IAAMwI,EAAIge,SAASxmB,EAG3E,OAFAqJ,EAAMgE,EAAI7E,EAAI+d,WAAWlZ,EAAIuzC,EAAU/B,EAAkB,EACzDx1C,EAAMrJ,EAAIwI,EAAI+d,WAAWvmB,EAAI6gD,EAAU/B,EAAmB,EACnDz1C,EAGT,IAAIy3C,EAAc,GAAiBn5B,EAAW+4B,EAAcE,EAAU/B,EAAkB,EAAGgC,EAAU/B,EAAmB,EAAG6B,GACvH14B,EAAM64B,EAAYjkC,MAYtB,OAVIoL,EAAM,GAAQx3B,KAAK6F,IAAM2xB,EAAM,IAAYx3B,KAAK6F,KAClDwqD,EAAc,GAAiBn5B,EAAW+4B,EAAcE,EAAU/B,EAAkB,EAAGgC,EAAU/B,EAAmB,EAAG6B,IAGrHA,IACFt3C,EAAMgE,EAAIyzC,EAAYzzC,EACtBhE,EAAMrJ,EAAI8gD,EAAY9gD,GAGxBqJ,EAAMkE,OAASuzC,EAAYvzC,OACpBlE,GAGT03C,cAAe,SAAuBrC,EAAe7hC,GACnD,IAAItT,EAAY,SAEhB,OAAKsT,GAILA,GAA2B,EAAVpsB,KAAK6F,GAEA,WAAlBooD,IAEAn1C,EADEsT,GAAS,GAAKA,GAASpsB,KAAK6F,GAAK,GAAKumB,GAAS,IAAQpsB,KAAK6F,IAAMumB,EAAQ,EAAIpsB,KAAK6F,GACzEooD,EAzRpB,SAAqBA,GACnB,IAAIn1C,EAAYm1C,EAQhB,MANsB,UAAlBA,EACFn1C,EAAY,MACe,QAAlBm1C,IACTn1C,EAAY,SAGPA,EAkRWy3C,CAAYtC,IAIrBn1C,GAbEm1C,GAqBXxnB,iBAAkB,SAA0B1uB,GAC1C,OAAOA,EAAIkf,eAQb44B,cAAe,SAAuB93C,GACpC,OAAOA,GAUT4uB,UAAW,SAAmB5uB,EAAK8V,GACjC,IAAIi+B,EAAanxD,KAAKgxD,cAAc5zC,GAMpC,OALY8V,EAAM2W,SAAS,OAAQ,CACjC2B,UAhUU,aAiUV7qC,KAjUU,aAkUVqD,MAAOmtD,KAIXnB,UAAW,SAAmB5yC,EAAK8V,GACjC,IACI2iC,EADAnF,EAAkB1wD,KAAK+Q,QAAQ6+C,SAEkDiG,EAA/D,oBAAXxoD,aAA6D,IAA5BA,OAAOwiD,kBAAsDxiD,OAAOwiD,iBAAiB59C,SAAS0C,KAAM,MAAMm7C,iBAAiB,gBAA+D,oBACtO,IAAIF,EAAW,kBAAQ,CACrB/9C,WAAYgkD,GACXnF,EAAiBtzC,EAAIwyC,UACpBK,EAAajwD,KAAKkwD,cAAc9yC,EAAKwyC,EAAU18B,GAC/C/Q,EAAS8tC,EAAW9tC,cACjB8tC,EAAW9tC,OAClB,IAAIpN,EAAQme,EAAM2W,SAAS,OAAQ,CACjC7lC,MAAOisD,EACPtvD,KAAM,eAOR,GAJIwhB,GACFpN,EAAM+gD,cAAc3zC,GAGlB8tC,EAAWM,WAAY,CACzB,IAAI3/B,EAAO5wB,KAAKwwD,YAAYpzC,EAAK8V,EAAOne,GACpC07C,EAAmBzwD,KAAK09B,SFvTD,YEwT3B9M,EAAKtpB,IAAI,YAAampD,GACtB17C,EAAM87B,UAGR,OAAO97B,GAETy7C,YAAa,SAAqBpzC,EAAK8V,EAAOne,GAC5C,IAAI27C,EAAkB1wD,KAAK+Q,QAAQ6+C,SAC/BA,EAAW,kBAAQ,GAAIc,EAAiBtzC,EAAIwyC,UAE5CztC,EADaniB,KAAKkwD,cAAc9yC,EAAKwyC,EAAU18B,GAC3B/Q,OACpBlE,EAAQje,KAAK2wD,0BAA0B57C,EAAOqI,EAAKwyC,EAAU18B,UAC1DjV,EAAMkE,OACb,IAAIyO,EAAOsC,EAAM2W,SAAS,OAAQ,CAChClpC,KAAM,gBACNqD,MAAOia,IAGT,OADIkE,GAAQyO,EAAKklC,cAAc3zC,GACxByO,IAIPmlC,GAAgB,YAAS,YAAS,GAAItG,IAAYqF,IAEtD,GAAM7nB,aAAa,cAAe8oB,IAElC,GAAM9oB,aAAa,OAAQ,CAEzBnB,iBAAkB,cAGjB,eAEH,GAAMmB,aAAa,SAAU,CAC3B+nB,QAAS,SAAiBlkC,GAExB,OADW,GAAUA,KAGtB,eACH,GAAMmc,aAAa,MAAO,CACxBtI,YAAa,GACbhJ,UAAW,EACXmQ,iBAAkB,SAA0B1uB,GAC1C,IAMI2T,EACAilC,EAPA76B,EAAa/d,EAAI+d,WACjBC,EAAWhe,EAAIge,SACf66B,GACE96B,EAAWlZ,EAAImZ,EAASnZ,GAAK,EAD/Bg0C,GAEE96B,EAAWvmB,EAAIwmB,EAASxmB,GAAK,EAKnC,QAA0B3I,IAAtBmR,EAAIkf,eAeN,GAdA05B,EAAW54C,EAAIkf,cAAc,GAC7BvL,EAASsB,EAAwB8I,EAAY66B,EAAU56B,GAEnDD,EAAWlZ,GAAKmZ,EAASnZ,GAAKkZ,EAAWvmB,EAAIwmB,EAASxmB,EACxD5U,KAAK27B,UAAY5K,EAAO9O,EAAI+zC,EAAS/zC,EAAI,EAAI,EACpCkZ,EAAWlZ,GAAKmZ,EAASnZ,GAAKkZ,EAAWvmB,EAAIwmB,EAASxmB,EAC/D5U,KAAK27B,UAAY5K,EAAO9O,EAAI+zC,EAAS/zC,EAAI,EAAI,EACpCkZ,EAAWlZ,EAAImZ,EAASnZ,GAAKkZ,EAAWvmB,GAAKwmB,EAASxmB,EAC/D5U,KAAK27B,UAAY5K,EAAOnc,EAAIohD,EAASphD,EAAI,EAAI,EAE7C5U,KAAK27B,UAAY5K,EAAOnc,EAAIohD,EAASphD,EAAI,EAAI,GAI1CohD,EAAS/zC,EAAIkZ,EAAWlZ,IAAM+zC,EAASphD,EAAIumB,EAAWvmB,KAAQwmB,EAASnZ,EAAIkZ,EAAWlZ,IAAMmZ,EAASxmB,EAAIumB,EAAWvmB,GACvH,MAAO,OAEJ,MAGmB3I,IAApBmR,EAAIunB,cACNvnB,EAAIunB,YAAc3kC,KAAK2kC,aAGrB,kBAAQvnB,EAAIunB,eACdvnB,EAAIunB,YAAcvnB,EAAIunB,YAAY,IAGhCvnB,EAAIunB,YAAc,EACpB3kC,KAAK27B,UAAY,EAEjB37B,KAAK27B,UAAY,EAGnB,IAAIxI,EAAM,CACRlR,EAAGmZ,EAASnZ,EAAIkZ,EAAWlZ,EAC3BrN,EAAGwmB,EAASxmB,EAAIumB,EAAWvmB,GAEzBshD,EAAY7wD,KAAKsS,MAAMwb,EAAIve,EAAGue,EAAIlR,GACtC+zC,EAAW,CACT/zC,EAAG7E,EAAIunB,YAAct/B,KAAKwS,KAAKxS,KAAK6F,GAAK,EAAIgrD,GAAaD,EAC1DrhD,EAAGwI,EAAIunB,YAAct/B,KAAKyS,KAAKzS,KAAK6F,GAAK,EAAIgrD,GAAaD,GAE5DllC,EAASsB,EAAwB8I,EAAY66B,EAAU56B,GAGzD,IAAI9xB,EAAS,EAAS6xB,EAAYpK,GAKlC,MAJoB,CAAC,CACnB9O,EAAG3Y,EACHsL,EAAGtL,KAIP0rD,QAAS,SAAiBlkC,GACxB,IAAIlgB,EAAO,GASX,OARAA,EAAK9N,KAAK,CAAC,IAAKguB,EAAO,GAAG7O,EAAG6O,EAAO,GAAGlc,IAEjB,IAAlBkc,EAAOxuB,OACTsO,EAAK9N,KAAK,CAAC,IAAKguB,EAAO,GAAG7O,EAAG6O,EAAO,GAAGlc,IAEvChE,EAAK9N,KAAK,CAAC,IAAKguB,EAAO,GAAG7O,EAAG6O,EAAO,GAAGlc,EAAG,EAAG,EAAG5U,KAAK27B,UAAW7K,EAAO,GAAG7O,EAAG6O,EAAO,GAAGlc,IAGlFhE,IAER,eACH,GAAMq8B,aAAa,YAAa,CAC9BkpB,cAAe,GACfxxB,aAAc,GACdmH,iBAAkB,SAA0B1uB,GAC1C,IAAIkf,EAAgBlf,EAAIkf,cAExB,IAAKA,IAAkBA,EAAch6B,OAAQ,CAC3C,IAAI64B,EAAa/d,EAAI+d,WACjBC,EAAWhe,EAAIge,cACKnvB,IAApBmR,EAAIunB,cAA2BvnB,EAAIunB,YAAc3kC,KAAK2kC,kBAChC14B,IAAtBmR,EAAI+4C,gBAA6B/4C,EAAI+4C,cAAgBn2D,KAAKm2D,eAC1D,kBAAQn2D,KAAK2kC,eAAcvnB,EAAIunB,YAAcvnB,EAAIunB,YAAY,IAC7D,kBAAQ3kC,KAAKm2D,iBAAgB/4C,EAAI+4C,cAAgB/4C,EAAIunB,YAAY,IAErErI,EAAgB,CADC,GAAgBnB,EAAYC,EAAUhe,EAAI+4C,cAAe/4C,EAAIunB,cAIhF,OAAOrI,GAET04B,QAAS,SAAiBlkC,GACxB,IAAIlgB,EAAO,GAGX,OAFAA,EAAK9N,KAAK,CAAC,IAAKguB,EAAO,GAAG7O,EAAG6O,EAAO,GAAGlc,IACvChE,EAAK9N,KAAK,CAAC,IAAKguB,EAAO,GAAG7O,EAAG6O,EAAO,GAAGlc,EAAGkc,EAAO,GAAG7O,EAAG6O,EAAO,GAAGlc,IAC1DhE,IAER,eACH,GAAMq8B,aAAa,QAAS,CAC1BkpB,cAAe,CAAC,GAAO,IACvBxxB,YAAa,EAAE,GAAI,IACnBmH,iBAAkB,SAA0B1uB,GAC1C,IAAIkf,EAAgBlf,EAAIkf,cAOxB,QALwBrwB,IAApBmR,EAAIunB,cAA2BvnB,EAAIunB,YAAc3kC,KAAK2kC,kBAChC14B,IAAtBmR,EAAI+4C,gBAA6B/4C,EAAI+4C,cAAgBn2D,KAAKm2D,eAC1D,mBAAS/4C,EAAIunB,eAAcvnB,EAAIunB,YAAc,CAACvnB,EAAIunB,aAAcvnB,EAAIunB,cACpE,mBAASvnB,EAAI+4C,iBAAgB/4C,EAAI+4C,cAAgB,CAAC/4C,EAAI+4C,cAAe,EAAI/4C,EAAI+4C,iBAE5E75B,IAAkBA,EAAch6B,QAAUg6B,EAAch6B,OAAS,EAAG,CACvE,IAAI64B,EAAa/d,EAAI+d,WACjBC,EAAWhe,EAAIge,SAGnBkB,EAAgB,CAFE,GAAgBnB,EAAYC,EAAUhe,EAAI+4C,cAAc,GAAI/4C,EAAIunB,YAAY,IAC5E,GAAgBxJ,EAAYC,EAAUhe,EAAI+4C,cAAc,GAAI/4C,EAAIunB,YAAY,KAIhG,OAAOrI,GAET04B,QAAS,SAAiBlkC,GACxB,IAAIlgB,EAAO,GAGX,OAFAA,EAAK9N,KAAK,CAAC,IAAKguB,EAAO,GAAG7O,EAAG6O,EAAO,GAAGlc,IACvChE,EAAK9N,KAAK,CAAC,IAAKguB,EAAO,GAAG7O,EAAG6O,EAAO,GAAGlc,EAAGkc,EAAO,GAAG7O,EAAG6O,EAAO,GAAGlc,EAAGkc,EAAO,GAAG7O,EAAG6O,EAAO,GAAGlc,IACpFhE,IAER,eAEH,GAAMq8B,aAAa,iBAAkB,CACnCkpB,cAAe,CAAC,GAAO,IACvBC,eAAgB,CAAC,EAAG,GACpBzxB,iBAAa14B,EACb6/B,iBAAkB,SAA0B1uB,GAC1C,IAAI+d,EAAa/d,EAAI+d,WACjBC,EAAWhe,EAAIge,cACOnvB,IAAtBmR,EAAI+4C,gBAA6B/4C,EAAI+4C,cAAgBn2D,KAAKm2D,oBACtClqD,IAApBmR,EAAIunB,cAA2BvnB,EAAIunB,YAAc3kC,KAAK2kC,kBAC/B14B,IAAvBmR,EAAIg5C,iBAA8Bh5C,EAAIg5C,eAAiBp2D,KAAKo2D,gBAC5D,mBAASh5C,EAAIunB,eAAcvnB,EAAIunB,YAAc,CAACvnB,EAAIunB,aAAcvnB,EAAIunB,cACpE,mBAASvnB,EAAIg5C,kBAAiBh5C,EAAIg5C,eAAiB,CAACh5C,EAAIg5C,gBAAiBh5C,EAAIg5C,iBAC7E,mBAASh5C,EAAI+4C,iBAAgB/4C,EAAI+4C,cAAgB,CAAC/4C,EAAI+4C,cAAe,EAAI/4C,EAAI+4C,gBACjF,IAAIE,EAAQj7B,EAASxmB,EAAIumB,EAAWvmB,EAChC+vB,EAAc,CAAC,EAAG,GAgBtB,OAdIvnB,EAAIunB,YACNA,EAAcvnB,EAAIunB,YACTt/B,KAAKqF,IAAI2rD,GAAShxD,KAAKqF,IAAI0S,EAAIg5C,eAAe,MACvDzxB,EAAcvnB,EAAIg5C,gBAWb,CARW,CAChBn0C,EAAGkZ,EAAWlZ,EACdrN,EAAGumB,EAAWvmB,EAAIyhD,EAAQr2D,KAAKm2D,cAAc,GAAKxxB,EAAY,IAE9C,CAChB1iB,EAAGmZ,EAASnZ,EACZrN,EAAGwmB,EAASxmB,EAAIyhD,EAAQr2D,KAAKm2D,cAAc,GAAKxxB,EAAY,OAI/D,SAEH,GAAMsI,aAAa,mBAAoB,CACrCkpB,cAAe,CAAC,GAAO,IACvBC,eAAgB,CAAC,EAAG,GACpBzxB,iBAAa14B,EACb6/B,iBAAkB,SAA0B1uB,GAC1C,IAAI+d,EAAa/d,EAAI+d,WACjBC,EAAWhe,EAAIge,cACOnvB,IAAtBmR,EAAI+4C,gBAA6B/4C,EAAI+4C,cAAgBn2D,KAAKm2D,oBACtClqD,IAApBmR,EAAIunB,cAA2BvnB,EAAIunB,YAAc3kC,KAAK2kC,kBAC/B14B,IAAvBmR,EAAIg5C,iBAA8Bh5C,EAAIg5C,eAAiBp2D,KAAKo2D,gBAC5D,mBAASh5C,EAAIunB,eAAcvnB,EAAIunB,YAAc,CAACvnB,EAAIunB,aAAcvnB,EAAIunB,cACpE,mBAASvnB,EAAIg5C,kBAAiBh5C,EAAIg5C,eAAiB,CAACh5C,EAAIg5C,gBAAiBh5C,EAAIg5C,iBAC7E,mBAASh5C,EAAI+4C,iBAAgB/4C,EAAI+4C,cAAgB,CAAC/4C,EAAI+4C,cAAe,EAAI/4C,EAAI+4C,gBACjF,IAAIG,EAAQl7B,EAASnZ,EAAIkZ,EAAWlZ,EAChC0iB,EAAc,CAAC,EAAG,GAiBtB,OAfIvnB,EAAIunB,YACNA,EAAcvnB,EAAIunB,YACTt/B,KAAKqF,IAAI4rD,GAASjxD,KAAKqF,IAAI0S,EAAIg5C,eAAe,MACvDzxB,EAAcvnB,EAAIg5C,gBAWA,CARF,CAChBn0C,EAAGkZ,EAAWlZ,EAAIq0C,EAAQt2D,KAAKm2D,cAAc,GAAKxxB,EAAY,GAC9D/vB,EAAGumB,EAAWvmB,GAEE,CAChBqN,EAAGmZ,EAASnZ,EAAIq0C,EAAQt2D,KAAKm2D,cAAc,GAAKxxB,EAAY,GAC5D/vB,EAAGwmB,EAASxmB,MAKf,SACH,GAAMq4B,aAAa,OAAQ,CACzBioB,cAAe,SAAuB93C,GACpC,OAAO,GAAYA,IAErB0uB,iBAAkB,SAA0B1uB,GAC1C,OAAOA,EAAIkf,eAEboP,UAAW,SAAmBtuB,GAC5BA,EAAIkf,mBAAgBrwB,GAEtB2/B,YAAa,SAAqBxuB,GAChCA,EAAIkf,mBAAgBrwB,IAErB,SClmBH,IAAIsqD,GAAc,CAChB74B,SAAU,QAEV+O,UAAW,eAOX6mB,cAAe,MAMf5yC,KAAM,GAAOF,WAAWE,KACxBD,KAAM,GAAOD,WAAWC,KACxB1P,QAAS,CACPkN,MAAO,CACLO,OAAQ,GAAOmC,aAAa1C,MAAMO,OAClCN,KAAM,GAAOyC,aAAa1C,MAAMC,KAChCK,UAAW,GAAOoC,aAAa1C,MAAMM,WAEvCqxC,SAAU,CACR3xC,MAAO,CACLC,KAAM,GAAOsC,WAAWvC,MAAMC,KAC9B9L,SAAU,GAAOoO,WAAWvC,MAAM7L,WAGtCy7B,YAAa,YAAS,GAAI,GAAO7sB,mBASnCuyC,QAAS,SAAiBn2C,GACxB,IAAIlN,EAAO,gBAAMkN,EAAIlN,MAAQlQ,KAAK+Q,QAAQb,MAAQ,GAAOyQ,aAAazQ,MAWtE,OATI,kBAAQA,IAAyB,IAAhBA,EAAK5N,SACxB4N,EAAO,CAACA,EAAK,GAAIA,EAAK,KAInB,kBAAQA,KACXA,EAAO,CAACA,EAAMA,IAGTA,GAGT0gD,wBAAyB,SAAiCxzC,EAAKwyC,GAC7D,IAAI0D,EAAgB1D,EAAS10B,UAAYl7B,KAAKszD,cAC1C9B,EAAWp0C,EAAIa,MACf8C,EAAU3D,EAAI2D,SAAW/gB,KAAK+Q,QAAQgQ,QACtC,kBAAQA,KAAUA,EAAUA,EAAQ,IACxC,IAAIL,EAAOkvC,EAASlvC,KAChBD,EAAOmvC,EAASnvC,KAEhB,gBAAMC,KACRA,EAAO1gB,KAAK0gB,MAGV,gBAAMD,KACRA,EAAOzgB,KAAKygB,MAGd,IAGIxC,EAHA/N,EAAOlQ,KAAKuzD,QAAQn2C,GAEpB41B,GADI3tC,KAAKC,IAAIksD,EAAStwD,EAAGgP,EAAK,GAAK,IAAMA,EAAK,GAAK,GACzC6Q,EAGd,OAAQuyC,GACN,IAAK,MACHr1C,EAAQ,CACNgE,EAAG,EACHrN,GAAIo+B,EAAMvyB,EACVrC,aAAc,SACdD,UAAW,UAEb,MAEF,IAAK,SACHF,EAAQ,CACNgE,EAAG,EACHrN,EAAGo+B,EAAMvyB,EACTrC,aAAc,SACdD,UAAW,UAEb,MAEF,IAAK,OACHF,EAAQ,CACNgE,GAAI+wB,EAAMtyB,EACV9L,EAAG,EACHuJ,UAAW,QAEb,MAEF,IAAK,SACHF,EAAQ,CACNgE,EAAG,EACHrN,EAAG,EACHjD,KAAMyL,EAAIrI,MACVoJ,UAAW,UAEb,MAEF,QACEF,EAAQ,CACNgE,EAAG+wB,EAAMtyB,EACT9L,EAAG,EACHuJ,UAAW,SAMjB,OADAF,EAAMtM,KAAOyL,EAAIrI,MACVkJ,GAET+tB,UAAW,SAAmB5uB,EAAK8V,GACjC,IAAIuZ,EAAYzsC,KAAKysC,UAEjBxuB,EAAQje,KAAKgxD,cAAc5zC,GAM/B,OALY8V,EAAM2W,SAAS4C,EAAW,CACpCzoC,MAAOia,EACPkyC,WAAW,EACXxvD,KAAM,iBAIV4vC,YAAa,SAAqBnzB,EAAKhW,EAAM8nC,GAC3C,IAAIvB,EAAWvmC,EAAKnG,IAAI,kBACMgL,IAAhBmR,EAAIkoB,QAAwBtlC,KAAK+Q,QAAQu0B,QAAUloB,EAAIkoB,UAEtDqI,EAASrI,QACtBqI,EAASrI,QAAQ4J,EAAe,CAC9B+W,SAAU,IACVC,OAAQ,eAGVvY,EAASxC,KAAK,YAAS,GAAI+D,IAG7BlvC,KAAKkxD,YAAY9zC,EAAKhW,KAItBovD,GAAiB,YAAS,YAAS,GAAI/G,IAAY8G,IAEvD,GAAMnpB,cAAc,eAAgBopB,ICzJpC,GAAMppB,cAAc,SAAU,CAE5Br8B,QAAS,CACPb,KAAM,CAAC,GAAOyQ,aAAazQ,KAAK,GAAI,GAAOyQ,aAAazQ,KAAK,IAC7D6Q,QAAS,GAAOJ,aAAaI,QAAQ,GACrCukB,SAAS,EACTrnB,MAAO,CACLO,OAAQ,GAAOmC,aAAa1C,MAAMO,OAClCN,KAAM,GAAOyC,aAAa1C,MAAMC,KAChCK,UAAW,GAAOoC,aAAa1C,MAAMM,WAEvCqxC,SAAU,CACR3xC,MAAO,CACLC,KAAM,GAAOsC,WAAWvC,MAAMC,KAC9B9L,SAAU,GAAOoO,WAAWvC,MAAM7L,UAEpCsO,KAAM,EACND,KAAM,GAERotB,YAAa,YAAS,GAAI,GAAO7sB,mBAEnCyrB,UAAW,SAEX6mB,cAAe,MACftnB,UAAW,SAAmB5uB,EAAK8V,GACjC,IAAIjV,EAAQje,KAAKgxD,cAAc5zC,GAS/B,cAROa,EAAM6C,cACN7C,EAAM1L,MACE2gB,EAAM2W,SAAS,SAAU,CACtC7lC,MAAOia,EACPutB,UAAW,eACX7qC,KAAM,eACNwvD,WAAW,KAUfa,cAAe,SAAuB5zC,GACpC,IAAI2zC,EAAe/wD,KAAK+Q,QAAQkN,MAC5B8C,EAAU3D,EAAI2D,SAAW/gB,KAAK+Q,QAAQgQ,QACtC,kBAAQA,KAAUA,EAAUA,EAAQ,IACxC,IAKI7f,EALA+zD,EAAc,CAChBz2C,OAAQpB,EAAIhU,OAGV6U,EAAQ,cAAI,GAAI8yC,EAAckE,EAAa73C,EAAIa,OAGnD,GAAIb,EAAIq5C,QACNv1D,EAAI,mBAASkc,EAAIq5C,SAAWr5C,EAAIq5C,QAAUr5C,EAAIq5C,QAAQ,OACjD,CACL,IAAIvmD,EAAOlQ,KAAKuzD,QAAQn2C,GACkBlc,GAArC,mBAAS+c,EAAM/c,IAAMyE,MAAMsY,EAAM/c,GAAQgP,EAAK,GAAK,GAAK,GAAOyQ,aAAa1C,MAAM/c,EAAWmE,KAAKC,IAAI2Y,EAAM/c,EAAGgP,EAAK,GAAK,IAAMA,EAAK,GAAK,EAGhJ+N,EAAM/c,EAAIA,EAAI6f,EAEd,IAAI+sB,EAAS,YAAS,CACpB7rB,EAAG,EACHrN,EAAG,GACFqJ,GAOH,OALIb,EAAIa,MAAOb,EAAIa,MAAM/c,EAAIA,EAC3Bkc,EAAIa,MAAQ,CACV/c,EAAGA,GAGA4sC,GAET/D,OAAQ,SAAgB3sB,EAAKhW,GAC3B,IAAI8I,EAAOlQ,KAAKuzD,QAAQn2C,GACpB2D,EAAU3D,EAAI2D,SAAW/gB,KAAK+Q,QAAQgQ,QACtC,kBAAQA,KAAUA,EAAUA,EAAQ,IACxC,IACI7f,EADAswD,EAAW,gBAAMp0C,EAAIa,OAIvB/c,EADEkc,EAAIq5C,QACF,mBAASr5C,EAAIq5C,SAAWr5C,EAAIq5C,QAAUr5C,EAAIq5C,QAAQ,GAElDpxD,KAAKC,IAAIksD,EAAStwD,EAAGgP,EAAK,GAAK,IAAMA,EAAK,GAAK,EAGrDshD,EAAStwD,EAAIA,EAAI6f,EACjB,IAAI21C,EAAgBtvD,EAAKnG,IAAI,aAEzBy1D,IACFA,EAAcx1D,EAAIswD,EAAStwD,GAI7B,IAAI+zD,EAAc,CAChBz2C,OAAQpB,EAAIhU,OAGVukC,EAAWvmC,EAAKnG,IAAI,YACpBgd,EAAQ,cAAI,GAAI0vB,EAASxC,OAAQ8pB,EAAazD,GAC9Cp0C,EAAIa,MAAOb,EAAIa,MAAM/c,EAAIA,EAC3Bkc,EAAIa,MAAQ,CACV/c,EAAGA,GAGPlB,KAAKuwC,YAAYnzB,EAAKhW,EAAM6W,GAAO,KAEpC,gBC7GH,GAAMmvB,cAAc,OAAQ,CAE1Br8B,QAAS,CACPb,KAAM,CAAC,GAAI,GACX6Q,QAAS,CAAC,GAAI,GAAI,GAAI,IACtBukB,SAAS,EACTrnB,MAAO,CACL3U,OAAQ,EACRkV,OAAQ,GAAOmC,aAAa1C,MAAMO,OAClCN,KAAM,GAAOyC,aAAa1C,MAAMC,KAChCK,UAAW,GAAOoC,aAAa1C,MAAMM,WAGvCqxC,SAAU,CACR3xC,MAAO,CACLC,KAAM,GAAOsC,WAAWvC,MAAMC,KAC9B9L,SAAU,GAAOoO,WAAWvC,MAAM7L,WAItCytB,aAAc,CAAC,CAAC,EAAG,IAAM,CAAC,EAAG,KAC7BgO,YAAa,YAAS,GAAI,GAAO7sB,mBAEnCyrB,UAAW,OACX6mB,cAAe,MACftnB,UAAW,SAAmB5uB,EAAK8V,GACjC,IAAIjV,EAAQje,KAAKgxD,cAAc5zC,GAO/B,OANe8V,EAAM2W,SAAS,OAAQ,CACpC7lC,MAAOia,EACPutB,UAAW,aACX7qC,KAAM,aACNwvD,WAAW,KAKfS,wBAAyB,SAAiCxzC,EAAKwyC,GAC7D,IAAI0D,EAAgB1D,EAAS10B,UAAYl7B,KAAKszD,cAC1C9B,EAAWp0C,EAAIa,MACf8C,EAAU3D,EAAI2D,SAAW/gB,KAAK+Q,QAAQgQ,QACtC,mBAASA,KAAUA,EAAU,CAACA,EAASA,EAASA,EAASA,IAC7D,IAAIL,EAAOkvC,EAASlvC,KAChBD,EAAOmvC,EAASnvC,KAEhB,gBAAMC,KACRA,EAAO1gB,KAAK0gB,MAGV,gBAAMD,KACRA,EAAOzgB,KAAKygB,MAGd,IAEIxC,EAFA04C,EAAUnF,EAASj/C,MAAQ,EAAIwO,EAAQ,GACvC61C,EAASpF,EAAS1wC,OAAS,EAAIC,EAAQ,GAG3C,OAAQuyC,GACN,IAAK,MACHr1C,EAAQ,CACNgE,EAAG,EAAI00C,EAAUj2C,EACjB9L,EAAG,EAAIgiD,EAASn2C,EAChBrC,aAAc,MACdD,UAAW,QAEb,MAEF,IAAK,SACHF,EAAQ,CACNgE,EAAG,EACHrN,EAAGgiD,EAASn2C,EACZrC,aAAc,SACdD,UAAW,UAEb,MAEF,IAAK,OACHF,EAAQ,CACNgE,EAAG,EAAI00C,EAAUl2C,EACjB7L,EAAG,EACHuJ,UAAW,QAEb,MAEF,IAAK,SACHF,EAAQ,CACNgE,EAAG,EACHrN,EAAG,EACHjD,KAAMyL,EAAIrI,MACVoJ,UAAW,UAEb,MAEF,QACEF,EAAQ,CACNgE,EAAG00C,EAAUj2C,EACb9L,EAAG,EACHuJ,UAAW,SAMjB,OADAF,EAAMtM,KAAOyL,EAAIrI,MACVkJ,GAQT+yC,cAAe,SAAuB5zC,GACpC,IAAI2zC,EAAe/wD,KAAK+Q,QAAQkN,MAC5B8C,EAAU3D,EAAI2D,SAAW/gB,KAAK+Q,QAAQgQ,QACtC,mBAASA,KAAUA,EAAU,CAACA,EAASA,EAASA,EAASA,IAC7D,IAMIxO,EACAuO,EAPAm0C,EAAc,CAChBz2C,OAAQpB,EAAIhU,OAGV6U,EAAQ,cAAI,GAAI8yC,EAAckE,EAAa73C,EAAIa,OAC/C/N,EAAOlQ,KAAKuzD,QAAQn2C,GAGpBq5C,EAAUr5C,EAAIo4B,WAAap4B,EAAIy5C,gBAAkBz5C,EAAIy5C,gBAAkBz5C,EAAIq5C,QAE3EA,EACE,mBAASA,IACXlkD,EAAQkkD,EACR31C,EAAS21C,IAETlkD,EAAQkkD,EAAQ,GAChB31C,EAAS21C,EAAQ,KAG+BlkD,GAA7C,mBAAS0L,EAAM1L,QAAU5M,MAAMsY,EAAM1L,OAAgBrC,EAAK,IAAM,GAAOyQ,aAAa1C,MAAM1L,MAAmBlN,KAAKC,IAAI2Y,EAAM1L,MAAOrC,EAAK,KAAOA,EAAK,GACrG4Q,GAA/C,mBAAS7C,EAAM6C,SAAWnb,MAAMsY,EAAM6C,QAAkB5Q,EAAK,IAAM,GAAOyQ,aAAa1C,MAAM6C,OAAqBzb,KAAKC,IAAI2Y,EAAM6C,OAAQ5Q,EAAK,KAAOA,EAAK,IAGjK,IAAI+R,GAAK1P,EAAQ,EAAIwO,EAAQ,GACzBnM,GAAKkM,EAAS,EAAIC,EAAQ,GAC9B9C,EAAM1L,MAAQA,EAAQwO,EAAQ,GAAKA,EAAQ,GAC3C9C,EAAM6C,OAASA,EAASC,EAAQ,GAAKA,EAAQ,GAE7C,IAAI+sB,EAAS,YAAS,CACpB7rB,EAAGA,EACHrN,EAAGA,GACFqJ,GAYH,OAVKb,EAAIa,OAMPb,EAAIa,MAAM1L,MAAQA,EAClB6K,EAAIa,MAAM6C,OAASA,GANnB1D,EAAIa,MAAQ,CACV1L,MAAOA,EACPuO,OAAQA,GAOLgtB,GAET/D,OAAQ,SAAgB3sB,EAAKhW,GAC3B,IAAI8I,EAAOlQ,KAAKuzD,QAAQn2C,GACpB2D,EAAU3D,EAAI2D,SAAW/gB,KAAK+Q,QAAQgQ,QACtC,mBAASA,KAAUA,EAAU,CAACA,EAASA,EAASA,EAASA,IAC7D,IACIxO,EAAOuO,EADP0wC,EAAW,gBAAMp0C,EAAIa,OAErBw4C,EAAUr5C,EAAIo4B,WAAap4B,EAAIy5C,gBAAkBz5C,EAAIy5C,gBAAkBz5C,EAAIq5C,QAE3EA,EACE,mBAASA,IACXlkD,EAAQkkD,EACR31C,EAAS21C,IAETlkD,EAAQkkD,EAAQ,GAChB31C,EAAS21C,EAAQ,KAGnBlkD,EAAQlN,KAAKC,IAAIksD,EAASj/C,MAAOrC,EAAK,KAAOA,EAAK,GAClD4Q,EAASzb,KAAKC,IAAIksD,EAAS1wC,OAAQ5Q,EAAK,KAAOA,EAAK,IAGtDshD,EAASj/C,MAAQA,EAAQwO,EAAQ,GAAKA,EAAQ,GAC9CywC,EAAS1wC,OAASA,EAASC,EAAQ,GAAKA,EAAQ,GAChD,IAAI21C,EAAgBtvD,EAAKnG,IAAI,aAEzBy1D,IACFA,EAAcnkD,MAAQi/C,EAASj/C,MAC/BmkD,EAAc51C,OAAS0wC,EAAS1wC,QAGlC0wC,EAASvvC,GAAK1P,EAAQ,EAAIwO,EAAQ,GAClCywC,EAAS58C,GAAKkM,EAAS,EAAIC,EAAQ,GAEnC,IAAIk0C,EAAc,CAChBz2C,OAAQpB,EAAIhU,OAGVukC,EAAWvmC,EAAKnG,IAAI,YACpBgd,EAAQ,cAAI,GAAI0vB,EAASxC,OAAQ8pB,EAAazD,GAE9Cp0C,EAAIa,OACNb,EAAIa,MAAM1L,MAAQA,EAClB6K,EAAIa,MAAM6C,OAASA,GAEnB1D,EAAIa,MAAQ,CACV1L,MAAOA,EACPuO,OAAQA,GAIZ9gB,KAAKuwC,YAAYnzB,EAAKhW,EAAM6W,GAAO,IAErCsyB,YAAa,SAAqBnzB,EAAKhW,EAAM8nC,GAC3C,IAAIvB,EAAWvmC,EAAKnG,IAAI,kBACMgL,IAAhBmR,EAAIkoB,QAAwBtlC,KAAK+Q,QAAQu0B,QAAUloB,EAAIkoB,UAEtDqI,EAASrI,QACtBqI,EAASrI,QAAQ4J,EAAe,CAC9B+W,SAAU,IACVC,OAAQ,eAGVvY,EAASxC,KAAK,YAAS,GAAI+D,IAG7BlvC,KAAKkxD,YAAY9zC,EAAKhW,KAEvB,gBCjOH,GAAMolC,aAAa,gBAAiB,CAElCz7B,QAAS,CACPb,KAAM,GAAOoO,YAAYpO,KACzB+N,MAAO,CACLgE,EAAG,EACHrN,EAAG,EACH4J,OAAQ,GAAOF,YAAYL,MAAMO,OACjCN,KAAM,GAAOI,YAAYL,MAAMC,KAC/BK,UAAW,GAAOD,YAAYL,MAAMM,WAEtCqxC,SAAU,CACR3xC,MAAO,CACLC,KAAM,GAAOF,UAAUC,MAAMC,KAC7B9L,SAAU,GAAO4L,UAAUC,MAAM7L,WAGrCy7B,YAAa,YAAS,GAAI,GAAO/uB,kBAEnC2tB,UAAW,gBAEX6mB,cAAe,SACftnB,UAAW,SAAmB5uB,EAAK8V,GACjC,IAAIjV,EAAQje,KAAKgxD,cAAc5zC,GAM/B,OALe8V,EAAM2W,SAAS,SAAU,CACtC7lC,MAAOia,EACPutB,UAAW,GAAGxmC,OAAOhF,KAAKmD,KAAM,aAChCgtD,WAAW,KAUfa,cAAe,SAAuB5zC,GACpC,IAAI2zC,EAAe/wD,KAAK2vD,WAAWvyC,GAAKa,MACpCg3C,EAAc,CAChBz2C,OAAQpB,EAAIhU,OAGV6U,EAAQ,kBAAQ,GAAI8yC,EAAckE,GAElC/zD,EADOlB,KAAKuzD,QAAQn2C,GACX,GAAK,EAQlB,OANa,YAAS,CACpB6E,EAAG,EACHrN,EAAG,EACH1T,EAAGA,GACF+c,IAIL8rB,OAAQ,SAAgB3sB,EAAKhW,GAC3B,IAAI8I,EAAOlQ,KAAKuzD,QAAQn2C,GAEpB63C,EAAc,CAChBz2C,OAAQpB,EAAIhU,MACZlI,EAAGgP,EAAK,GAAK,GAGXy9B,EAAWvmC,EAAKnG,IAAI,YACpBgd,EAAQ,kBAAQ,GAAI0vB,EAASxC,OAAQ8pB,EAAa73C,EAAIa,OAC1Dje,KAAKuwC,YAAYnzB,EAAKhW,EAAM6W,GAAO,KAEpC,eCpEH,GAAMuuB,aAAa,cAAe,CAEhCz7B,QAAS,CACPb,KAAM,CAAC,IAAK,IACZ+N,MAAO,CACL3U,OAAQ,EACRkV,OAAQ,GAAOF,YAAYL,MAAMO,OACjCN,KAAM,GAAOI,YAAYL,MAAMC,KAC/BK,UAAW,GAAOD,YAAYL,MAAMM,WAGtCqxC,SAAU,CACR3xC,MAAO,CACLC,KAAM,GAAOF,UAAUC,MAAMC,KAC7B9L,SAAU,GAAO4L,UAAUC,MAAM7L,WAKrCytB,aAAc,CAAC,CAAC,EAAG,IAAM,CAAC,EAAG,KAC7BgO,YAAa,YAAS,GAAI,GAAO/uB,kBAEnC2tB,UAAW,cACX6mB,cAAe,SACftnB,UAAW,SAAmB5uB,EAAK8V,GACjC,IAAIjV,EAAQje,KAAKgxD,cAAc5zC,GAO/B,OANe8V,EAAM2W,SAAS,OAAQ,CACpC7lC,MAAOia,EACPutB,UAAW,GAAGxmC,OAAOhF,KAAKmD,KAAM,aAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,aAC3BgtD,WAAW,KAUfa,cAAe,SAAuB5zC,GACpC,IAAI2zC,EAAe/wD,KAAK2vD,WAAWvyC,GAAKa,MACpCg3C,EAAc,CAChBz2C,OAAQpB,EAAIhU,OAGV6U,EAAQ,cAAI,GAAI8yC,EAAckE,GAC9B/kD,EAAOlQ,KAAKuzD,QAAQn2C,GACpB7K,EAAQ0L,EAAM1L,OAASrC,EAAK,GAC5B4Q,EAAS7C,EAAM6C,QAAU5Q,EAAK,GASlC,OAPa,YAAS,CACpB+R,GAAI1P,EAAQ,EACZqC,GAAIkM,EAAS,EACbvO,MAAOA,EACPuO,OAAQA,GACP7C,IAIL8rB,OAAQ,SAAgB3sB,EAAKhW,GACfA,EAAK6iC,eAAjB,IAEI8mB,EAAe/wD,KAAK2vD,WAAW,IAAI1xC,MACnC/N,EAAOlQ,KAAKuzD,QAAQn2C,GACpBuwB,EAAWvmC,EAAKnG,IAAI,YAEnBmc,EAAIlN,OACPA,EAAK,GAAKy9B,EAASxC,KAAK,UAAY4lB,EAAax+C,MACjDrC,EAAK,GAAKy9B,EAASxC,KAAK,WAAa4lB,EAAajwC,QAIpD,IAAIm0C,EAAc,CAChBz2C,OAAQpB,EAAIhU,MACZ6Y,GAAI/R,EAAK,GAAK,EACd0E,GAAI1E,EAAK,GAAK,EACdqC,MAAOrC,EAAK,GACZ4Q,OAAQ5Q,EAAK,IAGX+N,EAAQ,cAAI,GAAI8yC,EAAcpjB,EAASxC,OAAQ8pB,GACnDh3C,EAAQ,cAAIA,EAAOb,EAAIa,OACvBje,KAAKuwC,YAAYnzB,EAAKhW,EAAM6W,GAAO,KAEpC,eCnFH,GAAMuuB,aAAa,QAAS,CAC1Bz7B,QAAS,CACP+lD,IAAK,wFACL5mD,KAAM,IACN6mD,QAAS,CACPhmB,MAAM,EACN5tC,KAAM,SAENjC,EAAG,GAEH2wB,GAAI,GACJC,GAAI,GAEJvf,MAAO,GACPuO,OAAQ,GAERgQ,OAAQ,CAAC,CAAC,GAAI,IAAK,CAAC,GAAI,IAAK,CAAC,GAAI,IAAK,CAAC,GAAI,KAE5ClgB,KAAM,CAAC,CAAC,IAAK,GAAI,IAAK,CAAC,IAAK,GAAI,IAAK,CAAC,IAAK,KAAM,KAAM,EAAG,EAAG,EAAG,GAAI,IAAK,CAAC,IAAK,KAAM,KAAM,EAAG,EAAG,EAAG,GAAI,IAAK,CAAC,IAAK,GAAI,IAAK,CAAC,MAE7HqR,EAAG,EACHrN,EAAG,IAOP63B,UAAW,QACX6mB,cAAe,SACftnB,UAAW,SAAmB5uB,EAAK8V,GACjC,IAAIuZ,EAAYzsC,KAAKysC,UAEjBxuB,EAAQje,KAAKgxD,cAAc5zC,UACxBa,EAAMC,KACb,IAAI0rB,EAAQ1W,EAAM2W,SAAS4C,EAAW,CACpCzoC,MAAOia,EACPutB,UAAW,GAAGxmC,OAAOhF,KAAKmD,KAAM,aAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,aAC3BgtD,WAAW,IAGb,OADAnwD,KAAKg3D,SAAS55C,EAAKwsB,GACZA,GAETotB,SAAU,SAAkB55C,EAAKwsB,GAC/B,IAAIqtB,EAAOj3D,KAAK2vD,WAAWvyC,GAAK25C,QAEhC,GAAKE,EAAKlmB,KAAV,CAKA,IAAI5tC,EAAO8zD,EAAK9zD,KACZ8e,EAAIg1C,EAAKh1C,EACTrN,EAAIqiD,EAAKriD,EACTqJ,EAAQg5C,EAAKh5C,MAEjB,GAAa,WAAT9a,EAAmB,CACrB,IAAIjC,EAAI+1D,EAAK/1D,EACb0oC,EAAMstB,QAAQ,CACZ/zD,KAAM,SACNa,MAAO,YAAS,CACd9C,EAAGA,EACH+gB,EAAGA,EACHrN,EAAGA,GACFqJ,UAEA,GAAa,SAAT9a,EAAiB,CAC1B,IAAIoP,EAAQ0kD,EAAK1kD,MACbuO,EAASm2C,EAAKn2C,OACdq2C,EAAQl1C,EAAI1P,EAAQ,EACpB6kD,EAAQxiD,EAAIkM,EAAS,EACzB8oB,EAAMstB,QAAQ,CACZ/zD,KAAM,OACNa,MAAO,YAAS,CACdie,EAAGk1C,EACHviD,EAAGwiD,EACH7kD,MAAOA,EACPuO,OAAQA,GACP7C,UAEA,GAAa,YAAT9a,EAAoB,CAC7B,IAAI0uB,EAAKolC,EAAKplC,GACVC,EAAKmlC,EAAKnlC,GACd8X,EAAMstB,QAAQ,CACZ/zD,KAAM,UACNa,MAAO,YAAS,CACdie,EAAGA,EACHrN,EAAGA,EACHid,GAAIA,EACJC,GAAIA,GACH7T,UAEA,GAAa,YAAT9a,EAAoB,CAC7B,IAAI2tB,EAASmmC,EAAKnmC,OAClB8Y,EAAMstB,QAAQ,CACZ/zD,KAAM,UACNa,MAAO,YAAS,CACd8sB,OAAQA,GACP7S,UAEA,GAAa,SAAT9a,EAAiB,CAC1B,IAAIyN,EAAOqmD,EAAKrmD,KAChBg5B,EAAMstB,QAAQ,CACZ/zD,KAAM,OACNa,MAAO,YAAS,CACd4M,KAAMA,GACLqN,QAIT+yC,cAAe,SAAuB5zC,GACpC,IAAI2zC,EAAe/wD,KAAK2vD,WAAWvyC,GAAKa,MACpC/N,EAAOlQ,KAAKuzD,QAAQn2C,GACpB05C,EAAM92D,KAAK2vD,WAAWvyC,GAAK05C,IAC3BvkD,EAAQrC,EAAK,GACb4Q,EAAS5Q,EAAK,GAelB,OAbI6gD,IACFx+C,EAAQw+C,EAAax+C,OAASrC,EAAK,GACnC4Q,EAASiwC,EAAajwC,QAAU5Q,EAAK,IAG3B,YAAS,CACnB+R,GAAI1P,EAAQ,EACZqC,GAAIkM,EAAS,EACbvO,MAAOA,EACPuO,OAAQA,EACRg2C,IAAKA,GACJ/F,IAILE,iBAAkB,SAA0B7zC,EAAKhW,GAC/C,IAAI8rB,EAAQ9rB,EAAK6iC,eACbotB,EAAiB,GAAGryD,OAAOhF,KAAK09B,SAAU,UAC1CkM,EAAQ1W,EAAM5uB,MAAK,SAAUk2B,GAC/B,OAAOA,EAAQv5B,IAAI,eAAiBo2D,MAChCjwD,EAAK4zB,cACPm2B,EAAanxD,KAAKgxD,cAAc5zC,GAEhCwsB,GACFA,EAAMuB,KAAKgmB,KAGd,eCvJY,ICEJmG,GDFI,IACbC,SAAU,SAAkBhlD,EAAOjQ,EAAQ5B,QAC3B,IAAV6R,IACFA,EAAQ,SAGK,IAAXjQ,IACFA,EAAS,SAGD,IAAN5B,IACFA,EAAI,GAGN,IAAI82D,EAAY,EAAJ92D,EAEZ,MADW,KAAKsE,OAAOwyD,EAAO,SAASxyD,OAAOwyD,EAAQl1D,EAAQ,MAAM0C,OAAOuN,EAAQ,EAAG,OAAOvN,OAAOwyD,EAAQl1D,EAAQ,KAAK0C,OAAOuN,EAAQ,EAAG,OAG7IklD,IAAK,SAAallD,EAAOjQ,EAAQ5B,QACjB,IAAV6R,IACFA,EAAQ,SAGK,IAAXjQ,IACFA,EAAS,SAGD,IAAN5B,IACFA,EAAI,GAGN,IAAI82D,EAAY,EAAJ92D,EAEZ,MADW,KAAKsE,OAAOwyD,EAAO,SAASxyD,OAAOwyD,EAAQl1D,EAAQ,MAAM0C,OAAOuN,EAAQ,EAAG,gBAAgBvN,OAAOwyD,EAAQ,EAAIl1D,EAAS,EAAG,SAAS0C,OAAOwyD,EAAQl1D,EAAQ,KAAK0C,OAAOuN,EAAQ,EAAG,OAG9L0e,OAAQ,SAAgB/vB,EAAGR,GAWzB,YAVU,IAANQ,IACFA,EAAI,QAGI,IAANR,IACFA,EAAI,GAIK,KAAKsE,OADA,EAAJtE,EACkB,uBAAuBsE,OAAO9D,EAAG,KAAK8D,OAAO9D,EAAG,WAAW8D,OAAW,EAAJ9D,EAAO,sBAAsB8D,OAAO9D,EAAG,KAAK8D,OAAO9D,EAAG,WAAW8D,OAAY,GAAJ9D,EAAO,OAGlL0vB,KAAM,SAAcre,EAAOjQ,EAAQ5B,QACnB,IAAV6R,IACFA,EAAQ,SAGK,IAAXjQ,IACFA,EAAS,SAGD,IAAN5B,IACFA,EAAI,GAGN,IAAI82D,EAAY,EAAJ92D,EAEZ,MADW,KAAKsE,OAAOwyD,EAAO,KAAKxyD,QAAQuN,EAAQ,EAAG,iBAAiBvN,OAAOwyD,EAAQl1D,EAAQ,KAAK0C,QAAQuN,EAAQ,EAAG,iBAAiBvN,OAAOwyD,EAAQl1D,EAAQ,KAAK0C,OAAOuN,EAAQ,EAAG,iBAAiBvN,OAAOwyD,EAAO,KAAKxyD,OAAOuN,EAAQ,EAAG,OAG7OmlD,QAAS,SAAiBnlD,EAAOjQ,EAAQ5B,QACzB,IAAV6R,IACFA,EAAQ,SAGK,IAAXjQ,IACFA,EAAS,SAGD,IAAN5B,IACFA,EAAI,GAGN,IAAI82D,EAAY,EAAJ92D,EAEZ,MADW,KAAKsE,OAAOwyD,EAAO,mBAAmBxyD,OAAOwyD,EAAQl1D,EAAS,EAAG,KAAK0C,QAAQuN,EAAQ,EAAG,iBAAiBvN,OAAOwyD,EAAQl1D,EAAQ,mBAAmB0C,OAAOwyD,EAAQl1D,EAAS,EAAG,KAAK0C,OAAOuN,EAAQ,EAAG,OAGnNolD,aAAc,SAAsBC,EAAQC,EAASC,EAAQC,EAASC,EAAKt3D,QAC1D,IAAXk3D,IACFA,EAAS,SAGK,IAAZC,IACFA,EAAU,SAGG,IAAXC,IACFA,EAAS,SAGK,IAAZC,IACFA,EAAU,QAGA,IAARC,IACFA,EAAM,QAGE,IAANt3D,IACFA,EAAI,GAGN,IAAI82D,EAAY,EAAJ92D,EACRu3D,EAAYT,EAAQK,EAAUG,EAElC,MADW,KAAKhzD,OAAOwyD,EAAO,SAASxyD,OAAOwyD,EAAQK,EAAS,MAAM7yD,OAAO4yD,EAAS,EAAG,OAAO5yD,OAAOwyD,EAAQK,EAAS,KAAK7yD,OAAO4yD,EAAS,EAAG,sBAAsB5yD,OAAOizD,EAAW,OAAOjzD,OAAO8yD,EAAS,EAAG,oBAAoB9yD,OAAOizD,EAAYF,EAAS,MAAM/yD,OAAO8yD,EAAS,EAAG,oBAAoB9yD,OAAOizD,EAAYF,EAAS,KAAK/yD,OAAO8yD,EAAS,EAAG,oBAAoB9yD,OAAOizD,EAAW,KAAKjzD,OAAO8yD,EAAS,EAAG,qBE7GrZ,IACbI,SAAU,SAAkBj2C,EAAGrN,EAAG1T,GAChC,MAAO,CAAC,CAAC,IAAK+gB,EAAI/gB,EAAG0T,GAAI,CAAC,IAAK1T,EAAGA,EAAG,EAAG,EAAG,EAAO,EAAJA,EAAO,GAAI,CAAC,IAAKA,EAAGA,EAAG,EAAG,EAAG,EAAQ,GAAJA,EAAO,GAAI,CAAC,IAAK+gB,EAAI/gB,EAAI,EAAG0T,GAAI,CAAC,IAAKqN,EAAI/gB,EAAI,EAAG0T,KAElIujD,OAAQ,SAAgBl2C,EAAGrN,EAAG1T,GAC5B,MAAO,CAAC,CAAC,IAAK+gB,EAAI/gB,EAAG0T,GAAI,CAAC,IAAK1T,EAAGA,EAAG,EAAG,EAAG,EAAO,EAAJA,EAAO,GAAI,CAAC,IAAKA,EAAGA,EAAG,EAAG,EAAG,EAAQ,GAAJA,EAAO,GAAI,CAAC,IAAK+gB,EAAI/gB,EAAI,EAAG0T,GAAI,CAAC,IAAKqN,EAAI/gB,EAAI,EAAIA,EAAI,EAAG0T,GAAI,CAAC,IAAKqN,EAAI/gB,EAAIA,EAAG0T,EAAI1T,EAAI,GAAI,CAAC,IAAK+gB,EAAGrN,EAAI1T,EAAI,KAE5Lk3D,WAAY,SAAoBn2C,EAAGrN,EAAG1T,GACpC,IAAIm3D,EAAKn3D,EAAImE,KAAKwS,IAAIxS,KAAK6F,GAAK,GAC5BotD,EAAKp3D,EAAImE,KAAKyS,IAAIzS,KAAK6F,GAAK,GAChC,MAAO,CAAC,CAAC,IAAK+W,EAAIo2C,EAAIzjD,EAAI0jD,GAAK,CAAC,IAAKr2C,EAAIo2C,EAAIzjD,EAAI0jD,GAAK,CAAC,IAAKr2C,EAAGrN,EAAI1T,GAAI,CAAC,OAE1Eq3D,aAAc,SAAsBt2C,EAAGrN,EAAG1T,GACxC,IAAIm3D,EAAKn3D,EAAImE,KAAKwS,IAAIxS,KAAK6F,GAAK,GAC5BotD,EAAKp3D,EAAImE,KAAKyS,IAAIzS,KAAK6F,GAAK,GAChC,MAAO,CAAC,CAAC,IAAK+W,EAAIo2C,EAAIzjD,EAAI0jD,GAAK,CAAC,IAAKr2C,EAAIo2C,EAAIzjD,EAAI0jD,GAAK,CAAC,IAAKr2C,EAAGrN,EAAI1T,GAAI,CAAC,QCP7D,MCRJs3D,GAAuB,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WCOlI,GAAY,IAAI3oC,UAOL,GALJ,YAAS,YAAS,YAAS,YAAS,YAAS,YAAS,GAAI,GAAW,GAAc,GAAW,GAAW,GAAY,CAC9HA,UAAW,GACX4oC,KAAM,MC6WO,GAlXf,WACE,SAASC,EAAiB3pC,GACxB/uB,KAAK+uB,MAAQA,EACb/uB,KAAKgsD,UAAYj9B,EAAM9tB,IAAI,WAAa,GACxCjB,KAAK24D,WAAa34D,KAAKiqD,gBACvBjqD,KAAK44D,cAAgB,GACrB54D,KAAK64D,aAyWP,OArWAH,EAAiB12D,UAAU62D,WAAa,aAGxCH,EAAiB12D,UAAUioD,cAAgB,WACzC,OAAOjqD,KAAK84D,iBAAiB94D,KAAKgsD,YAGpC0M,EAAiB12D,UAAU82D,iBAAmB,SAAU9M,GACtD,IAAI7oD,EAAO6oD,EAAU7oD,KAErB,GAAIA,EACF,OAAOA,EAGT,IAAI41D,EAAQ/M,EAAU+M,MAEtB,OAAI11D,MAAMC,QAAQy1D,GACTA,EAAMxoD,KAAI,SAAUyoD,GACzB,OAAQA,aAAmC,EAASA,EAAK71D,OAAS,MAI/D,MAGTu1D,EAAiB12D,UAAUiqD,iBAAmB,SAAU7uC,GACtD,IAAIwkB,EAAU5hC,KAAK84D,iBAAiB17C,GAEpC,OAAI/Z,MAAMC,QAAQtD,KAAK24D,YACd34D,KAAK24D,WAAW1wD,OAAM,SAAU9E,EAAMN,GAC3C,OAAOM,IAASy+B,EAAQ/+B,OAIpBua,aAAiC,EAASA,EAAIja,QAAUnD,KAAK24D,YAIvED,EAAiB12D,UAAUi3D,cAAgB,WACzC,IAAIlqC,EAAQ/uB,KAAK+uB,MACZA,IAEDA,EAAM9tB,IAAI,WACZ8tB,EAAMm7B,mBAENn7B,EAAMw6B,qBAKVmP,EAAiB12D,UAAUoqD,aAAe,SAAUhvC,GAClDpd,KAAKgsD,UAAY5uC,EACjBpd,KAAKk5D,uBACLl5D,KAAKspD,UAIPoP,EAAiB12D,UAAU2nD,WAAa,WACtC3pD,KAAKk5D,uBACLl5D,KAAKspD,UAGPoP,EAAiB12D,UAAUk3D,qBAAuB,WAChD,IAAIN,EAAgB54D,KAAK44D,cACzBA,SAA8DA,EAAcnoD,SAAQ,SAAU87C,GAC5FA,EAAahqB,aAEfviC,KAAK44D,cAAgB,IAIvBF,EAAiB12D,UAAUqqD,cAAgB,WACzC,IAAIt9B,EAAQ/uB,KAAK+uB,MACjB/uB,KAAKk5D,uBACLnqC,EAAMznB,IAAI,cAAU2E,GACpBjM,KAAKgsD,eAAY//C,EACjBjM,KAAK24D,gBAAa1sD,EAClBjM,KAAK44D,mBAAgB3sD,GAIvBysD,EAAiB12D,UAAUm3D,iBAAmB,WAa5C,IAZA,IAAIjrC,EAAQ,GACRkrC,EAAc,GACdjrC,EAAQ,GACRkrC,EAAc,GACdC,EAAa,GACbl5B,EAAS,GAETm5B,EAAYv5D,KAAK+uB,MAAMslB,WACvBmlB,EAAYx5D,KAAK+uB,MAAMkkB,WACvB+W,EAAahqD,KAAK+uB,MAAMulB,YACxBmlB,EAAaF,EAAUj3D,OAElBlC,EAAI,EAAGA,EAAIq5D,EAAYr5D,IAAK,CACnC,IAAI+jD,EAAWoV,EAAUn5D,GACzB,GAAK+jD,IAAYA,EAASrjB,UAA1B,CACA,IAAI1pB,EAAQ+sC,EAASjU,WAEhBiU,EAASzkB,YAKdxR,EAAMprB,KAAKsU,GAJTgiD,EAAYt2D,KAAKsU,IAOrB,IAAIsiD,EAAaF,EAAUl3D,OAE3B,IAASlC,EAAI,EAAGA,EAAIs5D,EAAYt5D,IAAK,CACnC,IAAIqtD,EAAW+L,EAAUp5D,GACzB,GAAKqtD,IAAYA,EAAS3sB,UAA1B,CACI1pB,EAAQq2C,EAASvd,WAEhBud,EAAS/tB,YAKTtoB,EAAM+9B,YAAoCmkB,EAAWx2D,KAAKsU,GAAvC+W,EAAMrrB,KAAKsU,GAJjCiiD,EAAYv2D,KAAKsU,IAOrB,IAAIuiD,EAAc3P,EAAW1nD,OAE7B,IAASlC,EAAI,EAAGA,EAAIu5D,EAAav5D,IAAK,CACpC,IAAIoqD,EAAYR,EAAW5pD,GAC3B,IAAIoqD,EAAU1pB,UAAd,CACI1pB,EAAQozC,EAAUta,WAEjBsa,EAAU9qB,YAKfU,EAAOt9B,KAAKsU,GAJViiD,EAAYv2D,KAAKsU,IAOrB,MAAO,CACL8W,MAAOA,EACPkrC,YAAaA,EACbjrC,MAAOA,EACPkrC,YAAaA,EACbj5B,OAAQA,EACRw5B,aAvDiB,GAwDjBN,WAAYA,IAIhBZ,EAAiB12D,UAAU63D,eAAiB,SAAUtN,EAAcP,GAClE,IAAIz8B,EAAQvvB,KAEZ,OAAO,IAAIiU,SAAQ,SAAU6lD,EAAS3lD,GACpC,IAAI4a,EAAQQ,EAAMR,MACd4pC,EAAa3M,aAA6C,EAASA,EAAU7oD,KAEjF6oD,EAAU+N,YAAc,WACtBhrC,EAAM3S,KAAK,iBAAkB,CAC3BjZ,KAAMw1D,IAERmB,KAGFvN,EAAahmD,KAAKgpB,EAAM1qB,MAEL,UAAf8zD,IACFpM,EAAayN,SAAU,EACvBzN,EAAa0N,gBAAgBC,QAG/BnrC,EAAM3S,KAAK,kBAAmB,CAC5BjZ,KAAMw1D,IAERpM,EAAa4N,UACT5N,EAAa6N,gBAAkBpO,EAAU+N,aAAa/N,EAAU+N,kBAKxErB,EAAiB12D,UAAUwqD,SAAW,SAAU6N,GAC9C,IAAI9qC,EAAQvvB,KAGR+uB,EADK/uB,KACM+uB,MACX6pC,EAFK54D,KAEc44D,cACnB5M,EAHKhsD,KAGUgsD,UAEnB,GAAIqO,EAAY,CACdr6D,KAAK6E,KAAO7E,KAAKm5D,mBACjB,IAAIjrC,EAAQluB,KAAK6E,KAAKqpB,MAEtB,IAAKA,EACH,OAAO,EAGTluB,KAAKs6D,cAActO,EAAUj7B,OAAQ7C,GAGvCa,EAAM3S,KAAK,gBACX,IAAIm+C,EAAQtmD,QAAQC,UACpB0kD,SAA8DA,EAAcnoD,SAAQ,SAAU87C,EAAc1pD,GAC1G,IAAI23D,EAAaxO,EAAUnpD,GAC3B03D,EAAQA,EAAM9lD,MAAK,WACjB,OAAO8a,EAAMsqC,eAAetN,EAAciO,SAG9CD,EAAM9lD,MAAK,WACLu3C,EAAUyO,gBAAgBzO,EAAUyO,oBACvCC,OAAM,SAAUv6B,GACjB7lB,QAAQC,KAAK,kBAAmB4lB,OAKpCu4B,EAAiB12D,UAAU24D,iBAAmB,SAAU91D,EAAMuY,GAC5D,IAQIw9C,EACAC,EATA3sC,EAAQrpB,EAAKqpB,MACbC,EAAQtpB,EAAKspB,MACbwb,EAAO,YAAO9kC,EAAM,CAAC,QAAS,UAElC,IAAKqpB,EACH,OAAOrpB,EAcT,GAPE+1D,EADE,qBAAWx9C,aAAiC,EAASA,EAAIw9C,aAC7Cx9C,EAAIw9C,YAEJ,WACZ,OAAO,GAIP,qBAAWx9C,aAAiC,EAASA,EAAI09C,aAC3DD,EAAcz9C,EAAI09C,gBACb,CACL,IAAIC,EAAa7sC,EAAMhpB,QAAO,SAAU81D,EAAKC,GAE3C,OADAD,EAAIC,EAAI7sC,KAAM,EACP4sC,IACN,IAEHH,EAAc,SAAqBj6B,GACjC,OAAOm6B,EAAWn6B,EAAK5S,SAAW+sC,EAAWn6B,EAAK3S,SAItD,OAAO,YAAS,CACdC,MAAOA,EAAMxrB,OAAOk4D,GACpBzsC,MAAOA,EAAMzrB,OAAOm4D,IACnBlxB,IAGL+uB,EAAiB12D,UAAUk5D,cAAgB,SAAUhtC,GACnD,IAAIa,EAAQ/uB,KAAK+uB,MACbosC,EAAkB,kBAAQpsC,EAAMslB,YAAY,SAAUxyC,GACxD,OAAOA,EAAEquC,WAAWkrB,eAElBC,EAAcv6D,OAAOkC,OAAOm4D,GAAiB5qD,KAAI,SAAUlP,GAC7D,IAAIiyB,EAAOgQ,GAAqBjiC,GAEhC,OADAiyB,EAAKpjB,KAAO,CAACojB,EAAK/gB,MAAO+gB,EAAKxS,QACvBwS,KAGT,MAAO,CACLgoC,WAFex6D,OAAOkC,OAAO,kBAAQkrB,EAAO,gBAG5CmtC,YAAaA,IAMjB3C,EAAiB12D,UAAUu5D,cAAgB,aAG3C7C,EAAiB12D,UAAUw5D,WAAa,WACtC,IAEIttC,EAFQluB,KAAK+uB,MACA9tB,IAAI,QACJitB,MAEjB,QAAmBjiB,IAAfiiB,EAAM,GAAGjM,GAAkC,OAAfiM,EAAM,GAAGjM,IAAc,GAAMiM,EAAM,GAAGjM,GAAtE,CAOA,IAHA,IAAIw5C,EAAa,CAAC,EAAG,GACjBhC,EAAavrC,EAAM5rB,OAEdlC,EAAI,EAAGA,EAAIq5D,EAAYr5D,IAAK,CACnC,IAAI0yB,EAAO5E,EAAM9tB,GACjBq7D,EAAW,IAAM3oC,EAAK7Q,EACtBw5C,EAAW,IAAM3oC,EAAKle,EAGxB6mD,EAAW,IAAMvtC,EAAM5rB,OACvBm5D,EAAW,IAAMvtC,EAAM5rB,OAEvB,IAASlC,EAAI,EAAGA,EAAIq5D,EAAYr5D,IAAK,EAC/B0yB,EAAO5E,EAAM9tB,IACZ6hB,GAAKw5C,EAAW,GACrB3oC,EAAKle,GAAK6mD,EAAW,MAKzB/C,EAAiB12D,UAAUs4D,cAAgB,SAAUvpC,EAAQ7C,GAC3D,IAAIa,EAAQ/uB,KAAK+uB,MAEjB,IAAKb,EACH,OAAO,EAGT,IAAIurC,EAAavrC,EAAQA,EAAM5rB,OAAS,EACxC,GAAKm3D,EAAL,CACA,IAAIlnD,EAA6B,IAArBwc,EAAM9tB,IAAI,SAClB6f,EAA+B,IAAtBiO,EAAM9tB,IAAI,UACnBy6D,EAAUr2D,KAAKu+B,KAAKv+B,KAAKuS,KAAK6hD,IAAelnD,EAAQuO,IAErD66C,EAAUppD,GAASmpD,EAAU,GAC7BE,EAAW96C,GAFAzb,KAAKu+B,KAAK61B,EAAaiC,GAEF,GAC/Br5D,SAASs5D,IAAaA,IAASA,EAAU,GACzCt5D,SAASu5D,IAAcD,IAASC,EAAW,GAKhD,IAJA,IAAIC,EAAS9qC,EAAO,GAAKxe,EAAQ,EAC7BupD,EAAS/qC,EAAO,GAAKjQ,EAAS,EAC9Bi7C,GAAa,EAER37D,EAAI,EAAGA,EAAIq5D,EAAYr5D,IAAK,CACnC,IAAI0yB,EAAO5E,EAAM9tB,GAEb,GAAM0yB,EAAK7Q,KACb85C,GAAa,EACbjpC,EAAK7Q,EAAI7hB,EAAIs7D,EAAUC,EAAUE,GAG/B,GAAM/oC,EAAKle,KACbmnD,GAAa,EACbjpC,EAAKle,EAAIvP,KAAKqS,MAAMtX,EAAIs7D,GAAWE,EAAWE,GAIlD,OAAOC,IAGTrD,EAAiB12D,UAAUugC,QAAU,WACnCviC,KAAK+uB,MAAQ,KACb/uB,KAAKk5D,uBACLl5D,KAAK8gC,WAAY,GAGnB43B,EAAiB12D,UAAUsjD,OAAS,SAAU4J,GAC5C,IAAI91C,EAE0B,QAA7BA,EAAKpZ,KAAK44D,qBAAkC,IAAPx/C,GAAyBA,EAAG3I,SAAQ,SAAU87C,GAClF,IAAInzC,EAEuF,QAA1FA,EAAKmzC,aAAmD,EAASA,EAAajH,cAA2B,IAAPlsC,GAAyBA,EAAG7Y,KAAKgsD,EAAc2C,OAI/IwJ,EA/WT,GCMe,GATb,SAAyB3pC,GACvB/uB,KAAK+uB,MAAQA,EACb/uB,KAAK8gC,WAAY,EACjB9gC,KAAKg8D,eNFT,SAAW1E,GAETA,EAAe,MAAI,QACnBA,EAAkB,SAAI,WACtBA,EAAa,IAAI,MACjBA,EAAgB,OAAI,SACpBA,EAAmB,UAAI,YACvBA,EAAiB,QAAI,UACrBA,EAAc,KAAI,OAClBA,EAAmB,UAAI,YACvBA,EAAmB,UAAI,YACvBA,EAAkB,SAAI,WACtBA,EAAiB,QAAI,UACrBA,EAAe,MAAI,OACnBA,EAAoB,WAAI,aACxBA,EAAmB,UAAI,YACvBA,EAAkB,SAAI,WACtBA,EAAiB,QAAI,UACrBA,EAAgB,OAAI,SACpBA,EAAe,MAAI,QACnBA,EAAoB,WAAI,YAExBA,EAAoB,WAAI,aACxBA,EAAmB,UAAI,YACvBA,EAAkB,SAAI,WACtBA,EAA2B,kBAAI,oBAC/BA,EAA0B,iBAAI,mBAC9BA,EAAyB,gBAAI,kBAC7BA,EAAyB,gBAAI,kBAC7BA,EAAwB,eAAI,iBAC5BA,EAAuB,cAAI,gBAC3BA,EAA0B,iBAAI,mBAC9BA,EAAyB,gBAAI,kBAC7BA,EAAwB,eAAI,iBAC5BA,EAAyB,gBAAI,kBAC7BA,EAAwB,eAAI,iBAC5BA,EAAuB,cAAI,gBAE3BA,EAAoB,WAAI,aACxBA,EAAuB,cAAI,gBAC3BA,EAAmB,UAAI,YACvBA,EAAuB,cAAI,gBAC3BA,EAAwB,eAAI,iBAC5BA,EAAwB,eAAI,iBAC5BA,EAAwB,eAAI,iBAC5BA,EAAmB,UAAI,YACvBA,EAAsB,aAAI,eAC1BA,EAAkB,SAAI,WACtBA,EAAqB,YAAI,cACzBA,EAAuB,cAAI,gBAC3BA,EAAsB,aAAI,eAC1BA,EAAqB,YAAI,cACzBA,EAAoB,WAAI,aAExBA,EAAqB,YAAI,cACzBA,EAAwB,eAAI,iBAC5BA,EAAoB,WAAI,aACxBA,EAAwB,eAAI,iBAC5BA,EAAyB,gBAAI,kBAC7BA,EAAyB,gBAAI,kBAC7BA,EAAyB,gBAAI,kBAC7BA,EAAoB,WAAI,aACxBA,EAAuB,cAAI,gBAC3BA,EAAmB,UAAI,YACvBA,EAAsB,aAAI,eAC1BA,EAAwB,eAAI,iBAC5BA,EAAuB,cAAI,gBAC3BA,EAAsB,aAAI,eAC1BA,EAAqB,YAAI,cAEzBA,EAAoB,WAAI,aACxBA,EAAuB,cAAI,gBAC3BA,EAAmB,UAAI,YACvBA,EAAuB,cAAI,gBAC3BA,EAAwB,eAAI,iBAC5BA,EAAwB,eAAI,iBAC5BA,EAAkB,SAAI,WACtBA,EAAqB,YAAI,cACzBA,EAAoB,WAAI,aAExBA,EAAsB,aAAI,eAC1BA,EAAyB,gBAAI,kBAC7BA,EAAqB,YAAI,cACzBA,EAA0B,iBAAI,mBAC9BA,EAA0B,iBAAI,mBAC9BA,EAA0B,iBAAI,mBAC9BA,EAAqB,YAAI,cACzBA,EAAwB,eAAI,iBAC5BA,EAAoB,WAAI,aACxBA,EAAuB,cAAI,gBAC3BA,EAAyB,gBAAI,kBAC7BA,EAAwB,eAAI,iBAC5BA,EAAuB,cAAI,gBAC3BA,EAAsB,aAAI,eAE1BA,EAAsB,aAAI,eAC1BA,EAAqB,YAAI,cACzBA,EAAuB,cAAI,gBAC3BA,EAAsB,aAAI,eAC1BA,EAA0B,iBAAI,mBAC9BA,EAAyB,gBAAI,kBAC7BA,EAA0B,iBAAI,mBAC9BA,EAAyB,gBAAI,kBAC7BA,EAAoC,2BAAI,6BACxCA,EAAmC,0BAAI,4BACvCA,EAA+B,sBAAI,wBACnCA,EAA8B,qBAAI,uBAClCA,EAA2B,kBAAI,oBAC/BA,EAA0B,iBAAI,mBAC9BA,EAA+B,sBAAI,wBACnCA,EAA8B,qBAAI,uBAClCA,EAA0B,iBAAI,mBAC9BA,EAAyB,gBAAI,kBAC7BA,EAAsB,aAAI,eAC1BA,EAAqB,YAAI,cACzBA,EAA0B,iBAAI,mBAC9BA,EAAyB,gBAAI,kBAC7BA,EAAoC,2BAAI,6BACxCA,EAAmC,0BAAI,4BACvCA,EAA4B,mBAAI,qBAChCA,EAA2B,kBAAI,oBAC/BA,EAAuB,cAAI,gBAC3BA,EAAsB,aAAI,eAC1BA,EAAqB,YAAI,cACzBA,EAAoB,WAAI,aACxBA,EAAmC,0BAAI,4BACvCA,EAAkC,yBAAI,2BACtCA,EAA0B,iBAAI,mBAC9BA,EAAgC,uBAAI,yBACpCA,EAA0B,iBAAI,mBAC9BA,EAAuB,cAAI,gBAC3BA,EAAmB,UAAI,YACvBA,EAAwB,eAAI,iBAC5BA,EAAqB,YAAI,cACzBA,EAAqB,YAAI,cAtI3B,CAuIGA,KAAYA,GAAU,KO/HzB,IAAI9qB,GAAe,GAAMA,aACrBS,GAAe,GAAMA,aACrBG,GAAgB,GAAMA,cACtBhe,GAAmB,EAASA,iBAC5B6sC,GAAa,GAaD,GAAMzvB,aACN,GAAMS,aACL,GAAMG,cACH,EAAShe,kB,mLC9BvB8sC,EAAY,iCACZC,EAAW,aAkCFC,MAhCf,SAAmBl6D,GACjB,IAAI0O,EAAO1O,GAAK,GAChB,OAAIoB,kBAAQsN,GACHA,EAGL9J,mBAAS8J,IACXA,EAAOA,EAAK7E,MAAMmwD,GAClB34D,eAAKqN,GAAM,SAACxJ,EAAMvE,GAGhB,IADAuE,EAAOA,EAAK2E,MAAMowD,IACT,GAAG75D,OAAS,EAAG,CACtB,IAAM0vB,EAAM5qB,EAAK,GAAGwE,OAAO,GAE3BxE,EAAKpB,OAAO,EAAG,EAAGoB,EAAK,GAAG2C,OAAO,IAEjC3C,EAAK,GAAK4qB,EAGZzuB,eAAK6D,GAAM,SAAUi1D,EAAKj8D,GACnBuF,MAAM02D,KAETj1D,EAAKhH,IAAMi8D,MAIfzrD,EAAK/N,GAASuE,KAETwJ,QAtBT,G,OCmIa0rD,MAxCf,SACEC,EACApiC,EACAqiC,QADA,QAAAriC,WACA,QAAAqiC,GACE,CAAE,EAAG,GACL,CAAE,EAAG,KAKP,IAFA,IAAMC,IAAWtiC,EACXuiC,EAAmB,GAChBt8D,EAAI,EAAGC,EAAIk8D,EAAIj6D,OAAQlC,EAAIC,EAAGD,GAAK,EAC1Cs8D,EAAU55D,KAAK,CAAEy5D,EAAIn8D,GAAIm8D,EAAIn8D,EAAI,KAGnC,IAIIu8D,EACAC,EACA16D,EANE26D,EA/GR,SAAsB/rC,EAAegsC,EAAgBL,EAAiBD,GACpE,IAGIO,EACAC,EACAz3D,EACAD,EACA23D,EACAN,EACAO,EATEC,EAAc,GACdC,IAAkBZ,EAUxB,GAAIY,EAAe,CACf73D,EAAai3D,EAAU,GAAlBl3D,EAAQk3D,EAAU,GACzB,IAAK,IAAIp8D,EAAI,EAAGC,EAAIywB,EAAOxuB,OAAQlC,EAAIC,EAAGD,GAAK,EAAG,CAChD,IAAMywB,EAAQC,EAAO1wB,GACrBmF,EAAM83D,IAAK93D,IAAI,CAAE,EAAG,GAAKA,EAAKsrB,GAC9BvrB,EAAM+3D,IAAK/3D,IAAI,CAAE,EAAG,GAAKA,EAAKurB,IAIzBzwB,EAAI,EAAb,IAAK,IAAWqD,EAAMqtB,EAAOxuB,OAAQlC,EAAIqD,EAAKrD,GAAK,EAAG,CAC9CywB,EAAQC,EAAO1wB,GACrB,GAAU,IAANA,GAAYq8D,EAET,GAAIr8D,IAAMqD,EAAM,GAAMg5D,EAItB,CAELM,EAAYjsC,EADI,CAAE1wB,EAAIA,EAAI,EAAIqD,EAAM,EAAGrD,EAAI,GAAIq8D,EAAS,EAAI,IAE5DO,EAAYlsC,EAAO2rC,GAAUr8D,EAAI,GAAKqD,EAAMrD,EAAI,GAEhD,IAAIsF,EAAU,CAAE,EAAG,GACnBA,EAAI23D,IAAKhB,IAAI32D,EAAGs3D,EAAWD,GAC3Br3D,EAAI23D,IAAKphC,MAAMv2B,EAAGA,EAAGo3D,GAErB,IAAIQ,EAAKD,IAAKtwC,SAAS8D,EAAOksC,GAC1BQ,EAAKF,IAAKtwC,SAAS8D,EAAOmsC,GAExBQ,EAAMF,EAAKC,EACL,IAARC,IACFF,GAAME,EACND,GAAMC,GAGR,IAAIC,EAAKJ,IAAKphC,MAAM,CAAE,EAAG,GAAKv2B,GAAI43D,GAC9BI,EAAKL,IAAKphC,MAAM,CAAE,EAAG,GAAKv2B,EAAG63D,GAEjCZ,EAAMU,IAAKjjB,IAAI,CAAE,EAAG,GAAKvpB,EAAO4sC,GAChCR,EAAUI,IAAKjjB,IAAI,CAAE,EAAG,GAAKvpB,EAAO6sC,GAGpCT,EAAUI,IAAK93D,IAAI,CAAE,EAAG,GAAK03D,EAASI,IAAK/3D,IAAI,CAAE,EAAG,GAAK03D,EAAWnsC,IACpEosC,EAAUI,IAAK/3D,IAAI,CAAE,EAAG,GAAK23D,EAASI,IAAK93D,IAAI,CAAE,EAAG,GAAKy3D,EAAWnsC,IAGpE4sC,EAAKJ,IAAKhB,IAAI,CAAE,EAAG,GAAKY,EAASpsC,GACjC4sC,EAAKJ,IAAKphC,MAAM,CAAE,EAAG,GAAKwhC,GAAKH,EAAKC,GACpCZ,EAAMU,IAAKjjB,IAAI,CAAE,EAAG,GAAKvpB,EAAO4sC,GAGhCd,EAAMU,IAAK93D,IAAI,CAAE,EAAG,GAAKo3D,EAAKU,IAAK/3D,IAAI,CAAE,EAAG,GAAKy3D,EAAWlsC,IAC5D8rC,EAAMU,IAAK/3D,IAAI,CAAE,EAAG,GAAKq3D,EAAKU,IAAK93D,IAAI,CAAE,EAAG,GAAKw3D,EAAWlsC,IAG5D6sC,EAAKL,IAAKhB,IAAI,CAAE,EAAG,GAAKxrC,EAAO8rC,GAC/Be,EAAKL,IAAKphC,MAAM,CAAE,EAAG,GAAKyhC,EAAIH,EAAKD,GACnCL,EAAUI,IAAKjjB,IAAI,CAAE,EAAG,GAAKvpB,EAAO6sC,GAEhCN,IACFT,EAAMU,IAAK/3D,IAAI,CAAE,EAAG,GAAKq3D,EAAKp3D,GAC9Bo3D,EAAMU,IAAK93D,IAAI,CAAE,EAAG,GAAKo3D,EAAKr3D,GAC9B23D,EAAUI,IAAK/3D,IAAI,CAAE,EAAG,GAAK23D,EAAS13D,GACtC03D,EAAUI,IAAK93D,IAAI,CAAE,EAAG,GAAK03D,EAAS33D,IAGxC63D,EAAIr6D,KAAKo6D,GACTC,EAAIr6D,KAAK65D,GACTO,EAAMD,OAtDNN,EAAM9rC,EACNssC,EAAIr6D,KAAKo6D,GACTC,EAAIr6D,KAAK65D,QAJTO,EAAMrsC,EAgEV,OAJI4rC,GACFU,EAAIr6D,KAAKq6D,EAAIQ,SAGRR,EAuBkBS,CAAalB,EAAW,GAAKD,EAAQD,GACxD/4D,EAAMi5D,EAAUp6D,OAChBi7D,EAAoB,GAM1B,IAASn9D,EAAI,EAAGA,EAAIqD,EAAM,EAAGrD,GAAK,EAChCu8D,EAAME,EAAqB,EAAJz8D,GACvBw8D,EAAMC,EAAqB,EAAJz8D,EAAQ,GAC/B8B,EAAIw6D,EAAUt8D,EAAI,GAElBm9D,EAAGz6D,KAAK,CAAE,IAAK65D,EAAI,GAAIA,EAAI,GAAIC,EAAI,GAAIA,EAAI,GAAI16D,EAAE,GAAIA,EAAE,KAUzD,OAPIu6D,IACFE,EAAME,EAAiBp5D,GACvBm5D,EAAMC,EAAiBp5D,EAAM,GAC3BvB,EAAMw6D,EAAS,GAEjBa,EAAGz6D,KAAK,CAAE,IAAK65D,EAAI,GAAIA,EAAI,GAAIC,EAAI,GAAIA,EAAI,GAAI16D,EAAE,GAAIA,EAAE,MAElDq7D,GCzIT,IAAMM,EAAS,2CACTC,EAAe,IAAIzgC,OAAO,WAAawgC,EAAS,wCAA0CA,EAAS,QAAUA,EAAS,QAAS,MAC/HE,EAAc,IAAI1gC,OAAO,qCAAuCwgC,EAAS,QAAUA,EAAS,KAAM,MAG1F,SAAUG,EAAgBC,GACtC,IAAKA,EACH,OAAO,KAGT,GAAI36D,kBAAQ26D,GACV,OAAOA,EAET,IAAMC,EAAc,CAClBz5D,EAAG,EACHhE,EAAG,EACHI,EAAG,EACH2W,EAAG,EACHnX,EAAG,EACHG,EAAG,EACHU,EAAG,EACH8yB,EAAG,EACH7xB,EAAG,EACHb,EAAG,EACHoE,EAAG,EACH+R,EAAG,EACH0iB,EAAG,GAECt1B,EAAO,GA6Bb,OA3BAwO,OAAO4qD,GAAY11D,QAAQu1D,GAAc,SAAUr5D,EAAGmC,EAAGnG,GACvD,IAAM09D,EAAS,GACXx9D,EAAOiG,EAAE8E,cAYb,GAXAjL,EAAE8H,QAAQw1D,GAAa,SAAUt5D,EAAGmC,GAClCA,GAAKu3D,EAAOr7D,MAAM8D,MAEP,MAATjG,GAAgBw9D,EAAO77D,OAAS,IAClCuC,EAAK/B,KAAK,CAAE8D,GAAI5B,OAAOm5D,EAAOn4D,OAAO,EAAG,KACxCrF,EAAO,IACPiG,EAAU,MAANA,EAAY,IAAM,KAEX,MAATjG,GAAkC,IAAlBw9D,EAAO77D,QACzBuC,EAAK/B,KAAK,CAAE8D,EAAGu3D,EAAO,KAEX,MAATx9D,EACFkE,EAAK/B,KAAK,CAAE8D,GAAI5B,OAAOm5D,SAEvB,KAAOA,EAAO77D,QAAU47D,EAAYv9D,KAClCkE,EAAK/B,KAAK,CAAE8D,GAAI5B,OAAOm5D,EAAOn4D,OAAO,EAAGk4D,EAAYv9D,MAC/Cu9D,EAAYv9D,MAKrB,MAAO,MAGFkE,EC1DT,IAAMu5D,EAAW,QAEjB,SAASC,EAAWn8D,EAAGzB,GACrB,MAAO,CACLA,EAAE,IAAMA,EAAE,GAAKyB,EAAE,IACjBzB,EAAE,IAAMA,EAAE,GAAKyB,EAAE,KAIP,SAAUo8D,EAAeL,GACrC,IAAMM,EAAYP,EAAgBC,GAElC,IAAKM,IAAcA,EAAUj8D,OAC3B,MAAO,CACL,CAAE,IAAK,EAAG,IAId,IADA,IAAIk8D,GAAc,EACTp+D,EAAI,EAAGA,EAAIm+D,EAAUj8D,OAAQlC,IAAK,CACzC,IAAMq+D,EAAMF,EAAUn+D,GAAG,GAEzB,GAAIg+D,EAAS9gC,KAAKmhC,IAAQ,CAAE,IAAK,IAAK,IAAK,KAAMh8D,QAAQg8D,IAAQ,EAAG,CAClED,GAAc,EACd,OAKJ,IAAKA,EACH,OAAOD,EAGT,IAAM5lB,EAAM,GACR12B,EAAI,EACJrN,EAAI,EACJ8pD,EAAK,EACLC,EAAK,EACLpE,EAAQ,EAGNtlC,EAAQspC,EAAU,GACP,MAAbtpC,EAAM,IAA2B,MAAbA,EAAM,KAG5BypC,EAFAz8C,GAAKgT,EAAM,GAGX0pC,EAFA/pD,GAAKqgB,EAAM,GAGXslC,IACA5hB,EAAI,GAAK,CAAE,IAAK12B,EAAGrN,IAGZxU,EAAIm6D,EAAb,IAAK,IAAe1gD,EAAK0kD,EAAUj8D,OAAQlC,EAAIyZ,EAAIzZ,IAAK,CACtD,IAAM49B,EAAKugC,EAAUn+D,GACfw+D,EAAYjmB,EAAIv4C,EAAI,GACtBc,EAAI,GAEF29D,GADAJ,EAAMzgC,EAAG,IACG7xB,cAClB,GAAIsyD,IAAQI,EAEV,OADA39D,EAAE,GAAK29D,EACCA,GACN,IAAK,IACH39D,EAAE,GAAK88B,EAAG,GACV98B,EAAE,GAAK88B,EAAG,GACV98B,EAAE,GAAK88B,EAAG,GACV98B,EAAE,GAAK88B,EAAG,GACV98B,EAAE,GAAK88B,EAAG,GACV98B,EAAE,IAAM88B,EAAG,GAAK/b,EAChB/gB,EAAE,IAAM88B,EAAG,GAAKppB,EAChB,MACF,IAAK,IACH1T,EAAE,IAAM88B,EAAG,GAAKppB,EAChB,MACF,IAAK,IACH1T,EAAE,IAAM88B,EAAG,GAAK/b,EAChB,MACF,IAAK,IACHy8C,GAAM1gC,EAAG,GAAK/b,EACd08C,GAAM3gC,EAAG,GAAKppB,EACd1T,EAAE,GAAKw9D,EACPx9D,EAAE,GAAKy9D,EACP,MACF,QACE,IAAK,IAAIh3D,EAAI,EAAGm3D,EAAK9gC,EAAG17B,OAAQqF,EAAIm3D,EAAIn3D,IACtCzG,EAAEyG,IAAMq2B,EAAGr2B,IAAOA,EAAI,EAAKsa,EAAIrN,QAIrC1T,EAAIq9D,EAAUn+D,GAGhB,OAAQy+D,GACN,IAAK,IACH58C,GAAKy8C,EACL9pD,GAAK+pD,EACL,MACF,IAAK,IAEHz9D,EAAI,CAAE,IADN+gB,EAAI/gB,EAAE,GACQ0T,GACd,MACF,IAAK,IAEH1T,EAAI,CAAE,IAAK+gB,EADXrN,EAAI1T,EAAE,IAEN,MACF,IAAK,IACH+gB,EAAI/gB,EAAE,GACN0T,EAAI1T,EAAE,GAGN,IAAM69D,EAAYV,EAAW,CAAEO,EAAU,GAAIA,EAAU,IAAM,CAAEA,EAAU,GAAIA,EAAU,KACvF19D,EAAI,CAAE,IAAK69D,EAAU,GAAIA,EAAU,GAAI98C,EAAGrN,GAC1C,MACF,IAAK,IACHqN,EAAI/gB,EAAEA,EAAEoB,OAAS,GACjBsS,EAAI1T,EAAEA,EAAEoB,OAAS,GAGjB,IAAMggC,EAASs8B,EAAUt8D,OACnB08D,EAAYX,EAChB,CAAEO,EAAUt8B,EAAS,GAAIs8B,EAAUt8B,EAAS,IAC5C,CAAEs8B,EAAUt8B,EAAS,GAAIs8B,EAAUt8B,EAAS,KAC9CphC,EAAI,CAAE,IAAK89D,EAAU,GAAIA,EAAU,GAAI99D,EAAE,GAAIA,EAAE,GAAI+gB,EAAGrN,GACtD,MACF,IAAK,IACH8pD,EAAKx9D,EAAEA,EAAEoB,OAAS,GAClBq8D,EAAKz9D,EAAEA,EAAEoB,OAAS,GAClB,MACF,QACE2f,EAAI/gB,EAAEA,EAAEoB,OAAS,GACjBsS,EAAI1T,EAAEA,EAAEoB,OAAS,GAErBq2C,EAAI71C,KAAK5B,GAGX,OAAOy3C,ECrIGtzC,KAAK6F,GCGjB,SAAS+zD,EAAKv5D,GACZ,OAAOL,KAAKuS,KAAKlS,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAI1C,SAASw5D,EAAOznD,EAAG/R,GAEjB,OAAOu5D,EAAKxnD,GAAKwnD,EAAKv5D,IAAM+R,EAAE,GAAK/R,EAAE,GAAK+R,EAAE,GAAK/R,EAAE,KAAOu5D,EAAKxnD,GAAKwnD,EAAKv5D,IAAM,EAIjF,SAASy5D,EAAO1nD,EAAG/R,GACjB,OAAQ+R,EAAE,GAAK/R,EAAE,GAAK+R,EAAE,GAAK/R,EAAE,IAAM,EAAI,GAAKL,KAAK+5D,KAAKF,EAAOznD,EAAG/R,IAQ9D,SAAU25D,EAAYC,EAAQC,GAClC,OAAOD,EAAO,KAAOC,EAAO,IAAMD,EAAO,KAAOC,EAAO,GAI3C,SAAUC,EAAarkC,EAAYgjC,GAC/C,IAAItsC,EAAKssC,EAAO,GACZrsC,EAAKqsC,EAAO,GACVsB,EAAYz0D,cAAIO,mBAAS4yD,EAAO,IAAe,EAAV94D,KAAK6F,IAC1Cw0D,EAAUvB,EAAO,GACjBwB,EAAYxB,EAAO,GAEnBzoC,EAAKyF,EAAW,GAChBxF,EAAKwF,EAAW,GAEhBvF,EAAKuoC,EAAO,GACZtoC,EAAKsoC,EAAO,GACZyB,EAAMv6D,KAAKwS,IAAI4nD,IAAc/pC,EAAKE,GAAO,EAAOvwB,KAAKyS,IAAI2nD,IAAc9pC,EAAKE,GAAO,EACnFgqC,GAAO,EAAIx6D,KAAKyS,IAAI2nD,IAAc/pC,EAAKE,GAAO,EAAOvwB,KAAKwS,IAAI4nD,IAAc9pC,EAAKE,GAAO,EACxFiqC,EAAUF,EAAKA,GAAO/tC,EAAKA,GAAOguC,EAAKA,GAAO/tC,EAAKA,GAErDguC,EAAS,IACXjuC,GAAMxsB,KAAKuS,KAAKkoD,GAChBhuC,GAAMzsB,KAAKuS,KAAKkoD,IAElB,IAAMC,EAAOluC,EAAKA,GAAMguC,EAAKA,GAAM/tC,EAAKA,GAAM8tC,EAAKA,GAE/CnyD,EAAIsyD,EAAO16D,KAAKuS,MAAMia,EAAKA,GAAMC,EAAKA,GAAMiuC,GAAQA,GAAQ,EAE5DL,IAAYC,IACdlyD,IAAM,GAEJ9H,MAAM8H,KACRA,EAAI,GAIN,IAAMuyD,EAAMluC,EAAMrkB,EAAIokB,EAAKguC,EAAM/tC,EAAK,EAChCmuC,EAAMpuC,EAAMpkB,GAAKqkB,EAAK8tC,EAAM/tC,EAAK,EAGjCX,GAAMwE,EAAKE,GAAM,EAAMvwB,KAAKwS,IAAI4nD,GAAaO,EAAM36D,KAAKyS,IAAI2nD,GAAaQ,EACzE9uC,GAAMwE,EAAKE,GAAM,EAAMxwB,KAAKyS,IAAI2nD,GAAaO,EAAM36D,KAAKwS,IAAI4nD,GAAaQ,EAGzExoD,EAAI,EAAGmoD,EAAKI,GAAOnuC,GAAKguC,EAAKI,GAAOnuC,GAEpCpsB,EAAI,GAAI,EAAIk6D,EAAKI,GAAOnuC,IAAM,EAAIguC,EAAKI,GAAOnuC,GAE9CouC,EAAQf,EAAO,CAAE,EAAG,GAAK1nD,GAG3B0oD,EAAShB,EAAO1nD,EAAG/R,GAcvB,OAZIw5D,EAAOznD,EAAG/R,KAAO,IACnBy6D,EAAS96D,KAAK6F,IAEZg0D,EAAOznD,EAAG/R,IAAM,IAClBy6D,EAAS,GAEO,IAAdR,GAAmBQ,EAAS,IAC9BA,GAAkB,EAAI96D,KAAK6F,IAEX,IAAdy0D,GAAmBQ,EAAS,IAC9BA,GAAkB,EAAI96D,KAAK6F,IAEtB,CACLgmB,GAAE,EACFC,GAAE,EAEFU,GAAIwtC,EAAYlkC,EAAY,CAAEvF,EAAIC,IAAQ,EAAIhE,EAC9CC,GAAIutC,EAAYlkC,EAAY,CAAEvF,EAAIC,IAAQ,EAAI/D,EAC9CsuC,WAAYF,EACZG,SAAUH,EAAQC,EAClBV,UAAS,EACTC,QAAO,EACPC,UAAS,GC9Fb,SAAStB,EAAWxtC,EAAOE,GACzB,MAAO,CAAEA,EAAO,IAAMA,EAAO,GAAKF,EAAM,IAAKE,EAAO,IAAMA,EAAO,GAAKF,EAAM,KAGhE,SAAUyvC,EAAY1vD,GAQlC,IANA,IAAM0pC,EAAW,GACbimB,EAAe,KACfC,EAAa,KACbC,EAAiB,KACjBC,EAA0B,EACxB/mD,GANN/I,EAAOwrD,EAAUxrD,IAMEtO,OACVlC,EAAI,EAAGA,EAAIuZ,EAAOvZ,IAAK,CAC9B,IAAM+9D,EAASvtD,EAAKxQ,GACpBogE,EAAa5vD,EAAKxQ,EAAI,GACtB,IAAMugE,EAAUxC,EAAO,GAEjB1jB,EAAU,CACdkmB,QAAO,EACP7uB,SAAUyuB,EACVpC,OAAM,EACNyC,aAAc,KACdC,WAAY,MAEd,OAAQF,GACN,IAAK,IACHF,EAAiB,CAAEtC,EAAO,GAAIA,EAAO,IACrCuC,EAA0BtgE,EAC1B,MACF,IAAK,IACH,IAAM0gE,EAAYtB,EAAae,EAAcpC,GAC7C1jB,EAAO,UAAgBqmB,EAK3B,GAAgB,MAAZH,EAEFJ,EAAeE,EAEfD,EAAa5vD,EAAK8vD,EAA0B,OACvC,CACL,IAAMj9D,EAAM06D,EAAO77D,OACnBi+D,EAAe,CAAEpC,EAAO16D,EAAM,GAAI06D,EAAO16D,EAAM,IAE7C+8D,GAAgC,MAAlBA,EAAW,KAE3BA,EAAa5vD,EAAK8vD,GACdpmB,EAASomB,KAEXpmB,EAASomB,GAAyB5uB,SAAWyuB,IAGjD9lB,EAAO,aAAmB8lB,EAGxBjmB,EAASomB,IACTrB,EAAYkB,EAAcjmB,EAASomB,GAAyBH,gBAE5DjmB,EAASomB,GAAyB5uB,SAAW2I,EAAQ3I,UAEvD,IAAMkrB,EAAYwD,EAAa,CAAEA,EAAWA,EAAWl+D,OAAS,GAAIk+D,EAAWA,EAAWl+D,OAAS,IAAO,KAC1Gm4C,EAAO,UAAgBuiB,EAEf,MAAaviB,EAAO,SAC5B,GAAI,CAAE,IAAK,IAAK,KAAM3pC,SAAS6vD,GAC7BlmB,EAAQmmB,aAAe,CAAE9uB,EAAS,GAAKyuB,EAAa,GAAIzuB,EAAS,GAAKyuB,EAAa,IACnF9lB,EAAQomB,WAAa,CAAEN,EAAa,GAAKzuB,EAAS,GAAIyuB,EAAa,GAAKzuB,EAAS,SAC5E,GAAgB,MAAZ6uB,EAAiB,CAE1B,IAAMI,EAAK,CAAE5C,EAAO,GAAIA,EAAO,IAE/B1jB,EAAQmmB,aAAe,CAAE9uB,EAAS,GAAKivB,EAAG,GAAIjvB,EAAS,GAAKivB,EAAG,IAC/DtmB,EAAQomB,WAAa,CAAEN,EAAa,GAAKQ,EAAG,GAAIR,EAAa,GAAKQ,EAAG,SAChE,GAAgB,MAAZJ,EAAiB,CAEpBI,EAAK1C,GADL2C,EAAa1mB,EAASl6C,EAAI,IACCmgE,aAAczuB,GACpB,MAAvBkvB,EAAWL,SACblmB,EAAQkmB,QAAU,IAClBlmB,EAAQmmB,aAAe,CAAE9uB,EAAS,GAAKivB,EAAG,GAAIjvB,EAAS,GAAKivB,EAAG,IAC/DtmB,EAAQomB,WAAa,CAAEN,EAAa,GAAKQ,EAAG,GAAIR,EAAa,GAAKQ,EAAG,MAErEtmB,EAAQkmB,QAAU,KAClBlmB,EAAQmmB,aAAe,CAAE9uB,EAAS,GAAKyuB,EAAa,GAAIzuB,EAAS,GAAKyuB,EAAa,IACnF9lB,EAAQomB,WAAa,CAAEN,EAAa,GAAKzuB,EAAS,GAAIyuB,EAAa,GAAKzuB,EAAS,UAE9E,GAAgB,MAAZ6uB,EAAiB,CAE1B,IAAMhE,EAAM,CAAEwB,EAAO,GAAIA,EAAO,IAC1BvB,EAAM,CAAEuB,EAAO,GAAIA,EAAO,IAChC1jB,EAAQmmB,aAAe,CAAE9uB,EAAS,GAAK6qB,EAAI,GAAI7qB,EAAS,GAAK6qB,EAAI,IACjEliB,EAAQomB,WAAa,CAAEN,EAAa,GAAK3D,EAAI,GAAI2D,EAAa,GAAK3D,EAAI,IAGvC,IAA5BniB,EAAQmmB,aAAa,IAAwC,IAA5BnmB,EAAQmmB,aAAa,KACxDnmB,EAAQmmB,aAAe,CAACjE,EAAI,GAAKC,EAAI,GAAID,EAAI,GAAKC,EAAI,KAE1B,IAA1BniB,EAAQomB,WAAW,IAAsC,IAA1BpmB,EAAQomB,WAAW,KACpDpmB,EAAQomB,WAAa,CAACjE,EAAI,GAAKD,EAAI,GAAIC,EAAI,GAAKD,EAAI,UAEjD,GAAgB,MAAZgE,EAAiB,CAC1B,IAAMK,EACArE,EAAM0B,GADN2C,EAAa1mB,EAASl6C,EAAI,IACEmgE,aAAczuB,GAC1C8qB,EAAM,CAAEuB,EAAO,GAAIA,EAAO,IACL,MAAvB6C,EAAWL,SACblmB,EAAQkmB,QAAU,IAClBlmB,EAAQmmB,aAAe,CAAE9uB,EAAS,GAAK6qB,EAAI,GAAI7qB,EAAS,GAAK6qB,EAAI,IACjEliB,EAAQomB,WAAa,CAAEN,EAAa,GAAK3D,EAAI,GAAI2D,EAAa,GAAK3D,EAAI,MAEvEniB,EAAQkmB,QAAU,KAClBlmB,EAAQmmB,aAAe,CAAE9uB,EAAS,GAAK8qB,EAAI,GAAI9qB,EAAS,GAAK8qB,EAAI,IACjEniB,EAAQomB,WAAa,CAAEN,EAAa,GAAK3D,EAAI,GAAI2D,EAAa,GAAK3D,EAAI,UAEpE,GAAgB,MAAZ+D,EAAiB,CAC1B,IAAIjgE,EAAI,KACF,EAQF+5C,EAAO,WAAiB,GAP1BpS,OAAAnX,OAAE,MAAG,EAACmX,EACNkC,OAAApZ,OAAE,MAAG,EAACoZ,EACNC,OAAA3Y,OAAE,MAAG,EAAC2Y,EACN0oB,OAAAphC,OAAE,MAAG,EAACohC,EACN+N,cAAAtB,OAAS,MAAG,EAACsB,EACbC,eAAAd,OAAU,MAAG,EAACc,EACdC,aAAAd,OAAQ,MAAG,EAACc,EAEI,IAAdxB,IACFj/D,IAAM,GAER,IAAM0gE,EAAMvvC,EAAKxsB,KAAKwS,IAAIuoD,EAAa1/D,GAAKwwB,EACtCmwC,EAAMvvC,EAAKzsB,KAAKyS,IAAIsoD,EAAa1/D,GAAKywB,EAC5CspB,EAAQmmB,aAAe,CAAEQ,EAAMX,EAAe,GAAIY,EAAMZ,EAAe,IACvE,IAAMa,EAAMzvC,EAAKxsB,KAAKwS,IAAIuoD,EAAaC,EAAW3/D,GAAKwwB,EACjDqwC,EAAMzvC,EAAKzsB,KAAKyS,IAAIsoD,EAAaC,EAAW3/D,GAAKywB,EACvDspB,EAAQomB,WAAa,CAAE/uB,EAAS,GAAKwvB,EAAKxvB,EAAS,GAAKyvB,GAE1DjnB,EAASx3C,KAAK23C,GAEhB,OAAOH,I,gCC7IT,2NAKA,yBAAe,SAAU,iB,izCCLzB,IAqCe3nB,EArCC,SAAmB6uC,EAAW5uC,GAC5C,IAAI1E,EAAQszC,EAAUtzC,MAClBC,EAAQqzC,EAAUrzC,MAClB4D,EAAS,GAETc,EAAU,GAEd,IAAK3E,EACH,MAAM,IAAI7W,MAAM,uBA0BlB,OAvBI6W,GACFA,EAAMzd,SAAQ,SAAUqiB,EAAM1yB,GAC5ByyB,EAAQC,EAAK1E,IAAMhuB,EAEnB2xB,EAAOjvB,KADG,OAKVqrB,GACFA,EAAM1d,SAAQ,SAAUmwB,GACtB,IAAI5S,EAAS4S,EAAK5S,OACdC,EAAS2S,EAAK3S,OACd8E,EAASF,EAAQ7E,GACjBgF,EAASH,EAAQ5E,IAChB8E,GAAqB,IAAXA,IAAiBC,GAAqB,IAAXA,IAC1CjB,EAAOgB,GAAQC,GAAU,EAEpBJ,IACHb,EAAOiB,GAAQD,GAAU,OAKxBhB,GClCL0vC,EAAoB,SAA2Bh9D,EAAGmC,GACpD,OAAInC,IAAMmC,GAWR86D,EAEJ,WACE,SAASA,EAAergE,EAAOiT,QAChB,IAATA,IACFA,EAAO,MAGTtU,KAAKqB,MAAQA,EACbrB,KAAKsU,KAAOA,EAOd,OAJAotD,EAAe1/D,UAAUiB,SAAW,SAAUkjD,GAC5C,OAAOA,EAAWA,EAASnmD,KAAKqB,OAAS,GAAG2D,OAAOhF,KAAKqB,QAGnDqgE,EAdT,GAiQeC,EA5Of,WACE,SAASA,EAAWC,QACC,IAAfA,IACFA,EAAaH,GAGfzhE,KAAK6H,KAAO,KACZ7H,KAAKonC,KAAO,KACZpnC,KAAK8vB,QAAU8xC,EAiOjB,OAzNAD,EAAW3/D,UAAU6/D,QAAU,SAAUxgE,GAEvC,IAAIygE,EAAU,IAAIJ,EAAergE,EAAOrB,KAAK6H,MAO7C,OANA7H,KAAK6H,KAAOi6D,EAEP9hE,KAAKonC,OACRpnC,KAAKonC,KAAO06B,GAGP9hE,MAQT2hE,EAAW3/D,UAAU+/D,OAAS,SAAU1gE,GACtC,IAAIygE,EAAU,IAAIJ,EAAergE,GAEjC,OAAKrB,KAAK6H,MAOV7H,KAAKonC,KAAK9yB,KAAOwtD,EACjB9hE,KAAKonC,KAAO06B,EACL9hE,OARLA,KAAK6H,KAAOi6D,EACZ9hE,KAAKonC,KAAO06B,EACL9hE,OAcX2hE,EAAW3/D,UAAUggE,OAAS,SAAU3gE,GACtC,IAAKrB,KAAK6H,KACR,OAAO,KAKT,IAFA,IAAIo6D,EAAa,KAEVjiE,KAAK6H,MAAQ7H,KAAK8vB,QAAQ9vB,KAAK6H,KAAKxG,MAAOA,IAChD4gE,EAAajiE,KAAK6H,KAClB7H,KAAK6H,KAAO7H,KAAK6H,KAAKyM,KAGxB,IAAI4tD,EAAcliE,KAAK6H,KAEvB,GAAoB,OAAhBq6D,EAEF,KAAOA,EAAY5tD,MACbtU,KAAK8vB,QAAQoyC,EAAY5tD,KAAKjT,MAAOA,IACvC4gE,EAAaC,EAAY5tD,KACzB4tD,EAAY5tD,KAAO4tD,EAAY5tD,KAAKA,MAEpC4tD,EAAcA,EAAY5tD,KAUhC,OAJItU,KAAK8vB,QAAQ9vB,KAAKonC,KAAK/lC,MAAOA,KAChCrB,KAAKonC,KAAO86B,GAGPD,GAQTN,EAAW3/D,UAAUsC,KAAO,SAAU8U,GACpC,IAAIivB,EAAKjvB,EAAG/X,MACRA,OAAe,IAAPgnC,OAAgBp8B,EAAYo8B,EACpCkC,EAAKnxB,EAAG+sC,SACRA,OAAkB,IAAP5b,OAAgBt+B,EAAYs+B,EAE3C,IAAKvqC,KAAK6H,KACR,OAAO,KAKT,IAFA,IAAIq6D,EAAcliE,KAAK6H,KAEhBq6D,GAAa,CAElB,GAAI/b,GAAYA,EAAS+b,EAAY7gE,OACnC,OAAO6gE,EAIT,QAAcj2D,IAAV5K,GAAuBrB,KAAK8vB,QAAQoyC,EAAY7gE,MAAOA,GACzD,OAAO6gE,EAGTA,EAAcA,EAAY5tD,KAG5B,OAAO,MAOTqtD,EAAW3/D,UAAUmgE,WAAa,WAChC,IAAIC,EAAcpiE,KAAKonC,KAEvB,GAAIpnC,KAAK6H,OAAS7H,KAAKonC,KAIrB,OAFApnC,KAAK6H,KAAO,KACZ7H,KAAKonC,KAAO,KACLg7B,EAKT,IAFA,IAAIF,EAAcliE,KAAK6H,KAEhBq6D,EAAY5tD,MACZ4tD,EAAY5tD,KAAKA,KAGpB4tD,EAAcA,EAAY5tD,KAF1B4tD,EAAY5tD,KAAO,KAOvB,OADAtU,KAAKonC,KAAO86B,EACLE,GAOTT,EAAW3/D,UAAUqgE,WAAa,WAChC,IAAKriE,KAAK6H,KACR,OAAO,KAGT,IAAIy6D,EAActiE,KAAK6H,KASvB,OAPI7H,KAAK6H,KAAKyM,KACZtU,KAAK6H,KAAO7H,KAAK6H,KAAKyM,MAEtBtU,KAAK6H,KAAO,KACZ7H,KAAKonC,KAAO,MAGPk7B,GAQTX,EAAW3/D,UAAUugE,UAAY,SAAUv/D,GACzC,IAAIusB,EAAQvvB,KAKZ,OAHAgD,EAAOyN,SAAQ,SAAUpP,GACvB,OAAOkuB,EAAMwyC,OAAO1gE,MAEfrB,MAOT2hE,EAAW3/D,UAAUmsD,QAAU,WAI7B,IAHA,IAAIjgC,EAAQ,GACRg0C,EAAcliE,KAAK6H,KAEhBq6D,GACLh0C,EAAMprB,KAAKo/D,GACXA,EAAcA,EAAY5tD,KAG5B,OAAO4Z,GAOTyzC,EAAW3/D,UAAU06B,QAAU,WAK7B,IAJA,IAAIwlC,EAAcliE,KAAK6H,KACnB26D,EAAW,KACXC,EAAW,KAERP,GAELO,EAAWP,EAAY5tD,KAEvB4tD,EAAY5tD,KAAOkuD,EAEnBA,EAAWN,EACXA,EAAcO,EAGhBziE,KAAKonC,KAAOpnC,KAAK6H,KACjB7H,KAAK6H,KAAO26D,GAGdb,EAAW3/D,UAAUiB,SAAW,SAAUkjD,GAKxC,YAJiB,IAAbA,IACFA,OAAWl6C,GAGNjM,KAAKmuD,UAAU59C,KAAI,SAAUuiB,GAClC,OAAOA,EAAK7vB,SAASkjD,MACpBljD,YAGE0+D,EAzOT,GCmBee,EAlDf,WACE,SAASA,IACP1iE,KAAK2iE,WAAa,IAAIhB,EA6CxB,OAtCAe,EAAM1gE,UAAUiO,QAAU,WACxB,OAAQjQ,KAAK2iE,WAAW96D,MAO1B66D,EAAM1gE,UAAU4gE,KAAO,WACrB,OAAK5iE,KAAK2iE,WAAW96D,KAId7H,KAAK2iE,WAAW96D,KAAKxG,MAHnB,MAWXqhE,EAAM1gE,UAAU6gE,QAAU,SAAUxhE,GAClCrB,KAAK2iE,WAAWZ,OAAO1gE,IAOzBqhE,EAAM1gE,UAAU8gE,QAAU,WACxB,IAAIC,EAAa/iE,KAAK2iE,WAAWN,aACjC,OAAOU,EAAaA,EAAW1hE,MAAQ,MAGzCqhE,EAAM1gE,UAAUiB,SAAW,SAAUkjD,GACnC,OAAOnmD,KAAK2iE,WAAW1/D,SAASkjD,IAG3Buc,EA/CT,GCEWtvB,EAAe,SAAsB4vB,EAAQ70C,EAAOhrB,QAC/C,IAAVgrB,IACFA,EAAQ,IAGV,IAAI80C,EAAe90C,EAAMzrB,QAAO,SAAUk+B,GACxC,OAAOA,EAAK5S,SAAWg1C,GAAUpiC,EAAK3S,SAAW+0C,KAGnD,GAAa,WAAT7/D,EAAmB,CAMrB,OAAO8/D,EAAavgE,QAJQ,SAA+Bk+B,GACzD,OAAOA,EAAK5S,SAAWg1C,KAGyBzyD,KAAI,SAAUqwB,GAC9D,OAAOA,EAAK3S,UAIhB,GAAa,WAAT9qB,EAAmB,CAMrB,OAAO8/D,EAAavgE,QAJQ,SAA+Bk+B,GACzD,OAAOA,EAAK3S,SAAW+0C,KAGyBzyD,KAAI,SAAUqwB,GAC9D,OAAOA,EAAK5S,UAShB,OAAOi1C,EAAa1yD,KAJM,SAA6BqwB,GACrD,OAAOA,EAAK5S,SAAWg1C,EAASpiC,EAAK3S,OAAS2S,EAAK5S,WAsB5Ck1C,EAAmB,SAA0BF,EAAQ70C,GAC9D,OAAOA,EAAMzrB,QAAO,SAAUk+B,GAC5B,OAAOA,EAAK5S,SAAWg1C,GAAUpiC,EAAK3S,SAAW+0C,MAQ1CngC,EAAW,SAAkBhgC,QACxB,IAAVA,IACFA,EAAQ,GAGV,IAAIsgE,EAAU,GAAGn+D,OAAOK,KAAKy9B,UAAUt6B,MAAM,KAAK,GAAGuB,OAAO,EAAG,GAC3Dq5D,EAAU,GAAGp+D,OAAOK,KAAKy9B,UAAUt6B,MAAM,KAAK,GAAGuB,OAAO,EAAG,GAC/D,MAAO,GAAG/E,OAAOnC,EAAO,KAAKmC,OAAOm+D,GAASn+D,OAAOo+D,IC/BtD,IA2CeC,EA3CU,SAA4B7B,EAAW8B,EAAaC,EAAmB3wC,QAC7E,IAAbA,IACFA,GAAW,GAGb,IAAI4wC,EA1CN,SAAuBA,QACH,IAAdA,IACFA,EAAY,IAGd,IAKMC,EALFC,EAAoBF,EAEpBG,EAAe,aAEfC,GACEH,EAAO,GACJ,SAAUrqD,GACf,IACIgV,EADOhV,EAAG9E,KAGd,OAAKmvD,EAAKr1C,KACRq1C,EAAKr1C,IAAM,GACJ,KAUb,OAHAs1C,EAAkBG,eAAiBL,EAAUK,gBAAkBD,EAC/DF,EAAkBI,MAAQN,EAAUM,OAASH,EAC7CD,EAAkBK,MAAQP,EAAUO,OAASJ,EACtCD,EAeSM,CAAcT,GAC1BU,EAAY,IAAIvB,EAChBtpD,EAAKooD,EAAUrzC,MACfA,OAAe,IAAP/U,EAAgB,GAAKA,EAEjC6qD,EAAUpB,QAAQS,GA4BlB,IA3BA,IAAIY,EAAe,GAEf5kB,EAAU,WACZ,IAAI4iB,EAAc+B,EAAUnB,UAC5BU,EAAUM,MAAM,CACdliC,QAASsgC,EACT77D,SAAU69D,IAGZ9wB,EAAa8uB,EAAa/zC,EAAOyE,EAAW,cAAW3mB,GAAWwE,SAAQ,SAAUgyD,GAC9Ee,EAAUK,eAAe,CAC3Bx9D,SAAU69D,EACVtiC,QAASsgC,EACT5tD,KAAMmuD,KAENwB,EAAUpB,QAAQJ,MAGtBe,EAAUO,MAAM,CACdniC,QAASsgC,EACT77D,SAAU69D,IAGZA,EAAehC,IAIT+B,EAAUh0D,WAChBqvC,KCpBO6kB,EAAgC,SAAuC3C,GAoEhF,IAnEA,IAAIpoD,EAAKooD,EAAUtzC,MACfA,OAAe,IAAP9U,EAAgB,GAAKA,EAC7BivB,EAAKm5B,EAAUrzC,MACfA,OAAe,IAAPka,EAAgB,GAAKA,EAC7B+7B,EAAY,GACZC,EAAU,GAEVC,EAAU,GACVC,EAAU,GACVC,EAAgB,GAChB3hE,EAAQ,EAER4hE,EAAe,SAASA,EAAa3xC,GAEvCwxC,EAAQxxC,EAAK1E,IAAMvrB,EACnB0hE,EAAQzxC,EAAK1E,IAAMvrB,EACnBA,GAAS,EACTuhE,EAAUthE,KAAKgwB,GACfuxC,EAAQvxC,EAAK1E,KAAM,EA4BnB,IA1BA,IAAIs2C,EAAYtxB,EAAatgB,EAAK1E,GAAID,EAAO,UAAUzrB,QAAO,SAAUb,GACtE,OAAOqsB,EAAM3d,KAAI,SAAUuiB,GACzB,OAAOA,EAAK1E,MACX3rB,QAAQZ,IAAM,KAGfowD,EAAU,SAAiB7xD,GAC7B,IAAIukE,EAAeD,EAAUtkE,GAE7B,GAAKkkE,EAAQK,IAA2C,IAA1BL,EAAQK,GAW3BN,EAAQM,KAEjBJ,EAAQzxC,EAAK1E,IAAM/oB,KAAKE,IAAIg/D,EAAQzxC,EAAK1E,IAAKk2C,EAAQK,SAbG,CACzD,IAAI7pC,EAAa5M,EAAMxrB,QAAO,SAAUowB,GACtC,OAAOA,EAAK1E,KAAOu2C,KAGjB7pC,EAAWx4B,OAAS,GACtBmiE,EAAa3pC,EAAW,IAI1BypC,EAAQzxC,EAAK1E,IAAM/oB,KAAKE,IAAIg/D,EAAQzxC,EAAK1E,IAAKm2C,EAAQI,MAOjDvkE,EAAI,EAAGA,EAAIskE,EAAUpiE,OAAQlC,IACpC6xD,EAAQ7xD,GAIV,GAAImkE,EAAQzxC,EAAK1E,MAAQk2C,EAAQxxC,EAAK1E,IAAK,CAGzC,IAFA,IAAIw2C,EAAY,GAETR,EAAU9hE,OAAS,GAAG,CAC3B,IAAIuiE,EAAUT,EAAU9uD,MAGxB,GAFA+uD,EAAQQ,EAAQz2C,KAAM,EACtBw2C,EAAU9hE,KAAK+hE,GACXA,IAAY/xC,EAAM,MAGpB8xC,EAAUtiE,OAAS,GACrBkiE,EAAc1hE,KAAK8hE,KAKhBttC,EAAK,EAAGwtC,EAAU52C,EAAOoJ,EAAKwtC,EAAQxiE,OAAQg1B,IAAM,CAC3D,IAAIxE,EAAOgyC,EAAQxtC,GAEdgtC,EAAQxxC,EAAK1E,KAA4B,IAArBk2C,EAAQxxC,EAAK1E,KACpCq2C,EAAa3xC,GAIjB,OAAO0xC,GAEM,SAASO,EAAuBvD,EAAW5uC,GACxD,OAAIA,EAAiBuxC,EAA8B3C,GA3Id,SAAmCA,GAiCxE,IAhCA,IAAIpoD,EAAKooD,EAAUtzC,MACfA,OAAe,IAAP9U,EAAgB,GAAKA,EAC7BivB,EAAKm5B,EAAUrzC,MACfA,OAAe,IAAPka,EAAgB,GAAKA,EAC7Bm8B,EAAgB,GAChB3mB,EAAU,GACVumB,EAAY,GAEZK,EAAe,SAASA,EAAa3xC,GACvCsxC,EAAUthE,KAAKgwB,GACf+qB,EAAQ/qB,EAAK1E,KAAM,EAiBnB,IAhBA,IAAIs2C,EAAYtxB,EAAatgB,EAAK1E,GAAID,GAElCmxB,EAAU,SAAiBl/C,GAC7B,IAAI4kE,EAAWN,EAAUtkE,GAEzB,IAAKy9C,EAAQmnB,GAAW,CACtB,IAAIlqC,EAAa5M,EAAMxrB,QAAO,SAAUowB,GACtC,OAAOA,EAAK1E,KAAO42C,KAGjBlqC,EAAWx4B,OAAS,GACtBmiE,EAAa3pC,EAAW,MAKrB16B,EAAI,EAAGA,EAAIskE,EAAUpiE,SAAUlC,EACtCk/C,EAAQl/C,IAIHA,EAAI,EAAGA,EAAI8tB,EAAM5rB,OAAQlC,IAAK,CACrC,IAAI0yB,EAAO5E,EAAM9tB,GAEjB,IAAKy9C,EAAQ/qB,EAAK1E,IAAK,CAErBq2C,EAAa3xC,GAGb,IAFA,IAAI8xC,EAAY,GAETR,EAAU9hE,OAAS,GACxBsiE,EAAU9hE,KAAKshE,EAAU9uD,OAG3BkvD,EAAc1hE,KAAK8hE,IAIvB,OAAOJ,EA2FAS,CAA0BzD,GClJnC,IAAIh2D,EAAS,SAAgBg2D,GAC3B,IAAI1tC,EAAU,GACV1a,EAAKooD,EAAUtzC,MACfA,OAAe,IAAP9U,EAAgB,GAAKA,EAC7BivB,EAAKm5B,EAAUrzC,MACfA,OAAe,IAAPka,EAAgB,GAAKA,EAcjC,OAbAna,EAAMzd,SAAQ,SAAUqiB,GACtBgB,EAAQhB,EAAK1E,IAAM,CACjB5iB,OAAQ,EACRsiD,SAAU,EACVC,UAAW,MAGf5/B,EAAM1d,SAAQ,SAAUmwB,GACtB9M,EAAQ8M,EAAK5S,QAAQxiB,SACrBsoB,EAAQ8M,EAAK5S,QAAQ+/B,YACrBj6B,EAAQ8M,EAAK3S,QAAQziB,SACrBsoB,EAAQ8M,EAAK3S,QAAQ6/B,cAEhBh6B,GAGMtoB,IAOJ05D,EAAc,SAAqB1D,EAAWwB,GAGvD,OAFiBx3D,EAAOg2D,GAETwB,GACNx3D,EAAOg2D,GAAWwB,GAAQlV,SAG5B,GAQEqX,EAAe,SAAsB3D,EAAWwB,GAGzD,OAFiBx3D,EAAOg2D,GAETwB,GACNx3D,EAAOg2D,GAAWwB,GAAQjV,UAG5B,GCgBM,SAASqX,EAAiB5D,EAAW8B,EAAaE,IA7BjE,SAAS6B,EAA0B7D,EAAWU,EAAagC,EAAcV,GACvEA,EAAUM,MAAM,CACdliC,QAASsgC,EACT77D,SAAU69D,IAEZ,IAAI9qD,EAAKooD,EAAUrzC,MAEnBilB,EAAa8uB,OADM,IAAP9oD,EAAgB,GAAKA,EACA,UAAU3I,SAAQ,SAAUgyD,GACvDe,EAAUK,eAAe,CAC3Bx9D,SAAU69D,EACVtiC,QAASsgC,EACT5tD,KAAMmuD,KAEN4C,EAA0B7D,EAAWiB,EAAUP,EAAasB,MAGhEA,EAAUO,MAAM,CACdniC,QAASsgC,EACT77D,SAAU69D,IAYZmB,CAA0B7D,EAAW8B,EAAa,GAlEpD,SAAuBE,QACH,IAAdA,IACFA,EAAY,IAGd,IAKMC,EALFC,EAAoBF,EAEpBG,EAAe,aAEfC,GACEH,EAAO,GACJ,SAAUrqD,GACf,IAAI9E,EAAO8E,EAAG9E,KAEd,OAAKmvD,EAAKnvD,KACRmvD,EAAKnvD,IAAQ,GACN,KAUb,OAHAovD,EAAkBG,eAAiBL,EAAUK,gBAAkBD,EAC/DF,EAAkBI,MAAQN,EAAUM,OAASH,EAC7CD,EAAkBK,MAAQP,EAAUO,OAASJ,EACtCD,EAwC+CM,CAAcR,IChEtE,IA8EW8B,EAA2B,SAAkC9D,EAAWhhC,EAAS+kC,GAC1F,IAAInsD,EAAIivB,OAEQ,IAAZk9B,IACFA,GAAU,GAMZ,IAHA,IAAIC,EAAY,GAGPluC,EAAK,EAAGmuC,EAFAV,EAAuBvD,GAAW,GAEPlqC,EAAKmuC,EAAanjE,OAAQg1B,IAAM,CAC1E,IAAIstC,EAAYa,EAAanuC,GAC7B,GAAKstC,EAAUtiE,OAOf,IANA,IAAI5C,EAAOklE,EAAU,GACjBc,EAAShmE,EAAK0uB,GACdy5B,EAAQ,CAACnoD,GACTo+B,IAAY1kB,EAAK,IAAOssD,GAAUhmE,EAAM0Z,GACxCusD,IAAQt9B,EAAK,IAAOq9B,GAAU,IAAIE,IAAOv9B,GAEtCwf,EAAMvlD,OAAS,GAuEpB,IAtEA,IAAIujE,EAAUhe,EAAMvyC,MAChBwwD,EAAYD,EAAQz3C,GACpBs2C,EAAYtxB,EAAa0yB,EAAWtE,EAAUrzC,OAE9CmxB,EAAU,SAAiBl/C,GAC7B,IAAImqC,EAEAw7B,EAAarB,EAAUtkE,GACvB4kE,EAAWxD,EAAUtzC,MAAM5pB,MAAK,SAAUwuB,GAC5C,OAAOA,EAAK1E,KAAO23C,KAGrB,GAAIA,IAAeD,EAEjBN,EAAU1iE,OAAMynC,EAAK,IAAOw7B,GAAcF,EAASt7B,SAC9C,GAAMw7B,KAAcJ,GAKpB,IAAKA,EAAKG,GAAWz+D,IAAI29D,GAAW,CAMzC,IAJA,IAAIgB,GAAa,EACbC,EAAY,CAACjB,EAAUa,GACvB3jE,EAAI47B,EAASgoC,GAEVH,EAAKI,GAAY71D,OAASy1D,EAAKI,GAAY1+D,IAAInF,KACpD+jE,EAAUnjE,KAAKZ,GACXA,IAAM47B,EAAS57B,EAAEksB,MAAgBlsB,EAAI47B,EAAS57B,EAAEksB,IAwBtD,GArBA63C,EAAUnjE,KAAKZ,GAEXs+B,GAAW+kC,GAEbS,GAAa,EAETC,EAAUvhE,WAAU,SAAUouB,GAChC,OAAO0N,EAAQ/9B,QAAQqwB,EAAK1E,KAAO,MAC/B,IACJ43C,GAAa,IAENxlC,IAAY+kC,GAEjBU,EAAUvhE,WAAU,SAAUouB,GAChC,OAAO0N,EAAQ/9B,QAAQqwB,EAAK1E,KAAO,MAC/B,IACJ43C,GAAa,GAKbA,EAAY,CAGd,IAFA,IAAIE,EAAQ,GAEHrjE,EAAQ,EAAGA,EAAQojE,EAAU3jE,OAAQO,GAAS,EACrDqjE,EAAMD,EAAUpjE,EAAQ,GAAGurB,IAAM63C,EAAUpjE,GAGzCojE,EAAU3jE,SACZ4jE,EAAMD,EAAUA,EAAU3jE,OAAS,GAAG8rB,IAAM63C,EAAU,IAGxDT,EAAU1iE,KAAKojE,GAGjBP,EAAKI,GAAY3rB,IAAIyrB,SAjDrB/nC,EAASioC,GAAcF,EACvBhe,EAAM/kD,KAAKkiE,GACXW,EAAKI,GAAc,IAAIH,IAAI,CAACC,KAmDvBzlE,EAAI,EAAGA,EAAIskE,EAAUpiE,OAAQlC,GAAK,EACzCk/C,EAAQl/C,GAKd,OAAOolE,GAYEW,EAAyB,SAAgC3E,EAAWhhC,EAAS+kC,QACtE,IAAZA,IACFA,GAAU,GA8EZ,IA3EA,IAAI30D,EAAO,GAEPw1D,EAAU,IAAIR,IACdhtC,EAAI,GAEJ4sC,EAAY,GACZa,EAAW,GACXC,EAAW,GAkBXC,EAAU,SAASA,EAAQzzC,EAAMynC,EAAOiM,GAC1C,IAAIC,GAAS,EAEb,GAAIjmC,IAAuB,IAAZ+kC,GAAqB/kC,EAAQ/9B,QAAQqwB,EAAK1E,KAAO,EAAG,OAAOq4C,EAC1E71D,EAAK9N,KAAKgwB,GACVszC,EAAQhsB,IAAItnB,GAGZ,IAFA,IAAI4xC,EAAY8B,EAAQ1zC,EAAK1E,IAEpBhuB,EAAI,EAAGA,EAAIskE,EAAUpiE,OAAQlC,GAAK,EAAG,CAG5C,IAFI4kE,EAAWqB,EAAS3B,EAAUtkE,OAEjBm6D,EAAO,CAGtB,IAFA,IAAI2L,EAAQ,GAEHrjE,EAAQ,EAAGA,EAAQ+N,EAAKtO,OAAQO,GAAS,EAChDqjE,EAAMt1D,EAAK/N,EAAQ,GAAGurB,IAAMxd,EAAK/N,GAG/B+N,EAAKtO,SACP4jE,EAAMt1D,EAAKA,EAAKtO,OAAS,GAAG8rB,IAAMxd,EAAK,IAGzC40D,EAAU1iE,KAAKojE,GACfO,GAAS,OACCL,EAAQ/+D,IAAI29D,IAClBuB,EAAQvB,EAAUzK,EAAOiM,KAC3BC,GAAS,GAKf,GAAIA,GA/CQ,SAAiBC,GAG7B,IAFA,IAAI7e,EAAQ,CAAC6e,GAEN7e,EAAMvlD,OAAS,GAAG,CACvB,IAAIwwB,EAAO+0B,EAAMvyC,MAEb8wD,EAAQ/+D,IAAIyrB,KACdszC,EAAQpE,OAAOlvC,GACf8F,EAAE9F,EAAK1E,IAAI3d,SAAQ,SAAU5O,GAC3BgmD,EAAM/kD,KAAKjB,MAEb+2B,EAAE9F,EAAK1E,IAAI8f,UAqCby4B,CAAQ7zC,QAER,IAAS1yB,EAAI,EAAGA,EAAIskE,EAAUpiE,OAAQlC,GAAK,EAAG,CAC5C,IAAI4kE,EAAWqB,EAAS3B,EAAUtkE,IAE7Bw4B,EAAEosC,EAAS52C,IAAI/mB,IAAIyrB,IACtB8F,EAAEosC,EAAS52C,IAAIgsB,IAAItnB,GAMzB,OADAliB,EAAK0E,MACEmxD,GAGLrtD,EAAKooD,EAAUtzC,MACfA,OAAe,IAAP9U,EAAgB,GAAKA,EAExBhZ,EAAI,EAAGA,EAAI8tB,EAAM5rB,OAAQlC,GAAK,EAAG,CACxC,IAAI0yB,EAAO5E,EAAM9tB,GACb4iE,EAASlwC,EAAK1E,GAClBk4C,EAAStD,GAAU5iE,EACnBimE,EAASjmE,GAAK0yB,EAIhB,GAAI0N,GAAW+kC,EACb,KAAItT,EAAU,SAAiB7xD,GAC7B,IAAI4iE,EAASxiC,EAAQpgC,GACrBkmE,EAASp4C,EAAM9tB,GAAGguB,IAAMk4C,EAAStD,GACjCsD,EAAStD,GAAU,EACnBqD,EAAS,GAAKn4C,EAAM5pB,MAAK,SAAUwuB,GACjC,OAAOA,EAAK1E,KAAO40C,KAErBqD,EAASC,EAASp4C,EAAM9tB,GAAGguB,KAAOF,EAAM9tB,IAG1C,IAASA,EAAI,EAAGA,EAAIogC,EAAQl+B,OAAQlC,IAClC6xD,EAAQ7xD,GAuDZ,IAlDA,IAAIwmE,EAAqB,SAA4BC,GAMnD,IALA,IAAIztD,EAEA0tD,EACAC,EAASj8D,IAEJ1K,EAAI,EAAGA,EAAIymE,EAAWvkE,OAAQlC,GAAK,EAG1C,IAFA,IAAI4mE,EAAOH,EAAWzmE,GAEbuH,EAAI,EAAGA,EAAIq/D,EAAK1kE,OAAQqF,IAAK,CACpC,IAAIs/D,EAAYX,EAASU,EAAKr/D,GAAGymB,IAE7B64C,EAAYF,IACdA,EAASE,EACTH,EAAa1mE,GAKnB,IAAIwkE,EAAYiC,EAAWC,GACvBN,EAAU,GAEd,IAASpmE,EAAI,EAAGA,EAAIwkE,EAAUtiE,OAAQlC,GAAK,EAAG,CAC5C,IAAI0yB,EAAO8xC,EAAUxkE,GACrBomE,EAAQ1zC,EAAK1E,IAAM,GAEnB,IAAK,IAAIkJ,EAAK,EAAG+Q,EAAK+K,EAAatgB,EAAK1E,GAAIozC,EAAUrzC,MAAO,UAAUzrB,QAAO,SAAUb,GACtF,OAAO+iE,EAAUr0D,KAAI,SAAU9P,GAC7B,OAAOA,EAAE2tB,MACR3rB,QAAQZ,IAAM,KACfy1B,EAAK+Q,EAAG/lC,OAAQg1B,IAAM,CACxB,IAAI0tC,EAAW38B,EAAG/Q,GAEd0tC,IAAalyC,EAAK1E,KAAoB,IAAZm3C,GAAqB/kC,EAAQ/9B,QAAQqwB,EAAK1E,KAAO,EAG7Eo4C,EAAQ1zC,EAAK1E,IAAItrB,KAAKwjE,EAAStB,IAF/BQ,EAAU1iE,OAAMsW,EAAK,IAAO0Z,EAAK1E,IAAM0E,EAAM1Z,KAOnD,MAAO,CACLwrD,UAAWA,EACX4B,QAASA,EACTO,OAAQA,IAIRG,EAAU,EAEPA,EAAUh5C,EAAM5rB,QAAQ,CAC7B,IAAI6kE,EAAgBj5C,EAAMxrB,QAAO,SAAUb,GACzC,OAAOykE,EAASzkE,EAAEusB,KAAO84C,KAEvBE,EAAOjD,EAA8B,CACvCj2C,MAAOi5C,EACPh5C,MAAOqzC,EAAUrzC,QAChBzrB,QAAO,SAAUkiE,GAClB,OAAOA,EAAUtiE,OAAS,KAE5B,GAAoB,IAAhB8kE,EAAK9kE,OAAc,MACvB,IAAI+kE,EAAMT,EAAmBQ,GACzBL,EAASM,EAAIN,OACbP,EAAUa,EAAIb,QACd5B,EAAYyC,EAAIzC,UAEpB,KAAIA,EAAUtiE,OAAS,GAUrB,MATAsiE,EAAUn0D,SAAQ,SAAUqiB,GAC1B8F,EAAE9F,EAAK1E,IAAM,IAAIw3C,OAEnB,IAAI0B,EAAYjB,EAASU,GAEzB,GAAIvmC,GAAW+kC,IAA8C,IAAnC/kC,EAAQ/9B,QAAQ6kE,EAAUl5C,IAAY,OAAOo3C,EACvEe,EAAQe,EAAWA,EAAWd,GAC9BU,EAAUH,EAAS,EAMvB,OAAOvB,GAWE+B,EAAkB,SAAyB/F,EAAW5uC,EAAU4N,EAAS+kC,GAKlF,YAJgB,IAAZA,IACFA,GAAU,GAGR3yC,EAAiBuzC,EAAuB3E,EAAWhhC,EAAS+kC,GACzDD,EAAyB9D,EAAWhhC,EAAS+kC,IAEvCiC,EAtYW,SAA6BhG,GACrD,IAAI0E,EAAQ,KACR9sD,EAAKooD,EAAUtzC,MAEfu5C,EAAe,GAEfC,EAAe,GAEfC,EAAc,GAEdC,EAAa,SAPE,IAAPxuD,EAAgB,GAAKA,GAS3B3I,SAAQ,SAAUqiB,GACtB40C,EAAa50C,EAAK1E,IAAM0E,KA+C1B,IA7CA,IAAI0wC,EAAY,CACdM,MAAO,SAAe1qD,GACpB,IAAI8oD,EAAc9oD,EAAGwoB,QACjBsiC,EAAe9qD,EAAG/S,SAEtB,GAAIshE,EAAYzF,GAAc,CAE5BgE,EAAQ,GAIR,IAHA,IAAI2B,EAAmB3F,EACnB4F,EAAoB5D,EAEjB4D,IAAsB5F,GAC3BgE,EAAM2B,GAAoBC,EAC1BD,EAAmBC,EACnBA,EAAoBL,EAAaK,GAGnC5B,EAAM2B,GAAoBC,OAG1BH,EAAYzF,GAAeA,SACpBwF,EAAaxF,GAEpBuF,EAAavF,GAAegC,GAGhCH,MAAO,SAAe3qD,GACpB,IAAI8oD,EAAc9oD,EAAGwoB,QAGrBgmC,EAAW1F,GAAeA,SACnByF,EAAYzF,IAErB2B,eAAgB,SAAwBzqD,GACtC,IAAIqpD,EAAWrpD,EAAG9E,KAElB,OAAI4xD,IAKI0B,EAAWnF,KAIhB3hE,OAAO8C,KAAK8jE,GAAcplE,QAAQ,CAGvCylE,EAAIvG,EADqB1gE,OAAO8C,KAAK8jE,GAAc,GAChBlE,GAGrC,OAAO0C,G,cCqBM8B,EAtEA,SAAkBxG,EAAWxzC,EAAQ4E,EAAUq1C,GAC5D,IAAI7uD,EAAKooD,EAAUtzC,MACfA,OAAe,IAAP9U,EAAgB,GAAKA,EAC7BivB,EAAKm5B,EAAUrzC,MACfA,OAAe,IAAPka,EAAgB,GAAKA,EAC7B7H,EAAU,GACV0nC,EAAQ,GACRpvC,EAAI,GACJqvC,EAAQ,GAEZj6C,EAAMzd,SAAQ,SAAUqiB,EAAM1yB,GAC5B,IAAIguB,EAAK0E,EAAK1E,GACdoS,EAAQ19B,KAAKsrB,GACb0K,EAAE1K,GAAMtjB,IACJsjB,IAAOJ,IAAQ8K,EAAE1K,GAAM,MA4B7B,IA1BA,IAAIg6C,EAAUl6C,EAAM5rB,OAEhBg9C,EAAU,SAAiBl/C,GAE7B,IAAIioE,EArCQ,SAAmBvvC,EAAG5K,EAAOg6C,GAK3C,IAHA,IACIG,EADAC,EAASx9D,IAGJ1K,EAAI,EAAGA,EAAI8tB,EAAM5rB,OAAQlC,IAAK,CACrC,IAAI4iE,EAAS90C,EAAM9tB,GAAGguB,IAEjB85C,EAAMlF,IAAWlqC,EAAEkqC,IAAWsF,IACjCA,EAASxvC,EAAEkqC,GACXqF,EAAUn6C,EAAM9tB,IAIpB,OAAOioE,EAuBSE,CAAUzvC,EAAG5K,EAAOg6C,GAC9BM,EAAYH,EAAQj6C,GAExB,GADA85C,EAAMM,IAAa,EACf1vC,EAAE0vC,KAAe19D,IAAU,MAAO,YAGlC8nB,ENGuB,SAA2BowC,EAAQ70C,GAChE,OAAOA,EAAMzrB,QAAO,SAAUk+B,GAC5B,OAAOA,EAAK5S,SAAWg1C,KMLMyF,CAAkBD,EAAWr6C,GAA2B+0C,EAAiBsF,EAAWr6C,IACpG1d,SAAQ,SAAUmwB,GAC7B,IAAI8nC,EAAa9nC,EAAK3S,OAClB06C,EAAa/nC,EAAK5S,OAClB+L,EAAI2uC,IAAeF,EAAYG,EAAaD,EAC5CE,EAASX,GAAsBrnC,EAAKqnC,GAAsBrnC,EAAKqnC,GAAsB,EAErFnvC,EAAEiB,GAAKjB,EAAEuvC,EAAQj6C,IAAMw6C,GACzB9vC,EAAEiB,GAAKjB,EAAEuvC,EAAQj6C,IAAMw6C,EACvBT,EAAMpuC,GAAK,CAACsuC,EAAQj6C,KACX0K,EAAEiB,KAAOjB,EAAEuvC,EAAQj6C,IAAMw6C,GAClCT,EAAMpuC,GAAGj3B,KAAKulE,EAAQj6C,QAKnBhuB,EAAI,EAAGA,EAAIgoE,EAAShoE,IAC3Bk/C,IAGF6oB,EAAMn6C,GAAU,CAACA,GAEjB,IAAI66C,EAAQ,GAEZ,IAAK,IAAI56C,KAAU6K,EACbA,EAAE7K,KAAYnjB,KAChBg+D,EAAa96C,EAAQC,EAAQk6C,EAAOU,GAKxC,IAAIj4D,EAAO,GAEX,IAAK,IAAIqd,KAAU46C,EACjBj4D,EAAKqd,GAAU46C,EAAM56C,GAAQ,GAG/B,MAAO,CACL3rB,OAAQw2B,EACRloB,KAAMA,EACNm4D,QAASF,IAMb,SAASC,EAAa96C,EAAQC,EAAQk6C,EAAOa,GAC3C,GAAIh7C,IAAWC,EACb,MAAO,CAACD,GAGV,GAAIg7C,EAAW/6C,GACb,OAAO+6C,EAAW/6C,GAKpB,IAFA,IAAI46C,EAAQ,GAEHvxC,EAAK,EAAGle,EAAK+uD,EAAMl6C,GAASqJ,EAAKle,EAAG9W,OAAQg1B,IAAM,CACzD,IACI2xC,EAAYH,EAAa96C,EADlB5U,EAAGke,GAC6B6wC,EAAOa,GAClD,IAAKC,EAAW,OAEhB,IAAK,IAAI5gC,EAAK,EAAG6gC,EAAcD,EAAW5gC,EAAK6gC,EAAY5mE,OAAQ+lC,IAAM,CACvE,IAAI8gC,EAAUD,EAAY7gC,GACtB/kC,kBAAQ6lE,GAAUN,EAAM/lE,KAAK4S,YAAcA,YAAc,GAAIyzD,GAAS,GAAO,CAACl7C,IAAS,IAAa46C,EAAM/lE,KAAK,CAACqmE,EAASl7C,KAKjI,OADA+6C,EAAW/6C,GAAU46C,EACdG,EAAW/6C,GClHb,ICFIm7C,EDEAC,EAAmB,SAA0B7H,EAAWjH,EAAO+O,EAAK12C,EAAUq1C,GACvF,IAAI7uD,EAAK4uD,EAASxG,EAAWjH,EAAO3nC,EAAUq1C,GAC1C3lE,EAAS8W,EAAG9W,OACZsO,EAAOwI,EAAGxI,KACVm4D,EAAU3vD,EAAG2vD,QAEjB,MAAO,CACLzmE,OAAQA,EAAOgnE,GACf14D,KAAMA,EAAK04D,GACXP,QAASA,EAAQO,KAGVC,EAAc,SAAqB/H,EAAWjH,EAAO+O,EAAK12C,GACnE,IAAIxZ,EAEJ,GAAImhD,IAAU+O,EAAK,MAAO,CAAC,CAAC/O,IAC5B,IAAIlyB,EAAKm5B,EAAUrzC,MACfA,OAAe,IAAPka,EAAgB,GAAKA,EAC7BwV,EAAU,CAAC0c,GACXiP,IAAapwD,EAAK,IAAOmhD,IAAS,EAAMnhD,GACxCyuC,EAAQ,GAERkhB,EAAU,GACVrE,EAAY9xC,EAAWwgB,EAAamnB,EAAOpsC,EAAO,UAAYilB,EAAamnB,EAAOpsC,GAGtF,IAFA05B,EAAM/kD,KAAK4hE,GAEJ7mB,EAAQv7C,OAAS,GAAKulD,EAAMvlD,OAAS,GAAG,CAC7C,IAAI+rB,EAAWw5B,EAAMA,EAAMvlD,OAAS,GAEpC,GAAI+rB,EAAS/rB,OAAb,CACE,IAAIi8B,EAAQlQ,EAASsvC,QAiBvB,GAfMp/B,IACFsf,EAAQ/6C,KAAKy7B,GACbirC,EAAUjrC,IAAS,EACnBmmC,EAAY9xC,EAAWwgB,EAAa7U,EAAOpQ,EAAO,UAAYilB,EAAa7U,EAAOpQ,GAClF05B,EAAM/kD,KAAK4hE,EAAUhiE,QAAO,SAAUsiE,GACpC,OAAQwE,EAAUxE,QAUpBnnB,EAAQA,EAAQv7C,OAAS,KAAOgnE,EAAK,CACvC,IAAI14D,EAAOitC,EAAQttC,KAAI,SAAUuiB,GAC/B,OAAOA,KAETi2C,EAAQjmE,KAAK8N,GACTkiB,EAAO+qB,EAAQvoC,MACnBk0D,EAAU12C,IAAQ,EAClB+0B,EAAMvyC,WAzBR,CAYE,IAAIwd,EAAO+qB,EAAQvoC,MACnBk0D,EAAU12C,IAAQ,EAClB+0B,EAAMvyC,OAeV,OAAOyzD,GEzBMj7C,EAjCK,SAAuB0zC,EAAW5uC,GAKpD,IAJA,IAAI62C,EAAiB57C,EAAa2zC,EAAW5uC,GACzC1kB,EAAO,GACPgC,EAAOu5D,EAAennE,OAEjBlC,EAAI,EAAGA,EAAI8P,EAAM9P,GAAK,EAAG,CAChC8N,EAAK9N,GAAK,GAEV,IAAK,IAAIuH,EAAI,EAAGA,EAAIuI,EAAMvI,GAAK,EACzBvH,IAAMuH,EACRuG,EAAK9N,GAAGuH,GAAK,EACqB,IAAzB8hE,EAAerpE,GAAGuH,IAAa8hE,EAAerpE,GAAGuH,GAG1DuG,EAAK9N,GAAGuH,GAAK8hE,EAAerpE,GAAGuH,GAF/BuG,EAAK9N,GAAGuH,GAAKmD,IAQnB,IAAK,IAAInH,EAAI,EAAGA,EAAIuM,EAAMvM,GAAK,EAC7B,IAASvD,EAAI,EAAGA,EAAI8P,EAAM9P,GAAK,EAC7B,IAASuH,EAAI,EAAGA,EAAIuI,EAAMvI,GAAK,EACzBuG,EAAK9N,GAAGuH,GAAKuG,EAAK9N,GAAGuD,GAAKuK,EAAKvK,GAAGgE,KACpCuG,EAAK9N,GAAGuH,GAAKuG,EAAK9N,GAAGuD,GAAKuK,EAAKvK,GAAGgE,IAM1C,OAAOuG,GCkIMw7D,EAxJQ,SAA0BlI,EAAW5uC,EAAUq1C,EAAoB0B,QACvE,IAAb/2C,IACFA,GAAW,QAGc,IAAvBq1C,IACFA,EAAqB,eAGF,IAAjB0B,IACFA,EAAe,KAIjB,IAAIvwD,EAAKooD,EAAUtzC,MACfA,OAAe,IAAP9U,EAAgB,GAAKA,EAC7BivB,EAAKm5B,EAAUrzC,MACfA,OAAe,IAAPka,EAAgB,GAAKA,EAC7BuhC,EAAW,GACX/2C,EAAU,GAEd3E,EAAMzd,SAAQ,SAAUqiB,EAAM1yB,GAC5B,IAAIypE,EAAMhnC,IACV/P,EAAKg3C,UAAYD,EACjBD,EAASC,GAAO,CACdz7C,GAAIy7C,EACJ37C,MAAO,CAAC4E,IAEVD,EAAQC,EAAK1E,IAAM,CACjB0E,KAAMA,EACNjiB,IAAKzQ,MAIT,IAAIuyB,EAAY9E,EAAa2zC,EAAW5uC,GAEpCm3C,EAAK,GASLrF,EAAY,GAChB/xC,EAAUliB,SAAQ,SAAUhI,EAAKrI,GAC/B,IAAIuD,EAAI,EACJqmE,EAAM97C,EAAM9tB,GAAGguB,GACnBs2C,EAAUsF,GAAO,GACjBvhE,EAAIgI,SAAQ,SAAUw5D,EAAOtiE,GAC3B,GAAKsiE,EAAL,CACAtmE,GAAKsmE,EACL,IAAIC,EAAMh8C,EAAMvmB,GAAGymB,GACnBs2C,EAAUsF,GAAKE,GAAOD,MAExBF,EAAGjnE,KAAKa,MA+CV,IA7CA,IAAIwmE,EAAO,EAEP7qB,EAAU,WACZ,IAAImM,GAAU,EAsCd,GArCAv9B,EAAMzd,SAAQ,SAAUqiB,GACtB,IAAIs3C,EAAmB,GACvBtpE,OAAO8C,KAAK8gE,EAAU5xC,EAAK1E,KAAK3d,SAAQ,SAAUs1D,GAChD,IAAIsE,EAAiB3F,EAAU5xC,EAAK1E,IAAI23C,GAEpCuE,EADez3C,EAAQkzC,GAAYjzC,KACFg3C,UAChCM,EAAiBE,KAAoBF,EAAiBE,GAAqB,GAChFF,EAAiBE,IAAsBD,KAGzC,IAAIE,GAAaz/D,IACb0/D,EAAiB,GASrB,GARA1pE,OAAO8C,KAAKwmE,GAAkB35D,SAAQ,SAAUq5D,GAC1CS,EAAYH,EAAiBN,IAC/BS,EAAYH,EAAiBN,GAC7BU,EAAiB,CAACV,IACTS,IAAcH,EAAiBN,IACxCU,EAAe1nE,KAAKgnE,MAGM,IAA1BU,EAAeloE,QAAgBkoE,EAAe,KAAO13C,EAAKg3C,UAA9D,CACA,IAAIW,EAAiBD,EAAe/nE,QAAQqwB,EAAKg3C,WAGjD,GAFIW,GAAkB,GAAGD,EAAexkE,OAAOykE,EAAgB,GAE3DD,GAAkBA,EAAeloE,OAAQ,CAC3CmpD,GAAU,EAEV,IAAIif,EAAcd,EAAS92C,EAAKg3C,WAC5Ba,EAAuBD,EAAYx8C,MAAMzrB,QAAQqwB,GACrD43C,EAAYx8C,MAAMloB,OAAO2kE,EAAsB,GAE/C,IAAIC,EAAYvlE,KAAKqS,MAAMrS,KAAKy9B,SAAW0nC,EAAeloE,QACtDuoE,EAAcjB,EAASY,EAAeI,IAC1CC,EAAY38C,MAAMprB,KAAKgwB,GACvBA,EAAKg3C,UAAYe,EAAYz8C,SAG5Bq9B,EAAS,MAAO,QACrB0e,KAGKA,EAAOR,GAAc,CAG1B,GAAgB,UAFFrqB,IAEW,MAI3Bx+C,OAAO8C,KAAKgmE,GAAUn5D,SAAQ,SAAUq5D,GACtC,IAAIgB,EAAUlB,EAASE,GAElBgB,EAAQ58C,OAAU48C,EAAQ58C,MAAM5rB,eAC5BsnE,EAASE,MAIpB,IAAIiB,EAAe,GACfC,EAAiB,GACrB78C,EAAM1d,SAAQ,SAAUmwB,GACtB,IAAI5S,EAAS4S,EAAK5S,OACdC,EAAS2S,EAAK3S,OACd26C,EAAShoC,EAAKqnC,IAAuB,EACrCgD,EAAkBp4C,EAAQ7E,GAAQ8E,KAAKg3C,UACvCoB,EAAkBr4C,EAAQ5E,GAAQ6E,KAAKg3C,UACvCqB,EAAY,GAAGnmE,OAAOimE,EAAiB,OAAOjmE,OAAOkmE,GAEzD,GAAIF,EAAeG,GACjBH,EAAeG,GAAWvC,QAAUA,EACpCoC,EAAeG,GAAWxxD,YACrB,CACL,IAAIyxD,EAAU,CACZp9C,OAAQi9C,EACRh9C,OAAQi9C,EACRtC,OAAQA,EACRjvD,MAAO,GAETqxD,EAAeG,GAAaC,EAC5BL,EAAajoE,KAAKsoE,OAGtB,IAAIC,EAAgB,GAIpB,OAHAvqE,OAAO8C,KAAKgmE,GAAUn5D,SAAQ,SAAUq5D,GACtCuB,EAAcvoE,KAAK8mE,EAASE,OAEvB,CACLF,SAAUyB,EACVN,aAAcA,ICmDHO,EA1Mf,WACE,SAASA,EAAO9oE,GACdxC,KAAKwC,IAAMA,EAqMb,OAlMA8oE,EAAOtpE,UAAUupE,OAAS,WACxB,OAAOvrE,KAAKwC,KAAO,IAGrB8oE,EAAOtpE,UAAUo4C,IAAM,SAAUoxB,GAC/B,IAAIpyD,EAEAqyD,EAAWD,EAAYhpE,IAE3B,KAA0B,QAAnB4W,EAAKpZ,KAAKwC,WAAwB,IAAP4W,OAAgB,EAASA,EAAG9W,QAC5D,OAAO,IAAIgpE,EAAOG,GAGpB,KAAMA,aAA2C,EAASA,EAASnpE,QACjE,OAAO,IAAIgpE,EAAOtrE,KAAKwC,KAGzB,GAAIxC,KAAKwC,IAAIF,SAAWmpE,EAASnpE,OAAQ,CACvC,IAAIq2C,EAAM,GAEV,IAAK,IAAI91C,KAAS7C,KAAKwC,IACrBm2C,EAAI91C,GAAS7C,KAAKwC,IAAIK,GAAS4oE,EAAS5oE,GAG1C,OAAO,IAAIyoE,EAAO3yB,KAItB2yB,EAAOtpE,UAAU0pE,SAAW,SAAUF,GACpC,IAAIpyD,EAEAqyD,EAAWD,EAAYhpE,IAE3B,KAA0B,QAAnB4W,EAAKpZ,KAAKwC,WAAwB,IAAP4W,OAAgB,EAASA,EAAG9W,QAC5D,OAAO,IAAIgpE,EAAOG,GAGpB,KAAMA,aAA2C,EAASA,EAASnpE,QACjE,OAAO,IAAIgpE,EAAOtrE,KAAKwC,KAGzB,GAAIxC,KAAKwC,IAAIF,SAAWmpE,EAASnpE,OAAQ,CACvC,IAAIq2C,EAAM,GAEV,IAAK,IAAI91C,KAAS7C,KAAKwC,IACrBm2C,EAAI91C,GAAS7C,KAAKwC,IAAIK,GAAS4oE,EAAS5oE,GAG1C,OAAO,IAAIyoE,EAAO3yB,KAItB2yB,EAAOtpE,UAAU2pE,IAAM,SAAUrpE,GAC/B,IAAIq2C,EAAM,GAEV,GAAe,IAAXr2C,EACF,IAAK,IAAIO,KAAS7C,KAAKwC,IACrBm2C,EAAI91C,GAAS7C,KAAKwC,IAAIK,GAASP,EAInC,OAAO,IAAIgpE,EAAO3yB,IAGpB2yB,EAAOtpE,UAAU4pE,OAAS,WACxB,IAAIjzB,EAAM,GAEV,IAAK,IAAI91C,KAAS7C,KAAKwC,IACrBm2C,EAAI91C,IAAU7C,KAAKwC,IAAIK,GAGzB,OAAO,IAAIyoE,EAAO3yB,IAIpB2yB,EAAOtpE,UAAU6pE,wBAA0B,SAAUL,GACnD,IAAIpyD,EAEAqyD,EAAWD,EAAYhpE,IAE3B,KAA0B,QAAnB4W,EAAKpZ,KAAKwC,WAAwB,IAAP4W,OAAgB,EAASA,EAAG9W,WAAampE,aAA2C,EAASA,EAASnpE,QACtI,OAAO,EAGT,GAAItC,KAAKwC,IAAIF,SAAWmpE,EAASnpE,OAAQ,CACvC,IAAIq2C,EAAM,EAEV,IAAK,IAAI91C,KAAS7C,KAAKwC,IACrBm2C,GAAOtzC,KAAKkS,IAAIvX,KAAKwC,IAAIK,GAAS2oE,EAAYhpE,IAAIK,GAAQ,GAG5D,OAAO81C,IAKX2yB,EAAOtpE,UAAU8pE,kBAAoB,SAAUN,GAC7C,IAAIpyD,EAEAqyD,EAAWD,EAAYhpE,IAE3B,KAA0B,QAAnB4W,EAAKpZ,KAAKwC,WAAwB,IAAP4W,OAAgB,EAASA,EAAG9W,WAAampE,aAA2C,EAASA,EAASnpE,QACtI,OAAO,EAGT,GAAItC,KAAKwC,IAAIF,SAAWmpE,EAASnpE,OAAQ,CACvC,IAAIq2C,EAAM,EAEV,IAAK,IAAI91C,KAAS7C,KAAKwC,IACrBm2C,GAAOtzC,KAAKkS,IAAIvX,KAAKwC,IAAIK,GAAS2oE,EAAYhpE,IAAIK,GAAQ,GAG5D,OAAOwC,KAAKuS,KAAK+gC,GAEjBr+B,QAAQ6lB,MAAM,2CAKlBmrC,EAAOtpE,UAAUu2B,UAAY,WAC3B,IAAIogB,EAAM,GACNozB,EAAWt9D,gBAAMzO,KAAKwC,KAC1BupE,EAAS/kE,MAAK,SAAUvC,EAAGmC,GACzB,OAAOnC,EAAImC,KAEb,IAAItB,EAAMymE,EAASA,EAASzpE,OAAS,GACjCiD,EAAMwmE,EAAS,GAEnB,IAAK,IAAIlpE,KAAS7C,KAAKwC,IACrBm2C,EAAI91C,IAAU7C,KAAKwC,IAAIK,GAAS0C,IAAQD,EAAMC,GAGhD,OAAO,IAAI+lE,EAAO3yB,IAIpB2yB,EAAOtpE,UAAUgqE,MAAQ,WACvB,IAAI5yD,EAEJ,KAA0B,QAAnBA,EAAKpZ,KAAKwC,WAAwB,IAAP4W,OAAgB,EAASA,EAAG9W,QAC5D,OAAO,EAGT,IAAIq2C,EAAM,EAEV,IAAK,IAAI91C,KAAS7C,KAAKwC,IACrBm2C,GAAOtzC,KAAKkS,IAAIvX,KAAKwC,IAAIK,GAAQ,GAGnC,OAAOwC,KAAKuS,KAAK+gC,IAInB2yB,EAAOtpE,UAAUw2B,IAAM,SAAUgzC,GAC/B,IAAIpyD,EAEAqyD,EAAWD,EAAYhpE,IAE3B,KAA0B,QAAnB4W,EAAKpZ,KAAKwC,WAAwB,IAAP4W,OAAgB,EAASA,EAAG9W,WAAampE,aAA2C,EAASA,EAASnpE,QACtI,OAAO,EAGT,GAAItC,KAAKwC,IAAIF,SAAWmpE,EAASnpE,OAAQ,CACvC,IAAIq2C,EAAM,EAEV,IAAK,IAAI91C,KAAS7C,KAAKwC,IACrBm2C,GAAO34C,KAAKwC,IAAIK,GAAS2oE,EAAYhpE,IAAIK,GAG3C,OAAO81C,EAEPr+B,QAAQ6lB,MAAM,2CAKlBmrC,EAAOtpE,UAAUiqE,MAAQ,SAAUT,GACjC,IAAIpyD,EAEAqyD,EAAWD,EAAYhpE,IAE3B,IAAyB,QAAnB4W,EAAKpZ,KAAKwC,WAAwB,IAAP4W,OAAgB,EAASA,EAAG9W,WAAampE,aAA2C,EAASA,EAASnpE,QACrI,OAAO,EAGT,IAAK,IAAIO,KAAS7C,KAAKwC,IACrB,GAAIxC,KAAKwC,IAAIK,KAAW4oE,EAAS5oE,GAC/B,OAAO,EAIX,OAAO,GAGFyoE,EAvMT,GCiEWY,EAAmB,SAA0Bh+C,EAAOvsB,QACjD,IAARA,IACFA,OAAMsK,GAGR,IAAIkgE,EAAgB,GAUpB,OATAj+C,EAAMzd,SAAQ,SAAUqiB,QACV7mB,IAARtK,GACFwqE,EAAcrpE,KAAKgwB,QAGH7mB,IAAd6mB,EAAKnxB,IACPwqE,EAAcrpE,KAAKgwB,EAAKnxB,OAGrBwqE,IJrFT,SAAW/C,GACTA,EAAY,kBAAwB,oBADtC,CAEGA,IAAiBA,EAAe,KKM5B,IAAIgD,EAAoB,SAA2BC,EAAUC,EAAcC,GAChF,IAAI3oE,EAAO,IAEP0oE,aAAmD,EAASA,EAAahqE,QAC3EsB,EAAO0oE,GAGPD,EAAS57D,SAAQ,SAAU5L,GACzBjB,EAAOA,EAAKoB,OAAOlE,OAAO8C,KAAKiB,OAEjCjB,EAAOqD,eAAKrD,IAId,IAAI4oE,EAAiB,GAarB,OAZA5oE,EAAK6M,SAAQ,SAAU9O,GACrB,IAAIN,EAAQ,GACZgrE,EAAS57D,SAAQ,SAAU5L,QACPoH,IAAdpH,EAAKlD,IAAoC,KAAdkD,EAAKlD,IAClCN,EAAMyB,KAAK+B,EAAKlD,OAIhBN,EAAMiB,UAAYiqE,aAAuD,EAASA,EAAez7D,SAASnP,MAC5G6qE,EAAe7qE,GAAOsF,eAAK5F,OAGxBmrE,GASEC,EAAS,SAAgBJ,EAAUC,EAAcC,GAE1D,IAAIC,EAAiBJ,EAAkBC,EAAUC,EAAcC,GAC3DG,EAAa,GAEjB,OAAK5rE,OAAO8C,KAAK4oE,GAAgBlqE,QAKjC+pE,EAAS57D,SAAQ,SAAU5L,EAAMhC,GAC/B,IAAI8pE,EAAO,GAEX,GAA2C,IAAvC7rE,OAAO8C,KAAK4oE,GAAgBlqE,OAAc,CAE5C,IAAIX,EAAMb,OAAO8C,KAAK4oE,GAAgB,GACvBA,EAAe7qE,GAEjBsG,OAAM,SAAU5G,GAC3B,OAAQsE,MAAM2E,OAAOjJ,SAErBsrE,EAAO,CAAC9nE,EAAKlD,UAGfb,OAAO8C,KAAK4oE,GAAgB/7D,SAAQ,SAAU9O,GAQ5C,IAPA,IAAIirE,EAAW/nE,EAAKlD,GAChBkrE,EAAcL,EAAe7qE,GAC7BmrE,EAAaD,EAAYnoE,WAAU,SAAUrD,GAC/C,OAAOurE,IAAavrE,KAElB0rE,EAAU,GAEL3sE,EAAI,EAAGA,EAAIysE,EAAYvqE,OAAQlC,IAClCA,IAAM0sE,EACRC,EAAQjqE,KAAK,GAEbiqE,EAAQjqE,KAAK,GAIjB6pE,EAAOA,EAAK3nE,OAAO+nE,MAIvBL,EAAW7pE,GAAS8pE,KAEfD,GAxCEA,GAkDAM,EAAc,SAAqB5lE,EAAM6lE,EAAWC,EAAc1L,QACtD,IAAjB0L,IACFA,EAAe9D,EAAa+D,mBAG9B,IAAIpgD,EAAW,EAEf,OAAQmgD,GACN,KAAK9D,EAAa+D,kBAChBpgD,EAAW,IAAIu+C,EAAOlkE,GAAM0kE,kBAAkB,IAAIR,EAAO2B,IAO7D,OAAOlgD,GChHLqgD,EAAgB,SAAuBl/C,EAAOyE,EAAWo3C,EAAIvpE,GAK/D,IAJA,IAAI8B,EAASqwB,EAAUrwB,OACnBg+B,EAAQ,EAAI9/B,EACZ6sE,EAAa,EAERjtE,EAAI,EAAGA,EAAIkC,EAAQlC,IAG1B,IAFA,IAAIktE,EAAWp/C,EAAM9tB,GAAG0pE,UAEfniE,EAAI,EAAGA,EAAIrF,EAAQqF,IAAK,CAE/B,GAAI2lE,IADWp/C,EAAMvmB,GAAGmiE,UAKxBuD,IAHY16C,EAAUvyB,GAAGuH,IAAM,IACtBoiE,EAAG3pE,IAAM,IACT2pE,EAAGpiE,IAAM,GACc24B,EAKpC,OADA+sC,GAAc,EAAI/sC,GAKhBitC,EAAwB,SAA+Br/C,EAAOs/C,QAClD,IAAVt/C,IACFA,EAAQ,IAMV,IAHA,IAAI5rB,EAAS4rB,EAAM5rB,OACfmrE,EAAkB,IAAInC,EAAO,IAExBlrE,EAAI,EAAGA,EAAIkC,EAAQlC,IAC1BqtE,EAAkBA,EAAgBrzB,IAAI,IAAIkxB,EAAOkC,EAAoBptE,KAIvE,IAAIstE,EAAgBD,EAAgB9B,IAAIrpE,GACxCorE,EAAcn1C,YAEd,IAAIo1C,EAAW,EAEf,IAASvtE,EAAI,EAAGA,EAAIkC,EAAQlC,IAAK,CAG/ButE,IAFIC,EAAc,IAAItC,EAAOkC,EAAoBptE,KACPyrE,wBAAwB6B,GAKpE,IAAIG,EAA8B,GAClC3/C,EAAMzd,SAAQ,WACZo9D,EAA4B/qE,KAAK,OAGnC,IAAS1C,EAAI,EAAGA,EAAIkC,EAAQlC,IAAK,CAC/B,IAAIwtE,EAAc,IAAItC,EAAOkC,EAAoBptE,IACjD8tB,EAAM9tB,GAAN,gBAA8B,EAE9B,IAAK,IAAIuH,EAAI,EAAGA,EAAIrF,EAAQqF,IAC1B,GAAIvH,IAAMuH,EAAV,CAKA,IAAImmE,EAAc,IAAIxC,EAAOkC,EAAoB7lE,IACjDkmE,EAA4BztE,GAAGuH,GAAKimE,EAAY/B,wBAAwBiC,GACxE5/C,EAAM9tB,GAAN,iBAA+BytE,EAA4BztE,GAAGuH,QAN5DkmE,EAA4BztE,GAAGuH,GAAK,EAW1C,IAAIomE,EAAqB,EACrBztC,EAAQ,EAAIh+B,EAASqrE,EAEzB,IAASvtE,EAAI,EAAGA,EAAIkC,EAAQlC,IAC1B,KAAIktE,EAAWp/C,EAAM9tB,GAAG0pE,UAExB,IAASniE,EAAI,EAAGA,EAAIrF,EAAQqF,IAAK,CAC/B,IAAIqmE,EAAW9/C,EAAMvmB,GAAGmiE,UACxB,GAAI1pE,IAAMuH,GAAK2lE,IAAaU,EAE5BD,GADe7/C,EAAM9tB,GAAG6tE,gBAAkB//C,EAAMvmB,GAAGsmE,gBAAkB5oE,KAAKkS,IAAI+oB,EAAO,GAAKutC,EAA4BztE,GAAGuH,GAAK24B,GAKlI,OAAOh2B,OAAOyjE,EAAmB9jE,QAAQ,KAmW5BikE,EAnVD,SAAiB1M,EAAW5uC,EAAUq1C,EAAoB1rB,EAAWwxB,EAAoBI,EAAa7B,EAAcC,EAAgB6B,QAC/H,IAAbx7C,IACFA,GAAW,QAGc,IAAvBq1C,IACFA,EAAqB,eAGL,IAAd1rB,IACFA,EAAY,WAGa,IAAvBwxB,IACFA,GAAqB,QAGH,IAAhBI,IACFA,OAAcliE,QAGK,IAAjBqgE,IACFA,EAAe,SAGM,IAAnBC,IACFA,EAAiB,CAAC,YAGG,IAAnB6B,IACFA,EAAiB,GAInB,IAAIh1D,EAAKooD,EAAUtzC,MACfA,OAAe,IAAP9U,EAAgB,GAAKA,EAC7BivB,EAAKm5B,EAAUrzC,MACfA,OAAe,IAAPka,EAAgB,GAAKA,EAC7BmlC,EAAsB,GAE1B,GAAIO,EAAoB,CACtB7/C,EAAMzd,SAAQ,SAAUqiB,EAAMjwB,GAC5BiwB,EAAKu7C,WAAav7C,EAAKu7C,YAAc,GACrCv7C,EAAKw7C,YAAczrE,KAErB,IAAI0rE,EAAiB,GAEjBrgD,EAAMjmB,OAAM,SAAU6qB,GACxB,OAAOA,EAAK7wB,eAAe,iBAE3BssE,EAAiBlrE,MAAMuS,KAAK,IAAIgwD,IAAI13C,EAAM3d,KAAI,SAAUuiB,GACtD,OAAOA,EAAK07C,cAEdtgD,EAAMzd,SAAQ,SAAUqiB,GACtBA,EAAKu7C,WAAWG,SAAWD,EAAe7pE,WAAU,SAAU8pE,GAC5D,OAAOA,IAAa17C,EAAK07C,gBAM/B,IAAIH,EAAanC,EAAiBh+C,EAAOigD,GAEzCX,EAAsBf,EAAO4B,EAAY/B,EAAcC,GAGzD,IAAI1pC,EAAW,EACX+mC,EAAW,GACX/2C,EAAU,GAEd3E,EAAMzd,SAAQ,SAAUqiB,EAAM1yB,GAC5B,IAAIypE,EAAMx2D,OAAOwvB,KACjB/P,EAAKg3C,UAAYD,EACjBD,EAASC,GAAO,CACdz7C,GAAIy7C,EACJ37C,MAAO,CAAC4E,IAEVD,EAAQC,EAAK1E,IAAM,CACjB0E,KAAMA,EACNjiB,IAAKzQ,MAIT,IAAIuyB,EAAY9E,EAAa2zC,EAAW5uC,GAEpCm3C,EAAK,GASLrF,EAAY,GAEZlkE,EAAI,EACRmyB,EAAUliB,SAAQ,SAAUhI,EAAKrI,GAC/B,IAAIuD,EAAI,EACJqmE,EAAM97C,EAAM9tB,GAAGguB,GACnBs2C,EAAUsF,GAAO,GACjBvhE,EAAIgI,SAAQ,SAAUw5D,EAAOtiE,GAC3B,GAAKsiE,EAAL,CACAtmE,GAAKsmE,EACL,IAAIC,EAAMh8C,EAAMvmB,GAAGymB,GACnBs2C,EAAUsF,GAAKE,GAAOD,EACtBzpE,GAAKypE,MAEPF,EAAGjnE,KAAKa,MAEVnD,GAAK,EAOL,IANA,IAAIiuE,EAAkB3jE,IAClB4jE,EAAqB5jE,IACrBq/D,EAAO,EACPwE,EAAa,GACbC,EAAgB,KAEP,CAITH,EAHEV,GAAsB7/C,EAAMjmB,OAAM,SAAU6qB,GAC9C,OAAOA,EAAK7wB,eAAe,iBAETmrE,EAAcl/C,EAAOyE,EAAWo3C,EAAIvpE,GAAK+sE,EAAsBr/C,EAAOs/C,GAAuBY,EAE7FhB,EAAcl/C,EAAOyE,EAAWo3C,EAAIvpE,GAI3C,IAAT2pE,IACFuE,EAAqBD,EACrBE,EAAazgD,EACb0gD,EAAgBhF,GAGlB,IAAIiF,EAA0BJ,EAAkB,GAAKA,EAAkBC,GAAsBD,EAAkBC,EAAqBnyB,EAcpI,GAZIkyB,EAAkBC,IACpBC,EAAazgD,EAAM3d,KAAI,SAAUuiB,GAC/B,MAAO,CACLA,KAAMA,EACNg3C,UAAWh3C,EAAKg3C,cAGpB8E,EAAgBngE,gBAAMm7D,GACtB8E,EAAqBD,GAInBI,GAA2B1E,EAAO,IACpC,MAIFA,IAEArpE,OAAO8C,KAAKgmE,GAAUn5D,SAAQ,SAAUq5D,GAEtC,IAAIgF,EAAS,EACb3gD,EAAM1d,SAAQ,SAAUmwB,GACtB,IAAI5S,EAAS4S,EAAK5S,OACdC,EAAS2S,EAAK3S,OACdg9C,EAAkBp4C,EAAQ7E,GAAQ8E,KAAKg3C,UACvCoB,EAAkBr4C,EAAQ5E,GAAQ6E,KAAKg3C,WAEvCmB,IAAoBnB,GAAaoB,IAAoBpB,GAAaoB,IAAoBpB,GAAamB,IAAoBnB,KACzHgF,GAAmBluC,EAAKqnC,IAAuB,MAGnD2B,EAASE,GAAWgF,OAASA,KAG/B5gD,EAAMzd,SAAQ,SAAUqiB,EAAM1yB,GAC5B,IAEIyqE,EAFAH,EAAcd,EAAS92C,EAAKg3C,WAC5BiF,EAAe,EAEfC,EAAcjF,EAAG3pE,IAAM,EAAII,GAE3ByuE,EAAO,EACPC,EAAmBxE,EAAYx8C,MACnCghD,EAAiBz+D,SAAQ,SAAU0+D,GACjC,IAAIC,EAAYv8C,EAAQs8C,EAAO/gD,IAAIvd,IACnCo+D,GAAQt8C,EAAUvyB,GAAGgvE,IAAc,KAGrC,IAAIC,EAAmBJ,EAAOvE,EAAYoE,OAASE,EAE/CM,EAA8BJ,EAAiBxsE,QAAO,SAAUysE,GAClE,OAAOA,EAAO/gD,KAAO0E,EAAK1E,MAExBmhD,EAAyB,GAC7BD,EAA4B7+D,SAAQ,SAAU++D,EAAY3sE,GACxD0sE,EAAuB1sE,GAAS2qE,EAAoBgC,EAAWlB,gBAGjE,IAAImB,EAA2BlC,EAAsB+B,EAA6B9B,GAAuBY,EAErGsB,EAAkBhL,EAAU5xC,EAAK1E,IAwCrC,GAvCAttB,OAAO8C,KAAK8rE,GAAiBj/D,SAAQ,SAAUk/D,GAC7C,IACIrF,EADez3C,EAAQ88C,GAAgB78C,KACNg3C,UAErC,GAAIQ,IAAsBx3C,EAAKg3C,UAA/B,CACA,IAAI8F,EAAkBhG,EAASU,GAC3BuF,EAAeD,EAAgB1hD,MAEnC,GAAK2hD,GAAiBA,EAAavtE,OAAnC,CAEA,IAAIwtE,EAAsB,EAC1BD,EAAap/D,SAAQ,SAAUs/D,GAC7B,IAAIC,EAAWn9C,EAAQk9C,EAAM3hD,IAAIvd,IACjCi/D,GAAuBn9C,EAAUvyB,GAAG4vE,IAAa,KAGnD,IAAIC,EAAgBH,EAAsBF,EAAgBd,OAASE,EAE/DkB,EAAuBL,EAAa7qE,OAAO,CAAC8tB,IAC5Cq9C,EAAsB,GAC1BD,EAAqBz/D,SAAQ,SAAU2/D,EAASvtE,GAC9CstE,EAAoBttE,GAAS2qE,EAAoB4C,EAAQ9B,gBAG3D,IAAI+B,EAAwB9C,EAAsB2C,EAAsB1C,GAAuBY,EAE3FkC,EAAWL,EAAgBZ,EAE3BtB,IACFuC,EAAWL,EAAgBI,GAAyBhB,EAAmBI,IAIrEa,EAAWvB,IACbA,EAAeuB,EACfzF,EAAc+E,QAIdb,EAAe,EAAG,CACpBlE,EAAY38C,MAAMprB,KAAKgwB,GACvB,IAAIy9C,EAAsBz9C,EAAKg3C,UAC/Bh3C,EAAKg3C,UAAYe,EAAYz8C,GAE7B,IAAIu8C,EAAuBD,EAAYx8C,MAAMzrB,QAAQqwB,GAErD43C,EAAYx8C,MAAMloB,OAAO2kE,EAAsB,GAG/C,IAAI6F,EAA0B,EAC1BC,EAAsB,EAC1BtiD,EAAM1d,SAAQ,SAAUmwB,GACtB,IAAI5S,EAAS4S,EAAK5S,OACdC,EAAS2S,EAAK3S,OACdg9C,EAAkBp4C,EAAQ7E,GAAQ8E,KAAKg3C,UACvCoB,EAAkBr4C,EAAQ5E,GAAQ6E,KAAKg3C,WAEvCmB,IAAoBJ,EAAYz8C,IAAM88C,IAAoBL,EAAYz8C,IAAM88C,IAAoBL,EAAYz8C,IAAM68C,IAAoBJ,EAAYz8C,MACpJoiD,GAAqD5vC,EAAKqnC,IAAuB,IAG/EgD,IAAoBsF,GAAuBrF,IAAoBqF,GAAuBrF,IAAoBqF,GAAuBtF,IAAoBsF,KACvJE,GAA6C7vC,EAAKqnC,IAAuB,MAI7E4C,EAAYiE,OAAS0B,EACrB9F,EAAYoE,OAAS2B,MAM3B,IAAIC,EAAkB,GAClBC,EAAa,EACjB7vE,OAAO8C,KAAKgrE,GAAen+D,SAAQ,SAAUq5D,GAC3C,IAAIgB,EAAU8D,EAAc9E,GAE5B,GAAKgB,EAAQ58C,OAAU48C,EAAQ58C,MAAM5rB,OAArC,CAKA,IAAIsuE,EAAQv9D,OAAOs9D,EAAa,GAE5BC,IAAU9G,IAIdgB,EAAQ18C,GAAKwiD,EACb9F,EAAQ58C,MAAQ48C,EAAQ58C,MAAM3d,KAAI,SAAUnJ,GAC1C,MAAO,CACLgnB,GAAIhnB,EAAKgnB,GACT07C,UAAW8G,MAGfhC,EAAcgC,GAAS9F,EACvB4F,EAAgB5G,GAAa8G,SACtBhC,EAAc9E,GACrB6G,iBApBS/B,EAAc9E,MAuBzB6E,EAAWl+D,SAAQ,SAAUogE,GAC3B,IAAI/9C,EAAO+9C,EAAS/9C,KAChBg3C,EAAY+G,EAAS/G,UACzBh3C,EAAKg3C,UAAYA,EACbh3C,EAAKg3C,WAAa4G,EAAgB59C,EAAKg3C,aAAYh3C,EAAKg3C,UAAY4G,EAAgB59C,EAAKg3C,eAG/F,IAAIiB,EAAe,GACfC,EAAiB,GACrB78C,EAAM1d,SAAQ,SAAUmwB,GACtB,IAAI5S,EAAS4S,EAAK5S,OACdC,EAAS2S,EAAK3S,OACd26C,EAAShoC,EAAKqnC,IAAuB,EACrCgD,EAAkBp4C,EAAQ7E,GAAQ8E,KAAKg3C,UACvCoB,EAAkBr4C,EAAQ5E,GAAQ6E,KAAKg3C,UACvCqB,EAAY,GAAGnmE,OAAOimE,EAAiB,OAAOjmE,OAAOkmE,GAEzD,GAAIF,EAAeG,GACjBH,EAAeG,GAAWvC,QAAUA,EACpCoC,EAAeG,GAAWxxD,YACrB,CACL,IAAIyxD,EAAU,CACZp9C,OAAQi9C,EACRh9C,OAAQi9C,EACRtC,OAAQA,EACRjvD,MAAO,GAETqxD,EAAeG,GAAaC,EAC5BL,EAAajoE,KAAKsoE,OAGtB,IAAIC,EAAgB,GAIpB,OAHAvqE,OAAO8C,KAAKgrE,GAAen+D,SAAQ,SAAUq5D,GAC3CuB,EAAcvoE,KAAK8rE,EAAc9E,OAE5B,CACLF,SAAUyB,EACVN,aAAcA,IC5YH+F,EAhCA,SAAkBtP,EAAW5uC,EAAUq1C,EAAoB1rB,EAAW4xB,EAAa7B,EAAcC,EAAgB6B,GA6B9H,YA5BiB,IAAbx7C,IACFA,GAAW,QAGc,IAAvBq1C,IACFA,EAAqB,eAGL,IAAd1rB,IACFA,EAAY,WAGM,IAAhB4xB,IACFA,OAAcliE,QAGK,IAAjBqgE,IACFA,EAAe,SAGM,IAAnBC,IACFA,EAAiB,CAAC,YAGG,IAAnB6B,IACFA,EAAiB,GAGZF,EAAQ1M,EAAW5uC,EAAUq1C,EAAoB1rB,GAAW,EAAM4xB,EAAa7B,EAAcC,EAAgB6B,ICqBvG2C,EAvDH,SAAevP,EAAW79D,GACpC,IAAIyV,OAEM,IAANzV,IACFA,EAAI,GAuCN,IApCA,IAAIkB,EAAO4J,gBAAM+yD,GACbn5B,EAAKxjC,EAAKqpB,MACVA,OAAe,IAAPma,EAAgB,GAAKA,EAC7BkC,EAAK1lC,EAAKspB,MACVA,OAAe,IAAPoc,EAAgB,GAAKA,EAE7B+U,EAAU,WAEZ,IAAIxrB,EAAUtoB,EAAO,CACnB0iB,MAAOA,EACPC,MAAOA,IAELqS,EAAU1/B,OAAO8C,KAAKkwB,GAE1B0M,EAAQx5B,MAAK,SAAUvC,EAAGmC,GACxB,IAAIwS,EAAIivB,EAER,OAA8B,QAArBjvB,EAAK0a,EAAQrvB,UAAuB,IAAP2U,OAAgB,EAASA,EAAG5N,SAAiC,QAArB68B,EAAKvU,EAAQltB,UAAuB,IAAPyhC,OAAgB,EAASA,EAAG78B,WAEzI,IAAIwlE,EAAaxwC,EAAQ,GAEzB,IAAKtS,EAAM5rB,SAA0C,QAA9B8W,EAAK0a,EAAQk9C,UAAgC,IAAP53D,OAAgB,EAASA,EAAG5N,SAAW7H,EAClG,MAAO,QAGT,IAAI2qE,EAAcpgD,EAAMxpB,WAAU,SAAUouB,GAC1C,OAAOA,EAAK1E,KAAO4iD,KAGrB9iD,EAAMloB,OAAOsoE,EAAa,GAE1BngD,EAAQA,EAAMzrB,QAAO,SAAUk+B,GAC7B,QAASA,EAAK5S,SAAWgjD,GAAcpwC,EAAK3S,SAAW+iD,SAI9C,CAGX,GAAgB,UAFF1xB,IAEW,MAG3B,MAAO,CACLpxB,MAAOA,EACPC,MAAOA,ICrDP8iD,EAAc,SAAqB/D,EAAcM,EAAqB3qE,GACxE,IAAIm9C,EAAW,GAEf,OAAQktB,GACN,KAAK9D,EAAa+D,kBAChBntB,EAAWwtB,EAAoB3qE,GAC/B,MAEF,QACEm9C,EAAW,GAIf,OAAOA,GA8PMkxB,EAjPF,SAAgBrsE,EAAMlB,EAAGwqE,EAAa7B,EAAcC,EAAgBW,QACrE,IAANvpE,IACFA,EAAI,QAGc,IAAhBwqE,IACFA,OAAcliE,QAGK,IAAjBqgE,IACFA,EAAe,SAGM,IAAnBC,IACFA,EAAiB,CAAC,YAGC,IAAjBW,IACFA,EAAe9D,EAAa+D,mBAG9B,IAAI/zD,EAAKvU,EAAKqpB,MACVA,OAAe,IAAP9U,EAAgB,GAAKA,EAC7BivB,EAAKxjC,EAAKspB,MACVA,OAAe,IAAPka,EAAgB,GAAKA,EAC7B8oC,EAAqB,CACvBvH,SAAU,CAAC,CACTx7C,GAAI,IACJF,MAAOA,IAET68C,aAAc,IAGhB,GAAImC,IAAiB9D,EAAa+D,oBAAsBj/C,EAAMjmB,OAAM,SAAU6qB,GAC5E,OAAOA,EAAK7wB,eAAeksE,MAE3B,OAAOgD,EAIT,IAAI9C,EAAa,GAEbb,EAAsB,GAO1B,GALIN,IAAiB9D,EAAa+D,oBAChCkB,EAAanC,EAAiBh+C,EAAOigD,GACrCX,EAAsBf,EAAO4B,EAAY/B,EAAcC,KAGpDiB,EAAoBlrE,OACvB,OAAO6uE,EAST,IANA,IAAIC,EAA0BnqE,eAAKumE,EAAoBj9D,KAAI,SAAUnJ,GACnE,OAAOA,EAAKiL,KAAK,QAGfg/D,EAAShsE,KAAKE,IAAI5B,EAAGuqB,EAAM5rB,OAAQ8uE,EAAwB9uE,QAEtDlC,EAAI,EAAGA,EAAI8tB,EAAM5rB,OAAQlC,IAChC8tB,EAAM9tB,GAAGkuE,YAAcluE,EAIzB,IAAIkxE,EAAY,GACZC,EAAoB,GACpB3H,EAAW,GAEf,IAASxpE,EAAI,EAAGA,EAAIixE,EAAQjxE,IAC1B,GAAU,IAANA,EAAS,CAEX,IAAIoxE,EAAcnsE,KAAKqS,MAAMrS,KAAKy9B,SAAW5U,EAAM5rB,QAEnD,OAAQ4qE,GACN,KAAK9D,EAAa+D,kBAChBmE,EAAUlxE,GAAKotE,EAAoBgE,GACnC,MAEF,QACEF,EAAUlxE,GAAK,GAInBmxE,EAAkBzuE,KAAK0uE,GACvB5H,EAASxpE,GAAK,CAAC8tB,EAAMsjD,IACrBtjD,EAAMsjD,GAAa1H,UAAYz2D,OAAOjT,OACjC,CAqCL,IApCA,IAAIqxE,GAAe3mE,IACf4mE,EAAuB,EAEvBpyB,EAAU,SAAiB9+C,GAC7B,IAAK+wE,EAAkBzgE,SAAStQ,GAAI,CAGlC,IAFA,IAAImxE,EAAgB,EAEXhqE,EAAI,EAAGA,EAAI2pE,EAAUhvE,OAAQqF,IAAK,CAEzC,IAAIolB,EAAW,EAEf,OAAQmgD,GACN,KAAK9D,EAAa+D,kBAChBpgD,EAAWigD,EAAYQ,EAAoBt/C,EAAM1tB,GAAG8tE,aAAcgD,EAAU3pE,GAAIulE,GAOpFyE,GAAiB5kD,EAInB,IAAI6kD,EAAcD,EAAgBL,EAAUhvE,OAExCsvE,EAAcH,IAAgBH,EAAUhtE,MAAK,SAAU07C,GACzD,OAAO7vC,kBAAQ6vC,EAAUixB,EAAY/D,EAAcM,EAAqBt/C,EAAM1tB,GAAG8tE,mBAEjFmD,EAAcG,EACdF,EAAuBlxE,KAMpBA,EAAI,EAAGA,EAAI0tB,EAAM5rB,OAAQ9B,IAChC8+C,EAAQ9+C,GAGV8wE,EAAUlxE,GAAK6wE,EAAY/D,EAAcM,EAAqBkE,GAC9DH,EAAkBzuE,KAAK4uE,GACvB9H,EAASxpE,GAAK,CAAC8tB,EAAMwjD,IACrBxjD,EAAMwjD,GAAsB5H,UAAYz2D,OAAOjT,GAMnD,IAFA,IAAI2+C,EAAa,IAEJ,CACX,IAAS3+C,EAAI,EAAGA,EAAI8tB,EAAM5rB,OAAQlC,IAAK,CACrC,IAAIyxE,EAAmB,EACnB56C,EAAcnsB,IAElB,GAAqB,IAAfi0C,IAAoBwyB,EAAkBzgE,SAAS1Q,GAAK,CACxD,IAAK,IAAIuH,EAAI,EAAGA,EAAI2pE,EAAUhvE,OAAQqF,IAAK,CAEzC,IAAIolB,EAAW,EAEf,OAAQmgD,GACN,KAAK9D,EAAa+D,kBAChBpgD,EAAWigD,EAAYQ,EAAoBptE,GAAIkxE,EAAU3pE,GAAIulE,GAQ7DngD,EAAWkK,IACbA,EAAclK,EACd8kD,EAAmBlqE,GAKvB,QAA2BsE,IAAvBiiB,EAAM9tB,GAAG0pE,UACX,IAAK,IAAIjoE,EAAI+nE,EAASt/D,OAAO4jB,EAAM9tB,GAAG0pE,YAAYxnE,OAAS,EAAGT,GAAK,EAAGA,IAChE+nE,EAASt/D,OAAO4jB,EAAM9tB,GAAG0pE,YAAYjoE,GAAGusB,KAAOF,EAAM9tB,GAAGguB,IAC1Dw7C,EAASt/D,OAAO4jB,EAAM9tB,GAAG0pE,YAAY9jE,OAAOnE,EAAG,GAMrDqsB,EAAM9tB,GAAG0pE,UAAYz2D,OAAOw+D,GAC5BjI,EAASiI,GAAkB/uE,KAAKorB,EAAM9tB,KAK1C,IAAI0xE,GAAoB,EAExB,IAAS1xE,EAAI,EAAGA,EAAIwpE,EAAStnE,OAAQlC,IAAK,CACxC,IAAIyvE,EAAejG,EAASxpE,GACxB2xE,EAAc,IAAIzG,EAAO,IAE7B,IAAS3jE,EAAI,EAAGA,EAAIkoE,EAAavtE,OAAQqF,IACvCoqE,EAAcA,EAAY33B,IAAI,IAAIkxB,EAAOkC,EAAoBqC,EAAaloE,GAAG2mE,eAI/E,IAAI0D,EAAYD,EAAYpG,IAAIkE,EAAavtE,QAExC0vE,EAAU/F,MAAM,IAAIX,EAAOgG,EAAUlxE,OACxC0xE,GAAoB,EAEpBR,EAAUlxE,GAAK4xE,EAAUzG,UAM7B,GAFAxsB,IAEI7wB,EAAMjmB,OAAM,SAAU6qB,GACxB,YAA0B7mB,IAAnB6mB,EAAKg3C,cACRgI,GAAqB/yB,GAAc,IACvC,MAKJ,IAAIgsB,EAAe,GACfC,EAAiB,GA0BrB,OAzBA78C,EAAM1d,SAAQ,SAAUmwB,GACtB,IAAIxnB,EAAIivB,EAEJra,EAAS4S,EAAK5S,OACdC,EAAS2S,EAAK3S,OACdg9C,EAEI,QAFe7xD,EAAK8U,EAAM5pB,MAAK,SAAUwuB,GAC/C,OAAOA,EAAK1E,KAAOJ,YACE,IAAP5U,OAAgB,EAASA,EAAG0wD,UACxCoB,EAEI,QAFe7iC,EAAKna,EAAM5pB,MAAK,SAAUwuB,GAC/C,OAAOA,EAAK1E,KAAOH,YACE,IAAPoa,OAAgB,EAASA,EAAGyhC,UACxCqB,EAAY,GAAGnmE,OAAOimE,EAAiB,OAAOjmE,OAAOkmE,GAEzD,GAAIF,EAAeG,GACjBH,EAAeG,GAAWxxD,YACrB,CACL,IAAIyxD,EAAU,CACZp9C,OAAQi9C,EACRh9C,OAAQi9C,EACRvxD,MAAO,GAETqxD,EAAeG,GAAaC,EAC5BL,EAAajoE,KAAKsoE,OAGf,CACLxB,SAAUA,EACVmB,aAAcA,ICrPHkH,EAjBQ,SAA0B7qE,EAAMwrC,GAErD,IAAIs/B,EAAmB,IAAI5G,EAAO14B,GAE9Bu/B,EAAkBD,EAAiBlG,QAEnCoG,EAAa,IAAI9G,EAAOlkE,GAExBirE,EAAYD,EAAWpG,QAEvBxzC,EAAM05C,EAAiB15C,IAAI45C,GAC3BE,EAAeH,EAAkBE,EAEjCJ,EAAmBK,EAAe95C,EAAM85C,EAAe,EAC3D,OAAOL,GC0CMM,EAlDa,SAA+BrkD,EAAOskD,EAAUrE,EAAa7B,EAAcC,QACvF,IAAVr+C,IACFA,EAAQ,SAGU,IAAhBigD,IACFA,OAAcliE,QAGK,IAAjBqgE,IACFA,EAAe,SAGM,IAAnBC,IACFA,EAAiB,IAGnB,IAAIkG,EAAehkE,gBAAMyf,EAAMxrB,QAAO,SAAUowB,GAC9C,OAAOA,EAAK1E,KAAOokD,EAASpkD,OAE1BskD,EAAgBxkD,EAAMxpB,WAAU,SAAUouB,GAC5C,OAAOA,EAAK1E,KAAOokD,EAASpkD,MAG1BigD,EAAanC,EAAiBh+C,EAAOigD,GAErCX,EAAsBf,EAAO4B,EAAY/B,EAAcC,GAEvDoG,EAAqBnF,EAAoBkF,GACzCE,EAAsB,GAe1B,OAdAH,EAAahiE,SAAQ,SAAUqiB,EAAMjwB,GACnC,GAAIiwB,EAAK1E,KAAOokD,EAASpkD,GAAI,CAE3B,IAAIykD,EAAiBrF,EAAoB3qE,GAErCiwE,EAAwBb,EAAiBY,EAAgBF,GAC7DC,EAAoB9vE,KAAKgwE,GACzBhgD,EAAKm/C,iBAAmBa,MAI5BL,EAAazrE,MAAK,SAAUvC,EAAGmC,GAC7B,OAAOA,EAAEqrE,iBAAmBxtE,EAAEwtE,oBAEzB,CACLW,oBAAqBA,EACrBH,aAAcA,ICZHM,EA1Cf,WACE,SAASA,EAAUxvC,GACjBvjC,KAAK2Z,MAAQ4pB,EAAMjhC,OACnBtC,KAAKgtB,OAAS,GAEd,IAAK,IAAIsK,EAAK,EAAG07C,EAAUzvC,EAAOjM,EAAK07C,EAAQ1wE,OAAQg1B,IAAM,CAC3D,IAAIl3B,EAAI4yE,EAAQ17C,GAChBt3B,KAAKgtB,OAAO5sB,GAAKA,GAgCrB,OA3BA2yE,EAAU/wE,UAAUsC,KAAO,SAAU8C,GACnC,KAAOpH,KAAKgtB,OAAO5lB,KAAUA,GAC3BA,EAAOpH,KAAKgtB,OAAO5lB,GAGrB,OAAOA,GAGT2rE,EAAU/wE,UAAUuF,MAAQ,SAAU9C,EAAGmC,GACvC,IAAIqsE,EAAQjzE,KAAKsE,KAAKG,GAClByuE,EAAQlzE,KAAKsE,KAAKsC,GAClBqsE,IAAUC,IAEVD,EAAQC,GACNlzE,KAAKgtB,OAAOpmB,KAAOA,GAAG5G,KAAKuH,MAAMvH,KAAKgtB,OAAOpmB,GAAInC,GACrDzE,KAAKgtB,OAAOpmB,GAAK5G,KAAKgtB,OAAOvoB,KAEzBzE,KAAKgtB,OAAOvoB,KAAOA,GAAGzE,KAAKuH,MAAMvH,KAAKgtB,OAAOvoB,GAAImC,GACrD5G,KAAKgtB,OAAOvoB,GAAKzE,KAAKgtB,OAAOpmB,MAKjCmsE,EAAU/wE,UAAUmxE,UAAY,SAAU1uE,EAAGmC,GAC3C,OAAO5G,KAAKsE,KAAKG,KAAOzE,KAAKsE,KAAKsC,IAG7BmsE,EAvCT,GCLIK,EAAiB,SAAwB3uE,EAAGmC,GAC9C,OAAOnC,EAAImC,GAmGEysE,EA9Ff,WACE,SAASA,EAAcC,QACH,IAAdA,IACFA,EAAYF,GAGdpzE,KAAKszE,UAAYA,EACjBtzE,KAAKuzE,KAAO,GAoFd,OAjFAF,EAAcrxE,UAAUwxE,QAAU,SAAU3wE,GAC1C,OAAO,EAAIA,EAAQ,GAGrBwwE,EAAcrxE,UAAUyxE,SAAW,SAAU5wE,GAC3C,OAAO,EAAIA,EAAQ,GAGrBwwE,EAAcrxE,UAAUmb,UAAY,SAAUta,GAC5C,OAAc,IAAVA,EACK,KAGFwC,KAAKqS,OAAO7U,EAAQ,GAAK,IAGlCwwE,EAAcrxE,UAAUiO,QAAU,WAChC,OAAOjQ,KAAKuzE,KAAKjxE,QAAU,GAG7B+wE,EAAcrxE,UAAUg0B,IAAM,WAC5B,OAAOh2B,KAAKiQ,eAAYhE,EAAYjM,KAAKuzE,KAAK,IAGhDF,EAAcrxE,UAAU0xE,OAAS,WAC/B,IAAI19C,EAAMh2B,KAAKg2B,MACXE,EAASl2B,KAAKuzE,KAAKj+D,MAOvB,OALItV,KAAKuzE,KAAKjxE,OAAS,IACrBtC,KAAKuzE,KAAK,GAAKr9C,EACfl2B,KAAK2zE,SAAS,IAGT39C,GAGTq9C,EAAcrxE,UAAU4xE,OAAS,SAAUvyE,GACzC,GAAc,OAAVA,EAAgB,CAClBrB,KAAKuzE,KAAKzwE,KAAKzB,GACf,IAAIwB,EAAQ7C,KAAKuzE,KAAKjxE,OAAS,EAE/B,OADAtC,KAAK6zE,OAAOhxE,IACL,EAGT,OAAO,GAGTwwE,EAAcrxE,UAAU6xE,OAAS,SAAUhxE,GAGzC,IAFA,IAAImqB,EAAShtB,KAAKmd,UAAUta,GAErBA,GAASA,EAAQ,GAAK7C,KAAKszE,UAAUtzE,KAAKuzE,KAAKvmD,GAAShtB,KAAKuzE,KAAK1wE,IAAU,GAAG,CAEpF,IAAI+C,EAAM5F,KAAKuzE,KAAKvmD,GACpBhtB,KAAKuzE,KAAKvmD,GAAUhtB,KAAKuzE,KAAK1wE,GAC9B7C,KAAKuzE,KAAK1wE,GAAS+C,EAEnB/C,EAAQmqB,EACRA,EAAShtB,KAAKmd,UAAUta,KAI5BwwE,EAAcrxE,UAAU2xE,SAAW,SAAU9wE,GAC3C,IAAIuW,EAEAohB,EAAU33B,EACVozB,EAAOj2B,KAAKwzE,QAAQ3wE,GACpBszB,EAAQn2B,KAAKyzE,SAAS5wE,GACtBqN,EAAOlQ,KAAKuzE,KAAKjxE,OAER,OAAT2zB,GAAiBA,EAAO/lB,GAAQlQ,KAAKszE,UAAUtzE,KAAKuzE,KAAK/4C,GAAUx6B,KAAKuzE,KAAKt9C,IAAS,EACxFuE,EAAUvE,EACS,OAAVE,GAAkBA,EAAQjmB,GAAQlQ,KAAKszE,UAAUtzE,KAAKuzE,KAAK/4C,GAAUx6B,KAAKuzE,KAAKp9C,IAAU,IAClGqE,EAAUrE,GAGRtzB,IAAU23B,IACZphB,EAAK,CAACpZ,KAAKuzE,KAAK/4C,GAAUx6B,KAAKuzE,KAAK1wE,IAAS7C,KAAKuzE,KAAK1wE,GAASuW,EAAG,GAAIpZ,KAAKuzE,KAAK/4C,GAAWphB,EAAG,GAC/FpZ,KAAK2zE,SAASn5C,KAIX64C,EA3FT,GCIIS,EAAU,SAAiBtS,EAAWoH,GACxC,IAAImL,EAAgB,GAChB36D,EAAKooD,EAAUtzC,MACfA,OAAe,IAAP9U,EAAgB,GAAKA,EAC7BivB,EAAKm5B,EAAUrzC,MACfA,OAAe,IAAPka,EAAgB,GAAKA,EAEjC,GAAqB,IAAjBna,EAAM5rB,OACR,OAAOyxE,EAIT,IAAIC,EAAW9lD,EAAM,GACjB2vB,EAAU,IAAI+nB,IAClB/nB,EAAQzD,IAAI45B,GAEZ,IAQIC,EAAY,IAAIZ,GARA,SAAuB5uE,EAAGmC,GAC5C,OAAIgiE,EACKnkE,EAAEmkE,OAAShiE,EAAEgiE,OAGf,KAQT,IAJA1F,EAAiB8Q,EAAS5lD,GAAID,GAAO1d,SAAQ,SAAUmwB,GACrDqzC,EAAUL,OAAOhzC,OAGXqzC,EAAUhkE,WAAW,CAE3B,IAAIikE,EAAWD,EAAUP,SACrB1lD,EAASkmD,EAASlmD,OAClBC,EAASimD,EAASjmD,OAClB4vB,EAAQx2C,IAAI2mB,IAAW6vB,EAAQx2C,IAAI4mB,KACvC8lD,EAAcjxE,KAAKoxE,GAEdr2B,EAAQx2C,IAAI2mB,KACf6vB,EAAQzD,IAAIpsB,GACZk1C,EAAiBl1C,EAAQG,GAAO1d,SAAQ,SAAUmwB,GAChDqzC,EAAUL,OAAOhzC,OAIhBid,EAAQx2C,IAAI4mB,KACf4vB,EAAQzD,IAAInsB,GACZi1C,EAAiBj1C,EAAQE,GAAO1d,SAAQ,SAAUmwB,GAChDqzC,EAAUL,OAAOhzC,QAKvB,OAAOmzC,GAWLI,EAAa,SAAoB3S,EAAWoH,GAC9C,IAAImL,EAAgB,GAChB36D,EAAKooD,EAAUtzC,MACfA,OAAe,IAAP9U,EAAgB,GAAKA,EAC7BivB,EAAKm5B,EAAUrzC,MACfA,OAAe,IAAPka,EAAgB,GAAKA,EAEjC,GAAqB,IAAjBna,EAAM5rB,OACR,OAAOyxE,EAIT,IAAIK,EAAcjmD,EAAM5d,KAAI,SAAUqwB,GACpC,OAAOA,KAGLgoC,GACFwL,EAAYptE,MAAK,SAAUvC,EAAGmC,GAC5B,OAAOnC,EAAEmkE,OAAShiE,EAAEgiE,UASxB,IALA,IAAIyL,EAAc,IAAItB,EAAU7kD,EAAM3d,KAAI,SAAU1O,GAClD,OAAOA,EAAEusB,OAIJgmD,EAAY9xE,OAAS,GAAG,CAC7B,IAAIgyE,EAAUF,EAAYzW,QACtB3vC,EAASsmD,EAAQtmD,OACjBC,EAASqmD,EAAQrmD,OAEhBomD,EAAYlB,UAAUnlD,EAAQC,KACjC8lD,EAAcjxE,KAAKwxE,GACnBD,EAAY9sE,MAAMymB,EAAQC,IAI9B,OAAO8lD,GAqBMQ,EATW,SAA6B/S,EAAWoH,EAAQ4L,GAKxE,OAAKA,EAJO,CACVC,KAAMX,EACNY,QAASP,GAGEK,GAAMhT,EAAWoH,GADZuL,EAAW3S,EAAWoH,ICrD3B+L,EAjEA,SAAkBnT,EAAWoT,EAASC,GAC5B,iBAAZD,IAAsBA,EAAU,MACnB,iBAAbC,IAAuBA,EAAW,KAa7C,IAZA,IAQIC,EARA/nD,EAAW,EACXgoD,EAAa,EACbC,EAAgB,IAChB57D,EAAKooD,EAAUtzC,MACfA,OAAe,IAAP9U,EAAgB,GAAKA,EAC7BivB,EAAKm5B,EAAUrzC,MACfA,OAAe,IAAPka,EAAgB,GAAKA,EAC7B4sC,EAAa/mD,EAAM5rB,OAEnB4yE,EAAW,GACXC,EAAY,GAEPxtE,EAAI,EAAGA,EAAIstE,IAActtE,EAAG,CAGnCutE,EADIlS,GADAlwC,EAAO5E,EAAMvmB,IACCymB,IACC,EAAI6mD,EACvBE,EAAUnS,GAAU,EAAIiS,EAK1B,IAFA,IAAIG,EAAa5pE,EAAOg2D,GAEjBwT,EAAgB,GAAKjoD,EAAW6nD,GAAS,CAC9CG,EAAa,EAEb,IAASptE,EAAI,EAAGA,EAAIstE,IAActtE,EAAG,CACnC,IACIq7D,GADAlwC,EAAO5E,EAAMvmB,IACCymB,GAGlB,GAFA0mD,EAAc,EAEuB,IAAjCM,EAAWtiD,EAAK1E,IAAI0/B,SACtBonB,EAASlS,GAAU,MACd,CAGL,IAFA,IAAI0B,EAAYtxB,EAAa4vB,EAAQ70C,EAAO,UAEnC/tB,EAAI,EAAGA,EAAIskE,EAAUpiE,SAAUlC,EAAG,CACzC,IAAI4kE,EAAWN,EAAUtkE,GACrB2tD,EAAYqnB,EAAWpQ,GAAUjX,UACjCA,EAAY,IAAG+mB,GAAeK,EAAUnQ,GAAYjX,GAG1DmnB,EAASlS,GAAU6R,EAAWC,EAC9BC,GAAcG,EAASlS,IAI3B+R,GAAc,EAAIA,GAAcE,EAChCloD,EAAW,EAEX,IAASplB,EAAI,EAAGA,EAAIstE,IAActtE,EAAG,CACnC,IAAImrB,EAEJgiD,EAAcI,EADVlS,GADAlwC,EAAO5E,EAAMvmB,IACCymB,IACe2mD,EACjChoD,GAAY1nB,KAAKqF,IAAIoqE,EAAcK,EAAUnS,IAC7CmS,EAAUnS,GAAU8R,EAGtBE,GAAiB,EAGnB,OAAOG,GCjELhoC,EAGF,SAAc/e,EAAIxY,EAAMD,EAAIZ,QACf,IAAPqZ,IACFA,GAZsB,QAeX,IAATxY,IACFA,GAfsB,QAkBb,IAAPD,IACFA,GAnBsB,QAsBV,IAAVZ,IACFA,EAtByB,MAyB3B/U,KAAKouB,GAAKA,EACVpuB,KAAK4V,KAAOA,EACZ5V,KAAK2V,GAAKA,EACV3V,KAAK+U,MAAQA,GAQb83B,GAEJ,WACE,SAASA,EAAKze,EAAIrZ,QACL,IAAPqZ,IACFA,GA1CsB,QA6CV,IAAVrZ,IACFA,EA5CyB,MA+C3B/U,KAAKouB,GAAKA,EACVpuB,KAAK+U,MAAQA,EACb/U,KAAKmuB,MAAQ,GACbnuB,KAAKokC,QAAU,GAQjB,OALAyI,EAAK7qC,UAAU2vC,QAAU,SAAU/Q,GACjC5gC,KAAKmuB,MAAMrrB,KAAK89B,GAChB5gC,KAAKokC,QAAQxD,EAAKxS,IAAMwS,GAGnBiM,EArBT,GA0BIwoC,GAEJ,WACE,SAASA,EAAMjnD,EAAIknD,EAAoB1iD,QAC1B,IAAPxE,IACFA,GAtEsB,QAyEG,IAAvBknD,IACFA,GAAqB,QAGN,IAAb1iD,IACFA,GAAW,GAGb5yB,KAAKouB,GAAKA,EACVpuB,KAAKs1E,mBAAqBA,EAC1Bt1E,KAAKmuB,MAAQ,GACbnuB,KAAKkuB,MAAQ,GACbluB,KAAK6yB,QAAU,GACf7yB,KAAKokC,QAAU,GACfpkC,KAAKu1E,aAAe,GACpBv1E,KAAKw1E,aAAe,GACpBx1E,KAAKy1E,QAAU,EACfz1E,KAAK4yB,SAAWA,EAiClB,OA9BAyiD,EAAMrzE,UAAU0zE,WAAa,WAC3B,OAAO11E,KAAKkuB,MAAM5rB,QAGpB+yE,EAAMrzE,UAAUwyC,QAAU,SAAUpmB,EAAIrZ,GACtC,IAAI/U,KAAK6yB,QAAQzE,GAAjB,CACA,IAAI0E,EAAO,IAAI+Z,GAAKze,EAAIrZ,GACxB/U,KAAKkuB,MAAMprB,KAAKgwB,GAChB9yB,KAAK6yB,QAAQzE,GAAM0E,EACd9yB,KAAKu1E,aAAaxgE,KAAQ/U,KAAKu1E,aAAaxgE,GAAS,IAC1D/U,KAAKu1E,aAAaxgE,GAAOjS,KAAKsrB,KAGhCinD,EAAMrzE,UAAU2vC,QAAU,SAAUvjB,EAAIxY,EAAMD,EAAIZ,GAEhD,IADI/U,KAAKs1E,yBAA6BrpE,IAAPmiB,KAAkBA,EAAKpuB,KAAKy1E,aACvDz1E,KAAK6yB,QAAQjd,IAAS5V,KAAK6yB,QAAQld,IAAO3V,KAAK6yB,QAAQld,GAAIyuB,QAAQhW,IAAvE,CACA,IAAIwS,EAAO,IAAIuM,EAAK/e,EAAIxY,EAAMD,EAAIZ,GAOlC,GANA/U,KAAKmuB,MAAMrrB,KAAK89B,GAChB5gC,KAAKokC,QAAQhW,GAAMwS,EACnB5gC,KAAK6yB,QAAQjd,GAAM+7B,QAAQ/Q,GACtB5gC,KAAKw1E,aAAazgE,KAAQ/U,KAAKw1E,aAAazgE,GAAS,IAC1D/U,KAAKw1E,aAAazgE,GAAOjS,KAAK89B,IAEzB5gC,KAAK4yB,SAAU,CAClB,IAAI+iD,EAAQ,IAAIxoC,EAAK/e,EAAIzY,EAAIC,EAAMb,GACnC/U,KAAK6yB,QAAQld,GAAIg8B,QAAQgkC,GACzB31E,KAAKw1E,aAAazgE,GAAOjS,KAAK6yE,MAI3BN,EAxDT,GCjEIO,GAEJ,WACE,SAASA,EAAQC,EAAUC,EAAQC,EAAej2D,EAAWk2D,GAC3Dh2E,KAAK61E,SAAWA,EAChB71E,KAAK81E,OAASA,EACd91E,KAAKi2E,kBAAoB,CACvBC,WAAYH,GDPa,KCQzBj2D,UAAWA,GDTc,KCUzBq2D,WAAYH,GDTa,MCqB7B,OARAJ,EAAQ5zE,UAAUo0E,QAAU,SAAUhmE,GACpC,OAAOpQ,KAAK61E,WAAazlE,EAAMimE,UAAYr2E,KAAK81E,SAAW1lE,EAAM0lE,QAAU91E,KAAKi2E,oBAAsB7lE,EAAM6lE,mBAG9GL,EAAQ5zE,UAAUs0E,WAAa,SAAUlmE,GACvC,OAAQpQ,KAAKo2E,QAAQhmE,IAGhBwlE,EAnBT,GAuBIW,GAEJ,WACE,SAASA,IACPv2E,KAAKw2E,OAAS,GACdx2E,KAAKy2E,YAAc,GAiFrB,OA9EAF,EAAQv0E,UAAUo0E,QAAU,SAAUhmE,GACpC,IAAIsmE,EAAU12E,KAAKy2E,YAAYn0E,OAE/B,GAAIo0E,IADUtmE,EAAM9N,OACK,OAAO,EAEhC,IAAK,IAAIlC,EAAI,EAAGA,EAAIs2E,EAASt2E,IAC3B,GAAIJ,KAAKy2E,YAAYr2E,KAAOgQ,EAAMhQ,GAAI,OAAO,EAG/C,OAAO,GAGTm2E,EAAQv0E,UAAUs0E,WAAa,SAAUlmE,GACvC,OAAQpQ,KAAKo2E,QAAQhmE,IAKvBmmE,EAAQv0E,UAAU20E,SAAW,SAAUd,EAAUC,EAAQC,EAAej2D,EAAWk2D,GAEjF,OADAh2E,KAAKy2E,YAAY3zE,KAAK,IAAI8yE,GAAQC,EAAUC,EAAQC,EAAej2D,EAAWk2D,IACvEh2E,KAAKy2E,aAKdF,EAAQv0E,UAAU40E,QAAU,SAAUC,EAASjkD,QAC7B,IAAZikD,IACFA,GD3DuB,QC8DR,IAAbjkD,IACFA,GAAW,GAGb,IAAI7D,EAAQ,IAAIsmD,GAAMwB,GAAS,EAAMjkD,GAYrC,OAXA5yB,KAAKy2E,YAAYhmE,SAAQ,SAAUqmE,GACjC,IAAIC,EAAaD,EAAQjB,SACrBmB,EAAWF,EAAQhB,OACnB18D,EAAK09D,EAAQb,kBACbC,EAAa98D,EAAG88D,WAChBp2D,EAAY1G,EAAG0G,UACfq2D,EAAa/8D,EAAG+8D,WD1EK,OC2ErBD,GAAkCnnD,EAAMylB,QAAQuiC,EAAYb,GD3EvC,OC4ErBC,GAAkCpnD,EAAMylB,QAAQwiC,EAAUb,GD5ErC,OC6ErBD,GAAoCC,IAAeD,GAAYnnD,EAAM4iB,aAAQ1lC,EAAW8qE,EAAYC,EAAUl3D,MAE7GiP,GAITwnD,EAAQv0E,UAAUi1E,YAAc,WAC9Bj3E,KAAKw2E,OAAS,GAId,IAHA,IAAIU,OAAUjrE,EAGL7L,EAFQJ,KAAKy2E,YAAYn0E,OAER,EAAGlC,GAAK,EAAGA,IAAK,CACxC,IAAI02E,EAAU92E,KAAKy2E,YAAYr2E,GAC3B+2E,EAAcL,EAAQjB,SACtBuB,EAAYN,EAAQhB,OAEpBqB,EAAcC,SAA0BnrE,IAAZirE,GAAyBE,IAAcF,KACrEl3E,KAAKw2E,OAAO1zE,KAAK1C,GACjB82E,EAAUC,GAId,OAAOn3E,KAAKw2E,QAGdD,EAAQv0E,UAAU0zE,WAAa,WAC7B,IAAI7iD,EAAU,GAKd,OAJA7yB,KAAKy2E,YAAYhmE,SAAQ,SAAUqmE,GAC5BjkD,EAAQikD,EAAQjB,YAAWhjD,EAAQikD,EAAQjB,WAAY,GACvDhjD,EAAQikD,EAAQhB,UAASjjD,EAAQikD,EAAQhB,SAAU,MAEnDh1E,OAAO8C,KAAKivB,GAASvwB,QAGvBi0E,EApFT,GAuFIc,GAEJ,WACE,SAASA,EAAQC,GAKf,GAJAt3E,KAAKu3E,IAAM,GACXv3E,KAAKw3E,UAAY,GACjBx3E,KAAKy3E,UAAY,GACjBz3E,KAAKmuB,MAAQ,GACRmpD,EAAL,CAEA,KAAOA,GAAM,CACX,IAAIvvE,EAAIuvE,EAAK12C,KACb5gC,KAAKmuB,MAAMrrB,KAAKiF,GAChB/H,KAAKw3E,UAAUzvE,EAAE6N,MAAQ,EACzB5V,KAAKw3E,UAAUzvE,EAAE4N,IAAM,EACvB3V,KAAKy3E,UAAU1vE,EAAEqmB,IAAM,EACvBkpD,EAAOA,EAAKI,QAId13E,KAAKmuB,MAAQnuB,KAAKmuB,MAAMuO,WAW1B,OARA26C,EAAQr1E,UAAU21E,QAAU,SAAU7kD,GACpC,OAAmC,IAA5B9yB,KAAKw3E,UAAU1kD,EAAK1E,KAG7BipD,EAAQr1E,UAAU41E,QAAU,SAAUh3C,GACpC,OAAmC,IAA5B5gC,KAAKy3E,UAAU72C,EAAKxS,KAGtBipD,EA7BT,GAgCIQ,GAEJ,WACE,SAASA,EAAMz+D,GACb,IAAI0+D,EAAS1+D,EAAG0+D,OACZzvC,EAAKjvB,EAAG2+D,WACRA,OAAoB,IAAP1vC,EAAgB,EAAIA,EACjCkC,EAAKnxB,EAAG4+D,WACRA,OAAoB,IAAPztC,EAAgB,EAAIA,EACjCC,EAAKpxB,EAAG6+D,WACRA,OAAoB,IAAPztC,EAAgB,EAAIA,EACjC0oB,EAAK95C,EAAG4c,IACRA,OAAa,IAAPk9B,EAAgB,GAAKA,EAC3B+N,EAAK7nD,EAAGwZ,SACRA,OAAkB,IAAPquC,GAAwBA,EACnCC,EAAK9nD,EAAG8+D,QACRA,OAAiB,IAAPhX,GAAwBA,EAEtClhE,KAAK83E,OAASA,EACd93E,KAAKm4E,QAAU,IAAI5B,GACnBv2E,KAAKo4E,QAAU,EACfp4E,KAAKq4E,uBAAyB,GAC9Br4E,KAAKs4E,kBAAoB,GACzBt4E,KAAK+3E,WAAaA,EAClB/3E,KAAKg2B,IAAMA,EACXh2B,KAAK4yB,SAAWA,EAChB5yB,KAAKy1E,QAAU,EAEfz1E,KAAKi4E,WAAaA,EAClBj4E,KAAKg4E,WAAaA,EAClBh4E,KAAKk4E,QAAUA,EACXl4E,KAAKi4E,WAAaj4E,KAAKg4E,aAAYh4E,KAAKi4E,WAAaj4E,KAAKg4E,YAC9Dh4E,KAAKu4E,SAAW,GAihBlB,OA7gBAV,EAAM71E,UAAUw2E,qBAAuB,SAAUzpD,EAAO8mD,GACtD,IAAItmD,EAAQvvB,KAER4C,EAAS,GACTiwB,EAAU9D,EAAM8D,QAIpB,OAHAgjD,EAAS1nD,MAAM1d,SAAQ,SAAUmwB,IAC3BrR,EAAMqD,UAAYijD,EAAS9gE,OAAS8d,EAAQ+N,EAAKjrB,IAAIZ,QAAOnS,EAAOE,KAAK89B,MAEvEh+B,GAGTi1E,EAAM71E,UAAUy2E,iBAAmB,SAAU1pD,EAAO2pD,EAAOC,EAAOC,GAChE,IAAK54E,KAAK4yB,UAAY8lD,IAAUC,EAAO,OAAO,KAM9C,IALA,IAAI9lD,EAAU9D,EAAM8D,QAEhBgmD,EADUhmD,EAAQ8lD,EAAMhjE,IACDwY,MACvBurC,EAAamf,EAAav2E,OAErBlC,EAAI,EAAGA,EAAIs5D,EAAYt5D,IAAK,CACnC,IAAIwgC,EAAOi4C,EAAaz4E,GACxB,IAAIw4E,EAAQhB,QAAQh3C,IAASA,EAAKjrB,KAAO+iE,EAAM9iE,KAE/C,GAAK5V,KAAK4yB,UAKR,GAAIC,EAAQ6lD,EAAM9iE,MAAMb,MAAQ8d,EAAQ8lD,EAAMhjE,IAAIZ,OAAS8d,EAAQ6lD,EAAM9iE,MAAMb,QAAU8d,EAAQ8lD,EAAMhjE,IAAIZ,OAAS2jE,EAAM3jE,OAAS6rB,EAAK7rB,MACtI,OAAO6rB,OALT,GAAI83C,EAAM3jE,MAAQ6rB,EAAK7rB,OAAS2jE,EAAM3jE,QAAU6rB,EAAK7rB,OAAS8d,EAAQ6lD,EAAM/iE,IAAIZ,OAAS8d,EAAQ8lD,EAAMhjE,IAAIZ,MACzG,OAAO6rB,EASb,OAAO,MAGTi3C,EAAM71E,UAAU82E,qBAAuB,SAAU/pD,EAAOgqD,EAAeC,EAAcJ,GAMnF,IALA,IAAIh2E,EAAS,GACTq2E,EAAoBF,EAAcpjE,GAClCwY,EAAQY,EAAM8D,QAAQomD,GAAmB9qD,MACzCurC,EAAavrC,EAAM7rB,OAEdlC,EAAI,EAAGA,EAAIs5D,EAAYt5D,IAAK,CACnC,IAAIwgC,EAAOzS,EAAM/tB,GACb01E,EAAS/mD,EAAM8D,QAAQ+N,EAAKjrB,IAE5BqjE,GAAgBlD,EAAO/gE,QAAU6jE,EAAQjB,QAAQ7B,IACnDlzE,EAAOE,KAAK89B,GAIhB,OAAOh+B,GAGTi1E,EAAM71E,UAAUk3E,uBAAyB,SAAUnqD,EAAOgqD,EAAeC,EAAcJ,GAQrF,IAPA,IAAIh2E,EAAS,GACTiwB,EAAU9D,EAAM8D,QAChBmjD,EAAcnjD,EAAQkmD,EAAcpjE,IAAIZ,MAExCoZ,EADW0E,EAAQkmD,EAAcnjE,MAChBuY,MACjBurC,EAAavrC,EAAM7rB,OAEdlC,EAAI,EAAGA,EAAIs5D,EAAYt5D,IAAK,CACnC,IAAIwgC,EAAOzS,EAAM/tB,GACb+4E,EAAiBtmD,EAAQ+N,EAAKjrB,IAAIZ,MAElCgkE,EAAcpjE,KAAOirB,EAAKjrB,IAAMqjE,EAAeG,GAAkBP,EAAQjB,QAAQ9kD,EAAQ+N,EAAKjrB,OAI9FojE,EAAchkE,MAAQ6rB,EAAK7rB,OAASgkE,EAAchkE,QAAU6rB,EAAK7rB,OAASihE,GAAemD,IAC3Fv2E,EAAOE,KAAK89B,GAIhB,OAAOh+B,GAGTi1E,EAAM71E,UAAUo3E,WAAa,SAAUC,GACrC,IAAIC,EAAW,GAIf,OAHAD,EAAU5oE,SAAQ,SAAU8oE,GACrBD,EAASC,EAAI1C,WAAUyC,EAASC,EAAI1C,UAAW,MAE/C/1E,OAAO8C,KAAK01E,GAAUh3E,QAG/Bu1E,EAAM71E,UAAUw3E,aAAe,SAAU31E,GACvC,IAAI41E,OAAWxtE,EAwBf,OAvBAnL,OAAO8C,KAAKC,GAAK4M,SAAQ,SAAUwlE,GACjC,IAAI78D,EAAKvV,EAAIoyE,GACTC,EAAa98D,EAAG88D,WAChBp2D,EAAY1G,EAAG0G,UACfq2D,EAAa/8D,EAAG+8D,WAEfsD,GASDvD,EAAauD,EAASvD,YAAcA,IAAeuD,EAASvD,YAAcp2D,EAAY25D,EAAS35D,WAAao2D,IAAeuD,EAASvD,YAAcp2D,IAAc25D,EAAS35D,WAAaq2D,EAAasD,EAAStD,cAC9MsD,EAAW,CACTvD,WAAYA,EACZp2D,UAAWA,EACXq2D,WAAYA,IAZdsD,EAAW,CACTvD,WAAYA,EACZp2D,UAAWA,EACXq2D,WAAYA,MAaXsD,GAGT5B,EAAM71E,UAAU03E,MAAQ,WACtB,IAAInqD,EAAQvvB,KAERm4E,EAAUn4E,KAAKm4E,QAEnB,GADIn4E,KAAKk4E,SAAS59D,QAAQq/D,IAAI,iBAAkBxB,GACb,IAA/BA,EAAQ1B,YAAYn0E,OAAc,OAAO,EAC7C,IAAIswB,EAAW5yB,KAAK4yB,SAChB7D,EAAQopD,EAAQvB,SDhTK,ECgToBhkD,GACzCC,EAAU9D,EAAM8D,QAChB+mD,EAAa,IAAIrD,GACjB72E,EAAO,GACXqvB,EAAMb,MAAMzd,SAAQ,SAAUqiB,GACTvD,EAAMipD,qBAAqBzpD,EAAO+D,GAExCriB,SAAQ,SAAUmwB,GAC7B,IAAIi5C,EAAYhnD,EAAQ+N,EAAKjrB,IACzBsgE,EAAoB,GAAGjxE,OAAO8tB,EAAK/d,MAAO,KAAK/P,OAAO47B,EAAK7rB,MAAO,KAAK/P,OAAO60E,EAAU9kE,OACvFrV,EAAKu2E,KAAoBv2E,EAAKu2E,GAAqB,CACtDoD,UAAW,GACXnD,WAAYpjD,EAAK/d,MACjB+K,UAAW8gB,EAAK7rB,MAChBohE,WAAY0D,EAAU9kE,QAExB,IAAIuiE,EAAO,CACTT,QAAS9nD,EAAMX,GACfwS,KAAMA,EACN82C,QAAS,MAEXh4E,EAAKu2E,GAAmBoD,UAAUv2E,KAAKw0E,SAI3C,IAAImC,EAAWz5E,KAAKw5E,aAAa95E,GAEjC,GAAK+5E,EAAL,CACAG,EAAWnD,YAAY3zE,KAAK,IAAI8yE,GAAQ,EAAG,EAAG6D,EAASvD,WAAYuD,EAAS35D,UAAW25D,EAAStD,aAEhG,IA8HIx0E,EAAM,GAAGqD,OAAOy0E,EAASvD,WAAY,KAAKlxE,OAAOy0E,EAAS35D,UAAW,KAAK9a,OAAOy0E,EAAStD,YAC9F,OA/HmB,SAAS2D,EAAaT,GAuCvC,IArCA,IAAI7C,EAASoD,EAAW3C,cACpB+B,EAAeY,EAAWnD,YAAY,GAAGR,kBAAkBC,WAC3D6D,EAASH,EAAWnD,YAAYD,EAAO,IAAIV,OAE3CkE,EAAe,GACf/6B,GAAO,EACPg7B,EAAQ,EACR3Q,EAAM12C,GAAY,EAAI,EAEtB0sB,EAAU,SAAiBl/C,GAC7B,GAAI6+C,EAAM,MAAO,QAEjBo6B,EAAU5oE,SAAQ,SAAUvO,GAC1B,IAAI02E,EAAU,IAAIvB,GAAQn1E,GAEtBg4E,EAAe3qD,EAAMkpD,iBAAiB1pD,EAAO6pD,EAAQzqD,MAAMqoD,EAAOp2E,IAAKw4E,EAAQzqD,MAAMqoD,EAAO,IAAKoC,GAEjGsB,IAEGF,EAAaE,EAAanlE,SAC7BilE,EAAaE,EAAanlE,OAAS,CACjCskE,UAAW,GACXv5D,UAAWo6D,EAAanlE,QAI5BilE,EAAaE,EAAanlE,OAAOskE,UAAUv2E,KAAK,CAC9C+zE,QAAS9nD,EAAMX,GACfwS,KAAMo5C,EACNtC,QAASx1E,IAEX+3E,EAAQL,EAAWnD,YAAYD,EAAOp2E,IAAIy1E,SAC1C52B,GAAO,OAKJ7+C,EAAIo2E,EAAOl0E,OAAS,EAAGlC,EAAIkpE,EAAKlpE,IAAK,CAG5C,GAAgB,UAFFk/C,EAAQl/C,GAEG,MAG3B,GAAI6+C,EAAM,CACR,IAAIk7B,EAAuB5qD,EAAMiqD,aAAaQ,GAE9CJ,EAAWnD,YAAY3zE,KAAK,IAAI8yE,GAAQmE,EAAQE,ED/XzB,KC+XmDE,EAAqBr6D,UD/XxE,OCgYvB,IAAIs6D,EAAQR,EAAWnD,YAAYn0E,OAAS,EAC5C,OAAIitB,EAAM4oD,QAAQ1B,YAAY2D,KAAWR,EAAWnD,YAAY2D,IACzDN,EAAaE,EAAaG,EAAqBr6D,WAAWu5D,WAGnE,IAAIgB,EAAc,GAClBp7B,GAAO,EACP,IAAIq7B,EAAU,EACdjB,EAAU5oE,SAAQ,SAAUvO,GAC1B,IAAI02E,EAAU,IAAIvB,GAAQn1E,GAEtBq4E,EAAmBhrD,EAAMupD,qBAAqB/pD,EAAO6pD,EAAQzqD,MAAMqoD,EAAO,IAAKwC,EAAcJ,GAE7F2B,EAAiBj4E,OAAS,IAC5B28C,GAAO,EACPq7B,EAAUP,EACVQ,EAAiB9pE,SAAQ,SAAUmwB,GACjC,IAAIj/B,EAAM,GAAGqD,OAAO47B,EAAK7rB,MAAO,KAAK/P,OAAO6tB,EAAQ+N,EAAKjrB,IAAIZ,OACxDslE,EAAY14E,KAAM04E,EAAY14E,GAAO,CACxC03E,UAAW,GACXv5D,UAAW8gB,EAAK7rB,MAChBohE,WAAYtjD,EAAQ+N,EAAKjrB,IAAIZ,QAE/BslE,EAAY14E,GAAK03E,UAAUv2E,KAAK,CAC9B+zE,QAAS9nD,EAAMX,GACfwS,KAAMA,EACN82C,QAASx1E,WAKjB,IAAIs4E,EAAahE,EAAOl0E,OAEpB2vD,EAAU,SAAiB7xD,GAC7B,GAAI6+C,EAAM,MAAO,QACjB,IAAI59C,EAAQm1E,EAAOp2E,GACnBi5E,EAAU5oE,SAAQ,SAAUvO,GAC1B,IAAI02E,EAAU,IAAIvB,GAAQn1E,GAEtBu4E,EAAqBlrD,EAAM2pD,uBAAuBnqD,EAAO6pD,EAAQzqD,MAAM9sB,GAAQ23E,EAAcJ,GAE7F6B,EAAmBn4E,OAAS,IAC9B28C,GAAO,EACPq7B,EAAUV,EAAWnD,YAAYp1E,GAAOw0E,SACxC4E,EAAmBhqE,SAAQ,SAAUmwB,GACnC,IAAIj/B,EAAM,GAAGqD,OAAO47B,EAAK7rB,MAAO,KAAK/P,OAAO6tB,EAAQ+N,EAAKjrB,IAAIZ,OACxDslE,EAAY14E,KAAM04E,EAAY14E,GAAO,CACxC03E,UAAW,GACXv5D,UAAW8gB,EAAK7rB,MAChBohE,WAAYtjD,EAAQ+N,EAAKjrB,IAAIZ,QAE/BslE,EAAY14E,GAAK03E,UAAUv2E,KAAK,CAC9B+zE,QAAS9nD,EAAMX,GACfwS,KAAMA,EACN82C,QAASx1E,YAOnB,IAAS9B,EAAI,EAAGA,EAAIo6E,EAAYp6E,IAAK,CAGnC,GAAgB,UAFF6xD,EAAQ7xD,GAEG,MAG3B,IAAK6+C,EAAM,OAAO,EAElB,IAAIy7B,EAA0BnrD,EAAMiqD,aAAaa,GAEjDT,EAAWnD,YAAY3zE,KAAK,IAAI8yE,GAAQ0E,EAASP,EAAS,EDvcjC,KCucuDW,EAAwB56D,UAAW46D,EAAwBvE,aAC3I,IAAItlE,EAAM+oE,EAAWnD,YAAYn0E,OAAS,EAC1C,OAAI61E,EAAQ1B,YAAY5lE,KAAS+oE,EAAWnD,YAAY5lE,IACjDipE,EAAaO,EAAY,GAAGr1E,OAAO01E,EAAwB56D,UAAW,KAAK9a,OAAO01E,EAAwBvE,aAAakD,WAIzHS,CAAap6E,EAAKiC,GAAK03E,aAGhCxB,EAAM71E,UAAU24E,OAAS,WACvB,KAAI36E,KAAKm4E,QAAQzC,aAAe11E,KAAKg4E,YAArC,CACAh4E,KAAKy1E,UACL,IAAI1mD,EAAQ/uB,KAAKm4E,QAAQvB,QAAQ52E,KAAKy1E,QAASz1E,KAAK4yB,UACpD5yB,KAAKs4E,kBAAkBx1E,KAAK2L,gBAAMsgB,MAGpC8oD,EAAM71E,UAAU44E,eAAiB,SAAUvB,GACzC,IAAI9pD,EAAQvvB,KAGZ,KADcA,KAAKo5E,WAAWC,GAChBr5E,KAAK+3E,aACd/3E,KAAK05E,QAAV,CACA15E,KAAK26E,SACL,IAAIvS,EAAUpoE,KAAKm4E,QAAQzC,aACvBc,EAASx2E,KAAKm4E,QAAQlB,cACtB8C,EAAS/5E,KAAKm4E,QAAQ1B,YAAYD,EAAO,IAAIV,OAC7CkD,EAAeh5E,KAAKm4E,QAAQ1B,YAAY,GAAGR,kBAAkBC,WAC7DmE,EAAc,GACdL,EAAe,GACnBX,EAAU5oE,SAAQ,SAAUvO,GAK1B,IAJA,IAAI6sB,EAAQQ,EAAMuoD,OAAO51E,EAAE20E,SACvBhkD,EAAU9D,EAAM8D,QAChB+lD,EAAU,IAAIvB,GAAQn1E,GAEjB9B,EAAIo2E,EAAOl0E,OAAS,EAAGlC,GAAK,EAAGA,IAAK,CAC3C,IAAI85E,EAAe3qD,EAAMkpD,iBAAiB1pD,EAAO6pD,EAAQzqD,MAAMqoD,EAAOp2E,IAAKw4E,EAAQzqD,MAAMqoD,EAAO,IAAKoC,GAErG,GAAIsB,EAAc,CAChB,IAAIv4E,EAAM,GAAGqD,OAAOuqB,EAAM4oD,QAAQ1B,YAAYD,EAAOp2E,IAAIy1E,SAAU,KAAK7wE,OAAOk1E,EAAanlE,OACvFilE,EAAar4E,KAAMq4E,EAAar4E,GAAO,CAC1C03E,UAAW,GACXrC,SAAUznD,EAAM4oD,QAAQ1B,YAAYD,EAAOp2E,IAAIy1E,SAC/C/1D,UAAWo6D,EAAanlE,QAE1BilE,EAAar4E,GAAK03E,UAAUv2E,KAAK,CAC/B+zE,QAAS30E,EAAE20E,QACXj2C,KAAMs5C,EACNxC,QAASx1E,KAMf,KAAIkmE,GAAW74C,EAAM0oD,YAArB,CAEuB1oD,EAAMupD,qBAAqB/pD,EAAO6pD,EAAQzqD,MAAMqoD,EAAO,IAAKwC,EAAcJ,GAEhFnoE,SAAQ,SAAUmwB,GACjC,IAAIj/B,EAAM,GAAGqD,OAAO+0E,EAAQ,KAAK/0E,OAAO47B,EAAK7rB,MAAO,KAAK/P,OAAO6tB,EAAQ+N,EAAKjrB,IAAIZ,OAC5EslE,EAAY14E,KAAM04E,EAAY14E,GAAO,CACxC03E,UAAW,GACXtC,WAAYgD,EACZj6D,UAAW8gB,EAAK7rB,MAChBohE,WAAYtjD,EAAQ+N,EAAKjrB,IAAIZ,QAE/BslE,EAAY14E,GAAK03E,UAAUv2E,KAAK,CAC9B+zE,QAAS30E,EAAE20E,QACXj2C,KAAMA,EACN82C,QAASx1E,OAIb,IAAIqwD,EAAU,SAAiBnyD,GACJmvB,EAAM2pD,uBAAuBnqD,EAAO6pD,EAAQzqD,MAAMqoD,EAAOp2E,IAAK44E,EAAcJ,GAElFnoE,SAAQ,SAAUmwB,GACnC,IAAIj/B,EAAM,GAAGqD,OAAOuqB,EAAM4oD,QAAQ1B,YAAYD,EAAOp2E,IAAIy1E,SAAU,KAAK7wE,OAAO47B,EAAK7rB,MAAO,KAAK/P,OAAO6tB,EAAQ+N,EAAKjrB,IAAIZ,OACnHslE,EAAY14E,KAAM04E,EAAY14E,GAAO,CACxC03E,UAAW,GACXtC,WAAYxnD,EAAM4oD,QAAQ1B,YAAYD,EAAOp2E,IAAIy1E,SACjD/1D,UAAW8gB,EAAK7rB,MAChBohE,WAAYtjD,EAAQ+N,EAAKjrB,IAAIZ,QAE/BslE,EAAY14E,GAAK03E,UAAUv2E,KAAK,CAC9B+zE,QAAS30E,EAAE20E,QACXj2C,KAAMA,EACN82C,QAASx1E,QAMf,IAAS9B,EAAI,EAAGA,EAAIo2E,EAAOl0E,OAAQlC,IACjCmyD,EAAQnyD,OAIZU,OAAO8C,KAAKo2E,GAAcvpE,SAAQ,SAAU9O,GAC1C,IAAIyX,EAAK4gE,EAAar4E,GAClBq1E,EAAW59D,EAAG49D,SACdl3D,EAAY1G,EAAG0G,UAEnByP,EAAM4oD,QAAQ1B,YAAY3zE,KAAK,IAAI8yE,GAAQmE,EAAQ/C,EAAU,KAAMl3D,EAAW,OAE9EyP,EAAMqrD,eAAeZ,EAAar4E,GAAK03E,WAEvC9pD,EAAM4oD,QAAQ1B,YAAYnhE,SAG5BxU,OAAO8C,KAAKy2E,GAAa5pE,SAAQ,SAAU9O,GACzC,IAAIyX,EAAKihE,EAAY14E,GACjBo1E,EAAa39D,EAAG29D,WAChBj3D,EAAY1G,EAAG0G,UACfq2D,EAAa/8D,EAAG+8D,WAEpB5mD,EAAM4oD,QAAQ1B,YAAY3zE,KAAK,IAAI8yE,GAAQmB,EAAYgD,EAAS,ED3jBvC,KC2jB6Dj6D,EAAWq2D,IAEjG5mD,EAAMqrD,eAAeP,EAAY14E,GAAK03E,WAEtC9pD,EAAM4oD,QAAQ1B,YAAYnhE,WAI9BuiE,EAAM71E,UAAU64E,+BAAiC,WAC/C,IAAI/C,EAAS93E,KAAK83E,OACdllD,EAAW5yB,KAAK4yB,SAChBmlD,EAAa/3E,KAAK+3E,WAClBM,EAAyBr4E,KAAKq4E,uBAC9ByC,EAAmB,GACnBC,EAAsB,GAEtBC,EAAmB,GAEnBC,EAA2B,GAiE/B,OAhEAn6E,OAAO8C,KAAKk0E,GAAQrnE,SAAQ,SAAU9O,GAEpC,IAAIotB,EAAQ+oD,EAAOn2E,GACfkxB,EAAU9D,EAAM8D,QAEpB9D,EAAMb,MAAMzd,SAAQ,SAAUqiB,EAAM1yB,GAElC,IAAI4d,EAAY8U,EAAK/d,MACjBmmE,EAAe,GAAGl2E,OAAOrD,EAAK,KAAKqD,OAAOgZ,GAE9C,IAAKg9D,EAAiBE,GAAe,CACnC,IAAIzF,EAAUqF,EAAiB98D,IAAc,EAC7Cy3D,IACAqF,EAAiB98D,GAAay3D,EAGhCuF,EAAiBE,GAAgB,CAC/BC,SAAUx5E,EACVoT,MAAOiJ,GAGT8U,EAAK3E,MAAM1d,SAAQ,SAAUmwB,GAC3B,IAAIs1C,EAAal4D,EACbm4D,EAAatjD,EAAQ+N,EAAKjrB,IAAIZ,MAElC,IAAK6d,GAAYsjD,EAAaC,EAAY,CACxC,IAAIvwE,EAAMuwE,EACVA,EAAaD,EACbA,EAAatwE,EAGf,IAAIka,EAAY8gB,EAAK7rB,MACjBqmE,EAAuB,GAAGp2E,OAAOrD,EAAK,KAAKqD,OAAOkxE,EAAY,KAAKlxE,OAAO8a,EAAW,KAAK9a,OAAOmxE,GACjGkF,EAAkB,GAAGr2E,OAAOkxE,EAAY,KAAKlxE,OAAO8a,EAAW,KAAK9a,OAAOmxE,GAE/E,IAAK4E,EAAoBM,GAAkB,CACzC,IAAI5F,EAAUsF,EAAoBM,IAAoB,EACtD5F,IACAsF,EAAoBM,GAAmB5F,EAGzCwF,EAAyBG,GAAwB,CAC/CvE,QAASl1E,EACTu0E,WAAYA,EACZp2D,UAAWA,EACXq2D,WAAYA,YAMpBr1E,OAAO8C,KAAKk3E,GAAkBrqE,SAAQ,SAAUsE,GAE9C,KADY+lE,EAAiB/lE,GACjBgjE,GAAZ,CACA,IAAIljE,EAAI,CACNqZ,MAAO,GACPC,MAAO,IAETtZ,EAAEqZ,MAAMprB,KAAK,CACXsrB,GAAI,IACJrZ,MAAOA,IAETsjE,EAAuBv1E,KAAK+R,OAEvBwjE,GAGTR,EAAM71E,UAAUoZ,IAAM,WACpB,IAAImU,EAAQvvB,KAIZ,GADAA,KAAKq4E,uBAAyBr4E,KAAK66E,mCAC/B76E,KAAKi4E,WAAa,GAAtB,CACA,IAAIH,EAAS93E,KAAK83E,OAGdp4E,GAFWM,KAAK4yB,SAET,IACX9xB,OAAO8C,KAAKk0E,GAAQrnE,SAAQ,SAAUomE,GACpC,IAAI9nD,EAAQ+oD,EAAOjB,GACfhkD,EAAU9D,EAAM8D,QAEpB9D,EAAMb,MAAMzd,SAAQ,SAAUqiB,GACLvD,EAAMipD,qBAAqBzpD,EAAO+D,GAGxCriB,SAAQ,SAAUmwB,GACjC,IAAIk1C,EAASjjD,EAAQ+N,EAAKjrB,IACtBsgE,EAAoB,GAAGjxE,OAAO8tB,EAAK/d,MAAO,KAAK/P,OAAO47B,EAAK7rB,MAAO,KAAK/P,OAAO8wE,EAAO/gE,OACpFrV,EAAKu2E,KAAoBv2E,EAAKu2E,GAAqB,CACtDoD,UAAW,GACXnD,WAAYpjD,EAAK/d,MACjB+K,UAAW8gB,EAAK7rB,MAChBohE,WAAYL,EAAO/gE,QAErB,IAAIuiE,EAAO,CACTT,QAASA,EACTj2C,KAAMA,EACN82C,QAAS,MAEXh4E,EAAKu2E,GAAmBoD,UAAUv2E,KAAKw0E,YAK7Cx2E,OAAO8C,KAAKlE,GAAM+Q,SAAQ,SAAUwlE,GAClC,IAAI78D,EAAK1Z,EAAKu2E,GACVoD,EAAYjgE,EAAGigE,UACfnD,EAAa98D,EAAG88D,WAChBp2D,EAAY1G,EAAG0G,UACfq2D,EAAa/8D,EAAG+8D,WAEpB5mD,EAAM4oD,QAAQ1B,YAAY3zE,KAAK,IAAI8yE,GAAQ,EAAG,EAAGM,EAAYp2D,EAAWq2D,IAExE5mD,EAAMqrD,eAAevB,GAErB9pD,EAAM4oD,QAAQ1B,YAAYnhE,WAIvBuiE,EA/iBT,GAsoBeyD,GA/BH,SAAend,GAEzB,IAAI2Z,EAAS3Z,EAAO2Z,OAChB1+D,EAAK+kD,EAAOvrC,SACZA,OAAkB,IAAPxZ,GAAwBA,EACnCivB,EAAK81B,EAAOod,cACZA,OAAuB,IAAPlzC,EAZG,UAYkCA,EACrDkC,EAAK4zB,EAAOqd,cACZA,OAAuB,IAAPjxC,EAdG,UAckCA,EACrDkxC,EA9Da,SAAsB3D,EAAQllD,EAAU2oD,EAAeC,GACxE,IAAI54E,EAAS,GAgBb,OAfA9B,OAAO8C,KAAKk0E,GAAQrnE,SAAQ,SAAU9O,EAAKvB,GACzC,IAAI2uB,EAAQ+oD,EAAOn2E,GACf+5E,EAAS,IAAIrG,GAAMj1E,GAAG,EAAMwyB,GAC5BiB,EAAa,GACjB9E,EAAMb,MAAMzd,SAAQ,SAAUqiB,EAAMnrB,GAClC+zE,EAAOlnC,QAAQ7sC,EAAGmrB,EAAKyoD,IACvB1nD,EAAWf,EAAK1E,IAAMzmB,KAExBonB,EAAMZ,MAAM1d,SAAQ,SAAUmwB,EAAMj9B,GAClC,IAAIg4E,EAAY9nD,EAAW+M,EAAK5S,QAC5B4tD,EAAY/nD,EAAW+M,EAAK3S,QAChCytD,EAAO/pC,SAAS,EAAGgqC,EAAWC,EAAWh7C,EAAK46C,OAE5CE,GAAUA,EAAOhG,eAAc9yE,EAAO84E,EAAOttD,IAAMstD,MAElD94E,EA6Cei5E,CAAa/D,EAAQllD,EAAU2oD,EAAeC,GAChEzD,EAAa5Z,EAAO4Z,WACpBE,EAAa9Z,EAAO8Z,WACpBD,EAAa7Z,EAAO6Z,WACpBE,EAAU/Z,EAAO+Z,QACjBliD,EAAMmoC,EAAOnoC,IAWb8lD,EAAa,IAAIjE,GATJ,CACfC,OAAQ2D,EACR1D,WAAYA,EACZE,WAAYA,EACZD,WAAYA,EACZhiD,IAAKA,EACLkiD,QAASA,EACTtlD,SAAUA,IAKZ,OAFAkpD,EAAW1gE,MA3DM,SAAsB08D,EAAQyD,EAAeC,GAC9D,IAAI54E,EAAS,GAuBb,OAtBAk1E,EAAOrnE,SAAQ,SAAUse,GACvB,IAAIyyC,EAAY,CACdtzC,MAAO,GACPC,MAAO,IAETY,EAAMb,MAAMzd,SAAQ,SAAUqiB,GAC5B,IAAI1Z,EAEJooD,EAAUtzC,MAAMprB,OAAMsW,EAAK,CACzBgV,GAAI,GAAGppB,OAAO8tB,EAAK1E,MACfmtD,GAAiBzoD,EAAK/d,MAAOqE,OAErC2V,EAAMZ,MAAM1d,SAAQ,SAAUmwB,GAC5B,IAAIxnB,EAEJooD,EAAUrzC,MAAMrrB,OAAMsW,EAAK,CACzB4U,OAAQ,GAAGhpB,OAAO47B,EAAKhrB,MACvBqY,OAAQ,GAAGjpB,OAAO47B,EAAKjrB,MACnB6lE,GAAiB56C,EAAK7rB,MAAOqE,OAErCxW,EAAOE,KAAK0+D,MAEP5+D,EAoCMm5E,CAAaD,EAAWxD,kBAAmBiD,EAAeC,IC9wBrEQ,GAAqB,SAA4Bxa,EAAWya,EAAKV,EAAe53E,QAC5D,IAAlB43E,IACFA,EAAgB,gBAGR,IAAN53E,IACFA,EAAI,GAGN,IAAIu4E,EAAQ,GACRhuD,EAAQszC,EAAUtzC,MAItB,OAHA+tD,EAAIxrE,SAAQ,SAAUhI,EAAKrI,GACzB87E,EAAMp5E,KAAKq5E,GAAkBjuD,EAAOzlB,EAAKrI,EAAGm7E,EAAe53E,OAEtDu4E,GAGLC,GAAoB,SAA2BjuD,EAAOzlB,EAAKrI,EAAGm7E,EAAe53E,GAC/E,IAAIy4E,EAAe,CAACh8E,GAChBskE,EAAY,GACZ2X,EAAgB,GAqBpB,OApBA5zE,EAAIgI,SAAQ,SAAU/K,EAAGiC,GACvB,GAAIjC,GAAK/B,GAAKvD,IAAMuH,EAAG,CACrBy0E,EAAat5E,KAAK6E,GAClB+8D,EAAU5hE,KAAKorB,EAAMvmB,IACrB,IAAIoN,EAAQmZ,EAAMvmB,GAAG4zE,GAChBc,EAActnE,IAIjBsnE,EAActnE,GAAO4E,QACrB0iE,EAActnE,GAAOunE,MAAMx5E,KAAK4C,IALP22E,EAActnE,GAAS,CAChD4E,MAAO,EACP2iE,MAAO,CAAC52E,QAQd5E,OAAO8C,KAAKy4E,GAAe5rE,SAAQ,SAAUsE,GAC3CsnE,EAActnE,GAAOunE,MAAQD,EAActnE,GAAOunE,MAAMt1E,MAAK,SAAUvC,EAAGmC,GACxE,OAAOnC,EAAImC,QAGR,CACLsgE,QAAS9mE,EACT4iE,OAAQ90C,EAAM9tB,GAAGguB,GACjBmuD,SAAUH,EACV1X,UAAWA,EACX8X,YAAaJ,EAAa95E,OAAS,EACnCm6E,kBAAmBJ,IAwEnBK,GAAmC,SAA0CC,EAAaC,EAAepb,EAAWqb,GACtH,IAAI3uD,EAAQszC,EAAUtzC,MAqCtB,OApCK2uD,IAAuBA,EAAwB,IACpD/7E,OAAO8C,KAAK+4E,GAAalsE,SAAQ,SAAU9O,GACzC,IAAIyX,EAAIivB,EAER,IAAIw0C,IAAyBA,EAAsBl7E,GAAnD,CACAk7E,EAAsBl7E,GAAO,CAC3BusB,MAAO,GACPC,MAAO,IAET,IAAI2uD,EAAOH,EAAYh7E,GACnBo7E,EAAwD,QAApC3jE,EAAKwjE,EAAcE,EAAKviB,cAA2B,IAAPnhD,OAAgB,EAASA,EAAGmjE,SAC5FS,EAAoD,QAAlC30C,EAAKu0C,EAAcE,EAAKxT,YAAyB,IAAPjhC,OAAgB,EAASA,EAAGk0C,SAC5F,GAAKQ,GAAqBC,EAA1B,CAEA,IAAIC,EAAS,IAAIrX,IAAIoX,GACjBE,EAAYH,EAAiBr6E,QAAO,SAAUuf,GAChD,OAAOg7D,EAAO51E,IAAI4a,MAGpB,GAAKi7D,GAAcA,EAAU56E,OAA7B,CAKA,IAHA,IAAI66E,EAAiB,GACjBC,EAAkBF,EAAU56E,OAEvBlC,EAAI,EAAGA,EAAIg9E,EAAiBh9E,IAAK,CACxC,IAAI0yB,EAAO5E,EAAMgvD,EAAU98E,IAC3By8E,EAAsBl7E,GAAKusB,MAAMprB,KAAKgwB,GAEtCqqD,EAAerqD,EAAK1E,KAAM,EAI5BozC,EAAUrzC,MAAM1d,SAAQ,SAAUmwB,GAC5Bu8C,EAAev8C,EAAK5S,SAAWmvD,EAAev8C,EAAK3S,SAAS4uD,EAAsBl7E,GAAKwsB,MAAMrrB,KAAK89B,YAGnGi8C,GAWLQ,GAAkB,SAAyBtuD,EAAOuuD,EAAW/B,EAAeC,GAC9E,IAAIpiE,EAAIivB,EAEJxV,EAAU,GACd9D,EAAMb,MAAMzd,SAAQ,SAAUqiB,GAC5BD,EAAQC,EAAK1E,IAAM0E,KAErB,IAAInZ,EAAQ,EACZ,QAAuF,QAAhFP,EAAKkkE,aAA6C,EAASA,EAAUnvD,aAA0B,IAAP/U,OAAgB,EAASA,EAAG9W,UAA6F,QAAhF+lC,EAAKi1C,aAA6C,EAASA,EAAUpvD,aAA0B,IAAPma,OAAgB,EAASA,EAAG/lC,QAAU,EAAU,GAChRysB,EAAMZ,MAAM1d,SAAQ,SAAU1I,GAC5B,IAAIw1E,EAAc1qD,EAAQ9qB,EAAEimB,QAAQutD,GAChCiC,EAAc3qD,EAAQ9qB,EAAEkmB,QAAQstD,GAChCkC,EAAgBH,aAA6C,EAASA,EAAUpvD,MAAM,GAAGqtD,GACzFmC,EAAgBJ,aAA6C,EAASA,EAAUpvD,MAAM,GAAGqtD,GACzFoC,EAAeL,aAA6C,EAASA,EAAUnvD,MAAM,GAAGqtD,GACxFzzE,EAAEyzE,KAAmBmC,IAErBJ,IAAgBE,GAAiBD,IAAgBE,GAAiBH,IAAgBG,GAAiBF,IAAgBC,IACrH9jE,OAGGA,IAuFLikE,GAAc,SAAqB1vD,EAAOqtD,GAC5C,IAAI1oD,EAAU,GACV0iD,EAAe,GAanB,OAZArnD,EAAMzd,SAAQ,SAAUqiB,EAAM1yB,GAC5ByyB,EAAQC,EAAK1E,IAAM,CACjBvd,IAAKzQ,EACL0yB,KAAMA,EACNtnB,OAAQ,EACRsiD,SAAU,EACVC,UAAW,GAEb,IAAIh5C,EAAQ+d,EAAKyoD,GACZhG,EAAaxgE,KAAQwgE,EAAaxgE,GAAS,IAChDwgE,EAAaxgE,GAAOjS,KAAKgwB,MAEpB,CACLD,QAASA,EACT0iD,aAAcA,IAIdsI,GAAc,SAAqB1vD,EAAOqtD,EAAe3oD,GAC3D,IAAIuR,EAAU,GACVoxC,EAAe,GAuBnB,OAtBArnD,EAAM1d,SAAQ,SAAUmwB,EAAMxgC,GAC5BgkC,EAAQ,GAAGp/B,OAAO69B,IAAa,CAC7BhyB,IAAKzQ,EACLwgC,KAAMA,GAER,IAAI7rB,EAAQ6rB,EAAK46C,GACZhG,EAAazgE,KAAQygE,EAAazgE,GAAS,IAChDygE,EAAazgE,GAAOjS,KAAK89B,GACzB,IAAI/F,EAAahI,EAAQ+N,EAAK5S,QAE1B6M,IACFA,EAAWrvB,SACXqvB,EAAWkzB,aAGb,IAAIjzB,EAAajI,EAAQ+N,EAAK3S,QAE1B6M,IACFA,EAAWtvB,SACXsvB,EAAWgzB,eAGR,CACL1pB,QAASA,EACToxC,aAAcA,IAWdsI,GAAY,SAAmB5vD,EAAO+tD,EAAKrpD,GAC7C,IAAItwB,EAAS25E,EAAI35E,OACbiO,EAAM,GAaV,OAZA0rE,EAAIxrE,SAAQ,SAAUhI,EAAKrI,GAIzB,IAHA,IAAIm6D,EAAQ3nC,EAAW,EAAIxyB,EAAI,EAC3B29E,EAAM7vD,EAAM9tB,GAAGguB,GAEVzmB,EAAI4yD,EAAO5yD,EAAIrF,EAAQqF,IAC9B,GAAIvH,IAAMuH,EAAV,CACA,IAAIq2E,EAAM9vD,EAAMvmB,GAAGymB,GACflgB,EAAOzF,EAAId,GACf4I,EAAI,GAAGvL,OAAO+4E,EAAK,KAAK/4E,OAAOg5E,IAAQ9vE,EAClC0kB,IAAUriB,EAAI,GAAGvL,OAAOg5E,EAAK,KAAKh5E,OAAO+4E,IAAQ7vE,OAGnDqC,GAUL0tE,GAAa,SAAoBlvD,EAAOmvD,EAAOC,EAAOtrD,EAASurD,EAAQC,EAAgBf,EAAW/B,EAAeC,EAAe8C,EAAcC,GAChJ,IAAInlE,EAEAzX,EAAM,GAAGqD,OAAOk5E,EAAM9vD,GAAI,KAAKppB,OAAOm5E,EAAM/vD,IAChD,GAAIkwD,GAAgBA,EAAa38E,GAAM,OAAO28E,EAAa38E,GAC3D,IAAI68E,EAAoBD,EAA0BA,EAAwB58E,QAAOsK,EAEjF,IAAKuyE,EAAmB,CACtB,IAAIC,IAAWrlE,EAAK,IAAOzX,GAAO,CAChC44D,MAAO1nC,EAAQqrD,EAAM9vD,IAAIvd,IACzBy4D,IAAKz2C,EAAQsrD,EAAM/vD,IAAIvd,IACvBkc,SAAUqxD,GACThlE,GAEHolE,GADAD,EAA0B7B,GAAiC+B,EAASJ,EAAgBtvD,EAAOwvD,IAC/C58E,GAG9C,OAAO07E,GAAgBmB,EAAmBlB,EAAW/B,EAAeC,IAOlEkD,GAAiC,SAAwCC,EAA8BC,EAAeC,EAAgBC,GACxI,IAAI1lE,EAAIivB,EAAIkC,EAERw0C,EAAmF,QAAtD3lE,EAAKulE,EAA6BC,UAAmC,IAAPxlE,OAAgB,EAASA,EAAG5N,OACvHwzE,EAAqF,QAAtD32C,EAAKs2C,EAA6BC,UAAmC,IAAPv2C,OAAgB,EAASA,EAAGylB,SACzHmxB,EAAsF,QAAtD10C,EAAKo0C,EAA6BC,UAAmC,IAAPr0C,OAAgB,EAASA,EAAGwjB,UAqB9H,YAnBoD9hD,IAAhD0yE,EAA6BC,KAC/BG,EAA4Bj0E,IAC5Bk0E,EAA8Bl0E,IAC9Bm0E,EAA+Bn0E,IAC/Bg0E,EAAoBF,GAAenuE,SAAQ,SAAUyuE,GACnD,IAAIC,EAAoBN,EAAeK,EAAqB9wD,IAAI5iB,OAC5DuzE,EAA4BI,IAAmBJ,EAA4BI,GAC/E,IAAIC,EAAsBP,EAAeK,EAAqB9wD,IAAI0/B,SAC9DkxB,EAA8BI,IAAqBJ,EAA8BI,GACrF,IAAIC,EAAuBR,EAAeK,EAAqB9wD,IAAI2/B,UAC/DkxB,EAA+BI,IAAsBJ,EAA+BI,MAE1FV,EAA6BC,GAAiB,CAC5CpzE,OAAQuzE,EACRjxB,SAAUkxB,EACVjxB,UAAWkxB,IAIR,CACLF,0BAA2BA,EAC3BC,4BAA6BA,EAC7BC,6BAA8BA,IAqtBnBK,GAtsBH,SAAe9d,EAAWpkC,EAASxK,EAAUjvB,EAAGrB,EAAQi5E,EAAeC,GACjF,IAAIpiE,EAcJ,QAZiB,IAAbwZ,IACFA,GAAW,QAGS,IAAlB2oD,IACFA,EAAgB,gBAGI,IAAlBC,IACFA,EAAgB,WAGbha,GAAcA,EAAUtzC,MAA7B,CAOA,IAAIk6C,EAAU5G,EAAUtzC,MAAM5rB,OAC9B,GAAK8lE,EAAL,CAEA,IAAI6T,EAAMnuD,EAAc0zC,EAAW5uC,GAI/B2sD,EAAazxD,EAAcsP,EAASxK,GAIpC4sD,EAAS1B,GAAUtc,EAAUtzC,MAAO+tD,EAAKrpD,GAIzC6sD,EAAgB3B,GAAU1gD,EAAQlP,MAAOqxD,EAAY3sD,GAGrDyV,EAAKu1C,GAAYpc,EAAUtzC,MAAOqtD,GAClC1oD,EAAUwV,EAAGxV,QACb0iD,EAAeltC,EAAGktC,aAElBhrC,EAAKqzC,GAAYxgD,EAAQlP,MAAOqtD,GAChCsD,EAAiBt0C,EAAG1X,QACpBisD,EAAsBv0C,EAAGgrC,aAG7BsI,GAAYrc,EAAUrzC,MAAOqtD,EAAe3oD,GAC5C,IAAI6sD,EAAsB7B,GAAYzgD,EAAQjP,MAAOqtD,EAAeqD,GAAgBrJ,aAEhFmK,EAAmB,GACvBJ,SAAwDA,EAAW9uE,SAAQ,SAAUhI,GACnFk3E,EAAmBA,EAAiB36E,OAAOyD,MAExCnG,IAAQA,EAAS+C,KAAKC,IAAImC,MAAMpC,KAAMqQ,YAAcA,YAAc,GAAIiqE,GAAkB,GAAQ,CAAC,IAAI,KACrGh8E,IAAGA,EAAIrB,GAIZ,IAAI+7E,EAAiBrC,GAAmBxa,EAAWya,EAAKV,EAAe53E,GACnEi8E,EAAwB5D,GAAmB5+C,EAASmiD,EAAYhE,EAAe53E,GAS/Ek8E,EAxbsB,SAA+Bl8E,EAAGykE,EAAS0X,EAAgBzB,EAAgBpC,GAErG,IAAI8D,EAAsB16E,KAAKu+B,KAAKk8C,EAAiB1X,GACjDuU,EAAc,GACdqD,EAAqB,EA4CzB,OA1CA3B,EAAe5tE,SAAQ,SAAUwvE,EAAM7/E,GAQrC,IANA,IAAI8/E,EAAoB,EACpBC,EAAiB,EACjBzb,EAAYub,EAAK1D,SAEjBC,EAAcyD,EAAKzD,YAAc,EAE9B0D,EAAoBH,GAAqB,CAK9C,IAHA,IAAIK,EAAO1b,EAAU,EAAIr/D,KAAKqS,MAAMrS,KAAKy9B,SAAW05C,IAChD6D,EAAiB,GAEd1D,EAAY,GAAG33E,OAAO5E,EAAG,KAAK4E,OAAOo7E,KAAUzD,EAAY,GAAG33E,OAAOo7E,EAAM,KAAKp7E,OAAO5E,OAC5FggF,EAAO/6E,KAAKqS,MAAMrS,KAAKy9B,SAAWslC,OAClCiY,EACqB,EAAIjY,MAG3B,GAAIiY,EAAiB,EAAIjY,IAEvBuU,EAAY,GAAG33E,OAAO5E,EAAG,KAAK4E,OAAOo7E,IAAS,CAC5C7lB,MAAOn6D,EACPkpE,IAAK8W,EACLrzD,SAAUkvD,EAAI77E,GAAGggF,IAEnBF,MACAF,GAE0BF,GAAgB,OAAOnD,EAInD,KADAwD,EACqB,EAAI/X,EAAS,MAIhC8X,EAAoBH,IAEtBA,GAAuBA,GADbA,EAAsBG,KACqB9X,EAAUhoE,EAAI,OAGhEu8E,EAwYY2D,CAAsB38E,EAAGykE,EADvB/iE,KAAKE,IAAI,IAAK6iE,GAAWA,EAAU,GAAK,GACQiW,EAAgBpC,GAKjFsE,EAAU7D,GAAiCmD,EAAcxB,EAAgB7c,GAoBzEgf,EAAgBlF,GAdP,CACXxD,OAAQyI,EACRhF,cAAeA,EACfC,cAAeA,EACfzD,WAPe,EAQfC,WAPe,EAQfC,WAPe,EAQfrlD,SAAUA,IAOsB5mB,MAAM,EAlB9B,IAoBNy0E,EAAeD,EAAcl+E,OAE7Bo+E,EAAkB,GACtBF,EAAc/vE,SAAQ,SAAU6sE,EAAWl9E,GACzCsgF,EAAgBtgF,GAAK,GACrBU,OAAO8C,KAAK28E,GAAS9vE,SAAQ,SAAU9O,GACrC,IAAIotB,EAAQwxD,EAAQ5+E,GAChBg/E,EAAoBtD,GAAgBtuD,EAAOuuD,EAAW/B,EAAeC,GACzEkF,EAAgBtgF,GAAGuB,GAAOg/E,QAQ9B,IAAIn2C,EAvVuB,SAAgCk2C,EAAiBD,EAAc53C,GAmE1F,IAlEA,IAAI+3C,EAAY91E,IACZ+1E,EAAuB,EAEvBvhC,EAAU,SAAiBl/C,GAE7B,IAAI0gF,EAAYJ,EAAgBtgF,GAE5B2gF,EAAkBjgF,OAAO8C,KAAKk9E,GAAW95E,MAAK,SAAUvC,EAAGmC,GAC7D,OAAOk6E,EAAUr8E,GAAKq8E,EAAUl6E,MAI9BgjE,EAAW,GAEfmX,EAAgBtwE,SAAQ,SAAU9O,EAAKgG,GAChCiiE,EAASjiE,EAJD,MAIgBiiE,EAASjiE,EAJzB,IAIyC,CACpDmwE,OAAQ,GACRkJ,WAAY,EACZC,SAAU,IAEZrX,EAASjiE,EATI,IASUmwE,OAAOh1E,KAAKnB,GACnCioE,EAASjiE,EAVI,IAUUq5E,YAAcF,EAAUn/E,MAGjD,IAAIu/E,EAAe,EAEfC,EAAY,GAEhBvX,EAASn5D,SAAQ,SAAU2wE,GAEzB,IAAIH,EAAWG,EAAgBJ,WAAaI,EAAgBtJ,OAAOx1E,OACnE8+E,EAAgBH,SAAWA,EAC3BE,EAAUr+E,KAAKm+E,GAEf,IAAII,EAAqB,EACrBC,EAAYF,EAAgB9+E,OAChC8+E,EAAgBtJ,OAAOrnE,SAAQ,SAAU8wE,EAAW55E,GAClD,IAAI65E,EAAcV,EAAUS,GAC5BH,EAAgBtJ,OAAOrnE,SAAQ,SAAUgxE,EAAW99E,GAC9CgE,IAAMhE,IACV09E,GAAsBh8E,KAAKqF,IAAI82E,EAAcV,EAAUW,WAI3DP,GADAG,GAAsBC,GAAaA,EAAY,GAAK,KAGtDJ,GAAgBtX,EAAStnE,OAEzB,IAAIo/E,EAAe,EAEnBP,EAAU1wE,SAAQ,SAAUkxE,EAAWh6E,GACrCw5E,EAAU1wE,SAAQ,SAAUmxE,EAAWj+E,GACjCgE,IAAMhE,IACV+9E,GAAgBr8E,KAAKqF,IAAIi3E,EAAYC,OAEvCF,GAAgBP,EAAU7+E,QAAU6+E,EAAU7+E,OAAS,GAAK,KAG9D,IAAI+b,EAASqjE,EAAeR,EAExBN,EAAYviE,IACduiE,EAAYviE,EACZwiE,EAAuBzgF,IAIlBA,EAAI,EAAGA,EAAIqgF,EAAcrgF,IAChCk/C,EAAQl/C,GAGV,MAAO,CACLk9E,UAAWz0C,EAAWg4C,GACtBgB,kBAAmBnB,EAAgBG,IA8Q5BiB,CAAuBpB,EAAiBD,EAAcD,GAC3DuB,EAAMv3C,EAAG8yC,UACT0E,EAAUx3C,EAAGq3C,kBAIbI,EAAa7kD,EAAQlP,MAAM,GAC3Bg0D,EAAa,GACbntE,EAAoC,QAA3BqE,EAAKgkB,EAAQlP,MAAM,UAAuB,IAAP9U,OAAgB,EAASA,EAAGmiE,GACxE4G,GAA2Br3E,IAC/BsyB,EAAQlP,MAAMzd,SAAQ,SAAUqiB,GAC9B,IAAIsvD,EAAStvD,EAAKyoD,GACd8G,EAAqB9M,EAAa6M,IAEjCC,aAA+D,EAASA,EAAmB//E,QAAU6/E,IACxGA,EAA0BE,EAAmB//E,OAC7C4/E,EAAaG,EACbttE,EAAQqtE,EACRH,EAAanvD,MAKjB,IAAI6rD,EAA+B,GAE/B2D,EAAqB,GACrBC,EAAiB,GAErBC,EAAoB,GAGhBC,EAAgB,GAChBC,EAAoB,GACxB5hF,OAAO8C,KAAKk7E,GAAqBruE,SAAQ,SAAUkyE,EAAQh7E,GACzD86E,EAAcE,GAAU,GAEpB/vD,IACF8vD,EAAkBC,GAAU,IAG9B,IAAIC,GAAW93E,IACX+3E,EAAyB/D,EAAoB6D,GAC7CG,EAAqB,GACzBD,EAAuBpyE,SAAQ,SAAUsyE,GACvC,IAAI70E,EAAOuxE,EAAc,GAAGz6E,OAAOi9E,EAAW7zD,GAAI,KAAKppB,OAAO+9E,EAAe30D,KAS7E,GARAlgB,GAAQu0E,EAAcE,GAAQ7/E,KAAKoL,GAC/B00E,EAAU10E,IAAM00E,EAAU10E,GAC9B40E,EAAmB,GAAG99E,OAAOi9E,EAAW7zD,GAAI,KAAKppB,OAAO+9E,EAAe30D,KAAO,CAC5EmsC,MAAO,EACP+O,IAAKuV,EAAekE,EAAe30D,IAAIvd,IACvCkc,SAAU7e,GAGR0kB,EAAU,CACZ,IAAIowD,EAAWvD,EAAc,GAAGz6E,OAAO+9E,EAAe30D,GAAI,KAAKppB,OAAOi9E,EAAW7zD,KACjF40D,GAAYN,EAAkBC,GAAQ7/E,KAAKkgF,OAI/CP,EAAcE,GAAUF,EAAcE,GAAQ37E,MAAK,SAAUvC,EAAGmC,GAC9D,OAAOnC,EAAImC,KAETgsB,IAAU8vD,EAAkBC,GAAUD,EAAkBC,GAAQ37E,MAAK,SAAUvC,EAAGmC,GACpF,OAAOnC,EAAImC,MAKb07E,EAAqB5F,GAAiCoG,EAAoBlD,EAAuBxiD,EAASklD,GAE1G,IAAIW,EAA6B,GAgBjC,GAfAniF,OAAO8C,KAAKk/E,GAAoBryE,SAAQ,SAAU9O,GAChD,GAAI4gF,EAAe5gF,GACjBshF,EAA2BngF,KAAKy/E,EAAe5gF,QADjD,CAKA,IAAIuhF,EAAkBZ,EAAmB3gF,GACzC4gF,EAAe5gF,GAAO07E,GAAgB6F,EAAiBnB,EAAKxG,EAAeC,GAC3EyH,EAA2BngF,KAAKy/E,EAAe5gF,QAGjDshF,EAA6BA,EAA2Bj8E,MAAK,SAAUvC,EAAGmC,GACxE,OAAOA,EAAInC,KAEb+9E,EAAkB,GAAGx9E,OAAOi9E,EAAW7zD,GAAI,KAAKppB,OAAO29E,IAAWM,EAC9DN,IAAW5tE,EA6Ef,IA5EA,IAEIi+C,EAAU,SAAiBxyD,GAC7B,IAAIuvE,EAAQmS,EAAW1hF,GAEnB2iF,EAAoB9E,EAAexrD,EAAQk9C,EAAM3hD,IAAIvd,KACrDuyE,EAA4BD,EAAkB1G,kBAAkBkG,GAChEU,EAAmBvE,EAAoB6D,GAAQrgF,OAEnD,IAAK8gF,GAA6BA,EAA0BzpE,MAAQ0pE,EAElE,OADAnB,EAAWl8E,OAAOxF,EAAG,GACd,WAOT,IAFA,IAAI8iF,GAAgB,EAEXzhF,EAAI,EAAGA,EAAIwhF,EAAkBxhF,IACpC,GAAIuhF,EAA0B9G,MAAMz6E,GAAK4gF,EAAcE,GAAQ9gF,GAAI,CACjEyhF,GAAgB,EAChB,MAIJ,GAAIA,EAEF,OADApB,EAAWl8E,OAAOxF,EAAG,GACd,WAOT,IAAI+iF,EAAe,GACnBJ,EAAkBze,UAAUj0D,SAAQ,SAAU+yE,GAC5C,IAAIt1E,EAAOsxE,EAAO,GAAGx6E,OAAO+qE,EAAM3hD,GAAI,KAAKppB,OAAOw+E,EAAap1D,KAC/Dm1D,EAAa,GAAGv+E,OAAO+qE,EAAM3hD,GAAI,KAAKppB,OAAOw+E,EAAap1D,KAAO,CAC/DmsC,MAAO1nC,EAAQk9C,EAAM3hD,IAAIvd,IACzBy4D,IAAKz2C,EAAQ2wD,EAAap1D,IAAIvd,IAC9Bkc,SAAU7e,MAIdqyE,EAAU7D,GAAiC6G,EAAclF,EAAgB7c,EAAW+e,GAEpF,IAAIkD,EAAsB,GAC1B3iF,OAAO8C,KAAK2/E,GAAc9yE,SAAQ,SAAU9O,GAC1C,GAAIqgF,EAAQrgF,GACV8hF,EAAoB3gF,KAAKk/E,EAAQrgF,QADnC,CAKA,IAAI+hF,EAAWnD,EAAQ5+E,GACvBqgF,EAAQrgF,GAAO07E,GAAgBqG,EAAU3B,EAAKxG,EAAeC,GAC7DiI,EAAoB3gF,KAAKk/E,EAAQrgF,QAGnC8hF,EAAsBA,EAAoBz8E,MAAK,SAAUvC,EAAGmC,GAC1D,OAAOA,EAAInC,KAEb,IAAIk/E,GAAgB,EAEpB,IAAS9hF,EAAI,EAAGA,EAAIwhF,EAAkBxhF,IACpC,GAAI4hF,EAAoB5hF,GAAKohF,EAA2BphF,GAAI,CAC1D8hF,GAAgB,EAChB,MAIJ,OAAIA,GACFzB,EAAWl8E,OAAOxF,EAAG,GACd,iBAFT,GAMOA,IA5EY0hF,aAA+C,EAASA,EAAW5/E,SAAW,GA4EtE,EAAG9B,GAAK,EAAGA,IACtCwyD,EAAQxyD,MAGZ,IAAIojF,EAAkB,GAMtB1B,SAAwDA,EAAWzxE,SAAQ,SAAUozE,GAQnF,IAPA,IAAI3c,EAAUr0C,EAAQgxD,EAAUz1D,IAAIvd,IAEhCizE,EADqB3H,GAAkB3a,EAAUtzC,MAAO+tD,EAAI/U,GAAUA,EAASqU,EAAej5E,GAC3DoiE,UAGnCqf,GAAY,EAEP3jF,EAHS0jF,EAAcxhF,OAGL,EAAGlC,GAAK,EAAGA,IAAK,CAEzC,GAAI0jF,EAAcxhF,OAAS,EAAI86B,EAAQlP,MAAM5rB,OAE3C,YADAyhF,GAAY,GAId,IAAIP,EAAeM,EAAc1jF,GAC7Bw+E,EAAgB4E,EAAajI,GAEjC,GAAKuD,EAAoBF,IAAmBE,EAAoBF,GAAet8E,OAO/E,GAAKmgF,EAAc7D,IAAmB6D,EAAc7D,GAAet8E,OAAnE,CAKA,IAAIX,EAAM,GAAGqD,OAAO6+E,EAAUz1D,GAAI,KAAKppB,OAAOw+E,EAAap1D,IAEvD41D,EAAkBxE,EAAO79E,GACzBkP,EAAM4xE,EAAc7D,GAAet8E,OAAS,EAGhD,GAAI0hF,EAF4BvB,EAAc7D,GAAe/tE,GAG3DizE,EAAc99E,OAAO5F,EAAG,OAD1B,CAKA,GAAIwyB,EAAU,CACZ,IAAIqxD,EAAU,GAAGj/E,OAAOw+E,EAAap1D,GAAI,KAAKppB,OAAO6+E,EAAUz1D,IAC3D81D,EAAoB1E,EAAOyE,GAI/B,GAHApzE,EAAM6xE,EAAkB9D,GAAet8E,OAAS,EAG5C4hF,EAFgCxB,EAAkB9D,GAAe/tE,GAEd,CACrDizE,EAAc99E,OAAO5F,EAAG,GACxB,UAKJ,IAAI+jF,EAAiBnC,EAAQrgF,GAAOqgF,EAAQrgF,GAAOs8E,GAAWzc,EAAWqiB,EAAWL,EAAc3wD,EAASmxD,EAAiB3F,EAAgB0D,EAAKxG,EAAeC,EAAewG,EAASzB,GACpL6D,EAAa,GAAGp/E,OAAOi9E,EAAW7zD,GAAI,KAAKppB,OAAO45E,GAGtD,GAAIuF,EAF2B3B,EAAkB4B,GAAY5B,EAAkB4B,GAAY9hF,OAAS,GAGlGwhF,EAAc99E,OAAO5F,EAAG,OAD1B,CAMA,IAAIgZ,EAAKslE,GAA+BC,EAA8BC,EAAeC,EAAgBC,GACjGC,EAA4B3lE,EAAG2lE,0BACD3lE,EAAG4lE,4BACF5lE,EAAG6lE,6BAElCpsD,EAAQ2wD,EAAap1D,IAAI5iB,OAASuzE,GACpC+E,EAAc99E,OAAO5F,EAAG,UA5CxB0jF,EAAc99E,OAAO5F,EAAG,QAPxB0jF,EAAc99E,OAAO5F,EAAG,GAyDvB2jF,GACHH,EAAgB9gF,KAAK,CACnBorB,MAAO,CAAC21D,GAAW7+E,OAAO8+E,QAOhC,IAAIO,EAAgCrc,EAAS5qC,EAAS6kD,EAAW7zD,IAAI,GAAO9rB,OACxEgiF,EAAwC,GAExC1xD,GACF9xB,OAAO8C,KAAKygF,GAA+B5zE,SAAQ,SAAUuyD,GAC3D,IAAIhlD,EAAY6gE,EAAe7b,GAAQlwC,KAAKyoD,GACvC+I,EAAsCtmE,GAA4GsmE,EAAsCtmE,GAAWlb,KAAKuhF,EAA8BrhB,IAApLshB,EAAsCtmE,GAAa,CAACqmE,EAA8BrhB,OAE3IliE,OAAO8C,KAAK0gF,GAAuC7zE,SAAQ,SAAU2xE,GACnEkC,EAAsClC,GAAQp7E,MAAK,SAAUvC,EAAGmC,GAC9D,OAAOnC,EAAImC,SAIf09E,EAAwC7B,EAyQ1C,IArQA,IAEIxwB,EAAU,SAAiB7xD,GAC7B,IAAImkF,EAAiBX,EAAgBxjF,GACjCyjF,EAAYU,EAAer2D,MAAM,GACjCs2D,EAA6B,GAC7BC,EAAmB,GACvBF,EAAer2D,MAAMzd,SAAQ,SAAUqiB,EAAMkB,GAC3CywD,EAAiB3xD,EAAK1E,IAAM,CAC1Bvd,IAAKmjB,EACLlB,KAAMA,EACNtnB,OAAQ,EACRsiD,SAAU,EACVC,UAAW,GAEb,IAAI22B,EAAa5xD,EAAKyoD,GACjBiJ,EAA2BE,GAA6DF,EAA2BE,KAA3EF,EAA2BE,GAAc,KAIxF,IAAIC,EAAiB,GACjBC,EAAoB,GACxBpjB,EAAUrzC,MAAM1d,SAAQ,SAAUmwB,GAC5B6jD,EAAiB7jD,EAAK5S,SAAWy2D,EAAiB7jD,EAAK3S,UACzD02D,EAAe7hF,KAAK89B,GACfgkD,EAAkBhkD,EAAK46C,IAAiEoJ,EAAkBhkD,EAAK46C,MAAvEoJ,EAAkBhkD,EAAK46C,IAAkB,EACtFiJ,EAAiB7jD,EAAK5S,QAAQxiB,SAC9Bi5E,EAAiB7jD,EAAK3S,QAAQziB,SAC9Bi5E,EAAiB7jD,EAAK5S,QAAQ+/B,YAC9B02B,EAAiB7jD,EAAK3S,QAAQ6/B,eAOlC,IAHA,IAAI+2B,EAAsB/jF,OAAO8C,KAAK87E,GAAqBp9E,OACvDwiF,GAAoB,EAEf/8E,EAAI,EAAGA,EAAI88E,EAAqB98E,IAAK,CAC5C,IAAIg9E,EAAUjkF,OAAO8C,KAAK87E,GAAqB33E,GAE/C,IAAK68E,EAAkBG,IAAYH,EAAkBG,GAAWrF,EAAoBqF,GAASziF,OAAQ,CACnGwiF,GAAoB,EACpB,OAIJ,GAAIA,EAEF,OADAlB,EAAgB59E,OAAO5F,EAAG,GACnB,WAIT,IAAI4kF,EAAmBL,EAAeriF,OAEtC,GAAI0iF,EAAmB5nD,EAAQjP,MAAM7rB,OAEnC,OADAshF,EAAgB59E,OAAO5F,EAAG,GACnB,QAGT,IAAI6kF,GAAwB,EAExBC,EAAU,SAAiBn9E,GAC7B,IAAI64B,EAAO+jD,EAAe58E,GACtB+X,EAAY8gB,EAAK46C,GACjB2J,EAAwBzF,EAAoB5/D,GAEhD,IAAKqlE,IAA0BA,EAAsB7iF,OAGnD,OAFAsiF,EAAkB9kE,KAEdqlE,GAAyBP,EAAkB9kE,GAAaqlE,EAAsB7iF,QAChF2iF,GAAwB,EACjB,UAGTN,EAAe3+E,OAAO+B,EAAG,GACzB08E,EAAiB7jD,EAAK5S,QAAQxiB,SAC9Bi5E,EAAiB7jD,EAAK3S,QAAQziB,SAC9Bi5E,EAAiB7jD,EAAK5S,QAAQ+/B,YAC9B02B,EAAiB7jD,EAAK3S,QAAQ6/B,WACvB,YAIT,IAAIyvB,EAAckH,EAAiB7jD,EAAK5S,QAAQ8E,KAAKyoD,GACjDiC,EAAciH,EAAiB7jD,EAAK3S,QAAQ6E,KAAKyoD,GACjD6J,GAAc,EAQlB,OAPAD,EAAsB10E,SAAQ,SAAU40E,GACtC,IAAIC,EAAgBzG,EAAewG,EAAYr3D,QAAQ8E,KACnDyyD,EAAgB1G,EAAewG,EAAYp3D,QAAQ6E,KACnDwyD,EAAc/J,KAAmBgC,GAAegI,EAAchK,KAAmBiC,IAAa4H,GAAc,GAC3GxyD,GAAY0yD,EAAc/J,KAAmBiC,GAAe+H,EAAchK,KAAmBgC,IAAa6H,GAAc,MAG1HA,OAAL,GACER,EAAkB9kE,KAEdqlE,GAAyBP,EAAkB9kE,GAAaqlE,EAAsB7iF,QAChF2iF,GAAwB,EACjB,UAGTN,EAAe3+E,OAAO+B,EAAG,GACzB08E,EAAiB7jD,EAAK5S,QAAQxiB,SAC9Bi5E,EAAiB7jD,EAAK3S,QAAQziB,SAC9Bi5E,EAAiB7jD,EAAK5S,QAAQ+/B,YAC9B02B,EAAiB7jD,EAAK3S,QAAQ6/B,WACvB,cAIX,IAAS/lD,EAAIi9E,EAAmB,EAAGj9E,GAAK,EAAGA,IAAK,CAG9C,GAAgB,UAFFm9E,EAAQn9E,GAEG,MAI3B,GAAIk9E,EAEF,OADArB,EAAgB59E,OAAO5F,EAAG,GACnB,WAGTmkF,EAAep2D,MAAQw2D,EACvB,IAAIa,EAAqBxd,EAASuc,EAAgBA,EAAer2D,MAAM,GAAGE,IAAI,GAAO9rB,OAqCrF,GApCAxB,OAAO8C,KAAK4hF,GAAoB9oD,UAAUjsB,SAAQ,SAAUu8C,GAC1D,GAAIA,IAAau3B,EAAer2D,MAAM,GAAGE,KAAM62D,EAA/C,CAEA,GAAIO,EAAmBx4B,KAAcliD,IAAU,CAC7C,IAAI26E,EAAkBhB,EAAiBz3B,GAAUl6B,KAAKyoD,GAGtD,GAFAiJ,EAA2BiB,KAEvBjB,EAA2BiB,GAAmB3G,EAAoB2G,GAAiBnjF,OAErF,YADA2iF,GAAwB,GAI1B,IAAIp0E,EAAM0zE,EAAer2D,MAAMzrB,QAAQgiF,EAAiBz3B,GAAUl6B,MAGlE,OAFAyxD,EAAer2D,MAAMloB,OAAO6K,EAAK,QACjC4zE,EAAiBz3B,QAAY/gD,GAK/B,IAAIy5E,EAAS7yD,EAAQm6B,GAAUl6B,KAAKyoD,GAEpC,IAAK+I,EAAsCoB,KAAYpB,EAAsCoB,GAAQpjF,QAAUkjF,EAAmBx4B,GAAYs3B,EAAsCoB,GAAQpB,EAAsCoB,GAAQpjF,OAAS,GAAI,CACjPmjF,EAAkBhB,EAAiBz3B,GAAUl6B,KAAKyoD,GAGtD,GAFAiJ,EAA2BiB,KAEvBjB,EAA2BiB,GAAmB3G,EAAoB2G,GAAiBnjF,OAErF,YADA2iF,GAAwB,GAItBp0E,EAAM0zE,EAAer2D,MAAMzrB,QAAQgiF,EAAiBz3B,GAAUl6B,MAClEyxD,EAAer2D,MAAMloB,OAAO6K,EAAK,GACjC4zE,EAAiBz3B,QAAY/gD,OAI7Bg5E,EAEF,OADArB,EAAgB59E,OAAO5F,EAAG,GACnB,WAMT,IAHA,IAAIulF,GAAgB,EAChBC,EAAY,EAETD,IAAkBV,GAAuB,CAK9C,GAJAU,GAAgB,EAEA/yD,EAAW6xD,EAAiBZ,EAAUz1D,IAAI5iB,OAASqzE,EAAeoD,EAAW7zD,IAAI5iB,QAAUi5E,EAAiBZ,EAAUz1D,IAAI0/B,SAAW+wB,EAAeoD,EAAW7zD,IAAI0/B,UAAY22B,EAAiBZ,EAAUz1D,IAAI2/B,UAAY8wB,EAAeoD,EAAW7zD,IAAI2/B,UAAY02B,EAAiBZ,EAAUz1D,IAAI5iB,OAASqzE,EAAeoD,EAAW7zD,IAAI5iB,OAE3U,CACby5E,GAAwB,EACxB,MAIF,GAAIT,EAA2BX,EAAUtI,IAAkBuD,EAAoB+E,EAAUtI,IAAgBj5E,OAAQ,CAC/G2iF,GAAwB,EACxB,MAMF,IAFA,IAESpkF,EAFqB0jF,EAAer2D,MAAM5rB,OAEZ,EAAGzB,GAAK,EAAGA,IAAK,CACrD,IAAIglF,EAAStB,EAAer2D,MAAMrtB,GAC9Bu0E,EAAaqP,EAAiBoB,EAAOz3D,IAAI5iB,OACzCs6E,EAAerB,EAAiBoB,EAAOz3D,IAAI0/B,SAC3Ci4B,EAAgBtB,EAAiBoB,EAAOz3D,IAAI2/B,UAC5C22B,EAAamB,EAAOtK,GAEpBroB,EAAKwrB,GAA+BC,EAA8B+F,EAAY7F,EAAgBC,GAC9FC,EAA4B7rB,EAAG6rB,0BAC/BC,EAA8B9rB,EAAG8rB,4BACjCC,EAA+B/rB,EAAG+rB,6BAItC,GAFsBrsD,EAAWwiD,EAAa2J,GAA6B+G,EAAe9G,GAA+B+G,EAAgB9G,EAA+B7J,EAAa2J,EAEhK,CAGnB,GAFAyF,EAA2BqB,EAAOtK,MAE9BiJ,EAA2BqB,EAAOtK,IAAkBuD,EAAoB+G,EAAOtK,IAAgBj5E,OAAQ,CACzG2iF,GAAwB,EACxB,MAGFV,EAAer2D,MAAMloB,OAAOnF,EAAG,GAC/B4jF,EAAiBoB,EAAOz3D,SAAMniB,EAC9B05E,GAAgB,GAIpB,GAAIV,IAA0BU,GAA+B,IAAdC,EAAiB,MAIhE,IAAK,IAAIhxE,GAFTowE,EAAmBL,EAAeriF,QAEF,EAAGsS,GAAK,EAAGA,IAAK,CAC9C,IAAIoxE,EAAQrB,EAAe/vE,GAE3B,IAAK6vE,EAAiBuB,EAAMh4D,UAAYy2D,EAAiBuB,EAAM/3D,QAAS,CACtE02D,EAAe3+E,OAAO4O,EAAG,GACzB,IAAIkL,EAAYkmE,EAAMxK,GActB,GAbAoJ,EAAkB9kE,KAEd2kE,EAAiBuB,EAAMh4D,UACzBy2D,EAAiBuB,EAAMh4D,QAAQxiB,SAC/Bi5E,EAAiBuB,EAAMh4D,QAAQ+/B,aAG7B02B,EAAiBuB,EAAM/3D,UACzBw2D,EAAiBuB,EAAM/3D,QAAQziB,SAC/Bi5E,EAAiBuB,EAAM/3D,QAAQ6/B,YAI7B4xB,EAAoB5/D,IAAc8kE,EAAkB9kE,GAAa4/D,EAAoB5/D,GAAWxd,OAAQ,CAC1G2iF,GAAwB,EACxB,MAGFU,GAAgB,GAIpBC,IAGF,OAAIX,GAMAA,GAAyBV,EAAer2D,MAAM5rB,OAAS86B,EAAQlP,MAAM5rB,QAAUqiF,EAAeriF,OAAS86B,EAAQjP,MAAM7rB,QALvHshF,EAAgB59E,OAAO5F,EAAG,GACnB,iBAIT,GAMOA,EArQewjF,EAAgBthF,OAqQP,EAAGlC,GAAK,EAAGA,IAAK,CAG/C,GAAgB,UAFF6xD,EAAQ7xD,GAEG,MAQ3B,IAAI6lF,EAAgBrC,EAAgBthF,OAEhCiwD,EAAU,SAAiBnyD,GAC7B,IAAI8lF,EAAMtC,EAAgBxjF,GACtB+lF,EAAa,GAEjBD,EAAI/3D,MAAM1d,SAAQ,SAAUmwB,GAC1B,IAAIj/B,EAAM,GAAGqD,OAAO47B,EAAK5S,OAAQ,KAAKhpB,OAAO47B,EAAK3S,OAAQ,KAAKjpB,OAAO47B,EAAK7rB,OACtEoxE,EAAWxkF,GAA+BwkF,EAAWxkF,KAApCwkF,EAAWxkF,GAAO,KA0B1C,IAvBA,IAAIykF,EAAU,SAAiBz+E,GAC7B,IAAI0+E,EAAMzC,EAAgBj8E,GACtB2+E,EAAa,GAEjBD,EAAIl4D,MAAM1d,SAAQ,SAAUmwB,GAC1B,IAAIj/B,EAAM,GAAGqD,OAAO47B,EAAK5S,OAAQ,KAAKhpB,OAAO47B,EAAK3S,OAAQ,KAAKjpB,OAAO47B,EAAK7rB,OACtEuxE,EAAW3kF,GAA+B2kF,EAAW3kF,KAApC2kF,EAAW3kF,GAAO,KAE1C,IAAI4kF,GAAO,EAEPzlF,OAAO8C,KAAK0iF,GAAYhkF,SAAWxB,OAAO8C,KAAKuiF,GAAY7jF,OAC7DikF,GAAO,EAEPzlF,OAAO8C,KAAKuiF,GAAY11E,SAAQ,SAAU9O,GACpC2kF,EAAW3kF,KAASwkF,EAAWxkF,KAAM4kF,GAAO,MAIhDA,GACF3C,EAAgB59E,OAAO2B,EAAG,IAIrBA,EAAIs+E,EAAgB,EAAGt+E,EAAIvH,EAAGuH,IACrCy+E,EAAQz+E,GAGVs+E,EAAgBrC,EAAgBthF,QAGlC,IAASlC,EAAI,EAAGA,GAAK6lF,EAAgB,EAAG7lF,IACtCmyD,EAAQnyD,GAGV,OAAOwjF,KC9iCM4C,GA1Ef,WACE,SAASA,EAAM9hC,QACG,IAAZA,IACFA,EAAU,IAGZ1kD,KAAK2iE,WAAa,IAAIhB,EACtB3hE,KAAK0kD,QAAUA,EAgEjB,OA7DA5jD,OAAOC,eAAeylF,EAAMxkF,UAAW,SAAU,CAC/Cf,IAAK,WACH,OAAOjB,KAAK2iE,WAAWxU,UAAU7rD,QAEnCtB,YAAY,EACZylF,cAAc,IAMhBD,EAAMxkF,UAAUiO,QAAU,WACxB,OAAQjQ,KAAK2iE,WAAW96D,MAO1B2+E,EAAMxkF,UAAU0kF,WAAa,WAC3B,OAAO1mF,KAAKmuD,UAAU7rD,QAAUtC,KAAK0kD,SAOvC8hC,EAAMxkF,UAAU4gE,KAAO,WACrB,OAAI5iE,KAAKiQ,UACA,KAIFjQ,KAAK2iE,WAAW96D,KAAKxG,OAG9BmlF,EAAMxkF,UAAUc,KAAO,SAAUzB,GAC/BrB,KAAK2iE,WAAWd,QAAQxgE,GAEpBrB,KAAKsC,OAAStC,KAAK0kD,SACrB1kD,KAAK2iE,WAAWR,cAIpBqkB,EAAMxkF,UAAUsT,IAAM,WACpB,IAAIytD,EAAa/iE,KAAK2iE,WAAWN,aACjC,OAAOU,EAAaA,EAAW1hE,MAAQ,MAGzCmlF,EAAMxkF,UAAUmsD,QAAU,WACxB,OAAOnuD,KAAK2iE,WAAWxU,UAAU59C,KAAI,SAAUuiB,GAC7C,OAAOA,EAAKzxB,UAIhBmlF,EAAMxkF,UAAUksC,MAAQ,WACtB,MAAQluC,KAAKiQ,WACXjQ,KAAKsV,OAIFkxE,EAvET,GCkBIhf,GAAsBmf,EAEX,WACb94D,aAAcA,EACdw1C,mBAAoBA,EACpBujB,mBAAoBA,EACpB74D,UAAWA,EACXm3C,YAAaA,EACbC,aAAcA,EACdwhB,YAAaA,EACbnf,oBAAqBA,GACrBD,gBAAiBA,EACjBpB,uBAAwBA,EACxBb,yBAA0BA,EAC1BF,iBAAkBA,EAClB4C,SAAUA,EACVuB,YAAaA,EACbF,iBAAkBA,EAClBv7C,cAAeA,EACf47C,iBAAkBA,EAClBwE,QAASA,EACT4C,SAAUA,EACVC,MAAOA,EACPG,OAAQA,EACRe,iBAAkBA,EAClBM,sBAAuBA,EACvBgC,oBAAqBA,EACrBI,SAAUA,EACVvhC,aAAcA,EACdozC,MAAOA,GACPlH,MAAOA,K,m8CCxCF,SAAS59E,IACd,IAAIgxC,EAAM,IAAIm0C,IAAoB,GAclC,OAZIA,KAAuBpmC,eACzB/N,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,GAGXA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,EAUF,SAASo0C,EAASp0C,EAAKjuC,GAU5B,OATAiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,IACJiuC,EASF,SAASjkC,EAAMhK,GACpB,IAAIiuC,EAAM,IAAIm0C,IAAoB,GAUlC,OATAn0C,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACJiuC,EAUF,SAASq0C,EAAKr0C,EAAKjuC,GAUxB,OATAiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACJiuC,EAiBF,SAASs0C,EAAWC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,GACjE,IAAI/0C,EAAM,IAAIm0C,IAAoB,GAUlC,OATAn0C,EAAI,GAAKu0C,EACTv0C,EAAI,GAAKw0C,EACTx0C,EAAI,GAAKy0C,EACTz0C,EAAI,GAAK00C,EACT10C,EAAI,GAAK20C,EACT30C,EAAI,GAAK40C,EACT50C,EAAI,GAAK60C,EACT70C,EAAI,GAAK80C,EACT90C,EAAI,GAAK+0C,EACF/0C,EAkBF,SAASprC,EAAIorC,EAAKu0C,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,GAU/D,OATA/0C,EAAI,GAAKu0C,EACTv0C,EAAI,GAAKw0C,EACTx0C,EAAI,GAAKy0C,EACTz0C,EAAI,GAAK00C,EACT10C,EAAI,GAAK20C,EACT30C,EAAI,GAAK40C,EACT50C,EAAI,GAAK60C,EACT70C,EAAI,GAAK80C,EACT90C,EAAI,GAAK+0C,EACF/0C,EASF,SAASliC,EAASkiC,GAUvB,OATAA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,EAUF,SAASg1C,EAAUh1C,EAAKjuC,GAE7B,GAAIiuC,IAAQjuC,EAAG,CACb,IAAIkjF,EAAMljF,EAAE,GACRmjF,EAAMnjF,EAAE,GACRojF,EAAMpjF,EAAE,GACZiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKi1C,EACTj1C,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKk1C,EACTl1C,EAAI,GAAKm1C,OAETn1C,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GAGb,OAAOiuC,EAUF,SAAStgB,EAAOsgB,EAAKjuC,GAC1B,IAAIqjF,EAAMrjF,EAAE,GACRkjF,EAAMljF,EAAE,GACRmjF,EAAMnjF,EAAE,GACRsjF,EAAMtjF,EAAE,GACRujF,EAAMvjF,EAAE,GACRojF,EAAMpjF,EAAE,GACRwjF,EAAMxjF,EAAE,GACRyjF,EAAMzjF,EAAE,GACR0jF,EAAM1jF,EAAE,GACR2jF,EAAMD,EAAMH,EAAMH,EAAMK,EACxBG,GAAOF,EAAMJ,EAAMF,EAAMI,EACzBK,EAAMJ,EAAMH,EAAMC,EAAMC,EAExBM,EAAMT,EAAMM,EAAMT,EAAMU,EAAMT,EAAMU,EAExC,OAAKC,GAILA,EAAM,EAAMA,EACZ71C,EAAI,GAAK01C,EAAMG,EACf71C,EAAI,KAAOy1C,EAAMR,EAAMC,EAAMM,GAAOK,EACpC71C,EAAI,IAAMm1C,EAAMF,EAAMC,EAAMI,GAAOO,EACnC71C,EAAI,GAAK21C,EAAME,EACf71C,EAAI,IAAMy1C,EAAML,EAAMF,EAAMK,GAAOM,EACnC71C,EAAI,KAAOm1C,EAAMC,EAAMF,EAAMG,GAAOQ,EACpC71C,EAAI,GAAK41C,EAAMC,EACf71C,EAAI,KAAOw1C,EAAMJ,EAAMH,EAAMM,GAAOM,EACpC71C,EAAI,IAAMs1C,EAAMF,EAAMH,EAAMI,GAAOQ,EAC5B71C,GAbE,KAuBJ,SAAS81C,EAAQ91C,EAAKjuC,GAC3B,IAAIqjF,EAAMrjF,EAAE,GACRkjF,EAAMljF,EAAE,GACRmjF,EAAMnjF,EAAE,GACRsjF,EAAMtjF,EAAE,GACRujF,EAAMvjF,EAAE,GACRojF,EAAMpjF,EAAE,GACRwjF,EAAMxjF,EAAE,GACRyjF,EAAMzjF,EAAE,GACR0jF,EAAM1jF,EAAE,GAUZ,OATAiuC,EAAI,GAAKs1C,EAAMG,EAAMN,EAAMK,EAC3Bx1C,EAAI,GAAKk1C,EAAMM,EAAMP,EAAMQ,EAC3Bz1C,EAAI,GAAKi1C,EAAME,EAAMD,EAAMI,EAC3Bt1C,EAAI,GAAKm1C,EAAMI,EAAMF,EAAMI,EAC3Bz1C,EAAI,GAAKo1C,EAAMK,EAAMP,EAAMK,EAC3Bv1C,EAAI,GAAKk1C,EAAMG,EAAMD,EAAMD,EAC3Bn1C,EAAI,GAAKq1C,EAAMG,EAAMF,EAAMC,EAC3Bv1C,EAAI,GAAKi1C,EAAMM,EAAMH,EAAMI,EAC3Bx1C,EAAI,GAAKo1C,EAAME,EAAML,EAAMI,EACpBr1C,EASF,SAAS+1C,EAAYhkF,GAC1B,IAAIqjF,EAAMrjF,EAAE,GACRkjF,EAAMljF,EAAE,GACRmjF,EAAMnjF,EAAE,GACRsjF,EAAMtjF,EAAE,GACRujF,EAAMvjF,EAAE,GACRojF,EAAMpjF,EAAE,GACRwjF,EAAMxjF,EAAE,GACRyjF,EAAMzjF,EAAE,GACR0jF,EAAM1jF,EAAE,GACZ,OAAOqjF,GAAOK,EAAMH,EAAMH,EAAMK,GAAOP,IAAQQ,EAAMJ,EAAMF,EAAMI,GAAOL,GAAOM,EAAMH,EAAMC,EAAMC,GAW5F,SAASS,EAASh2C,EAAKjuC,EAAGmC,GAC/B,IAAIkhF,EAAMrjF,EAAE,GACRkjF,EAAMljF,EAAE,GACRmjF,EAAMnjF,EAAE,GACRsjF,EAAMtjF,EAAE,GACRujF,EAAMvjF,EAAE,GACRojF,EAAMpjF,EAAE,GACRwjF,EAAMxjF,EAAE,GACRyjF,EAAMzjF,EAAE,GACR0jF,EAAM1jF,EAAE,GACRkkF,EAAM/hF,EAAE,GACRwhF,EAAMxhF,EAAE,GACRgiF,EAAMhiF,EAAE,GACRiiF,EAAMjiF,EAAE,GACRyhF,EAAMzhF,EAAE,GACRkiF,EAAMliF,EAAE,GACRmiF,EAAMniF,EAAE,GACR0hF,EAAM1hF,EAAE,GACRoiF,EAAMpiF,EAAE,GAUZ,OATA8rC,EAAI,GAAKi2C,EAAMb,EAAMM,EAAML,EAAMa,EAAMX,EACvCv1C,EAAI,GAAKi2C,EAAMhB,EAAMS,EAAMJ,EAAMY,EAAMV,EACvCx1C,EAAI,GAAKi2C,EAAMf,EAAMQ,EAAMP,EAAMe,EAAMT,EACvCz1C,EAAI,GAAKm2C,EAAMf,EAAMO,EAAMN,EAAMe,EAAMb,EACvCv1C,EAAI,GAAKm2C,EAAMlB,EAAMU,EAAML,EAAMc,EAAMZ,EACvCx1C,EAAI,GAAKm2C,EAAMjB,EAAMS,EAAMR,EAAMiB,EAAMX,EACvCz1C,EAAI,GAAKq2C,EAAMjB,EAAMQ,EAAMP,EAAMiB,EAAMf,EACvCv1C,EAAI,GAAKq2C,EAAMpB,EAAMW,EAAMN,EAAMgB,EAAMd,EACvCx1C,EAAI,GAAKq2C,EAAMnB,EAAMU,EAAMT,EAAMmB,EAAMb,EAChCz1C,EAWF,SAASzf,EAAUyf,EAAKjuC,EAAGiB,GAChC,IAAIoiF,EAAMrjF,EAAE,GACRkjF,EAAMljF,EAAE,GACRmjF,EAAMnjF,EAAE,GACRsjF,EAAMtjF,EAAE,GACRujF,EAAMvjF,EAAE,GACRojF,EAAMpjF,EAAE,GACRwjF,EAAMxjF,EAAE,GACRyjF,EAAMzjF,EAAE,GACR0jF,EAAM1jF,EAAE,GACRwd,EAAIvc,EAAE,GACNkP,EAAIlP,EAAE,GAUV,OATAgtC,EAAI,GAAKo1C,EACTp1C,EAAI,GAAKi1C,EACTj1C,EAAI,GAAKk1C,EACTl1C,EAAI,GAAKq1C,EACTr1C,EAAI,GAAKs1C,EACTt1C,EAAI,GAAKm1C,EACTn1C,EAAI,GAAKzwB,EAAI6lE,EAAMlzE,EAAImzE,EAAME,EAC7Bv1C,EAAI,GAAKzwB,EAAI0lE,EAAM/yE,EAAIozE,EAAME,EAC7Bx1C,EAAI,GAAKzwB,EAAI2lE,EAAMhzE,EAAIizE,EAAMM,EACtBz1C,EAWF,SAASvwB,EAAOuwB,EAAKjuC,EAAGo4B,GAC7B,IAAIirD,EAAMrjF,EAAE,GACRkjF,EAAMljF,EAAE,GACRmjF,EAAMnjF,EAAE,GACRsjF,EAAMtjF,EAAE,GACRujF,EAAMvjF,EAAE,GACRojF,EAAMpjF,EAAE,GACRwjF,EAAMxjF,EAAE,GACRyjF,EAAMzjF,EAAE,GACR0jF,EAAM1jF,EAAE,GACRtC,EAAIkD,KAAKyS,IAAI+kB,GACbp8B,EAAI4E,KAAKwS,IAAIglB,GAUjB,OATA6V,EAAI,GAAKjyC,EAAIqnF,EAAM3lF,EAAI4lF,EACvBr1C,EAAI,GAAKjyC,EAAIknF,EAAMxlF,EAAI6lF,EACvBt1C,EAAI,GAAKjyC,EAAImnF,EAAMzlF,EAAI0lF,EACvBn1C,EAAI,GAAKjyC,EAAIsnF,EAAM5lF,EAAI2lF,EACvBp1C,EAAI,GAAKjyC,EAAIunF,EAAM7lF,EAAIwlF,EACvBj1C,EAAI,GAAKjyC,EAAIonF,EAAM1lF,EAAIylF,EACvBl1C,EAAI,GAAKu1C,EACTv1C,EAAI,GAAKw1C,EACTx1C,EAAI,GAAKy1C,EACFz1C,EAWF,SAASzW,EAAMyW,EAAKjuC,EAAGiB,GAC5B,IAAIuc,EAAIvc,EAAE,GACNkP,EAAIlP,EAAE,GAUV,OATAgtC,EAAI,GAAKzwB,EAAIxd,EAAE,GACfiuC,EAAI,GAAKzwB,EAAIxd,EAAE,GACfiuC,EAAI,GAAKzwB,EAAIxd,EAAE,GACfiuC,EAAI,GAAK99B,EAAInQ,EAAE,GACfiuC,EAAI,GAAK99B,EAAInQ,EAAE,GACfiuC,EAAI,GAAK99B,EAAInQ,EAAE,GACfiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACJiuC,EAcF,SAASu2C,EAAgBv2C,EAAKhtC,GAUnC,OATAgtC,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAKhtC,EAAE,GACXgtC,EAAI,GAAKhtC,EAAE,GACXgtC,EAAI,GAAK,EACFA,EAcF,SAASw2C,EAAax2C,EAAK7V,GAChC,IAAI16B,EAAIkD,KAAKyS,IAAI+kB,GACbp8B,EAAI4E,KAAKwS,IAAIglB,GAUjB,OATA6V,EAAI,GAAKjyC,EACTiyC,EAAI,GAAKvwC,EACTuwC,EAAI,GAAK,EACTA,EAAI,IAAMvwC,EACVuwC,EAAI,GAAKjyC,EACTiyC,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,EAcF,SAASy2C,EAAYz2C,EAAKhtC,GAU/B,OATAgtC,EAAI,GAAKhtC,EAAE,GACXgtC,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAKhtC,EAAE,GACXgtC,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,EAUF,SAAS02C,EAAU12C,EAAKjuC,GAU7B,OATAiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAK,EACTA,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAK,EACTA,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAK,EACFA,EAWF,SAAS22C,EAAS32C,EAAK1e,GAC5B,IAAI/R,EAAI+R,EAAE,GACNpf,EAAIof,EAAE,GACNmG,EAAInG,EAAE,GACN+F,EAAI/F,EAAE,GACN4B,EAAK3T,EAAIA,EACT4T,EAAKjhB,EAAIA,EACT00E,EAAKnvD,EAAIA,EACTovD,EAAKtnE,EAAI2T,EACT4zD,EAAK50E,EAAIghB,EACT6zD,EAAK70E,EAAIihB,EACT6zD,EAAKvvD,EAAIvE,EACT+zD,EAAKxvD,EAAItE,EACT+zD,EAAKzvD,EAAImvD,EACTO,EAAK9vD,EAAInE,EACTk0D,EAAK/vD,EAAIlE,EACTk0D,EAAKhwD,EAAIuvD,EAUb,OATA52C,EAAI,GAAK,EAAI+2C,EAAKG,EAClBl3C,EAAI,GAAK82C,EAAKO,EACdr3C,EAAI,GAAKg3C,EAAKI,EACdp3C,EAAI,GAAK82C,EAAKO,EACdr3C,EAAI,GAAK,EAAI62C,EAAKK,EAClBl3C,EAAI,GAAKi3C,EAAKE,EACdn3C,EAAI,GAAKg3C,EAAKI,EACdp3C,EAAI,GAAKi3C,EAAKE,EACdn3C,EAAI,GAAK,EAAI62C,EAAKE,EACX/2C,EAWF,SAASs3C,EAAet3C,EAAKjuC,GAClC,IAAIqjF,EAAMrjF,EAAE,GACRkjF,EAAMljF,EAAE,GACRmjF,EAAMnjF,EAAE,GACRwlF,EAAMxlF,EAAE,GACRsjF,EAAMtjF,EAAE,GACRujF,EAAMvjF,EAAE,GACRojF,EAAMpjF,EAAE,GACRylF,EAAMzlF,EAAE,GACRwjF,EAAMxjF,EAAE,GACRyjF,EAAMzjF,EAAE,GACR0jF,EAAM1jF,EAAE,IACR0lF,EAAM1lF,EAAE,IACR2lF,EAAM3lF,EAAE,IACR4lF,EAAM5lF,EAAE,IACR6lF,EAAM7lF,EAAE,IACR8lF,EAAM9lF,EAAE,IACRkkF,EAAMb,EAAME,EAAML,EAAMI,EACxBK,EAAMN,EAAMD,EAAMD,EAAMG,EACxBa,EAAMd,EAAMoC,EAAMD,EAAMlC,EACxByC,EAAM7C,EAAME,EAAMD,EAAMI,EACxByC,EAAM9C,EAAMuC,EAAMD,EAAMjC,EACxB0C,EAAM9C,EAAMsC,EAAMD,EAAMpC,EACxB8C,EAAM1C,EAAMoC,EAAMnC,EAAMkC,EACxBQ,EAAM3C,EAAMqC,EAAMnC,EAAMiC,EACxBS,EAAM5C,EAAMsC,EAAMJ,EAAMC,EACxBU,EAAM5C,EAAMoC,EAAMnC,EAAMkC,EACxBxB,EAAMX,EAAMqC,EAAMJ,EAAME,EACxBhC,EAAMF,EAAMoC,EAAMJ,EAAMG,EAExB/B,EAAMI,EAAMN,EAAMD,EAAMS,EAAMD,EAAMkC,EAAMN,EAAMK,EAAMJ,EAAMG,EAAMF,EAAMC,EAE5E,OAAKpC,GAILA,EAAM,EAAMA,EACZ71C,EAAI,IAAMs1C,EAAMK,EAAMR,EAAMgB,EAAMqB,EAAMY,GAAOvC,EAC/C71C,EAAI,IAAMm1C,EAAMgD,EAAM9C,EAAMM,EAAM6B,EAAMU,GAAOrC,EAC/C71C,EAAI,IAAMq1C,EAAMc,EAAMb,EAAM6C,EAAMX,EAAMS,GAAOpC,EAC/C71C,EAAI,IAAMk1C,EAAMiB,EAAMlB,EAAMU,EAAM4B,EAAMa,GAAOvC,EAC/C71C,EAAI,IAAMo1C,EAAMO,EAAMT,EAAMiD,EAAMZ,EAAMW,GAAOrC,EAC/C71C,EAAI,IAAMi1C,EAAMkD,EAAM/C,EAAMe,EAAMoB,EAAMU,GAAOpC,EAC/C71C,EAAI,IAAM23C,EAAMK,EAAMJ,EAAMG,EAAMF,EAAMC,GAAOjC,EAC/C71C,EAAI,IAAM43C,EAAM1B,EAAMwB,EAAMM,EAAMH,EAAMnC,GAAOG,EAC/C71C,EAAI,IAAM03C,EAAMK,EAAMJ,EAAMzB,EAAM2B,EAAM5B,GAAOJ,EACxC71C,GAbE,KAwBJ,SAASq4C,EAAWr4C,EAAKngC,EAAOuO,GAUrC,OATA4xB,EAAI,GAAK,EAAIngC,EACbmgC,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EAAI5xB,EACd4xB,EAAI,GAAK,EACTA,EAAI,IAAM,EACVA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,EASF,SAASjsC,EAAIhC,GAClB,MAAO,QAAUA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,IASnI,SAASumF,EAAKvmF,GACnB,OAAOY,KAAK0uC,MAAMtvC,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAW/D,SAAS21C,EAAI1H,EAAKjuC,EAAGmC,GAU1B,OATA8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAClB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAClB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAClB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAClB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAClB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAClB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAClB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAClB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GACX8rC,EAWF,SAASg5B,EAASh5B,EAAKjuC,EAAGmC,GAU/B,OATA8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAClB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAClB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAClB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAClB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAClB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAClB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAClB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAClB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GACX8rC,EAWF,SAASu4C,EAAev4C,EAAKjuC,EAAGmC,GAUrC,OATA8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAChB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAChB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAChB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAChB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAChB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAChB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAChB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAChB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EACT8rC,EAYF,SAASw4C,EAAqBx4C,EAAKjuC,EAAGmC,EAAGq1B,GAU9C,OATAyW,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAAKq1B,EACvByW,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAAKq1B,EACvByW,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAAKq1B,EACvByW,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAAKq1B,EACvByW,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAAKq1B,EACvByW,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAAKq1B,EACvByW,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAAKq1B,EACvByW,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAAKq1B,EACvByW,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAAKq1B,EAChByW,EAUF,SAASra,EAAY5zB,EAAGmC,GAC7B,OAAOnC,EAAE,KAAOmC,EAAE,IAAMnC,EAAE,KAAOmC,EAAE,IAAMnC,EAAE,KAAOmC,EAAE,IAAMnC,EAAE,KAAOmC,EAAE,IAAMnC,EAAE,KAAOmC,EAAE,IAAMnC,EAAE,KAAOmC,EAAE,IAAMnC,EAAE,KAAOmC,EAAE,IAAMnC,EAAE,KAAOmC,EAAE,IAAMnC,EAAE,KAAOmC,EAAE,GAUrJ,SAASukF,EAAO1mF,EAAGmC,GACxB,IAAIwkF,EAAK3mF,EAAE,GACP4mF,EAAK5mF,EAAE,GACP6mF,EAAK7mF,EAAE,GACP8mF,EAAK9mF,EAAE,GACP+mF,EAAK/mF,EAAE,GACPgnF,EAAKhnF,EAAE,GACPinF,EAAKjnF,EAAE,GACPknF,EAAKlnF,EAAE,GACPmnF,EAAKnnF,EAAE,GACPonF,EAAKjlF,EAAE,GACPklF,EAAKllF,EAAE,GACPmlF,EAAKnlF,EAAE,GACPolF,EAAKplF,EAAE,GACPqlF,EAAKrlF,EAAE,GACPslF,EAAKtlF,EAAE,GACPulF,EAAKvlF,EAAE,GACPwlF,EAAKxlF,EAAE,GACPylF,EAAKzlF,EAAE,GACX,OAAOvB,KAAKqF,IAAI0gF,EAAKS,IAAOhF,IAAmBxhF,KAAKC,IAAI,EAAKD,KAAKqF,IAAI0gF,GAAK/lF,KAAKqF,IAAImhF,KAAQxmF,KAAKqF,IAAI2gF,EAAKS,IAAOjF,IAAmBxhF,KAAKC,IAAI,EAAKD,KAAKqF,IAAI2gF,GAAKhmF,KAAKqF,IAAIohF,KAAQzmF,KAAKqF,IAAI4gF,EAAKS,IAAOlF,IAAmBxhF,KAAKC,IAAI,EAAKD,KAAKqF,IAAI4gF,GAAKjmF,KAAKqF,IAAIqhF,KAAQ1mF,KAAKqF,IAAI6gF,EAAKS,IAAOnF,IAAmBxhF,KAAKC,IAAI,EAAKD,KAAKqF,IAAI6gF,GAAKlmF,KAAKqF,IAAIshF,KAAQ3mF,KAAKqF,IAAI8gF,EAAKS,IAAOpF,IAAmBxhF,KAAKC,IAAI,EAAKD,KAAKqF,IAAI8gF,GAAKnmF,KAAKqF,IAAIuhF,KAAQ5mF,KAAKqF,IAAI+gF,EAAKS,IAAOrF,IAAmBxhF,KAAKC,IAAI,EAAKD,KAAKqF,IAAI+gF,GAAKpmF,KAAKqF,IAAIwhF,KAAQ7mF,KAAKqF,IAAIghF,EAAKS,IAAOtF,IAAmBxhF,KAAKC,IAAI,EAAKD,KAAKqF,IAAIghF,GAAKrmF,KAAKqF,IAAIyhF,KAAQ9mF,KAAKqF,IAAIihF,EAAKS,IAAOvF,IAAmBxhF,KAAKC,IAAI,EAAKD,KAAKqF,IAAIihF,GAAKtmF,KAAKqF,IAAI0hF,KAAQ/mF,KAAKqF,IAAIkhF,EAAKS,IAAOxF,IAAmBxhF,KAAKC,IAAI,EAAKD,KAAKqF,IAAIkhF,GAAKvmF,KAAKqF,IAAI2hF,IAOvvB,IAAIC,EAAM5D,EAMNrsB,EAAMqP,E,oCCzwBgLxxD,KAAhIra,EAAOD,QAAiJ,WAAW,aAAa,IAAI0B,EAAE,CAACZ,EAAE,SAASqH,EAAElG,GAAG,IAAI,IAAIX,KAAKW,EAAEP,EAAET,EAAEgB,EAAEX,KAAKI,EAAET,EAAEkH,EAAE7G,IAAIJ,OAAOC,eAAegH,EAAE7G,EAAE,CAACF,YAAW,EAAGC,IAAIY,EAAEX,MAAML,EAAE,SAASS,EAAEyG,GAAG,OAAOjH,OAAOkB,UAAUC,eAAe1B,KAAKe,EAAEyG,IAAI7G,EAAE,SAASI,GAAG,oBAAoBH,QAAQA,OAAOC,aAAaN,OAAOC,eAAeO,EAAEH,OAAOC,YAAY,CAACC,MAAM,WAAWP,OAAOC,eAAeO,EAAE,aAAa,CAACD,OAAM,MAAO0G,EAAE,GAAG,SAASlG,EAAEP,EAAEyG,GAAG,YAAO,IAASzG,EAAEyG,EAAEzG,EAAEA,EAAEJ,EAAE6G,GAAGzG,EAAEZ,EAAEqH,EAAE,CAACi5B,QAAQ,WAAW,OAAOurD,MAAM,IAAIrrF,EAAId,EAAEiF,KAAKyE,MAAM2N,EAAEpS,KAAKqF,IAAIjK,EAAEwQ,KAAKC,IAAIzM,EAAE,UAAUtC,EAAE,OAAOsL,EAAE,eAAepN,EAAE,OAAO6B,EAAE,QAAQ0S,EAAE,QAAQ4C,GAAGtW,EAAE,GAAG,CAAC,OAAO,eAAe,QAAQ,QAAQ,cAAc,QAAQuP,SAAQ,SAAUnP,GAAG,OAAOJ,EAAEI,IAAG,KAAMJ,GAAGwE,EAAE,QAAQkB,EAAE,CAAC,IAAI,KAAKlG,EAAE,CAAC,UAAU,WAAWF,EAAE,GAAyRqU,EAApR,mBAAmB/T,OAAO0S,OAAO,SAASlS,GAAG,GAAG,MAAMA,EAAE,MAAM,IAAI6N,UAAU,8CAA8C,IAAI,IAAIpH,EAAEjH,OAAOQ,GAAGO,EAAE,EAAEA,EAAEkN,UAAUzM,OAAOT,IAAI,CAAC,IAAIX,EAAE6N,UAAUlN,GAAG,GAAG,MAAMX,EAAE,IAAI,IAAIL,KAAKK,EAAEA,EAAEe,eAAepB,KAAKkH,EAAElH,GAAGK,EAAEL,IAAI,OAAOkH,GAAGjH,OAAO0S,OAAegmB,EAAE,EAAE,SAASO,EAAEz4B,EAAEyG,EAAElG,GAAG,IAAIX,EAAE,GAAGI,EAAE,GAAGA,EAAEmP,QAAQnP,EAAEmP,QAAQ1I,EAAElG,QAAQ,QAAG,IAASP,EAAEgB,OAAO,IAAIpB,EAAE,EAAEA,EAAEI,EAAEgB,QAAQyF,EAAExH,KAAKsB,EAAEP,EAAEJ,GAAGA,EAAEI,GAAGJ,SAAS,IAAIA,KAAKI,EAAEA,EAAEW,eAAef,IAAI6G,EAAExH,KAAKsB,EAAEP,EAAEJ,GAAGA,EAAEI,GAAG,SAASs4B,EAAEt4B,EAAEyG,EAAElG,GAAG,QAAQwB,MAAMC,QAAQhC,KAAKy4B,EAAEz4B,EAAEO,EAAEkG,GAAGlG,IAAG,GAAI,SAAS8F,EAAErG,EAAEyG,EAAElG,GAAG,GAAGP,EAAEmB,UAAUZ,EAAE,OAAOP,EAAEmB,QAAQsF,GAAG,IAAI,IAAI7G,EAAE,EAAEA,EAAEI,EAAEgB,QAAQ,CAAC,GAAGT,GAAGP,EAAEJ,GAAGW,IAAIkG,IAAIlG,GAAGP,EAAEJ,KAAK6G,EAAE,OAAO7G,EAAEA,IAAI,OAAO,EAAE,SAAS6S,EAAEzS,GAAG,OAAOyS,EAAE,mBAAmB5S,QAAQ,iBAAiBA,OAAOiU,SAAS,SAAS9T,GAAG,cAAcA,GAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBH,QAAQG,EAAEwL,cAAc3L,QAAQG,IAAIH,OAAOa,UAAU,gBAAgBV,IAAKA,GAAG,SAASwT,EAAExT,EAAEyG,GAAG,MAAM,aAAagM,EAAEzS,GAAGA,EAAEmG,MAAMM,GAAGA,EAAE,SAAI,EAAOA,GAAGzG,EAAE,SAASgvB,EAAEhvB,EAAEyG,GAAG,IAAIlG,EAAEkG,EAAEykF,QAAQ,OAAO3qF,EAAEA,EAAEZ,IAAIK,GAAGA,EAAE,SAASo4B,EAAEp4B,GAAG,OAAO,GAAGA,EAAE,SAAS,EAAEA,EAAE,MAAM,EAAEA,EAAE,OAAO,EAAEA,EAAE,QAAQ,GAAyK,IAAIqC,EAAE,WAAW,SAASrC,EAAEyG,IAAI,SAASzG,EAAEyG,GAAG,KAAKzG,aAAayG,GAAG,MAAM,IAAIoH,UAAU,qCAAvD,CAA6FnP,KAAKsB,GAAGtB,KAAK+Q,QAAQ8D,EAAE,GAAG7U,KAAKysF,SAAS1kF,GAAG,IAAI/H,KAAKouB,GAAGoL,IAAIx5B,KAAKwsF,QAAQ,KAAKxsF,KAAK+Q,QAAQmgC,OAAOrvC,EAAE7B,KAAK+Q,QAAQmgC,QAAO,GAAIlxC,KAAKovC,MAAM,EAAEpvC,KAAK0sF,aAAa,GAAG1sF,KAAK2sF,YAAY,GAAG,IAAI5kF,EAAE7G,EAAE,OAAO6G,EAAEzG,GAAGJ,EAAE,CAAC,CAACS,IAAI,MAAMN,MAAM,SAASC,GAAG,OAAOuT,EAAE7U,KAAK+Q,QAAQzP,GAAGtB,KAAKwsF,SAASxsF,KAAKwsF,QAAQI,YAAY7iD,SAAS/pC,OAAO,CAAC2B,IAAI,gBAAgBN,MAAM,SAASC,GAAG,GAAGs4B,EAAEt4B,EAAE,gBAAgBtB,MAAM,OAAOA,KAAK,IAAI+H,EAAE/H,KAAK0sF,aAAa,OAAO3kF,GAAGzG,EAAEgvB,EAAEhvB,EAAEtB,OAAOouB,MAAMrmB,EAAEzG,EAAE8sB,IAAI9sB,EAAEA,EAAEurF,cAAc7sF,OAAOA,OAAO,CAAC2B,IAAI,oBAAoBN,MAAM,SAASC,GAAG,OAAOs4B,EAAEt4B,EAAE,oBAAoBtB,QAAQsB,EAAEgvB,EAAEhvB,EAAEtB,aAAaA,KAAK0sF,aAAaprF,EAAE8sB,KAAKpuB,OAAO,CAAC2B,IAAI,iBAAiBN,MAAM,SAASC,GAAG,GAAGs4B,EAAEt4B,EAAE,iBAAiBtB,MAAM,OAAOA,KAAK,IAAI+H,EAAE/H,KAAK2sF,YAAY,OAAO,IAAIhlF,EAAEI,EAAEzG,EAAEgvB,EAAEhvB,EAAEtB,SAAS+H,EAAEjF,KAAKxB,GAAGA,EAAEwrF,eAAe9sF,OAAOA,OAAO,CAAC2B,IAAI,qBAAqBN,MAAM,SAASC,GAAG,GAAGs4B,EAAEt4B,EAAE,qBAAqBtB,MAAM,OAAOA,KAAKsB,EAAEgvB,EAAEhvB,EAAEtB,MAAM,IAAI+H,EAAEJ,EAAE3H,KAAK2sF,YAAYrrF,GAAG,OAAOyG,GAAG,GAAG/H,KAAK2sF,YAAY3mF,OAAO+B,EAAE,GAAG/H,OAAO,CAAC2B,IAAI,qBAAqBN,MAAM,WAAW,OAAOrB,KAAK2sF,YAAYrqF,OAAO,IAAI,CAACX,IAAI,mBAAmBN,MAAM,SAASC,GAAG,QAAQtB,KAAK0sF,aAAaprF,EAAE8sB,MAAM,CAACzsB,IAAI,OAAON,MAAM,SAASC,GAAG,IAAIyG,EAAE/H,KAAK6B,EAAE7B,KAAKovC,MAAM,SAASluC,EAAEW,GAAGkG,EAAEykF,QAAQpwE,KAAKva,EAAEP,GAAGO,EAAE,GAAGX,EAAE6G,EAAEgJ,QAAQke,MAAMyK,EAAE73B,IAAIX,EAAE6G,EAAEgJ,QAAQke,OAAO3tB,EAAEyrF,iBAAiB7rF,EAAEI,EAAEyrF,iBAAiBlrF,GAAG,GAAGX,EAAE6G,EAAEgJ,QAAQke,MAAMyK,EAAE73B,MAAM,CAACF,IAAI,UAAUN,MAAM,SAASC,GAAG,GAAGtB,KAAKgtF,UAAU,OAAOhtF,KAAKoc,KAAK9a,GAAGtB,KAAKovC,MAAM5uC,IAAI,CAACmB,IAAI,UAAUN,MAAM,WAAW,IAAI,IAAIC,EAAE,EAAEA,EAAEtB,KAAK2sF,YAAYrqF,QAAQ,CAAC,KAAK,GAAGtC,KAAK2sF,YAAYrrF,GAAG8tC,OAAO,OAAM,EAAG9tC,IAAI,OAAM,IAAK,CAACK,IAAI,YAAYN,MAAM,SAASC,GAAG,IAAIyG,EAAE8M,EAAE,GAAGvT,GAAG,IAAIwT,EAAE9U,KAAK+Q,QAAQmgC,OAAO,CAAClxC,KAAK+H,IAAI,OAAO/H,KAAKitF,aAAajtF,KAAKovC,MAAM5uC,GAAG,GAAGR,KAAKovC,QAAQpvC,KAAKovC,MAAM,GAAGpvC,KAAKovC,MAAMpvC,KAAKmY,QAAQpQ,GAAG,GAAG/H,KAAKovC,OAAOpvC,KAAKktF,QAAQnlF,KAAK,CAACpG,IAAI,UAAUN,MAAM,SAASC,MAAM,CAACK,IAAI,iBAAiBN,MAAM,cAAc,CAACM,IAAI,QAAQN,MAAM,iBAAvmE,SAAWC,EAAEyG,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,CAAC,IAAIX,EAAE6G,EAAElG,GAAGX,EAAEF,WAAWE,EAAEF,aAAY,EAAGE,EAAEulF,cAAa,EAAG,UAAUvlF,IAAIA,EAAEisF,UAAS,GAAIrsF,OAAOC,eAAeO,EAAEJ,EAAES,IAAIT,IAAs9Dy4B,CAAE5xB,EAAE/F,UAAUd,GAAGJ,OAAOC,eAAegH,EAAE,YAAY,CAAColF,UAAS,IAAK7rF,EAAhhE,GAAqhE,SAAS2gB,EAAE3gB,GAAG,OAAO2gB,EAAE,mBAAmB9gB,QAAQ,iBAAiBA,OAAOiU,SAAS,SAAS9T,GAAG,cAAcA,GAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBH,QAAQG,EAAEwL,cAAc3L,QAAQG,IAAIH,OAAOa,UAAU,gBAAgBV,IAAKA,GAAG,SAASw3B,EAAEx3B,EAAEyG,GAAG,KAAKzG,aAAayG,GAAG,MAAM,IAAIoH,UAAU,qCAA2M,SAAS+pB,EAAE53B,EAAEyG,GAAG,OAAOmxB,EAAEp4B,OAAOoS,gBAAgB,SAAS5R,EAAEyG,GAAG,OAAOzG,EAAE6R,UAAUpL,EAAEzG,IAAKA,EAAEyG,GAAG,SAAS8wB,EAAEv3B,EAAEyG,GAAG,GAAGA,IAAI,WAAWka,EAAEla,IAAI,mBAAmBA,GAAG,OAAOA,EAAE,QAAG,IAASA,EAAE,MAAM,IAAIoH,UAAU,4DAA4D,OAAO,SAAS7N,GAAG,QAAG,IAASA,EAAE,MAAM,IAAI8rF,eAAe,6DAA6D,OAAO9rF,EAAvH,CAA0HA,GAAG,SAAS64B,EAAE74B,GAAG,OAAO64B,EAAEr5B,OAAOoS,eAAepS,OAAOsD,eAAe,SAAS9C,GAAG,OAAOA,EAAE6R,WAAWrS,OAAOsD,eAAe9C,KAAMA,GAAGqC,EAAE3B,UAAUyqF,SAAS,GAAG,IAAIlzD,EAAE,SAASj4B,IAAI,SAASA,EAAEyG,GAAG,GAAG,mBAAmBA,GAAG,OAAOA,EAAE,MAAM,IAAIoH,UAAU,sDAAsD7N,EAAEU,UAAUlB,OAAOY,OAAOqG,GAAGA,EAAE/F,UAAU,CAAC8K,YAAY,CAACzL,MAAMC,EAAE6rF,UAAS,EAAG1G,cAAa,KAAM3lF,OAAOC,eAAeO,EAAE,YAAY,CAAC6rF,UAAS,IAAKplF,GAAGmxB,EAAE53B,EAAEyG,GAAlR,CAAsR0P,EAAEnW,GAAG,IAAIyG,EAAElG,EAAEX,EAAEL,EAAET,GAAGc,EAAEuW,EAAE5W,EAAE,WAAW,GAAG,oBAAoBwsF,UAAUA,QAAQC,UAAU,OAAM,EAAG,GAAGD,QAAQC,UAAUC,KAAK,OAAM,EAAG,GAAG,mBAAmBC,MAAM,OAAM,EAAG,IAAI,OAAOC,QAAQzrF,UAAU0rF,QAAQntF,KAAK8sF,QAAQC,UAAUG,QAAQ,IAAG,iBAAiB,EAAG,MAAMnsF,GAAG,OAAM,GAAzP,GAAgQ,WAAW,IAAIA,EAAEyG,EAAEoyB,EAAEj5B,GAAG,GAAGL,EAAE,CAAC,IAAIgB,EAAEs4B,EAAEn6B,MAAM8M,YAAYxL,EAAE+rF,QAAQC,UAAUvlF,EAAEgH,UAAUlN,QAAQP,EAAEyG,EAAEN,MAAMzH,KAAK+O,WAAW,OAAO8pB,EAAE74B,KAAKsB,KAAK,SAASmW,IAAI,OAAOqhB,EAAE94B,KAAKyX,GAAGrX,EAAEqH,MAAMzH,KAAK+O,WAAW,OAAOhH,EAAE0P,GAAG5V,EAAE,CAAC,CAACF,IAAI,WAAWN,MAAM,SAASC,GAAG,IAAIyG,EAAE/H,KAAK+Q,QAAQ48E,SAAS,OAAO,IAAI5lF,GAAGzG,EAAEqsF,SAASrrF,SAASyF,IAAI,CAACpG,IAAI,UAAUN,MAAM,SAASC,GAAG,IAAIyG,EAAE/H,KAAKovC,MAAMvtC,EAAEP,EAAEssF,UAAU1sF,EAAE,EAAE6G,EAAElH,EAAEb,KAAK6tF,SAASvsF,GAAG,OAAOJ,IAAI,EAAEW,IAAIhB,GAAG,GAAGkH,EAAE7G,GAAGL,EAAE,EAAEgB,EAAE,EAAEkG,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAEvH,OAAxsD,SAAWc,EAAEyG,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,CAAC,IAAIX,EAAE6G,EAAElG,GAAGX,EAAEF,WAAWE,EAAEF,aAAY,EAAGE,EAAEulF,cAAa,EAAG,UAAUvlF,IAAIA,EAAEisF,UAAS,GAAIrsF,OAAOC,eAAeO,EAAEJ,EAAES,IAAIT,IAA6iDy3B,CAAE5wB,EAAE/F,UAAUH,GAAGf,OAAOC,eAAegH,EAAE,YAAY,CAAColF,UAAS,IAAK11E,EAAvkC,CAA0kC9T,GAAG,SAASs2B,EAAE34B,GAAG,OAAO24B,EAAE,mBAAmB94B,QAAQ,iBAAiBA,OAAOiU,SAAS,SAAS9T,GAAG,cAAcA,GAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBH,QAAQG,EAAEwL,cAAc3L,QAAQG,IAAIH,OAAOa,UAAU,gBAAgBV,IAAKA,GAAG,SAAS44B,EAAE54B,EAAEyG,GAAG,KAAKzG,aAAayG,GAAG,MAAM,IAAIoH,UAAU,qCAA2M,SAASypB,IAAI,OAAOA,EAAE,oBAAoBy0D,SAASA,QAAQpsF,IAAIosF,QAAQpsF,IAAI,SAASK,EAAEyG,EAAElG,GAAG,IAAIX,EAAEo4B,EAAEh4B,EAAEyG,GAAG,GAAG7G,EAAE,CAAC,IAAIL,EAAEC,OAAOwrB,yBAAyBprB,EAAE6G,GAAG,OAAOlH,EAAEI,IAAIJ,EAAEI,IAAIV,KAAKwO,UAAUzM,OAAO,EAAEhB,EAAEO,GAAGhB,EAAEQ,SAAUoG,MAAMzH,KAAK+O,WAAW,SAASuqB,EAAEh4B,EAAEyG,GAAG,MAAMjH,OAAOkB,UAAUC,eAAe1B,KAAKe,EAAEyG,IAAI,QAAQzG,EAAE04B,EAAE14B,MAAM,OAAOA,EAAE,SAAS0yB,EAAE1yB,EAAEyG,GAAG,OAAOisB,EAAElzB,OAAOoS,gBAAgB,SAAS5R,EAAEyG,GAAG,OAAOzG,EAAE6R,UAAUpL,EAAEzG,IAAKA,EAAEyG,GAAG,SAASsxB,EAAE/3B,EAAEyG,GAAG,GAAGA,IAAI,WAAWkyB,EAAElyB,IAAI,mBAAmBA,GAAG,OAAOA,EAAE,QAAG,IAASA,EAAE,MAAM,IAAIoH,UAAU,4DAA4D,OAAO,SAAS7N,GAAG,QAAG,IAASA,EAAE,MAAM,IAAI8rF,eAAe,6DAA6D,OAAO9rF,EAAvH,CAA0HA,GAAG,SAAS04B,EAAE14B,GAAG,OAAO04B,EAAEl5B,OAAOoS,eAAepS,OAAOsD,eAAe,SAAS9C,GAAG,OAAOA,EAAE6R,WAAWrS,OAAOsD,eAAe9C,KAAMA,GAAGi4B,EAAEv3B,UAAUyqF,SAAS,CAACkB,SAAS,GAAG,IAAI9zD,EAAE,SAASv4B,IAAI,SAASA,EAAEyG,GAAG,GAAG,mBAAmBA,GAAG,OAAOA,EAAE,MAAM,IAAIoH,UAAU,sDAAsD7N,EAAEU,UAAUlB,OAAOY,OAAOqG,GAAGA,EAAE/F,UAAU,CAAC8K,YAAY,CAACzL,MAAMC,EAAE6rF,UAAS,EAAG1G,cAAa,KAAM3lF,OAAOC,eAAeO,EAAE,YAAY,CAAC6rF,UAAS,IAAKplF,GAAGisB,EAAE1yB,EAAEyG,GAAlR,CAAsR0P,EAAEnW,GAAG,IAAIyG,EAAElG,EAAEX,EAAEL,EAAET,GAAGc,EAAEuW,EAAE5W,EAAE,WAAW,GAAG,oBAAoBwsF,UAAUA,QAAQC,UAAU,OAAM,EAAG,GAAGD,QAAQC,UAAUC,KAAK,OAAM,EAAG,GAAG,mBAAmBC,MAAM,OAAM,EAAG,IAAI,OAAOC,QAAQzrF,UAAU0rF,QAAQntF,KAAK8sF,QAAQC,UAAUG,QAAQ,IAAG,iBAAiB,EAAG,MAAMnsF,GAAG,OAAM,GAAzP,GAAgQ,WAAW,IAAIA,EAAEyG,EAAEiyB,EAAE94B,GAAG,GAAGL,EAAE,CAAC,IAAIgB,EAAEm4B,EAAEh6B,MAAM8M,YAAYxL,EAAE+rF,QAAQC,UAAUvlF,EAAEgH,UAAUlN,QAAQP,EAAEyG,EAAEN,MAAMzH,KAAK+O,WAAW,OAAOsqB,EAAEr5B,KAAKsB,KAAK,SAASmW,IAAI,OAAOyiB,EAAEl6B,KAAKyX,GAAGrX,EAAEqH,MAAMzH,KAAK+O,WAAW,OAAOhH,EAAE0P,GAAG5V,EAAE,CAAC,CAACF,IAAI,iBAAiBN,MAAM,WAAW,MAAM,CAAChB,KAAK,CAACsB,IAAI,WAAWN,MAAM,SAASC,GAAG,OAAOs3B,EAAEoB,EAAEviB,EAAEzV,WAAW,WAAWhC,MAAMO,KAAKP,KAAKsB,KAAK+D,KAAKqF,IAAIpJ,EAAEwsF,UAAU9tF,KAAK+Q,QAAQwrC,WAAW,EAAEv8C,KAAKovC,YAA7+D,SAAW9tC,EAAEyG,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,CAAC,IAAIX,EAAE6G,EAAElG,GAAGX,EAAEF,WAAWE,EAAEF,aAAY,EAAGE,EAAEulF,cAAa,EAAG,UAAUvlF,IAAIA,EAAEisF,UAAS,GAAIrsF,OAAOC,eAAeO,EAAEJ,EAAES,IAAIT,IAAu1D63B,CAAEhxB,EAAE/F,UAAUH,GAAGf,OAAOC,eAAegH,EAAE,YAAY,CAAColF,UAAS,IAAK11E,EAAhiC,CAAmiC8hB,GAAG,SAASO,EAAEx4B,GAAG,OAAOw4B,EAAE,mBAAmB34B,QAAQ,iBAAiBA,OAAOiU,SAAS,SAAS9T,GAAG,cAAcA,GAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBH,QAAQG,EAAEwL,cAAc3L,QAAQG,IAAIH,OAAOa,UAAU,gBAAgBV,IAAKA,GAAG,SAAS23B,EAAE33B,EAAEyG,GAAG,KAAKzG,aAAayG,GAAG,MAAM,IAAIoH,UAAU,qCAA2M,SAASirB,IAAI,OAAOA,EAAE,oBAAoBizD,SAASA,QAAQpsF,IAAIosF,QAAQpsF,IAAI,SAASK,EAAEyG,EAAElG,GAAG,IAAIX,EAAEm5B,EAAE/4B,EAAEyG,GAAG,GAAG7G,EAAE,CAAC,IAAIL,EAAEC,OAAOwrB,yBAAyBprB,EAAE6G,GAAG,OAAOlH,EAAEI,IAAIJ,EAAEI,IAAIV,KAAKwO,UAAUzM,OAAO,EAAEhB,EAAEO,GAAGhB,EAAEQ,SAAUoG,MAAMzH,KAAK+O,WAAW,SAASsrB,EAAE/4B,EAAEyG,GAAG,MAAMjH,OAAOkB,UAAUC,eAAe1B,KAAKe,EAAEyG,IAAI,QAAQzG,EAAEm4B,EAAEn4B,MAAM,OAAOA,EAAE,SAAS63B,EAAE73B,EAAEyG,GAAG,OAAOoxB,EAAEr4B,OAAOoS,gBAAgB,SAAS5R,EAAEyG,GAAG,OAAOzG,EAAE6R,UAAUpL,EAAEzG,IAAKA,EAAEyG,GAAG,SAASqxB,EAAE93B,EAAEyG,GAAG,GAAGA,IAAI,WAAW+xB,EAAE/xB,IAAI,mBAAmBA,GAAG,OAAOA,EAAE,QAAG,IAASA,EAAE,MAAM,IAAIoH,UAAU,4DAA4D,OAAO,SAAS7N,GAAG,QAAG,IAASA,EAAE,MAAM,IAAI8rF,eAAe,6DAA6D,OAAO9rF,EAAvH,CAA0HA,GAAG,SAASm4B,EAAEn4B,GAAG,OAAOm4B,EAAE34B,OAAOoS,eAAepS,OAAOsD,eAAe,SAAS9C,GAAG,OAAOA,EAAE6R,WAAWrS,OAAOsD,eAAe9C,KAAMA,GAAGu4B,EAAE73B,UAAUyqF,SAAS,CAACx9D,MAAM,SAASstB,UAAU,EAAEoxC,SAAS,GAAG,IAAII,EAAG,SAASzsF,IAAI,SAASA,EAAEyG,GAAG,GAAG,mBAAmBA,GAAG,OAAOA,EAAE,MAAM,IAAIoH,UAAU,sDAAsD7N,EAAEU,UAAUlB,OAAOY,OAAOqG,GAAGA,EAAE/F,UAAU,CAAC8K,YAAY,CAACzL,MAAMC,EAAE6rF,UAAS,EAAG1G,cAAa,KAAM3lF,OAAOC,eAAeO,EAAE,YAAY,CAAC6rF,UAAS,IAAKplF,GAAGoxB,EAAE73B,EAAEyG,GAAlR,CAAsR0P,EAAEnW,GAAG,IAAIyG,EAAElG,EAAEX,EAAEL,EAAET,GAAGc,EAAEuW,EAAE5W,EAAE,WAAW,GAAG,oBAAoBwsF,UAAUA,QAAQC,UAAU,OAAM,EAAG,GAAGD,QAAQC,UAAUC,KAAK,OAAM,EAAG,GAAG,mBAAmBC,MAAM,OAAM,EAAG,IAAI,OAAOC,QAAQzrF,UAAU0rF,QAAQntF,KAAK8sF,QAAQC,UAAUG,QAAQ,IAAG,iBAAiB,EAAG,MAAMnsF,GAAG,OAAM,GAAzP,GAAgQ,WAAW,IAAIA,EAAEyG,EAAE0xB,EAAEv4B,GAAG,GAAGL,EAAE,CAAC,IAAIgB,EAAE43B,EAAEz5B,MAAM8M,YAAYxL,EAAE+rF,QAAQC,UAAUvlF,EAAEgH,UAAUlN,QAAQP,EAAEyG,EAAEN,MAAMzH,KAAK+O,WAAW,OAAOqqB,EAAEp5B,KAAKsB,KAAK,SAASmW,IAAI,OAAOwhB,EAAEj5B,KAAKyX,GAAGrX,EAAEqH,MAAMzH,KAAK+O,WAAW,OAAOhH,EAAE0P,GAAG5V,EAAE,CAAC,CAACF,IAAI,iBAAiBN,MAAM,WAAW,MAAM,CAAChB,KAAK,CAACsB,IAAI,WAAWN,MAAM,SAASC,GAAG,OAAO84B,EAAEX,EAAEhiB,EAAEzV,WAAW,WAAWhC,MAAMO,KAAKP,KAAKsB,KAAK+D,KAAKqF,IAAIpJ,EAAE26B,MAAM,GAAGj8B,KAAK+Q,QAAQwrC,WAAW,EAAEv8C,KAAKovC,SAAS,CAACztC,IAAI,OAAON,MAAM,SAASC,GAAG,GAAG,IAAIA,EAAE26B,MAAM,CAAC,IAAIl0B,EAAEzG,EAAE26B,MAAM,EAAE,KAAK,MAAM36B,EAAEyrF,gBAAgB/sF,KAAK+Q,QAAQke,MAAMlnB,EAAEqyB,EAAEX,EAAEhiB,EAAEzV,WAAW,OAAOhC,MAAMO,KAAKP,KAAKsB,QAAzqE,SAAWA,EAAEyG,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,CAAC,IAAIX,EAAE6G,EAAElG,GAAGX,EAAEF,WAAWE,EAAEF,aAAY,EAAGE,EAAEulF,cAAa,EAAG,UAAUvlF,IAAIA,EAAEisF,UAAS,GAAIrsF,OAAOC,eAAeO,EAAEJ,EAAES,IAAIT,IAA+gE83B,CAAEjxB,EAAE/F,UAAUH,GAAGf,OAAOC,eAAegH,EAAE,YAAY,CAAColF,UAAS,IAAK11E,EAA5rC,CAA+rC8hB,GAAG,SAASy0D,EAAG1sF,GAAG,OAAO,KAAKA,EAAE,OAAO,IAAIA,EAAE,KAAK,IAAIA,EAAE,OAAO,IAAIA,EAAE,QAAQ,GAAG,SAAS2sF,EAAG3sF,GAAG,OAAO2sF,EAAG,mBAAmB9sF,QAAQ,iBAAiBA,OAAOiU,SAAS,SAAS9T,GAAG,cAAcA,GAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBH,QAAQG,EAAEwL,cAAc3L,QAAQG,IAAIH,OAAOa,UAAU,gBAAgBV,IAAMA,GAAG,SAAS4sF,EAAG5sF,EAAEyG,GAAG,KAAKzG,aAAayG,GAAG,MAAM,IAAIoH,UAAU,qCAA4M,SAASg/E,IAAK,OAAOA,EAAG,oBAAoBd,SAASA,QAAQpsF,IAAIosF,QAAQpsF,IAAI,SAASK,EAAEyG,EAAElG,GAAG,IAAIX,EAAEktF,GAAG9sF,EAAEyG,GAAG,GAAG7G,EAAE,CAAC,IAAIL,EAAEC,OAAOwrB,yBAAyBprB,EAAE6G,GAAG,OAAOlH,EAAEI,IAAIJ,EAAEI,IAAIV,KAAKwO,UAAUzM,OAAO,EAAEhB,EAAEO,GAAGhB,EAAEQ,SAAWoG,MAAMzH,KAAK+O,WAAW,SAASq/E,GAAG9sF,EAAEyG,GAAG,MAAMjH,OAAOkB,UAAUC,eAAe1B,KAAKe,EAAEyG,IAAI,QAAQzG,EAAE+sF,GAAG/sF,MAAM,OAAOA,EAAE,SAASgtF,GAAGhtF,EAAEyG,GAAG,OAAOumF,GAAGxtF,OAAOoS,gBAAgB,SAAS5R,EAAEyG,GAAG,OAAOzG,EAAE6R,UAAUpL,EAAEzG,IAAMA,EAAEyG,GAAG,SAASwmF,GAAGjtF,EAAEyG,GAAG,GAAGA,IAAI,WAAWkmF,EAAGlmF,IAAI,mBAAmBA,GAAG,OAAOA,EAAE,QAAG,IAASA,EAAE,MAAM,IAAIoH,UAAU,4DAA4D,OAAO,SAAS7N,GAAG,QAAG,IAASA,EAAE,MAAM,IAAI8rF,eAAe,6DAA6D,OAAO9rF,EAAvH,CAA0HA,GAAG,SAAS+sF,GAAG/sF,GAAG,OAAO+sF,GAAGvtF,OAAOoS,eAAepS,OAAOsD,eAAe,SAAS9C,GAAG,OAAOA,EAAE6R,WAAWrS,OAAOsD,eAAe9C,KAAOA,GAAGysF,EAAG/rF,UAAUyqF,SAAS,CAACx9D,MAAM,QAAQstB,UAAU,EAAEoxC,SAAS,GAAG,IAAIa,GAAG,SAASltF,IAAI,SAASA,EAAEyG,GAAG,GAAG,mBAAmBA,GAAG,OAAOA,EAAE,MAAM,IAAIoH,UAAU,sDAAsD7N,EAAEU,UAAUlB,OAAOY,OAAOqG,GAAGA,EAAE/F,UAAU,CAAC8K,YAAY,CAACzL,MAAMC,EAAE6rF,UAAS,EAAG1G,cAAa,KAAM3lF,OAAOC,eAAeO,EAAE,YAAY,CAAC6rF,UAAS,IAAKplF,GAAGumF,GAAGhtF,EAAEyG,GAAnR,CAAuR0P,EAAEnW,GAAG,IAAIyG,EAAElG,EAAEX,EAAEL,EAAET,GAAGc,EAAEuW,EAAE5W,EAAE,WAAW,GAAG,oBAAoBwsF,UAAUA,QAAQC,UAAU,OAAM,EAAG,GAAGD,QAAQC,UAAUC,KAAK,OAAM,EAAG,GAAG,mBAAmBC,MAAM,OAAM,EAAG,IAAI,OAAOC,QAAQzrF,UAAU0rF,QAAQntF,KAAK8sF,QAAQC,UAAUG,QAAQ,IAAG,iBAAiB,EAAG,MAAMnsF,GAAG,OAAM,GAAzP,GAAgQ,WAAW,IAAIA,EAAEyG,EAAEsmF,GAAGntF,GAAG,GAAGL,EAAE,CAAC,IAAIgB,EAAEwsF,GAAGruF,MAAM8M,YAAYxL,EAAE+rF,QAAQC,UAAUvlF,EAAEgH,UAAUlN,QAAQP,EAAEyG,EAAEN,MAAMzH,KAAK+O,WAAW,OAAOw/E,GAAGvuF,KAAKsB,KAAK,SAASmW,IAAI,IAAInW,EAAE,OAAO4sF,EAAGluF,KAAKyX,IAAInW,EAAElB,EAAEqH,MAAMzH,KAAK+O,YAAY0/E,GAAG,KAAKntF,EAAEotF,GAAG,KAAKptF,EAAE,OAAOyG,EAAE0P,GAAG5V,EAAE,CAAC,CAACF,IAAI,iBAAiBN,MAAM,WAAW,IAAIC,EAAEtB,KAAK+Q,QAAQglB,UAAUhuB,EAAE,GAAG,OAAO,EAAEzG,GAAGyG,EAAEjF,KAAK8R,GAAG,GAAGtT,GAAGyG,EAAEjF,KAAKZ,GAAG6F,IAAI,CAACpG,IAAI,gBAAgBN,MAAM,SAASC,GAAG,IAAIyG,EAAE/H,KAAK+Q,QAAQlP,GAAE,EAAGX,EAAEI,EAAEyrB,SAASlsB,EAAES,EAAEy0B,UAAU31B,EAAEkB,EAAEqtF,OAAOl3E,EAAEnW,EAAEstF,OAAO,OAAO/tF,EAAEkH,EAAEguB,YAAY,EAAEhuB,EAAEguB,WAAWl1B,EAAE,IAAIT,EAAE,EAAEA,EAAE,EAAE,EAAE,EAAEyB,EAAEzB,IAAIJ,KAAKyuF,GAAGvtF,EAAEmE,KAAKqF,IAAIpJ,EAAEqtF,UAAU9tF,EAAE,IAAI4W,EAAE,EAAEA,EAAE,EAAE,EAAE,GAAG5V,EAAE4V,IAAIzX,KAAK0uF,GAAGxtF,EAAEmE,KAAKqF,IAAIpJ,EAAEstF,UAAUttF,EAAEy0B,UAAUl1B,EAAEgB,GAAGX,EAAE6G,EAAEw0C,WAAW17C,EAAEkH,EAAEguB,YAAY,CAACp0B,IAAI,WAAWN,MAAM,SAASC,GAAG,OAAOi4B,EAAEv3B,UAAU6rF,SAASttF,KAAKP,KAAKsB,KAAK,EAAEtB,KAAKovC,SAAS,EAAEpvC,KAAKovC,QAAQpvC,KAAK6uF,cAAcvtF,MAAM,CAACK,IAAI,OAAON,MAAM,SAASC,GAAGtB,KAAKyuF,GAAGntF,EAAEqtF,OAAO3uF,KAAK0uF,GAAGptF,EAAEstF,OAAO,IAAI7mF,EAAEimF,EAAG1sF,EAAEy0B,WAAWhuB,IAAIzG,EAAEyrF,gBAAgB/sF,KAAK+Q,QAAQke,MAAMlnB,GAAGomF,EAAGE,GAAG52E,EAAEzV,WAAW,OAAOhC,MAAMO,KAAKP,KAAKsB,QAAnlF,SAAYA,EAAEyG,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,CAAC,IAAIX,EAAE6G,EAAElG,GAAGX,EAAEF,WAAWE,EAAEF,aAAY,EAAGE,EAAEulF,cAAa,EAAG,UAAUvlF,IAAIA,EAAEisF,UAAS,GAAIrsF,OAAOC,eAAeO,EAAEJ,EAAES,IAAIT,IAAw7E4tF,CAAG/mF,EAAE/F,UAAUH,GAAGf,OAAOC,eAAegH,EAAE,YAAY,CAAColF,UAAS,IAAK11E,EAAxlD,CAA2lD8hB,GAAG,SAASw1D,GAAGztF,GAAG,OAAOytF,GAAG,mBAAmB5tF,QAAQ,iBAAiBA,OAAOiU,SAAS,SAAS9T,GAAG,cAAcA,GAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBH,QAAQG,EAAEwL,cAAc3L,QAAQG,IAAIH,OAAOa,UAAU,gBAAgBV,IAAMA,GAAG,SAAS0tF,GAAG1tF,EAAEyG,GAAG,KAAKzG,aAAayG,GAAG,MAAM,IAAIoH,UAAU,qCAA4M,SAAS8/E,KAAK,OAAOA,GAAG,oBAAoB5B,SAASA,QAAQpsF,IAAIosF,QAAQpsF,IAAI,SAASK,EAAEyG,EAAElG,GAAG,IAAIX,EAAEguF,GAAG5tF,EAAEyG,GAAG,GAAG7G,EAAE,CAAC,IAAIL,EAAEC,OAAOwrB,yBAAyBprB,EAAE6G,GAAG,OAAOlH,EAAEI,IAAIJ,EAAEI,IAAIV,KAAKwO,UAAUzM,OAAO,EAAEhB,EAAEO,GAAGhB,EAAEQ,SAAWoG,MAAMzH,KAAK+O,WAAW,SAASmgF,GAAG5tF,EAAEyG,GAAG,MAAMjH,OAAOkB,UAAUC,eAAe1B,KAAKe,EAAEyG,IAAI,QAAQzG,EAAE6tF,GAAG7tF,MAAM,OAAOA,EAAE,SAAS8tF,GAAG9tF,EAAEyG,GAAG,OAAOqnF,GAAGtuF,OAAOoS,gBAAgB,SAAS5R,EAAEyG,GAAG,OAAOzG,EAAE6R,UAAUpL,EAAEzG,IAAMA,EAAEyG,GAAG,SAASsnF,GAAG/tF,EAAEyG,GAAG,GAAGA,IAAI,WAAWgnF,GAAGhnF,IAAI,mBAAmBA,GAAG,OAAOA,EAAE,QAAG,IAASA,EAAE,MAAM,IAAIoH,UAAU,4DAA4D,OAAO,SAAS7N,GAAG,QAAG,IAASA,EAAE,MAAM,IAAI8rF,eAAe,6DAA6D,OAAO9rF,EAAvH,CAA0HA,GAAG,SAAS6tF,GAAG7tF,GAAG,OAAO6tF,GAAGruF,OAAOoS,eAAepS,OAAOsD,eAAe,SAAS9C,GAAG,OAAOA,EAAE6R,WAAWrS,OAAOsD,eAAe9C,KAAOA,GAAGktF,GAAGxsF,UAAUyqF,SAAS,CAACx9D,MAAM,MAAMstB,UAAU,GAAGoxC,SAAS,EAAE53D,UAAU,IAAI,IAAIu5D,GAAG,SAAShuF,IAAI,SAASA,EAAEyG,GAAG,GAAG,mBAAmBA,GAAG,OAAOA,EAAE,MAAM,IAAIoH,UAAU,sDAAsD7N,EAAEU,UAAUlB,OAAOY,OAAOqG,GAAGA,EAAE/F,UAAU,CAAC8K,YAAY,CAACzL,MAAMC,EAAE6rF,UAAS,EAAG1G,cAAa,KAAM3lF,OAAOC,eAAeO,EAAE,YAAY,CAAC6rF,UAAS,IAAKplF,GAAGqnF,GAAG9tF,EAAEyG,GAAnR,CAAuRtH,EAAEa,GAAG,IAAIyG,EAAElG,EAAEX,EAAEL,EAAET,GAAGc,EAAET,EAAEI,EAAE,WAAW,GAAG,oBAAoBwsF,UAAUA,QAAQC,UAAU,OAAM,EAAG,GAAGD,QAAQC,UAAUC,KAAK,OAAM,EAAG,GAAG,mBAAmBC,MAAM,OAAM,EAAG,IAAI,OAAOC,QAAQzrF,UAAU0rF,QAAQntF,KAAK8sF,QAAQC,UAAUG,QAAQ,IAAG,iBAAiB,EAAG,MAAMnsF,GAAG,OAAM,GAAzP,GAAgQ,WAAW,IAAIA,EAAEyG,EAAEonF,GAAGjuF,GAAG,GAAGL,EAAE,CAAC,IAAIgB,EAAEstF,GAAGnvF,MAAM8M,YAAYxL,EAAE+rF,QAAQC,UAAUvlF,EAAEgH,UAAUlN,QAAQP,EAAEyG,EAAEN,MAAMzH,KAAK+O,WAAW,OAAOsgF,GAAGrvF,KAAKsB,KAAK,SAASb,IAAI,OAAOuuF,GAAGhvF,KAAKS,GAAGL,EAAEqH,MAAMzH,KAAK+O,WAAW,OAAOhH,EAAEtH,GAAGoB,EAAE,CAAC,CAACF,IAAI,iBAAiBN,MAAM,WAAW,OAAOmtF,GAAGxsF,UAAUutF,eAAehvF,KAAKP,QAAQ,CAAC2B,IAAI,WAAWN,MAAM,SAASC,GAAG,IAAIyG,EAAElG,EAAE7B,KAAK+Q,QAAQglB,UAAU,OAAO,GAAGl0B,EAAEkG,EAAEzG,EAAEkuF,gBAAgB,EAAE3tF,EAAEkG,EAAEzG,EAAEmuF,iBAAiB,GAAG5tF,IAAIkG,EAAEzG,EAAEouF,kBAAkBT,GAAGE,GAAG1uF,EAAEuB,WAAW,WAAWhC,MAAMO,KAAKP,KAAKsB,IAAIO,EAAEP,EAAEquF,iBAAiBruF,EAAEyrB,SAAS/sB,KAAK+Q,QAAQwrC,WAAWj7C,EAAEsuF,cAAc5vF,KAAK+Q,QAAQ48E,UAAUl2E,EAAE1P,GAAG/H,KAAK+Q,QAAQ8+E,UAAU,EAAEvuF,EAAEssF,YAAY,CAACjsF,IAAI,OAAON,MAAM,SAASC,GAAG,IAAIyG,EAAEimF,EAAG1sF,EAAEquF,iBAAiB5nF,GAAG/H,KAAKwsF,QAAQpwE,KAAKpc,KAAK+Q,QAAQke,MAAMlnB,EAAEzG,GAAGtB,KAAKwsF,QAAQpwE,KAAKpc,KAAK+Q,QAAQke,MAAM3tB,QAA/5E,SAAYA,EAAEyG,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,CAAC,IAAIX,EAAE6G,EAAElG,GAAGX,EAAEF,WAAWE,EAAEF,aAAY,EAAGE,EAAEulF,cAAa,EAAG,UAAUvlF,IAAIA,EAAEisF,UAAS,GAAIrsF,OAAOC,eAAeO,EAAEJ,EAAES,IAAIT,IAAowE4uF,CAAG/nF,EAAE/F,UAAUH,GAAGf,OAAOC,eAAegH,EAAE,YAAY,CAAColF,UAAS,IAAK1sF,EAAx5C,CAA25C84B,GAAG,SAASw2D,GAAGzuF,EAAEyG,GAAG,OAAO,WAAW,OAAOzG,EAAEmG,MAAMM,EAAEgH,YAAY,SAASihF,GAAG1uF,EAAEyG,EAAElG,GAAG,OAAO6L,WAAWqiF,GAAGzuF,EAAEO,GAAGkG,GAAG,SAASkoF,GAAG3uF,EAAEyG,EAAElG,GAAGA,IAAIA,EAAE+E,GAAG,IAAI1F,EAAE6G,EAAElG,EAAE,IAAIP,EAAEO,EAAE,IAAIhB,EAAEkH,EAAElG,EAAE,IAAIP,EAAEO,EAAE,IAAI,OAAOwD,KAAKuS,KAAK1W,EAAEA,EAAEL,EAAEA,GAAG,SAASqvF,GAAG5uF,GAAG,OAAO4uF,GAAG,mBAAmB/uF,QAAQ,iBAAiBA,OAAOiU,SAAS,SAAS9T,GAAG,cAAcA,GAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBH,QAAQG,EAAEwL,cAAc3L,QAAQG,IAAIH,OAAOa,UAAU,gBAAgBV,IAAMA,GAAG,SAAS6uF,GAAG7uF,EAAEyG,GAAG,KAAKzG,aAAayG,GAAG,MAAM,IAAIoH,UAAU,qCAA4M,SAASihF,GAAG9uF,EAAEyG,GAAG,OAAOqoF,GAAGtvF,OAAOoS,gBAAgB,SAAS5R,EAAEyG,GAAG,OAAOzG,EAAE6R,UAAUpL,EAAEzG,IAAMA,EAAEyG,GAAG,SAASsoF,GAAG/uF,EAAEyG,GAAG,GAAGA,IAAI,WAAWmoF,GAAGnoF,IAAI,mBAAmBA,GAAG,OAAOA,EAAE,QAAG,IAASA,EAAE,MAAM,IAAIoH,UAAU,4DAA4D,OAAO,SAAS7N,GAAG,QAAG,IAASA,EAAE,MAAM,IAAI8rF,eAAe,6DAA6D,OAAO9rF,EAAvH,CAA0HA,GAAG,SAASgvF,GAAGhvF,GAAG,OAAOgvF,GAAGxvF,OAAOoS,eAAepS,OAAOsD,eAAe,SAAS9C,GAAG,OAAOA,EAAE6R,WAAWrS,OAAOsD,eAAe9C,KAAOA,GAAGguF,GAAGttF,UAAUyqF,SAAS,CAACx9D,MAAM,QAAQstB,UAAU,GAAGszC,SAAS,GAAG95D,UAAU,GAAG43D,SAAS,GAAG,IAAI4C,GAAG,SAASjvF,IAAI,SAASA,EAAEyG,GAAG,GAAG,mBAAmBA,GAAG,OAAOA,EAAE,MAAM,IAAIoH,UAAU,sDAAsD7N,EAAEU,UAAUlB,OAAOY,OAAOqG,GAAGA,EAAE/F,UAAU,CAAC8K,YAAY,CAACzL,MAAMC,EAAE6rF,UAAS,EAAG1G,cAAa,KAAM3lF,OAAOC,eAAeO,EAAE,YAAY,CAAC6rF,UAAS,IAAKplF,GAAGqoF,GAAG9uF,EAAEyG,GAAnR,CAAuR0P,EAAEnW,GAAG,IAAIyG,EAAElG,EAAEX,EAAEL,EAAET,GAAGc,EAAEuW,EAAE5W,EAAE,WAAW,GAAG,oBAAoBwsF,UAAUA,QAAQC,UAAU,OAAM,EAAG,GAAGD,QAAQC,UAAUC,KAAK,OAAM,EAAG,GAAG,mBAAmBC,MAAM,OAAM,EAAG,IAAI,OAAOC,QAAQzrF,UAAU0rF,QAAQntF,KAAK8sF,QAAQC,UAAUG,QAAQ,IAAG,iBAAiB,EAAG,MAAMnsF,GAAG,OAAM,GAAzP,GAAgQ,WAAW,IAAIA,EAAEyG,EAAEuoF,GAAGpvF,GAAG,GAAGL,EAAE,CAAC,IAAIgB,EAAEyuF,GAAGtwF,MAAM8M,YAAYxL,EAAE+rF,QAAQC,UAAUvlF,EAAEgH,UAAUlN,QAAQP,EAAEyG,EAAEN,MAAMzH,KAAK+O,WAAW,OAAOshF,GAAGrwF,KAAKsB,KAAK,SAASmW,IAAI,IAAInW,EAAE,OAAO6uF,GAAGnwF,KAAKyX,IAAInW,EAAElB,EAAEqH,MAAMzH,KAAK+O,YAAYyhF,OAAM,EAAGlvF,EAAEmvF,SAAQ,EAAGnvF,EAAEovF,OAAO,KAAKpvF,EAAEqvF,OAAO,KAAKrvF,EAAEqY,MAAM,EAAErY,EAAE,OAAOyG,EAAE0P,GAAG5V,EAAE,CAAC,CAACF,IAAI,iBAAiBN,MAAM,WAAW,MAAM,CAACoM,KAAK,CAAC9L,IAAI,UAAUN,MAAM,SAASC,GAAG,IAAIyG,EAAE/H,KAAK6B,EAAE7B,KAAK+Q,QAAQ7P,EAAEI,EAAEqsF,SAASrrF,SAAST,EAAE8rF,SAAS9sF,EAAES,EAAEyrB,SAASlrB,EAAE06C,UAAUn8C,EAAEkB,EAAEsvF,UAAU/uF,EAAEgvF,KAAK,GAAG7wF,KAAKitF,QAAQ,EAAE3rF,EAAEssF,WAAW,IAAI5tF,KAAK2Z,MAAM,OAAO3Z,KAAK8wF,cAAc,GAAGjwF,GAAGT,GAAGc,EAAE,CAAC,GAAG,IAAII,EAAEssF,UAAU,OAAO5tF,KAAK8wF,cAAc,IAAIr5E,GAAGzX,KAAKwwF,OAAOlvF,EAAEyvF,UAAU/wF,KAAKwwF,MAAM3uF,EAAEmvF,SAASvwF,GAAGT,KAAKywF,SAASR,GAAGjwF,KAAKywF,QAAQnvF,EAAEyvB,QAAQlvB,EAAEovF,aAAa,GAAGjxF,KAAKwwF,MAAMlvF,EAAEyvF,UAAU/wF,KAAKywF,QAAQnvF,EAAEyvB,OAAOtwB,GAAGgX,EAAEzX,KAAK2Z,OAAO,EAAE3Z,KAAK2Z,MAAM,EAAE3Z,KAAK2wF,OAAOrvF,EAAE,GAAGtB,KAAK2Z,MAAM9X,EAAEqvF,KAAK,OAAOlxF,KAAKmxF,sBAAsBnxF,KAAK0wF,OAAOV,IAAG,WAAYjoF,EAAEqnC,MAAM,EAAErnC,EAAEmlF,YAAYrrF,EAAEmvF,SAAShxF,MAAM,GAAG,EAAE,OAAOQ,IAAI,CAACmB,IAAI,cAAcN,MAAM,WAAW,IAAIC,EAAEtB,KAAK,OAAOA,KAAK0wF,OAAOV,IAAG,WAAY1uF,EAAE8tC,MAAM5uC,IAAIR,KAAK+Q,QAAQigF,SAAShxF,MAAMQ,IAAI,CAACmB,IAAI,QAAQN,MAAM,WAAW2M,aAAahO,KAAK0wF,QAAQ1wF,KAAK0wF,OAAO,OAAO,CAAC/uF,IAAI,OAAON,MAAM,WAAW,IAAIrB,KAAKovC,QAAQpvC,KAAK2wF,OAAOS,SAASpxF,KAAK2Z,MAAM3Z,KAAKwsF,QAAQpwE,KAAKpc,KAAK+Q,QAAQke,MAAMjvB,KAAK2wF,cAAvkF,SAAYrvF,EAAEyG,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,CAAC,IAAIX,EAAE6G,EAAElG,GAAGX,EAAEF,WAAWE,EAAEF,aAAY,EAAGE,EAAEulF,cAAa,EAAG,UAAUvlF,IAAIA,EAAEisF,UAAS,GAAIrsF,OAAOC,eAAeO,EAAEJ,EAAES,IAAIT,IAAk7EmwF,CAAGtpF,EAAE/F,UAAUH,GAAGf,OAAOC,eAAegH,EAAE,YAAY,CAAColF,UAAS,IAAK11E,EAAr4D,CAAw4D9T,GAAG,SAAS2tF,GAAGhwF,GAAG,OAAOgwF,GAAG,mBAAmBnwF,QAAQ,iBAAiBA,OAAOiU,SAAS,SAAS9T,GAAG,cAAcA,GAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBH,QAAQG,EAAEwL,cAAc3L,QAAQG,IAAIH,OAAOa,UAAU,gBAAgBV,IAAMA,GAAG,SAASiwF,GAAGjwF,EAAEyG,GAAG,KAAKzG,aAAayG,GAAG,MAAM,IAAIoH,UAAU,qCAA4M,SAASqiF,GAAGlwF,EAAEyG,GAAG,OAAOypF,GAAG1wF,OAAOoS,gBAAgB,SAAS5R,EAAEyG,GAAG,OAAOzG,EAAE6R,UAAUpL,EAAEzG,IAAMA,EAAEyG,GAAG,SAAS0pF,GAAGnwF,EAAEyG,GAAG,GAAGA,IAAI,WAAWupF,GAAGvpF,IAAI,mBAAmBA,GAAG,OAAOA,EAAE,QAAG,IAASA,EAAE,MAAM,IAAIoH,UAAU,4DAA4D,OAAO,SAAS7N,GAAG,QAAG,IAASA,EAAE,MAAM,IAAI8rF,eAAe,6DAA6D,OAAO9rF,EAAvH,CAA0HA,GAAG,SAASowF,GAAGpwF,GAAG,OAAOowF,GAAG5wF,OAAOoS,eAAepS,OAAOsD,eAAe,SAAS9C,GAAG,OAAOA,EAAE6R,WAAWrS,OAAOsD,eAAe9C,KAAOA,GAAGivF,GAAGvuF,UAAUyqF,SAAS,CAACx9D,MAAM,MAAM0+D,SAAS,EAAEuD,KAAK,EAAEF,SAAS,IAAIH,KAAK,IAAIt0C,UAAU,EAAE00C,aAAa,IAAI,IAAIU,GAAG,SAASrwF,IAAI,SAASA,EAAEyG,GAAG,GAAG,mBAAmBA,GAAG,OAAOA,EAAE,MAAM,IAAIoH,UAAU,sDAAsD7N,EAAEU,UAAUlB,OAAOY,OAAOqG,GAAGA,EAAE/F,UAAU,CAAC8K,YAAY,CAACzL,MAAMC,EAAE6rF,UAAS,EAAG1G,cAAa,KAAM3lF,OAAOC,eAAeO,EAAE,YAAY,CAAC6rF,UAAS,IAAKplF,GAAGypF,GAAGlwF,EAAEyG,GAAnR,CAAuR0P,EAAEnW,GAAG,IAAIyG,EAAElG,EAAEX,EAAEL,EAAET,GAAGc,EAAEuW,EAAE5W,EAAE,WAAW,GAAG,oBAAoBwsF,UAAUA,QAAQC,UAAU,OAAM,EAAG,GAAGD,QAAQC,UAAUC,KAAK,OAAM,EAAG,GAAG,mBAAmBC,MAAM,OAAM,EAAG,IAAI,OAAOC,QAAQzrF,UAAU0rF,QAAQntF,KAAK8sF,QAAQC,UAAUG,QAAQ,IAAG,iBAAiB,EAAG,MAAMnsF,GAAG,OAAM,GAAzP,GAAgQ,WAAW,IAAIA,EAAEyG,EAAE2pF,GAAGxwF,GAAG,GAAGL,EAAE,CAAC,IAAIgB,EAAE6vF,GAAG1xF,MAAM8M,YAAYxL,EAAE+rF,QAAQC,UAAUvlF,EAAEgH,UAAUlN,QAAQP,EAAEyG,EAAEN,MAAMzH,KAAK+O,WAAW,OAAO0iF,GAAGzxF,KAAKsB,KAAK,SAASmW,IAAI,IAAInW,EAAE,OAAOiwF,GAAGvxF,KAAKyX,IAAInW,EAAElB,EAAEqH,MAAMzH,KAAK+O,YAAY2hF,OAAO,KAAKpvF,EAAEqvF,OAAO,KAAKrvF,EAAE,OAAOyG,EAAE0P,GAAG5V,EAAE,CAAC,CAACF,IAAI,iBAAiBN,MAAM,WAAW,MAAM,CAACc,KAAK,CAACR,IAAI,UAAUN,MAAM,SAASC,GAAG,IAAIyG,EAAE/H,KAAK6B,EAAE7B,KAAK+Q,QAAQ7P,EAAEI,EAAEqsF,SAASrrF,SAAST,EAAE8rF,SAAS9sF,EAAES,EAAEyrB,SAASlrB,EAAE06C,UAAUn8C,EAAEkB,EAAEsvF,UAAU/uF,EAAEgvF,KAAK,GAAG7wF,KAAK2wF,OAAOrvF,GAAGT,IAAIK,GAAG,GAAGI,EAAEssF,YAAYxtF,EAAEJ,KAAKitF,aAAa,GAAG,EAAE3rF,EAAEssF,UAAU5tF,KAAKitF,QAAQjtF,KAAK0wF,OAAOV,IAAG,WAAYjoF,EAAEqnC,MAAM,EAAErnC,EAAEmlF,YAAYrrF,EAAEgvF,KAAK7wF,WAAW,GAAG,EAAEsB,EAAEssF,UAAU,OAAO,EAAE,OAAOptF,IAAI,CAACmB,IAAI,QAAQN,MAAM,WAAW2M,aAAahO,KAAK0wF,QAAQ1wF,KAAK0wF,OAAO,OAAO,CAAC/uF,IAAI,OAAON,MAAM,SAASC,GAAG,IAAItB,KAAKovC,QAAQ9tC,GAAG,EAAEA,EAAEssF,UAAU5tF,KAAKwsF,QAAQpwE,KAAK,GAAGpX,OAAOhF,KAAK+Q,QAAQke,MAAM,MAAM3tB,IAAItB,KAAK2wF,OAAOI,UAAUtwF,IAAIT,KAAKwsF,QAAQpwE,KAAKpc,KAAK+Q,QAAQke,MAAMjvB,KAAK2wF,eAA3uE,SAAYrvF,EAAEyG,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,CAAC,IAAIX,EAAE6G,EAAElG,GAAGX,EAAEF,WAAWE,EAAEF,aAAY,EAAGE,EAAEulF,cAAa,EAAG,UAAUvlF,IAAIA,EAAEisF,UAAS,GAAIrsF,OAAOC,eAAeO,EAAEJ,EAAES,IAAIT,IAAulE0wF,CAAG7pF,EAAE/F,UAAUH,GAAGf,OAAOC,eAAegH,EAAE,YAAY,CAAColF,UAAS,IAAK11E,EAAzhD,CAA4hD9T,GAAG,SAASkuF,GAAGvwF,EAAEyG,GAAG,OAAOzG,EAAEmB,QAAQsF,IAAI,EAAyK4pF,GAAG3vF,UAAUyqF,SAAS,CAACx9D,MAAM,QAAQ0+D,SAAS,EAAEkD,KAAK,IAAIt0C,UAAU,GAAG,IAAIu1C,GAAG,WAAW,SAASxwF,EAAEyG,EAAElG,IAAI,SAASP,EAAEyG,GAAG,KAAKzG,aAAayG,GAAG,MAAM,IAAIoH,UAAU,qCAAvD,CAA6FnP,KAAKsB,GAAGtB,KAAKwsF,QAAQzkF,EAAE/H,KAAKsH,IAAIzF,GAAG,IAAIkG,EAAElG,EAAE,OAAOkG,EAAEzG,GAAGO,EAAE,CAAC,CAACF,IAAI,MAAMN,MAAM,SAASC,GAAGA,IAAImD,IAAInD,EAAEtB,KAAK+xF,WAAW/xF,KAAKgyF,QAAQ1wF,EAAEoK,cAAcw7B,SAAS,CAACvlC,IAAI,SAASN,MAAM,WAAWrB,KAAKsH,IAAItH,KAAKwsF,QAAQz7E,QAAQ67E,eAAe,CAACjrF,IAAI,UAAUN,MAAM,WAAW,IAAIC,EAAE,GAAG,OAAOy4B,EAAE/5B,KAAKwsF,QAAQyF,aAAY,SAAUlqF,GAAG+M,EAAE/M,EAAEgJ,QAAQmgC,OAAO,CAACnpC,MAAMzG,EAAEA,EAAE0D,OAAO+C,EAAEwnF,sBAAsB,SAASjuF,GAAG,GAAGuwF,GAAGvwF,EAAEjB,GAAG,OAAOA,EAAE,IAAI0H,EAAE8pF,GAAGvwF,EAAEY,GAAGL,EAAEgwF,GAAGvwF,EAAEsT,GAAG,OAAO7M,GAAGlG,EAAExB,EAAE0H,GAAGlG,EAAEkG,EAAE7F,EAAE0S,EAAEi9E,GAAGvwF,EAAEmM,GAAGA,EAAEtL,EAA3F,CAA8Fb,EAAE+Q,KAAK,QAAQ,CAAC1Q,IAAI,kBAAkBN,MAAM,SAASC,GAAG,IAAIyG,EAAEzG,EAAE4wF,SAASrwF,EAAEP,EAAEquF,gBAAgB,GAAG3vF,KAAKwsF,QAAQ2F,QAAQC,UAAUrqF,EAAEsqF,qBAAqB,CAAC,IAAInxF,EAAElB,KAAKgyF,QAAQnxF,EAAEgxF,GAAG3wF,EAAEb,KAAKmX,EAAE86E,KAAKlyF,EAAEyxF,GAAG3wF,EAAE0T,KAAK4C,EAAE,SAASC,EAAEo6E,GAAG3wF,EAAEgB,KAAKsV,EAAE,SAAS,GAAG3W,EAAE,CAAC,IAAIJ,EAAE,IAAIa,EAAEqsF,SAASrrF,OAAOmC,EAAEnD,EAAEyrB,SAAS,EAAE5qB,EAAEb,EAAEsvF,UAAU,IAAI,GAAGnwF,GAAGgE,GAAGtC,EAAE,OAAO,IAAIsV,IAAIrX,EAAE,OAAOS,GAAGT,GAAG,EAAEyB,GAAG4V,GAAG,GAAG5V,EAAE7B,KAAKuyF,WAAWxqF,QAAG,KAAU,CAACpG,IAAI,aAAaN,MAAM,SAASC,GAAGtB,KAAKwsF,QAAQ2F,QAAQC,WAAU,EAAG9wF,EAAE+wF,sBAA5wC,SAAY/wF,EAAEyG,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,CAAC,IAAIX,EAAE6G,EAAElG,GAAGX,EAAEF,WAAWE,EAAEF,aAAY,EAAGE,EAAEulF,cAAa,EAAG,UAAUvlF,IAAIA,EAAEisF,UAAS,GAAIrsF,OAAOC,eAAeO,EAAEJ,EAAES,IAAIT,IAA+nCsxF,CAAGzqF,EAAE/F,UAAUH,GAAGf,OAAOC,eAAegH,EAAE,YAAY,CAAColF,UAAS,IAAK7rF,EAAnnC,GAAwnC,SAASmxF,GAAGnxF,GAAG,IAAIyG,EAAEzG,EAAEgB,OAAO,GAAG,IAAIyF,EAAE,MAAM,CAACka,EAAE7hB,EAAEkB,EAAE,GAAGyhC,SAASnuB,EAAExU,EAAEkB,EAAE,GAAG0hC,UAAU,IAAI,IAAInhC,EAAE,EAAEX,EAAE,EAAEL,EAAE,EAAEA,EAAEkH,GAAGlG,GAAGP,EAAET,GAAGkiC,QAAQ7hC,GAAGI,EAAET,GAAGmiC,QAAQniC,IAAI,MAAM,CAACohB,EAAE7hB,EAAEyB,EAAEkG,GAAG6M,EAAExU,EAAEc,EAAE6G,IAAI,SAAS2qF,GAAGpxF,GAAG,IAAI,IAAIyG,EAAE,GAAGlG,EAAE,EAAEA,EAAEP,EAAEqsF,SAASrrF,QAAQyF,EAAElG,GAAG,CAACkhC,QAAQ3iC,EAAEkB,EAAEqsF,SAAS9rF,GAAGkhC,SAASC,QAAQ5iC,EAAEkB,EAAEqsF,SAAS9rF,GAAGmhC,UAAUnhC,IAAI,MAAM,CAACkvF,UAAUtwF,IAAIktF,SAAS5lF,EAAEgpB,OAAO0hE,GAAG1qF,GAAG4mF,OAAOrtF,EAAEqtF,OAAOC,OAAOttF,EAAEstF,QAAQ,SAAS+D,GAAGrxF,EAAEyG,EAAElG,GAAGA,IAAIA,EAAE+E,GAAG,IAAI1F,EAAE6G,EAAElG,EAAE,IAAIP,EAAEO,EAAE,IAAIhB,EAAEkH,EAAElG,EAAE,IAAIP,EAAEO,EAAE,IAAI,OAAO,IAAIwD,KAAKsS,MAAM9W,EAAEK,GAAGmE,KAAK6F,GAAG,SAAS0nF,GAAGtxF,EAAEyG,GAAG,OAAOzG,IAAIyG,EAAE,EAAE0P,EAAEnW,IAAImW,EAAE1P,GAAGzG,EAAE,EAAE,EAAE,EAAEyG,EAAE,EAAE,EAAE,GAAG,SAAS8qF,GAAGvxF,EAAEyG,EAAElG,GAAG,MAAM,CAACogB,EAAEla,EAAEzG,GAAG,EAAEsT,EAAE/S,EAAEP,GAAG,GAAG,SAASwxF,GAAGxxF,EAAEyG,EAAElG,GAAG,IAAIX,EAAEW,EAAE8rF,SAASrrF,OAAOzB,EAAEgB,EAAEkxF,gBAAgBzwF,OAAOlC,EAAE,EAAE2H,GAAG7G,EAAEL,GAAG,EAAE4D,EAAE,GAAGsD,GAAG7G,EAAEL,GAAG,EAAEgB,EAAE49C,UAAUr/C,EAAEyB,EAAEmxF,UAAUvuF,EAAErE,IAAIkB,EAAE6wF,QAAQ,IAAItwF,EAAE+rF,UAAU7lF,EAAE,SAASzG,EAAEyG,GAAG,IAAIlG,EAAEP,EAAE6wF,QAAQjxF,EAAE6G,EAAE4lF,SAAS9sF,EAAEK,EAAEoB,OAAOT,EAAEoxF,aAAapxF,EAAEoxF,WAAWP,GAAG3qF,IAAIlH,EAAE,IAAIgB,EAAEqxF,cAAcrxF,EAAEqxF,cAAcR,GAAG3qF,GAAG,IAAIlH,IAAIgB,EAAEqxF,eAAc,GAAI,IAAI9yF,EAAEyB,EAAEoxF,WAAWxuF,EAAE5C,EAAEqxF,cAAc/wF,EAAEsC,EAAEA,EAAEssB,OAAO3wB,EAAE2wB,OAAOtjB,EAAE1F,EAAEgpB,OAAO0hE,GAAGvxF,GAAG6G,EAAEgpF,UAAUtwF,IAAIsH,EAAE6oF,UAAU7oF,EAAEgpF,UAAU3wF,EAAE2wF,UAAUhpF,EAAE0pB,MAAMkhE,GAAGxwF,EAAEsL,GAAG1F,EAAEglB,SAASkjE,GAAG9tF,EAAEsL,GAAG,SAASnM,EAAEyG,GAAG,IAAIlG,EAAEkG,EAAEgpB,OAAO7vB,EAAEI,EAAE6xF,aAAa,GAAGtyF,EAAES,EAAE8xF,WAAW,GAAGhzF,EAAEkB,EAAE+xF,WAAW,GAAG,IAAItrF,EAAE6lF,WAAW,IAAIxtF,EAAEwtF,YAAY/sF,EAAES,EAAE8xF,UAAU,CAACnxE,EAAE7hB,EAAEuuF,QAAQ,EAAE/5E,EAAExU,EAAEwuF,QAAQ,GAAG1tF,EAAEI,EAAE6xF,YAAY,CAAClxE,EAAEpgB,EAAEogB,EAAErN,EAAE/S,EAAE+S,IAAI7M,EAAE4mF,OAAO9tF,EAAEohB,GAAGpgB,EAAEogB,EAAE/gB,EAAE+gB,GAAGla,EAAE6mF,OAAO/tF,EAAE+T,GAAG/S,EAAE+S,EAAE1T,EAAE0T,GAA9O,CAAkP/S,EAAEkG,GAAGA,EAAE4nF,gBAAgBiD,GAAG7qF,EAAE4mF,OAAO5mF,EAAE6mF,QAAQ,IAAIvuF,EAAE6B,EAAE0S,EAAEi+E,GAAG9qF,EAAE6oF,UAAU7oF,EAAE4mF,OAAO5mF,EAAE6mF,QAAQ7mF,EAAE0nF,iBAAiB76E,EAAEqN,EAAEla,EAAE2nF,iBAAiB96E,EAAEA,EAAE7M,EAAEynF,gBAAgB/3E,EAAE7C,EAAEqN,GAAGxK,EAAE7C,EAAEA,GAAGA,EAAEqN,EAAErN,EAAEA,EAAE7M,EAAEk0B,MAAMx3B,GAAGpE,EAAEoE,EAAEkpF,SAASsC,IAAI/tF,EAAEhB,GAAG,GAAGgB,EAAE,GAAGxB,GAAGuvF,GAAG5vF,EAAE,GAAGA,EAAE,GAAGK,IAAI,EAAEqH,EAAE+lF,SAASrpF,EAAE,SAASnD,EAAEyG,GAAG,OAAO4qF,GAAG5qF,EAAE,GAAGA,EAAE,GAAGrH,GAAGiyF,GAAGrxF,EAAE,GAAGA,EAAE,GAAGZ,GAAlD,CAAsD+D,EAAEkpF,SAASzsF,GAAG,EAAE6G,EAAE6nF,YAAY/tF,EAAEwxF,UAAUtrF,EAAE4lF,SAASrrF,OAAOT,EAAEwxF,UAAUzD,YAAY7nF,EAAE4lF,SAASrrF,OAAOT,EAAEwxF,UAAUzD,YAAY7nF,EAAE4lF,SAASrrF,OAAO,SAAShB,EAAEyG,GAAG,IAAIlG,EAAEX,EAAEL,EAAET,EAAEK,EAAEa,EAAEgyF,cAAcvrF,EAAEtD,EAAEsD,EAAEgpF,UAAUtwF,EAAEswF,UAAU,GAAG,IAAIhpF,EAAE6lF,YAAYnpF,EAAE,SAAI,IAAShE,EAAEovF,UAAU,CAAC,IAAI1tF,EAAE4F,EAAE4mF,OAAOluF,EAAEkuF,OAAOlhF,EAAE1F,EAAE6mF,OAAOnuF,EAAEmuF,OAAOvuF,EAAEwyF,GAAGpuF,EAAEtC,EAAEsL,GAAGvM,EAAEb,EAAE4hB,EAAEphB,EAAER,EAAEuU,EAAE/S,EAAE4V,EAAEpX,EAAE4hB,GAAGxK,EAAEpX,EAAEuU,GAAGvU,EAAE4hB,EAAE5hB,EAAEuU,EAAExU,EAAEwyF,GAAGzwF,EAAEsL,GAAGnM,EAAEgyF,aAAavrF,OAAOlG,EAAEpB,EAAEovF,SAAS3uF,EAAET,EAAE8yF,UAAU1yF,EAAEJ,EAAE+yF,UAAUpzF,EAAEK,EAAEs1B,UAAUhuB,EAAE8nF,SAAShuF,EAAEkG,EAAEwrF,UAAUryF,EAAE6G,EAAEyrF,UAAU3yF,EAAEkH,EAAEguB,UAAU31B,EAAjW,CAAoWyB,EAAEkG,GAA71C,CAAi2CzG,EAAEO,GAAGP,EAAE8a,KAAK,eAAeva,GAAGP,EAAEmyF,UAAU5xF,GAAGP,EAAE6wF,QAAQkB,UAAUxxF,EAAE,SAAS6xF,GAAGpyF,GAAG,OAAOA,EAAE4lC,OAAO1+B,MAAM,QAAQ,SAASmrF,GAAGryF,EAAEyG,EAAElG,GAAGk4B,EAAE25D,GAAG3rF,IAAG,SAAUA,GAAGzG,EAAEsyF,iBAAiB7rF,EAAElG,GAAE,MAA8K,IAAIgyF,GAAG,WAAW,SAASvyF,EAAEyG,EAAElG,IAAI,SAASP,EAAEyG,GAAG,KAAKzG,aAAayG,GAAG,MAAM,IAAIoH,UAAU,qCAAvD,CAA6FnP,KAAKsB,GAAG,IAAIJ,EAAElB,KAAKA,KAAKwsF,QAAQzkF,EAAE/H,KAAKmmD,SAAStkD,EAAE7B,KAAK8zF,aAAa,SAASxyF,GAAGwT,EAAE/M,EAAEgJ,QAAQmgC,OAAO,CAACnpC,KAAK7G,EAAE0M,QAAQtM,IAAItB,KAAKuG,OAAO,IAAIwB,EAAElG,EAAE,OAAOkG,EAAEzG,GAAGO,EAAE,CAAC,CAACF,IAAI,UAAUN,MAAM,cAAc,CAACM,IAAI,OAAON,MAAM,WAAW,IAAIC,EAAEyG,EAAElG,EAAEP,EAAEtB,KAAKwsF,QAAQzkF,EAAE/H,KAAKgvB,QAAQ,GAAGntB,EAAE7B,KAAK8zF,aAAa/5D,EAAE25D,GAAG3rF,IAAG,SAAUA,GAAGzG,EAAEwa,GAAG,gBAAgB9W,OAAO+C,GAAGlG,QAAQ,CAACF,IAAI,UAAUN,MAAM,WAAW0yF,uBAAuB/zF,KAAKwsF,QAAQxsF,KAAKgvB,QAAQ,GAAGhvB,KAAK8zF,mBAArtB,SAAYxyF,EAAEyG,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,CAAC,IAAIX,EAAE6G,EAAElG,GAAGX,EAAEF,WAAWE,EAAEF,aAAY,EAAGE,EAAEulF,cAAa,EAAG,UAAUvlF,IAAIA,EAAEisF,UAAS,GAAIrsF,OAAOC,eAAeO,EAAEJ,EAAES,IAAIT,IAAqkB8yF,CAAGjsF,EAAE/F,UAAUH,GAAGf,OAAOC,eAAegH,EAAE,YAAY,CAAColF,UAAS,IAAK7rF,EAA/nB,GAAooB,SAAS2yF,GAAG3yF,GAAG,OAAO+B,MAAMrB,UAAUgK,MAAMzL,KAAKe,EAAE,GAAG,SAAS4yF,GAAG5yF,EAAEyG,EAAElG,GAAG,IAAI,IAAIX,EAAE,GAAGL,EAAE,GAAGT,EAAE,EAAEA,EAAEkB,EAAEgB,QAAQ,CAAC,IAAImV,EAAE1P,EAAEzG,EAAElB,GAAG2H,GAAGzG,EAAElB,GAAGuH,EAAE9G,EAAE4W,GAAG,GAAGvW,EAAE4B,KAAKxB,EAAElB,IAAIS,EAAET,GAAGqX,EAAErX,IAAI,OAAOyB,IAAIX,EAAE6G,EAAE7G,EAAE8F,MAAK,SAAU1F,EAAEO,GAAG,OAAOP,EAAEyG,GAAGlG,EAAEkG,MAAM7G,EAAE8F,QAAQ9F,EAAE,SAASizF,GAAG7yF,GAAG,OAAO6yF,GAAG,mBAAmBhzF,QAAQ,iBAAiBA,OAAOiU,SAAS,SAAS9T,GAAG,cAAcA,GAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBH,QAAQG,EAAEwL,cAAc3L,QAAQG,IAAIH,OAAOa,UAAU,gBAAgBV,IAAMA,GAAG,SAAS8yF,GAAG9yF,EAAEyG,GAAG,KAAKzG,aAAayG,GAAG,MAAM,IAAIoH,UAAU,qCAA4M,SAASklF,GAAG/yF,EAAEyG,GAAG,OAAOssF,GAAGvzF,OAAOoS,gBAAgB,SAAS5R,EAAEyG,GAAG,OAAOzG,EAAE6R,UAAUpL,EAAEzG,IAAMA,EAAEyG,GAAG,SAASusF,GAAGhzF,EAAEyG,GAAG,GAAGA,IAAI,WAAWosF,GAAGpsF,IAAI,mBAAmBA,GAAG,OAAOA,EAAE,QAAG,IAASA,EAAE,MAAM,IAAIoH,UAAU,4DAA4D,OAAO,SAAS7N,GAAG,QAAG,IAASA,EAAE,MAAM,IAAI8rF,eAAe,6DAA6D,OAAO9rF,EAAvH,CAA0HA,GAAG,SAASizF,GAAGjzF,GAAG,OAAOizF,GAAGzzF,OAAOoS,eAAepS,OAAOsD,eAAe,SAAS9C,GAAG,OAAOA,EAAE6R,WAAWrS,OAAOsD,eAAe9C,KAAOA,GAAG,IAAIkzF,GAAG,CAACC,WAAW,EAAEC,UAAU,EAAEC,SAAS,EAAEC,YAAY,GAAGC,GAAG,4CAA4CC,GAAG,SAASxzF,IAAI,SAASA,EAAEyG,GAAG,GAAG,mBAAmBA,GAAG,OAAOA,EAAE,MAAM,IAAIoH,UAAU,sDAAsD7N,EAAEU,UAAUlB,OAAOY,OAAOqG,GAAGA,EAAE/F,UAAU,CAAC8K,YAAY,CAACzL,MAAMC,EAAE6rF,UAAS,EAAG1G,cAAa,KAAM3lF,OAAOC,eAAeO,EAAE,YAAY,CAAC6rF,UAAS,IAAKplF,GAAGssF,GAAG/yF,EAAEyG,GAAnR,CAAuR0P,EAAEnW,GAAG,IAAIyG,EAAElG,EAAEX,EAAEL,EAAET,GAAGc,EAAEuW,EAAE5W,EAAE,WAAW,GAAG,oBAAoBwsF,UAAUA,QAAQC,UAAU,OAAM,EAAG,GAAGD,QAAQC,UAAUC,KAAK,OAAM,EAAG,GAAG,mBAAmBC,MAAM,OAAM,EAAG,IAAI,OAAOC,QAAQzrF,UAAU0rF,QAAQntF,KAAK8sF,QAAQC,UAAUG,QAAQ,IAAG,iBAAiB,EAAG,MAAMnsF,GAAG,OAAM,GAAzP,GAAgQ,WAAW,IAAIA,EAAEyG,EAAEwsF,GAAGrzF,GAAG,GAAGL,EAAE,CAAC,IAAIgB,EAAE0yF,GAAGv0F,MAAM8M,YAAYxL,EAAE+rF,QAAQC,UAAUvlF,EAAEgH,UAAUlN,QAAQP,EAAEyG,EAAEN,MAAMzH,KAAK+O,WAAW,OAAOulF,GAAGt0F,KAAKsB,KAAK,SAASmW,IAAI,IAAInW,EAAE,OAAO8yF,GAAGp0F,KAAKyX,GAAGA,EAAEzV,UAAU+yF,SAASF,GAAGp9E,EAAEzV,UAAUgzF,UAAU,GAAGv9E,EAAEzV,UAAUgtB,OAAO6lE,IAAIvzF,EAAElB,EAAEqH,MAAMzH,KAAK+O,YAAYgmF,SAASF,GAAGvzF,EAAE0zF,UAAU,GAAG1zF,EAAE,OAAOyG,EAAE0P,GAAG5V,EAAE,CAAC,CAACF,IAAI,UAAUN,MAAM,SAASC,GAAG,IAAIyG,EAAEysF,GAAGlzF,EAAE6B,MAAMtB,EAAEozF,GAAG10F,KAAKP,KAAKsB,EAAEyG,GAAGlG,GAAG7B,KAAKmmD,SAASnmD,KAAKwsF,QAAQzkF,EAAE,CAAC4lF,SAAS9rF,EAAE,GAAGkxF,gBAAgBlxF,EAAE,GAAGqzF,YAAYxvF,EAAEwsF,SAAS5wF,SAAv0D,SAAYA,EAAEyG,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,CAAC,IAAIX,EAAE6G,EAAElG,GAAGX,EAAEF,WAAWE,EAAEF,aAAY,EAAGE,EAAEulF,cAAa,EAAG,UAAUvlF,IAAIA,EAAEisF,UAAS,GAAIrsF,OAAOC,eAAeO,EAAEJ,EAAES,IAAIT,IAA6qDi0F,CAAGptF,EAAE/F,UAAUH,GAAGf,OAAOC,eAAegH,EAAE,YAAY,CAAColF,UAAS,IAAK11E,EAAjnC,CAAonCo8E,IAAI,SAASoB,GAAG3zF,EAAEyG,GAAG,IAAIlG,EAAEX,EAAEL,EAAEozF,GAAG3yF,EAAE8zF,SAASh1F,EAAEJ,KAAKg1F,UAAU,GAAG,EAAEjtF,GAAG,IAAIlH,EAAEyB,OAAO,OAAOlC,EAAES,EAAE,GAAGw0F,aAAY,EAAG,CAACx0F,EAAEA,GAAG,IAAI4W,EAAEw8E,GAAG3yF,EAAEg0F,gBAAgB70F,EAAE,GAAG,GAAGT,KAAKiuB,OAAO/sB,EAAEL,EAAE,IAAIkH,EAAE,IAAIlG,EAAE,EAAEA,EAAEX,EAAEoB,QAAQlC,EAAEc,EAAEW,GAAGwzF,aAAY,EAAGxzF,IAAI,IAAIA,EAAE,EAAEA,EAAE4V,EAAEnV,QAAQlC,EAAEqX,EAAE5V,GAAGwzF,aAAa50F,EAAEqC,KAAK2U,EAAE5V,IAAI,GAAGkG,UAAU3H,EAAEqX,EAAE5V,GAAGwzF,YAAYxzF,IAAI,OAAOpB,EAAE6B,OAAO,CAAC4xF,GAAGhzF,EAAE8D,OAAOvE,GAAG,cAAa,GAAIA,QAAG,EAA8K,IAAI80F,GAAG,WAAW,SAASj0F,EAAEyG,GAAG,IAAIlG,EAAEX,EAAElB,MAAM,SAASsB,EAAEyG,GAAG,KAAKzG,aAAayG,GAAG,MAAM,IAAIoH,UAAU,qCAAvD,CAA6FnP,KAAKsB,GAAGtB,KAAK+Q,QAAQ8D,EAAE,GAAG2gF,GAAG/I,SAAS1kF,GAAG,IAAI/H,KAAKy1F,SAAS,GAAGz1F,KAAK01F,QAAQ,GAAG11F,KAAKmyF,QAAQ,GAAGnyF,KAAKiyF,YAAY,GAAGjyF,KAAKqjC,OAAOxhC,EAAEizF,GAAG90F,KAAK+Q,QAAQ4kF,aAAa9zF,EAAE8zF,YAAY,IAAI9zF,EAAE7B,KAAK8yF,KAAK9yF,KAAK4sF,YAAY,IAAIkF,GAAG9xF,KAAKA,KAAK+Q,QAAQ67E,aAAa7yD,EAAE/5B,KAAK+Q,QAAQkhF,aAAY,SAAU3wF,GAAG,IAAIyG,EAAE7G,EAAEk5C,IAAI,IAAI94C,EAAE,GAAGA,EAAE,KAAKA,EAAE,IAAIyG,EAAE8kF,cAAcvrF,EAAE,IAAIA,EAAE,IAAIyG,EAAE+kF,eAAexrF,EAAE,MAAMtB,MAAM,IAAI+H,EAAElG,EAAE,OAAOkG,EAAEzG,GAAGO,EAAE,CAAC,CAACF,IAAI,MAAMN,MAAM,SAASC,GAAG,OAAOuT,EAAE7U,KAAK+Q,QAAQzP,GAAGA,EAAEsrF,aAAa5sF,KAAK4sF,YAAY7iD,SAAS/pC,OAAO,CAAC2B,IAAI,OAAON,MAAM,SAASC,GAAGtB,KAAKmyF,QAAQyD,QAAQt0F,EAAE,EAAE,IAAI,CAACK,IAAI,YAAYN,MAAM,SAASC,GAAG,GAAG,mBAAmBA,EAAE,MAAM,IAAI+V,MAAM,6BAA6BrX,KAAK01F,QAAQ5yF,KAAKxB,KAAK,CAACK,IAAI,YAAYN,MAAM,SAASC,GAAG,IAAIyG,EAAE/H,KAAKmyF,QAAQ,IAAIpqF,EAAE6tF,QAAQ,CAAC,IAAI/zF,EAAE7B,KAAK4sF,YAAYiJ,gBAAgBv0F,GAAG,IAAIJ,EAAElB,KAAKiyF,YAAYpxF,EAAEkH,EAAE+tF,gBAAgBj1F,GAAGA,GAAG,EAAEA,EAAEuuC,SAASvuC,EAAEkH,EAAE+tF,cAAc,MAAM,IAAI,IAAI11F,EAAE,EAAEA,EAAEc,EAAEoB,QAAQT,EAAEX,EAAEd,GAAG,IAAI2H,EAAE6tF,SAAS/0F,GAAGgB,IAAIhB,IAAIgB,EAAEk0F,iBAAiBl1F,GAAGgB,EAAEorF,QAAQprF,EAAE4xF,UAAUnyF,IAAIT,GAAG,GAAGgB,EAAEutC,QAAQvuC,EAAEkH,EAAE+tF,cAAcj0F,GAAGzB,OAAO,CAACuB,IAAI,MAAMN,MAAM,SAASC,GAAG,GAAGA,aAAaqC,EAAE,OAAOrC,EAAE,IAAI,IAAIyG,EAAE/H,KAAKiyF,YAAYpwF,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,GAAGkG,EAAElG,GAAGkP,QAAQke,QAAQ3tB,EAAE,OAAOyG,EAAElG,GAAG,OAAO,OAAO,CAACF,IAAI,MAAMN,MAAM,SAASC,GAAG,GAAGs4B,EAAEt4B,EAAE,MAAMtB,MAAM,OAAOA,KAAK,IAAI+H,EAAE/H,KAAKiB,IAAIK,EAAEyP,QAAQke,OAAO,OAAOlnB,GAAG/H,KAAKwG,OAAOuB,GAAG/H,KAAKiyF,YAAYnvF,KAAKxB,GAAGA,EAAEkrF,QAAQxsF,KAAKA,KAAK4sF,YAAY7iD,SAASzoC,IAAI,CAACK,IAAI,SAASN,MAAM,SAASC,GAAG,GAAGs4B,EAAEt4B,EAAE,SAAStB,MAAM,OAAOA,KAAK,GAAGsB,EAAEtB,KAAKiB,IAAIK,GAAG,CAAC,IAAIyG,EAAE/H,KAAKiyF,YAAYpwF,EAAE8F,EAAEI,EAAEzG,IAAI,IAAIO,IAAIkG,EAAE/B,OAAOnE,EAAE,GAAG7B,KAAK4sF,YAAY7iD,UAAU,OAAO/pC,OAAO,CAAC2B,IAAI,KAAKN,MAAM,SAASC,EAAEyG,GAAG,QAAG,IAASzG,QAAG,IAASyG,EAAE,CAAC,IAAIlG,EAAE7B,KAAKy1F,SAAS,OAAO17D,EAAE25D,GAAGpyF,IAAG,SAAUA,GAAGO,EAAEP,GAAGO,EAAEP,IAAI,GAAGO,EAAEP,GAAGwB,KAAKiF,MAAM/H,QAAQ,CAAC2B,IAAI,MAAMN,MAAM,SAASC,EAAEyG,GAAG,QAAG,IAASzG,EAAE,CAAC,IAAIO,EAAE7B,KAAKy1F,SAAS,OAAO17D,EAAE25D,GAAGpyF,IAAG,SAAUA,GAAGyG,EAAElG,EAAEP,IAAIO,EAAEP,GAAG0E,OAAO2B,EAAE9F,EAAEP,GAAGyG,GAAG,UAAUlG,EAAEP,MAAMtB,QAAQ,CAAC2B,IAAI,OAAON,MAAM,SAASC,EAAEyG,GAAG,IAAIlG,EAAE7B,KAAKy1F,SAASn0F,IAAItB,KAAKy1F,SAASn0F,GAAG0K,QAAQ,GAAGhM,KAAK01F,QAAQ7zF,GAAGA,EAAES,OAAO,CAAChB,EAAEwG,WAAW,kBAAkBC,EAAE5E,KAAK7B,EAAEyG,EAAEsqF,eAAe,WAAWtqF,EAAEmqF,SAASG,gBAAgBtqF,EAAEmqF,SAASG,mBAAmB,IAAI,IAAInxF,EAAE,EAAEA,EAAEW,EAAES,QAAQT,EAAEX,GAAG6G,GAAG7G,OAAO,CAACS,IAAI,UAAUN,MAAM,WAAWrB,KAAKy1F,SAAS,GAAGz1F,KAAK01F,QAAQ,GAAG11F,KAAKmyF,QAAQ,GAAGnyF,KAAKqjC,MAAMd,eAAt9E,SAAYjhC,EAAEyG,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,CAAC,IAAIX,EAAE6G,EAAElG,GAAGX,EAAEF,WAAWE,EAAEF,aAAY,EAAGE,EAAEulF,cAAa,EAAG,UAAUvlF,IAAIA,EAAEisF,UAAS,GAAIrsF,OAAOC,eAAeO,EAAEJ,EAAES,IAAIT,IAAk0E80F,CAAGjuF,EAAE/F,UAAUH,GAAGf,OAAOC,eAAegH,EAAE,YAAY,CAAColF,UAAS,IAAK7rF,EAA53E,GAAi4E,SAAS20F,GAAG30F,EAAEyG,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,CAAC,IAAIX,EAAE6G,EAAElG,GAAGX,EAAEF,WAAWE,EAAEF,aAAY,EAAGE,EAAEulF,cAAa,EAAG,UAAUvlF,IAAIA,EAAEisF,UAAS,GAAIrsF,OAAOC,eAAeO,EAAEJ,EAAES,IAAIT,IAAmH,IAAIs0F,GAAnH,SAAYl0F,EAAEyG,EAAElG,GAAG,OAAOkG,GAAGkuF,GAAG30F,EAAEU,UAAU+F,GAAGlG,GAAGo0F,GAAG30F,EAAEO,GAAGf,OAAOC,eAAeO,EAAE,YAAY,CAAC6rF,UAAS,IAAK7rF,EAAS40F,EAAG,SAAU50F,EAAEyG,GAAG,OAAO,SAASzG,EAAEyG,GAAG,KAAKzG,aAAayG,GAAG,MAAM,IAAIoH,UAAU,qCAAvD,CAA6FnP,KAAKsB,IAAIyG,EAAEA,GAAG,IAAIkqF,YAAYpwF,EAAEkG,EAAEkqF,YAAY3wF,EAAEmrF,SAAS0J,QAAQ,IAAIZ,GAAGxtF,MAAM,SAASquF,GAAG90F,GAAG,OAAO80F,GAAG,mBAAmBj1F,QAAQ,iBAAiBA,OAAOiU,SAAS,SAAS9T,GAAG,cAAcA,GAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBH,QAAQG,EAAEwL,cAAc3L,QAAQG,IAAIH,OAAOa,UAAU,gBAAgBV,IAAMA,GAAG,SAAS+0F,GAAG/0F,EAAEyG,GAAG,KAAKzG,aAAayG,GAAG,MAAM,IAAIoH,UAAU,qCAA4M,SAASmnF,GAAGh1F,EAAEyG,GAAG,OAAOuuF,GAAGx1F,OAAOoS,gBAAgB,SAAS5R,EAAEyG,GAAG,OAAOzG,EAAE6R,UAAUpL,EAAEzG,IAAMA,EAAEyG,GAAG,SAASwuF,GAAGj1F,EAAEyG,GAAG,GAAGA,IAAI,WAAWquF,GAAGruF,IAAI,mBAAmBA,GAAG,OAAOA,EAAE,QAAG,IAASA,EAAE,MAAM,IAAIoH,UAAU,4DAA4D,OAAO,SAAS7N,GAAG,QAAG,IAASA,EAAE,MAAM,IAAI8rF,eAAe,6DAA6D,OAAO9rF,EAAvH,CAA0HA,GAAG,SAASk1F,GAAGl1F,GAAG,OAAOk1F,GAAG11F,OAAOoS,eAAepS,OAAOsD,eAAe,SAAS9C,GAAG,OAAOA,EAAE6R,WAAWrS,OAAOsD,eAAe9C,KAAOA,GAAGk0F,GAAG/I,SAAS,CAACgK,WAAU,EAAG7J,YAAYnoF,EAAEysC,QAAO,EAAGykD,WAAW,KAAKQ,OAAO,CAAC,CAACt8D,EAAE,CAACqX,QAAO,IAAK,CAAC68C,EAAG,CAAC78C,QAAO,GAAI,CAAC,WAAW,CAACo+C,GAAG,CAACv5D,UAAU,IAAI,CAACy4D,GAAG,CAACz4D,UAAU,GAAG,CAAC,UAAU,CAACw6D,IAAI,CAACA,GAAG,CAACthE,MAAM,YAAYiiE,KAAK,GAAG,CAAC,QAAQ,CAACS,MAAM,IAAI+E,GAAG,CAACC,YAAY,EAAEC,YAAY,EAAEC,UAAU,EAAEC,cAAc,EAAEC,WAAW,GAAGC,GAAG,CAACC,EAAEvxF,EAAEwxF,EAAE,MAAMC,EAAE,QAAQC,EAAE,UAAUC,GAAG,cAAcC,GAAG,sCAAsCC,GAAG,SAASj2F,IAAI,SAASA,EAAEyG,GAAG,GAAG,mBAAmBA,GAAG,OAAOA,EAAE,MAAM,IAAIoH,UAAU,sDAAsD7N,EAAEU,UAAUlB,OAAOY,OAAOqG,GAAGA,EAAE/F,UAAU,CAAC8K,YAAY,CAACzL,MAAMC,EAAE6rF,UAAS,EAAG1G,cAAa,KAAM3lF,OAAOC,eAAeO,EAAE,YAAY,CAAC6rF,UAAS,IAAKplF,GAAGuuF,GAAGh1F,EAAEyG,GAAnR,CAAuR0P,EAAEnW,GAAG,IAAIyG,EAAElG,EAAEX,EAAEL,EAAET,GAAGc,EAAEuW,EAAE5W,EAAE,WAAW,GAAG,oBAAoBwsF,UAAUA,QAAQC,UAAU,OAAM,EAAG,GAAGD,QAAQC,UAAUC,KAAK,OAAM,EAAG,GAAG,mBAAmBC,MAAM,OAAM,EAAG,IAAI,OAAOC,QAAQzrF,UAAU0rF,QAAQntF,KAAK8sF,QAAQC,UAAUG,QAAQ,IAAG,iBAAiB,EAAG,MAAMnsF,GAAG,OAAM,GAAzP,GAAgQ,WAAW,IAAIA,EAAEyG,EAAEyuF,GAAGt1F,GAAG,GAAGL,EAAE,CAAC,IAAIgB,EAAE20F,GAAGx2F,MAAM8M,YAAYxL,EAAE+rF,QAAQC,UAAUvlF,EAAEgH,UAAUlN,QAAQP,EAAEyG,EAAEN,MAAMzH,KAAK+O,WAAW,OAAOwnF,GAAGv2F,KAAKsB,KAAK,SAASmW,IAAI,IAAInW,EAAE,OAAO+0F,GAAGr2F,KAAKyX,GAAGA,EAAEzV,UAAUgtB,OAAO,GAAGhqB,OAAOqyF,GAAG,KAAKryF,OAAOsyF,KAAKh2F,EAAElB,EAAEqH,MAAMzH,KAAK+O,YAAYyoF,KAAKH,GAAG/1F,EAAEm2F,MAAMH,GAAGh2F,EAAEo2F,MAAMp2F,EAAEkrF,QAAQ2F,QAAQwF,cAAc,GAAGr2F,EAAE,OAAOyG,EAAE0P,GAAG5V,EAAE,CAAC,CAACF,IAAI,UAAUN,MAAM,SAASC,GAAG,IAAIyG,EAAE/H,KAAK03F,MAAM71F,GAAE,EAAGX,EAAEI,EAAE6B,KAAKuI,cAAcnD,QAAQ,KAAK,IAAI1H,EAAE61F,GAAGx1F,GAAGd,EAAE42F,GAAG11F,EAAE4zF,cAAc5zF,EAAE4zF,YAAYz9E,EAAErX,IAAIsF,EAAEjF,EAAEkH,EAAEI,EAAEzG,EAAEs2F,UAAU,aAAa,EAAE/2F,IAAI,IAAIS,EAAEu2F,QAAQpgF,GAAGhX,EAAE,IAAIsH,EAAEjF,KAAKxB,GAAGb,EAAEsH,EAAEzF,OAAO,GAAG,GAAGzB,IAAIgB,GAAE,GAAIpB,EAAE,IAAIsH,EAAEtH,GAAGa,EAAEtB,KAAKmmD,SAASnmD,KAAKwsF,QAAQ3rF,EAAE,CAAC8sF,SAAS5lF,EAAEgrF,gBAAgB,CAACzxF,GAAG4zF,YAAY90F,EAAE8xF,SAAS5wF,IAAIO,GAAGkG,EAAE/B,OAAOvF,EAAE,SAAtzE,SAAYa,EAAEyG,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,CAAC,IAAIX,EAAE6G,EAAElG,GAAGX,EAAEF,WAAWE,EAAEF,aAAY,EAAGE,EAAEulF,cAAa,EAAG,UAAUvlF,IAAIA,EAAEisF,UAAS,GAAIrsF,OAAOC,eAAeO,EAAEJ,EAAES,IAAIT,IAA4pE42F,CAAG/vF,EAAE/F,UAAUH,GAAGf,OAAOC,eAAegH,EAAE,YAAY,CAAColF,UAAS,IAAK11E,EAAl0C,CAAq0Co8E,IAAI,SAASkE,GAAGz2F,EAAEyG,EAAElG,GAAGk4B,EAAE25D,GAAG3rF,IAAG,SAAUA,GAAGzG,EAAE02F,oBAAoBjwF,EAAElG,GAAE,MAAO,SAASqxD,GAAG5xD,EAAEyG,EAAElG,GAAG,IAAIX,EAAE,sBAAsB8D,OAAO+C,EAAE,MAAM/C,OAAOnD,EAAE,UAAU,OAAO,WAAW,IAAIkG,EAAE,IAAIsP,MAAM,mBAAmBxV,EAAEkG,GAAGA,EAAE8/C,MAAM9/C,EAAE8/C,MAAMt/C,QAAQ,kBAAkB,IAAIA,QAAQ,cAAc,IAAIA,QAAQ,6BAA6B,kBAAkB,sBAAsB1H,EAAEyZ,QAAQC,KAAK,OAAO1Z,GAAGA,EAAEK,EAAEW,GAAGP,EAAEmG,MAAMzH,KAAK+O,YAAY,IAA0JkpF,GAAnJ/kC,IAAG,SAAU5xD,EAAEyG,EAAElG,GAAG,IAAI,IAAIX,EAAEJ,OAAO8C,KAAKmE,GAAGlH,EAAE,EAAEA,EAAEK,EAAEoB,UAAUT,GAAGA,QAAG,IAASP,EAAEJ,EAAEL,OAAOS,EAAEJ,EAAEL,IAAIkH,EAAE7G,EAAEL,KAAKA,IAAI,OAAOS,IAAI,SAAS,iBAAuB42F,GAAGhlC,IAAG,SAAU5xD,EAAEyG,GAAG,OAAOkwF,GAAG32F,EAAEyG,GAAE,KAAM,QAAQ,iBAAiBwkF,GAAG13E,EAAE2gF,GAAG,CAAC2C,YAAY,EAAEC,WAAW,EAAEC,UAAU,EAAEC,aAAa,EAAEC,eAAe,EAAEC,YAAY,EAAEC,cAAc,EAAEC,YAAY,EAAEC,iBAAiB,EAAEC,gBAAgB,GAAGC,aAAar4F,EAAEs4F,eAAe,EAAEC,eAAe,EAAEC,gBAAgB,EAAEC,aAAa,EAAEC,eAAe,GAAGC,qBAAqB,EAAEC,mBAAmB,GAAGC,cAAc,GAAGC,QAAQ/D,GAAGgE,MAAM1F,GAAG2F,YAAY1H,GAAG2H,WAAW3E,GAAG4E,kBAAkBnC,GAAGoC,WAAWh2F,EAAEi2F,eAAergE,EAAEsgE,IAAItJ,GAAGuJ,IAAItL,GAAGuL,MAAMzK,GAAG0K,MAAMjM,EAAGkM,OAAOpgE,EAAEqgE,MAAMvI,GAAG71E,GAAG63E,GAAG13E,IAAI87E,GAAGx0F,KAAKw2B,EAAEogE,MAAMjC,GAAGxoF,OAAOuoF,GAAGzkF,OAAOqB,EAAEulF,QAAQ,SAAS94F,EAAEyG,EAAElG,GAAG,IAAIX,EAAEL,EAAEkH,EAAE/F,WAAWd,EAAEI,EAAEU,UAAUlB,OAAOY,OAAOb,IAAIiM,YAAYxL,EAAEJ,EAAEshC,OAAO3hC,EAAEgB,GAAGgT,EAAE3T,EAAEW,IAAIw4F,OAAOtK,GAAG5hC,QAAQ8lC,GAAGqG,QAAQ3yF,EAAE4yF,YAAYrG,GAAGsG,SAAS9G,GAAG+G,SAAS3lF,EAAE4lF,UAAU,SAASp5F,EAAEyG,GAAG,KAAKzG,GAAG,CAAC,GAAGA,IAAIyG,EAAE,OAAM,EAAGzG,EAAEA,EAAEq5F,WAAW,OAAM,GAAIC,kBAAkBjH,GAAGkH,qBAAqB9C,KAAK,OAAOhwF,EAAjmqC,I,ycCGjNi1B,EAAiB,IAAI,aAQhB89D,EAAiB,SAC5Bz5F,EACA05F,GAcA,OAXK15F,EAIM,mBAASA,GACX,SAACX,GACN,OAAOW,GAGFA,EARA,SAACX,GACN,OAAOq6F,GAAY,IAkBZC,EAAmB,SAC9B9sE,EACAC,GAKA,IAAM8sE,EAAY,GACZC,EAAW,GACXC,EAAW,GACb/6F,EAAI,EACR,IAAKA,EAAI,EAAGA,EAAI8tB,EAAM5rB,OAAQlC,IAAK,CACjC,IAAMyB,EAAIqsB,EAAM9tB,GAChB+6F,EAASt5F,EAAEusB,IAAMhuB,EACjB66F,EAAUn4F,KAAKjB,EAAEogB,GACjBg5E,EAAUn4F,KAAKjB,EAAE+S,GACjBqmF,EAAUn4F,KAAK,GACfm4F,EAAUn4F,KAAK,GACfo4F,EAASp4F,KAAK,IAEhB,IAAK1C,EAAI,EAAGA,EAAI+tB,EAAM7rB,OAAQlC,IAAK,CACjC,IAAM2H,EAAIomB,EAAM/tB,GAChB86F,EAASC,EAASpzF,EAAEimB,SAASlrB,KAAKq4F,EAASpzF,EAAEkmB,SAC7CitE,EAASC,EAASpzF,EAAEkmB,SAASnrB,KAAKq4F,EAASpzF,EAAEimB,SAG/C,IAAIotE,EAAkB,EACtB,IAAKh7F,EAAI,EAAGA,EAAI8tB,EAAM5rB,OAAQlC,IAAK,CACjC,IAAMie,EAAS48E,EAAU34F,OACnB+4F,EAAQH,EAAS96F,GACjBqD,EAAM43F,EAAM/4F,OAClB24F,EAAc,EAAJ76F,EAAQ,GAAKie,EACvB48E,EAAc,EAAJ76F,EAAQ,GAAKi7F,EAAM/4F,OAC7B84F,EAAkB/1F,KAAKC,IAAI81F,EAAiBC,EAAM/4F,QAClD,IAAK,IAAIqF,EAAI,EAAGA,EAAIlE,IAAOkE,EAAG,CAC5B,IAAM2zF,EAAOD,EAAM1zF,GACnBszF,EAAUn4F,MAAMw4F,IAIpB,KAAOL,EAAU34F,OAAS,GAAM,GAC9B24F,EAAUn4F,KAAK,GAEjB,MAAO,CACL8F,MAAO,IAAI63C,aAAaw6C,GACxBG,gBAAe,IAWNG,EAAkC,SAC7CrtE,EACAC,EACAnqB,GAKA,IAAMi3F,EAAY,GACZC,EAAW,GACXC,EAAW,GACb/6F,EAAI,EACR,IAAKA,EAAI,EAAGA,EAAI8tB,EAAM5rB,OAAQlC,IAAK,CACjC,IAAMyB,EAAIqsB,EAAM9tB,GAChB+6F,EAASt5F,EAAEusB,IAAMhuB,EACjB66F,EAAUn4F,KAAKjB,EAAEogB,GACjBg5E,EAAUn4F,KAAKjB,EAAE+S,GACjBqmF,EAAUn4F,KAAK,GACfm4F,EAAUn4F,KAAK,GACfo4F,EAASp4F,KAAK,IAEhB,IAAK1C,EAAI,EAAGA,EAAI+tB,EAAM7rB,OAAQlC,IAAK,CACjC,IAAM2H,EAAIomB,EAAM/tB,GAChB86F,EAASC,EAASpzF,EAAEimB,SAASlrB,KAAKq4F,EAASpzF,EAAEkmB,SAC7CitE,EAASC,EAASpzF,EAAEimB,SAASlrB,KAAKkB,EAAM+D,IACxCmzF,EAASC,EAASpzF,EAAEkmB,SAASnrB,KAAKq4F,EAASpzF,EAAEimB,SAC7CktE,EAASC,EAASpzF,EAAEkmB,SAASnrB,KAAKkB,EAAM+D,IAG1C,IAAIqzF,EAAkB,EACtB,IAAKh7F,EAAI,EAAGA,EAAI8tB,EAAM5rB,OAAQlC,IAAK,CACjC,IAAMie,EAAS48E,EAAU34F,OACnB+4F,EAAQH,EAAS96F,GACjBqD,EAAM43F,EAAM/4F,OAClB24F,EAAc,EAAJ76F,EAAQ,GAAKie,EACvB48E,EAAc,EAAJ76F,EAAQ,GAAKqD,EAAM,EAC7B23F,EAAkB/1F,KAAKC,IAAI81F,EAAiB33F,EAAM,GAClD,IAAK,IAAIkE,EAAI,EAAGA,EAAIlE,IAAOkE,EAAG,CAC5B,IAAM2zF,EAAOD,EAAM1zF,GACnBszF,EAAUn4F,MAAMw4F,IAKpB,KAAOL,EAAU34F,OAAS,GAAM,GAC9B24F,EAAUn4F,KAAK,GAEjB,MAAO,CACL8F,MAAO,IAAI63C,aAAaw6C,GACxBG,gBAAe,IAWNI,EAAkC,SAC7CttE,EACAC,EACAstE,EACAC,GAKA,IAAMT,EAAY,GACZC,EAAW,GACXC,EAAW,GACb/6F,EAAI,EACR,IAAKA,EAAI,EAAGA,EAAI8tB,EAAM5rB,OAAQlC,IAAK,CACjC,IAAMyB,EAAIqsB,EAAM9tB,GAChB+6F,EAASt5F,EAAEusB,IAAMhuB,EACjB66F,EAAUn4F,KAAKjB,EAAEogB,GACjBg5E,EAAUn4F,KAAKjB,EAAE+S,GACjBqmF,EAAUn4F,KAAK,GACfm4F,EAAUn4F,KAAK,GACfo4F,EAASp4F,KAAK,IAEhB,IAAK1C,EAAI,EAAGA,EAAI+tB,EAAM7rB,OAAQlC,IAAK,CACjC,IAAM2H,EAAIomB,EAAM/tB,GAChB86F,EAASC,EAASpzF,EAAEimB,SAASlrB,KAAKq4F,EAASpzF,EAAEkmB,SAC7CitE,EAASC,EAASpzF,EAAEimB,SAASlrB,KAAK24F,EAAO1zF,IACzCmzF,EAASC,EAASpzF,EAAEimB,SAASlrB,KAAK44F,EAAO3zF,IACzCmzF,EAASC,EAASpzF,EAAEimB,SAASlrB,KAAK,GAClCo4F,EAASC,EAASpzF,EAAEkmB,SAASnrB,KAAKq4F,EAASpzF,EAAEimB,SAC7CktE,EAASC,EAASpzF,EAAEkmB,SAASnrB,KAAK24F,EAAO1zF,IACzCmzF,EAASC,EAASpzF,EAAEkmB,SAASnrB,KAAK44F,EAAO3zF,IACzCmzF,EAASC,EAASpzF,EAAEkmB,SAASnrB,KAAK,GAGpC,IAAIs4F,EAAkB,EACtB,IAAKh7F,EAAI,EAAGA,EAAI8tB,EAAM5rB,OAAQlC,IAAK,CACjC,IAAMie,EAAS48E,EAAU34F,OACnB+4F,EAAQH,EAAS96F,GACjBqD,EAAM43F,EAAM/4F,OAIlB24F,EAAc,EAAJ76F,EAAQ,GAAKie,EAAU,QAAU5a,EAAO,EAClDw3F,EAAc,EAAJ76F,EAAQ,GAAK,EACvBg7F,EAAkB/1F,KAAKC,IAAI81F,EAAiB33F,EAAM,GAClD,IAAK,IAAIkE,EAAI,EAAGA,EAAIlE,IAAOkE,EAAG,CAC5B,IAAM2zF,EAAOD,EAAM1zF,GACnBszF,EAAUn4F,MAAMw4F,IAKpB,KAAOL,EAAU34F,OAAS,GAAM,GAC9B24F,EAAUn4F,KAAK,GAEjB,MAAO,CACL8F,MAAO,IAAI63C,aAAaw6C,GACxBG,gBAAe,IASNO,EAA0B,SACrCC,EACAr4D,GAEA,IAAM03D,EAAY,GACZY,EAAeD,EAAet5F,OAC9Bw5F,EAAsB,GAe5B,OAdAv4D,EAAM9yB,SAAQ,SAACrJ,GACbw0F,EAAenrF,SAAQ,SAAC9P,EAAMP,GAM5B,QALwC6L,IAApC6vF,EAAoB10F,EAAKzG,MAC3Bm7F,EAAoB10F,EAAKzG,IAASG,OAAO8C,KAAKk4F,GAAqBx5F,QAErE24F,EAAUn4F,KAAKg5F,EAAoB10F,EAAKzG,KAEpCP,IAAMy7F,EAAe,EACvB,KAAOZ,EAAU34F,OAAS,GAAM,GAC9B24F,EAAUn4F,KAAK,SAKhB,CACL8F,MAAO,IAAI63C,aAAaw6C,GACxBthF,MAAO7Y,OAAO8C,KAAKk4F,GAAqBx5F,SAS/By5F,EAAqB,SAACC,GAIjC,IAHA,IAAMf,EAAY,GACZY,EAAeG,EAAY15F,OAC3B25F,EAAUD,EAAY,GAAG15F,O,WACtBqF,GACPq0F,EAAYvrF,SAAQ,SAACyrF,EAAY97F,GAG/B,GAFA66F,EAAUn4F,KAAKo5F,EAAWv0F,IAEtBvH,IAAMy7F,EAAe,EACvB,KAAOZ,EAAU34F,OAAS,GAAM,GAC9B24F,EAAUn4F,KAAK,OANd6E,EAAI,EAAGA,EAAIs0F,EAASt0F,I,EAApBA,GAYT,OAAO,IAAI84C,aAAaw6C,IAcbkB,EAAe,SAC1Bt3F,EACAykD,GAGA,IACM/jD,EAAc,CAClB0c,EAAGnX,IACH8J,EAAG9J,KAGCxF,EAAc,CAClB2c,GAAInX,IACJ8J,GAAI9J,KAGFsxF,EAAoB,IACpBC,EAAsB,IACtB/yC,GAb+B,CAAC,IAAK,KAAM,MAahB7mD,QAAQ6mD,IAAW,IAEhD+yC,EAAW,IACXD,EAAS,KAEX,IAAIziF,EAAQ,EACZqjB,EAAan4B,GAAM,SAACiuB,GAclB,OAbAnZ,IACImZ,EAAK7Q,EAAI3c,EAAI2c,IACf3c,EAAI2c,EAAI6Q,EAAK7Q,GAEX6Q,EAAK7Q,EAAI1c,EAAI0c,IACf1c,EAAI0c,EAAI6Q,EAAK7Q,GAEX6Q,EAAKle,EAAItP,EAAIsP,IACftP,EAAIsP,EAAIke,EAAKle,GAEXke,EAAKle,EAAIrP,EAAIqP,IACfrP,EAAIqP,EAAIke,EAAKle,IAER,KAET,IAAM0nF,EAAoB,EAAVj3F,KAAK6F,GAAUyO,EACzB4iF,EAAUj3F,EAAI+2F,GAAY92F,EAAI82F,GACpC,OAAgB,IAAZE,GAIJv/D,EAAan4B,GAAM,SAACiuB,GAClB,IAAM0pE,GAAW1pE,EAAKupE,GAAY92F,EAAI82F,IAAaE,GAAsB,EAAVl3F,KAAK6F,GAASoxF,GAAUA,EACjFp7F,EAAImE,KAAKqF,IAAe,MAAX0xF,EAAiBtpE,EAAK7Q,EAAIpd,EAAKod,EAAI6Q,EAAKle,EAAI/P,EAAK+P,GAGpE,OAFAke,EAAK7Q,EAAI/gB,EAAImE,KAAKwS,IAAI2kF,GACtB1pE,EAAKle,EAAI1T,EAAImE,KAAKyS,IAAI0kF,IACf,KARA33F,GC/TL43F,EAAM,uCAAa,KAAS,GAAc,GAEjC,O,iCCuBR,IAAIlpF,EAAW,WAQlB,OAPAA,EAAWzS,OAAO0S,QAAU,SAAkBlS,GAC1C,IAAK,IAAIa,EAAG/B,EAAI,EAAGyB,EAAIkN,UAAUzM,OAAQlC,EAAIyB,EAAGzB,IAE5C,IAAK,IAAI8B,KADTC,EAAI4M,UAAU3O,GACOU,OAAOkB,UAAUC,eAAe1B,KAAK4B,EAAGD,KAAIZ,EAAEY,GAAKC,EAAED,IAE9E,OAAOZ,IAEKmG,MAAMzH,KAAM+O,YAGzB,SAAS0E,EAAOtR,EAAG4F,GACtB,IAAIzG,EAAI,GACR,IAAK,IAAIY,KAAKC,EAAOrB,OAAOkB,UAAUC,eAAe1B,KAAK4B,EAAGD,IAAM6F,EAAEtF,QAAQP,GAAK,IAC9EZ,EAAEY,GAAKC,EAAED,IACb,GAAS,MAALC,GAAqD,mBAAjCrB,OAAO4S,sBACtB,KAAItT,EAAI,EAAb,IAAgB8B,EAAIpB,OAAO4S,sBAAsBvR,GAAI/B,EAAI8B,EAAEI,OAAQlC,IAC3D2H,EAAEtF,QAAQP,EAAE9B,IAAM,GAAKU,OAAOkB,UAAU2R,qBAAqBpT,KAAK4B,EAAGD,EAAE9B,MACvEkB,EAAEY,EAAE9B,IAAM+B,EAAED,EAAE9B,KAE1B,OAAOkB,E,kBC7CX,YAAa,SAAU,CAErByP,QAAS,CACPb,KAAM,IAAOoO,YAAYpO,KACzB+N,MAAO,CACLgE,EAAG,EACHrN,EAAG,EACH4J,OAAQ,IAAOF,YAAYL,MAAMO,OACjCN,KAAM,IAAOI,YAAYL,MAAMC,KAC/BK,UAAW,IAAOD,YAAYL,MAAMM,WAEtCqxC,SAAU,CACR3xC,MAAO,CACLC,KAAM,IAAOF,UAAUC,MAAMC,KAC7B9L,SAAU,IAAO4L,UAAUC,MAAM7L,WAIrCuM,WAAY,CACVqX,KAAK,EACLG,OAAO,EACPD,QAAQ,EACRD,MAAM,EAEN/lB,KAAM,IAAOoO,YAAYK,WAAWzO,KACpCqO,UAAW,IAAOD,YAAYK,WAAWJ,UACzCL,KAAM,IAAOI,YAAYK,WAAWT,KACpCM,OAAQ,IAAOF,YAAYK,WAAWH,QAGxCi2C,KAAM,CAEJ1jB,MAAM,EAEN+lB,IAAK,qFACLvkD,MAAO,GACPuO,OAAQ,IAEV+sB,YAAa,EAAS,GAAI,IAAO/uB,kBAEnC2tB,UAAW,SAEX6mB,cAAe,SACftnB,UAAW,SAAmB5uB,EAAK8V,GACjC,IAAI9Z,EAAKpZ,KAAK2vD,WAAWvyC,GAAKq3C,KAC1BioC,OAAqB,IAAPtjF,EAAgB,GAAKA,EACnC6E,EAAQje,KAAKgxD,cAAc5zC,GAC3Bq3C,EAAO,kBAAQ,GAAIioC,EAAat/E,EAAIq3C,MACpC9mB,EAAWza,EAAM2W,SAAS,SAAU,CACtC7lC,MAAOia,EACPutB,UAAW,GAAGxmC,OAAOhF,KAAKmD,KAAM,aAChCgtD,WAAW,IAET59C,EAAQkiD,EAAKliD,MACbuO,EAAS2zC,EAAK3zC,OACdiwB,EAAO0jB,EAAK1jB,KACZp/B,EAAO8iD,EAAK9iD,KAgChB,OA9BIo/B,IACEp/B,EACFuhB,EAAM2W,SAAS,OAAQ,CACrB7lC,MAAO,EAAS,CACdie,EAAG,EACHrN,EAAG,EACHxC,SAAU,GACV8L,KAAM,OACNM,OAAQ,OACRJ,aAAc,SACdD,UAAW,UACVs2C,GACHjpB,UAAW,GAAGxmC,OAAOhF,KAAKmD,KAAM,SAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,SAC3BgtD,WAAW,IAGbj9B,EAAM2W,SAAS,QAAS,CACtB7lC,MAAO,EAAS,CACdie,GAAI1P,EAAQ,EACZqC,GAAIkM,EAAS,GACZ2zC,GACHjpB,UAAW,GAAGxmC,OAAOhF,KAAKmD,KAAM,SAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,SAC3BgtD,WAAW,KAKjBnwD,KAAK28F,eAAev/E,EAAK8V,GAClBya,GAQTgvD,eAAgB,SAAwBv/E,EAAK8V,GAC3C,IAAI9Z,EAAKpZ,KAAK2vD,WAAWvyC,GAAKuB,WAC1BA,OAAoB,IAAPvF,EAAgB,GAAKA,EAElC4c,EAAMrX,EAAWqX,IACjBC,EAAOtX,EAAWsX,KAClBE,EAAQxX,EAAWwX,MACnBD,EAASvX,EAAWuX,OACpBm+B,EAAW11C,EAAWzO,KACtB0sF,EAAQj+E,EAAWzd,EACnB27F,EAAYppF,EAAOkL,EAAY,CAAC,MAAO,OAAQ,QAAS,SAAU,OAAQ,MAG1Ezd,EADOlB,KAAKuzD,QAAQn2C,GACX,GAAK,EAEd6Y,GAEF/C,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,GAAI/gB,EACJ0T,EAAG,EACH1T,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,kBACX7qC,KAAM,kBACN2zD,eAAe,IAIfn+B,GAEFjD,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,EAAG/gB,EACH0T,EAAG,EACH1T,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,mBACX7qC,KAAM,mBACN2zD,eAAe,IAIft+B,GAEF9C,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,EAAG,EACHrN,GAAI1T,EACJA,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,iBACX7qC,KAAM,iBACN2zD,eAAe,IAIfp+B,GAEFhD,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,EAAG,EACHrN,EAAG1T,EACHA,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,oBACX7qC,KAAM,oBACN2zD,eAAe,KAUrBtD,cAAe,SAAuB5zC,GACpC,IAAI2zC,EAAe/wD,KAAK2vD,WAAWvyC,GAAKa,MACpCg3C,EAAc,CAChBz2C,OAAQpB,EAAIhU,OAGV6U,EAAQ,kBAAQ,GAAI8yC,EAAckE,GAElC/zD,EADOlB,KAAKuzD,QAAQn2C,GACX,GAAK,EAQlB,OANa,EAAS,CACpB6E,EAAG,EACHrN,EAAG,EACH1T,EAAGA,GACF+c,IAIL8rB,OAAQ,SAAgB3sB,EAAKhW,GAC3B,IAAI8rB,EAAQ9rB,EAAK6iC,eACb/5B,EAAOlQ,KAAKuzD,QAAQn2C,GAEpB63C,EAAc,CAChBz2C,OAAQpB,EAAIhU,MACZlI,EAAGgP,EAAK,GAAK,GAGXy9B,EAAWvmC,EAAKnG,IAAI,YACpBgd,EAAQ,kBAAQ,GAAI0vB,EAASxC,OAAQ8pB,EAAa73C,EAAIa,OAC1Dje,KAAKuwC,YAAYnzB,EAAKhW,EAAM6W,GAAO,GACnCje,KAAK2zD,iBAAiBv2C,EAAK8V,KAE5B,eC9MH,YAAa,OAAQ,CAEnBniB,QAAS,CACPb,KAAM,CAAC,IAAK,IACZ+N,MAAO,CACL3U,OAAQ,EACRkV,OAAQ,IAAOF,YAAYL,MAAMO,OACjCN,KAAM,IAAOI,YAAYL,MAAMC,KAC/BK,UAAW,IAAOD,YAAYL,MAAMM,WAGtCqxC,SAAU,CACR3xC,MAAO,CACLC,KAAM,IAAOF,UAAUC,MAAMC,KAC7B9L,SAAU,IAAO4L,UAAUC,MAAM7L,WAIrCuM,WAAY,CACVqX,KAAK,EACLG,OAAO,EACPD,QAAQ,EACRD,MAAM,EAEN/lB,KAAM,IAAOoO,YAAYK,WAAWzO,KACpCqO,UAAW,IAAOD,YAAYK,WAAWJ,UACzCL,KAAM,IAAOI,YAAYK,WAAWT,KACpCM,OAAQ,IAAOF,YAAYK,WAAWH,QAGxCi2C,KAAM,CAEJ1jB,MAAM,EAEN+lB,IAAK,qFACLvkD,MAAO,GACPuO,OAAQ,IAIV+e,aAAc,CAAC,CAAC,EAAG,IAAM,CAAC,EAAG,KAC7BgO,YAAa,EAAS,GAAI,IAAO/uB,kBAEnC2tB,UAAW,OACX6mB,cAAe,SACftnB,UAAW,SAAmB5uB,EAAK8V,GACjC,IAAIjV,EAAQje,KAAKgxD,cAAc5zC,GAC3BuwB,EAAWza,EAAM2W,SAAS,OAAQ,CACpC7lC,MAAOia,EACPutB,UAAW,GAAGxmC,OAAOhF,KAAKmD,KAAM,aAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,aAC3BgtD,WAAW,IAGb,OADAnwD,KAAK28F,eAAev/E,EAAK8V,GAClBya,GAQTgvD,eAAgB,SAAwBv/E,EAAK8V,GAC3C,IAAI9Z,EAAKpZ,KAAK2vD,WAAWvyC,GAAKuB,WAC1BA,OAAoB,IAAPvF,EAAgB,GAAKA,EAElC4c,EAAMrX,EAAWqX,IACjBC,EAAOtX,EAAWsX,KAClBE,EAAQxX,EAAWwX,MACnBD,EAASvX,EAAWuX,OACpBm+B,EAAW11C,EAAWzO,KACtB0sF,EAAQj+E,EAAWzd,EACnB27F,EAAYppF,EAAOkL,EAAY,CAAC,MAAO,OAAQ,QAAS,SAAU,OAAQ,MAE1EzO,EAAOlQ,KAAKuzD,QAAQn2C,GACpB7K,EAAQrC,EAAK,GACb4Q,EAAS5Q,EAAK,GAEd+lB,GAEF/C,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,GAAI1P,EAAQ,EACZqC,EAAG,EACH1T,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,kBACX7qC,KAAM,kBACN2zD,eAAe,IAIfn+B,GAEFjD,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,EAAG1P,EAAQ,EACXqC,EAAG,EACH1T,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,mBACX7qC,KAAM,mBACN2zD,eAAe,IAIft+B,GAEF9C,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,EAAG,EACHrN,GAAIkM,EAAS,EACb5f,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,iBACX7qC,KAAM,iBACN2zD,eAAe,IAIfp+B,GAEFhD,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,EAAG,EACHrN,EAAGkM,EAAS,EACZ5f,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,oBACX7qC,KAAM,oBACN2zD,eAAe,KAUrBtD,cAAe,SAAuB5zC,GACpC,IAAI2zC,EAAe/wD,KAAK2vD,WAAWvyC,GAAKa,MACpCg3C,EAAc,CAChBz2C,OAAQpB,EAAIhU,OAGV6U,EAAQ,cAAI,GAAI8yC,EAAckE,GAC9B/kD,EAAOlQ,KAAKuzD,QAAQn2C,GACpB7K,EAAQ0L,EAAM1L,OAASrC,EAAK,GAC5B4Q,EAAS7C,EAAM6C,QAAU5Q,EAAK,GASlC,OAPa,EAAS,CACpB+R,GAAI1P,EAAQ,EACZqC,GAAIkM,EAAS,EACbvO,MAAOA,EACPuO,OAAQA,GACP7C,IAIL8rB,OAAQ,SAAgB3sB,EAAKhW,GAC3B,IAAI8rB,EAAQ9rB,EAAK6iC,eAEb8mB,EAAe/wD,KAAK2vD,WAAW,IAAI1xC,MACnC/N,EAAOlQ,KAAKuzD,QAAQn2C,GACpBuwB,EAAWvmC,EAAKnG,IAAI,YAEnBmc,EAAIlN,OACPA,EAAK,GAAKy9B,EAASxC,KAAK,UAAY4lB,EAAax+C,MACjDrC,EAAK,GAAKy9B,EAASxC,KAAK,WAAa4lB,EAAajwC,QAIpD,IAAIm0C,EAAc,CAChBz2C,OAAQpB,EAAIhU,MACZ6Y,GAAI/R,EAAK,GAAK,EACd0E,GAAI1E,EAAK,GAAK,EACdqC,MAAOrC,EAAK,GACZ4Q,OAAQ5Q,EAAK,IAGX+N,EAAQ,cAAI,GAAI8yC,EAAcpjB,EAASxC,OAAQ8pB,GACnDh3C,EAAQ,cAAIA,EAAOb,EAAIa,OACvBje,KAAKuwC,YAAYnzB,EAAKhW,EAAM6W,GAAO,GACnCje,KAAK2zD,iBAAiBv2C,EAAK8V,KAE5B,eCtLH,YAAa,UAAW,CAEtBniB,QAAS,CACPb,KAAM,CAAC,GAAI,IACX+N,MAAO,CACLgE,EAAG,EACHrN,EAAG,EACH4J,OAAQ,IAAOF,YAAYL,MAAMO,OACjCN,KAAM,IAAOI,YAAYL,MAAMC,KAC/BK,UAAW,IAAOD,YAAYL,MAAMM,WAGtCqxC,SAAU,CACR3xC,MAAO,CACLC,KAAM,IAAOF,UAAUC,MAAMC,KAC7B9L,SAAU,IAAO4L,UAAUC,MAAM7L,WAIrCuM,WAAY,CACVqX,KAAK,EACLG,OAAO,EACPD,QAAQ,EACRD,MAAM,EAEN/lB,KAAM,IAAOoO,YAAYK,WAAWzO,KACpCqO,UAAW,IAAOD,YAAYK,WAAWJ,UACzCL,KAAM,IAAOI,YAAYK,WAAWT,KACpCM,OAAQ,IAAOF,YAAYK,WAAWH,QAGxCi2C,KAAM,CAEJ1jB,MAAM,EAEN+lB,IAAK,qFACLvkD,MAAO,GACPuO,OAAQ,IAEV+sB,YAAa,EAAS,GAAI,IAAO/uB,kBAEnC2tB,UAAW,UAEX6mB,cAAe,SACftnB,UAAW,SAAmB5uB,EAAK8V,GACjC,IAAI9Z,EAAKpZ,KAAK2vD,WAAWvyC,GAAKq3C,KAC1BA,OAAc,IAAPr7C,EAAgB,GAAKA,EAC5B6E,EAAQje,KAAKgxD,cAAc5zC,GAC3BuwB,EAAWza,EAAM2W,SAAS,UAAW,CACvC7lC,MAAOia,EACPutB,UAAW,mBACX7qC,KAAM,mBACNwvD,WAAW,IAET59C,EAAQkiD,EAAKliD,MACbuO,EAAS2zC,EAAK3zC,OACdiwB,EAAO0jB,EAAK1jB,KACZp/B,EAAO8iD,EAAK9iD,KAgChB,OA9BIo/B,IACEp/B,EACFuhB,EAAM2W,SAAS,OAAQ,CACrB7lC,MAAO,EAAS,CACdie,EAAG,EACHrN,EAAG,EACHxC,SAAU,GACV8L,KAAM,OACNM,OAAQ,OACRJ,aAAc,SACdD,UAAW,UACVs2C,GACHjpB,UAAW,GAAGxmC,OAAOhF,KAAKmD,KAAM,SAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,SAC3BgtD,WAAW,IAGbj9B,EAAM2W,SAAS,QAAS,CACtB7lC,MAAO,EAAS,CACdie,GAAI1P,EAAQ,EACZqC,GAAIkM,EAAS,GACZ2zC,GACHjpB,UAAW,GAAGxmC,OAAOhF,KAAKmD,KAAM,SAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,SAC3BgtD,WAAW,KAKjBnwD,KAAK28F,eAAev/E,EAAK8V,GAClBya,GAQTgvD,eAAgB,SAAwBv/E,EAAK8V,GAC3C,IAAI9Z,EAAKpZ,KAAK2vD,WAAWvyC,GAAKuB,WAC1BA,OAAoB,IAAPvF,EAAgB,GAAKA,EAElC4c,EAAMrX,EAAWqX,IACjBC,EAAOtX,EAAWsX,KAClBE,EAAQxX,EAAWwX,MACnBD,EAASvX,EAAWuX,OACpBm+B,EAAW11C,EAAWzO,KACtB0sF,EAAQj+E,EAAWzd,EACnB27F,EAAYppF,EAAOkL,EAAY,CAAC,MAAO,OAAQ,QAAS,SAAU,OAAQ,MAE1EzO,EAAOlQ,KAAKuzD,QAAQn2C,GACpByU,EAAK3hB,EAAK,GAAK,EACf4hB,EAAK5hB,EAAK,GAAK,EAEf+lB,GAEF/C,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,GAAI4P,EACJjd,EAAG,EACH1T,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,kBACX7qC,KAAM,kBACN2zD,eAAe,IAIfn+B,GAEFjD,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,EAAG4P,EACHjd,EAAG,EACH1T,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,mBACX7qC,KAAM,mBACN2zD,eAAe,IAIft+B,GAEF9C,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,EAAG,EACHrN,GAAIkd,EACJ5wB,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,iBACX7qC,KAAM,iBACN2zD,eAAe,IAIfp+B,GAEFhD,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,EAAG,EACHrN,EAAGkd,EACH5wB,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,oBACX7qC,KAAM,oBACN2zD,eAAe,KAUrBtD,cAAe,SAAuB5zC,GACpC,IAAI2zC,EAAe/wD,KAAK2vD,WAAWvyC,GAAKa,MACpCg3C,EAAc,CAChBz2C,OAAQpB,EAAIhU,OAGV6U,EAAQ,cAAI,GAAI8yC,EAAckE,GAC9B/kD,EAAOlQ,KAAKuzD,QAAQn2C,GACpByU,EAAK3hB,EAAK,GAAK,EACf4hB,EAAK5hB,EAAK,GAAK,EASnB,OAPa,EAAS,CACpB+R,EAAG,EACHrN,EAAG,EACHid,GAAIA,EACJC,GAAIA,GACH7T,IAIL8rB,OAAQ,SAAgB3sB,EAAKhW,GAC3B,IAAI8rB,EAAQ9rB,EAAK6iC,eAEb8mB,EAAe/wD,KAAK2vD,WAAW,IAAI1xC,MACnC/N,EAAOlQ,KAAKuzD,QAAQn2C,GACpB63C,EAAc,CAChBz2C,OAAQpB,EAAIhU,MACZyoB,GAAI3hB,EAAK,GAAK,EACd4hB,GAAI5hB,EAAK,GAAK,GAGZy9B,EAAWvmC,EAAKnG,IAAI,YACpBgd,EAAQ,cAAI,GAAI8yC,EAAcpjB,EAASxC,OAAQ8pB,GACnDh3C,EAAQ,cAAIA,EAAOb,EAAIa,OACvBje,KAAKuwC,YAAYnzB,EAAKhW,EAAM6W,GAAO,GACnCje,KAAK2zD,iBAAiBv2C,EAAK8V,KAE5B,eCvNH,YAAa,UAAW,CAEtBniB,QAAS,CACPb,KAAM,CAAC,GAAI,IACX+N,MAAO,CACLO,OAAQ,IAAOF,YAAYL,MAAMO,OACjCN,KAAM,IAAOI,YAAYL,MAAMC,KAC/BK,UAAW,IAAOD,YAAYL,MAAMM,WAGtCqxC,SAAU,CACR3xC,MAAO,CACLC,KAAM,IAAOF,UAAUC,MAAMC,KAC7B9L,SAAU,IAAO4L,UAAUC,MAAM7L,WAIrCuM,WAAY,CACVqX,KAAK,EACLG,OAAO,EACPD,QAAQ,EACRD,MAAM,EAEN/lB,KAAM,IAAOoO,YAAYK,WAAWzO,KACpCqO,UAAW,IAAOD,YAAYK,WAAWJ,UACzCL,KAAM,IAAOI,YAAYK,WAAWT,KACpCM,OAAQ,IAAOF,YAAYK,WAAWH,QAGxCi2C,KAAM,CAEJ1jB,MAAM,EAEN+lB,IAAK,qFACLvkD,MAAO,GACPuO,OAAQ,IAEV+sB,YAAa,EAAS,GAAI,IAAO/uB,kBAEnC2tB,UAAW,UAEX6mB,cAAe,SACftnB,UAAW,SAAmB5uB,EAAK8V,GACjC,IAAI9Z,EAAKpZ,KAAK2vD,WAAWvyC,GAAKq3C,KAC1BA,OAAc,IAAPr7C,EAAgB,GAAKA,EAC5B6E,EAAQje,KAAKgxD,cAAc5zC,GAC3BuwB,EAAWza,EAAM2W,SAAS,OAAQ,CACpC7lC,MAAOia,EACPutB,UAAW,GAAGxmC,OAAOhF,KAAKmD,KAAM,aAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,aAC3BgtD,WAAW,IAETp2B,EAAI06B,EAAKliD,MACTiF,EAAIi9C,EAAK3zC,OACTiwB,EAAO0jB,EAAK1jB,KACZp/B,EAAO8iD,EAAK9iD,KAgChB,OA9BIo/B,IACEp/B,EACFuhB,EAAM2W,SAAS,OAAQ,CACrB7lC,MAAO,EAAS,CACdie,EAAG,EACHrN,EAAG,EACHxC,SAAU,GACV8L,KAAM,OACNM,OAAQ,OACRJ,aAAc,SACdD,UAAW,UACVs2C,GACHjpB,UAAW,GAAGxmC,OAAOhF,KAAKmD,KAAM,SAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,SAC3BgtD,WAAW,IAGbj9B,EAAM2W,SAAS,QAAS,CACtB7lC,MAAO,EAAS,CACdie,GAAI8X,EAAI,EACRnlB,GAAI4C,EAAI,GACPi9C,GACHjpB,UAAW,GAAGxmC,OAAOhF,KAAKmD,KAAM,SAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,SAC3BgtD,WAAW,KAKjBnwD,KAAK28F,eAAev/E,EAAK8V,GAClBya,GAQTgvD,eAAgB,SAAwBv/E,EAAK8V,GAC3C,IAAI9Z,EAAKpZ,KAAK2vD,WAAWvyC,GAAKuB,WAC1BA,OAAoB,IAAPvF,EAAgB,GAAKA,EAElC4c,EAAMrX,EAAWqX,IACjBC,EAAOtX,EAAWsX,KAClBE,EAAQxX,EAAWwX,MACnBD,EAASvX,EAAWuX,OACpBm+B,EAAW11C,EAAWzO,KACtB0sF,EAAQj+E,EAAWzd,EACnB27F,EAAYppF,EAAOkL,EAAY,CAAC,MAAO,OAAQ,QAAS,SAAU,OAAQ,MAE1EzO,EAAOlQ,KAAKuzD,QAAQn2C,GACpB7K,EAAQrC,EAAK,GACb4Q,EAAS5Q,EAAK,GAEd+lB,GAEF/C,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,GAAI1P,EAAQ,EACZqC,EAAG,EACH1T,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,kBACX7qC,KAAM,kBACN2zD,eAAe,IAIfn+B,GAEFjD,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,EAAG1P,EAAQ,EACXqC,EAAG,EACH1T,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,mBACX7qC,KAAM,mBACN2zD,eAAe,IAIft+B,GAEF9C,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,EAAG,EACHrN,GAAIkM,EAAS,EACb5f,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,iBACX7qC,KAAM,iBACN2zD,eAAe,IAIfp+B,GAEFhD,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,EAAG,EACHrN,EAAGkM,EAAS,EACZ5f,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,oBACX7qC,KAAM,oBACN2zD,eAAe,KAIrBU,QAAS,SAAiB53C,GACxB,IAAIlN,EAAOlQ,KAAKuzD,QAAQn2C,GACpB7K,EAAQrC,EAAK,GACb4Q,EAAS5Q,EAAK,GAGlB,MAFW,CAAC,CAAC,IAAK,GAAI4Q,EAAS,GAAI,CAAC,IAAKvO,EAAQ,EAAG,GAAI,CAAC,IAAK,EAAGuO,EAAS,GAAI,CAAC,KAAMvO,EAAQ,EAAG,GAAI,CAAC,OAUvGy+C,cAAe,SAAuB5zC,GACpC,IAAI2zC,EAAe/wD,KAAK2vD,WAAWvyC,GAAKa,MACpCg3C,EAAc,CAChBz2C,OAAQpB,EAAIhU,OAGV6U,EAAQ,cAAI,GAAI8yC,EAAckE,GAC9BrkD,EAAO5Q,KAAKg1D,QAAQ53C,GAMxB,OAJa,EAAS,CACpBxM,KAAMA,GACLqN,IAIL8rB,OAAQ,SAAgB3sB,EAAKhW,GAC3B,IAAI8rB,EAAQ9rB,EAAK6iC,eAEb8mB,EAAe/wD,KAAK2vD,WAAW,IAAI1xC,MACnCrN,EAAO5Q,KAAKg1D,QAAQ53C,GAEpB63C,EAAc,CAChBz2C,OAAQpB,EAAIhU,MACZwH,KAAMA,GAGJ+8B,EAAWvmC,EAAKnG,IAAI,YACpBgd,EAAQ,cAAI,GAAI8yC,EAAcpjB,EAASxC,OAAQ8pB,GACnDh3C,EAAQ,cAAIA,EAAOb,EAAIa,OACvBje,KAAKuwC,YAAYnzB,EAAKhW,EAAM6W,GAAO,GACnCje,KAAK2zD,iBAAiBv2C,EAAK8V,KAE5B,eCrNH,YAAa,WAAY,CAEvBniB,QAAS,CACPb,KAAM,GACN6lB,UAAW,KACX9X,MAAO,CACLO,OAAQ,IAAOF,YAAYL,MAAMO,OACjCN,KAAM,IAAOI,YAAYL,MAAMC,KAC/BK,UAAW,IAAOD,YAAYL,MAAMM,WAEtCqxC,SAAU,CACR3xC,MAAO,CACLC,KAAM,IAAOF,UAAUC,MAAMC,KAC7B9L,SAAU,IAAO4L,UAAUC,MAAM7L,UAEnCiM,OAAQ,IAGVM,WAAY,CACVqX,KAAK,EACLG,OAAO,EACPD,QAAQ,EACRD,MAAM,EAEN/lB,KAAM,IAAOoO,YAAYK,WAAWzO,KACpCqO,UAAW,IAAOD,YAAYK,WAAWJ,UACzCL,KAAM,IAAOI,YAAYK,WAAWT,KACpCM,OAAQ,IAAOF,YAAYK,WAAWH,QAGxCi2C,KAAM,CAEJ1jB,MAAM,EAEN+lB,IAAK,qFACLvkD,MAAO,GACPuO,OAAQ,GACRzC,OAAQ,GAEVwvB,YAAa,EAAS,GAAI,IAAO/uB,kBAEnC2tB,UAAW,WAEX6mB,cAAe,SACftnB,UAAW,SAAmB5uB,EAAK8V,GACjC,IAAI9Z,EAAKpZ,KAAK2vD,WAAWvyC,GACrBirB,EAAKjvB,EAAGq7C,KACRA,OAAc,IAAPpsB,EAAgB,GAAKA,EAC5By0D,EAAmB1jF,EAAG2c,UAEtB9X,EAAQje,KAAKgxD,cAAc5zC,GAC3B2Y,EAAY3Y,EAAI2Y,WAAa+mE,EAC7BnvD,EAAWza,EAAM2W,SAAS,OAAQ,CACpC7lC,MAAOia,EACPutB,UAAW,GAAGxmC,OAAOhF,KAAKmD,KAAM,aAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,aAC3BgtD,WAAW,IAETp2B,EAAI06B,EAAKliD,MACTiF,EAAIi9C,EAAK3zC,OACTiwB,EAAO0jB,EAAK1jB,KACZ1yB,EAASo2C,EAAKp2C,OACd1M,EAAO8iD,EAAK9iD,KAEhB,GAAIo/B,EACF,GAAIp/B,EACFuhB,EAAM2W,SAAS,OAAQ,CACrB7lC,MAAO,EAAS,CACdie,EAAG,EACHrN,EAAG,EACHxC,SAAU,GACV8L,KAAM,OACNM,OAAQ,OACRJ,aAAc,SACdD,UAAW,UACVs2C,GACHjpB,UAAW,GAAGxmC,OAAOhF,KAAKmD,KAAM,SAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,SAC3BgtD,WAAW,QAER,CACL,IAAI4sC,GAAShjE,EAAI,EACbijE,GAASxlF,EAAI,EAEC,OAAdue,GAAoC,SAAdA,IACxBinE,GAAS3+E,GAGO,SAAd0X,GAAsC,UAAdA,IAC1BgnE,GAAS1+E,GAGX6U,EAAM2W,SAAS,QAAS,CACtB7lC,MAAO,EAAS,CACdie,EAAG86E,EACHnoF,EAAGooF,GACFvoC,GACHjpB,UAAW,GAAGxmC,OAAOhF,KAAKmD,KAAM,SAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,SAC3BgtD,WAAW,IAMjB,OADAnwD,KAAK28F,eAAev/E,EAAK8V,GAClBya,GAQTgvD,eAAgB,SAAwBv/E,EAAK8V,GAC3C,IAAI9Z,EAAKpZ,KAAK2vD,WAAWvyC,GACrBirB,EAAKjvB,EAAGuF,WACRA,OAAoB,IAAP0pB,EAAgB,GAAKA,EAClCy0D,EAAmB1jF,EAAG2c,UAEtBA,EAAY3Y,EAAI2Y,WAAa+mE,EAE7B9mE,EAAMrX,EAAWqX,IACjBC,EAAOtX,EAAWsX,KAClBE,EAAQxX,EAAWwX,MACnBD,EAASvX,EAAWuX,OACpBm+B,EAAW11C,EAAWzO,KACtB0sF,EAAQj+E,EAAWzd,EACnB27F,EAAYppF,EAAOkL,EAAY,CAAC,MAAO,OAAQ,QAAS,SAAU,OAAQ,MAG1Elb,EADOzD,KAAKuzD,QAAQn2C,GACT,GAEf,GAAI6Y,EAAM,CAER,IAAIgnE,EAAU,KACVC,EAAQz5F,EAAM4B,KAAKyS,IAAI,EAAI,EAAIzS,KAAK6F,IACpChK,EAAIuC,EAAM4B,KAAKyS,IAAI,EAAI,EAAIzS,KAAK6F,IAElB,OAAd6qB,EACFknE,EAAU,EAAE/7F,EAAGg8F,GACQ,SAAdnnE,EACTknE,EAAU,EAAE/7F,GAAIg8F,GACO,SAAdnnE,IACTknE,EAAU,EAAE/7F,EAAGA,EAAIg8F,IAGjBD,GAEF/pE,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,EAAGg7E,EAAQ,GACXroF,EAAGqoF,EAAQ,GACX/7F,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,kBACX7qC,KAAM,oBAKZ,GAAIw1B,EAAO,CAGT,IAAIgnE,EAAW,KACXD,EAAQz5F,EAAM4B,KAAKyS,IAAI,EAAI,EAAIzS,KAAK6F,IACpChK,EAAIuC,EAAM4B,KAAKyS,IAAI,EAAI,EAAIzS,KAAK6F,IAElB,OAAd6qB,EACFonE,EAAW,CAACj8F,EAAGg8F,GACQ,SAAdnnE,EACTonE,EAAW,CAACj8F,GAAIg8F,GACO,UAAdnnE,IACTonE,EAAW,CAACj8F,EAAGA,EAAIg8F,IAGjBC,GACFjqE,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,EAAGk7E,EAAS,GACZvoF,EAAGuoF,EAAS,GACZj8F,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,mBACX7qC,KAAM,qBAKZ,GAAIq1B,EAAK,CAEP,IAAIonE,EAAS,KACTF,EAAQz5F,EAAM4B,KAAKyS,IAAI,EAAI,EAAIzS,KAAK6F,IACpChK,EAAIuC,EAAM4B,KAAKyS,IAAI,EAAI,EAAIzS,KAAK6F,IAElB,OAAd6qB,EACFqnE,EAAS,CAACl8F,EAAIg8F,GAAQA,GACC,SAAdnnE,EACTqnE,EAAS,CAACl8F,GAAIg8F,GACS,UAAdnnE,IACTqnE,EAAS,EAAEl8F,GAAIg8F,IAGbE,GAEFlqE,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,EAAGm7E,EAAO,GACVxoF,EAAGwoF,EAAO,GACVl8F,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,iBACX7qC,KAAM,mBAKZ,GAAIu1B,EAAQ,CAEV,IAAImnE,EAAY,KACZH,EAAQz5F,EAAM4B,KAAKyS,IAAI,EAAI,EAAIzS,KAAK6F,IACpChK,EAAIuC,EAAM4B,KAAKyS,IAAI,EAAI,EAAIzS,KAAK6F,IAElB,SAAd6qB,EACFsnE,EAAY,EAAEn8F,EAAIg8F,EAAOA,GACF,SAAdnnE,EACTsnE,EAAY,CAACn8F,EAAGg8F,GACO,UAAdnnE,IACTsnE,EAAY,EAAEn8F,EAAGg8F,IAGfG,GAEFnqE,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,EAAGo7E,EAAU,GACbzoF,EAAGyoF,EAAU,GACbn8F,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,oBACX7qC,KAAM,wBAKdq0D,QAAS,SAAiB53C,GACxB,IAAI0/E,EAAmB98F,KAAK2vD,WAAWvyC,GAAK2Y,UACxCA,EAAY3Y,EAAI2Y,WAAa+mE,EAE7Br5F,EADOzD,KAAKuzD,QAAQn2C,GACT,GACX8/E,EAAQz5F,EAAM4B,KAAKyS,IAAI,EAAI,EAAIzS,KAAK6F,IACpChK,EAAIuC,EAAM4B,KAAKyS,IAAI,EAAI,EAAIzS,KAAK6F,IAChC0F,EAAO,CAAC,CAAC,KAAM1P,EAAGg8F,GAAQ,CAAC,IAAK,GAAIA,GAAQ,CAAC,IAAKh8F,EAAGg8F,GAAQ,CAAC,MAclE,MAXkB,SAAdnnE,EACFnlB,EAAO,CAAC,CAAC,KAAM1P,GAAIg8F,GAAQ,CAAC,IAAKh8F,GAAIg8F,GAAQ,CAAC,IAAK,EAAGA,GAAQ,CAAC,MAExC,SAAdnnE,EACTnlB,EAAO,CAAC,CAAC,KAAM1P,EAAGA,EAAIg8F,GAAQ,CAAC,IAAKh8F,GAAIA,GAAI,CAAC,IAAKA,EAAGA,GAAI,CAAC,MAEnC,UAAd60B,IACTnlB,EAAO,CAAC,CAAC,IAAK1P,EAAGA,EAAIg8F,GAAQ,CAAC,KAAMh8F,EAAGA,GAAI,CAAC,KAAMA,GAAIA,GAAI,CAAC,OAItD0P,GAQTogD,cAAe,SAAuB5zC,GACpC,IAAI2zC,EAAe/wD,KAAK2vD,WAAWvyC,GAAKa,MACpCg3C,EAAc,CAChBz2C,OAAQpB,EAAIhU,OAGV6U,EAAQ,cAAI,GAAI8yC,EAAckE,GAC9BrkD,EAAO5Q,KAAKg1D,QAAQ53C,GAMxB,OAJa,EAAS,CACpBxM,KAAMA,GACLqN,IAIL8rB,OAAQ,SAAgB3sB,EAAKhW,GAC3B,IAAI8rB,EAAQ9rB,EAAK6iC,eAEb8mB,EAAe/wD,KAAK2vD,WAAW,IAAI1xC,MACnCrN,EAAO5Q,KAAKg1D,QAAQ53C,GAEpB63C,EAAc,CAChBz2C,OAAQpB,EAAIhU,MACZwH,KAAMA,GAGJ+8B,EAAWvmC,EAAKnG,IAAI,YACpBgd,EAAQ,cAAI,GAAI8yC,EAAcpjB,EAASxC,OAAQ8pB,GACnDh3C,EAAQ,cAAIA,EAAOb,EAAIa,OACvBje,KAAKuwC,YAAYnzB,EAAKhW,EAAM6W,GAAO,GACnCje,KAAK2zD,iBAAiBv2C,EAAK8V,IAQ7BygC,iBAAkB,SAA0Bv2C,EAAK8V,GAC/C,IAAI9Z,EAAKpZ,KAAK2vD,WAAW,IACrBkE,EAAoBz6C,EAAGuF,WACvBm+E,EAAmB1jF,EAAG2c,UAEtBA,EAAY3Y,EAAI2Y,WAAa+mE,EAC7BhpC,EAAW5gC,EAAM5uB,MAAK,SAAUk2B,GAClC,MAAoC,oBAA7BA,EAAQv5B,IAAI,gBAEjB8yD,EAAY7gC,EAAM5uB,MAAK,SAAUk2B,GACnC,MAAoC,qBAA7BA,EAAQv5B,IAAI,gBAEjB+yD,EAAU9gC,EAAM5uB,MAAK,SAAUk2B,GACjC,MAAoC,mBAA7BA,EAAQv5B,IAAI,gBAEjBgzD,EAAa/gC,EAAM5uB,MAAK,SAAUk2B,GACpC,MAAoC,sBAA7BA,EAAQv5B,IAAI,gBAEjB2yD,EAAoBC,EACpBypC,EAAiBxpC,GAAYC,GAAaC,GAAWC,EAErDqpC,IACF1pC,EAAoB0pC,EAAenyD,QAGrC,IAAIxsB,EAAa,cAAI,GAAIi1C,EAAmBx2C,EAAIuB,YAC5Cu1C,EAAWv1C,EAAWT,KACtBi2C,EAAax1C,EAAWH,OACxB41C,EAAcz1C,EAAWJ,UACzB81C,EAAW11C,EAAWzO,KAAO,EAC5BmkD,IAAUA,EAAW11C,EAAWzd,GAErC,IAAImnC,EAAKjrB,EAAIuB,WAAavB,EAAIuB,WAAa,CACzCsX,UAAMhqB,EACNkqB,WAAOlqB,EACP+pB,SAAK/pB,EACLiqB,YAAQjqB,GAENgqB,EAAOoS,EAAGpS,KACVE,EAAQkS,EAAGlS,MACXH,EAAMqS,EAAGrS,IACTE,EAASmS,EAAGnS,OAGZzyB,EADOzD,KAAKuzD,QAAQn2C,GACT,GACX0wB,EAAS,CACX5sC,EAAGmzD,EACHn2C,KAAMg2C,EACN11C,OAAQ21C,EACR51C,UAAW61C,GAET6oC,EAAU,KACVC,EAAQz5F,EAAM4B,KAAKyS,IAAI,EAAI,EAAIzS,KAAK6F,IACpChK,EAAIuC,EAAM4B,KAAKyS,IAAI,EAAI,EAAIzS,KAAK6F,IAElB,OAAd6qB,EACFknE,EAAU,EAAE/7F,EAAGg8F,GACQ,SAAdnnE,EACTknE,EAAU,EAAE/7F,GAAIg8F,GACO,SAAdnnE,IACTknE,EAAU,EAAE/7F,EAAGA,EAAIg8F,IAGjBD,IACEnpC,EACG79B,QAAiBhqB,IAATgqB,EAGX69B,EAAS3oB,KAAK,EAAS,EAAS,GAAI2C,GAAS,CAC3C7rB,EAAGg7E,EAAQ,GACXroF,EAAGqoF,EAAQ,MAJbnpC,EAASttD,SAOFyvB,GACT/C,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI8pC,GAAS,CACpC7rB,EAAGg7E,EAAQ,GACXroF,EAAGqoF,EAAQ,KAEbzxD,UAAW,kBACX7qC,KAAM,kBACN2zD,eAAe,KAKrB,IAAI6oC,EAAW,KAEG,OAAdpnE,EACFonE,EAAW,CAACj8F,EAAGg8F,GACQ,SAAdnnE,EACTonE,EAAW,CAACj8F,GAAIg8F,GACO,UAAdnnE,IACTonE,EAAW,CAACj8F,EAAGA,EAAIg8F,IAGjBC,IACEppC,EACG59B,QAAmBlqB,IAAVkqB,EAGZ49B,EAAU5oB,KAAK,EAAS,EAAS,GAAI2C,GAAS,CAC5C7rB,EAAGk7E,EAAS,GACZvoF,EAAGuoF,EAAS,MAJdppC,EAAUvtD,SAOH2vB,GACTjD,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI8pC,GAAS,CACpC7rB,EAAGk7E,EAAS,GACZvoF,EAAGuoF,EAAS,KAEd3xD,UAAW,mBACX7qC,KAAM,mBACN2zD,eAAe,KAKrB,IAAI8oC,EAAS,KAEK,OAAdrnE,EACFqnE,EAAS,CAACl8F,EAAIg8F,GAAQA,GACC,SAAdnnE,EACTqnE,EAAS,CAACl8F,GAAIg8F,GACS,UAAdnnE,IACTqnE,EAAS,EAAEl8F,GAAIg8F,IAGbE,IACEppC,EACGh+B,QAAe/pB,IAAR+pB,EAIVg+B,EAAQ7oB,KAAK,EAAS,EAAS,GAAI2C,GAAS,CAC1C7rB,EAAGm7E,EAAO,GACVxoF,EAAGwoF,EAAO,MALZppC,EAAQxtD,SAQDwvB,GACT9C,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI8pC,GAAS,CACpC7rB,EAAGm7E,EAAO,GACVxoF,EAAGwoF,EAAO,KAEZ5xD,UAAW,iBACX7qC,KAAM,iBACN2zD,eAAe,KAKrB,IAAI+oC,EAAY,KAEE,SAAdtnE,EACFsnE,EAAY,EAAEn8F,EAAIg8F,EAAOA,GACF,SAAdnnE,EACTsnE,EAAY,CAACn8F,EAAGg8F,GACO,UAAdnnE,IACTsnE,EAAY,EAAEn8F,EAAGg8F,IAGfG,IACEppC,EACG/9B,QAAqBjqB,IAAXiqB,EAGb+9B,EAAW9oB,KAAK,EAAS,EAAS,GAAI2C,GAAS,CAC7C7rB,EAAGo7E,EAAU,GACbzoF,EAAGyoF,EAAU,MAJfppC,EAAWztD,SAOJ0vB,GACThD,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI8pC,GAAS,CACpC7rB,EAAGo7E,EAAU,GACbzoF,EAAGyoF,EAAU,KAEf7xD,UAAW,oBACX7qC,KAAM,oBACN2zD,eAAe,OAKtB,eClfH,YAAa,YAAa,CAExBvjD,QAAS,CACPb,KAAM,CAAC,IAAK,IACZ+N,MAAO,CACL3U,OAAQ,EACRkV,OAAQ,UACRN,KAAM,UACNK,UAAW,IAAOD,YAAYL,MAAMM,UACpCqD,YAAa,GAGfguC,SAAU,CACR3xC,MAAO,CACLC,KAAM,UACN9L,SAAU,IAEZiM,OAAQ,IAGV0xC,eAAgB,CACd9xC,MAAO,CACL7L,SAAU,GACV8L,KAAM,WAERq/E,WAAY,GAEdC,QAAS,CACPzsD,MAAM,EACNx+B,MAAO,EACP2L,KAAM,UACN5U,OAAQ,GAGVqV,WAAY,CACVqX,KAAK,EACLG,OAAO,EACPD,QAAQ,EACRD,MAAM,EAEN/lB,KAAM,GACNqO,UAAW,EACXL,KAAM,UACNM,OAAQ,WAGVi/E,SAAU,CAER1sD,MAAM,EACN9uB,EAAG,EACHrN,EAAG,EAEHkiD,IAAK,0FACLvkD,MAAO,GACPuO,OAAQ,GAERzC,OAAQ,GAGVq/E,UAAW,CAET3sD,MAAM,EACN9uB,EAAG,EACHrN,EAAG,EAEHkiD,IAAK,0FACLvkD,MAAO,GACPuO,OAAQ,GAERzC,QAAS,GAIXwhB,aAAc,CAAC,CAAC,EAAG,IAAM,CAAC,EAAG,MAE/B4M,UAAW,YACXT,UAAW,SAAmB5uB,EAAK8V,GACjC,IAAI9Z,EAAKpZ,KAAK2vD,WAAWvyC,GAAKogF,QAC1BA,OAAiB,IAAPpkF,EAAgB,GAAKA,EAC/B6E,EAAQje,KAAKgxD,cAAc5zC,GAC3BlN,EAAOlQ,KAAKuzD,QAAQn2C,GACpB7K,EAAQrC,EAAK,GACb4Q,EAAS5Q,EAAK,GACdy9B,EAAWza,EAAM2W,SAAS,OAAQ,CACpC7lC,MAAOia,EACPutB,UAAW,GAAGxmC,OAAOhF,KAAKmD,KAAM,aAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,aAC3BgtD,WAAW,IAGTwtC,EAAcH,EAAQzsD,KACtB6sD,EAAenqF,EAAO+pF,EAAS,CAAC,SAkBpC,OAhBIG,GACFzqE,EAAM2W,SAAS,OAAQ,CACrB7lC,MAAO,EAAS,CACdie,GAAI1P,EAAQ,EACZqC,GAAIkM,EAAS,EACbA,OAAQA,GACP88E,GACHpyD,UAAW,WACX7qC,KAAM,WACNwvD,WAAW,IAIfnwD,KAAK69F,aAAazgF,EAAK8V,GACvBlzB,KAAK89F,cAAc1gF,EAAK8V,GACxBlzB,KAAK28F,eAAev/E,EAAK8V,GAClBya,GAQTkwD,aAAc,SAAsBzgF,EAAK8V,GACvC,IAAI9Z,EAAKpZ,KAAK2vD,WAAWvyC,GAAKqgF,SAC1BA,OAAkB,IAAPrkF,EAAgB,GAAKA,EAEhC7G,EADOvS,KAAKuzD,QAAQn2C,GACP,GAEjB,GAAIqgF,EAAS1sD,KAAM,CACjB,IAAIhX,EAAI0jE,EAASlrF,MACbiF,EAAIimF,EAAS38E,OACbmB,EAAIw7E,EAASx7E,EACbrN,EAAI6oF,EAAS7oF,EACbyJ,EAASo/E,EAASp/E,OAClB1M,EAAO8rF,EAAS9rF,KAChBosF,EAAgBtqF,EAAOgqF,EAAU,CAAC,QAAS,SAAU,IAAK,IAAK,SAAU,SAEzE9rF,EACFuhB,EAAM2W,SAAS,OAAQ,CACrB7lC,MAAO,EAAS,CACdie,EAAG,EACHrN,EAAG,EACHxC,SAAU,GACV8L,KAAM,OACNM,OAAQ,OACRJ,aAAc,SACdD,UAAW,UACV4/E,GACHvyD,UAAW,iBACX7qC,KAAM,iBACNwvD,WAAW,IAGbj9B,EAAM2W,SAAS,QAAS,CACtB7lC,MAAO,EAAS,EAAS,GAAI+5F,GAAgB,CAC3C97E,EAAGA,IAAM1P,EAAQ,EAAIwnB,EAAI1b,EACzBzJ,EAAGA,IAAM4C,EAAI,EACbjF,MAAOwnB,EACPjZ,OAAQtJ,IAEVg0B,UAAW,iBACX7qC,KAAM,iBACNwvD,WAAW,MAWnB2tC,cAAe,SAAuB1gF,EAAK8V,GACzC,IAAI9Z,EAAKpZ,KAAK2vD,WAAWvyC,GAAKsgF,UAC1BA,OAAmB,IAAPtkF,EAAgB,GAAKA,EAEjC7G,EADOvS,KAAKuzD,QAAQn2C,GACP,GAEjB,GAAIsgF,EAAU3sD,KAAM,CAClB,IAAIhX,EAAI2jE,EAAUnrF,MACdiF,EAAIkmF,EAAU58E,OACdmB,EAAIy7E,EAAUz7E,EACdrN,EAAI8oF,EAAU9oF,EACdyJ,EAASq/E,EAAUr/E,OACnB1M,EAAO+rF,EAAU/rF,KACjBqsF,EAAYvqF,EAAOiqF,EAAW,CAAC,QAAS,SAAU,IAAK,IAAK,SAAU,SAEtE/rF,EACFuhB,EAAM2W,SAAS,OAAQ,CACrB7lC,MAAO,EAAS,CACdie,EAAG,EACHrN,EAAG,EACHxC,SAAU,GACV8L,KAAM,OACNM,OAAQ,OACRJ,aAAc,SACdD,UAAW,UACV6/E,GACHxyD,UAAW,kBACX7qC,KAAM,kBACNwvD,WAAW,IAGbj9B,EAAM2W,SAAS,QAAS,CACtB7lC,MAAO,EAAS,EAAS,GAAIg6F,GAAY,CACvC/7E,EAAGA,GAAK1P,EAAQ,EAAIwnB,EAAI1b,EACxBzJ,EAAGA,IAAM4C,EAAI,EACbjF,MAAOwnB,EACPjZ,OAAQtJ,IAEVg0B,UAAW,kBACX7qC,KAAM,kBACNwvD,WAAW,MAWnBwsC,eAAgB,SAAwBv/E,EAAK8V,GAC3C,IAAI9Z,EAAKpZ,KAAK2vD,WAAWvyC,GAAKuB,WAC1BA,OAAoB,IAAPvF,EAAgB,GAAKA,EAElC4c,EAAMrX,EAAWqX,IACjBC,EAAOtX,EAAWsX,KAClBE,EAAQxX,EAAWwX,MACnBD,EAASvX,EAAWuX,OACpBm+B,EAAW11C,EAAWzO,KACtB0sF,EAAQj+E,EAAWzd,EACnB27F,EAAYppF,EAAOkL,EAAY,CAAC,MAAO,OAAQ,QAAS,SAAU,OAAQ,MAE1EzO,EAAOlQ,KAAKuzD,QAAQn2C,GACpB7K,EAAQrC,EAAK,GACb4Q,EAAS5Q,EAAK,GAEd+lB,GAEF/C,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,GAAI1P,EAAQ,EACZqC,EAAG,EACH1T,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,kBACX7qC,KAAM,kBACN2zD,eAAe,IAIfn+B,GAEFjD,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,EAAG1P,EAAQ,EACXqC,EAAG,EACH1T,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,mBACX7qC,KAAM,mBACN2zD,eAAe,IAIft+B,GAEF9C,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,EAAG,EACHrN,GAAIkM,EAAS,EACb5f,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,iBACX7qC,KAAM,iBACN2zD,eAAe,IAIfp+B,GAEFhD,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,EAAG,EACHrN,EAAGkM,EAAS,EACZ5f,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,oBACX7qC,KAAM,oBACN2zD,eAAe,KAIrBtE,UAAW,SAAmB5yC,EAAK8V,GACjC,IAAI9Z,EAAKpZ,KAAK2vD,WAAWvyC,GACrBirB,EAAKjvB,EAAGw2C,SACRA,OAAkB,IAAPvnB,EAAgB,GAAKA,EAChCkC,EAAKnxB,EAAGqkF,SACRA,OAAkB,IAAPlzD,EAAgB,GAAKA,EAChCC,EAAKpxB,EAAG22C,eACRA,OAAwB,IAAPvlB,EAAgB,GAAKA,EAGtCj4B,EADOvS,KAAKuzD,QAAQn2C,GACP,GACbrI,EAAQ,KACRg8B,EAAO0sD,EAAS1sD,KAChBhX,EAAI0jE,EAASlrF,MACbijD,GAAWjjD,EAAQ,EAAIq9C,EAASvxC,OAEhC0yB,IACFykB,GAAWjjD,EAAQ,EAAIwnB,EAAI61B,EAASvxC,QAGtC,IAAItM,EAAY69C,EAAS3xC,MACrBggF,EAAmBluC,EAAe9xC,MAClCigF,EAAwBnuC,EAAewtC,WAoC3C,OAlCI,mBAASngF,EAAI+gF,cACfppF,EAAQme,EAAM2W,SAAS,OAAQ,CAC7B7lC,MAAO,EAAS,EAAS,GAAI+N,GAAY,CACvCkQ,EAAGuzC,EACH5gD,GAAI,EACJjD,KAAMyL,EAAIrI,QAEZy2B,UAAW,aACX7qC,KAAM,aACNwvD,WAAW,IAEbj9B,EAAM2W,SAAS,OAAQ,CACrB7lC,MAAO,EAAS,EAAS,GAAIi6F,GAAmB,CAC9Ch8E,EAAGuzC,EACH5gD,EAAG,IAAMspF,GAAyB,GAClCvsF,KAAMyL,EAAI+gF,cAEZ3yD,UAAW,mBACX7qC,KAAM,mBACNwvD,WAAW,KAGbp7C,EAAQme,EAAM2W,SAAS,OAAQ,CAC7B7lC,MAAO,EAAS,EAAS,GAAI+N,GAAY,CACvCkQ,EAAGuzC,EACH5gD,EAAG,EACHjD,KAAMyL,EAAIrI,QAEZy2B,UAAW,aACX7qC,KAAM,aACNwvD,WAAW,IAIRp7C,GAQTi8C,cAAe,SAAuB5zC,GACpC,IAAI2zC,EAAe/wD,KAAK2vD,WAAWvyC,GAAKa,MACpCg3C,EAAc,CAChBz2C,OAAQpB,EAAIhU,OAGV6U,EAAQ,cAAI,GAAI8yC,EAAckE,GAC9B/kD,EAAOlQ,KAAKuzD,QAAQn2C,GACpB7K,EAAQ0L,EAAM1L,OAASrC,EAAK,GAC5B4Q,EAAS7C,EAAM6C,QAAU5Q,EAAK,GASlC,OAPa,EAAS,CACpB+R,GAAI1P,EAAQ,EACZqC,GAAIkM,EAAS,EACbvO,MAAOA,EACPuO,OAAQA,GACP7C,IAIL8rB,OAAQ,SAAgB3sB,EAAKhW,GAC3B,IAAIgS,EAAKpZ,KAAK2vD,WAAWvyC,GACrBirB,EAAKjvB,EAAG6E,MACRA,OAAe,IAAPoqB,EAAgB,GAAKA,EAC7BkC,EAAKnxB,EAAGw2C,SACRA,OAAkB,IAAPrlB,EAAgB,GAAKA,EAChCC,EAAKpxB,EAAG22C,eACRA,OAAwB,IAAPvlB,EAAgB,GAAKA,EAEtCt6B,EAAOlQ,KAAKuzD,QAAQn2C,GACpB7K,EAAQrC,EAAK,GACb4Q,EAAS5Q,EAAK,GACH9I,EAAKnG,IAAI,YACfkqC,KAAK,EAAS,EAAS,GAAIltB,GAAQ,CAC1CgE,GAAI1P,EAAQ,EACZqC,GAAIkM,EAAS,EACbvO,MAAOA,EACPuO,OAAQA,KAEV,IAAIoS,EAAQ9rB,EAAK6iC,eACbm0D,EAAgBlrE,EAAM5uB,MAAK,SAAUk2B,GACvC,MAAoC,mBAA7BA,EAAQv5B,IAAI,gBAEjBo9F,EAAsBD,EAAgBA,EAAcjzD,OAAS,GAC7DsyD,EAAW,cAAI,GAAIY,EAAqBjhF,EAAIqgF,UAC5C1jE,EAAI0jE,EAASlrF,WAEPtG,IAAN8tB,IACFA,EAAI/5B,KAAK+Q,QAAQ0sF,SAASlrF,OAG5B,IAAIw+B,EAAO3zB,EAAIqgF,SAAWrgF,EAAIqgF,SAAS1sD,UAAO9kC,EAC1CoS,EAASuxC,EAASvxC,OAClBm3C,GAAWjjD,EAAQ,EAAIwnB,EAAI1b,EAE1B0yB,QAAiB9kC,IAAT8kC,IACXykB,GAAWjjD,EAAQ,EAAI8L,GAGzB,IAAItJ,EAAQme,EAAM5uB,MAAK,SAAUk2B,GAC/B,MAAoC,eAA7BA,EAAQv5B,IAAI,gBAEjBk9F,EAAcjrE,EAAM5uB,MAAK,SAAUk2B,GACrC,MAAoC,qBAA7BA,EAAQv5B,IAAI,gBAGrB,GAAImc,EAAIrI,MACN,GAAKA,EAWE,CACL,IAAIy8C,EAAWp0C,EAAIwyC,SAAWxyC,EAAIwyC,SAAS3xC,MAAQ,GAC/CgyC,EAAa,cAAI,GAAIl7C,EAAMo2B,OAAQqmB,GACnCp0C,EAAIrI,QAAOk7C,EAAWt+C,KAAOyL,EAAIrI,OACrCk7C,EAAWhuC,EAAIuzC,EACX,mBAASp4C,EAAI+gF,eAAcluC,EAAWr7C,GAAK,GAE3CupF,IACFA,EAAYn5D,cACZm5D,EAAYhzD,KAAK,CACflpB,EAAGuzC,KAIPzgD,EAAMiwB,cACNjwB,EAAMo2B,KAAK8kB,QAzBX/8B,EAAM2W,SAAS,OAAQ,CACrB7lC,MAAO,EAAS,EAAS,GAAI4rD,EAAS3xC,OAAQ,CAC5CgE,EAAGuzC,EACH5gD,EAAGwI,EAAI+gF,aAAe,EAAI,EAC1BxsF,KAAMyL,EAAIrI,QAEZy2B,UAAW,aACX7qC,KAAM,aACNwvD,WAAW,IAqBjB,GAAI,mBAAS/yC,EAAI+gF,aAAc,CAC7B,IAAIZ,EAAaxtC,EAAewtC,WAEhC,GAAKY,EAWE,CACD3sC,EAAWp0C,EAAI2yC,eAAiB3yC,EAAI2yC,eAAe9xC,MAAQ,GAA/D,IACIggF,EAAmB,cAAI,GAAIE,EAAYhzD,OAAQqmB,GAC/C,mBAASp0C,EAAI+gF,eAAcF,EAAiBtsF,KAAOyL,EAAI+gF,aAC3DF,EAAiBh8E,EAAIuzC,EACrB2oC,EAAYn5D,cACZm5D,EAAYhzD,KAAK,EAAS,EAAS,GAAI8yD,GAAmB,CACxDrpF,EAAG,IAAM2oF,GAAc,WAjBzBrqE,EAAM2W,SAAS,OAAQ,CACrB7lC,MAAO,EAAS,EAAS,GAAI+rD,EAAe9xC,OAAQ,CAClDgE,EAAGuzC,EACH5gD,EAAG,IAAM2oF,GAAc,GACvB5rF,KAAMyL,EAAI+gF,cAEZ3yD,UAAW,mBACX7qC,KAAM,mBACNwvD,WAAW,IAcjB,IAAImuC,EAAeprE,EAAM5uB,MAAK,SAAUk2B,GACtC,MAAoC,aAA7BA,EAAQv5B,IAAI,gBAGrB,GAAIq9F,EAAc,CAChB,IAAId,EAAU,cAAI,GAAIc,EAAanzD,OAAQ/tB,EAAIogF,SAC/Cc,EAAanzD,KAAK,EAAS,EAAS,GAAIqyD,GAAU,CAChDv7E,GAAI1P,EAAQ,EACZqC,GAAIkM,EAAS,EACbA,OAAQA,KAIZ,GAAIs9E,EACF,GAAKrtD,QAAiB9kC,IAAT8kC,EAEN,CACL,IAAIwtD,EAAQd,EAASlrF,MACjBiF,EAAIimF,EAAS38E,OACbmB,EAAIw7E,EAASx7E,EACbrN,EAAI6oF,EAAS7oF,EACb4pF,EAAaf,EAASp/E,OACtB0/E,EAAgBtqF,EAAOgqF,EAAU,CAAC,QAAS,SAAU,IAAK,IAAK,WAEnEW,EAAcjzD,KAAK,EAAS,EAAS,GAAI4yD,GAAgB,CACvD97E,EAAGA,IAAM1P,EAAQ,EAAIgsF,EAAQC,EAC7B5pF,EAAGA,IAAM4C,EAAI,EACbjF,MAAOgsF,EACPz9E,OAAQtJ,UAbV4mF,EAAc53F,cAgBPuqC,GACT/wC,KAAK69F,aAAazgF,EAAK8V,GAGzB,IAAIurE,EAAiBvrE,EAAM5uB,MAAK,SAAUk2B,GACxC,MAAoC,oBAA7BA,EAAQv5B,IAAI,gBAEjBy9F,EAAuBD,EAAiBA,EAAetzD,OAAS,GAChEuyD,EAAY,cAAI,GAAIgB,EAAsBthF,EAAIsgF,WAElD,GAAIe,EAAgB,CACbf,EAAU3sD,WAA2B9kC,IAAnByxF,EAAU3sD,MAC/B0tD,EAAej4F,SAGjB,IAAIm4F,EAASjB,EAAUnrF,MAInBqsF,GAHApnF,EAAIkmF,EAAU58E,OACdmB,EAAIy7E,EAAUz7E,EACdrN,EAAI8oF,EAAU9oF,EACA8oF,EAAUr/E,QACxBwgF,EAAiBprF,EAAOiqF,EAAW,CAAC,QAAS,SAAU,IAAK,IAAK,WAErEe,EAAetzD,KAAK,EAAS,EAAS,GAAI0zD,GAAiB,CACzD58E,EAAGA,GAAK1P,EAAQ,EAAIosF,EAASC,EAC7BhqF,EAAGA,IAAM4C,EAAI,EACbjF,MAAOosF,EACP79E,OAAQtJ,UAEDkmF,EAAU3sD,MACnB/wC,KAAK89F,cAAc1gF,EAAK8V,GAG1BlzB,KAAK2zD,iBAAiBv2C,EAAK8V,KAE5B,eChiBH,YAAa,OAAQ,CAEnBniB,QAAS,CACPb,KAAM,GACN+N,MAAO,CACLO,OAAQ,IAAOF,YAAYL,MAAMO,OACjCN,KAAM,IAAOI,YAAYL,MAAMC,KAC/BK,UAAW,IAAOD,YAAYL,MAAMM,WAEtCqxC,SAAU,CACR3xC,MAAO,CACLC,KAAM,IAAOF,UAAUC,MAAMC,KAC7B9L,SAAU,IAAO4L,UAAUC,MAAM7L,WAIrCuM,WAAY,CACVqX,KAAK,EACLG,OAAO,EACPD,QAAQ,EACRD,MAAM,EAEN/lB,KAAM,IAAOoO,YAAYK,WAAWzO,KACpCqO,UAAW,IAAOD,YAAYK,WAAWJ,UACzCL,KAAM,IAAOI,YAAYK,WAAWT,KACpCM,OAAQ,IAAOF,YAAYK,WAAWH,QAGxCi2C,KAAM,CAEJ1jB,MAAM,EAEN+lB,IAAK,qFACLvkD,MAAO,GACPuO,OAAQ,IAEV+sB,YAAa,EAAS,GAAI,IAAO/uB,kBAEnC2tB,UAAW,OAEX6mB,cAAe,SACftnB,UAAW,SAAmB5uB,EAAK8V,GACjC,IAAI9Z,EAAKpZ,KAAK2vD,WAAWvyC,GAAKq3C,KAC1BA,OAAc,IAAPr7C,EAAgB,GAAKA,EAC5B6E,EAAQje,KAAKgxD,cAAc5zC,GAC3BuwB,EAAWza,EAAM2W,SAAS,OAAQ,CACpC7lC,MAAOia,EACPutB,UAAW,GAAGxmC,OAAOhF,KAAKmD,KAAM,aAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,aAC3BgtD,WAAW,IAETp2B,EAAI06B,EAAKliD,MACTiF,EAAIi9C,EAAK3zC,OACTiwB,EAAO0jB,EAAK1jB,KACZp/B,EAAO8iD,EAAK9iD,KAgChB,OA9BIo/B,IACEp/B,EACFuhB,EAAM2W,SAAS,OAAQ,CACrB7lC,MAAO,EAAS,CACdie,EAAG,EACHrN,EAAG,EACHxC,SAAU,GACV8L,KAAM,OACNM,OAAQ,OACRJ,aAAc,SACdD,UAAW,UACVs2C,GACHjpB,UAAW,GAAGxmC,OAAOhF,KAAKmD,KAAM,SAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,SAC3BgtD,WAAW,IAGbj9B,EAAM2W,SAAS,QAAS,CACtB7lC,MAAO,EAAS,CACdie,GAAI8X,EAAI,EACRnlB,GAAI4C,EAAI,GACPi9C,GACHjpB,UAAW,GAAGxmC,OAAOhF,KAAKmD,KAAM,SAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,SAC3BgtD,WAAW,KAKjBnwD,KAAK28F,eAAev/E,EAAK8V,GAClBya,GAQTgvD,eAAgB,SAAwBv/E,EAAK8V,GAC3C,IAAI9Z,EAAKpZ,KAAK2vD,WAAWvyC,GAAKuB,WAC1BA,OAAoB,IAAPvF,EAAgB,GAAKA,EAElC4c,EAAMrX,EAAWqX,IACjBC,EAAOtX,EAAWsX,KAClBE,EAAQxX,EAAWwX,MACnB2oE,EAAangF,EAAWmgF,WACxBpkE,EAAc/b,EAAW+b,YACzB25B,EAAW11C,EAAWzO,KACtB0sF,EAAQj+E,EAAWzd,EACnB27F,EAAYppF,EAAOkL,EAAY,CAAC,MAAO,OAAQ,QAAS,aAAc,cAAe,OAAQ,MAG7FogF,EADO/+F,KAAKuzD,QAAQn2C,GACN,GAElB,GAAI+Y,EAAO,CAGT,IAAIT,EAAKrwB,KAAKwS,IAAI,GAAsBxS,KAAK6F,IAAM6zF,EAC/CppE,EAAKtwB,KAAKyS,IAAI,GAAsBzS,KAAK6F,IAAM6zF,EACnD7rE,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,EAAGyT,EACH9gB,GAAI+gB,EACJz0B,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,mBACX7qC,KAAM,qBAIV,GAAIq1B,EAAK,CAEHN,EAAKrwB,KAAKwS,IAAI,GAAsBxS,KAAK6F,IAAM6zF,EAC/CppE,EAAKtwB,KAAKyS,IAAI,GAAsBzS,KAAK6F,IAAM6zF,EAEnD7rE,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,EAAGyT,EACH9gB,GAAI+gB,EACJz0B,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,iBACX7qC,KAAM,mBAIV,GAAIs1B,EAAM,CAEJP,EAAKrwB,KAAKwS,IAAI,GAAsBxS,KAAK6F,IAAM6zF,EAC/CppE,EAAKtwB,KAAKyS,IAAI,GAAsBzS,KAAK6F,IAAM6zF,EAEnD7rE,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,EAAGyT,EACH9gB,GAAI+gB,EACJz0B,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,kBACX7qC,KAAM,oBAIV,GAAIm+F,EAAY,CAEVppE,EAAKrwB,KAAKwS,IAAI,IAAsBxS,KAAK6F,IAAM6zF,EAC/CppE,EAAKtwB,KAAKyS,IAAI,IAAsBzS,KAAK6F,IAAM6zF,EAEnD7rE,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,EAAGyT,EACH9gB,GAAI+gB,EACJz0B,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,yBACX7qC,KAAM,2BAIV,GAAI+5B,EAAa,CAEXhF,EAAKrwB,KAAKwS,IAAI,IAAsBxS,KAAK6F,IAAM6zF,EAC/CppE,EAAKtwB,KAAKyS,IAAI,IAAsBzS,KAAK6F,IAAM6zF,EAEnD7rE,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI64F,GAAY,CACvC56E,EAAGyT,EACH9gB,GAAI+gB,EACJz0B,EAAGmzD,EAAW,GAAKuoC,GAAS,IAE9BpxD,UAAW,0BACX7qC,KAAM,8BAIZq0D,QAAS,SAAiB53C,GAOxB,IANA,IACI2hF,EADO/+F,KAAKuzD,QAAQn2C,GACN,GACd4hF,EAAyB,EAATD,EAAa,EAC7BE,EAAS7hF,EAAI6hF,QAAUD,EACvBpuF,EAAO,GAEFxQ,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAIs1B,EAAKrwB,KAAKwS,KAAK,GAAK,GAAKzX,GAAK,IAAMiF,KAAK6F,IAAM6zF,EAC/CppE,EAAKtwB,KAAKyS,KAAK,GAAK,GAAK1X,GAAK,IAAMiF,KAAK6F,IAAM6zF,EAC/CnpE,EAAKvwB,KAAKwS,KAAK,GAAK,GAAKzX,GAAK,IAAMiF,KAAK6F,IAAM+zF,EAC/CppE,EAAKxwB,KAAKyS,KAAK,GAAK,GAAK1X,GAAK,IAAMiF,KAAK6F,IAAM+zF,EAEzC,IAAN7+F,EACFwQ,EAAK9N,KAAK,CAAC,IAAK4yB,GAAKC,IAErB/kB,EAAK9N,KAAK,CAAC,IAAK4yB,GAAKC,IAGvB/kB,EAAK9N,KAAK,CAAC,IAAK8yB,GAAKC,IAIvB,OADAjlB,EAAK9N,KAAK,CAAC,MACJ8N,GAQTogD,cAAe,SAAuB5zC,GACpC,IAAI2zC,EAAe/wD,KAAK2vD,WAAWvyC,GAAKa,MACpCg3C,EAAc,CAChBz2C,OAAQpB,EAAIhU,OAGV6U,EAAQ,cAAI,GAAI8yC,EAAckE,GAC9BrkD,EAAO5Q,KAAKg1D,QAAQ53C,GAMxB,OAJa,EAAS,CACpBxM,KAAMA,GACLqN,IAIL8rB,OAAQ,SAAgB3sB,EAAKhW,GAC3B,IAAI8rB,EAAQ9rB,EAAK6iC,eAEb8mB,EAAe/wD,KAAK2vD,WAAW,IAAI1xC,MACnCrN,EAAO5Q,KAAKg1D,QAAQ53C,GAEpB63C,EAAc,CAChBz2C,OAAQpB,EAAIhU,MACZwH,KAAMA,GAGJ+8B,EAAWvmC,EAAKnG,IAAI,YACpBgd,EAAQ,cAAI,GAAI8yC,EAAcpjB,EAASxC,OAAQ8pB,GACnDh3C,EAAQ,cAAIA,EAAOb,EAAIa,OACvBje,KAAKuwC,YAAYnzB,EAAKhW,EAAM6W,GAAO,GACnCje,KAAK2zD,iBAAiBv2C,EAAK8V,IAQ7BygC,iBAAkB,SAA0Bv2C,EAAK8V,GAC/C,IAAI2gC,EAAoB7zD,KAAK2vD,WAAW,IAAIhxC,WACxCm1C,EAAW5gC,EAAM5uB,MAAK,SAAUk2B,GAClC,MAAoC,oBAA7BA,EAAQv5B,IAAI,gBAEjB8yD,EAAY7gC,EAAM5uB,MAAK,SAAUk2B,GACnC,MAAoC,qBAA7BA,EAAQv5B,IAAI,gBAEjB+yD,EAAU9gC,EAAM5uB,MAAK,SAAUk2B,GACjC,MAAoC,mBAA7BA,EAAQv5B,IAAI,gBAEjBi+F,EAAiBhsE,EAAM5uB,MAAK,SAAUk2B,GACxC,MAAoC,2BAA7BA,EAAQv5B,IAAI,gBAEjBk+F,EAAkBjsE,EAAM5uB,MAAK,SAAUk2B,GACzC,MAAoC,4BAA7BA,EAAQv5B,IAAI,gBAEjB2yD,EAAoBC,EACpBypC,EAAiBxpC,GAAYC,GAAaC,GAAWkrC,GAAkBC,EAEvE7B,IACF1pC,EAAoB0pC,EAAenyD,QAGrC,IAAIxsB,EAAa,cAAI,GAAIi1C,EAAmBx2C,EAAIuB,YAC5Cu1C,EAAWv1C,EAAWT,KACtBi2C,EAAax1C,EAAWH,OACxB41C,EAAcz1C,EAAWJ,UACzB81C,EAAW11C,EAAWzO,KAAO,EAC5BmkD,IAAUA,EAAW11C,EAAWzd,GAErC,IAAIkY,EAAKgE,EAAIuB,WAAavB,EAAIuB,WAAa,CACzCsX,UAAMhqB,EACNkqB,WAAOlqB,EACP+pB,SAAK/pB,EACL6yF,gBAAY7yF,EACZyuB,iBAAazuB,GAEXgqB,EAAO7c,EAAG6c,KACVE,EAAQ/c,EAAG+c,MACXH,EAAM5c,EAAG4c,IACT8oE,EAAa1lF,EAAG0lF,WAChBpkE,EAActhB,EAAGshB,YAGjBqkE,EADO/+F,KAAKuzD,QAAQn2C,GACN,GACd0wB,EAAS,CACX5sC,EAAGmzD,EACHn2C,KAAMg2C,EACN11C,OAAQ21C,EACR51C,UAAW61C,GAETnyC,EAAI5c,KAAKwS,IAAI,GAAsBxS,KAAK6F,IAAM6zF,EAC9CnqF,EAAIvP,KAAKyS,IAAI,GAAsBzS,KAAK6F,IAAM6zF,EAE9ChrC,EACG59B,QAAmBlqB,IAAVkqB,EAGZ49B,EAAU5oB,KAAK,EAAS,EAAS,GAAI2C,GAAS,CAC5C7rB,EAAGA,EACHrN,GAAIA,KAJNm/C,EAAUvtD,SAOH2vB,GACTjD,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI8pC,GAAS,CACpC7rB,EAAGA,EACHrN,GAAIA,IAEN42B,UAAW,mBACX7qC,KAAM,mBACN2zD,eAAe,IAInBryC,EAAI5c,KAAKwS,IAAI,GAAsBxS,KAAK6F,IAAM6zF,EAC9CnqF,EAAIvP,KAAKyS,IAAI,GAAsBzS,KAAK6F,IAAM6zF,EAE1C/qC,EACGh+B,QAAe/pB,IAAR+pB,EAGVg+B,EAAQ7oB,KAAK,EAAS,EAAS,GAAI2C,GAAS,CAC1C7rB,EAAGA,EACHrN,GAAIA,KAJNo/C,EAAQxtD,SAODwvB,GACT9C,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI8pC,GAAS,CACpC7rB,EAAGA,EACHrN,GAAIA,IAEN42B,UAAW,iBACX7qC,KAAM,iBACN2zD,eAAe,IAInBryC,EAAI5c,KAAKwS,IAAI,GAAsBxS,KAAK6F,IAAM6zF,EAC9CnqF,EAAIvP,KAAKyS,IAAI,GAAsBzS,KAAK6F,IAAM6zF,EAE1CjrC,EACG79B,QAAiBhqB,IAATgqB,EAGX69B,EAAS3oB,KAAK,EAAS,EAAS,GAAI2C,GAAS,CAC3C7rB,EAAGA,EACHrN,GAAIA,KAJNk/C,EAASttD,SAOFyvB,GACT/C,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI8pC,GAAS,CACpC7rB,EAAGA,EACHrN,GAAIA,IAEN42B,UAAW,kBACX7qC,KAAM,kBACN2zD,eAAe,IAInBryC,EAAI5c,KAAKwS,IAAI,IAAsBxS,KAAK6F,IAAM6zF,EAC9CnqF,EAAIvP,KAAKyS,IAAI,IAAsBzS,KAAK6F,IAAM6zF,EAE1CG,EACGJ,QAA6B7yF,IAAf6yF,EAGjBI,EAAe/zD,KAAK,EAAS,EAAS,GAAI2C,GAAS,CACjD7rB,EAAGA,EACHrN,GAAIA,KAJNsqF,EAAe14F,SAORs4F,GACT5rE,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI8pC,GAAS,CACpC7rB,EAAGA,EACHrN,GAAIA,IAEN42B,UAAW,yBACX7qC,KAAM,yBACN2zD,eAAe,IAInBryC,EAAI5c,KAAKwS,IAAI,IAAsBxS,KAAK6F,IAAM6zF,EAC9CnqF,EAAIvP,KAAKyS,IAAI,IAAsBzS,KAAK6F,IAAM6zF,EAE1CI,EACGzkE,QAA+BzuB,IAAhByuB,EAGlBykE,EAAgBh0D,KAAK,EAAS,EAAS,GAAI2C,GAAS,CAClD7rB,EAAGA,EACHrN,GAAIA,KAJNsqF,EAAe14F,SAORk0B,GACTxH,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,EAAS,EAAS,GAAI8pC,GAAS,CACpC7rB,EAAGA,EACHrN,GAAIA,IAEN42B,UAAW,0BACX7qC,KAAM,0BACN2zD,eAAe,MAIpB,eChbH,IAAIkE,EAAuB,IAAKA,qBAEhC,YAAa,QAAS,CAEpBznD,QAAS,CACPb,KAAM,IAAOoO,YAAYpO,KACzB+N,MAAO,CACLgE,EAAG,EACHrN,EAAG,EACH4J,OAAQ,IAAOF,YAAYL,MAAMO,OACjCN,KAAM,IAAOI,YAAYL,MAAMC,KAC/BK,UAAW,IAAOD,YAAYL,MAAMM,WAEtCqxC,SAAU,CACR3xC,MAAO,CACLC,KAAM,IAAOF,UAAUC,MAAMC,KAC7B9L,SAAU,IAAO4L,UAAUC,MAAM7L,WAIrCuM,WAAY,CACVqX,KAAK,EACLG,OAAO,EACPD,QAAQ,EACRD,MAAM,EAEN/lB,KAAM,IAAOoO,YAAYK,WAAWzO,KACpCqO,UAAW,IAAOD,YAAYK,WAAWJ,UACzCL,KAAM,IAAOI,YAAYK,WAAWT,KACpCM,OAAQ,IAAOF,YAAYK,WAAWH,QAGxCi2C,KAAM,CAEJ1jB,MAAM,EAEN+lB,IAAK,qFACLvkD,MAAO,GACPuO,OAAQ,IAEV+sB,YAAa,EAAS,GAAI,IAAO/uB,kBAEnC2tB,UAAW,SAEX6mB,cAAe,SACftnB,UAAW,SAAmB5uB,EAAK8V,GACjC,IAAI9Z,EAAKpZ,KAAK2vD,WAAWvyC,GAAKq3C,KAC1BioC,OAAqB,IAAPtjF,EAAgB,GAAKA,EACnC6E,EAAQje,KAAKgxD,cAAc5zC,GAC3Bq3C,EAAO,kBAAQ,GAAIioC,EAAat/E,EAAIq3C,MACpC9mB,EAAWza,EAAM2W,SAAS,SAAU,CACtC7lC,MAAOia,EACPutB,UAAW,GAAGxmC,OAAOhF,KAAKmD,KAAM,aAChCgtD,WAAW,EACXxvD,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,eAEzBoP,EAAQkiD,EAAKliD,MACbuO,EAAS2zC,EAAK3zC,OACdiwB,EAAO0jB,EAAK1jB,KACZp/B,EAAO8iD,EAAK9iD,KAEZo/B,IACEp/B,EACFuhB,EAAM2W,SAAS,OAAQ,CACrB7lC,MAAO,EAAS,CACdie,EAAG,EACHrN,EAAG,EACHxC,SAAU,GACV8L,KAAM,OACNM,OAAQ,OACRJ,aAAc,SACdD,UAAW,UACVs2C,GACHjpB,UAAW,GAAGxmC,OAAOhF,KAAKmD,KAAM,SAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,SAC3BgtD,WAAW,IAGbj9B,EAAM2W,SAAS,QAAS,CACtB7lC,MAAO,EAAS,CACdie,GAAI1P,EAAQ,EACZqC,GAAIkM,EAAS,GACZ2zC,GACHjpB,UAAW,GAAGxmC,OAAOhF,KAAKmD,KAAM,SAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,SAC3BgtD,WAAW,KAKjB,IAAIivC,EAASzxD,EAASxC,KAAK,KACvB8zD,EAAS,GAAMG,EAEfC,GAAQD,EAASH,GAAU,EAE3B52D,EAAKjrB,EACLmtB,EAAKlC,EAAGi3D,WACRA,OAAoB,IAAP/0D,EAAgB,GAAKA,EAClCC,EAAKnC,EAAGk3D,cACRA,OAAuB,IAAP/0D,EAAgB,GAAKA,EACrCg1D,EAAU1+F,OAAO8C,KAAK07F,GAAYh9F,OAEtC,GAAIg9F,GAAcE,EAAU,EAAG,CAC7B,IAAIC,EAAU,GACVC,EAAe,EAYnB,GAXA5+F,OAAO8C,KAAK07F,GAAY7uF,SAAQ,SAAU9P,GACxC,IAAIU,EAAQi+F,EAAW3+F,IAAS,EAC3B,mBAASU,KACdo+F,EAAQ38F,KAAK,CACXnB,IAAKhB,EACLU,MAAOA,EACP+H,MAAOm2F,EAAc5+F,KAEvB++F,GAAgBr+F,MAGdq+F,EAAc,CAChB,IAAIC,EAAcP,EAASH,EAE3B,GAAgB,IAAZO,EAWF,YAVAtsE,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,CACL9C,EAAGm+F,EACHp9E,EAAG,EACHrN,EAAG,EACH4J,OAAQihF,EAAQ,GAAGr2F,OAASovD,EAAqB,GACjDj6C,UAAWohF,GAEbh/F,KAAM,gBAKV,IAAIi/F,EAAa,CAACP,EAAM,GACpBQ,EAAe,EACnBJ,EAAQhvF,SAAQ,SAAU06B,EAAM/qC,GAC9B,IAAI2iB,EAAUooB,EAAK9pC,MAAQq+F,EAC3B,KAAI38E,EAAU,MAGd,GAFIA,EAAU,OAAOA,EAAU,GAEf,IAAZA,EAAJ,CAcAooB,EAAKpoB,QAAUA,EACfooB,EAAK1Z,MAAQ1O,EAAU1d,KAAK6F,GAAK,EACjCigC,EAAK20D,WAAaD,EAClBA,GAAgB10D,EAAK1Z,MACrB0Z,EAAKk1B,SAAWw/B,EAChB10D,EAAK40D,SAAWH,EAChBz0D,EAAK60D,OAAS,CAACX,EAAOh6F,KAAKwS,IAAIszB,EAAKk1B,WAAYg/B,EAAOh6F,KAAKyS,IAAIqzB,EAAKk1B,WACrE,IAAI4/B,EAAQ90D,EAAK1Z,MAAQpsB,KAAK6F,GAAK,EAAI,EACnC0F,EAAO,CAAC,CAAC,IAAKu6B,EAAK40D,SAAS,GAAI50D,EAAK40D,SAAS,IAAK,CAAC,IAAKV,EAAMA,EAAM,EAAGY,EAAO,EAAG90D,EAAK60D,OAAO,GAAI70D,EAAK60D,OAAO,IAAK,CAAC,IAAK70D,EAAK60D,OAAO,GAAI70D,EAAK60D,OAAO,KACzJ9sE,EAAM2W,SAAS,OAAQ,CACrB7lC,MAAO,CACL4M,KAAMA,EACN2N,UAAWohF,EACXnhF,OAAQ2sB,EAAK/hC,OAASovD,EAAqBp4D,EAAIo4D,EAAqBl2D,SAEtE3B,KAAM,aAAaqE,OAAO5E,KAE5Bw/F,EAAaz0D,EAAK60D,YA9BhB9sE,EAAM2W,SAAS,SAAU,CACvB7lC,MAAO,CACL9C,EAAGm+F,EACHp9E,EAAG,EACHrN,EAAG,EACH4J,OAAQ2sB,EAAK/hC,OAASovD,EAAqBp4D,EAAIo4D,EAAqBl2D,QACpEic,UAAWohF,GAEbh/F,KAAM,aAAaqE,OAAO5E,SA4BpC,OADAJ,KAAK28F,eAAev/E,EAAK8V,GAClBya,GAET5D,YAAQ99B,GACP,UCvLI,IAAIi0F,EAAmB,SAA0BrvE,GACtD,IAAI5O,EAAI4O,EAAM5O,EACVrN,EAAIic,EAAMjc,EACd,MAAO,CACLqN,EAAGA,EACHrN,EAAGA,EACHwiB,QAASnV,EACToV,QAASziB,EACT4e,KAAMvR,EACNwR,KAAM7e,EACN4f,KAAMvS,EACNwS,KAAM7f,EACNkM,OAAQ,EACRvO,MAAO,IAgCA4tF,EAAsB,SAA6BrvE,GAM5D,IAJA,IAAIluB,EAAS,GACTw9F,EAAY,GAGPhgG,EAFU0wB,EAAOxuB,OAEE,EAAGlC,GAAK,EAAGA,IAAK,CAC1C,IAAI8B,EAAI4uB,EAAO1wB,GACf8B,EAAEksB,GAAK,GAAGppB,OAAO9C,EAAE+f,EAAG,OAAOjd,OAAO9C,EAAE0S,GACtCwrF,EAAUl+F,EAAEksB,IAAMlsB,EAClBU,EAAOE,KAAKZ,GAGd,OAAOU,GAEEy9F,EAAmB,SAA0BvvE,GACtD,OAAOqvE,EAAoBrvE,IAQlBwvE,EAAkB,SAAyBhtE,EAAMjV,GAC1D,OAAIiV,EAAK/gB,OAAS+gB,EAAKxS,OACd,CACLsW,QAAS9D,EAAK8D,QACdC,QAAS/D,EAAK+D,QACd7D,KAAMF,EAAKE,KAAOnV,EAClBoV,KAAMH,EAAKG,KAAOpV,EAClBmW,KAAMlB,EAAKkB,KAAOnW,EAClBoW,KAAMnB,EAAKmB,KAAOpW,EAClByC,OAAQwS,EAAKxS,OAAS,EAAIzC,EAC1B9L,MAAO+gB,EAAK/gB,MAAQ,EAAI8L,GAKrBiV,GAQEitE,EAAuB,SAA8BjtE,EAChEzC,EACA2vE,GACE,IAAIC,EATwB,SAA0BC,EAAMptE,GAC5D,IAAIlC,EAAK/rB,KAAKqF,IAAIg2F,EAAKz+E,EAAIqR,EAAK8D,SAC5B/F,EAAKhsB,KAAKqF,IAAIg2F,EAAK9rF,EAAI0e,EAAK+D,SAChC,OAAW,IAAPjG,GAAmB,IAAPC,EAAiB,EAC1BD,EAAKkC,EAAK/gB,MAAQ8e,EAAKiC,EAAKxS,OAKhB6/E,CAAiB9vE,EAAOyC,GAE3C,GAAqB,IAAjBmtE,EAAoB,CAEtB,IAAIx+E,EAAIqR,EAAK8D,QACTxiB,EAAI0e,EAAK+D,QAgBb,OAdImpE,EAAa5rF,EAAIic,EAAMjc,EAEzBA,EAAI0e,EAAKG,KACA+sE,EAAav+E,EAAI4O,EAAM5O,EAEhCA,EAAIqR,EAAKkB,KACAgsE,EAAav+E,EAAI4O,EAAM5O,EAEhCA,EAAIqR,EAAKE,KACAgtE,EAAav+E,IAAM4O,EAAM5O,IAElCrN,EAAI0e,EAAKmB,MAGJ,CACLxS,EAAGA,EACHrN,EAAGA,GAIP,OAAI6rF,EACK,CACLx+E,EAAG4O,EAAM5O,EAAIqR,EAAK8D,QAAU9D,EAAKkB,KAAOlB,EAAKE,KAC7C5e,EAAGic,EAAMjc,GAIN,CACLqN,EAAG4O,EAAM5O,EACTrN,EAAGic,EAAMjc,EAAI0e,EAAK+D,QAAU/D,EAAKmB,KAAOnB,EAAKG,OAStCmtE,EAAY,SAAmB9U,EAAIC,GAC5C,IAAIv4D,EAAOnuB,KAAKE,IAAIumF,EAAGt4D,KAAMu4D,EAAGv4D,MAC5BC,EAAOpuB,KAAKE,IAAIumF,EAAGr4D,KAAMs4D,EAAGt4D,MAC5Be,EAAOnvB,KAAKC,IAAIwmF,EAAGt3D,KAAMu3D,EAAGv3D,MAC5BC,EAAOpvB,KAAKC,IAAIwmF,EAAGr3D,KAAMs3D,EAAGt3D,MAChC,MAAO,CACL2C,SAAU5D,EAAOgB,GAAQ,EACzB6C,SAAU5D,EAAOgB,GAAQ,EACzBjB,KAAMA,EACNC,KAAMA,EACNe,KAAMA,EACNC,KAAMA,EACN3T,OAAQ2T,EAAOhB,EACflhB,MAAOiiB,EAAOhB,IAGPqtE,EAAoB,SAA2BvtE,GAGxD,MAAO,CAAC,CACNrR,EAAGqR,EAAKE,KACR5e,EAAG0e,EAAKG,MACP,CACDxR,EAAGqR,EAAKkB,KACR5f,EAAG0e,EAAKG,MACP,CACDxR,EAAGqR,EAAKkB,KACR5f,EAAG0e,EAAKmB,MACP,CACDxS,EAAGqR,EAAKE,KACR5e,EAAG0e,EAAKmB,QAGDqsE,EAAqB,SAA4BjwE,EAAOyC,GACjE,IAAIrR,EAAI4O,EAAM5O,EACVrN,EAAIic,EAAMjc,EACd,OAAOqN,EAAIqR,EAAKE,MAAQvR,EAAIqR,EAAKkB,MAAQ5f,EAAI0e,EAAKG,MAAQ7e,EAAI0e,EAAKmB,MAmC1D1H,EAAW,SAAkBoD,EAAIC,GAC1C,OAAO/qB,KAAKqF,IAAIylB,EAAGlO,EAAImO,EAAGnO,GAAK5c,KAAKqF,IAAIylB,EAAGvb,EAAIwb,EAAGxb,IA4BzCmsF,EAAwB,SAA+B7+F,EAAG8+F,EAAIhS,EAAIhhE,EAAQC,GACnF,OAAOlB,EAAS7qB,EAAG8+F,GAAMj0E,EAAS7qB,EAAG8sF,GArBZ,SAAuB9sF,EAAG4uB,GACnD,IACIluB,EAAS,EAYb,OAXAkuB,EAAOrgB,SAAQ,SAAUogB,GACnBA,IACE3uB,EAAE+f,IAAM4O,EAAM5O,IAChBrf,IALO,GAQLV,EAAE0S,IAAMic,EAAMjc,IAChBhS,IATO,OAaNA,EAOoCq+F,CAAc/+F,EAAG,CAAC8+F,EAAIhS,EAAIhhE,EAAQC,KAEpEizE,EAAkB,SAASA,EAAgBC,EAAYC,EAAWC,EAAUC,EAAWlsF,QAC/E,IAAbA,IACFA,EAAW,GAGb+rF,EAAWj0E,QAAQk0E,EAAUE,IAEzBD,EAASC,IAAcD,EAASC,KAAeA,GAAalsF,GAAY,KAC1E8rF,EAAgBC,EAAYC,EAAWC,EAAUA,EAASC,GAAYlsF,EAAW,IAc1EmsF,EAAwB,SAA+BrxE,EAAIC,EAAIC,EAAIC,GAC5E,IAAImxE,EAAMpxE,EAAGnO,EAAIiO,EAAGjO,EAChBw/E,EAAMrxE,EAAGxb,EAAIsb,EAAGtb,EAChB8sF,EAAMrxE,EAAGpO,EAAIiO,EAAGjO,EAChB0/E,EAAMtxE,EAAGzb,EAAIsb,EAAGtb,EAChBgtF,EAAMxxE,EAAGnO,EAAIkO,EAAGlO,EAChB4/E,EAAMzxE,EAAGxb,EAAIub,EAAGvb,EAChBktF,EAAMzxE,EAAGpO,EAAIkO,EAAGlO,EAChB8/E,EAAM1xE,EAAGzb,EAAIub,EAAGvb,EAKpB,OAJU4sF,EAAMG,EAAMF,EAAMC,IAClBE,EAAMG,EAAMF,EAAMC,IAGR,IAFVN,EAAMK,EAAMJ,EAAMG,IAClBF,EAAMK,EAAMJ,EAAMG,IACU,GAE7BE,EAAwB,SAA+B7xE,EAAIC,EAAIkD,GACxE,GAAIA,EAAK/gB,OAAS+gB,EAAKxS,OAAQ,CAC7B,IAAI1H,EAAKynF,EAAkBvtE,GACvB0K,EAAK5kB,EAAG,GACR6oF,EAAK7oF,EAAG,GACR8oF,EAAK9oF,EAAG,GACR+oF,EAAK/oF,EAAG,GAEZ,OAAOmoF,EAAsBpxE,EAAIC,EAAI4N,EAAIikE,IAAOV,EAAsBpxE,EAAIC,EAAI4N,EAAImkE,IAAOZ,EAAsBpxE,EAAIC,EAAI6xE,EAAIC,IAAOX,EAAsBpxE,EAAIC,EAAI8xE,EAAIC,GAGtK,OAAO,GAMEC,EAAoB,SAA2BtxE,EAAQD,EAAOqE,EAAOC,GAC9E,IAAIuvC,EAAY,GAShB,OARA5zC,EAAOrgB,SAAQ,SAAUvO,GACvB,GAAIA,IAAM2uB,IAEN3uB,EAAE+f,IAAM4O,EAAM5O,GAAK/f,EAAE0S,IAAMic,EAAMjc,GAAG,CACtC,GAAIotF,EAAsB9/F,EAAG2uB,EAAOqE,IAAU8sE,EAAsB9/F,EAAG2uB,EAAOsE,GAAQ,OACtFuvC,EAAU5hE,KAAKZ,OAGZi+F,EAAoBz7B,IAwFlB29B,EAAoC,SAA2CvxE,EAAQwxE,GAChG,IAAIC,EAAe,GACfpnE,EAAarK,EAAO,GAsBxB,OArBAyxE,EAAaz/F,KAAK,IAAIkC,OAAOm2B,EAAWlZ,EAAG,KAAKjd,OAAOm2B,EAAWvmB,IAClEkc,EAAOrgB,SAAQ,SAAUvO,EAAG9B,GAC1B,IAAI+vB,EAAKW,EAAO1wB,EAAI,GAChBgwB,EAAKU,EAAO1wB,EAAI,GAEpB,GAAI+vB,GAAMC,EACR,GAlCiB,SAAmBF,EAAIC,EAAIC,GAChD,QAASF,EAAGjO,IAAMkO,EAAGlO,GAAKkO,EAAGlO,IAAMmO,EAAGnO,GAAKiO,EAAGtb,IAAMub,EAAGvb,GAAKub,EAAGvb,IAAMwb,EAAGxb,GAiChE4tF,CAAUtgG,EAAGiuB,EAAIC,GAAK,CACxB,IAAIhX,EAhCuB,SAA+B8W,EAAIC,EAAIC,EAAIlvB,GAC5E,IAAIo8D,EAAKvwC,EAASmD,EAAIC,GAClBotC,EAAKxwC,EAASqD,EAAID,GAkBtB,OAhBImtC,EAAKp8D,IACPA,EAAIo8D,GAGFC,EAAKr8D,IACPA,EAAIq8D,GAWC,CARE,CACPt7C,EAAGkO,EAAGlO,EAAI/gB,EAAIo8D,GAAMntC,EAAGlO,EAAIiO,EAAGjO,GAC9BrN,EAAGub,EAAGvb,EAAI1T,EAAIo8D,GAAMntC,EAAGvb,EAAIsb,EAAGtb,IAEvB,CACPqN,EAAGkO,EAAGlO,EAAI/gB,EAAIq8D,GAAMptC,EAAGlO,EAAImO,EAAGnO,GAC9BrN,EAAGub,EAAGvb,EAAI1T,EAAIq8D,GAAMptC,EAAGvb,EAAIwb,EAAGxb,KAcjB6tF,CAAsBvgG,EAAGiuB,EAAIC,EAAIkyE,GACtCtB,EAAK5nF,EAAG,GACR41E,EAAK51E,EAAG,GAEZmpF,EAAaz/F,KAAK,IAAIkC,OAAOg8F,EAAG/+E,EAAG,KAAKjd,OAAOg8F,EAAGpsF,IAClD2tF,EAAaz/F,KAAK,IAAIkC,OAAOmrB,EAAGlO,EAAG,KAAKjd,OAAOmrB,EAAGvb,EAAG,KAAK5P,OAAOgqF,EAAG/sE,EAAG,KAAKjd,OAAOgqF,EAAGp6E,IACtF2tF,EAAaz/F,KAAK,IAAIkC,OAAOgqF,EAAG/sE,EAAG,KAAKjd,OAAOgqF,EAAGp6E,SAElD2tF,EAAaz/F,KAAK,IAAIkC,OAAOmrB,EAAGlO,EAAG,KAAKjd,OAAOmrB,EAAGvb,SAE3Cub,GACToyE,EAAaz/F,KAAK,IAAIkC,OAAOmrB,EAAGlO,EAAG,KAAKjd,OAAOmrB,EAAGvb,OAG/C2tF,EAAalwF,KAAK,KAEhBqwF,EAAoB,SAA2BnoC,EAAO+O,EAAKq5B,EAAOC,EAAOvkF,GAClF,IAAIwkF,EAAOC,EAEX,GAAKH,GAAUA,EAAMt2F,UAEd,GAAwB,UAApBs2F,EAAMt2F,UAAuB,EAEtCw2F,EADoBF,EAAM3nE,cACJzH,iBAAmB2sE,EAAiB3lC,IACpDnjC,SAAWyrE,EAAMrvE,KAAOqvE,EAAMruE,MAAQ,EAC5CquE,EAAMxrE,SAAWwrE,EAAMpvE,KAAOovE,EAAMpuE,MAAQ,OAE5CouE,EAAQF,EAAM/tE,eAPdiuE,EAAQ3C,EAAiB3lC,GAU3B,GAAKqoC,GAAUA,EAAMv2F,UAEd,GAAwB,UAApBu2F,EAAMv2F,UAAuB,CACtC,IAAI02F,EAAgBH,EAAM5nE,cAAcpG,UAExC,GAAImuE,EAAe,CACjB,IAAI3pF,EAAKwpF,EAAM1yD,WACX8yD,EAAK5pF,EAAG6I,EACRghF,EAAK7pF,EAAGxE,GAEZkuF,EAAQ,CACN7gF,EAAG+gF,EACHpuF,EAAGquF,EACH1wF,MAAOwwF,EAAcxwF,MACrBuO,OAAQiiF,EAAcjiF,OACtB0S,KAAMuvE,EAAcvvE,KAAOwvE,EAC3BxuE,KAAMuuE,EAAcvuE,KAAOwuE,EAC3BvvE,KAAMsvE,EAActvE,KAAOwvE,EAC3BxuE,KAAMsuE,EAActuE,KAAOwuE,IAEvB7rE,SAAW0rE,EAAMtvE,KAAOsvE,EAAMtuE,MAAQ,EAC5CsuE,EAAMzrE,SAAWyrE,EAAMrvE,KAAOqvE,EAAMruE,MAAQ,OAE5CquE,EAAQ5C,EAAiB52B,QAG3Bw5B,EAAQF,GAASA,EAAMhuE,eAzBvBkuE,EAAQ5C,EAAiB52B,GAgC3B,IAAI45B,EAAS5C,EAAgBuC,EAAOxkF,GAChC8kF,EAAS7C,EAAgBwC,EAAOzkF,GAKhC+kF,EAAS7C,EAAqB2C,EAAQ3oC,EAAO+O,GAC7C+5B,EAAS9C,EAAqB4C,EAAQ75B,EAAK/O,GAC3C+oC,EA5cyB,SAA2BxyE,QACzC,IAAXA,IACFA,EAAS,IAGX,IAAIyyE,EAAK,GACLC,EAAK,GACT1yE,EAAOrgB,SAAQ,SAAUvO,GACvBqhG,EAAGzgG,KAAKZ,EAAE+f,GACVuhF,EAAG1gG,KAAKZ,EAAE0S,MAEZ,IAAI4e,EAAOnuB,KAAKE,IAAIkC,MAAMpC,KAAMk+F,GAC5B/uE,EAAOnvB,KAAKC,IAAImC,MAAMpC,KAAMk+F,GAC5B9vE,EAAOpuB,KAAKE,IAAIkC,MAAMpC,KAAMm+F,GAC5B/uE,EAAOpvB,KAAKC,IAAImC,MAAMpC,KAAMm+F,GAChC,MAAO,CACLpsE,SAAU5D,EAAOgB,GAAQ,EACzB6C,SAAU5D,EAAOgB,GAAQ,EACzBD,KAAMA,EACNC,KAAMA,EACNjB,KAAMA,EACNC,KAAMA,EACN3S,OAAQ2T,EAAOhB,EACflhB,MAAOiiB,EAAOhB,GAqbDiwE,CAAkB,CAACL,EAAQC,IACtCK,EAAW9C,EAAUsC,EAAQI,GAC7BK,EAAW/C,EAAUuC,EAAQG,GAC7BM,EAAgB,GACpBA,EAAgBA,EAAc5+F,OAAO67F,EAAkB6C,IAAW1+F,OAAO67F,EAAkB8C,IAC3F,IAAIE,EAAc,CAChB5hF,GAAIs4C,EAAMt4C,EAAIqnD,EAAIrnD,GAAK,EACvBrN,GAAI2lD,EAAM3lD,EAAI00D,EAAI10D,GAAK,GAEzB,CAAC0uF,EAAUI,EAAUC,GAAUlzF,SAAQ,SAAU6iB,GAC/CswE,EAAgBA,EAAc5+F,OA1RK,SAAmCsuB,EAAMzC,GAC9E,OA3B+B,SAA6ByC,EAAMrR,GAClE,OAAIA,EAAIqR,EAAKE,MAAQvR,EAAIqR,EAAKkB,KACrB,GAGF,CAAC,CACNvS,EAAGA,EACHrN,EAAG0e,EAAKG,MACP,CACDxR,EAAGA,EACHrN,EAAG0e,EAAKmB,OAiBHqvE,CAAoBxwE,EAAMzC,EAAM5O,GAAGjd,OAdX,SAA6BsuB,EAAM1e,GAClE,OAAIA,EAAI0e,EAAKG,MAAQ7e,EAAI0e,EAAKmB,KACrB,GAGF,CAAC,CACNxS,EAAGqR,EAAKE,KACR5e,EAAGA,GACF,CACDqN,EAAGqR,EAAKkB,KACR5f,EAAGA,IAI4CmvF,CAAoBzwE,EAAMzC,EAAMjc,IAyR1CovF,CAA0B1wE,EAAMuwE,GAAanhG,QAAO,SAAUR,GACjG,OAAO4+F,EAAmB5+F,EAAGghG,IAAWpC,EAAmB5+F,EAAGihG,UAGlE,CAAC,CACClhF,EAAGmhF,EAAOnhF,EACVrN,EAAGyuF,EAAOzuF,GACT,CACDqN,EAAGohF,EAAOphF,EACVrN,EAAGwuF,EAAOxuF,IACTnE,SAAQ,SAAUvO,GAEf4+F,EAAmB5+F,EAAGghG,IAAWpC,EAAmB5+F,EAAGihG,IAGzDS,EAAc9gG,KAAKZ,MAGvB0hG,EAAc12E,QAAQk2E,GACtBQ,EAAc9gG,KAAKugG,GAInB,IAAIlC,EAxMkB,SAAoBrwE,EAAQypC,EAAO0pC,EAAMpB,EAAOC,EAAO7qF,EAAI62E,GAEjF,IAAIoV,EAAY,GACZC,EAAU,CAAC5pC,GACX8mC,EAAW,GACX+C,EAAS,GAETC,EAAS,GAEbD,EAAO7pC,EAAMnsC,IAAM,EACnBi2E,EAAO9pC,EAAMnsC,IAAM2yE,EAAsBxmC,EAAO0pC,EAAM1pC,GACtD,IAII34B,EAAS0iE,EAlE6B9hG,EAAK4E,EAC3CvE,EA6DAu+F,EAAY,GAMhB,IALAtwE,EAAOrgB,SAAQ,SAAUvO,GACvBk/F,EAAUl/F,EAAEksB,IAAMlsB,KAIbiiG,EAAQ7hG,QAAQ,CAWrB,GAVAs/B,OAAU31B,EACVq4F,EAAex5F,IAEfq5F,EAAQ1zF,SAAQ,SAAUvO,GACpBmiG,EAAOniG,EAAEksB,KAAOk2E,IAClBA,EAAeD,EAAOniG,EAAEksB,IACxBwT,EAAU1/B,MAIV0/B,IAAYqiE,EAAM,CAEpB,IAAI9C,EAAa,GAEjB,OADAD,EAAgBC,EAAYC,EAAWC,EAAU4C,EAAK71E,IAC/C+yE,EAnFoC/5F,EAsFzBw6B,EArFlB/+B,aADsCL,EAsF7B2hG,GArFG1hG,QAAQ2E,KAEX,GACX5E,EAAIwD,OAAOnD,EAAO,GAmFlBqhG,EAAUphG,KAAK8+B,GACfwgE,EAAkBtxE,EAAQ8Q,EAASihE,EAAOC,GAAOryF,SAAQ,SAAUu0D,GACjE,IAAqC,IAAjCk/B,EAAUzhG,QAAQuiE,GAAtB,EAImC,IAA/Bm/B,EAAQ1hG,QAAQuiE,IAClBm/B,EAAQrhG,KAAKkiE,GAGf,IAAIu/B,EAAkBF,EAAOziE,EAAQxT,IAAMrB,EAAS6U,EAASojC,GAEzDo/B,EAAOp/B,EAAS52C,KAAOm2E,GAAmBH,EAAOp/B,EAAS52C,MAI9DizE,EAASr8B,EAAS52C,IAAMwT,EAAQxT,GAChCg2E,EAAOp/B,EAAS52C,IAAMm2E,EACtBF,EAAOr/B,EAAS52C,IAAMg2E,EAAOp/B,EAAS52C,IAAM2yE,EAAsB/7B,EAAUi/B,EAAM1pC,EAAOtiD,EAAI62E,QAKjG,MAAO,CAACv0B,EAAO0pC,GA6IE,CAFjBL,EAAgBzD,EAAoByD,GAEOR,EAAQC,EAAQR,EAAOC,EAAOvoC,EAAO+O,GAGhF,OAFA63B,EAAWj0E,QAAQqtC,GACnB4mC,EAAWr+F,KAAKwmE,GACT+2B,EAAiBc,ICpetB1zD,EAAa,CACfpvB,OAAQ,GACRmmF,0BAA2Bn/F,KAAK6F,GAAK,EACrCu5F,aAAc,IACdC,SAAU,GACV7tE,WAAY,CAAC,CACX8tE,MAAO,EACPC,MAAO,GACN,CACDD,OAAQ,EACRC,MAAO,GACN,CACDD,MAAO,EACPC,MAAO,GACN,CACDD,MAAO,EACPC,OAAQ,IAIV,gBACE,MAAO,CACLC,EAAG,EACHC,GAAI9kG,KAAK0kG,SAAW,EACpBK,GAAI/kG,KAAK0kG,SAAW,IAIxBM,SA9CkB,SAAuB70E,EAAIC,GAC7C,OAAO/qB,KAAKqF,IAAIylB,EAAGlO,EAAImO,EAAGnO,GAAK5c,KAAKqF,IAAIylB,EAAGvb,EAAIwb,EAAGxb,IA8ClDqwF,cAlCmB,SAAwB1qC,EAAO+O,EAAKhC,EAAW49B,EAAS9nF,GAC3E,OAAOijF,EAAiBqC,EAAkBnoC,EAAO+O,EAAKhC,EAAW49B,EAAS9nF,EAAIiB,WAmE5E4iC,GA/ByB57C,KAAK6F,GA+BjB,SAAoBi6F,EAAKT,GACxC,IAAIxjD,EAAS77C,KAAKyE,MAAMzE,KAAKqF,IAAIy6F,EAAMT,IAEvC,OAAOxjD,EAAS,EAAI,GADTikD,EAAM,GAAK,EAAI,GACKjkD,IAyB7BkkD,EAAoB,SAA2Bj1E,EAAIC,GACrD,IAAIu+D,EAASv+D,EAAGnO,EAAIkO,EAAGlO,EACnB2sE,EAASx+D,EAAGxb,EAAIub,EAAGvb,EAEvB,OAAI+5E,GAAUC,EACLvpF,KAAKsS,MAAMi3E,EAAQD,GAGrB,GASL0W,EAAe,SAAsBC,EAAQC,GAC/C,IAAIC,EAAkBngG,KAAKqF,IAAI46F,EAASC,GACxC,OAAOC,EAAkBngG,KAAK6F,GAAK,EAAI7F,KAAK6F,GAAKs6F,EAAkBA,GAIjEC,EAAe,SAAsB7vF,EAAM8vF,EAAWV,GAGxD,IAFA,IAAIz/F,EAAMuF,IAED1K,EAAI,EAAGqD,EAAMiiG,EAAUpjG,OAAQlC,EAAIqD,EAAKrD,IAAK,CACpD,IAAIulG,EAAOX,EAASpvF,EAAM8vF,EAAUtlG,IAEhCulG,EAAOpgG,IACTA,EAAMogG,GAIV,OAAOpgG,GAIL,EAAe,SAAsBsrB,EACzC+0E,EACA9yE,EACA0tE,EACApjF,GACE,IAAI0T,EAAS,GAEb,IAAKgC,EACH,MAAO,CAACjC,GAGV,IAAIgG,EAAazZ,EAAIyZ,WACjBxY,EAASjB,EAAIiB,OACbiV,EAAOR,EAAK8B,UACZixE,EAAWD,EAAS3jF,EAAIqR,EAAKE,MAAQoyE,EAAS3jF,EAAIqR,EAAKkB,MAAQoxE,EAAShxF,EAAI0e,EAAKG,MAAQmyE,EAAShxF,EAAI0e,EAAKmB,KAC3GqxE,EAAaxF,EAAgBhtE,EAAMjV,GAEvC,IAAK,IAAIje,KAAK0lG,EACZA,EAAW1lG,GAAK6gD,EAAW6kD,EAAW1lG,GAAIgd,EAAIsnF,UAGhD,GAAImB,EAAU,CAEZ,IAAK,IAAIvuE,EAAK,EAAGyuE,EAAelvE,EAAYS,EAAKyuE,EAAazjG,OAAQg1B,IACpE,KAAI3a,EAAMopF,EAAazuE,GACnB0uE,EAAS,CAAC,CAAC,CACb/jF,EAAG6jF,EAAWtyE,KACd5e,EAAGkxF,EAAWryE,MACb,CACDxR,EAAG6jF,EAAWtxE,KACd5f,EAAGkxF,EAAWryE,OACZ,CAAC,CACHxR,EAAG6jF,EAAWtyE,KACd5e,EAAGkxF,EAAWryE,MACb,CACDxR,EAAG6jF,EAAWtyE,KACd5e,EAAGkxF,EAAWrxE,OACZ,CAAC,CACHxS,EAAG6jF,EAAWtxE,KACd5f,EAAGkxF,EAAWryE,MACb,CACDxR,EAAG6jF,EAAWtxE,KACd5f,EAAGkxF,EAAWrxE,OACZ,CAAC,CACHxS,EAAG6jF,EAAWtyE,KACd5e,EAAGkxF,EAAWrxE,MACb,CACDxS,EAAG6jF,EAAWtxE,KACd5f,EAAGkxF,EAAWrxE,QAGhB,IAASr0B,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAI6lG,EAAYD,EAAO5lG,GACnB8lG,EAAc,IAAKj2E,iBAAiBY,EAAO,CAC7C5O,EAAG4O,EAAM5O,EAAItF,EAAIgoF,MAAQmB,EAAWvzF,MACpCqC,EAAGic,EAAMjc,EAAI+H,EAAIioF,MAAQkB,EAAWhlF,QACnCmlF,EAAU,GAAIA,EAAU,IAEvBC,IAAgBlE,EAAsBnxE,EAAOq1E,EAAa5yE,KAC5D4yE,EAAY93E,GAAK,GAAGppB,OAAOkhG,EAAYjkF,EAAG,OAAOjd,OAAOkhG,EAAYtxF,GACpEkc,EAAOhuB,KAAKojG,KAKlB,OAAOp1E,EAIT,IAAIq1E,EAAY5F,EAAqBuF,EAAYj1E,EAAO2vE,GAExD,OADA2F,EAAU/3E,GAAK,GAAGppB,OAAOmhG,EAAUlkF,EAAG,OAAOjd,OAAOmhG,EAAUvxF,GACvD,CAACuxF,IAGNC,EAAqB,SAA4BxkE,EAASojC,EAAUq8B,EAAUgF,GAChF,IAAIC,EAAiBlB,EAAkBxjE,EAASojC,GAEhD,IAAKq8B,EAASz/D,EAAQxT,IAAK,CACzB,IAAIgyC,EAAaglC,EAAkBiB,EAAiBzkE,GACpD,OAAOyjE,EAAajlC,EAAYkmC,GAGlC,IAAIC,EAAqBnB,EAAkB,CACzCnjF,EAAGo/E,EAASz/D,EAAQxT,IAAInM,EACxBrN,EAAGysF,EAASz/D,EAAQxT,IAAIxZ,GACvBgtB,GACH,OAAOyjE,EAAakB,EAAoBD,IAGtCx6D,EAAmB,SAA0BlK,EAASy/D,EAAUgF,EAAiBjrE,EAAUD,EAAYqrE,EAAe9B,GACxH,IAAIpoE,EAAgB,CAAClB,GACjBkmE,EAAY1/D,EAAQxT,GACpBq4E,EAAW7kE,EAAQ3f,EACnBykF,EAAW9kE,EAAQhtB,EACnB+xF,EAAY,CACd1kF,EAAGwkF,EACH7xF,EAAG8xF,EACHt4E,GAAIkzE,GAoBN,IAjBI8E,EAAmBO,EAAWH,EAAenF,EAAUgF,IAWzD/pE,EAAcpP,QAAQ,CACpBjL,EAAGukF,EAAcvkF,IAAMmZ,EAASnZ,EAAImZ,EAASnZ,EAAI0kF,EAAU1kF,EAAIyiF,EAC/D9vF,EAAG4xF,EAAc5xF,IAAMwmB,EAASxmB,EAAIwmB,EAASxmB,EAAI+xF,EAAU/xF,EAAI8vF,IAI5DrD,EAASC,IAAcD,EAASC,GAAWlzE,KAAOkzE,GAAW,CAClE,IAAIzwE,EAAQ,CACV5O,EAAGwkF,EACH7xF,EAAG8xF,EACHt4E,GAAIkzE,GAEFsF,EAAQvF,EAASC,GAAWlzE,GAC5By4E,EAAOxF,EAASC,GAAWr/E,EAC3B6kF,EAAOzF,EAASC,GAAW1sF,EAC3Bk9B,EAAW,CACb7vB,EAAG4kF,EACHjyF,EAAGkyF,EACH14E,GAAIw4E,GAEgBR,EAAmBt0D,EAAUjhB,EAAOwwE,EAAUgF,IAalE/pE,EAAcpP,QAAQ,CACpBjL,EAAG6vB,EAAS7vB,IAAM4O,EAAM5O,EAAIqa,EAAc,GAAGra,EAAI6vB,EAAS7vB,EAAIyiF,EAC9D9vF,EAAGk9B,EAASl9B,IAAMic,EAAMjc,EAAI0nB,EAAc,GAAG1nB,EAAIk9B,EAASl9B,EAAI8vF,IAIlEpD,EAAYsF,EACZH,EAAWI,EACXH,EAAWI,EAIb,IAAIC,EACCN,EADDM,EAECL,EAUL,OAHApqE,EAAc,GAAGra,EAAI8kF,IAAiBV,EAAgBpkF,EAAIkZ,EAAWlZ,EAAIqa,EAAc,GAAGra,EAC1Fqa,EAAc,GAAG1nB,EAAImyF,IAAiBV,EAAgBzxF,EAAIumB,EAAWvmB,EAAI0nB,EAAc,GAAG1nB,EAC1F0nB,EAAcpP,QAAQiO,GACfmB,GAGE,EAAa,SAAoBnB,EAAYC,EAAUksC,EAAW49B,EAAS8B,GACpF,GAAIrhG,MAAMw1B,EAAWlZ,IAAMtc,MAAMy1B,EAASnZ,GAAI,MAAO,GACrD,IAAI7E,EAAM,kBAAQqwB,EAAYu5D,GAC9B5pF,EAAI6pF,UAAY7pF,EAAI6pF,WAAa,GACjC,IAAIvC,EAAWtnF,EAAIsnF,SACfn0F,EA5Oe,SAAwBgzB,EAAOmhE,EAAUrmF,GAC5D,IAAI9N,EAAM,GAYV,OAXAgzB,EAAM9yB,SAAQ,SAAUrJ,GAEtB,GAAKA,EAGL,IAFA,IAAIksB,EAAOgtE,EAAgBl5F,EAAKwtB,UAAWvW,GAElC4D,EAAIg/B,EAAW3tB,EAAKE,KAAMkxE,GAAWziF,GAAKg/B,EAAW3tB,EAAKkB,KAAMkwE,GAAWziF,GAAK,EACvF,IAAK,IAAIrN,EAAIqsC,EAAW3tB,EAAKG,KAAMixE,GAAW9vF,GAAKqsC,EAAW3tB,EAAKmB,KAAMiwE,GAAW9vF,GAAK,EACvFrE,EAAI,GAAGvL,OAAOid,EAAG,OAAOjd,OAAO4P,KAAM,KAIpCrE,EA+NG,CAAe6M,EAAI6pF,UAAUjiG,OAAO,CAACsiE,EAAW49B,IAAWR,EAAUtnF,EAAIiB,QAC/EgoF,EAAkB,CACpBpkF,EAAGg/B,EAAW9lB,EAAWlZ,EAAGyiF,GAC5B9vF,EAAGqsC,EAAW9lB,EAAWvmB,EAAG8vF,IAE1B8B,EAAgB,CAClBvkF,EAAGg/B,EAAW7lB,EAASnZ,EAAGyiF,GAC1B9vF,EAAGqsC,EAAW7lB,EAASxmB,EAAG8vF,IAE5BvpE,EAAW/M,GAAK,GAAGppB,OAAOqhG,EAAgBpkF,EAAG,OAAOjd,OAAOqhG,EAAgBzxF,GAC3EwmB,EAAShN,GAAK,GAAGppB,OAAOwhG,EAAcvkF,EAAG,OAAOjd,OAAOwhG,EAAc5xF,GACrE,IAAIsyF,EAAc,EAAab,EAAiBlrE,EAAYmsC,EAAWk/B,EAAeppF,GAClFsoF,EAAY,EAAac,EAAeprE,EAAU8pE,EAASmB,EAAiBjpF,GAChF8pF,EAAYz2F,SAAQ,SAAUogB,UACrBtgB,EAAIsgB,EAAMzC,OAEnBs3E,EAAUj1F,SAAQ,SAAUogB,UACnBtgB,EAAIsgB,EAAMzC,OAUnB,IARA,IAAI+1E,EAAU,GACVD,EAAY,GACZ7C,EAAW,GAEX+C,EAAS,GAETC,EAAS,GAEJjkG,EAAI,EAAGA,EAAI8mG,EAAY5kG,OAAQlC,IAAK,CAC3C,IAAI+mG,EAAYD,EAAY9mG,GAC5B+jG,EAAQgD,EAAU/4E,IAAM+4E,EAExB/C,EAAO+C,EAAU/4E,IAAM,EACvBi2E,EAAO8C,EAAU/4E,IAAMq3E,EAAa0B,EAAWzB,EAAWtoF,EAAI4nF,UAOhE,IAJA,IAEIpjE,EAASwlE,EAASrxE,EAAWivC,EAAUqiC,EAAcC,EAAe9B,EAFpE+B,EAAcnqF,EAAIqnF,aAClB+C,EAAYpqF,EAAIoqF,UAGb1mG,OAAO8C,KAAKugG,GAAS7hG,OAAS,GAAKilG,EAAc,IACtD3lE,OAAU31B,EACVm7F,EAAUt8F,IAEVhK,OAAO8C,KAAKugG,GAAS1zF,SAAQ,SAAU9O,GACrC,IAAIysB,EAAK+1E,EAAQxiG,GAAKysB,GAElBi2E,EAAOj2E,IAAOg5E,IAChBA,EAAU/C,EAAOj2E,GACjBwT,EAAUuiE,EAAQ/1E,OAGjBwT,IAZoD,CAczD,GAAI8jE,EAAUhhG,WAAU,SAAUmsB,GAChC,OAAOA,EAAM5O,IAAM2f,EAAQ3f,GAAK4O,EAAMjc,IAAMgtB,EAAQhtB,MAChD,EACJ,OAAOk3B,EAAiBlK,EAASy/D,EAAUgF,EAAiBjrE,EAAUD,EAAYqrE,EAAe9B,UAG5FP,EAAQviE,EAAQxT,IACvB81E,EAAUtiE,EAAQxT,KAAM,EAGxB,IAAShuB,EAAI,EAAGA,EAAIgd,EAAIyZ,WAAWv0B,OAAQlC,IACzC21B,EAAY3Y,EAAIyZ,WAAWz2B,GAMvB8jG,GALJl/B,EAAW,CACT/iD,EAAG2f,EAAQ3f,EAAI8T,EAAU4uE,MACzB/vF,EAAGgtB,EAAQhtB,EAAImhB,EAAU6uE,MACzBx2E,GAAI,GAAGppB,OAAOK,KAAKyE,MAAM83B,EAAQ3f,GAAK8T,EAAU4uE,MAAO,OAAO3/F,OAAOK,KAAKyE,MAAM83B,EAAQhtB,GAAKmhB,EAAU6uE,SAElFx2E,MACvBo3E,EAAkBY,EAAmBxkE,EAASojC,EAAUq8B,EAAUgF,IAC5CjpF,EAAIonF,2BACtBj0F,EAAIy0D,EAAS52C,MAGZ+1E,EAAQn/B,EAAS52C,MACpB+1E,EAAQn/B,EAAS52C,IAAM42C,GAGzBqiC,EAAejqF,EAAI4nF,SAASpjE,EAASojC,IAAar/D,MAAM6hG,EAAUhC,IAAoBd,EAAW8C,EAAUhC,IAC3G8B,EAAgBlD,EAAOxiE,EAAQxT,IAAMi5E,EAEjCjD,EAAOp/B,EAAS52C,KAAOk5E,GAAiBlD,EAAOp/B,EAAS52C,MAI5DizE,EAASr8B,EAAS52C,IAAMwT,EACxBwiE,EAAOp/B,EAAS52C,IAAMk5E,EACtBjD,EAAOr/B,EAAS52C,IAAMk5E,EAAgB7B,EAAazgC,EAAU0gC,EAAWtoF,EAAI4nF,YAG9EuC,GAAe,EAGjB,OAAOnqF,EAAI6nF,cAAc9pE,EAAYC,EAAUksC,EAAW49B,EAAS9nF,ICtarE,YAAa,WAAY,CACvBrM,QAAS,CACP3H,MAAO,IAAO2W,YAAY3W,MAC1B8G,KAAM,IAAO6P,YAAY7P,KACzB+N,MAAO,CACL3U,OAAQ,EACR+U,OAAQ,GACR4D,EAAG,EACHrN,EAAG,EACH4J,OAAQ,IAAOuB,YAAY9B,MAAMO,OACjCyB,gBAAiB,IAAOF,YAAY9B,MAAMgC,iBAG5C2vC,SAAU,CACR3xC,MAAO,CACLC,KAAM,IAAO4B,UAAU7B,MAAMC,KAC7B9L,SAAU,IAAO0N,UAAU7B,MAAM7L,WAGrCijD,SAAU,CACR4xC,UAAW,GACXzC,0BAA2Bn/F,KAAK6F,GAChCu5F,aAAc,IACdC,SAAU,IAGZ72D,YAAa,EAAS,GAAI,IAAO3tB,kBAEnCusB,UAAW,WAEX6mB,cAAe,SACftnB,UAAW,SAAmB5uB,EAAK8V,GACjC,IAAIi+B,EAAanxD,KAAKgxD,cAAc5zC,GAOpC,OAN0B,IAAtB+zC,EAAW7nD,eAAqB6nD,EAAW7nD,OAChC4pB,EAAM2W,SAAS,OAAQ,CACpC2B,UAAW,aACX7qC,KAAM,aACNqD,MAAOmtD,KAIXH,cAAe,SAAuB5zC,GACpC,IAAI2zC,EAAe/wD,KAAK+Q,QAAQkN,MAC5Bg3C,EAAc,CAChBz2C,OAAQpB,EAAIhU,OAEV6U,EAAQ,cAAI,GAAI8yC,EAAckE,EAAa73C,EAAIa,OACnDb,EAAMpd,KAAKk1D,cAAc93C,GACzBpd,KAAKsJ,OAAS2U,EAAM3U,OACpBtJ,KAAKqe,OAASJ,EAAMI,OACpB,IAAI8c,EAAa/d,EAAI+d,WACjBC,EAAWhe,EAAIge,SACfkB,EAAgBt8B,KAAK8rC,iBAAiB1uB,GACtC0T,EAAS,CAACqK,GAGVmB,IACFxL,EAASA,EAAO9rB,OAAOs3B,IAIzBxL,EAAOhuB,KAAKs4B,GACZ,IAAIpN,EAAS5Q,EAAIyd,WACb5M,EAAS7Q,EAAI0d,WACbxxB,EAAS2U,EAAM3U,OACfm+F,EAAkBznG,KAAK+Q,QAAQskD,SAC/BA,EAAW,cAAI,GAAIoyC,EAAiBrqF,EAAIi4C,UAC5CA,EAASh3C,OAASJ,EAAMI,OACxB,IAAIzN,EAAO5Q,KAAKg1D,QAAQlkC,EAAQ9C,EAAQC,EAAQ3kB,EAAQ+rD,GAcxD,OAZI,kBAAQzkD,IAASA,EAAKtO,QAAU,GAAK,mBAASsO,KAAgC,IAAvBA,EAAKnO,QAAQ,QACtEmO,EAAO,eAGLjL,MAAMw1B,EAAWlZ,IAAMtc,MAAMw1B,EAAWvmB,IAAMjP,MAAMy1B,EAASnZ,IAAMtc,MAAMy1B,EAASxmB,MACpFhE,EAAO,cAGG,cAAI,GAAI,IAAOmP,YAAY9B,MAAOA,EAAO,CACnDM,UAAWnB,EAAIlN,KACfU,KAAMA,KAIVqgD,iBAAkB,SAA0B7zC,EAAKhW,GAC/C,IAAI8rB,EAAQ9rB,EAAK6iC,eACjB,GAAK7iC,EAAKs4B,YAAV,CACA,IAAIu1B,EAAc,CAChBz2C,OAAQpB,EAAIhU,OAEVwgC,EAAQ1W,EAAM5uB,MAAK,SAAUk2B,GAC/B,MAAoC,eAA7BA,EAAQv5B,IAAI,iBACfmG,EAAK4zB,cACP9qB,EAAOkN,EAAIlN,KAEXirB,GADJ/d,EAAMpd,KAAKk1D,cAAc93C,IACJ+d,WACjBC,EAAWhe,EAAIge,SACfkB,EAAgBt8B,KAAK8rC,iBAAiB1uB,GAEtC0T,EAAS,CAACqK,GAGVmB,IACFxL,EAASA,EAAO9rB,OAAOs3B,IAIzBxL,EAAOhuB,KAAKs4B,GACZ,IAAI+5B,EAAcvrB,EAAMuB,OACpBiqB,EAAgB,cAAI,GAAIH,EAAaE,EAAa/3C,EAAIa,OACtD+P,EAAS5Q,EAAIyd,WACb5M,EAAS7Q,EAAI0d,WACbxxB,EAAS8rD,EAAc9rD,OACvBm+F,EAAkBznG,KAAK+Q,QAAQskD,SAC/BA,EAAW,cAAI,GAAIoyC,EAAiBrqF,EAAIi4C,UAC5CA,EAASh3C,OAAS+2C,EAAc/2C,OAChC,IAAIzN,EAAO5Q,KAAKg1D,QAAQlkC,EAAQ9C,EAAQC,EAAQ3kB,EAAQ+rD,IAEpD,kBAAQzkD,IAASA,EAAKtO,QAAU,GAAK,mBAASsO,KAAgC,IAAvBA,EAAKnO,QAAQ,QACtEmO,EAAO,eAGLjL,MAAMw1B,EAAWlZ,IAAMtc,MAAMw1B,EAAWvmB,IAAMjP,MAAMy1B,EAASnZ,IAAMtc,MAAMy1B,EAASxmB,MACpFhE,EAAO,cAGLukD,EAAY3F,WAAuC,IAA3B4F,EAAc5F,WACxCpyC,EAAIa,MAAMuxC,SAAW,CACnB5+C,KAAM,KAINukD,EAAY5F,aAA2C,IAA7B6F,EAAc7F,aAC1CnyC,EAAIa,MAAMsxC,WAAa,CACrB3+C,KAAM,KAIV,IAAIqN,EAAQ,cAAIg3C,EAAarrB,EAAMuB,OAAQ,CACzC5sB,UAAWrO,EACXU,KAAMA,GACLwM,EAAIa,OAEH2rB,GACFA,EAAMuB,KAAKltB,KAGf+2C,QAAS,SAAiBlkC,EAAQ9C,EAAQC,EAAQ3kB,EAAQ+rD,GACxD,IAAIh3C,EAASg3C,EAASh3C,OAClBqpF,EAASryC,EAASqyC,OAEtB,IAAKrpF,GAAUyS,EAAOxuB,OAAS,EAAG,CAChC,GAAIgH,EACF,OAAO+4F,EAAkCvxE,EAAQxnB,GAGnD,IAAIq+F,EAAc,GAQlB,OAPA,eAAK72E,GAAQ,SAAUD,EAAOhuB,GACd,IAAVA,EACF8kG,EAAY7kG,KAAK,CAAC,IAAK+tB,EAAM5O,EAAG4O,EAAMjc,IAEtC+yF,EAAY7kG,KAAK,CAAC,IAAK+tB,EAAM5O,EAAG4O,EAAMjc,OAGnC+yF,EAIT,IAAIC,EAAiBF,EAAShF,EAAkB5xE,EAAOA,EAAOxuB,OAAS,GAAIwuB,EAAO,GAAI7C,EAAQD,EAAQ3P,GAAU,EAAWyS,EAAO,GAAIA,EAAOA,EAAOxuB,OAAS,GAAI0rB,EAAQC,EAAQonC,GACjL,OAAKuyC,GAAmBA,EAAetlG,OAEnCgH,EACU+4F,EAAkCuF,EAAgBt+F,GAItD,IAAKyvC,gBAAgB6uD,GAPuB,eAUvD,gB,kECrLKC,EAAsB,IAAI,WAAd,EAAU,IAAI,MAE1Bn9F,EAAQrF,KAAI,IAGL,GACbopB,cAAA,WACE,MAAO,CACLsH,UAAW,OACX+xE,gBAAgB,EAKhBC,cAAe,EACfC,iBAAiB,IAGrBt5E,UAAA,WACE,MAAO,CACLu5E,UAAW,cACXC,KAAM,aACNC,QAAS,cAGbC,eAAA,SAAergG,GACL,IAAA+hC,EAAW9pC,KAAI,OACjB+iC,GAAWh7B,EAAEg7B,QACbC,GAAWj7B,EAAEi7B,QAEnB,IAAI,EAAMD,KAAY,EAAMC,GAA5B,CAGA,IAAI5R,EAAK2R,EAAU+G,EAAO7nB,EACtBoP,EAAK2R,EAAU8G,EAAOl1B,EAEI,MAA1B5U,KAAKiB,IAAI,aACXowB,EAAK,EAC8B,MAA1BrxB,KAAKiB,IAAI,eAClBmwB,EAAK,GAEPpxB,KAAK8pC,OAAS,CACZ7nB,EAAG8gB,EACHnuB,EAAGouB,GAEL,IAAMzwB,EAAQvS,KAAK+uB,MAAM9tB,IAAI,SACvB6f,EAAS9gB,KAAK+uB,MAAM9tB,IAAI,UACxBonG,EAAkBroG,KAAK+uB,MAAM9tB,IAAI,UAAUsyB,iBAG9C80E,EAAgB70E,MAAQjhB,EAAQvS,KAAK+nG,eACpCM,EAAgB70E,KAAOpC,EAAK7e,EAAQvS,KAAK+nG,eAC1CM,EAAgB7zE,KAAOx0B,KAAK+nG,eAAiB,GAC5CM,EAAgB7zE,KAAOx0B,KAAK+nG,cAAgB32E,EAAK,KAEnDA,EAAK,IAGJi3E,EAAgB50E,MAAQ3S,EAAS9gB,KAAK+nG,eACrCM,EAAgB50E,KAAOpC,EAAKvQ,EAAS9gB,KAAK+nG,eAC3CM,EAAgB5zE,KAAOz0B,KAAK+nG,eAAiB,GAC5CM,EAAgB5zE,KAAOz0B,KAAK+nG,cAAgB12E,EAAK,KAEnDA,EAAK,GAEPrxB,KAAK+uB,MAAMkE,UAAU7B,EAAIC,KAE3Bi3E,YAAA,SAAYvgG,GAEIA,EAAEwgG,cAChB,GAAKvoG,KAAK4uB,YAAYruB,KAAKP,KAAM+H,GAAjC,CAIA,IAAMkmB,EAASlmB,EAAEkmB,OACXu6E,EAAiBv6E,GAAUA,EAAO/Q,UAAY+Q,EAAO/Q,WAC3D,IAAKld,KAAKgoG,iBAAoBQ,KARjBxoG,KAUR8pC,OAAS,CAAE7nB,EAAGla,EAAEg7B,QAASnuB,EAAG7M,EAAEi7B,SAVtBhjC,KAWRyoG,UAAW,EAEZzoG,KAAK8nG,gBAAgB,CAIvB,IAFA,IAAM/4E,EAAgB/uB,KAAK+uB,MACrBZ,EAAQY,EAAMkkB,WACX7yC,EAAI,EAAGqD,EAAM0qB,EAAM7rB,OAAQlC,EAAIqD,EAAKrD,IAAK,CAChD,IAAMsoG,EAASv6E,EAAM/tB,GAAGa,IAAI,SAASA,IAAI,YACpCynG,GACLA,EAAOj4F,SAAQ,SAACm5B,GACdA,EAAMtiC,IAAI,iBAAkBsiC,EAAM3oC,IAAI,mBAAqB2oC,EAAM3oC,IAAI,YACrE2oC,EAAMoH,UAIV,IADA,IAAM9iB,EAAQa,EAAMslB,WACX1sC,EAAI,EAAGghG,EAAUz6E,EAAM5rB,OAAQqF,EAAIghG,EAAShhG,IAGnD,IAFA,IAEoB,MAFFumB,EAAMvmB,GAAGsiC,eACAhpC,IAAI,YACX,eAAU,CAAzB,IAAMs9B,EAAK,KACKA,EAAMt9B,IAAI,gBAE3Bs9B,EAAMj3B,IAAI,iBAAkBi3B,EAAMt9B,IAAI,mBAAqBs9B,EAAMt9B,IAAI,YACrEs9B,EAAMyS,YAOhB43D,WAAA,SAAW7gG,GACS/H,KAAI,MAAd,IACFiuB,EAASlmB,EAAEkmB,OACXu6E,EAAiBv6E,GAAUA,EAAO/Q,UAAY+Q,EAAO/Q,WAC3D,IAAKld,KAAKgoG,iBAAoBQ,KAE9BzgG,EAAI8/F,EAAW9/F,GACV/H,KAAK8pC,QAAV,CAIA,IAAK9pC,KAAKyoG,SAAU,CAClB,GAAI/9F,EAAI1K,KAAK8pC,OAAO7nB,EAAIla,EAAEg7B,SAAWr4B,EAAI1K,KAAK8pC,OAAOl1B,EAAI7M,EAAEi7B,SArH7C,GAsHZ,OAEEhjC,KAAK4uB,YAAYruB,KAAKP,KAAM+H,KAC9BA,EAAE5E,KAAO,YACTnD,KAAKyoG,UAAW,GAGhBzoG,KAAK6uB,aAAatuB,KAAKP,KAAM+H,IAC/B/H,KAAKooG,eAAergG,KAGxB8gG,UAAA,SAAU9gG,GACA,IAAAgnB,EAAU/uB,KAAI,MAEtB,GAAIA,KAAK8nG,eAAgB,CAGvB,IADA,IAAM35E,EAAQY,EAAMkkB,WACX7yC,EAAI,EAAGqD,EAAM0qB,EAAM7rB,OAAQlC,EAAIqD,EAAKrD,IAAK,CAChD,IAAMsoG,EAASv6E,EAAM/tB,GAAGa,IAAI,SAASA,IAAI,YACpCynG,GACLA,EAAOj4F,SAAQ,SAACm5B,GACCA,EAAM3oC,IAAI,mBACb2oC,EAAMmH,UAItB,IADA,IAAM7iB,EAAQa,EAAMslB,WACX1sC,EAAI,EAAGghG,EAAUz6E,EAAM5rB,OAAQqF,EAAIghG,EAAShhG,IAGnD,IAFA,IAEoB,MAFFumB,EAAMvmB,GAAGsiC,eACAhpC,IAAI,YACX,eAAU,CAAzB,IAAMs9B,EAAK,KAEd,IADmBA,EAAMt9B,IAAI,cAEZs9B,EAAMt9B,IAAI,mBACbs9B,EAAMwS,QAMrB/wC,KAAKyoG,UAKV1gG,EAAI8/F,EAAW9/F,GAEX/H,KAAK8uB,UAAUvuB,KAAKP,KAAM+H,IAC5B/H,KAAKooG,eAAergG,GAEtBA,EAAE5E,KAAO,UAETnD,KAAK8oG,WAXH9oG,KAAK8pC,OAAS,MAalBg/D,QAAO,WACL9oG,KAAK8pC,OAAS,KACd9pC,KAAKyoG,UAAW,EAChBzoG,KAAK+oG,WAAY,I,QCxKN,GACbt6E,cAAA,WACE,MAAO,CACLu6E,YAAY,EACZrnF,cAAe,GAEfsnF,gBAAgB,EAEhBC,qBAAqB,EAErBC,iBAAkB,GAClBC,cAAe,aAGnB16E,UAAA,WACE,MAAO,CACL,iBAAkB,cAClB,YAAa,SACb,eAAgB,YAChB,kBAAmB,cACnB,kBAAmB,cACnB,aAAc,cACd,YAAa,aACb,cAAe,iBAGnB26E,gBAAA,SAAgBjiG,GACd,SAAKpH,KAAK8pC,SAAW1iC,GAAQA,EAAK05B,YAKrB,UADA15B,EAAKiF,WAUpBi8F,YAAA,SAAYgB,GAAZ,WACE,GAAKtpG,KAAK4uB,YAAYruB,KAAKP,KAAMspG,GAAjC,CAIA,IAAMliG,EAAckiG,EAAIliG,KACxB,GAAKA,IAAQA,EAAK05B,YAAa15B,EAAKwsC,YAApC,CAKQ,IAAA3lB,EAAWq7E,EAAG,OACtB,GAAIr7E,EAEF,GADsBA,EAAOhtB,IAAI,iBAE/B,OAII,IAAA8tB,EAAU/uB,KAAI,MAEtBA,KAAKupG,QAAU,GAGfvpG,KAAKwpG,YAAc,KAGnB,IAAMt7E,EAAQa,EAAMi4B,eAAe,OAAQhnD,KAAKopG,eAE1CK,EAAgBriG,EAAKnG,IAAI,MASN,IANPitB,EAAMxrB,QAAO,SAACowB,GAC9B,IAAMkwC,EAASlwC,EAAK7xB,IAAI,MACxB,OAAOwoG,IAAkBzmC,KAIb1gE,OACZtC,KAAKupG,QAAQzmG,KAAKsE,GACT8mB,EAAM5rB,OAAS,EAExB4rB,EAAMzd,SAAQ,SAACqiB,GACEA,EAAK8gB,aAElB,EAAK21D,QAAQzmG,KAAKgwB,MAItB9yB,KAAKupG,QAAQzmG,KAAKsE,GAEpB,IAAMsiG,EAAkB,GACxB1pG,KAAKupG,QAAQ94F,SAAQ,SAACnP,GACpBooG,EAAgB5mG,KAAK,gBAAMxB,EAAE4uC,gBAE/BlwC,KAAKsH,IAAI,kBAAmBoiG,GAE5B1pG,KAAK8pC,OAAS,CACZ7nB,EAAGqnF,EAAIrnF,EACPrN,EAAG00F,EAAI10F,GAGT5U,KAAK6wB,MAAQ,GACb7wB,KAAK2pG,YAAc,MAOrBC,OAAA,SAAON,GAAP,WACOtpG,KAAK8pC,QAIL9pC,KAAK6uB,aAAa7uB,KAAMspG,KAIzBtpG,KAAKiB,IAAI,kBACXjB,KAAK6pG,eAAeP,GAEpBtpG,KAAKupG,QAAQh5F,KAAI,SAAC0d,GAChB,EAAK8b,OAAO9b,EAAQq7E,QAQ1BT,UAAA,SAAUS,GACR,GAAKtpG,KAAK8pC,QAAW9pC,KAAK8uB,UAAUvuB,KAAKP,KAAMspG,GAA/C,CAKA,IAAMliG,EAAOkiG,EAAIliG,KACjB,GAAIA,EACYA,EAAK6iC,eACb3iC,IAAI,WAAW,GAGnBtH,KAAK8pG,eACP9pG,KAAK8pG,aAAatjG,SAClBxG,KAAK8pG,aAAe,MAGtB9pG,KAAK+pG,gBAAgBT,GAErB,IAAMv6E,EAAgB/uB,KAAK+uB,MAG3B,GAAIA,EAAM9tB,IAAI,gBAAiB,CAC7B,IAAM,EAAY,CAChB6mD,OAAQ,CAAE55B,MAAOluB,KAAKiB,IAAI,mBAAoBktB,MAAO,GAAIiS,OAAQ,IACjE2nB,MAAO,CAAE75B,MAAO,GAAIC,MAAO,GAAIiS,OAAQ,KAGzCpgC,KAAKupG,QAAQ94F,SAAQ,SAACwd,GACpB,EAAU85B,MAAM75B,MAAMprB,KAAKmrB,EAAOiiB,eAEpCnhB,EAAMi5B,UAAU,SAAU,gBAAM,IAIlCj5B,EAAM3S,KAAK,cAAe,CACxBmnB,MAAOvjC,KAAKupG,QACZ32D,WAAY,OAGd5yC,KAAK6wB,MAAQ,GACb7wB,KAAK8pC,OAAS,KACd9pC,KAAK2pG,YAAc,GACnB3pG,KAAKupG,QAAQjnG,OAAS,EACtBtC,KAAKwpG,YAAc,OAMrBQ,YAAA,SAAYV,GACV,IAAMliG,EAAOkiG,EAAIliG,KACjB,GAAKpH,KAAKqpG,gBAAgBjiG,GAA1B,CAEApH,KAAK+pG,gBAAgBT,GAErB,IAAMv6E,EAAgB/uB,KAAK+uB,MAS3B,GAPI/uB,KAAKmpG,kBACPp6E,EAAMkoB,aAAa7vC,EAAMpH,KAAKmpG,kBAAkB,GAGlDnpG,KAAKwpG,YAAcpiG,EAGfpH,KAAKkpG,oBAEPn6E,EAAM67B,mBACD,CACL,IAAM,EAAmBxjD,EAAK8oC,WAC9BlwC,KAAKupG,QAAQh5F,KAAI,SAACuiB,GACEA,EAAKod,WACThS,UAAY,EAAiB9P,IACzCW,EAAMq5B,gBAAgBt1B,EAAM,EAAiB1E,OAGjDW,EAAM8mB,YAAYzuC,GAIpB2nB,EAAM3S,KAAK,cAAe,CACxBmnB,MAAOvjC,KAAKupG,QACZ32D,WAAY5yC,KAAKwpG,gBAIrBS,aAAA,SAAaX,GACX,IAAMv6E,EAAgB/uB,KAAK+uB,MACtB/uB,KAAKupG,SAAmC,IAAxBvpG,KAAKupG,QAAQjnG,SAClCtC,KAAK+pG,gBAAgBT,GACjBtpG,KAAKkpG,oBAEPn6E,EAAM67B,eAEN5qD,KAAKupG,QAAQh5F,KAAI,SAACuiB,GAEFA,EAAKod,WACThS,SACRnP,EAAMq5B,gBAAgBt1B,QAU9Bo3E,WAAA,SAAWZ,GAET,GADatpG,KACHupG,SAAmC,IADhCvpG,KACaupG,QAAQjnG,OAAlC,CACA,IAAM8E,EAAOkiG,EAAIliG,KAFJpH,KAGR+pG,gBAAgBT,GACrB,IAAMv6E,EAJO/uB,KAIc+uB,MAErBmP,EAAU92B,EAAK8oC,WAAWhS,QAEhC,GAAIA,EAAS,CACX,IAAMD,EAAQlP,EAAM0Q,SAASvB,GATlBl+B,KAUFmpG,kBACPp6E,EAAMkoB,aAAahZ,EAXVj+B,KAWsBmpG,kBAAkB,GAXxCnpG,KAaNupG,QAAQh5F,KAAI,SAACuiB,GAChB,IAAMq3E,EAAYr3E,EAAKod,WACnBhS,IAAYisE,EAAUjsE,SACxBnP,EAAMq5B,gBAAgBt1B,EAAMoL,MAGhCnP,EAAM8mB,YAAY5X,QAnBPj+B,KAqBNupG,QAAQh5F,KAAI,SAACuiB,GACFA,EAAKod,WACThS,SACRnP,EAAMq5B,gBAAgBt1B,MAM5B/D,EAAM3S,KAAK,cAAe,CACxBmnB,MA/BWvjC,KA+BCupG,QACZ32D,WAAYxrC,MAOhBgjG,YAAA,SAAYd,GACV,IAAMliG,EAAOkiG,EAAIliG,KACjB,GAAKpH,KAAKqpG,gBAAgBjiG,GAA1B,CAEA,IAAM2nB,EAAgB/uB,KAAK+uB,MACvB/uB,KAAKmpG,kBACPp6E,EAAMkoB,aAAa7vC,EAAMpH,KAAKmpG,kBAAkB,KAOpDkB,YAAA,SAAYf,GACV,IAAMliG,EAAOkiG,EAAIliG,KACjB,GAAKpH,KAAKqpG,gBAAgBjiG,GAA1B,CAEA,IAAM2nB,EAAgB/uB,KAAK+uB,MACvB/uB,KAAKmpG,kBACPp6E,EAAMkoB,aAAa7vC,EAAMpH,KAAKmpG,kBAAkB,KAIpDY,gBAAA,SAAgBT,GAAhB,WACOtpG,KAAKupG,SAAmC,IAAxBvpG,KAAKupG,QAAQjnG,QAE9BtC,KAAKiB,IAAI,mBACXjB,KAAKupG,QAAQh5F,KAAI,SAACuiB,GAAS,SAAKiX,OAAOjX,EAAMw2E,OAQjDv/D,OAAA,SAAO3iC,EAAYkiG,GACT,IAAAx/D,EAAW9pC,KAAI,OACjBoX,EAAoBhQ,EAAKnG,IAAI,SAC7B+hE,EAAiB57D,EAAKnG,IAAI,MAC3BjB,KAAK6wB,MAAMmyC,KACdhjE,KAAK6wB,MAAMmyC,GAAU,CACnB/gD,EAAG7K,EAAM6K,GAAK,EACdrN,EAAGwC,EAAMxC,GAAK,IAIlB,IAGMuwF,EAAa,CAAEljF,EAHHqnF,EAAIrnF,EAAI6nB,EAAO7nB,EAAIjiB,KAAK6wB,MAAMmyC,GAAQ/gD,EAGhCrN,EAFN00F,EAAI10F,EAAIk1B,EAAOl1B,EAAI5U,KAAK6wB,MAAMmyC,GAAQpuD,GAIpD5U,KAAKiB,IAAI,cACXjB,KAAK+uB,MAAM2mB,WAAWtuC,EAAM+9F,GAAK,GAEjC/9F,EAAKgnC,eAAe+2D,IASxB0E,eAAc,SAAC9hG,GACK/H,KAAI,MACtB,GAAKA,KAAK8pG,aAmBH,CACL,IAAM/mE,EAAUh7B,EAAEka,EAAIjiB,KAAK8pC,OAAO7nB,EAAIjiB,KAAK2pG,YAAYn2E,KACjDwP,EAAUj7B,EAAE6M,EAAI5U,KAAK8pC,OAAOl1B,EAAI5U,KAAK2pG,YAAYl2E,KACvDzzB,KAAK8pG,aAAa3+D,KAAK,CACrBlpB,EAAG8gB,EACHnuB,EAAGouB,QAxBiB,CAEtB,IAAMhW,EAAShtB,KAAK+uB,MAAM9tB,IAAI,SACxB+C,EAAQ,kBAAQ,GAAI,IAAO2d,cAAe3hB,KAAK2hB,eAE/C,EAA8C3hB,KAAKsqG,yBAAyBviG,GAAvEmpB,EAAE,IAAKC,EAAE,IAAE5e,EAAK,QAAEuO,EAAM,SAAE0S,EAAI,OAAEC,EAAI,OAC/CzzB,KAAK2pG,YAAc,CAAE1nF,EAAGiP,EAAItc,EAAGuc,EAAI5e,MAAK,EAAEuO,OAAM,EAAE0S,KAAI,EAAEC,KAAI,GAE5DzzB,KAAK8pG,aAAe98E,EAAO6c,SAAS,OAAQ,CAC1C7lC,MAAO,aACLuO,MAAK,EACLuO,OAAM,EACNmB,EAAGiP,EACHtc,EAAGuc,GACAntB,GAELrD,KAAM,0BAiBZ2pG,yBAAA,SAAyBhB,GACf,IAEFp7E,EAFYluB,KAAI,MAEFgnD,eAAe,OAAQhnD,KAAKopG,eAC3B,IAAjBl7E,EAAM5rB,QACR4rB,EAAMprB,KAAKwmG,EAAIliG,MASjB,IANA,IAAIo8B,EAAO14B,IACP24B,GAAQ34B,IACR44B,EAAO54B,IACP64B,GAAQ74B,IAGH1K,EAAI,EAAGA,EAAI8tB,EAAM5rB,OAAQlC,IAAK,CACrC,IACMkzB,EADUpF,EAAM9tB,GACDw0B,UACbpB,EAA2BF,EAAI,KAAzBG,EAAqBH,EAAI,KAAnBkB,EAAelB,EAAI,KAAbmB,EAASnB,EAAI,KACnCE,EAAOgQ,IACTA,EAAOhQ,GAGLC,EAAOiQ,IACTA,EAAOjQ,GAGLe,EAAOiP,IACTA,EAAOjP,GAGLC,EAAOkP,IACTA,EAAOlP,GASX,MAAO,CACLxS,EANQ5c,KAAKqS,MAAM8rB,GAOnB5uB,EANQvP,KAAKqS,MAAMgsB,GAOnBnxB,MANYlN,KAAKu+B,KAAKH,GAAQp+B,KAAKqS,MAAM8rB,GAOzC1iB,OANazb,KAAKu+B,KAAKD,GAAQt+B,KAAKqS,MAAMgsB,GAO1ClQ,KAAMgQ,EACN/P,KAAMiQ,KClbG,GACbjV,cAAA,WACE,MAAO,CACL87E,UAAU,EACVnB,cAAe,aAGnB16E,UAAA,WAGE,MAAO,CACL,WAAY,UACZ,YAAa,UACb,aAAc,kBAGlB87E,QAAA,SAAQlB,GACN,IAAMpvF,EAAOla,KACLoH,EAASkiG,EAAG,KACpB,GAAKliG,IAAQA,EAAK05B,UAAlB,CAIA,IAAM39B,EAAOiE,EAAKiF,UACV0iB,EAA+C7U,EAAI,MAA5CqwF,EAAwCrwF,EAAI,SAAlC2U,EAA8B3U,EAAI,aAC3D,GADuDA,EAAI,YAC1C3Z,KAAK2Z,EAAMovF,GAA5B,CAKA,IAAKiB,EAAU,CACb,IAAMrrF,EAAW6P,EAAMi4B,eAAe7jD,EAAM+W,EAAKkvF,eACjD,eAAKlqF,GAAU,SAAC+e,GACVA,IAAU72B,GACZ2nB,EAAMkoB,aAAahZ,EAAO/jB,EAAKkvF,eAAe,MAKpD,GAAIhiG,EAAKipC,SAASn2B,EAAKkvF,eAAgB,CACjCv6E,EAAatuB,KAAK2Z,EAAMovF,IAC1Bv6E,EAAMkoB,aAAa7vC,EAAM8S,EAAKkvF,eAAe,GAE/C,IAAMqB,EAAgB17E,EAAMi4B,eAAe,OAAQ9sC,EAAKkvF,eAClDsB,EAAiB37E,EAAMi4B,eAAe,QAAS9sC,EAAKkvF,eAC1Dr6E,EAAM3S,KAAK,mBAAoB,CAC7B6R,OAAQ7mB,EACRujG,cAAe,CACbz8E,MAAOu8E,EACPrqE,OAAQsqE,GAEVE,QAAQ,QAEL,CACD/7E,EAAatuB,KAAK2Z,EAAMovF,IAC1Bv6E,EAAMkoB,aAAa7vC,EAAM8S,EAAKkvF,eAAe,GAEzCqB,EAAgB17E,EAAMi4B,eAAe,OAAQ9sC,EAAKkvF,eAClDsB,EAAiB37E,EAAMi4B,eAAe,QAAS9sC,EAAKkvF,eAC1Dr6E,EAAM3S,KAAK,mBAAoB,CAC7B6R,OAAQ7mB,EACRujG,cAAe,CACbz8E,MAAOu8E,EACPrqE,OAAQsqE,GAEVE,QAAQ,QAIdC,cAAa,WAAb,WACU97E,EAAU/uB,KAAI,MAChBkf,EAAW6P,EAAMi4B,eAAe,OAAQhnD,KAAKopG,eACnD,eAAKlqF,GAAU,SAAC4T,GACd/D,EAAMkoB,aAAankB,EAAM,EAAKs2E,eAAe,MAG/C,IAAMsB,EAAiB37E,EAAMi4B,eAAe,QAAShnD,KAAKopG,eAC1D,eAAKsB,GAAgB,SAACzsE,GACpBlP,EAAMkoB,aAAahZ,EAAO,EAAKmrE,eAAe,MAEhDr6E,EAAM3S,KAAK,mBAAoB,CAC7BuuF,cAAe,CAAEz8E,MAAO,GAAIC,MAAO,GAAIiS,OAAQ,IAC/CwqE,QAAQ,MCnFC,GACbE,WAAY,KACZr8E,cAAA,WACE,MAAO,CACLs8E,YAAa,EACbC,YAAa,EACbnkE,aAAS56B,EACT25C,aAAS35C,EACT67F,gBAAgB,EAChBmD,aAAc,GACdC,iBAAkB,CAChBC,QAAQ,EACRC,cAAc,EACdC,UAAU,EACVC,SAAU,cAIhB58E,UAAA,WACU,IAAAw8E,EAAqBlrG,KAAI,iBAQjC,OANKkrG,EAAiBI,WAAUJ,EAAiBI,SAAW,YACxDJ,EAAiBC,SACnBD,EAAiBE,cAAe,EAChCF,EAAiBG,UAAW,GAGvB,CACLE,WAAY,UACZC,UAAW,YAGfC,QAAO,SAACnC,GACFA,EAAIjX,gBAAgBiX,EAAIjX,iBACxBiX,EAAIf,cAAclW,gBAAgBiX,EAAIf,cAAclW,iBAExD,IAAM1E,EAAW2b,EAAIf,cAAc5a,SACnC,KAAIA,EAASrrF,OAAS,GAAtB,CAEiB,eAAbgnG,EAAInmG,OACNnD,KAAK8qG,WAAa9qG,KAAK+uB,MAAMu4B,WAG/B,IAAMrrB,EAAQqtE,EAAIf,cAActsE,OAASqtE,EAAIf,cAAcrW,SAASwZ,MAAMzvE,MAGpEmJ,EAAOplC,KAAK8qG,WAAa7uE,EAG/Bj8B,KAAK2rG,aAAevmE,EAEpB,IAAMyB,EAAU7mC,KAAKiB,IAAI,YAAcjB,KAAK+uB,MAAM9tB,IAAI,WAGtD,KAAImkC,GAFYplC,KAAKiB,IAAI,YAAcjB,KAAK+uB,MAAM9tB,IAAI,aAEhCmkC,EAAOyB,GAA7B,CAGA,IAAMT,EAASpmC,KAAK+uB,MAAM9tB,IAAI,UAExB2qG,EAAYje,EAAS,GAAG5qD,QAAxB6oE,EAAoCje,EAAS,GAAG3qD,QAChD6oE,EAAYle,EAAS,GAAG5qD,QAAxB8oE,EAAoCle,EAAS,GAAG3qD,QAEhDnS,EAAQuV,EAAOH,kBAAkB2lE,EAASC,GAAU,GAAID,EAASC,GAAU,GACjF7rG,KAAK+uB,MAAMq4B,OAAOhiB,EAAM,CAAEnjB,EAAG4O,EAAM5O,EAAGrN,EAAGic,EAAMjc,QC9D7Ck3F,EAAe,CAAC,MAAO,UACd,GACbr9E,cAAA,WACE,MAAO,CAILs9E,QARkB,MASlBC,SAAQ,eAGZt9E,UAAA,W,MACMq9E,EASJ,OAPID,EAAah7F,SAAS9Q,KAAK+rG,SAC1BA,EAAY/rG,KAAI,SAEnB+rG,EAlBkB,MAoBlBzxF,QAAQC,KAAK,uEAER,EAAP,IACG,QAAQwxF,GAAY,YAErB,EAAAtX,WAAY,Y,GAGhBwX,UAAA,SAAUlkG,GACA,IAAAX,EAASW,EAAC,KAGZmkG,EAAalsG,KAAK+uB,MAAMo9E,aAAa/kG,EAAKnG,IAAI,OACpD,GAAKirG,EAAL,CAIQ,IAAA79E,EAAa69E,EAAU,SAE/B,GAAK79E,GAAgC,IAApBA,EAAS/rB,OAA1B,CAGA,IAAMkzC,GAAa02D,EAAW12D,UAC9B,GAAKx1C,KAAK4uB,YAAY7mB,EAAGytC,KAGzB02D,EAAW12D,UAAYA,EACvBpuC,EAAK8oC,WAAWsF,UAAYA,EAC5Bx1C,KAAK+uB,MAAM3S,KAAK,gBAAiB,CAAEhV,KAAMW,EAAEX,KAAMouC,UAAS,IACrDx1C,KAAK6uB,aAAa9mB,EAAGytC,IAA1B,CAGA,IACEx1C,KAAKgsG,SAAS5kG,EAAMouC,GACpB,MAAO42D,GAEP9xF,QAAQC,KAAK6xF,GAEfpsG,KAAK+uB,MAAMu6B,cChDPhmB,EAAyB,IAAI,qBAO/B+oE,EAAgB,SAACxnG,EAAMyB,GAC3B,IAAiB,IAAbA,EAAGzB,IAIHA,EAAM,CACR,IAAMu7B,EAASv7B,EAAK5D,IAAI,UACxB,GAAsB,IAAlBm/B,EAAO99B,OACT,OAAO,EAET,eAAK89B,GAAQ,SAAC7B,GACZ8tE,EAAc9tE,EAAOj4B,QCtBrB,EAAe,CAAC,QAAS,YCJzB,EAAe,CAAC,MAAO,QAEvBgmG,EAAa,CAAC,QAAS,OAAQ,UAAW,MAAO,YAAQrgG,GCHhD,GAKbrK,KAAA,SAAKmtB,GACe,gBAAd/uB,KAAKmD,MACP4rB,EAAM9tB,IAAI,UAAUqG,IAAI,aAAa,GAE/B,IAAA0nB,EAAWhvB,KAAI,OACvBA,KAAK+uB,MAAQA,EACb,eAAKC,GAAQ,SAACphB,EAAqBqhB,GACjCF,EAAMjT,GAAGmT,EAAOrhB,OAIpBshB,OAAA,SAAOH,GACG,IAAAC,EAAWhvB,KAAI,OACL,gBAAdA,KAAKmD,MACP4rB,EAAM9tB,IAAI,UAAUqG,IAAI,aAAa,GAEvCtH,KAAK+uB,MAAQ,KACb,eAAKC,GAAQ,SAACphB,EAAqBqhB,GACjCF,EAAM9S,IAAIgT,EAAOrhB,QCbjB0zB,EAAY,CAChB,cAAe,EACf,cAAe,EACf,YAAa,EACb,qBCfa,CACb7S,cAAA,WACE,MAAO,CACL89E,YAAa,SACbC,cAAe,WACfC,eAAe,EACf59E,aAAY,WACV,OAAO,KAIbH,UAAA,WACE,MAAO,CACL,WAAY,mBACZ,aAAc,uBAGlBg+E,iBAAA,SAAiB3kG,GACf,IACMX,EAAcW,EAAEX,KAChB2nB,EAFO/uB,KAEM+uB,MAEnB,GAJa/uB,KAGRoH,KAAOA,EAHCpH,KAIH6uB,aAAa9mB,EAAEX,KAAM,CAAE6nB,MAAOlnB,EAAGe,OAAQ,aAAnD,CASA,IANA,IAAMyjG,EAPOvsG,KAOYusG,YACnBC,EAROxsG,KAQcwsG,cACrBt+E,EAAQa,EAAMslB,WACdlmB,EAAQY,EAAMkkB,WACdwmB,EAAavrC,EAAM5rB,OACnBo3D,EAAavrC,EAAM7rB,OAChBlC,EAAI,EAAGA,EAAIq5D,EAAYr5D,IAAK,CACnC,IAAM0yB,EAAO5E,EAAM9tB,GACbusG,EAAc75E,EAAKud,SAAS,YAfvBrwC,KAgBFysG,eACHE,GACF59E,EAAMkoB,aAAankB,EAAM,YAAY,GAGzC/D,EAAMkoB,aAAankB,EAAMy5E,GAAa,GAClCC,GACFz9E,EAAMkoB,aAAankB,EAAM05E,GAAe,GAI5C,IAASpsG,EAAI,EAAGA,EAAIs5D,EAAYt5D,IAAK,CACnC,IAAMwgC,EAAOzS,EAAM/tB,GACnB2uB,EAAMkoB,aAAarW,EAAM2rE,GAAa,GAClCC,GACFz9E,EAAMkoB,aAAarW,EAAM4rE,GAAe,GAIxCA,GACFz9E,EAAMkoB,aAAa7vC,EAAMolG,GAAe,GAE1Cz9E,EAAMkoB,aAAa7vC,EAAMmlG,GAAa,GAEtC,IAAMK,EAASxlG,EAAK6rC,WACd45D,EAAcD,EAAOtqG,OAC3B,IAASlC,EAAI,EAAGA,EAAIysG,EAAazsG,IAAK,CACpC,IACI0sG,OAAQ,EAEVA,GAHIlsE,EAAOgsE,EAAOxsG,IAEXomC,cAAgBp/B,EACZw5B,EAAK8F,YAEL9F,EAAK4F,YAEdgmE,GACFz9E,EAAMkoB,aAAa61D,EAAUN,GAAe,GAE9Cz9E,EAAMkoB,aAAa61D,EAAUP,GAAa,GAC1Cx9E,EAAMkoB,aAAarW,EAAM4rE,GAAe,GACxCz9E,EAAMkoB,aAAarW,EAAM2rE,GAAa,GACtC3rE,EAAKiQ,UAEP9hB,EAAM3S,KAAK,yBAA0B,CAAEhV,KAAMW,EAAEX,KAAM0B,OAAQ,eAE/DikG,iBAAA,SAAiBhlG,GACf,IACMgnB,EADO/uB,KACMiB,IAAI,SACvB,GAFajB,KAEH6uB,aAAa9mB,EAAEX,KAAM,CAAE6nB,MAAOlnB,EAAGe,OAAQ,eAAnD,CAIA,IAAMyjG,EAAcvsG,KAAKusG,YACnBC,EAAgBxsG,KAAKwsG,cAErBr1D,EAAYpoB,EAAM9tB,IAAI,aAC5B8tB,EAAMk5B,cAAa,GAMnB,IALA,IAAM/5B,EAAQa,EAAMslB,WACdlmB,EAAQY,EAAMkkB,WACdwmB,EAAavrC,EAAM5rB,OACnBo3D,EAAavrC,EAAM7rB,OAEhBlC,EAAI,EAAGA,EAAIq5D,EAAYr5D,IAAK,CACnC,IAAM0yB,EAAO5E,EAAM9tB,GACnB2uB,EAAMuoB,gBAAgBxkB,EAAM,CAACy5E,EAAaC,IAE5C,IAASpsG,EAAI,EAAGA,EAAIs5D,EAAYt5D,IAAK,CACnC,IAAMwgC,EAAOzS,EAAM/tB,GACnB2uB,EAAMuoB,gBAAgB1W,EAAM,CAAC2rE,EAAaC,EAAe,eAE3Dz9E,EAAM24B,QACN34B,EAAMk5B,aAAa9Q,GACnBpoB,EAAM3S,KAAK,yBAA0B,CACnChV,KAAMW,EAAEX,MA3BGpH,KA2BUiB,IAAI,QACzB6H,OAAQ,iBAGZkkG,mBAAA,SAAmBjlG,GACjB,IACMgnB,EADO/uB,KACM+uB,MACnB,GAFa/uB,KAEH6uB,aAAa9mB,EAAEX,KAAM,CAAE6nB,MAAOlnB,EAAGe,OAAQ,eAAnD,CAYA,IARA,IAAMyjG,EAAcvsG,KAAKusG,YACnBC,EAAgBxsG,KAAKwsG,cAErBt+E,EAAQa,EAAMslB,WACdlmB,EAAQY,EAAMkkB,WACdwmB,EAAavrC,EAAM5rB,OACnBo3D,EAAavrC,EAAM7rB,OAEhBlC,EAAI,EAAGA,EAAIq5D,EAAYr5D,IAAK,CACnC,IAAM0yB,EAAO5E,EAAM9tB,GACnB2uB,EAAMuoB,gBAAgBxkB,EAAM,CAACy5E,EAAaC,IAE5C,IAASpsG,EAAI,EAAGA,EAAIs5D,EAAYt5D,IAAK,CACnC,IAAMwgC,EAAOzS,EAAM/tB,GACnB2uB,EAAMuoB,gBAAgB1W,EAAM,CAAC2rE,EAAaC,EAAe,eAG3Dz9E,EAAM3S,KAAK,yBAA0B,CACnChV,KAAMW,EAAEX,MAxBGpH,KAwBUiB,IAAI,QACzB6H,OAAQ,kBDxHZ,eAAgB,EAChB,kBAAmB,EACnB,aJea,CACb2lB,cAAa,WACX,MAAO,CACLw6E,gBAAgB,EAChBtnF,cAAe,GAEfunF,qBAAqB,EAErBqD,YAAa,GACbnD,cAAe,aAGnB16E,UAAA,WACE,MAAO,CACL,kBAAmB,cACnB,aAAc,SACd,gBAAiB,YACjB,aAAc,SACd,YAAa,aACb,kBAAmB,cACnB,kBAAmB,gBAGvB26E,gBAAA,SAAgBC,GACN,IAAAliG,EAASkiG,EAAG,KACpB,SAAKliG,GAAQA,EAAK05B,eAIb9gC,KAAK6uB,aAAa7uB,KAAMspG,IAMhB,UAFAliG,EAAKiF,YAOpBi8F,YAAA,SAAYgB,GAAZ,WACQv6E,EAAgB/uB,KAAK+uB,MACnB3nB,EAASkiG,EAAG,KAEpB,GAAKtpG,KAAKqpG,gBAAgBC,GAA1B,CAEAtpG,KAAKupG,QAAU,GAGf,IAAMnpE,EAASrR,EAAMi4B,eAAe,QAAShnD,KAAKopG,eAE5C6D,EAAe7lG,EAAKnG,IAAI,MAOJ,IALPm/B,EAAO19B,QAAO,SAACu7B,GAChC,IAAMC,EAAUD,EAAMh9B,IAAI,MAC1B,OAAOgsG,IAAiB/uE,KAGX57B,OACbtC,KAAKupG,QAAQzmG,KAAKsE,GAElBpH,KAAKupG,QAAUnpE,EAGbpgC,KAAKusG,aACPvsG,KAAKupG,QAAQh5F,KAAI,SAAC0tB,GAChB,IAAM7mB,EAAQ6mB,EAAMiS,WACpB,GAAI94B,EAAMumB,SAAU,CAClB,IAAMgrB,EAAc55B,EAAM0Q,SAASroB,EAAMumB,UACrCgrB,GACF55B,EAAMkoB,aAAa0R,EAAa,EAAK4jD,aAAa,OAM1DvsG,KAAK6wB,MAAQ,GACb7wB,KAAK2pG,YAAc,GAEnB3pG,KAAK8pC,OAAS,CACZ7nB,EAAGqnF,EAAIrnF,EACPrN,EAAG00F,EAAI10F,GAGT5U,KAAKktG,uBAAyB,GAE9Bb,EAAcjlG,GAAM,SAACk5B,GACnB,GAAIA,EAAMQ,UACR,OAAO,EAET,IAAM1pB,EAAQkpB,EAAM4P,WAEpB,OADA,EAAKg9D,uBAAuBpqG,KAAKsU,EAAMgX,KAChC,OAGXw7E,OAAA,SAAON,GAAP,WACE,GAAKtpG,KAAK8pC,QAIL9pC,KAAKqpG,gBAAgBC,GAE1B,GAAItpG,KAAKipG,eACPjpG,KAAK6pG,eAAeP,OACf,CACL,GAAItpG,KAAKusG,YAAa,CACpB,IAAM,EAAgBvsG,KAAK+uB,MACrB3nB,EAAakiG,EAAIliG,KACjB,EAAQA,EAAK8oC,WAEb9P,EAAS,EAAMkU,YACf64D,EAAa/lG,EAAKwtB,UAEhB,EAA4Bu4E,EAAU,QAA7B,EAAmBA,EAAU,QAApB,EAAUA,EAAU,MAO3B/sE,EAAO19B,QAAO,SAACu7B,GAChC,IAAMmvE,EAASnvE,EAAMiS,WAErB,OAAK,EAAMvS,SAGJyvE,EAAOh/E,KAAO,EAAMA,KAAO,EAAK8+E,uBAAuBp8F,SAASs8F,EAAOh/E,OAGrE7d,KAAI,SAAC0tB,GACR,MAAyCA,EAAMrJ,UAApC1D,EAAE,UAAWC,EAAE,UAAS4I,EAAC,QAGpCszE,EAAO,EAAUn8E,EACjBo8E,EAAO,EAAUn8E,EAEjBpE,EAAW,EAAI1nB,KAAKuS,KAAKy1F,EAAOA,EAAOC,EAAOA,GAEhD,EAAQvzE,EAAIhN,EAAW,GAAM,EAC/B,EAAMkqB,aAAahZ,EAAO,EAAKsuE,aAAa,GAE5C,EAAMt1D,aAAahZ,EAAO,EAAKsuE,aAAa,MAKlD,eAAKvsG,KAAKupG,SAAS,SAACniG,GAClB,EAAKyuC,YAAYzuC,EAAMkiG,QAK7BS,gBAAA,SAAgBT,GAAhB,WAEMtpG,KAAKipG,gBACP,eAAKjpG,KAAKupG,SAAS,SAACniG,GAClB,EAAKyuC,YAAYzuC,EAAMkiG,OAK7BiE,OAAA,SAAOjE,GAAP,WAEUliG,EAASkiG,EAAG,KACpB,GAAKliG,GAASpH,KAAKupG,UAAWniG,EAAK05B,UAAnC,CAGA9gC,KAAK+pG,gBAAgBT,GAErB,IAAMv6E,EAAgB/uB,KAAK+uB,MAErB48B,EAAcvkD,EAAK8oC,WAEzBlwC,KAAKupG,QAAQh5F,KAAI,SAAC0tB,GACFA,EAAMiS,WACVvS,WAAaguB,EAAYv9B,IAC7B,EAAKm+E,aACPx9E,EAAMkoB,aAAa7vC,EAAM,EAAKmlG,aAAa,GAGxC,EAAKrD,oBAGRn6E,EAAM8mB,YAAY5X,GAFlBlP,EAAMq5B,gBAAgBnqB,EAAO0tB,EAAYv9B,KAK3CW,EAAM8mB,YAAYzuC,MAItBpH,KAAKspE,IAAIliE,EAAMkiG,GAGftpG,KAAKwtG,eAAgB,IAEvBC,WAAA,SAAWnE,GAAX,WACE,GAAKtpG,KAAKupG,SAAmC,IAAxBvpG,KAAKupG,QAAQjnG,OAAlC,CACAtC,KAAK+pG,gBAAgBT,GACrB,IAIIoE,EAJE3+E,EAAgB/uB,KAAK+uB,MAGrBmP,EADOorE,EAAIliG,KACI8oC,WAAWhS,QAGhC,GAAIA,EAAS,CACX,GAAIl+B,KAAKusG,YAAa,CACpB,IAAMtuE,EAAQlP,EAAM0Q,SAASvB,GAC7BnP,EAAMkoB,aAAahZ,EAAOj+B,KAAKusG,aAAa,GAE9CvsG,KAAKupG,QAAQh5F,KAAI,SAAC0tB,GACX,EAAKirE,oBAMRn6E,EAAM8mB,YAAY5X,GALdC,IAAYD,EAAMkS,UACpBu9D,EAAe3+E,EAAM0Q,SAASvB,GAC1BA,IAAYD,EAAMiS,WAAWvS,UAAU5O,EAAMq5B,gBAAgBnqB,EAAOC,YAQ9El+B,KAAKupG,QAAQh5F,KAAI,SAAC0tB,GACX,EAAKirE,oBAMRn6E,EAAM8mB,YAAY5X,GALJA,EAAMiS,WACVhS,SACRnP,EAAMq5B,gBAAgBnqB,MAS9Bj+B,KAAKwtG,eAAgB,EACrBxtG,KAAKspE,IAAIokC,EAAcpE,KAEzBc,YAAA,SAAYd,GACV,GAAKtpG,KAAK8pC,QAIL9pC,KAAKqpG,gBAAgBC,GAA1B,CAEQ,IAAAliG,EAASkiG,EAAG,KACdv6E,EAAgB/uB,KAAK+uB,MACvB/uB,KAAKusG,aACPx9E,EAAMkoB,aAAa7vC,EAAMpH,KAAKusG,aAAa,KAG/ClC,YAAA,SAAYf,GACV,GAAKtpG,KAAK8pC,QAIL9pC,KAAKqpG,gBAAgBC,GAA1B,CAEA,IAAMliG,EAAOkiG,EAAIliG,KACX2nB,EAAgB/uB,KAAK+uB,MACvB/uB,KAAKusG,aACPx9E,EAAMkoB,aAAa7vC,EAAMpH,KAAKusG,aAAa,KAG/C1D,UAAA,SAAUS,GACR,GAAKtpG,KAAKupG,SAAmC,IAAxBvpG,KAAKupG,QAAQjnG,OAAlC,CACA,IAAM8E,EAAOkiG,EAAIliG,KACjBpH,KAAK+pG,gBAAgBT,GACrB,IAAM3gD,EAAc3oD,KAAK2tG,eAAevmG,EAAK8oC,WAAWvS,UAClD5O,EAAgB/uB,KAAK+uB,MACvB45B,GAAe3oD,KAAKusG,aACtBx9E,EAAMkoB,aAAa0R,EAAa3oD,KAAKusG,aAAa,GAEpDvsG,KAAKspE,SAAIr9D,EAAWq9F,KAGtBhgC,IAAA,SAAIskC,EAAmCtE,GAAvC,WACE,GAAKtpG,KAAK8pC,OAAV,CACA,IAAM/a,EAAgB/uB,KAAK+uB,MAG3B,GAAI/uB,KAAK6tG,cACe9+E,EAAM9tB,IAAI,iBAClBitC,QACdluC,KAAK6tG,cAAgB,KAGnBD,GAAiB5tG,KAAKusG,aACxBx9E,EAAMkoB,aAAa22D,EAAe5tG,KAAKusG,aAAa,GAGjDqB,GACH5tG,KAAKupG,QAAQh5F,KAAI,SAAC0tB,GAEX,EAAKirE,oBAGRn6E,EAAM8mB,YAAY5X,GAFlBlP,EAAMq5B,gBAAgBnqB,MAO5Bj+B,KAAK6wB,MAAQ,GACb7wB,KAAK8pC,OAAS,KACd9pC,KAAK2pG,YAAc,KACnB3pG,KAAKupG,QAAQjnG,OAAS,IAQxBy6B,SAAA,SAAyBl4B,EAASyB,GAAlC,WACE,IAAiB,IAAbA,EAAGzB,IAIHA,EAAM,CACR,IAAMu7B,EAASv7B,EAAK5D,IAAI,UACxB,eAAKm/B,GAAQ,SAAC7B,GACZ,EAAKxB,SAASwB,EAAOj4B,MAGvB,IAAM4nB,EAAQrpB,EAAK5D,IAAI,SACvB,eAAKitB,GAAO,SAACqQ,GACX,EAAKxB,SAASwB,EAAOj4B,QAK3BuvC,YAAA,SAAYzuC,EAAckiG,GAA1B,WACEtpG,KAAK+8B,SAAS31B,GAAM,SAACk5B,GACnB,OAAIA,EAAMQ,YAGV,EAAKgtE,iBAAiBxtE,EAAOgpE,IACtB,OASXwE,iBAAA,SAAiB1mG,EAAYkiG,GACnB,IAAAx/D,EAAW9pC,KAAI,OACjB+uB,EAAgB/uB,KAAK+uB,MACrB3X,EAAQhQ,EAAK8oC,WACbwG,EAAStvC,EAAKnG,IAAI,MAEnBjB,KAAK6wB,MAAM6lB,KACd12C,KAAK6wB,MAAM6lB,GAAU,CACnBz0B,EAAG7K,EAAM6K,EACTrN,EAAGwC,EAAMxC,IAIb,IAAMqN,EAAYqnF,EAAIrnF,EAAI6nB,EAAO7nB,EAAIjiB,KAAK6wB,MAAM6lB,GAAQz0B,EAClDrN,EAAY00F,EAAI10F,EAAIk1B,EAAOl1B,EAAI5U,KAAK6wB,MAAM6lB,GAAQ9hC,EAExDma,EAAM2mB,WAAWtuC,EAAM,CAAE6a,EAAC,EAAErN,EAAC,KAO/B+4F,eAAA,SAAehwE,GACb,IAAM5O,EAAgB/uB,KAAK+uB,MAC3B,GAAK4O,EAAL,CAIA,IAAMgrB,EAAc55B,EAAM0Q,SAAS9B,GACnC,GAAKgrB,EAIL,OAAOA,IAGTkhD,eAAA,SAAeP,GACb,IAAMv6E,EAAgB/uB,KAAK+uB,MAE3B,GAAK/uB,KAAK6tG,cA0BH,CACL,IAAM9qE,EAAUumE,EAAIrnF,EAAIjiB,KAAK8pC,OAAO7nB,EAAIjiB,KAAK2pG,YAAYn2E,KACnDwP,EAAUsmE,EAAI10F,EAAI5U,KAAK8pC,OAAOl1B,EAAI5U,KAAK2pG,YAAYl2E,KAEzDzzB,KAAK6tG,cAAc1iE,KAAK,CACtBlpB,EAAG8gB,EACHnuB,EAAGouB,QAhCkB,CACvB,IAAMwiB,EAAwBz2B,EAAM9tB,IAAI,iBAEpCqyB,EAAO,KAOHrR,GALNqR,EADEtzB,KAAKupG,QAAQjnG,OAAS,EACjBghC,EAAqBtjC,KAAKupG,SAE1BvpG,KAAKupG,QAAQ,GAAG30E,WAGuB,EAArChgB,EAAiC0e,EAAI,EAAlC/gB,EAA8B+gB,EAAI,MAA3BxS,EAAuBwS,EAAI,OAAnBE,EAAeF,EAAI,KAAbG,EAASH,EAAI,KAEhDtzB,KAAK2pG,YAAc,CAAE1nF,EAAC,EAAErN,EAAC,EAAErC,MAAK,EAAEuO,OAAM,EAAE0S,KAAI,EAAEC,KAAI,GAEpD,IAAMzvB,EAAQ,2BAAK,IAAO2d,eAAkB3hB,KAAK2hB,eAEjD3hB,KAAK6tG,cAAgBroD,EAAc3b,SAAS,OAAQ,CAClD7lC,MAAO,aACLuO,MAAO+gB,EAAK/gB,MACZuO,OAAQwS,EAAKxS,OACbmB,EAAGqR,EAAKrR,EACRrN,EAAG0e,EAAK1e,GACL5Q,GAELrD,KAAM,4BIvaZ,wBHZa,CACb8tB,cAAA,WACE,MAAO,CACLs9E,QALkB,WAMlBv/C,UAAU,IAGd99B,UAAA,W,MACMq9E,EAWJ,OATI,EAAaj7F,SAAS9Q,KAAK+rG,SAC7BA,EAAU/rG,KAAK+rG,SAEfA,EAfkB,WAiBlBzxF,QAAQC,KACN,6EAGG,EAAP,IACG,SAASwxF,GAAY,e,GAG1BgC,aAAA,SAAazE,GACH,IAAAliG,EAASkiG,EAAG,KACZv6E,EAAoB/uB,KAAf,MAAEwsD,EAAaxsD,KAAL,SAEvB,GAAKoH,IAAQA,EAAK05B,WAAgC,UAAnB15B,EAAKiF,UAApC,CACA,IACM6xB,EADQ92B,EAAK8oC,WACG9hB,GACjB8P,IAGLnP,EAAMq+B,oBAAoBlvB,GACtBsuB,GAAYz9B,EAAM9tB,IAAI,UAAW8tB,EAAMu6B,SACtCv6B,EAAMw6B,uBGtBb,cFda,CACb96B,cAAA,WACE,MAAO,CACLs9E,QARkB,MASlBpqG,SAPcsK,EAQd+hG,WAAY,KAGhBt/E,UAAA,WACE,IAcIM,EAuBJ,OAnCM,EAAavsB,QAFNzC,KAEmB+rG,QAAQrgG,gBAAkB,IAF7C1L,KAGN+rG,QAjBa,MAmBlBzxF,QAAQC,KAAK,4DALFva,KAOJ2B,MAAuD,IAAhD2qG,EAAW7pG,QAPdzC,KAO2B2B,IAAI+J,iBAP/B1L,KAQN+rG,aApBS9/F,EAsBdqO,QAAQC,KACN,oFAIiB,SAfRva,KAeJ+rG,QACP/8E,EAAS,CACP,iBAAkB,UAClB,kBAAmB,UACnBk5E,KAAM,iBACN,YAAa,UACb,aAAc,UACdC,QAAS,aAEe,UAxBfnoG,KAwBG+rG,UACd/8E,EAAS,CACP,WAAY,UACZi/E,UAAW,iBACX,WAAY,iBACZ,aAAc,iBACd,YAAa,YA9BJjuG,KAiCJ2B,MACPqtB,EAAOk/E,QAAU,YACjBl/E,EAAOm/E,MAAQ,WAEVn/E,GAET65E,UAAA,SAAUuF,GAER,IADapuG,KACJ2B,KADI3B,KACSkuG,QAAtB,CACQ,IAAA9mG,EAASgnG,EAAE,KACdhnG,GAAQA,EAAK+oC,UAHLnwC,KAGsBguB,QAA6B,SAAnB5mB,EAAKiF,WAHrCrM,KAINquG,eAAe,CAClBjnG,KALSpH,KAKE4gC,KACX3e,EAAGmsF,EAAGnsF,EACNrN,EAAGw5F,EAAGx5F,MAIZ41F,QAAA,SAAQ4D,GAEN,IADapuG,KACJ2B,KADI3B,KACSkuG,QAAtB,CACA,IAAMp7E,EAAOs7E,EAAGhnG,KACV2nB,EAHO/uB,KAGc+uB,MACrB3X,EAAQ0b,EAAKod,WAEnB,GANalwC,KAMJsuG,YANItuG,KAMe4gC,KAAM,CAChC,IAPW5gC,KAOD8uB,UAAUvuB,KAPTP,KAOoBouG,GAAK,OACpC,IAAMz/E,EAAwB,CAC5BV,OAAQ7W,EAAMgX,IATLpuB,KAWFguB,SAAW5W,EAAMgX,KACxBO,EAAUxrB,KAAO,QAGnB4rB,EAAM3S,KAAK,mBAAoB,IAE/B2S,EAAM2mB,WAjBK11C,KAiBW4gC,KAAMjS,GAE5BI,EAAM3S,KAAK,kBAAmB,CAC5BwkB,KApBS5gC,KAoBE4gC,OApBF5gC,KAwBN4gC,KAAK5F,cAAc1zB,IAAI,WAAW,GAxB5BtH,KA0BN4gC,KAAO,KA1BD5gC,KA2BNsuG,YAAa,MACb,CAEL,IA9BWtuG,KA8BD4uB,YAAYruB,KA9BXP,KA8BsBouG,GAAK,OA9B3BpuG,KA+BN4gC,KAAO7R,EAAM8lB,QAChB,OAAM,aAEJ7mB,OAAQ5W,EAAMgX,GACdH,OAAQ7W,EAAMgX,IAnCPpuB,KAoCCguG,aAEV,GAtCShuG,KAwCNguB,OAAS5W,EAAMgX,GAxCTpuB,KAyCNsuG,YAAa,EAzCPtuG,KA2CN4gC,KAAK5F,cAAc1zB,IAAI,WAAW,MAI3CinG,eAAA,SAAeH,GAEb,IADapuG,KACJ2B,KADI3B,KACSkuG,QAAtB,CACA,IAAMr9E,EAAQ,CAAE5O,EAAGmsF,EAAGnsF,EAAGrN,EAAGw5F,EAAGx5F,GAFlB5U,KAKH+uB,MAAM0Q,SALHz/B,KAKiBguB,QALjBhuB,KASJsuG,YATItuG,KASe4gC,MATf5gC,KAWN+uB,MAAM2mB,WAXA11C,KAYJ4gC,KACL,CACE3S,OAAQ4C,IAEV,GAhBS7wB,KAMNsuG,YAAa,IAetBD,eAAA,SAAeD,GAEb,IADapuG,KACJ2B,KADI3B,KACSkuG,QAAtB,CACA,IAAMn/E,EAFO/uB,KAEc+uB,MACrBy/E,EAAcJ,EAAGhnG,KACvB,GAJapH,KAIJsuG,YAAcF,EAAGngF,QAAUmgF,EAAGngF,OAAO/Q,UAAYkxF,EAAGngF,OAAO/Q,WAIlE,OAHA6R,EAAMunB,WALKt2C,KAKW4gC,MAAM,GALjB5gC,KAMN4gC,KAAO,UAND5gC,KAONsuG,YAAa,GAGpB,GAVatuG,KAUJsuG,YAVItuG,KAUe4gC,OAAS4tE,EAAa,CAChD,IAAIC,GAAa,EAEjB,IAAK1/E,EAAM9tB,IAAI,gBAKb,IAHQ,IAAAghB,EAASmsF,EAAE,EAARx5F,EAAMw5F,EAAE,EACblgF,EAAQa,EAAMslB,WACd/xC,EAAS4rB,EAAM5rB,OACZlC,EAAI,EAAGA,EAAIkC,EAAQlC,IAAK,CAC/B,IAAM0yB,EAAO5E,EAAM9tB,GACbgX,EAAQ0b,EAAKod,WACbw+D,EAAW57E,EAAK8B,UACtB,GACE3S,GAAKysF,EAASl6E,MACdvS,GAAKysF,EAASl7E,MACd5e,GAAK85F,EAASj6E,MACd7f,GAAK85F,EAASj7E,KACd,CACA,IA5BKzzB,KA6BG8uB,UAAUvuB,KA7BbP,KA6BwB,CACzBiiB,EAAGmsF,EAAGnsF,EACNrN,EAAGw5F,EAAGx5F,EACN8tB,QAAS0rE,EAAG1rE,QACZC,QAASyrE,EAAGzrE,QACZI,QAASqrE,EAAGrrE,QACZC,QAASorE,EAAGprE,QACZ57B,KAAM0rB,IAGR,OAGF/D,EAAM3S,KAAK,mBAAoB,IAE/B2S,EAAM2mB,WA5CD11C,KA4CiB4gC,KAAM,CAC1B3S,OAAQ7W,EAAMgX,KAEhBW,EAAM3S,KAAK,kBAAmB,CAC5BwkB,KAhDG5gC,KAgDQ4gC,OAEb6tE,GAAa,EACb,OAIFA,GAAY1/E,EAAMunB,WAvDXt2C,KAuD2B4gC,MAAM,GAvDjC5gC,KAwDN4gC,KAAO,KAxDD5gC,KAyDNsuG,YAAa,KAItBK,UAAA,SAAU5mG,GACR,IACM4kE,EAAO5kE,EAAEpG,IACVgrE,IAGDA,EAAKjhE,gBALI1L,KAKmB2B,IAAI+J,cALvB1L,KAMNkuG,SAAU,EANJluG,KAQNkuG,SAAU,IAGnBU,QAAO,WACQ5uG,KACJsuG,YADItuG,KACe4gC,OADf5gC,KAGN+uB,MAAMunB,WAHAt2C,KAGgB4gC,MAAM,GAHtB5gC,KAINsuG,YAAa,EAJPtuG,KAKN4gC,KAAO,MAEd5gC,KAAKkuG,SAAU,KEnMnB,eAAK5sE,GAAW,SAACjS,EAAUlsB,GACzB,YAAiBA,EAAM,2BAAKksB,GAAa,Q,gfEnBrC,SAAUw/E,EAAcn8D,EAAKjuC,EAAGiB,GACpC,IAAMopG,EAAqB,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAErD,OADAr2C,IAAKwwB,gBAAgB6lB,EAAUppG,GACxB+yD,IAAKiwB,SAASh2C,EAAKo8D,EAAUrqG,GAGhC,SAAUsqG,EAAWr8D,EAAKjuC,EAAGo4B,GACjC,IAAMmyE,EAAsB,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAEtD,OADAv2C,IAAKywB,aAAa8lB,EAAWnyE,GACtB47B,IAAKiwB,SAASh2C,EAAKs8D,EAAWvqG,GAGjC,SAAUwqG,EAAUv8D,EAAKjuC,EAAGiB,GAChC,IAAMwpG,EAAqB,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAErD,OADAz2C,IAAK0wB,YAAY+lB,EAAUxpG,GACpB+yD,IAAKiwB,SAASh2C,EAAKw8D,EAAUzqG,GAWhC,SAAUorB,EAAUrvB,EAAawxF,GAGrC,IAFA,IAToBt/C,EAAKjuC,EAAG4mF,EAStBt5D,EAASvxB,EAAI,GAAGwE,OAAOxE,GAAK,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAEnDJ,EAAI,EAAGqD,EAAMuuF,EAAQ1vF,OAAQlC,EAAIqD,EAAKrD,IAAK,CAClD,IAAM0I,EAASkpF,EAAQ5xF,GACvB,OAAQ0I,EAAO,IACb,IAAK,IACH+lG,EAAc98E,EAAQA,EAAQ,CAAEjpB,EAAO,GAAIA,EAAO,KAClD,MACF,IAAK,IACHmmG,EAAUl9E,EAAQA,EAAQ,CAAEjpB,EAAO,GAAIA,EAAO,KAC9C,MACF,IAAK,IACHimG,EAAWh9E,EAAQA,EAAQjpB,EAAO,IAClC,MACF,IAAK,IAvBW4pC,EAwBD3gB,EAxBMttB,EAwBEstB,EAxBCs5D,EAwBOviF,EAAO,GAvBnC2vD,IAAKiwB,SAASh2C,EAAK24C,EAAI5mF,IA8B9B,OAAOstB,EASH,SAAUgE,EAAU0nC,EAAcC,GACtC,OAAOD,EAAG,GAAKC,EAAG,GAAKA,EAAG,GAAKD,EAAG,GAS9B,SAAU0xC,EAAQ1xC,EAAsBC,EAAsB0xC,GAClE,IAAMC,EAAMhyC,IAAK5rC,MAAMgsC,EAAIC,GACrB4xC,EAAmBv5E,EAAU0nC,EAAIC,IAAO,EAC9C,OAAI0xC,EACEE,EACe,EAAVjqG,KAAK6F,GAASmkG,EAEhBA,EAGLC,EACKD,EAEQ,EAAVhqG,KAAK6F,GAASmkG,EASjB,SAAUE,EAAS78D,EAAehtC,EAAau5C,GASnD,OARIA,GACFvM,EAAI,GAAKhtC,EAAE,GACXgtC,EAAI,IAAM,EAAIhtC,EAAE,KAEhBgtC,EAAI,IAAM,EAAIhtC,EAAE,GAChBgtC,EAAI,GAAKhtC,EAAE,IAGNgtC,I,gCC1GT,swDAYO,SAAShxC,IACd,IAAIgxC,EAAM,IAAIm0C,IAAoB,GAOlC,OALIA,KAAuBpmC,eACzB/N,EAAI,GAAK,EACTA,EAAI,GAAK,GAGJA,EASF,SAASjkC,EAAMhK,GACpB,IAAIiuC,EAAM,IAAIm0C,IAAoB,GAGlC,OAFAn0C,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACJiuC,EAUF,SAASs0C,EAAW/kE,EAAGrN,GAC5B,IAAI89B,EAAM,IAAIm0C,IAAoB,GAGlC,OAFAn0C,EAAI,GAAKzwB,EACTywB,EAAI,GAAK99B,EACF89B,EAUF,SAASq0C,EAAKr0C,EAAKjuC,GAGxB,OAFAiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACJiuC,EAWF,SAASprC,EAAIorC,EAAKzwB,EAAGrN,GAG1B,OAFA89B,EAAI,GAAKzwB,EACTywB,EAAI,GAAK99B,EACF89B,EAWF,SAAS0H,EAAI1H,EAAKjuC,EAAGmC,GAG1B,OAFA8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAClB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GACX8rC,EAWF,SAASg5B,EAASh5B,EAAKjuC,EAAGmC,GAG/B,OAFA8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAClB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GACX8rC,EAWF,SAASg2C,EAASh2C,EAAKjuC,EAAGmC,GAG/B,OAFA8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAClB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GACX8rC,EAWF,SAAS88D,EAAO98D,EAAKjuC,EAAGmC,GAG7B,OAFA8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAClB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GACX8rC,EAUF,SAAS9O,EAAK8O,EAAKjuC,GAGxB,OAFAiuC,EAAI,GAAKrtC,KAAKu+B,KAAKn/B,EAAE,IACrBiuC,EAAI,GAAKrtC,KAAKu+B,KAAKn/B,EAAE,IACdiuC,EAUF,SAASh7B,EAAMg7B,EAAKjuC,GAGzB,OAFAiuC,EAAI,GAAKrtC,KAAKqS,MAAMjT,EAAE,IACtBiuC,EAAI,GAAKrtC,KAAKqS,MAAMjT,EAAE,IACfiuC,EAWF,SAASntC,EAAImtC,EAAKjuC,EAAGmC,GAG1B,OAFA8rC,EAAI,GAAKrtC,KAAKE,IAAId,EAAE,GAAImC,EAAE,IAC1B8rC,EAAI,GAAKrtC,KAAKE,IAAId,EAAE,GAAImC,EAAE,IACnB8rC,EAWF,SAASptC,EAAIotC,EAAKjuC,EAAGmC,GAG1B,OAFA8rC,EAAI,GAAKrtC,KAAKC,IAAIb,EAAE,GAAImC,EAAE,IAC1B8rC,EAAI,GAAKrtC,KAAKC,IAAIb,EAAE,GAAImC,EAAE,IACnB8rC,EAUF,SAAS5oC,EAAM4oC,EAAKjuC,GAGzB,OAFAiuC,EAAI,GAAKrtC,KAAKyE,MAAMrF,EAAE,IACtBiuC,EAAI,GAAKrtC,KAAKyE,MAAMrF,EAAE,IACfiuC,EAWF,SAASzW,EAAMyW,EAAKjuC,EAAGmC,GAG5B,OAFA8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAChB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EACT8rC,EAYF,SAAS+8D,EAAY/8D,EAAKjuC,EAAGmC,EAAGq1B,GAGrC,OAFAyW,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAAKq1B,EACvByW,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAAKq1B,EAChByW,EAUF,SAAS3lB,EAAStoB,EAAGmC,GAC1B,IAAIqb,EAAIrb,EAAE,GAAKnC,EAAE,GACbmQ,EAAIhO,EAAE,GAAKnC,EAAE,GACjB,OAAOY,KAAK0uC,MAAM9xB,EAAGrN,GAUhB,SAAS86F,EAAgBjrG,EAAGmC,GACjC,IAAIqb,EAAIrb,EAAE,GAAKnC,EAAE,GACbmQ,EAAIhO,EAAE,GAAKnC,EAAE,GACjB,OAAOwd,EAAIA,EAAIrN,EAAIA,EASd,SAAStS,EAAOmC,GACrB,IAAIwd,EAAIxd,EAAE,GACNmQ,EAAInQ,EAAE,GACV,OAAOY,KAAK0uC,MAAM9xB,EAAGrN,GAShB,SAAS+6F,EAAclrG,GAC5B,IAAIwd,EAAIxd,EAAE,GACNmQ,EAAInQ,EAAE,GACV,OAAOwd,EAAIA,EAAIrN,EAAIA,EAUd,SAASg3D,EAAOl5B,EAAKjuC,GAG1B,OAFAiuC,EAAI,IAAMjuC,EAAE,GACZiuC,EAAI,IAAMjuC,EAAE,GACLiuC,EAUF,SAASk9D,EAAQl9D,EAAKjuC,GAG3B,OAFAiuC,EAAI,GAAK,EAAMjuC,EAAE,GACjBiuC,EAAI,GAAK,EAAMjuC,EAAE,GACViuC,EAUF,SAASna,EAAUma,EAAKjuC,GAC7B,IAAIwd,EAAIxd,EAAE,GACNmQ,EAAInQ,EAAE,GACNhB,EAAMwe,EAAIA,EAAIrN,EAAIA,EAStB,OAPInR,EAAM,IAERA,EAAM,EAAI4B,KAAKuS,KAAKnU,IAGtBivC,EAAI,GAAKjuC,EAAE,GAAKhB,EAChBivC,EAAI,GAAKjuC,EAAE,GAAKhB,EACTivC,EAUF,SAASla,EAAI/zB,EAAGmC,GACrB,OAAOnC,EAAE,GAAKmC,EAAE,GAAKnC,EAAE,GAAKmC,EAAE,GAYzB,SAAS80C,EAAMhJ,EAAKjuC,EAAGmC,GAC5B,IAAIuzB,EAAI11B,EAAE,GAAKmC,EAAE,GAAKnC,EAAE,GAAKmC,EAAE,GAG/B,OAFA8rC,EAAI,GAAKA,EAAI,GAAK,EAClBA,EAAI,GAAKvY,EACFuY,EAYF,SAASm9D,EAAKn9D,EAAKjuC,EAAGmC,EAAGtF,GAC9B,IAAIwuG,EAAKrrG,EAAE,GACPsrG,EAAKtrG,EAAE,GAGX,OAFAiuC,EAAI,GAAKo9D,EAAKxuG,GAAKsF,EAAE,GAAKkpG,GAC1Bp9D,EAAI,GAAKq9D,EAAKzuG,GAAKsF,EAAE,GAAKmpG,GACnBr9D,EAUF,SAAS5P,EAAO4P,EAAKzW,GAC1BA,EAAQA,GAAS,EACjB,IAAI/6B,EAAwB,EAApB2lF,MAA0BxhF,KAAK6F,GAGvC,OAFAwnC,EAAI,GAAKrtC,KAAKwS,IAAI3W,GAAK+6B,EACvByW,EAAI,GAAKrtC,KAAKyS,IAAI5W,GAAK+6B,EAChByW,EAWF,SAASs9D,EAAct9D,EAAKjuC,EAAGjE,GACpC,IAAIyhB,EAAIxd,EAAE,GACNmQ,EAAInQ,EAAE,GAGV,OAFAiuC,EAAI,GAAKlyC,EAAE,GAAKyhB,EAAIzhB,EAAE,GAAKoU,EAC3B89B,EAAI,GAAKlyC,EAAE,GAAKyhB,EAAIzhB,EAAE,GAAKoU,EACpB89B,EAWF,SAASu9D,EAAev9D,EAAKjuC,EAAGjE,GACrC,IAAIyhB,EAAIxd,EAAE,GACNmQ,EAAInQ,EAAE,GAGV,OAFAiuC,EAAI,GAAKlyC,EAAE,GAAKyhB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,GACjCkyC,EAAI,GAAKlyC,EAAE,GAAKyhB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,GAC1BkyC,EAYF,SAASxgB,EAAcwgB,EAAKjuC,EAAGjE,GACpC,IAAIyhB,EAAIxd,EAAE,GACNmQ,EAAInQ,EAAE,GAGV,OAFAiuC,EAAI,GAAKlyC,EAAE,GAAKyhB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,GACjCkyC,EAAI,GAAKlyC,EAAE,GAAKyhB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,GAC1BkyC,EAaF,SAASw9D,EAAcx9D,EAAKjuC,EAAGjE,GACpC,IAAIyhB,EAAIxd,EAAE,GACNmQ,EAAInQ,EAAE,GAGV,OAFAiuC,EAAI,GAAKlyC,EAAE,GAAKyhB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,IACjCkyC,EAAI,GAAKlyC,EAAE,GAAKyhB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,IAC1BkyC,EAWF,SAASvwB,EAAOuwB,EAAKjuC,EAAGmC,EAAGi2B,GAEhC,IAAI3M,EAAKzrB,EAAE,GAAKmC,EAAE,GACdupB,EAAK1rB,EAAE,GAAKmC,EAAE,GACdupG,EAAO9qG,KAAKyS,IAAI+kB,GAChBuzE,EAAO/qG,KAAKwS,IAAIglB,GAIpB,OAFA6V,EAAI,GAAKxiB,EAAKkgF,EAAOjgF,EAAKggF,EAAOvpG,EAAE,GACnC8rC,EAAI,GAAKxiB,EAAKigF,EAAOhgF,EAAKigF,EAAOxpG,EAAE,GAC5B8rC,EASF,SAASjhB,EAAMhtB,EAAGmC,GACvB,IAAI8uB,EAAKjxB,EAAE,GACPkxB,EAAKlxB,EAAE,GACPmxB,EAAKhvB,EAAE,GACPivB,EAAKjvB,EAAE,GAEXypG,EAAMhrG,KAAKuS,KAAK8d,EAAKA,EAAKC,EAAKA,GAAMtwB,KAAKuS,KAAKge,EAAKA,EAAKC,EAAKA,GAE9Dy6E,EAASD,IAAQ36E,EAAKE,EAAKD,EAAKE,GAAMw6E,EAEtC,OAAOhrG,KAAK+5D,KAAK/5D,KAAKE,IAAIF,KAAKC,IAAIgrG,GAAS,GAAI,IAS3C,SAASC,EAAK79D,GAGnB,OAFAA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,EASF,SAASjsC,EAAIhC,GAClB,MAAO,QAAUA,EAAE,GAAK,KAAOA,EAAE,GAAK,IAUjC,SAAS4zB,EAAY5zB,EAAGmC,GAC7B,OAAOnC,EAAE,KAAOmC,EAAE,IAAMnC,EAAE,KAAOmC,EAAE,GAU9B,SAASukF,EAAO1mF,EAAGmC,GACxB,IAAIwkF,EAAK3mF,EAAE,GACP4mF,EAAK5mF,EAAE,GACPonF,EAAKjlF,EAAE,GACPklF,EAAKllF,EAAE,GACX,OAAOvB,KAAKqF,IAAI0gF,EAAKS,IAAOhF,IAAmBxhF,KAAKC,IAAI,EAAKD,KAAKqF,IAAI0gF,GAAK/lF,KAAKqF,IAAImhF,KAAQxmF,KAAKqF,IAAI2gF,EAAKS,IAAOjF,IAAmBxhF,KAAKC,IAAI,EAAKD,KAAKqF,IAAI2gF,GAAKhmF,KAAKqF,IAAIohF,IAOpK,IAmDD34D,EAnDK1vB,EAAMnB,EAMN+5D,EAAMqP,EAMN4gB,EAAM5D,EAMN8nB,EAAMhB,EAMNthG,EAAO6e,EAMP0jF,EAAUf,EAMVgB,EAASf,EAcTl/F,GACL0iB,EAAMzxB,IACH,SAAU+C,EAAGksG,EAAQtyF,EAAQ1E,EAAOrT,EAAIsqG,GAC7C,IAAIxwG,EAAGC,EAgBP,IAdKswG,IACHA,EAAS,GAGNtyF,IACHA,EAAS,GAIThe,EADEsZ,EACEtU,KAAKE,IAAIoU,EAAQg3F,EAAStyF,EAAQ5Z,EAAEnC,QAEpCmC,EAAEnC,OAGHlC,EAAIie,EAAQje,EAAIC,EAAGD,GAAKuwG,EAC3Bx9E,EAAI,GAAK1uB,EAAErE,GACX+yB,EAAI,GAAK1uB,EAAErE,EAAI,GACfkG,EAAG6sB,EAAKA,EAAKy9E,GACbnsG,EAAErE,GAAK+yB,EAAI,GACX1uB,EAAErE,EAAI,GAAK+yB,EAAI,GAGjB,OAAO1uB,K,gCCvmBX,IAAIosG,EACAC,EACAC,EACAC,EAoBU,SAAUC,EAAUxqG,GAC3BoqG,IAfLA,EAAQ5+F,SAASC,cAAc,SAC/B4+F,EAAW7+F,SAASC,cAAc,MAClC6+F,EAAe,qBACfC,EAAa,CACXE,GAAIj/F,SAASC,cAAc,SAC3Bi/F,MAAON,EACPO,MAAOP,EACPQ,MAAOR,EACPS,GAAIR,EACJS,GAAIT,EACJ,IAAK7+F,SAASC,cAAc,SAQ9B,IAAIvR,EAAOowG,EAAazzE,KAAK72B,IAAQ42B,OAAOm0E,GACvC7wG,GAAUA,KAAQqwG,IACrBrwG,EAAO,KAET,IAAMqpC,EAAYgnE,EAAWrwG,GAC7B8F,EAAqB,iBAARA,EAAmBA,EAAI8B,QAAQ,iBAAkB,IAAM9B,EACpEujC,EAAUf,UAAY,GAAKxiC,EAC3B,IAAMgrG,EAAMznE,EAAU0nE,WAAW,GAIjC,OAHID,GAAOznE,EAAUznC,SAASkvG,IAC5BznE,EAAUe,YAAY0mE,GAEjBA,EC5CK,SAAUE,EAAUF,EAAkBG,GAClD,GAAIH,EACF,IAAK,IAAM9vG,KAAOiwG,EACZA,EAAI3vG,eAAeN,KACrB8vG,EAAIxzF,MAAMtc,GAAOiwG,EAAIjwG,IAI3B,OAAO8vG,E,0UCRI,SAASllF,EAAQjrB,GAAG,OAAOirB,EAAQ,mBAAmBprB,QAAQ,YAAiBA,OAAOiU,UAAS,SAAS9T,GAAG,SAAcA,IAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBH,QAAQG,EAAEwL,cAAc3L,QAAQG,IAAIH,OAAOa,UAAU,SAA3E,EAA2FV,KAAIA,GAAG,IAAIuwG,EAAY77F,EAAQ,KAAgBE,EAAQF,EAAQ,KAAiB87F,EAAO,GAAG9lG,MAAM+lG,EAAc,CAAC,UAAU,OAAO,OAAOC,EAAgB,GAAGlxG,OAAO8C,KAAKsS,GAASzF,SAAS,SAASnP,GAAG0wG,EAAgBF,EAAOvxG,KAAK2V,EAAQ5U,GAAG+U,QAAQrP,OAAOqL,KAAK,KAAK/Q,KAAK,IAAI2wG,EAAS,GAAG,SAASC,EAAM5wG,EAAEJ,GAAG,KAAKlB,gBAAgBkyG,GAAO,OAAO,IAAIA,EAAM5wG,EAAEJ,GAAG,GAAGA,GAAGA,KAAK6wG,IAAgB7wG,EAAE,MAAMA,KAAKA,KAAKgV,GAAS,MAAM,IAAImB,MAAM,kBAAkBnW,GAAG,IAAIL,EAAEkH,EAAElG,EAAExB,EAAED,EAAEqE,EAAEtC,EAAEqV,EAAE/W,EAAE,GAAG,MAAMa,EAAEtB,KAAKoX,MAAM,MAAMpX,KAAKoJ,MAAM,CAAC,EAAE,EAAE,GAAGpJ,KAAKmyG,OAAO,OAAO,GAAG7wG,aAAa4wG,EAAMlyG,KAAKoX,MAAM9V,EAAE8V,MAAMpX,KAAKoJ,MAAM9H,EAAE8H,MAAM4C,QAAQhM,KAAKmyG,OAAO7wG,EAAE6wG,YAAY,GAAG,iBAAiB7wG,EAAE,CAAC,GAAG,QAAQyG,EAAE8pG,EAAY5wG,IAAIK,IAAI,MAAM,IAAI+V,MAAM,sCAAsC/V,GAAGtB,KAAKoX,MAAMrP,EAAEqP,MAAM3W,EAAEyV,EAAQlW,KAAKoX,OAAOhB,SAASpW,KAAKoJ,MAAMrB,EAAE1G,MAAM2K,MAAM,EAAEvL,GAAGT,KAAKmyG,OAAO,iBAAiBpqG,EAAE1G,MAAMZ,GAAGsH,EAAE1G,MAAMZ,GAAG,OAAO,GAAGa,EAAEgB,OAAOtC,KAAKoX,MAAMlW,GAAG,MAAMT,EAAEyV,EAAQlW,KAAKoX,OAAOhB,SAASvU,EAAEiwG,EAAOvxG,KAAKe,EAAE,EAAEb,GAAGT,KAAKoJ,MAAMgpG,EAAUvwG,EAAEpB,GAAGT,KAAKmyG,OAAO,iBAAiB7wG,EAAEb,GAAGa,EAAEb,GAAG,OAAO,GAAG,iBAAiBa,EAAEA,GAAG,SAAStB,KAAKoX,MAAM,MAAMpX,KAAKoJ,MAAM,CAAC9H,GAAG,GAAG,IAAIA,GAAG,EAAE,IAAI,IAAIA,GAAGtB,KAAKmyG,OAAO,MAAM,CAAC,GAAGnyG,KAAKmyG,OAAO,EAAE9xG,EAAES,OAAO8C,KAAKtC,GAAG,UAAUA,IAAIjB,EAAE2F,OAAO3F,EAAEoC,QAAQ,SAAS,GAAGzC,KAAKmyG,OAAO,iBAAiB7wG,EAAE+wG,MAAM/wG,EAAE+wG,MAAM,MAAMjyG,EAAEC,EAAE2G,OAAOqL,KAAK,OAAO2/F,GAAiB,MAAM,IAAI36F,MAAM,sCAAsC2vB,KAAKsrE,UAAUhxG,IAAI,IAAItB,KAAKoX,MAAM46F,EAAgB5xG,GAAGqE,EAAEyR,EAAQlW,KAAKoX,OAAOf,OAAOlU,EAAE,GAAGtB,EAAE,EAAEA,EAAE4D,EAAEnC,OAAOzB,IAAIsB,EAAEW,KAAKxB,EAAEmD,EAAE5D,KAAKb,KAAKoJ,MAAMgpG,EAAUjwG,GAAG,GAAG8vG,EAASjyG,KAAKoX,OAAO,IAAI3W,EAAEyV,EAAQlW,KAAKoX,OAAOhB,SAASvV,EAAE,EAAEA,EAAEJ,EAAEI,KAAK2W,EAAEy6F,EAASjyG,KAAKoX,OAAOvW,MAAMb,KAAKoJ,MAAMvI,GAAG2W,EAAExX,KAAKoJ,MAAMvI,KAAKb,KAAKmyG,OAAO9sG,KAAKC,IAAI,EAAED,KAAKE,IAAI,EAAEvF,KAAKmyG,SAASrxG,OAAOyxG,QAAQzxG,OAAOyxG,OAAOvyG,MAAwD,SAASwyG,EAAalxG,GAAG,OAAO,SAASJ,GAAG,OAA9F,SAAiBI,EAAEJ,GAAG,OAAOoJ,OAAOhJ,EAAE2I,QAAQ/I,IAAuDuxG,CAAQvxG,EAAEI,IAAI,SAASoxG,EAAOpxG,EAAEJ,EAAEL,GAAG,OAAOS,EAAE+B,MAAMC,QAAQhC,GAAGA,EAAE,CAACA,IAAImP,SAAS,SAASnP,IAAI2wG,EAAS3wG,KAAK2wG,EAAS3wG,GAAG,KAAKJ,GAAGL,KAAKS,EAAEA,EAAE,GAAG,SAASyG,GAAG,IAAIlG,EAAE,OAAOkN,UAAUzM,QAAQzB,IAAIkH,EAAElH,EAAEkH,KAAKlG,EAAE7B,KAAKsB,MAAM8H,MAAMlI,GAAG6G,EAAElG,IAAIA,EAAE7B,KAAKsB,KAAK8H,MAAMlI,GAAGL,IAAIgB,EAAEhB,EAAEgB,IAAIA,IAAI,SAAS8wG,EAAMrxG,GAAG,OAAO,SAASJ,GAAG,OAAOmE,KAAKC,IAAI,EAAED,KAAKE,IAAIjE,EAAEJ,KAAK,SAAS0xG,EAAYtxG,GAAG,OAAO+B,MAAMC,QAAQhC,GAAGA,EAAE,CAACA,GAAG,SAAS8wG,EAAU9wG,EAAEJ,GAAG,IAAIL,EAAE,IAAIA,EAAE,EAAEA,EAAEK,EAAEL,IAAI,iBAAiBS,EAAET,KAAKS,EAAET,GAAG,GAAG,OAAOS,EAAE4wG,EAAMlwG,UAAU,CAACiB,SAAS,WAAW,OAAOjD,KAAK6yG,UAAUC,OAAO,WAAW,OAAO9yG,KAAKA,KAAKoX,UAAUy7F,OAAO,SAASvxG,GAAG,IAAIJ,EAAElB,KAAKoX,SAASy6F,EAAYl8F,GAAG3V,KAAKA,KAAKmW,MAAMtV,EAAE,KAAKK,EAAEA,EAAE4I,MAAM,iBAAiBxI,EAAEA,EAAE,IAAI6wG,OAAOjxG,EAAEkI,MAAMlI,EAAEkI,MAAMpE,OAAOhF,KAAKmyG,QAAQ,OAAON,EAAYl8F,GAAGzU,EAAEkW,OAAOvW,IAAIkyG,cAAc,SAASzxG,GAAG,IAAIJ,EAAElB,KAAKmW,MAAMrM,MAAM,iBAAiBxI,EAAEA,EAAE,GAAGT,EAAE,IAAIK,EAAEixG,OAAOjxG,EAAEkI,MAAMlI,EAAEkI,MAAMpE,OAAOhF,KAAKmyG,QAAQ,OAAON,EAAYl8F,GAAGQ,IAAI4M,QAAQliB,IAAI+H,MAAM,WAAW,OAAO,IAAI5I,KAAKmyG,OAAOnyG,KAAKoJ,MAAM4C,QAAQhM,KAAKoJ,MAAMpE,OAAOhF,KAAKmyG,SAASrwG,OAAO,WAAW,IAAIR,EAAEJ,EAAE,GAAGL,EAAEqV,EAAQlW,KAAKoX,OAAOhB,SAASrO,EAAEmO,EAAQlW,KAAKoX,OAAOf,OAAO,IAAI/U,EAAE,EAAEA,EAAET,EAAES,IAAIJ,EAAE6G,EAAEzG,IAAItB,KAAKoJ,MAAM9H,GAAG,OAAO,IAAItB,KAAKmyG,SAASjxG,EAAEmxG,MAAMryG,KAAKmyG,QAAQjxG,GAAG8xG,UAAU,WAAW,IAAI1xG,EAAEtB,KAAKmW,MAAM/M,MAAM,OAAO9H,EAAE,IAAI,IAAIA,EAAE,IAAI,IAAIA,EAAE,IAAI,IAAI,IAAItB,KAAKmyG,QAAQ7wG,EAAEwB,KAAK9C,KAAKmyG,QAAQ7wG,GAAG2xG,WAAW,WAAW,IAAI3xG,EAAEtB,KAAKmW,MAAMrU,SAAS,OAAOR,EAAEJ,GAAG,IAAII,EAAEuT,GAAG,IAAIvT,EAAEsF,GAAG,IAAI,IAAI5G,KAAKmyG,SAAS7wG,EAAE+wG,MAAMryG,KAAKmyG,QAAQ7wG,GAAGwI,MAAM,SAASxI,GAAG,OAAOA,EAAE+D,KAAKC,IAAIhE,GAAG,EAAE,GAAG,IAAI4wG,EAAMlyG,KAAKoJ,MAAMmH,IAAIiiG,EAAalxG,IAAI0D,OAAOhF,KAAKmyG,QAAQnyG,KAAKoX,QAAQi7F,MAAM,SAAS/wG,GAAG,OAAOyN,UAAUzM,OAAO,IAAI4vG,EAAMlyG,KAAKoJ,MAAMpE,OAAOK,KAAKC,IAAI,EAAED,KAAKE,IAAI,EAAEjE,KAAKtB,KAAKoX,OAAOpX,KAAKmyG,QAAQ5nF,IAAImoF,EAAO,MAAM,EAAEC,EAAM,MAAMtsF,MAAMqsF,EAAO,MAAM,EAAEC,EAAM,MAAMlvF,KAAKivF,EAAO,MAAM,EAAEC,EAAM,MAAMO,IAAIR,EAAO,CAAC,MAAM,MAAM,MAAM,MAAM,OAAO,GAAG,SAASpxG,GAAG,OAAOA,EAAE,IAAI,KAAK,OAAO6xG,YAAYT,EAAO,MAAM,EAAEC,EAAM,MAAMS,UAAUV,EAAO,MAAM,EAAEC,EAAM,MAAMU,YAAYX,EAAO,MAAM,EAAEC,EAAM,MAAMtxG,MAAMqxG,EAAO,MAAM,EAAEC,EAAM,MAAMW,OAAOZ,EAAO,MAAM,EAAEC,EAAM,MAAMx7F,KAAKu7F,EAAO,MAAM,EAAEC,EAAM,MAAM5mF,MAAM2mF,EAAO,MAAM,EAAEC,EAAM,MAAMY,OAAOb,EAAO,MAAM,EAAEC,EAAM,MAAMvuF,KAAKsuF,EAAO,OAAO,EAAEC,EAAM,MAAMvqF,QAAQsqF,EAAO,OAAO,EAAEC,EAAM,MAAM1mF,OAAOymF,EAAO,OAAO,EAAEC,EAAM,MAAMpvF,MAAMmvF,EAAO,OAAO,EAAEC,EAAM,MAAM1wF,EAAEywF,EAAO,MAAM,EAAEC,EAAM,MAAM/9F,EAAE89F,EAAO,MAAM,EAAEC,EAAM,MAAMx4E,EAAEu4E,EAAO,MAAM,EAAEC,EAAM,MAAMtyG,EAAEqyG,EAAO,MAAM,EAAEC,EAAM,MAAMluG,EAAEiuG,EAAO,MAAM,GAAG9rG,EAAE8rG,EAAO,MAAM,GAAG57F,QAAQ,SAASxV,GAAG,OAAOyN,UAAUzM,OAAO,IAAI4vG,EAAM5wG,GAAG4U,EAAQlW,KAAKoX,OAAON,QAAQ9W,KAAKoJ,QAAQyN,IAAI,SAASvV,GAAG,OAAOyN,UAAUzM,OAAO,IAAI4vG,EAAM5wG,GAAGuwG,EAAYl8F,GAAGkB,IAAI7W,KAAKmW,MAAMrM,QAAQV,QAAQoqG,UAAU,WAAW,IAAIlyG,EAAEtB,KAAKmW,MAAM/M,MAAM,OAAO,IAAI9H,EAAE,KAAK,IAAI,IAAIA,EAAE,KAAK,EAAE,IAAIA,EAAE,IAAImyG,WAAW,WAAW,IAAInyG,EAAEJ,EAAEL,EAAEb,KAAKmW,MAAM/M,MAAMrB,EAAE,GAAG,IAAIzG,EAAE,EAAEA,EAAET,EAAEyB,OAAOhB,IAAIJ,EAAEL,EAAES,GAAG,IAAIyG,EAAEzG,GAAGJ,GAAG,OAAOA,EAAE,MAAMmE,KAAKkS,KAAKrW,EAAE,MAAM,MAAM,KAAK,MAAM,MAAM6G,EAAE,GAAG,MAAMA,EAAE,GAAG,MAAMA,EAAE,IAAI2rG,SAAS,SAASpyG,GAAG,IAAIJ,EAAElB,KAAKyzG,aAAa5yG,EAAES,EAAEmyG,aAAa,OAAOvyG,EAAEL,GAAGK,EAAE,MAAML,EAAE,MAAMA,EAAE,MAAMK,EAAE,MAAMqO,MAAM,SAASjO,GAAG,IAAIJ,EAAElB,KAAK0zG,SAASpyG,GAAG,OAAOJ,GAAG,IAAI,MAAMA,GAAG,IAAI,KAAK,IAAIyyG,OAAO,WAAW,IAAIryG,EAAEtB,KAAKmW,MAAM/M,MAAM,OAAO,IAAI9H,EAAE,GAAG,IAAIA,EAAE,GAAG,IAAIA,EAAE,IAAI,IAAI,KAAKsyG,QAAQ,WAAW,OAAO5zG,KAAK2zG,UAAU/nC,OAAO,WAAW,IAAItqE,EAAEJ,EAAElB,KAAKmW,MAAM,IAAI7U,EAAE,EAAEA,EAAE,EAAEA,IAAIJ,EAAEkI,MAAM9H,GAAG,IAAIJ,EAAEkI,MAAM9H,GAAG,OAAOJ,GAAG2yG,QAAQ,SAASvyG,GAAG,IAAIJ,EAAElB,KAAKsW,MAAM,OAAOpV,EAAEkI,MAAM,IAAIlI,EAAEkI,MAAM,GAAG9H,EAAEJ,GAAG4yG,OAAO,SAASxyG,GAAG,IAAIJ,EAAElB,KAAKsW,MAAM,OAAOpV,EAAEkI,MAAM,IAAIlI,EAAEkI,MAAM,GAAG9H,EAAEJ,GAAG6yG,SAAS,SAASzyG,GAAG,IAAIJ,EAAElB,KAAKsW,MAAM,OAAOpV,EAAEkI,MAAM,IAAIlI,EAAEkI,MAAM,GAAG9H,EAAEJ,GAAG8yG,WAAW,SAAS1yG,GAAG,IAAIJ,EAAElB,KAAKsW,MAAM,OAAOpV,EAAEkI,MAAM,IAAIlI,EAAEkI,MAAM,GAAG9H,EAAEJ,GAAG+yG,OAAO,SAAS3yG,GAAG,IAAIJ,EAAElB,KAAKwW,MAAM,OAAOtV,EAAEkI,MAAM,IAAIlI,EAAEkI,MAAM,GAAG9H,EAAEJ,GAAGgzG,QAAQ,SAAS5yG,GAAG,IAAIJ,EAAElB,KAAKwW,MAAM,OAAOtV,EAAEkI,MAAM,IAAIlI,EAAEkI,MAAM,GAAG9H,EAAEJ,GAAGizG,UAAU,WAAW,IAAI7yG,EAAEtB,KAAKmW,MAAM/M,MAAMlI,EAAE,GAAGI,EAAE,GAAG,IAAIA,EAAE,GAAG,IAAIA,EAAE,GAAG,OAAO4wG,EAAM/7F,IAAIjV,EAAEA,EAAEA,IAAIkzG,KAAK,SAAS9yG,GAAG,OAAOtB,KAAKqyG,MAAMryG,KAAKmyG,OAAOnyG,KAAKmyG,OAAO7wG,IAAI+yG,QAAQ,SAAS/yG,GAAG,OAAOtB,KAAKqyG,MAAMryG,KAAKmyG,OAAOnyG,KAAKmyG,OAAO7wG,IAAI6gB,OAAO,SAAS7gB,GAAG,IAAIJ,EAAElB,KAAKsW,MAAMzV,EAAEK,EAAEkI,MAAM,GAAG,OAAOvI,GAAGA,GAAGA,EAAES,GAAG,KAAK,EAAE,IAAIT,EAAEA,EAAEK,EAAEkI,MAAM,GAAGvI,EAAEK,GAAGiN,IAAI,SAAS7M,EAAEJ,GAAG,IAAII,IAAIA,EAAE6U,IAAI,MAAM,IAAIkB,MAAM,yEAAyEkV,EAAQjrB,IAAI,IAAIT,EAAES,EAAE6U,MAAMpO,EAAE/H,KAAKmW,MAAMtU,OAAE,IAASX,EAAE,GAAGA,EAAEb,EAAE,EAAEwB,EAAE,EAAEzB,EAAES,EAAEwxG,QAAQtqG,EAAEsqG,QAAQ5tG,IAAIpE,EAAED,IAAI,EAAEC,GAAGA,EAAED,IAAI,EAAEC,EAAED,IAAI,GAAG,EAAE+B,EAAE,EAAEsC,EAAE,OAAOytG,EAAM/7F,IAAI1R,EAAE5D,EAAE0pB,MAAMpoB,EAAE4F,EAAEwiB,MAAM9lB,EAAE5D,EAAEwlB,QAAQlkB,EAAE4F,EAAEse,QAAQ5hB,EAAE5D,EAAE4iB,OAAOthB,EAAE4F,EAAE0b,OAAO5iB,EAAEwxG,QAAQxwG,EAAEkG,EAAEsqG,SAAS,EAAExwG,MAAMf,OAAO8C,KAAKsS,GAASzF,SAAS,SAASnP,GAAG,IAAI,IAAIywG,EAActvG,QAAQnB,GAAG,CAAC,IAAIJ,EAAEgV,EAAQ5U,GAAG8U,SAAS87F,EAAMlwG,UAAUV,GAAG,WAAW,GAAGtB,KAAKoX,QAAQ9V,EAAE,OAAO,IAAI4wG,EAAMlyG,MAAM,GAAG+O,UAAUzM,OAAO,OAAO,IAAI4vG,EAAMnjG,UAAUzN,GAAG,IAAIT,EAAE,iBAAiBkO,UAAU7N,GAAGA,EAAElB,KAAKmyG,OAAO,OAAO,IAAID,EAAMU,EAAY18F,EAAQlW,KAAKoX,OAAO9V,GAAGsrB,IAAI5sB,KAAKoJ,QAAQpE,OAAOnE,GAAGS,IAAI4wG,EAAM5wG,GAAG,SAAST,GAAG,MAAM,iBAAiBA,IAAIA,EAAEuxG,EAAUN,EAAOvxG,KAAKwO,WAAW7N,IAAI,IAAIgxG,EAAMrxG,EAAES,QAAQzB,EAAOD,QAAQsyG,G,+BCArzN,sGAKO,IAAIoC,EAAU,KACVC,EAAqC,oBAAjB9zD,aAA+BA,aAAep9C,MAClEmxG,EAASnvG,KAAKy9B,OAUZz9B,KAAK6F,GAuBb7F,KAAK0uC,QAAO1uC,KAAK0uC,MAAQ,WAI5B,IAHA,IAAIn/B,EAAI,EACJxU,EAAI2O,UAAUzM,OAEXlC,KACLwU,GAAK7F,UAAU3O,GAAK2O,UAAU3O,GAGhC,OAAOiF,KAAKuS,KAAKhD,M,gCChDN,IAA6BtT,EAAzB8R,GAAyB9R,EAAE,SAASyG,EAAE7G,GAAG,OAAOI,EAAER,OAAOoS,gBAAgB,CAACC,UAAU,cAAc9P,OAAO,SAAS/B,EAAEyG,GAAGzG,EAAE6R,UAAUpL,IAAI,SAASzG,EAAEyG,GAAG,IAAI,IAAI7G,KAAK6G,EAAEjH,OAAOkB,UAAUC,eAAe1B,KAAKwH,EAAE7G,KAAKI,EAAEJ,GAAG6G,EAAE7G,MAAM6G,EAAE7G,IAAW,SAAS6G,EAAE7G,GAAG,GAAG,mBAAmBA,GAAG,OAAOA,EAAE,MAAM,IAAIiO,UAAU,uBAAuBkE,OAAOnS,GAAG,iCAAiC,SAASL,IAAIb,KAAK8M,YAAY/E,EAAEzG,EAAEyG,EAAE7G,GAAG6G,EAAE/F,UAAU,OAAOd,EAAEJ,OAAOY,OAAOR,IAAIL,EAAEmB,UAAUd,EAAEc,UAAU,IAAInB,KAAOC,OAAOC,eAAenB,EAAQ,aAAa,CAACyB,OAAM,IAAKzB,EAAQ60G,gBAAgB70G,EAAQ80G,iBAAiB90G,EAAQ+0G,oBAAe,EAAO,IAAIC,EAAO5+F,EAAQ,IAAkBiH,EAAOjH,EAAQ,KAAiBzF,EAAI,IAAIpJ,IAAyYvH,EAAQ+0G,eAA9X,SAASrzG,EAAEyG,GAAG,IAAI7G,EAAEqP,EAAItP,IAAIK,IAAIgZ,QAAQC,KAAK,4BAA4BjZ,EAAE,0CAA0C2b,EAAOvZ,SAASqE,IAAI7G,EAAE,SAASI,GAAG,SAASJ,EAAEA,GAAG,IAAIL,EAAES,EAAEf,KAAKP,OAAOA,KAAK6B,EAAEhB,EAAE4D,EAAE,GAAGgT,EAAE5V,EAAE4sB,gBAAgB,OAAO3tB,OAAO0S,OAAO/O,EAAEgT,EAAE1P,EAAE7G,GAAGJ,OAAO8C,KAAKa,GAAGgM,SAAS,SAASnP,GAAG,IAAIyG,EAAEtD,EAAEnD,GAAGO,EAAEP,GAAGyG,KAAKlH,EAAE,OAAOuS,EAAUlS,EAAEI,GAAGJ,EAA/L,CAAkM0zG,EAAOC,MAAMtkG,EAAIjJ,IAAIhG,EAAEJ,IAAIqP,EAAIjJ,IAAIhG,EAAEyG,IAAsGnI,EAAQ80G,iBAA/C,SAASpzG,GAAGiP,EAAIlJ,IAAI/F,IAAIiP,EAAIyxD,OAAO1gE,IAAiH1B,EAAQ60G,gBAAvD,SAASnzG,GAAG,OAAOiP,EAAIlJ,IAAI/F,GAAGiP,EAAItP,IAAIK,GAAG,O,gCCA1wC,IAA6BA,EAAzB8R,GAAyB9R,EAAE,SAASyG,EAAElG,GAAG,OAAOP,EAAER,OAAOoS,gBAAgB,CAACC,UAAU,cAAc9P,OAAO,SAAS/B,EAAEyG,GAAGzG,EAAE6R,UAAUpL,IAAI,SAASzG,EAAEyG,GAAG,IAAI,IAAIlG,KAAKkG,EAAEjH,OAAOkB,UAAUC,eAAe1B,KAAKwH,EAAElG,KAAKP,EAAEO,GAAGkG,EAAElG,MAAMkG,EAAElG,IAAW,SAASkG,EAAElG,GAAG,GAAG,mBAAmBA,GAAG,OAAOA,EAAE,MAAM,IAAIsN,UAAU,uBAAuBkE,OAAOxR,GAAG,iCAAiC,SAAShB,IAAIb,KAAK8M,YAAY/E,EAAEzG,EAAEyG,EAAElG,GAAGkG,EAAE/F,UAAU,OAAOH,EAAEf,OAAOY,OAAOG,IAAIhB,EAAEmB,UAAUH,EAAEG,UAAU,IAAInB,KAAOC,OAAOC,eAAenB,EAAQ,aAAa,CAACyB,OAAM,IAAKzB,EAAQk1G,kBAAa,EAAO,IAA6BA,EAAa,SAASxzG,GAAG,SAASyG,EAAEA,GAAG,IAAIlG,EAAEP,EAAEf,KAAKP,OAAOA,KAAK,OAAO6B,EAAEkvB,OAAO,CAAC,EAAE,GAAGlvB,EAAE0Q,MAAM,IAAI1Q,EAAEif,OAAO,IAAIjf,EAAEqsB,MAAM,GAAGrsB,EAAEssB,MAAM,GAAGtsB,EAAEk4D,YAAY,aAAal4D,EAAE8sB,UAAU5mB,GAAGlG,EAAE,OAAOuR,EAAUrL,EAAEzG,GAAGyG,EAAE/F,UAAUysB,cAAc,WAAW,MAAM,CAACsC,OAAO,CAAC,EAAE,GAAGxe,MAAM,IAAIuO,OAAO,MAAM/Y,EAAE/F,UAAUm4D,QAAQ,WAAW,IAAI74D,EAAEtB,KAAK+H,EAAEzG,EAAE4sB,MAAMrsB,EAAEP,EAAEyvB,OAAO,OAAOzvB,EAAEiR,OAAO,oBAAoBlF,SAAS/L,EAAEiR,MAAMlF,OAAO0nG,YAAYzzG,EAAEwf,QAAQ,oBAAoBzT,SAAS/L,EAAEwf,OAAOzT,OAAO2nG,aAAajtG,GAAGA,EAAE0I,SAAS,SAAS1I,GAAGA,EAAEka,EAAE,IAAI5c,KAAKy9B,SAAS,IAAIxhC,EAAEiR,MAAM1Q,EAAE,GAAGkG,EAAE6M,EAAE,IAAIvP,KAAKy9B,SAAS,IAAIxhC,EAAEwf,OAAOjf,EAAE,MAAMP,EAAEy4D,aAAaz4D,EAAEy4D,cAAc,CAAC7rC,MAAMnmB,EAAEomB,MAAMnuB,KAAKmuB,QAAQpmB,EAAE/F,UAAUqK,QAAQ,WAAW,MAAM,UAAUtE,EAA3qB,CAA/BiO,EAAQ,IAA4sB6+F,MAAMj1G,EAAQk1G,aAAaA,G,gCCAlzCh0G,OAAOC,eAAenB,EAAQ,aAAa,CAACyB,OAAM,IAAKzB,EAAQi1G,UAAK,EAAO,IAAIA,EAAK,WAAW,SAASvzG,IAAItB,KAAKkuB,MAAM,GAAGluB,KAAKmuB,MAAM,GAAGnuB,KAAKogC,OAAO,GAAGpgC,KAAKi1G,UAAU,GAAGj1G,KAAK8gC,WAAU,EAAG9gC,KAAK+5D,YAAY,aAAa,OAAOz4D,EAAEU,UAAUsnD,OAAO,SAAShoD,GAAG,OAAOtB,KAAKuG,KAAKjF,GAAGtB,KAAKm6D,SAAQ,IAAK74D,EAAEU,UAAUuE,KAAK,SAASjF,GAAGtB,KAAKkuB,MAAM5sB,EAAE4sB,OAAO,GAAGluB,KAAKmuB,MAAM7sB,EAAE6sB,OAAO,GAAGnuB,KAAKogC,OAAO9+B,EAAE8+B,QAAQ,IAAI9+B,EAAEU,UAAUm4D,QAAQ,aAAa74D,EAAEU,UAAUkzG,kBAAkB,aAAa5zG,EAAEU,UAAUysB,cAAc,WAAW,MAAM,IAAIntB,EAAEU,UAAU2sB,UAAU,SAASrtB,GAAGA,GAAGR,OAAO0S,OAAOxT,KAAKsB,IAAIA,EAAEU,UAAUqK,QAAQ,WAAW,MAAM,QAAQ/K,EAAEU,UAAUugC,QAAQ,WAAWviC,KAAKkuB,MAAM,KAAKluB,KAAKmuB,MAAM,KAAKnuB,KAAKogC,OAAO,KAAKpgC,KAAKi1G,UAAU,KAAKj1G,KAAK8gC,WAAU,GAAIx/B,EAAjpB,GAAspB1B,EAAQi1G,KAAKA,G,qjFCG9vBh3C,EACJ,2CACIC,EAAe,IAAIzgC,OACvB,WAAWwgC,EAAM,wCAAwCA,EAAM,QAAQA,EAAM,QAC7E,MAEIE,EAAc,IAAI1gC,OAAO,qCAAqCwgC,EAAM,QAAQA,EAAM,KAAM,MAExFG,EAAkB,SAAUC,GAChC,IAAKA,EACH,OAAO,KAGT,GAAI36D,kBAAQ26D,GACV,OAAOA,EAET,IAAMC,EAAc,CAClBz5D,EAAG,EACHhE,EAAG,EACHI,EAAG,EACH2W,EAAG,EACHnX,EAAG,EACHG,EAAG,EACHU,EAAG,EACH8yB,EAAG,EACH7xB,EAAG,EACHb,EAAG,EACHoE,EAAG,EACH+R,EAAG,EACH0iB,EAAG,GAECt1B,EAAO,GA6Bb,OA3BAwO,OAAO4qD,GAAY11D,QAAQu1D,GAAc,SAACr5D,EAAGmC,EAAGnG,GAC9C,IAAM09D,EAAS,GACXx9D,EAAOiG,EAAE8E,cAYb,GAXAjL,EAAE8H,QAAQw1D,GAAa,SAACt5D,EAAGmC,GACzBA,GAAKu3D,EAAOr7D,MAAM8D,MAEP,MAATjG,GAAgBw9D,EAAO77D,OAAS,IAClCuC,EAAK/B,KAAK,CAAC8D,GAAG5B,OAAOm5D,EAAOn4D,OAAO,EAAG,KACtCrF,EAAO,IACPiG,EAAU,MAANA,EAAY,IAAM,KAEX,MAATjG,GAAkC,IAAlBw9D,EAAO77D,QACzBuC,EAAK/B,KAAK,CAAC8D,EAAGu3D,EAAO,KAEV,MAATx9D,EACFkE,EAAK/B,KAAK,CAAC8D,GAAG5B,OAAOm5D,SAErB,KAAOA,EAAO77D,QAAU47D,EAAYv9D,KAClCkE,EAAK/B,KAAK,CAAC8D,GAAG5B,OAAOm5D,EAAOn4D,OAAO,EAAGk4D,EAAYv9D,MAC7Cu9D,EAAYv9D,MAKrB,OAAOs9D,KAGFp5D,GAIHswG,EAAqB,SAAU54C,EAAKpiC,GAGxC,IAFA,IAAMz5B,EAAI,GAEDN,EAAI,EAAGg1G,EAAO74C,EAAIj6D,OAAQ8yG,EAAO,GAAKj7E,EAAI/5B,EAAGA,GAAK,EAAG,CAC5D,IAAM8B,EAAI,CACR,CACE+f,GAAIs6C,EAAIn8D,EAAI,GACZwU,GAAI2nD,EAAIn8D,EAAI,IAEd,CACE6hB,GAAIs6C,EAAIn8D,GACRwU,GAAI2nD,EAAIn8D,EAAI,IAEd,CACE6hB,GAAIs6C,EAAIn8D,EAAI,GACZwU,GAAI2nD,EAAIn8D,EAAI,IAEd,CACE6hB,GAAIs6C,EAAIn8D,EAAI,GACZwU,GAAI2nD,EAAIn8D,EAAI,KAGZ+5B,EACG/5B,EAKMg1G,EAAO,IAAMh1G,EACtB8B,EAAE,GAAK,CACL+f,GAAIs6C,EAAI,GACR3nD,GAAI2nD,EAAI,IAED64C,EAAO,IAAMh1G,IACtB8B,EAAE,GAAK,CACL+f,GAAIs6C,EAAI,GACR3nD,GAAI2nD,EAAI,IAEVr6D,EAAE,GAAK,CACL+f,GAAIs6C,EAAI,GACR3nD,GAAI2nD,EAAI,KAhBVr6D,EAAE,GAAK,CACL+f,GAAIs6C,EAAI64C,EAAO,GACfxgG,GAAI2nD,EAAI64C,EAAO,IAkBfA,EAAO,IAAMh1G,EACf8B,EAAE,GAAKA,EAAE,GACC9B,IACV8B,EAAE,GAAK,CACL+f,GAAIs6C,EAAIn8D,GACRwU,GAAI2nD,EAAIn8D,EAAI,KAIlBM,EAAEoC,KAAK,CACL,MACEZ,EAAE,GAAG+f,EAAI,EAAI/f,EAAE,GAAG+f,EAAI/f,EAAE,GAAG+f,GAAK,IAChC/f,EAAE,GAAG0S,EAAI,EAAI1S,EAAE,GAAG0S,EAAI1S,EAAE,GAAG0S,GAAK,GACjC1S,EAAE,GAAG+f,EAAI,EAAI/f,EAAE,GAAG+f,EAAI/f,EAAE,GAAG+f,GAAK,GAChC/f,EAAE,GAAG0S,EAAI,EAAI1S,EAAE,GAAG0S,EAAI1S,EAAE,GAAG0S,GAAK,EACjC1S,EAAE,GAAG+f,EACL/f,EAAE,GAAG0S,IAIT,OAAOlU,GAGH20G,EAAc,SAAUpzF,EAAGrN,EAAGid,EAAIC,EAAIrtB,GAC1C,IAAIk0C,EAAM,GAQV,GAPU,OAANl0C,GAAqB,OAAPqtB,IAChBA,EAAKD,GAEP5P,GAAKA,EACLrN,GAAKA,EACLid,GAAMA,EACNC,GAAMA,EACI,OAANrtB,EAAY,CACd,IAAMo4B,EAAMx3B,KAAK6F,GAAK,IAChBwqB,EAAKzT,EAAI4P,EAAKxsB,KAAKwS,KAAKia,EAAK+K,GAC7BjH,EAAK3T,EAAI4P,EAAKxsB,KAAKwS,KAAKpT,EAAIo4B,GAGlC8b,EAAM,CACJ,CAAC,IAAKjjB,EAHG9gB,EAAIid,EAAKxsB,KAAKyS,KAAKga,EAAK+K,IAIjC,CAAC,IAAKhL,EAAIA,EAAI,IAAKptB,EAAIqtB,EAAK,KAAM,EAAG8D,EAH5BhhB,EAAIid,EAAKxsB,KAAKyS,KAAKrT,EAAIo4B,UAMlC8b,EAAM,CAAC,CAAC,IAAK12B,EAAGrN,GAAI,CAAC,IAAK,GAAIkd,GAAK,CAAC,IAAKD,EAAIC,EAAI,EAAG,EAAG,EAAG,EAAG,EAAIA,GAAK,CAAC,IAAKD,EAAIC,EAAI,EAAG,EAAG,EAAG,GAAI,EAAIA,GAAK,CAAC,MAE7G,OAAO6mB,GAGH2lB,EAAiB,SAAUC,GAG/B,KAFAA,EAAYP,EAAgBO,MAETA,EAAUj8D,OAC3B,MAAO,CAAC,CAAC,IAAK,EAAG,IAEnB,IAMIgzG,EACAC,EAPA58D,EAAM,GACN12B,EAAI,EACJrN,EAAI,EACJ8pD,EAAK,EACLC,EAAK,EACLpE,EAAQ,EAGY,MAApBgE,EAAU,GAAG,KAGfG,EAFAz8C,GAAKs8C,EAAU,GAAG,GAGlBI,EAFA/pD,GAAK2pD,EAAU,GAAG,GAGlBhE,IACA5hB,EAAI,GAAK,CAAC,IAAK12B,EAAGrN,IAOpB,IALA,IAAM4gG,EACiB,IAArBj3C,EAAUj8D,QACU,MAApBi8D,EAAU,GAAG,IACqB,MAAlCA,EAAU,GAAG,GAAGpyD,eACkB,MAAlCoyD,EAAU,GAAG,GAAGpyD,cACTjL,OAAC,EAAE88B,OAAE,EAAE59B,EAAIm6D,EAAO1gD,EAAK0kD,EAAUj8D,OAAQlC,EAAIyZ,EAAIzZ,IAAK,CAI7D,GAHAu4C,EAAI71C,KAAM5B,EAAI,KAEdo0G,GADAt3E,EAAKugC,EAAUn+D,IACN,MACGk1G,EAAInpG,cAEd,OADAjL,EAAE,GAAKo0G,EAAInpG,cACHjL,EAAE,IACR,IAAK,IACHA,EAAE,GAAK88B,EAAG,GACV98B,EAAE,GAAK88B,EAAG,GACV98B,EAAE,GAAK88B,EAAG,GACV98B,EAAE,GAAK88B,EAAG,GACV98B,EAAE,GAAK88B,EAAG,GACV98B,EAAE,IAAM88B,EAAG,GAAK/b,EAChB/gB,EAAE,IAAM88B,EAAG,GAAKppB,EAChB,MACF,IAAK,IACH1T,EAAE,IAAM88B,EAAG,GAAKppB,EAChB,MACF,IAAK,IACH1T,EAAE,IAAM88B,EAAG,GAAK/b,EAChB,MACF,IAAK,IAEH,IAAK,IAAIta,EAAI,EAAGm3D,GADhBy2C,EAAO,CAACtzF,EAAGrN,GAAG5P,OAAOg5B,EAAGhyB,MAAM,KACJ1J,OAAQqF,EAAIm3D,EAAIn3D,IACxC4tG,EAAK5tG,IAAM4tG,EAAK5tG,GAAKsa,EACrBszF,IAAO5tG,IAAM4tG,EAAK5tG,GAAKiN,EAEzB+jC,EAAIrjC,MACJqjC,EAAMA,EAAI3zC,OAAOmwG,EAAmBI,EAAMC,IAC1C,MACF,IAAK,IACH78D,EAAIrjC,OACJigG,EAAOF,EAAYpzF,EAAGrN,EAAGopB,EAAG,GAAIA,EAAG,KAC9Bl7B,KAAKyyG,EAAK,IACf58D,EAAMA,EAAI3zC,OAAOuwG,GACjB,MACF,IAAK,IACH58D,EAAIrjC,MACJqjC,EAAMA,EAAI3zC,OAAOqwG,EAAYpzF,EAAGrN,EAAGopB,EAAG,GAAIA,EAAG,GAAIA,EAAG,KACpD98B,EAAI,CAAC,KAAK8D,OAAO2zC,EAAIA,EAAIr2C,OAAS,GAAG0J,OAAO,IAC5C,MACF,IAAK,IACH0yD,GAAM1gC,EAAG,GAAK/b,EACd08C,GAAM3gC,EAAG,GAAKppB,EACd,MACF,QACE,IAASjN,EAAI,EAAGm3D,EAAK9gC,EAAG17B,OAAQqF,EAAIm3D,EAAIn3D,IACtCzG,EAAEyG,IAAMq2B,EAAGr2B,IAAMA,EAAI,EAAIsa,EAAIrN,QAG9B,GAAY,MAAR0gG,EACTC,EAAO,CAACtzF,EAAGrN,GAAG5P,OAAOg5B,EAAGhyB,MAAM,IAC9B2sC,EAAIrjC,MACJqjC,EAAMA,EAAI3zC,OAAOmwG,EAAmBI,EAAMC,IAC1Ct0G,EAAI,CAAC,KAAK8D,OAAOg5B,EAAGhyB,OAAO,SACtB,GAAY,MAARspG,EACT38D,EAAIrjC,OACJigG,EAAOF,EAAYpzF,EAAGrN,EAAGopB,EAAG,GAAIA,EAAG,KAC9Bl7B,KAAKyyG,EAAK,IACf58D,EAAMA,EAAI3zC,OAAOuwG,QACZ,GAAY,MAARD,EACT38D,EAAIrjC,MACJqjC,EAAMA,EAAI3zC,OAAOqwG,EAAYpzF,EAAGrN,EAAGopB,EAAG,GAAIA,EAAG,GAAIA,EAAG,KACpD98B,EAAI,CAAC,KAAK8D,OAAO2zC,EAAIA,EAAIr2C,OAAS,GAAG0J,OAAO,SAE5C,IAAK,IAAIrI,EAAI,EAAG8xG,EAAKz3E,EAAG17B,OAAQqB,EAAI8xG,EAAI9xG,IACtCzC,EAAEyC,GAAKq6B,EAAGr6B,GAId,GAAY,OADZ2xG,EAAMA,EAAInpG,eAER,OAAQjL,EAAE,IACR,IAAK,IACH+gB,GAAKy8C,EACL9pD,GAAK+pD,EACL,MACF,IAAK,IACH18C,EAAI/gB,EAAE,GACN,MACF,IAAK,IACH0T,EAAI1T,EAAE,GACN,MACF,IAAK,IACHw9D,EAAKx9D,EAAEA,EAAEoB,OAAS,GAClBq8D,EAAKz9D,EAAEA,EAAEoB,OAAS,GAClB,MACF,QACE2f,EAAI/gB,EAAEA,EAAEoB,OAAS,GACjBsS,EAAI1T,EAAEA,EAAEoB,OAAS,IAKzB,OAAOq2C,GAGH+8D,EAAM,SAAUhgF,EAAIC,EAAIC,EAAIC,GAChC,MAAO,CAACH,EAAIC,EAAIC,EAAIC,EAAID,EAAIC,IAGxB8/E,EAAM,SAAUjgF,EAAIC,EAAIm6E,EAAIC,EAAIn6E,EAAIC,GAGxC,MAAO,CAFK,EAAI,EAEFH,EADF,EAAI,EACSo6E,EAFb,EAAI,EAEmBn6E,EADvB,EAAI,EAC8Bo6E,EAFlC,EAAI,EAEwCn6E,EAD5C,EAAI,EACmDk6E,EAFvD,EAAI,EAE6Dj6E,EADjE,EAAI,EACwEk6E,EAAIn6E,EAAIC,IAG5F+/E,EAAM,SAANA,EAAgBlgF,EAAIC,EAAI9D,EAAIC,EAAIL,EAAOokF,EAAgBC,EAAYlgF,EAAIC,EAAIkgF,GAG3ElkF,IAAOC,IACTD,GAAM,GAGR,IAGImkF,EACAC,EACAC,EACAhlF,EACAC,EAPEglF,EAAkB,IAAV9wG,KAAK6F,GAAY,IACzB2xB,EAAOx3B,KAAK6F,GAAK,MAASumB,GAAS,GACrCknB,EAAM,GAMJx2B,EAAS,SAAUF,EAAGrN,EAAGioB,GAG7B,MAAO,CACL5a,EAHQA,EAAI5c,KAAKwS,IAAIglB,GAAOjoB,EAAIvP,KAAKyS,IAAI+kB,GAIzCjoB,EAHQqN,EAAI5c,KAAKyS,IAAI+kB,GAAOjoB,EAAIvP,KAAKwS,IAAIglB,KAM7C,GAAKk5E,EA6CHE,EAAKF,EAAU,GACfG,EAAKH,EAAU,GACf7kF,EAAK6kF,EAAU,GACf5kF,EAAK4kF,EAAU,OAhDD,CAEdrgF,GADAsgF,EAAK7zF,EAAOuT,EAAIC,GAAKkH,IACb5a,EACR0T,EAAKqgF,EAAGphG,EAERghB,GADAogF,EAAK7zF,EAAOyT,EAAIC,GAAKgH,IACb5a,EACR4T,EAAKmgF,EAAGphG,EACJ8gB,IAAOE,GAAMD,IAAOE,IAEtBD,GAAM,EACNC,GAAM,GAIR,IAAM5T,GAAKyT,EAAKE,GAAM,EAChBhhB,GAAK+gB,EAAKE,GAAM,EAClBre,EAAKyK,EAAIA,GAAM4P,EAAKA,GAAOjd,EAAIA,GAAMkd,EAAKA,GAC1Cta,EAAI,IAENqa,GADAra,EAAInS,KAAKuS,KAAKJ,GAEdsa,GAAKta,GAEP,IAAM4+F,EAAMvkF,EAAKA,EACXwkF,EAAMvkF,EAAKA,EACXnuB,GACHkyG,IAAmBC,GAAc,EAAI,GACtCzwG,KAAKuS,KAAKvS,KAAKqF,KAAK0rG,EAAMC,EAAMD,EAAMxhG,EAAIA,EAAIyhG,EAAMp0F,EAAIA,IAAMm0F,EAAMxhG,EAAIA,EAAIyhG,EAAMp0F,EAAIA,KACxFiP,EAAMvtB,EAAIkuB,EAAKjd,EAAKkd,GAAM4D,EAAKE,GAAM,EACrCzE,EAAMxtB,GAAKmuB,EAAK7P,EAAK4P,GAAM8D,EAAKE,GAAM,EAEtCogF,EAAK5wG,KAAKixG,OAAO3gF,EAAKxE,GAAMW,GAAI7nB,QAAQ,IAExCisG,EAAK7wG,KAAKixG,OAAOzgF,EAAK1E,GAAMW,GAAI7nB,QAAQ,IAExCgsG,EAAKvgF,EAAKxE,EAAK7rB,KAAK6F,GAAK+qG,EAAKA,EAC9BC,EAAKtgF,EAAK1E,EAAK7rB,KAAK6F,GAAKgrG,EAAKA,EAC9BD,EAAK,IAAMA,EAAe,EAAV5wG,KAAK6F,GAAS+qG,GAC9BC,EAAK,IAAMA,EAAe,EAAV7wG,KAAK6F,GAASgrG,GAC1BJ,GAAcG,EAAKC,IACrBD,GAAoB,EAAV5wG,KAAK6F,KAEZ4qG,GAAcI,EAAKD,IACtBC,GAAoB,EAAV7wG,KAAK6F,IAQnB,IAAIqrG,EAAKL,EAAKD,EACd,GAAI5wG,KAAKqF,IAAI6rG,GAAMJ,EAAM,CACvB,IAAMK,EAAQN,EACRO,EAAQ7gF,EACR8gF,EAAQ7gF,EACdqgF,EAAKD,EAAKE,GAAQL,GAAcI,EAAKD,EAAK,GAAK,GAG/Ct9D,EAAMi9D,EAFNhgF,EAAK1E,EAAKW,EAAKxsB,KAAKwS,IAAIq+F,GACxBrgF,EAAK1E,EAAKW,EAAKzsB,KAAKyS,IAAIo+F,GACNrkF,EAAIC,EAAIL,EAAO,EAAGqkF,EAAYW,EAAOC,EAAO,CAACR,EAAIM,EAAOtlF,EAAIC,IAEhFolF,EAAKL,EAAKD,EACV,IAAMU,EAAKtxG,KAAKwS,IAAIo+F,GACdW,EAAKvxG,KAAKyS,IAAIm+F,GACdY,EAAKxxG,KAAKwS,IAAIq+F,GACdY,EAAKzxG,KAAKyS,IAAIo+F,GACd50G,EAAI+D,KAAKmmB,IAAI+qF,EAAK,GAClBQ,EAAM,EAAI,EAAKllF,EAAKvwB,EACpB01G,EAAM,EAAI,EAAKllF,EAAKxwB,EACpB21G,EAAK,CAACvhF,EAAIC,GACVuhF,EAAK,CAACxhF,EAAKqhF,EAAKH,EAAIjhF,EAAKqhF,EAAKL,GAC9BQ,EAAK,CAACvhF,EAAKmhF,EAAKD,EAAIjhF,EAAKmhF,EAAKH,GAC9BO,EAAK,CAACxhF,EAAIC,GAGhB,GAFAqhF,EAAG,GAAK,EAAID,EAAG,GAAKC,EAAG,GACvBA,EAAG,GAAK,EAAID,EAAG,GAAKC,EAAG,GACnBnB,EACF,MAAO,CAACmB,EAAIC,EAAIC,GAAIpyG,OAAO2zC,GAI7B,IADA,IAAM0+D,EAAS,GACNj3G,EAAI,EAAGyZ,GAFhB8+B,EAAM,CAACu+D,EAAIC,EAAIC,GAAIpyG,OAAO2zC,GAAKtmC,OAAO7J,MAAM,MAEnBlG,OAAQlC,EAAIyZ,EAAIzZ,IACvCi3G,EAAOj3G,GAAKA,EAAI,EAAI+hB,EAAOw2B,EAAIv4C,EAAI,GAAIu4C,EAAIv4C,GAAIy8B,GAAKjoB,EAAIuN,EAAOw2B,EAAIv4C,GAAIu4C,EAAIv4C,EAAI,GAAIy8B,GAAK5a,EAE1F,OAAOo1F,GAGHC,EAAc,SAAU1mG,EAAM2mG,GAClC,IA0BI19F,EA1BE3X,EAAIo8D,EAAe1tD,GACnBwf,EAAKmnF,GAASj5C,EAAei5C,GAC7BvzG,EAAQ,CACZie,EAAG,EACHrN,EAAG,EACH4iG,GAAI,EACJC,GAAI,EACJx9E,EAAG,EACHC,EAAG,EACHw9E,GAAI,KACJC,GAAI,MAEAjc,EAAS,CACbz5E,EAAG,EACHrN,EAAG,EACH4iG,GAAI,EACJC,GAAI,EACJx9E,EAAG,EACHC,EAAG,EACHw9E,GAAI,KACJC,GAAI,MAEAC,EAAS,GACTC,EAAS,GACXC,EAAS,GACTC,EAAO,GAELC,EAAc,SAAUpnG,EAAMlQ,EAAGq3G,GACrC,IAAIE,EACAC,EACJ,IAAKtnG,EACH,MAAO,CAAC,IAAKlQ,EAAEuhB,EAAGvhB,EAAEkU,EAAGlU,EAAEuhB,EAAGvhB,EAAEkU,EAAGlU,EAAEuhB,EAAGvhB,EAAEkU,GAS1C,SANEhE,EAAK,IACL,CACEgpB,EAAG,EACHH,EAAG,MAED/4B,EAAEg3G,GAAKh3G,EAAEi3G,GAAK,MACZ/mG,EAAK,IACX,IAAK,IACHlQ,EAAEu5B,EAAIrpB,EAAK,GACXlQ,EAAEw5B,EAAItpB,EAAK,GACX,MACF,IAAK,IACHA,EAAO,CAAC,KAAK5L,OAAO4wG,EAAInuG,MAAM,EAAG,CAAC/G,EAAEuhB,EAAGvhB,EAAEkU,GAAG5P,OAAO4L,EAAK5E,MAAM,MAC9D,MACF,IAAK,IACU,MAAT+rG,GAAyB,MAATA,GAElBE,EAAW,EAANv3G,EAAEuhB,EAAQvhB,EAAE82G,GACjBU,EAAW,EAANx3G,EAAEkU,EAAQlU,EAAE+2G,KAGjBQ,EAAKv3G,EAAEuhB,EACPi2F,EAAKx3G,EAAEkU,GAEThE,EAAO,CAAC,IAAKqnG,EAAIC,GAAIlzG,OAAO4L,EAAK5E,MAAM,IACvC,MACF,IAAK,IACU,MAAT+rG,GAAyB,MAATA,GAElBr3G,EAAEg3G,GAAW,EAANh3G,EAAEuhB,EAAQvhB,EAAEg3G,GACnBh3G,EAAEi3G,GAAW,EAANj3G,EAAEkU,EAAQlU,EAAEi3G,KAGnBj3G,EAAEg3G,GAAKh3G,EAAEuhB,EACTvhB,EAAEi3G,GAAKj3G,EAAEkU,GAEXhE,EAAO,CAAC,KAAK5L,OAAO2wG,EAAIj1G,EAAEuhB,EAAGvhB,EAAEkU,EAAGlU,EAAEg3G,GAAIh3G,EAAEi3G,GAAI/mG,EAAK,GAAIA,EAAK,KAC5D,MACF,IAAK,IACHlQ,EAAEg3G,GAAK9mG,EAAK,GACZlQ,EAAEi3G,GAAK/mG,EAAK,GACZA,EAAO,CAAC,KAAK5L,OAAO2wG,EAAIj1G,EAAEuhB,EAAGvhB,EAAEkU,EAAGhE,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,KAClE,MACF,IAAK,IACHA,EAAO,CAAC,KAAK5L,OAAO0wG,EAAIh1G,EAAEuhB,EAAGvhB,EAAEkU,EAAGhE,EAAK,GAAIA,EAAK,KAChD,MACF,IAAK,IACHA,EAAO,CAAC,KAAK5L,OAAO0wG,EAAIh1G,EAAEuhB,EAAGvhB,EAAEkU,EAAGhE,EAAK,GAAIlQ,EAAEkU,IAC7C,MACF,IAAK,IACHhE,EAAO,CAAC,KAAK5L,OAAO0wG,EAAIh1G,EAAEuhB,EAAGvhB,EAAEkU,EAAGlU,EAAEuhB,EAAGrR,EAAK,KAC5C,MACF,IAAK,IACHA,EAAO,CAAC,KAAK5L,OAAO0wG,EAAIh1G,EAAEuhB,EAAGvhB,EAAEkU,EAAGlU,EAAEu5B,EAAGv5B,EAAEw5B,IAK7C,OAAOtpB,GAEHunG,EAAS,SAAUC,EAAIh4G,GAC3B,GAAIg4G,EAAGh4G,GAAGkC,OAAS,EAAG,CACpB81G,EAAGh4G,GAAGu9D,QAEN,IADA,IAAM06C,EAAKD,EAAGh4G,GACPi4G,EAAG/1G,QACRs1G,EAAOx3G,GAAK,IACZgwB,IAAOynF,EAAOz3G,GAAK,KACnBg4G,EAAGpyG,OAAO5F,IAAK,EAAG,CAAC,KAAK4E,OAAOqzG,EAAGryG,OAAO,EAAG,KAE9CoyG,EAAGpyG,OAAO5F,EAAG,GACbyZ,EAAKxU,KAAKC,IAAIpD,EAAEI,OAAS8tB,GAAMA,EAAG9tB,QAAW,KAG3Cg2G,EAAO,SAAUC,EAAOhB,EAAOlsB,EAAIC,EAAIlrF,GACvCm4G,GAAShB,GAAyB,MAAhBgB,EAAMn4G,GAAG,IAA8B,MAAhBm3G,EAAMn3G,GAAG,KACpDm3G,EAAMvxG,OAAO5F,EAAG,EAAG,CAAC,IAAKkrF,EAAGrpE,EAAGqpE,EAAG12E,IAClCy2E,EAAGmsB,GAAK,EACRnsB,EAAGosB,GAAK,EACRpsB,EAAGppE,EAAIs2F,EAAMn4G,GAAG,GAChBirF,EAAGz2E,EAAI2jG,EAAMn4G,GAAG,GAChByZ,EAAKxU,KAAKC,IAAIpD,EAAEI,OAAS8tB,GAAMA,EAAG9tB,QAAW,KAGjDuX,EAAKxU,KAAKC,IAAIpD,EAAEI,OAAS8tB,GAAMA,EAAG9tB,QAAW,GAC7C,IAAK,IAAIlC,EAAI,EAAGA,EAAIyZ,EAAIzZ,IAAK,CAC3B8B,EAAE9B,KAAO03G,EAAS51G,EAAE9B,GAAG,IAER,MAAX03G,IAEFF,EAAOx3G,GAAK03G,EACZ13G,IAAM23G,EAAOH,EAAOx3G,EAAI,KAE1B8B,EAAE9B,GAAK43G,EAAY91G,EAAE9B,GAAI4D,EAAO+zG,GAEd,MAAdH,EAAOx3G,IAAyB,MAAX03G,IAAgBF,EAAOx3G,GAAK,KAIrD+3G,EAAOj2G,EAAG9B,GAENgwB,IAEFA,EAAGhwB,KAAO03G,EAAS1nF,EAAGhwB,GAAG,IACV,MAAX03G,IACFD,EAAOz3G,GAAK03G,EACZ13G,IAAM23G,EAAOF,EAAOz3G,EAAI,KAE1BgwB,EAAGhwB,GAAK43G,EAAY5nF,EAAGhwB,GAAIs7F,EAAQqc,GAEjB,MAAdF,EAAOz3G,IAAyB,MAAX03G,IACvBD,EAAOz3G,GAAK,KAGd+3G,EAAO/nF,EAAIhwB,IAEbk4G,EAAKp2G,EAAGkuB,EAAIpsB,EAAO03F,EAAQt7F,GAC3Bk4G,EAAKloF,EAAIluB,EAAGw5F,EAAQ13F,EAAO5D,GAC3B,IAAM64C,EAAM/2C,EAAE9B,GACRo4G,EAAOpoF,GAAMA,EAAGhwB,GAChBq4G,EAASx/D,EAAI32C,OACbo2G,EAAUtoF,GAAMooF,EAAKl2G,OAC3B0B,EAAMie,EAAIg3B,EAAIw/D,EAAS,GACvBz0G,EAAM4Q,EAAIqkC,EAAIw/D,EAAS,GACvBz0G,EAAMwzG,GAAKxtG,WAAWivC,EAAIw/D,EAAS,KAAOz0G,EAAMie,EAChDje,EAAMyzG,GAAKztG,WAAWivC,EAAIw/D,EAAS,KAAOz0G,EAAM4Q,EAChD8mF,EAAO8b,GAAKpnF,IAAOpmB,WAAWwuG,EAAKE,EAAU,KAAOhd,EAAOz5E,GAC3Dy5E,EAAO+b,GAAKrnF,IAAOpmB,WAAWwuG,EAAKE,EAAU,KAAOhd,EAAO9mF,GAC3D8mF,EAAOz5E,EAAImO,GAAMooF,EAAKE,EAAU,GAChChd,EAAO9mF,EAAIwb,GAAMooF,EAAKE,EAAU,GAGlC,OAAOtoF,EAAK,CAACluB,EAAGkuB,GAAMluB,GAGlBy2G,EAAM,gBACNC,EAAiB,SAAUhoG,GAC/B,OAAOA,EAAKyB,KAAK,KAAK9J,QAAQowG,EAAK,OAG/BE,EAAQ,SAAUv3G,EAAG6uB,EAAIC,EAAIC,EAAIyoF,GAGrC,OAAOx3G,GADIA,IADC,EAAI6uB,EAAK,EAAIC,EAAK,EAAIC,EAAK,EAAIyoF,GACvB,EAAI3oF,EAAK,GAAKC,EAAK,EAAIC,GAC3B,EAAIF,EAAK,EAAIC,GAGzB2oF,EAAS,SAAUrjF,EAAIC,EAAIC,EAAIC,EAAImjF,EAAIC,EAAIC,EAAIC,EAAIh/E,GAC7C,OAANA,IACFA,EAAI,GAUN,IAPA,IAAMmvD,GADNnvD,EAAIA,EAAI,EAAI,EAAIA,EAAI,EAAI,EAAIA,GACb,EAETi/E,EAAU,EACb,MAAQ,OAAS,MAAQ,OAAS,MAAQ,OAAS,MAAQ,OAAS,MAAQ,OAAS,MAAQ,OAE1FC,EAAU,CAAC,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,OACrG77C,EAAM,EACDp9D,EAAI,EAAGA,EANN,GAMaA,IAAK,CAC1B,IAAMkuF,EAAKhF,EAAK8vB,EAAQh5G,GAAKkpF,EACvBgwB,EAAQT,EAAMvqB,EAAI54D,EAAIE,EAAIojF,EAAIE,GAC9BK,EAAQV,EAAMvqB,EAAI34D,EAAIE,EAAIojF,EAAIE,GAC9BK,EAAOF,EAAQA,EAAQC,EAAQA,EACrC/7C,GAAO67C,EAAQj5G,GAAKiF,KAAKuS,KAAK4hG,GAEhC,OAAOlwB,EAAK9rB,GAGRi8C,EAAW,SAAUngE,EAAIC,EAAI7jB,EAAIC,EAAIC,EAAIC,EAAImjF,EAAIC,GAQrD,IAPA,IAEIx0G,EACAmC,EACAnG,EACAa,EALEo4G,EAAU,GACV1T,EAAS,CAAC,GAAI,IAMX5lG,EAAI,EAAGA,EAAI,IAAKA,EAUvB,GATU,IAANA,GACFwG,EAAI,EAAI0yC,EAAK,GAAK5jB,EAAK,EAAIE,EAC3BnxB,GAAK,EAAI60C,EAAK,EAAI5jB,EAAK,EAAIE,EAAK,EAAIojF,EACpCv4G,EAAI,EAAIi1B,EAAK,EAAI4jB,IAEjB1yC,EAAI,EAAI2yC,EAAK,GAAK5jB,EAAK,EAAIE,EAC3BpxB,GAAK,EAAI80C,EAAK,EAAI5jB,EAAK,EAAIE,EAAK,EAAIojF,EACpCx4G,EAAI,EAAIk1B,EAAK,EAAI4jB,GAEfl0C,KAAKqF,IAAIjG,GAAK,MAAlB,CACE,GAAIY,KAAKqF,IAAI9D,GAAK,MAChB,UAEFtF,GAAKb,EAAImG,GACD,GAAKtF,EAAI,GACfo4G,EAAQ52G,KAAKxB,OANjB,CAUA,IAAMq4G,EAAO/yG,EAAIA,EAAI,EAAInG,EAAIgE,EACvBm1G,EAAWv0G,KAAKuS,KAAK+hG,GAC3B,KAAIA,EAAO,GAAX,CAGA,IAAME,IAAOjzG,EAAIgzG,IAAa,EAAIn1G,GAC9Bo1G,EAAK,GAAKA,EAAK,GACjBH,EAAQ52G,KAAK+2G,GAEf,IAAMC,IAAOlzG,EAAIgzG,IAAa,EAAIn1G,GAC9Bq1G,EAAK,GAAKA,EAAK,GACjBJ,EAAQ52G,KAAKg3G,IAOjB,IAHA,IAEI3qB,EAFAxnF,EAAI+xG,EAAQp3G,OACVy3G,EAAOpyG,EAENA,KAELwnF,EAAK,GADL7tF,EAAIo4G,EAAQ/xG,IAEZq+F,EAAO,GAAGr+F,GAAKwnF,EAAKA,EAAKA,EAAK71C,EAAK,EAAI61C,EAAKA,EAAK7tF,EAAIo0B,EAAK,EAAIy5D,EAAK7tF,EAAIA,EAAIs0B,EAAKt0B,EAAIA,EAAIA,EAAI03G,EAC5FhT,EAAO,GAAGr+F,GAAKwnF,EAAKA,EAAKA,EAAK51C,EAAK,EAAI41C,EAAKA,EAAK7tF,EAAIq0B,EAAK,EAAIw5D,EAAK7tF,EAAIA,EAAIu0B,EAAKv0B,EAAIA,EAAIA,EAAI23G,EAS9F,OANAjT,EAAO,GAAG+T,GAAQzgE,EAClB0sD,EAAO,GAAG+T,GAAQxgE,EAClBysD,EAAO,GAAG+T,EAAO,GAAKf,EACtBhT,EAAO,GAAG+T,EAAO,GAAKd,EACtBjT,EAAO,GAAG1jG,OAAS0jG,EAAO,GAAG1jG,OAASy3G,EAAO,EAEtC,CACLx0G,IAAK,CACH0c,EAAG5c,KAAKE,IAAIkC,MAAM,EAAGu+F,EAAO,IAC5BpxF,EAAGvP,KAAKE,IAAIkC,MAAM,EAAGu+F,EAAO,KAE9B1gG,IAAK,CACH2c,EAAG5c,KAAKC,IAAImC,MAAM,EAAGu+F,EAAO,IAC5BpxF,EAAGvP,KAAKC,IAAImC,MAAM,EAAGu+F,EAAO,OAK5B9oB,EAAY,SAAUxnD,EAAIC,EAAIC,EAAIC,EAAImjF,EAAIC,EAAIC,EAAIC,GACtD,KACE9zG,KAAKC,IAAIowB,EAAIE,GAAMvwB,KAAKE,IAAIyzG,EAAIE,IAChC7zG,KAAKE,IAAImwB,EAAIE,GAAMvwB,KAAKC,IAAI0zG,EAAIE,IAChC7zG,KAAKC,IAAIqwB,EAAIE,GAAMxwB,KAAKE,IAAI0zG,EAAIE,IAChC9zG,KAAKE,IAAIowB,EAAIE,GAAMxwB,KAAKC,IAAI2zG,EAAIE,IAJlC,CAQA,IAEM7mF,GAAeoD,EAAKE,IAAOqjF,EAAKE,IAAOxjF,EAAKE,IAAOmjF,EAAKE,GAE9D,GAAK5mF,EAAL,CAGA,IAAMqF,IAPMjC,EAAKG,EAAKF,EAAKC,IAAOojF,EAAKE,IAAOxjF,EAAKE,IAAOojF,EAAKG,EAAKF,EAAKC,IAOzD5mF,EACVsF,IAPMlC,EAAKG,EAAKF,EAAKC,IAAOqjF,EAAKE,IAAOxjF,EAAKE,IAAOmjF,EAAKG,EAAKF,EAAKC,IAOzD5mF,EACV0nF,GAAOriF,EAAG1tB,QAAQ,GAClBgwG,GAAOriF,EAAG3tB,QAAQ,GACxB,KACE+vG,GAAO30G,KAAKE,IAAImwB,EAAIE,GAAI3rB,QAAQ,IAChC+vG,GAAO30G,KAAKC,IAAIowB,EAAIE,GAAI3rB,QAAQ,IAChC+vG,GAAO30G,KAAKE,IAAIyzG,EAAIE,GAAIjvG,QAAQ,IAChC+vG,GAAO30G,KAAKC,IAAI0zG,EAAIE,GAAIjvG,QAAQ,IAChCgwG,GAAO50G,KAAKE,IAAIowB,EAAIE,GAAI5rB,QAAQ,IAChCgwG,GAAO50G,KAAKC,IAAIqwB,EAAIE,GAAI5rB,QAAQ,IAChCgwG,GAAO50G,KAAKE,IAAI0zG,EAAIE,GAAIlvG,QAAQ,IAChCgwG,GAAO50G,KAAKC,IAAI2zG,EAAIE,GAAIlvG,QAAQ,IAIlC,MAAO,CACLgY,EAAG0V,EACH/iB,EAAGgjB,MAIDsiF,EAAoB,SAAU5mF,EAAMrR,EAAGrN,GAC3C,OAAOqN,GAAKqR,EAAKrR,GAAKA,GAAKqR,EAAKrR,EAAIqR,EAAK/gB,OAASqC,GAAK0e,EAAK1e,GAAKA,GAAK0e,EAAK1e,EAAI0e,EAAKxS,QAGhFq5F,EAAW,SAAUl4F,EAAGrN,EAAGmlB,EAAGviB,EAAGtW,GACrC,GAAIA,EACF,MAAO,CACL,CAAC,KAAM+gB,IAAK/gB,EAAG0T,GACf,CAAC,IAAKmlB,EAAQ,EAAJ74B,EAAO,GACjB,CAAC,IAAKA,EAAGA,EAAG,EAAG,EAAG,EAAGA,EAAGA,GACxB,CAAC,IAAK,EAAGsW,EAAQ,EAAJtW,GACb,CAAC,IAAKA,EAAGA,EAAG,EAAG,EAAG,GAAIA,EAAGA,GACzB,CAAC,IAAS,EAAJA,EAAQ64B,EAAG,GACjB,CAAC,IAAK74B,EAAGA,EAAG,EAAG,EAAG,GAAIA,GAAIA,GAC1B,CAAC,IAAK,EAAO,EAAJA,EAAQsW,GACjB,CAAC,IAAKtW,EAAGA,EAAG,EAAG,EAAG,EAAGA,GAAIA,GACzB,CAAC,MAGL,IAAMy3C,EAAM,CAAC,CAAC,IAAK12B,EAAGrN,GAAI,CAAC,IAAKmlB,EAAG,GAAI,CAAC,IAAK,EAAGviB,GAAI,CAAC,KAAMuiB,EAAG,GAAI,CAAC,MAGnE,OADA4e,EAAIigE,eAAiBA,EACdjgE,GAGHyhE,EAAM,SAAUn4F,EAAIrN,EAAIrC,EAAQuO,GAUpC,OATU,OAANmB,IACFA,EAAIrN,EAAIrC,EAAQuO,EAAS,GAEjB,OAANlM,IACFA,EAAIqN,EAAErN,EACNrC,EAAQ0P,EAAE1P,MACVuO,EAASmB,EAAEnB,OACXmB,EAAIA,EAAEA,GAED,CACLA,EAAC,EACDrN,EAAC,EACDrC,MAAK,EACLwnB,EAAGxnB,EACHuO,OAAM,EACNtJ,EAAGsJ,EACH8U,GAAI3T,EAAI1P,EACRsjB,GAAIjhB,EAAIkM,EACRoQ,GAAIjP,EAAI1P,EAAQ,EAChB4e,GAAIvc,EAAIkM,EAAS,EACjBvX,GAAIlE,KAAKE,IAAIgN,EAAOuO,GAAU,EAC9BtX,GAAInE,KAAKC,IAAIiN,EAAOuO,GAAU,EAC9Bu5F,GAAIh1G,KAAKuS,KAAKrF,EAAQA,EAAQuO,EAASA,GAAU,EACjDlQ,KAAMupG,EAASl4F,EAAGrN,EAAGrC,EAAOuO,GAC5Bw5F,GAAI,CAACr4F,EAAGrN,EAAGrC,EAAOuO,GAAQzO,KAAK,OAqB7BkoG,EAAa,SAAUC,EAAKC,EAAMC,EAAMC,EAAMC,EAAMC,EAAMC,EAAMC,GAC/Dz3G,kBAAQk3G,KACXA,EAAM,CAACA,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,IAE5C,IAAMznF,EAAOmmF,EAAShyG,MAAM,KAAM+yG,GAClC,OAAOJ,EAAI9mF,EAAK/tB,IAAI0c,EAAGqR,EAAK/tB,IAAIqP,EAAG0e,EAAKhuB,IAAI2c,EAAIqR,EAAK/tB,IAAI0c,EAAGqR,EAAKhuB,IAAIsP,EAAI0e,EAAK/tB,IAAIqP,IAG9EomG,EAAoB,SAAUR,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKz5G,GAC1E,IAAMu4G,EAAK,EAAIv4G,EACT25G,EAAM51G,KAAKkS,IAAIsiG,EAAI,GACnBqB,EAAM71G,KAAKkS,IAAIsiG,EAAI,GACnBC,EAAKx4G,EAAIA,EACT65G,EAAKrB,EAAKx4G,EAGVo9D,EAAK87C,EAAM,EAAIl5G,GAAKo5G,EAAMF,GAAOV,GAAMc,EAAM,EAAIF,EAAMF,GACvD77C,EAAK87C,EAAM,EAAIn5G,GAAKq5G,EAAMF,GAAOX,GAAMe,EAAM,EAAIF,EAAMF,GACvDxC,EAAKyC,EAAM,EAAIp5G,GAAKs5G,EAAMF,GAAOZ,GAAMgB,EAAM,EAAIF,EAAMF,GACvDxC,EAAKyC,EAAM,EAAIr5G,GAAKu5G,EAAMF,GAAOb,GAAMiB,EAAM,EAAIF,EAAMF,GAO7D,MAAO,CACL14F,EAbQg5F,EAAMT,EAAY,EAANU,EAAU55G,EAAIo5G,EAAW,EAALb,EAASv4G,EAAIA,EAAIs5G,EAAMO,EAAKL,EAcpElmG,EAbQqmG,EAAMR,EAAY,EAANS,EAAU55G,EAAIq5G,EAAW,EAALd,EAASv4G,EAAIA,EAAIu5G,EAAMM,EAAKJ,EAcpEv6G,EAAG,CACDyhB,EAAGy8C,EACH9pD,EAAG+pD,GAEL98D,EAAG,CACDogB,EAAGg2F,EACHrjG,EAAGsjG,GAEL39C,MAAO,CACLt4C,EAlBO43F,EAAKW,EAAMl5G,EAAIo5G,EAmBtB9lG,EAlBOilG,EAAKY,EAAMn5G,EAAIq5G,GAoBxBrxC,IAAK,CACHrnD,EApBO43F,EAAKe,EAAMt5G,EAAIw5G,EAqBtBlmG,EApBOilG,EAAKgB,EAAMv5G,EAAIy5G,GAsBxB1I,MArBY,GAAqC,IAA/BhtG,KAAKsS,MAAM+mD,EAAKu5C,EAAIt5C,EAAKu5C,GAAa7yG,KAAK6F,KAyB3DkwG,EAAc,SAAUC,EAAMC,EAAMC,GAGxC,IArEsB,SAAUrmF,EAAOC,GAGvC,OAFAD,EAAQklF,EAAIllF,GACZC,EAAQilF,EAAIjlF,GAEV+kF,EAAkB/kF,EAAOD,EAAMjT,EAAGiT,EAAMtgB,IACxCslG,EAAkB/kF,EAAOD,EAAMU,GAAIV,EAAMtgB,IACzCslG,EAAkB/kF,EAAOD,EAAMjT,EAAGiT,EAAMW,KACxCqkF,EAAkB/kF,EAAOD,EAAMU,GAAIV,EAAMW,KACzCqkF,EAAkBhlF,EAAOC,EAAMlT,EAAGkT,EAAMvgB,IACxCslG,EAAkBhlF,EAAOC,EAAMS,GAAIT,EAAMvgB,IACzCslG,EAAkBhlF,EAAOC,EAAMlT,EAAGkT,EAAMU,KACxCqkF,EAAkBhlF,EAAOC,EAAMS,GAAIT,EAAMU,MACtCX,EAAMjT,EAAIkT,EAAMS,IAAMV,EAAMjT,EAAIkT,EAAMlT,GAAOkT,EAAMlT,EAAIiT,EAAMU,IAAMT,EAAMlT,EAAIiT,EAAMjT,KAClFiT,EAAMtgB,EAAIugB,EAAMU,IAAMX,EAAMtgB,EAAIugB,EAAMvgB,GAAOugB,EAAMvgB,EAAIsgB,EAAMW,IAAMV,EAAMvgB,EAAIsgB,EAAMtgB,GAwDpF4mG,CAFSjB,EAAWc,GACXd,EAAWe,IAEvB,OAAOC,EAAY,EAAI,GAUzB,IARA,IAEME,KAFK1C,EAAOtxG,MAAM,EAAG4zG,GAER,GACbK,KAFK3C,EAAOtxG,MAAM,EAAG6zG,GAER,GACbK,EAAQ,GACRC,EAAQ,GACR5F,EAAK,GACPr9D,EAAM4iE,EAAY,EAAI,GACjBn7G,EAAI,EAAGA,EAAIq7G,EAAK,EAAGr7G,IAAK,CAC/B,IAAMM,EAAIs6G,EAAkBvzG,MAAM,EAAG4zG,EAAKr2G,OAAO5E,EAAIq7G,IACrDE,EAAM74G,KAAK,CACTmf,EAAGvhB,EAAEuhB,EACLrN,EAAGlU,EAAEkU,EACLtT,EAAGlB,EAAIq7G,IAGX,IAASr7G,EAAI,EAAGA,EAAIs7G,EAAK,EAAGt7G,IAAK,CACzBM,EAAIs6G,EAAkBvzG,MAAM,EAAG6zG,EAAKt2G,OAAO5E,EAAIs7G,IACrDE,EAAM94G,KAAK,CACTmf,EAAGvhB,EAAEuhB,EACLrN,EAAGlU,EAAEkU,EACLtT,EAAGlB,EAAIs7G,IAGX,IAASt7G,EAAI,EAAGA,EAAIq7G,EAAIr7G,IACtB,IAAK,IAAIuH,EAAI,EAAGA,EAAI+zG,EAAI/zG,IAAK,CAC3B,IAAMk0G,EAAKF,EAAMv7G,GACX07G,EAAMH,EAAMv7G,EAAI,GAChB27G,EAAKH,EAAMj0G,GACXq0G,EAAMJ,EAAMj0G,EAAI,GAChBs0G,EAAK52G,KAAKqF,IAAIoxG,EAAI75F,EAAI45F,EAAG55F,GAAK,KAAQ,IAAM,IAC5Ci6F,EAAK72G,KAAKqF,IAAIsxG,EAAI/5F,EAAI85F,EAAG95F,GAAK,KAAQ,IAAM,IAC5Ck6F,EAAKj/B,EAAU2+B,EAAG55F,EAAG45F,EAAGjnG,EAAGknG,EAAI75F,EAAG65F,EAAIlnG,EAAGmnG,EAAG95F,EAAG85F,EAAGnnG,EAAGonG,EAAI/5F,EAAG+5F,EAAIpnG,GACtE,GAAIunG,EAAI,CACN,GAAInG,EAAGmG,EAAGl6F,EAAEhY,QAAQ,MAAQkyG,EAAGvnG,EAAE3K,QAAQ,GACvC,SAEF+rG,EAAGmG,EAAGl6F,EAAEhY,QAAQ,IAAMkyG,EAAGvnG,EAAE3K,QAAQ,GACnC,IAAM4vG,EAAKgC,EAAGv6G,EAAI+D,KAAKqF,KAAKyxG,EAAGF,GAAMJ,EAAGI,KAAQH,EAAIG,GAAMJ,EAAGI,MAASH,EAAIx6G,EAAIu6G,EAAGv6G,GAC3Ew4G,EAAKiC,EAAGz6G,EAAI+D,KAAKqF,KAAKyxG,EAAGD,GAAMH,EAAGG,KAAQF,EAAIE,GAAMH,EAAGG,MAASF,EAAI16G,EAAIy6G,EAAGz6G,GAC7Eu4G,GAAM,GAAKA,GAAM,GAAKC,GAAM,GAAKA,GAAM,IACrCyB,EAEF5iE,GAAO,EAGPA,EAAI71C,KAAK,CACPmf,EAAGk6F,EAAGl6F,EACNrN,EAAGunG,EAAGvnG,EACNilG,GAAE,EACFC,GAAE,MAOd,OAAOnhE,GAqEHyjE,EAAe,SAAU7D,EAAOhB,GACpC,OAnEsB,SAAUgB,EAAOhB,EAAOgE,GAG9C,IAAI7lF,EACAC,EACAC,EACAC,EACAwmF,EACAC,EACAC,EACAC,EACAnB,EACAC,EAXJ/C,EAAQjB,EAAYiB,GACpBhB,EAAQD,EAAYC,GAYpB,IADA,IAAI5+D,EAAM4iE,EAAY,EAAI,GACjBn7G,EAAI,EAAGyZ,EAAK0+F,EAAMj2G,OAAQlC,EAAIyZ,EAAIzZ,IAAK,CAC9C,IAAMi4G,EAAKE,EAAMn4G,GACjB,GAAc,MAAVi4G,EAAG,GACL3iF,EAAK2mF,EAAMhE,EAAG,GACd1iF,EAAK2mF,EAAMjE,EAAG,OACT,CACS,MAAVA,EAAG,IACLgD,EAAO,CAAC3lF,EAAIC,GAAI3wB,OAAOqzG,EAAGrsG,MAAM,IAChC0pB,EAAK2lF,EAAK,GACV1lF,EAAK0lF,EAAK,KAEVA,EAAO,CAAC3lF,EAAIC,EAAID,EAAIC,EAAI0mF,EAAKC,EAAKD,EAAKC,GACvC5mF,EAAK2mF,EACL1mF,EAAK2mF,GAEP,IAAK,IAAI30G,EAAI,EAAGm3D,EAAKy4C,EAAMj1G,OAAQqF,EAAIm3D,EAAIn3D,IAAK,CAC9C,IAAM80G,EAAKlF,EAAM5vG,GACjB,GAAc,MAAV80G,EAAG,GACL7mF,EAAK2mF,EAAME,EAAG,GACd5mF,EAAK2mF,EAAMC,EAAG,OACT,CACS,MAAVA,EAAG,IACLnB,EAAO,CAAC1lF,EAAIC,GAAI7wB,OAAOy3G,EAAGzwG,MAAM,IAChC4pB,EAAK0lF,EAAK,GACVzlF,EAAKylF,EAAK,KAEVA,EAAO,CAAC1lF,EAAIC,EAAID,EAAIC,EAAI0mF,EAAKC,EAAKD,EAAKC,GACvC5mF,EAAK2mF,EACL1mF,EAAK2mF,GAEP,IAAME,EAAOtB,EAAYC,EAAMC,EAAMC,GACrC,GAAIA,EAEF5iE,GAAO+jE,MACF,CAEL,IAAK,IAAI/4G,EAAI,EAAG8xG,EAAKiH,EAAKp6G,OAAQqB,EAAI8xG,EAAI9xG,IACxC+4G,EAAK/4G,GAAGg5G,SAAWv8G,EACnBs8G,EAAK/4G,GAAGi5G,SAAWj1G,EACnB+0G,EAAK/4G,GAAG03G,KAAOA,EACfqB,EAAK/4G,GAAG23G,KAAOA,EAGjB3iE,EAAMA,EAAI3zC,OAAO03G,OAM3B,OAAO/jE,EAIAkkE,CAAgBtE,EAAOhB,IAGhC,SAASuF,EAAYhsF,EAAQxvB,GAC3B,IAAM20B,EAAO,GACPE,EAAQ,GA0Bd,OAHIrF,EAAOxuB,QArBX,SAASy6G,EAAQjsF,EAAQxvB,GACvB,GAAsB,IAAlBwvB,EAAOxuB,OACT2zB,EAAKnzB,KAAKguB,EAAO,IACjBqF,EAAMrzB,KAAKguB,EAAO,QACb,CAEL,IADA,IAAMksF,EAAe,GACZ58G,EAAI,EAAGA,EAAI0wB,EAAOxuB,OAAS,EAAGlC,IAC3B,IAANA,GACF61B,EAAKnzB,KAAKguB,EAAO,IAEf1wB,IAAM0wB,EAAOxuB,OAAS,GACxB6zB,EAAMrzB,KAAKguB,EAAO1wB,EAAI,IAExB48G,EAAa58G,GAAK,EACf,EAAIkB,GAAKwvB,EAAO1wB,GAAG,GAAKkB,EAAIwvB,EAAO1wB,EAAI,GAAG,IAC1C,EAAIkB,GAAKwvB,EAAO1wB,GAAG,GAAKkB,EAAIwvB,EAAO1wB,EAAI,GAAG,IAG/C28G,EAAQC,EAAc17G,IAIxBy7G,CAAQjsF,EAAQxvB,GAEX,CAAE20B,KAAI,EAAEE,MAAOA,EAAMuG,WAoD9B,IAAMugF,EAAe,SAAU1iD,EAAO+O,EAAK3vD,GACzC,GAAc,IAAVA,EACF,MAAO,CAAC,GAAG3U,OAAOu1D,IAEpB,IAAIjgB,EAAW,GACf,GAAe,MAAXgvB,EAAI,IAAyB,MAAXA,EAAI,IAAyB,MAAXA,EAAI,GAC1ChvB,EAAWA,EAASt1C,OAvDxB,SAAoBu1D,EAAO+O,EAAK3vD,GAC9B,IAAMmX,EAAS,CAAC,CAACypC,EAAM,GAAIA,EAAM,KACjC5gD,EAAQA,GAAS,EACjB,IAAM2gC,EAAW,GACF,MAAXgvB,EAAI,IACNx4C,EAAOhuB,KAAKwmE,EAAI,IAChBx4C,EAAOhuB,KAAKwmE,EAAI,KACI,MAAXA,EAAI,IACbx4C,EAAOhuB,KAAK,CAACwmE,EAAI,GAAIA,EAAI,KACzBx4C,EAAOhuB,KAAK,CAACwmE,EAAI,GAAIA,EAAI,KACzBx4C,EAAOhuB,KAAK,CAACwmE,EAAI,GAAIA,EAAI,MACL,MAAXA,EAAI,IAAyB,MAAXA,EAAI,IAC/Bx4C,EAAOhuB,KAAK,CAACwmE,EAAI,GAAIA,EAAI,KACzBx4C,EAAOhuB,KAAK,CAACwmE,EAAI,GAAIA,EAAI,MAEzBx4C,EAAOhuB,KAAK,CAACwmE,EAAI,GAAIA,EAAI,KAM3B,IAHA,IAAI4zC,EAAepsF,EACbxvB,EAAI,EAAIqY,EAELvZ,EAAI,EAAGA,EAAIuZ,EAAQ,EAAGvZ,IAAK,CAClC,IACMoI,EAAQs0G,EAAYI,EADf57G,GAAK,EAAIA,EAAIlB,IAExBk6C,EAASx3C,KAAK0F,EAAMytB,MACpBinF,EAAe10G,EAAM2tB,MAqBvB,OAnBAmkB,EAASx3C,KAAKo6G,GACC5iE,EAAS/pC,KAAI,SAACkqC,GAC3B,IAAIgkB,EAAM,GAeV,OAduB,IAAnBhkB,EAAQn4C,SACVm8D,EAAI37D,KAAK,KACT27D,EAAMA,EAAIz5D,OAAOy1C,EAAQ,KAEvBA,EAAQn4C,QAAU,IACG,IAAnBm4C,EAAQn4C,QACVm8D,EAAI37D,KAAK,KAEX27D,EAAMA,EAAIz5D,OAAOy1C,EAAQ,KAEJ,IAAnBA,EAAQn4C,QACVm8D,EAAI37D,KAAK,KAEX27D,EAAMA,EAAIz5D,OAAOy1C,EAAQA,EAAQn4C,OAAS,OAYf66G,CAAW5iD,EAAO+O,EAAK3vD,QAC7C,CACL,IAAM+tB,EAAO,GAAG1iC,OAAOu1D,GACP,MAAZ7yB,EAAK,KACPA,EAAK,GAAK,KAEZ,IAAK,IAAItnC,EAAI,EAAGA,GAAKuZ,EAAQ,EAAGvZ,IAC9Bk6C,EAASx3C,KAAK4kC,GAGlB,OAAO4S,GAGH8iE,EAAW,SAAUpvF,EAAQC,GACjC,GAAsB,IAAlBD,EAAO1rB,OACT,OAAO0rB,EAET,IAAMqvF,EAAYrvF,EAAO1rB,OAAS,EAC5Bg7G,EAAYrvF,EAAO3rB,OAAS,EAC5BmwB,EAAQ4qF,EAAYC,EACpBC,EAAiB,GACvB,GAAsB,IAAlBvvF,EAAO1rB,QAAiC,MAAjB0rB,EAAO,GAAG,GAAY,CAC/C,IAAK,IAAI5tB,EAAI,EAAGA,EAAIk9G,EAAYD,EAAWj9G,IACzC4tB,EAAOlrB,KAAKkrB,EAAO,IAErB,OAAOA,EAET,IAAS5tB,EAAI,EAAGA,EAAIk9G,EAAWl9G,IAAK,CAClC,IAAMyC,EAAQwC,KAAKqS,MAAM+a,EAAQryB,GACjCm9G,EAAe16G,IAAU06G,EAAe16G,IAAU,GAAK,EAEzD,IAAM26G,EAASD,EAAer4G,QAAO,SAACs4G,EAAQ7jG,EAAOvZ,GACnD,OAAIA,IAAMi9G,EACDG,EAAOx4G,OAAOgpB,EAAOqvF,IAEvBG,EAAOx4G,OAAOi4G,EAAajvF,EAAO5tB,GAAI4tB,EAAO5tB,EAAI,GAAIuZ,MAC3D,IAKH,OAJA6jG,EAAOtwF,QAAQc,EAAO,IACI,MAAtBC,EAAOqvF,IAA4C,MAAtBrvF,EAAOqvF,IACtCE,EAAO16G,KAAK,KAEP06G,GAGHrtG,EAAU,SAAUstG,EAAMz9E,GAC9B,GAAIy9E,EAAKn7G,SAAW09B,EAAK19B,OACvB,OAAO,EAET,IAAIM,GAAS,EAOb,OANAW,eAAKk6G,GAAM,SAACr2G,EAAMhH,GAChB,GAAIgH,IAAS44B,EAAK5/B,GAEhB,OADAwC,GAAS,GACF,KAGJA,GAET,SAAS86G,EAAWC,EAAKvjE,EAAKwjE,GAC5B,IAAIz6G,EAAO,KACPoC,EAAMq4G,EASV,OARIxjE,EAAM70C,IACRA,EAAM60C,EACNj3C,EAAO,OAELw6G,EAAMp4G,IACRA,EAAMo4G,EACNx6G,EAAO,OAEF,CACLA,KAAI,EACJoC,IAAG,GAQP,IAoCMs4G,EAAiB,SAAU7vF,EAAQC,GACvC,IAAM6vF,EArCoB,SAAU9vF,EAAQC,GAC5C,IAEI8vF,EACAC,EAHEX,EAAYrvF,EAAO1rB,OACnBg7G,EAAYrvF,EAAO3rB,OAGrBolC,EAAO,EACX,GAAkB,IAAd21E,GAAiC,IAAdC,EACrB,OAAO,KAGT,IADA,IAAMpvG,EAAO,GACJ9N,EAAI,EAAGA,GAAKi9G,EAAWj9G,IAC9B8N,EAAK9N,GAAK,GACV8N,EAAK9N,GAAG,GAAK,CAAEmF,IAAKnF,GAEtB,IAAK,IAAIuH,EAAI,EAAGA,GAAK21G,EAAW31G,IAC9BuG,EAAK,GAAGvG,GAAK,CAAEpC,IAAKoC,GAGtB,IAASvH,EAAI,EAAGA,GAAKi9G,EAAWj9G,IAAK,CACnC29G,EAAgB/vF,EAAO5tB,EAAI,GAC3B,IAASuH,EAAI,EAAGA,GAAK21G,EAAW31G,IAAK,CACnCq2G,EAAgB/vF,EAAOtmB,EAAI,GAEzB+/B,EADEv3B,EAAQ4tG,EAAeC,GAClB,EAEA,EAET,IAAML,EAAMzvG,EAAK9N,EAAI,GAAGuH,GAAGpC,IAAM,EAC3B60C,EAAMlsC,EAAK9N,GAAGuH,EAAI,GAAGpC,IAAM,EAC3Bq4G,EAAS1vG,EAAK9N,EAAI,GAAGuH,EAAI,GAAGpC,IAAMmiC,EACxCx5B,EAAK9N,GAAGuH,GAAK+1G,EAAWC,EAAKvjE,EAAKwjE,IAGtC,OAAO1vG,EAIY+vG,CAAoBjwF,EAAQC,GAC3CovF,EAAYrvF,EAAO1rB,OACjBg7G,EAAYrvF,EAAO3rB,OACnB47G,EAAU,GACZr7G,EAAQ,EACRs7G,EAAS,EAEb,GAAIL,EAAWT,GAAWC,GAAW/3G,MAAQ83G,EAAW,CAEtD,IAAK,IAAIj9G,EAAI,EAAGA,GAAKi9G,EAAWj9G,IAAK,CACnC,IAAImF,EAAMu4G,EAAW19G,GAAGA,GAAGmF,IAC3B44G,EAAS/9G,EACT,IAAK,IAAIuH,EAAI9E,EAAO8E,GAAK21G,EAAW31G,IAC9Bm2G,EAAW19G,GAAGuH,GAAGpC,IAAMA,IACzBA,EAAMu4G,EAAW19G,GAAGuH,GAAGpC,IACvB44G,EAASx2G,GAGb9E,EAAQs7G,EACJL,EAAW19G,GAAGyC,GAAOM,MACvB+6G,EAAQp7G,KAAK,CAAED,MAAOzC,EAAI,EAAG+C,KAAM26G,EAAW19G,GAAGyC,GAAOM,OAI5D,IAAS/C,EAAI89G,EAAQ57G,OAAS,EAAGlC,GAAK,EAAGA,IACvCyC,EAAQq7G,EAAQ99G,GAAGyC,MACK,QAApBq7G,EAAQ99G,GAAG+C,KACb6qB,EAAOhoB,OAAOnD,EAAO,EAAG,GAAGmC,OAAOgpB,EAAOnrB,KAEzCmrB,EAAOhoB,OAAOnD,EAAO,GAM3B,IAAMk9D,EAAOu9C,GADbD,EAAYrvF,EAAO1rB,QAEnB,GAAI+6G,EAAYC,EACd,IAASl9G,EAAI,EAAGA,EAAI2/D,EAAM3/D,IACS,MAA7B4tB,EAAOqvF,EAAY,GAAG,IAA2C,MAA7BrvF,EAAOqvF,EAAY,GAAG,GAC5DrvF,EAAOhoB,OAAOq3G,EAAY,EAAG,EAAGrvF,EAAOqvF,EAAY,IAEnDrvF,EAAOlrB,KAAKkrB,EAAOqvF,EAAY,IAEjCA,GAAa,EAGjB,OAAOrvF,GAIT,SAASowF,EAAattF,EAAQutF,EAAQ1kG,GAKpC,IAJA,IACI9W,EADED,EAAS,GAAGoC,OAAO8rB,GAErBxvB,EAAI,GAAKqY,EAAQ,GACf2kG,EAAYC,EAAkBF,GAAQ,GACnCj+G,EAAI,EAAGA,GAAKuZ,EAAOvZ,IAC1BkB,GAAKlB,EAES,KADdyC,EAAQwC,KAAKqS,MAAMoZ,EAAOxuB,OAAShB,IAEjCsB,EAAOsqB,QAAQ,CAACoxF,EAAU,GAAKh9G,EAAIwvB,EAAOjuB,GAAO,IAAM,EAAIvB,GAAIg9G,EAAU,GAAKh9G,EAAIwvB,EAAOjuB,GAAO,IAAM,EAAIvB,KAE1GsB,EAAOoD,OAAOnD,EAAO,EAAG,CACtBy7G,EAAU,GAAKh9G,EAAIwvB,EAAOjuB,GAAO,IAAM,EAAIvB,GAC3Cg9G,EAAU,GAAKh9G,EAAIwvB,EAAOjuB,GAAO,IAAM,EAAIvB,KAIjD,OAAOsB,EAST,SAAS27G,EAAkB9jE,GACzB,IAAM3pB,EAAS,GACf,OAAQ2pB,EAAQ,IACd,IAAK,IAGL,IAAK,IACH3pB,EAAOhuB,KAAK,CAAC23C,EAAQ,GAAIA,EAAQ,KACjC,MACF,IAAK,IACH3pB,EAAOhuB,KAAK,CAAC23C,EAAQ,GAAIA,EAAQ,KACjC,MACF,IAAK,IACH3pB,EAAOhuB,KAAK,CAAC23C,EAAQ,GAAIA,EAAQ,KACjC3pB,EAAOhuB,KAAK,CAAC23C,EAAQ,GAAIA,EAAQ,KACjC,MACF,IAAK,IACH3pB,EAAOhuB,KAAK,CAAC23C,EAAQ,GAAIA,EAAQ,KACjC,MACF,IAAK,IACH3pB,EAAOhuB,KAAK,CAAC23C,EAAQ,GAAIA,EAAQ,KACjC3pB,EAAOhuB,KAAK,CAAC23C,EAAQ,GAAIA,EAAQ,KACjC3pB,EAAOhuB,KAAK,CAAC23C,EAAQ,GAAIA,EAAQ,KACjC,MACF,IAAK,IACH3pB,EAAOhuB,KAAK,CAAC23C,EAAQ,GAAIA,EAAQ,KACjC3pB,EAAOhuB,KAAK,CAAC23C,EAAQ,GAAIA,EAAQ,KACjC,MACF,IAAK,IAGL,IAAK,IACH3pB,EAAOhuB,KAAK,CAAC23C,EAAQ,GAAIA,EAAQ,KAIrC,OAAO3pB,EAGT,IAAM0tF,EAAa,SAAUC,EAAUC,GACrC,GAAID,EAASn8G,QAAU,EACrB,OAAOm8G,EAGT,IADA,IAAI3tF,EACK1wB,EAAI,EAAGA,EAAIs+G,EAAOp8G,OAAQlC,IACjC,GAAIq+G,EAASr+G,GAAG,KAAOs+G,EAAOt+G,GAAG,GAG/B,OADA0wB,EAASytF,EAAkBE,EAASr+G,IAC5Bs+G,EAAOt+G,GAAG,IAChB,IAAK,IACHq+G,EAASr+G,GAAK,CAAC,KAAK4E,OAAO8rB,EAAO,IAClC,MACF,IAAK,IACH2tF,EAASr+G,GAAK,CAAC,KAAK4E,OAAO8rB,EAAO,IAClC,MACF,IAAK,IACH2tF,EAASr+G,GAAK,GAAG4E,OAAO05G,EAAOt+G,IAC/Bq+G,EAASr+G,GAAG,GAAK0wB,EAAO,GAAG,GAC3B2tF,EAASr+G,GAAG,GAAK0wB,EAAO,GAAG,GAC3B,MACF,IAAK,IACH,GAAIA,EAAOxuB,OAAS,EAAG,CACrB,KAAIlC,EAAI,GAED,CACLq+G,EAASr+G,GAAKs+G,EAAOt+G,GACrB,MAHA0wB,EAASstF,EAAattF,EAAQ2tF,EAASr+G,EAAI,GAAI,GAMnDq+G,EAASr+G,GAAK,CAAC,KAAK4E,OAClB8rB,EAAO5rB,QAAO,SAAC1C,EAAKpC,GAClB,OAAOoC,EAAIwC,OAAO5E,KACjB,KAEL,MACF,IAAK,IACHq+G,EAASr+G,GAAK,CAAC,KAAK4E,OAAO8rB,EAAO,IAClC,MACF,IAAK,IACH,GAAIA,EAAOxuB,OAAS,EAAG,CACrB,KAAIlC,EAAI,GAED,CACLq+G,EAASr+G,GAAKs+G,EAAOt+G,GACrB,MAHA0wB,EAASstF,EAAattF,EAAQ2tF,EAASr+G,EAAI,GAAI,GAMnDq+G,EAASr+G,GAAK,CAAC,KAAK4E,OAClB8rB,EAAO5rB,QAAO,SAAC1C,EAAKpC,GAClB,OAAOoC,EAAIwC,OAAO5E,KACjB,KAEL,MACF,IAAK,IACH,GAAI0wB,EAAOxuB,OAAS,EAAG,CACrB,KAAIlC,EAAI,GAED,CACLq+G,EAASr+G,GAAKs+G,EAAOt+G,GACrB,MAHA0wB,EAASstF,EAAattF,EAAQ2tF,EAASr+G,EAAI,GAAI,GAMnDq+G,EAASr+G,GAAK,CAAC,KAAK4E,OAClB8rB,EAAO5rB,QAAO,SAAC1C,EAAKpC,GAClB,OAAOoC,EAAIwC,OAAO5E,KACjB,KAEL,MACF,QACEq+G,EAASr+G,GAAKs+G,EAAOt+G,GAI7B,OAAOq+G,GCxsCME,EAnIf,WAiGE,WAAYx7G,EAAM8rB,GA9DlB,cAAmB,EAKnB,YAAsB,KAKtB,mBAA6B,KAK7B,oBAA8B,KAK9B,oBAAyB,KAKzB,uBAA4B,EAK5B,yBAA8B,EAK9B,WAAgB,KAKhB,eAAoB,KAKpB,aAAkB,KAelB,qBAAyB,GAGvB,KAAK9rB,KAAOA,EACZ,KAAKxC,KAAOwC,EACZ,KAAKolG,cAAgBt5E,EACrB,KAAK8hE,UAAY9hE,EAAM8hE,UA4B3B,OAtBE4tB,sCACE,KAAKC,kBAAmB,EACpB,KAAKrW,cAAclW,gBACrB,KAAKkW,cAAclW,kBAOvBssB,uCACE,KAAKE,oBAAqB,GAG5BF,gCAEE,MAAO,gBADM,KAAKx7G,KACS,MAG7Bw7G,8BAEAA,iCACF,EAjIA,G,eCFM,SAAU3hG,EAAgBxa,EAAYqB,GAC1C,IAAMhB,EAAQL,EAAIC,QAAQoB,IACX,IAAXhB,GACFL,EAAIwD,OAAOnD,EAAO,GAIf,IAAMka,EAA8B,oBAAX1P,aAAqD,IAApBA,OAAO4E,SAIlE,SAAU6K,EAASktB,EAAWJ,GAElC,GAAII,EAAU9sB,WACZ,OAAO,EAIT,IAFA,IAAI8P,EAAS4c,EAAMzsB,YACfL,GAAW,EACRkQ,GAAQ,CACb,GAAIA,IAAWgd,EAAW,CACxBltB,GAAW,EACX,MAEFkQ,EAASA,EAAO7P,YAElB,OAAOL,EAGH,SAAUD,EAAe2d,GAE7B,OAAOA,EAAQpd,IAAIC,SAAWmd,EAAQpd,IAAIE,QC3B5C,IA+Ceu3F,EA/Cf,YAsBE,WAAYz3F,GAAZ,MACEolB,cAAO,KAZTjT,aAAqB,EAanB,IAAMke,EAAale,EAAKd,gB,OACxBc,EAAKnS,IAAMjP,cAAIs/B,EAAYrwB,G,EAoB/B,OA7C4BhK,iBAkB1ByhG,qCACE,MAAO,IAUTA,yBAAIl0G,GACF,OAAO,KAAKyc,IAAIzc,IAGlBk0G,yBAAIl0G,EAAMU,GACR,KAAK+b,IAAIzc,GAAQU,GAInBwzG,+BACE,KAAKz3F,IAAM,CACT0jB,WAAW,GAEb,KAAK7kB,MACL,KAAK6kB,WAAY,GAErB,EA7CA,CAA4Bg+E,K,SCOtB,SAAUC,EAAet6G,EAAamC,GAC1C,IAAM8rC,EAAM,GACNo1C,EAAMrjF,EAAE,GACRkjF,EAAMljF,EAAE,GACRmjF,EAAMnjF,EAAE,GAERsjF,EAAMtjF,EAAE,GACRujF,EAAMvjF,EAAE,GACRojF,EAAMpjF,EAAE,GACRwjF,EAAMxjF,EAAE,GACRyjF,EAAMzjF,EAAE,GACR0jF,EAAM1jF,EAAE,GAERkkF,EAAM/hF,EAAE,GACRwhF,EAAMxhF,EAAE,GACRgiF,EAAMhiF,EAAE,GACRiiF,EAAMjiF,EAAE,GACRyhF,EAAMzhF,EAAE,GACRkiF,EAAMliF,EAAE,GACRmiF,EAAMniF,EAAE,GACR0hF,EAAM1hF,EAAE,GACRoiF,EAAMpiF,EAAE,GAad,OAXA8rC,EAAI,GAAKi2C,EAAMb,EAAMM,EAAML,EAAMa,EAAMX,EACvCv1C,EAAI,GAAKi2C,EAAMhB,EAAMS,EAAMJ,EAAMY,EAAMV,EACvCx1C,EAAI,GAAKi2C,EAAMf,EAAMQ,EAAMP,EAAMe,EAAMT,EAEvCz1C,EAAI,GAAKm2C,EAAMf,EAAMO,EAAMN,EAAMe,EAAMb,EACvCv1C,EAAI,GAAKm2C,EAAMlB,EAAMU,EAAML,EAAMc,EAAMZ,EACvCx1C,EAAI,GAAKm2C,EAAMjB,EAAMS,EAAMR,EAAMiB,EAAMX,EAEvCz1C,EAAI,GAAKq2C,EAAMjB,EAAMQ,EAAMP,EAAMiB,EAAMf,EACvCv1C,EAAI,GAAKq2C,EAAMpB,EAAMW,EAAMN,EAAMgB,EAAMd,EACvCx1C,EAAI,GAAKq2C,EAAMnB,EAAMU,EAAMT,EAAMmB,EAAMb,EAChCz1C,EAQH,SAAUssE,EAAax+G,EAAakF,GACxC,IAAMgtC,EAAM,GACNzwB,EAAIvc,EAAE,GACNkP,EAAIlP,EAAE,GAGZ,OAFAgtC,EAAI,GAAKlyC,EAAE,GAAKyhB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,GACjCkyC,EAAI,GAAKlyC,EAAE,GAAKyhB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,GAC1BkyC,EAOH,SAAUtgB,EAAO3tB,GACrB,IAAMiuC,EAAM,GACNo1C,EAAMrjF,EAAE,GACRkjF,EAAMljF,EAAE,GACRmjF,EAAMnjF,EAAE,GACRsjF,EAAMtjF,EAAE,GACRujF,EAAMvjF,EAAE,GACRojF,EAAMpjF,EAAE,GACRwjF,EAAMxjF,EAAE,GACRyjF,EAAMzjF,EAAE,GACR0jF,EAAM1jF,EAAE,GAER2jF,EAAMD,EAAMH,EAAMH,EAAMK,EACxBG,GAAOF,EAAMJ,EAAMF,EAAMI,EACzBK,EAAMJ,EAAMH,EAAMC,EAAMC,EAG1BM,EAAMT,EAAMM,EAAMT,EAAMU,EAAMT,EAAMU,EAExC,OAAKC,GAGLA,EAAM,EAAMA,EAEZ71C,EAAI,GAAK01C,EAAMG,EACf71C,EAAI,KAAOy1C,EAAMR,EAAMC,EAAMM,GAAOK,EACpC71C,EAAI,IAAMm1C,EAAMF,EAAMC,EAAMI,GAAOO,EACnC71C,EAAI,GAAK21C,EAAME,EACf71C,EAAI,IAAMy1C,EAAML,EAAMF,EAAMK,GAAOM,EACnC71C,EAAI,KAAOm1C,EAAMC,EAAMF,EAAMG,GAAOQ,EACpC71C,EAAI,GAAK41C,EAAMC,EACf71C,EAAI,KAAOw1C,EAAMJ,EAAMH,EAAMM,GAAOM,EACpC71C,EAAI,IAAMs1C,EAAMF,EAAMH,EAAMI,GAAOQ,EAC5B71C,GAbE,KC7EH,M,KAAcusE,EAAG,UAGnBC,EAAa,CAAC,SAAU,UAAW,UAAW,QAG9CC,EAAiB,CAAC,UAmBxB,SAASC,GAAmBC,EAASz1E,GACnC,IAAM01E,EAAY,GACZt7G,EAAQ4lC,EAAM5lC,MACpB,IAAK,IAAML,KAAK07G,EACdC,EAAU37G,GAAKK,EAAML,GAEvB,OAAO27G,EAGT,SAASC,GAAiBC,EAAO51E,GAC/B,IAAMy1E,EAAU,GACVr7G,EAAQ4lC,EAAMuB,OAMpB,OALA5nC,eAAKi8G,GAAO,SAAC95G,EAAG/B,IACqB,IAA/Bw7G,EAAe18G,QAAQkB,IAAcwM,kBAAQnM,EAAML,GAAI+B,KACzD25G,EAAQ17G,GAAK+B,MAGV25G,EAGT,SAASI,GAAkBC,EAAyBC,GAClD,GAAIA,EAAU35D,QACZ,OAAO05D,EAED,MAA+BC,EAAS,UAA7BC,EAAoBD,EAAS,MAAtB15D,EAAa05D,EAAS,SAC1C19G,EAAiBnB,OAAOkB,UAAUC,eAaxC,OAZAsB,eAAKm8G,GAAY,SAACt4G,GAEZy4G,EAAYD,EAAQx4G,EAAKy4G,UAAYz4G,EAAKw4G,MAAQx4G,EAAK6+C,UAAYA,EAAW7+C,EAAKw4G,OACrFr8G,eAAKo8G,EAAUN,SAAS,SAAC35G,EAAG/B,GACtB1B,EAAe1B,KAAK6G,EAAKi4G,QAAS17G,YAC7ByD,EAAKi4G,QAAQ17G,UACbyD,EAAKk4G,UAAU37G,UAMvB+7G,EAGT,IA4qBexyG,GA5qBf,YAQE,WAAYkQ,GAAZ,MACEolB,YAAMplB,IAAI,KAHZmS,QAAoB,GAIlB,IAAMvrB,EAAQurB,EAAKuwF,kB,OACnB3xG,cAAInK,EAAOoZ,EAAIpZ,OACfurB,EAAKvrB,MAAQA,EACburB,EAAKwwF,UAAU/7G,GACfurB,EAAKywF,c,EA4pBT,OA1qB+B5sG,iBAkB7BlG,qCACE,MAAO,CACLmQ,SAAS,EACTC,SAAS,EACT2iG,OAAQ,IAQZ/yG,uCACE,MAAO,CACL6kB,OAAQ,KAAKmuF,mBACbz8D,QAAS,IAYbv2C,oCAAeizG,KAOfjzG,+BAAUlJ,KAMVkJ,mCACE,KAAK5F,IAAI,YAAY,GACrB,KAAKA,IAAI,aAAa,IAGxB4F,+BACE,OAAO,GAGTA,iCACE,OAAO,KAAKjM,IAAI,WAGlBiM,iCACE,OAAO,KAAKjM,IAAI,WAGlBiM,4B,UAAK,gCAAAsB,kBACI,MAAeA,EAAI,GAAbnN,EAASmN,EAAI,GAC1B,IAAK7N,EAAM,OAAO,KAAKqD,MACvB,GAAIN,mBAAS/C,GAAO,CAClB,IAAK,IAAMgD,KAAKhD,EACd,KAAKy/G,QAAQz8G,EAAGhD,EAAKgD,IAGvB,OADA,KAAK08G,iBAAiB1/G,GACf,KAET,OAAoB,IAAhB6N,EAAKlM,QACP,KAAK89G,QAAQz/G,EAAMU,GACnB,KAAKg/G,mBAAgBjnG,MAClBzY,GAAOU,EADW,IAGd,MAEF,KAAK2C,MAAMrD,IASpBuM,+BAAUwT,EAAMD,GACd,IAAMw2C,EAAO,KAAKqpD,UAClB,OAAOrpD,IAASA,EAAK/iC,MAAMxT,EAAMD,IAQnCvT,6BAAQvM,EAAcU,GACpB,IAAMk/G,EAAc,KAAKv8G,MAAMrD,GAC3B4/G,IAAgBl/G,IAClB,KAAK2C,MAAMrD,GAAQU,EACnB,KAAKm/G,aAAa7/G,EAAMU,EAAOk/G,KAWnCrzG,kCAAavM,EAAcU,EAAYk/G,GACxB,WAAT5/G,GACF,KAAK2G,IAAI,cAAe,OAQ5B4F,sCAAiBuzG,GACf,GAAI,KAAKrjG,IAAIsjG,YAAa,CACxB,IAAMC,EAAU,KAAKvjG,IAAIujG,QACrBA,GACFA,EAAQC,eAAe,aAGzB,KAAKA,eAAe,SAIxB1zG,4BAIE,OAFA,KAAK5F,IAAI,WAAW,GACpB,KAAKs5G,eAAe,QACb,MAGT1zG,4BAIE,OAFA,KAAK5F,IAAI,WAAW,GACpB,KAAKs5G,eAAe,QACb,MAGT1zG,+BAAU+yG,GACR,KAAK34G,IAAI,SAAU24G,GACnB,IAAMjzF,EAAS,KAAK7P,YAKpB,OAJI6P,GAEFA,EAAOhmB,OAEF,MAGTkG,+BACE,IAAM8f,EAAS,KAAK7P,YACpB,GAAK6P,EAAL,CAGA,IAAMqB,EAAWrB,EAAOonB,cAElBvxC,GADK,KAAK5B,IAAI,MACNotB,EAAS5rB,QAAQ,OAC/B4rB,EAASroB,OAAOnD,EAAO,GACvBwrB,EAASvrB,KAAK,MACd,KAAK89G,eAAe,YAGtB1zG,8BACE,IAAM8f,EAAS,KAAK7P,YACpB,GAAK6P,EAAL,CAGA,IAAMqB,EAAWrB,EAAOonB,cAElBvxC,GADK,KAAK5B,IAAI,MACNotB,EAAS5rB,QAAQ,OAC/B4rB,EAASroB,OAAOnD,EAAO,GACvBwrB,EAASnB,QAAQ,MACjB,KAAK0zF,eAAe,YAGtB1zG,4BAAOq1B,QAAA,QAAAA,MACL,IAAMvV,EAAS,KAAK7P,YAChB6P,GACFhQ,EAAgBgQ,EAAOonB,cAAe,MACjCpnB,EAAO/rB,IAAI,aAEd,KAAK2/G,eAAe,WAGtB,KAAKA,eAAe,UAElBr+E,GACF,KAAKA,WAITr1B,mCACE,KAAKi+B,KAtRM,SAsRO,KAAK+0E,oBACvB,KAAKU,eAAe,WAGtB1zG,iCACE,OAAO,KAAKi+B,KA3RD,WA8Rbj+B,+BAAU1M,GACR,KAAK2qC,KA/RM,SA+RO3qC,GAClB,KAAKogH,eAAe,WAItB1zG,sCACE,IAAI2zG,EAAc,KAAKzjG,IAAIyjG,YAC3B,IAAKA,EAAa,CAChB,IAAMC,EAAgB,KAAK31E,KAAK,UAC1B41E,EAAe,KAAK3jG,IAAI2jG,aAE5BF,EADEE,GAAgBD,EACJ/B,EAAegC,EAAcD,GAE7BA,GAAiBC,EAEjC,KAAKz5G,IAAI,cAAeu5G,GAE1B,OAAOA,GAIT3zG,iCAAY6kB,GACV,IAAM+uF,EAAgB,KAAK31E,KAAK,UAC5B01E,EAAc,KAEhBA,EADE9uF,GAAU+uF,EACE/B,EAAehtF,EAAQ+uF,GAEvBA,GAAiB/uF,EAEjC,KAAKzqB,IAAI,cAAeu5G,GACxB,KAAKv5G,IAAI,eAAgByqB,IAQ3B7kB,wCACE,OAAO,MAITA,mCAAcxH,GACZ,IAAMqsB,EAAS,KAAKoZ,KAAK,UACzB,OAAIpZ,EACKitF,EAAajtF,EAAQrsB,GAEvBA,GAITwH,sCAAiBxH,GACf,IAAMqsB,EAAS,KAAKoZ,KAAK,UACzB,GAAIpZ,EAAQ,CACV,IAAMivF,EAAe5uF,EAAOL,GAC5B,GAAIivF,EACF,OAAOhC,EAAagC,EAAct7G,GAGtC,OAAOA,GAITwH,6BAAQ6pD,GACN,IAAM3wB,EAAS,KAAK66E,YAQhBC,EAAY,KAEhB,GAAInqD,EAAS,CACX,IAEMoqD,EAFY,KAAKC,eACLh1G,qBAAW2qD,EAAQ5zD,OAEjCg+G,IACFD,EAAY,IAAIC,EAAK,CACnBh+G,KAAM4zD,EAAQ5zD,KACdu9G,aAAa,EACbC,QAAS,KACT38G,MAAO+yD,EAAQ/yD,MACfoiC,OAAM,KAOZ,OAFA,KAAK9+B,IAAI,YAAa45G,GACtB,KAAKN,eAAe,QACbM,GAGTh0G,+BAEE,IAAMg0G,EAAY,KAAK9jG,IAAI8jG,UAE3B,OAAKA,GACI,MAKXh0G,6BAAA,WACQq+C,EAAc,KAAKvnD,MACnBA,EAAQ,GACdT,eAAKgoD,GAAa,SAACnrD,EAAGuD,GAChBL,kBAAQioD,EAAY5nD,IACtBK,EAAML,GAlYd,SAAyBnB,GAEvB,IADA,IAAMI,EAAS,GACNxC,EAAI,EAAGA,EAAIoC,EAAIF,OAAQlC,IAC1BkD,kBAAQd,EAAIpC,IACdwC,EAAOE,KAAK,GAAGkC,OAAOxC,EAAIpC,KAE1BwC,EAAOE,KAAKN,EAAIpC,IAGpB,OAAOwC,EAyXUy+G,CAAgB91D,EAAY5nD,IAEvCK,EAAML,GAAK4nD,EAAY5nD,MAG3B,IAEM8K,EAAQ,IAAI6yG,EAFL,KAAKx0G,aAEK,CAAE9I,MAAK,IAI9B,OAHAT,eAAK27G,GAAY,SAACqC,GAChB9yG,EAAMnH,IAAIi6G,EAAShyF,EAAKtuB,IAAIsgH,OAEvB9yG,GAGTvB,+BACoB,KAAK4zB,YAIvB,KAAK98B,MAAQ,GACbw+B,YAAMD,QAAOhiC,KAAA,QAQf2M,uCACE,OAAO,KAAKjM,IAAI,UAAUugH,UAiB5Bt0G,+B,IAAQ,oCAAAsB,kBACN,GAAK,KAAKvN,IAAI,aAAgB,KAAKA,IAAI,UAAvC,CAGA,KAAKqG,IAAI,aAAa,GACtB,IAAIm6G,EAAW,KAAKxgH,IAAI,YACnBwgH,IACHA,EAAW,KAAKxgH,IAAI,UAAUA,IAAI,YAClC,KAAKqG,IAAI,WAAYm6G,IAEvB,IAAI/B,EAAa,KAAKz+G,IAAI,eAAiB,GAEtCwgH,EAAS1pE,OACZ0pE,EAASC,YAEN,IACD17D,EACA27D,EACAC,EACAC,EACAt8E,EALC,EAAwE/2B,EAAI,GAAnEy3C,EAA+Dz3C,EAAI,GAAzD4K,EAAqD5K,EAAI,GAAzD03C,OAAM,MAAG,aAAY9sC,EAAEivB,EAA8B75B,EAAI,GAAlC23C,OAAQ,MAAG3qC,OAAI6sB,EAAEkC,EAAa/7B,EAAI,GAAjBoxG,OAAK,MAAG,EAACr1E,EAOrEzmC,qBAAWu7G,IACbr5D,EAAUq5D,EACVA,EAAU,IACD37G,mBAAS27G,IAAaA,EAAgBr5D,UAE/CA,EAAWq5D,EAAgBr5D,QAC3B27D,EAAUtC,EAAgBsC,QAGxBj+G,mBAASuiD,IAEXA,GADA1gB,EAAa0gB,GACSA,SACtBC,EAAS3gB,EAAW2gB,QAAU,aAC9B05D,EAAQr6E,EAAWq6E,OAAS,EAE5B+B,EAASp8E,EAAWo8E,QAAUA,IAAU,EACxCx7D,EAAW5gB,EAAW4gB,UAAY3qC,OAClComG,EAAgBr8E,EAAWq8E,eAAiBpmG,OAC5CqmG,EAAiBt8E,EAAWs8E,gBAAkBrmG,SAG1CtR,mBAASi8C,KACXy5D,EAAQz5D,EACRA,EAAW,MAGTriD,qBAAWoiD,IACbC,EAAWD,EACXA,EAAS,cAETA,EAASA,GAAU,cAGvB,IAAM47D,EAAgBvC,GAAiBF,EAAS,MAC1CM,EAAuB,CAC3BL,UAAWF,GAAmB0C,EAAe,MAC7CzC,QAASyC,EACT77D,SAAQ,EACRC,OAAM,EACNy7D,OAAM,EACNx7D,SAAQ,EACRy7D,cAAa,EACbC,eAAc,EACdjC,MAAK,EACLC,UAAW4B,EAASlzF,UACpBH,GAAIyU,qBACJmjB,QAAO,EACP+7D,eAAe,GAGbrC,EAAWp9G,OAAS,EAEtBo9G,EAAaD,GAAkBC,EAAYC,GAG3C8B,EAASO,YAAY,MAEvBtC,EAAW58G,KAAK68G,GAChB,KAAKr4G,IAAI,aAAco4G,GACvB,KAAKp4G,IAAI,SAAU,CAAEk6G,UAAU,MAOjCt0G,iCAAY+0G,GAAZ,gBAAY,QAAAA,MACV,IAAMvC,EAAa,KAAKz+G,IAAI,cAC5BsC,eAAKm8G,GAAY,SAACC,GAEZsC,IACEtC,EAAU35D,QACZz2B,EAAK4b,KAAKw0E,EAAU35D,QAAQ,IAE5Bz2B,EAAK4b,KAAKw0E,EAAUN,UAGpBM,EAAUx5D,UAEZw5D,EAAUx5D,cAGd,KAAK7+C,IAAI,aAAa,GACtB,KAAKA,IAAI,aAAc,KAMzB4F,oCACE,IAAMu0G,EAAW,KAAKxgH,IAAI,YACpBy+G,EAAa,KAAKz+G,IAAI,cACtBihH,EAAYT,EAASlzF,UAc3B,OAbAhrB,eAAKm8G,GAAY,SAACC,GAChBA,EAAUwC,SAAU,EACpBxC,EAAUyC,WAAaF,EACnBvC,EAAUiC,eAEZjC,EAAUiC,mBAId,KAAKt6G,IAAI,SAAU,CACjBk6G,UAAU,EACVU,UAAS,IAEJ,MAMTh1G,qCACE,IACM00B,EADW,KAAK3gC,IAAI,YACDstB,UACnBmxF,EAAa,KAAKz+G,IAAI,cACtBihH,EAAY,KAAKjhH,IAAI,UAAUihH,UAcrC,OAZA3+G,eAAKm8G,GAAY,SAACC,GAChBA,EAAUE,UAAYF,EAAUE,WAAaj+E,EAAUsgF,GACvDvC,EAAUwC,SAAU,EACpBxC,EAAUyC,WAAa,KACnBzC,EAAUkC,gBACZlC,EAAUkC,oBAGd,KAAKv6G,IAAI,SAAU,CACjBk6G,UAAU,IAEZ,KAAKl6G,IAAI,aAAco4G,GAChB,MAQTxyG,oCAAe/J,EAAck/G,GAA7B,IAGMC,EAHN,OACQz5C,EAAQw5C,EAASE,gBACR,KAAK7zF,YAEP,eAATvrB,EACFm/G,EAAgBD,EAASG,UACP,eAATr/G,IACTm/G,EAAgBD,EAASI,SAG3B,I,eAASriH,GACP,IAAMo6B,EAAUquC,EAAMzoE,GAEhBsiH,EAAOloF,EAAQv5B,IAAI,QACzB,GAAIyhH,EAAM,CAER,IAEGloF,EAAQmoF,WAAcnoF,EAAQtd,UAAYsd,EAAQtd,aACnDolG,GACAxlG,EAAS0d,EAAS8nF,G,cAIhBh/G,kBAAQo/G,GACVn/G,eAAKm/G,GAAM,SAACE,GACVrzF,EAAKszF,kBAAkBroF,EAASooF,EAASP,MAG3CS,EAAKD,kBAAkBroF,EAASkoF,EAAML,K,OAnBnCjiH,EAAI,EAAGA,EAAIyoE,EAAMvmE,OAAQlC,IAAG,C,eAA5BA,G,QAyBH8M,8BAAR,SAA0BstB,EAAS75B,EAAc0hH,GAC/C,IAAMrzF,EAAS,KAAKN,YAEd+/B,EAAY9tD,EA3nBG,IA2nBuB0hH,EAASl/G,MACjD6rB,EAAOy/B,IAAcz/B,EA3nBZ,QA6nBXqzF,EAAS1hH,KAAO8tD,EAChB4zD,EAASp/E,cAAgBzI,EACzB6nF,EAASU,eAAiB,KAE1BV,EAASW,eAAiBxoF,EAAQv5B,IAAI,kBACtC,KAAKmb,KAAKqyC,EAAW4zD,KAUzBn1G,+BAAU+1G,EAAwBC,QAAxB,QAAAD,UAAwB,QAAAC,KAChC,IAAMnxF,EAAS,KAAKsB,YACd8vF,EAAYtzF,EAAUkC,EAAQ,CAAC,CAAC,IAAKkxF,EAAYC,KAEvD,OADA,KAAKvvF,UAAUwvF,GACR,MASTj2G,0BAAKk2G,EAAiBC,GACpB,IAAMphG,EAAI,KAAKkpB,KAAK,MAAQ,EACtBv2B,EAAI,KAAKu2B,KAAK,MAAQ,EAE5B,OADA,KAAKlY,UAAUmwF,EAAUnhG,EAAGohG,EAAUzuG,GAC/B,MAST1H,4BAAOk2G,EAAiBC,GACtB,OAAO,KAAKjwF,KAAKgwF,EAASC,IAS5Bn2G,2BAAMo2G,EAAgBC,GACpB,IAAMxxF,EAAS,KAAKsB,YACd8vF,EAAYtzF,EAAUkC,EAAQ,CAAC,CAAC,IAAKuxF,EAAQC,GAAUD,KAE7D,OADA,KAAK3vF,UAAUwvF,GACR,MAQTj2G,4BAAO9B,GACL,IAAM2mB,EAAS,KAAKsB,YACd8vF,EAAYtzF,EAAUkC,EAAQ,CAAC,CAAC,IAAK3mB,KAE3C,OADA,KAAKuoB,UAAUwvF,GACR,MAQTj2G,mCAAciV,GACN,MAAW,KAAKgpB,OAAdlpB,EAAC,IAAErN,EAAC,IACNmd,EAAS,KAAKsB,YACd8vF,EAAYtzF,EAAUkC,EAAQ,CAClC,CAAC,KAAM9P,GAAIrN,GACX,CAAC,IAAKuN,GACN,CAAC,IAAKF,EAAGrN,KAGX,OADA,KAAK+e,UAAUwvF,GACR,MAQTj2G,mCAAc+U,EAAWrN,EAAWuN,GAClC,IAAM4P,EAAS,KAAKsB,YACd8vF,EAAYtzF,EAAUkC,EAAQ,CAClC,CAAC,KAAM9P,GAAIrN,GACX,CAAC,IAAKuN,GACN,CAAC,IAAKF,EAAGrN,KAGX,OADA,KAAK+e,UAAUwvF,GACR,MAEX,EA1qBA,CAA+BtO,GCpEzB2O,GAAY,GA4DlB,IAiaeC,GAjaf,yB,+CA+ZA,OA/ZiCrwG,iBAC/BqwG,gCACE,OAAO,GAITA,+BAEE,IAAIjwF,EAAO1oB,IACP0pB,GAAQ1pB,IACR2oB,EAAO3oB,IACP2pB,GAAQ3pB,IACN+pB,EAAO,GACPC,EAAO,GAEPzG,EAAW,KAAK+lB,cAAc1xC,QAClC,SAAC67B,GACC,SAAMt9B,IAAI,cAAgBs9B,EAAMokF,WAAcpkF,EAAMokF,WAAcpkF,EAAiB6V,cAAc9xC,OAAS,MA4B9G,OA1BI+rB,EAAS/rB,OAAS,GACpBiB,eAAK8qB,GAAU,SAACkQ,GACd,IAAM67E,EAAM77E,EAAM3J,UAClBC,EAAK/xB,KAAKs3G,EAAI5mF,KAAM4mF,EAAI5lF,MACxBM,EAAKhyB,KAAKs3G,EAAI3mF,KAAM2mF,EAAI3lF,SAE1BjB,EAAOjuB,cAAIsvB,GACXL,EAAOlvB,cAAIuvB,GACXpB,EAAOluB,cAAIuvB,GACXL,EAAOnvB,cAAIwvB,KAEXtB,EAAO,EACPgB,EAAO,EACPf,EAAO,EACPgB,EAAO,GAEG,CACVxS,EAAGuR,EACH5e,EAAG6e,EACHD,KAAI,EACJC,KAAI,EACJe,KAAI,EACJC,KAAI,EACJliB,MAAOiiB,EAAOhB,EACd1S,OAAQ2T,EAAOhB,IAMnBgwF,qCACE,IAAIjwF,EAAO1oB,IACP0pB,GAAQ1pB,IACR2oB,EAAO3oB,IACP2pB,GAAQ3pB,IACN+pB,EAAO,GACPC,EAAO,GAEPzG,EAAW,KAAK+lB,cAAc1xC,QAClC,SAAC67B,GACC,SAAMt9B,IAAI,cAAgBs9B,EAAMokF,WAAcpkF,EAAMokF,WAAcpkF,EAAiB6V,cAAc9xC,OAAS,MA4B9G,OA1BI+rB,EAAS/rB,OAAS,GACpBiB,eAAK8qB,GAAU,SAACkQ,GACd,IAAM67E,EAAM77E,EAAMhL,gBAClBsB,EAAK/xB,KAAKs3G,EAAI5mF,KAAM4mF,EAAI5lF,MACxBM,EAAKhyB,KAAKs3G,EAAI3mF,KAAM2mF,EAAI3lF,SAE1BjB,EAAOjuB,cAAIsvB,GACXL,EAAOlvB,cAAIuvB,GACXpB,EAAOluB,cAAIuvB,GACXL,EAAOnvB,cAAIwvB,KAEXtB,EAAO,EACPgB,EAAO,EACPf,EAAO,EACPgB,EAAO,GAEG,CACVxS,EAAGuR,EACH5e,EAAG6e,EACHD,KAAI,EACJC,KAAI,EACJe,KAAI,EACJC,KAAI,EACJliB,MAAOiiB,EAAOhB,EACd1S,OAAQ2T,EAAOhB,IAKnBgwF,qCACE,IAAMrmG,EAAMolB,YAAM/T,cAAaluB,KAAA,MAE/B,OADA6c,EAAG,SAAe,GACXA,GAGTqmG,kCAAa9iH,EAAMU,EAAOk/G,GAExB,GADA/9E,YAAMg+E,aAAYjgH,KAAA,KAACI,EAAMU,EAAOk/G,GACnB,WAAT5/G,EAAmB,CACrB,IAAMkgH,EAAc,KAAK6C,iBACzB,KAAKC,oBAAoB9C,KAK7B4C,iCAAY1xF,GACV,IAAM6xF,EAAiB,KAAKF,iBAC5BlhF,YAAMqhF,YAAWtjH,KAAA,KAACwxB,GAClB,IAAM8uF,EAAc,KAAK6C,iBAGrB7C,IAAgB+C,GAGpB,KAAKD,oBAAoB9C,IAI3B4C,yCAAoB5C,GAClB,IAAMxyF,EAAW,KAAK+lB,cACtB7wC,eAAK8qB,GAAU,SAACkQ,GACdA,EAAMslF,YAAYhD,OAKtB4C,gC,IAAS,oCAAAj1G,kBACP,IAAMrL,EAAOqL,EAAK,GACd4O,EAAM5O,EAAK,GACX9K,mBAASP,GACXia,EAAMja,EAENia,EAAG,KAAWja,EAEhB,IAAIspC,EAAY+2E,GAAUpmG,EAAIja,MACzBspC,IACHA,EAAYrgC,qBAAWgR,EAAIja,MAC3BqgH,GAAUpmG,EAAIja,MAAQspC,GAExB,IAAMq3E,EAAY,KAAK1C,eACjBx3E,EAAQ,IAAIk6E,EAAUr3E,GAAWrvB,GAEvC,OADA,KAAKg9B,IAAIxQ,GACFA,GAGT65E,gC,IAAS,oCAAAj1G,kBACA,IACH0kB,EADG,EAAmB1kB,EAAI,GAAX4O,EAAO5O,EAAI,GAE9B,GAAI1K,qBAAWigH,GAEX7wF,EAAQ,IAAI6wF,EADV3mG,GAGqB,CAErB4P,OAAQ,WAGP,CACL,IAAMg3F,EAASD,GAAc,GACvBE,EAAgB,KAAKC,eAC3BhxF,EAAQ,IAAI+wF,EAAcD,GAG5B,OADA,KAAK5pE,IAAIlnB,GACFA,GAGTuwF,iCAOE,OALI,KAAKvmG,WACE,KAEA,KAAKjc,IAAI,WAKtBwiH,8BAASxhG,EAAWrN,EAAWw5F,GAE7B,IAAKvxF,EAAe,MAClB,OAAO,KAET,IACI+sB,EADEvb,EAAW,KAAK+lB,cAGtB,GAAK,KAAKl3B,WAQR0sB,EAAQ,KAAKu6E,WAAW91F,EAAUpM,EAAGrN,EAAGw5F,OARpB,CACpB,IAAI1oG,EAAI,CAACuc,EAAGrN,EAAG,GAEflP,EAAI,KAAK0+G,iBAAiB1+G,GACrB,KAAK2+G,UAAU3+G,EAAE,GAAIA,EAAE,MAC1BkkC,EAAQ,KAAKu6E,WAAW91F,EAAU3oB,EAAE,GAAIA,EAAE,GAAI0oG,IAKlD,OAAOxkE,GAGT65E,gCAAWp1F,EAAsBpM,EAAWrN,EAAWw5F,GAErD,IADA,IAAIxkE,EAAQ,KACHxpC,EAAIiuB,EAAS/rB,OAAS,EAAGlC,GAAK,EAAGA,IAAK,CAC7C,IAAMm+B,EAAQlQ,EAASjuB,GAQvB,GAPIyc,EAAe0hB,KACbA,EAAMokF,UACR/4E,EAASrL,EAAiBkN,SAASxpB,EAAGrN,EAAGw5F,GAC/B7vE,EAAiBrK,MAAMjS,EAAGrN,KACpCg1B,EAAQrL,IAGRqL,EACF,MAGJ,OAAOA,GAGT65E,yBAAIjpF,GACF,IAAM4L,EAAS,KAAK66E,YACd5yF,EAAW,KAAK+lB,cAChBqtE,EAAW,KAAKxgH,IAAI,YACpBqjH,EAAY9pF,EAAQrd,YACtBmnG,GA9OR,SAAqBt6E,EAAuBxP,EAAmB+H,QAAA,QAAAA,MAEzDA,EACF/H,EAAQ+H,WAER/H,EAAQlzB,IAAI,SAAU,MACtBkzB,EAAQlzB,IAAI,SAAU,OAExB0V,EAAgBgtB,EAAUoK,cAAe5Z,GAuOrCuQ,CAAYu5E,EAAW9pF,GAAS,GAElCA,EAAQlzB,IAAI,SAAU,MAClB8+B,GApRR,SAASm+E,EAAU/pF,EAAmB4L,GAEpC,GADA5L,EAAQlzB,IAAI,SAAU8+B,GAClB5L,EAAQmoF,UAAW,CACrB,IAAMt0F,EAAWmM,EAAQv5B,IAAI,YACzBotB,EAAS/rB,QACX+rB,EAAS5d,SAAQ,SAAC8tB,GAChBgmF,EAAUhmF,EAAO6H,OA+QnBm+E,CAAU/pF,EAAS4L,GAEjBq7E,GAtQR,SAAS+C,EAAYhqF,EAAmBinF,GAEtC,GADAjnF,EAAQlzB,IAAI,WAAYm6G,GACpBjnF,EAAQmoF,UAAW,CACrB,IAAMt0F,EAAWmM,EAAQv5B,IAAI,YACzBotB,EAAS/rB,QACX+rB,EAAS5d,SAAQ,SAAC8tB,GAChBimF,EAAYjmF,EAAOkjF,OAiQrB+C,CAAYhqF,EAASinF,GAEvBpzF,EAASvrB,KAAK03B,GACdA,EAAQomF,eAAe,OACvB,KAAK6D,oBAAoBjqF,IAI3BipF,yCAAoBjpF,GAClB,IAAMqmF,EAAc,KAAK6C,iBAErB7C,GACFrmF,EAAQqpF,YAAYhD,IAIxB4C,mCACE,OAAO,KAAKxiH,IAAI,aAGlBwiH,4BACE,IAhQiB3zF,EAgQXzB,EAAW,KAAK+lB,cAEtB7wC,eAAK8qB,GAAU,SAACkQ,EAAO17B,GAErB,OADA07B,EAAK,OAAU17B,EACR07B,KAETlQ,EAASrnB,MAtQQ8oB,EAuQH,SAAC2tF,EAAMz9E,GACjB,OAAOy9E,EAAKx8G,IAAI,UAAY++B,EAAK/+B,IAAI,WAvQpC,SAAUg1B,EAAME,GACrB,IAAMvzB,EAASktB,EAAQmG,EAAME,GAC7B,OAAkB,IAAXvzB,EAAeqzB,EAAI,OAAUE,EAAK,OAAUvzB,KAwQnD,KAAKg+G,eAAe,SAGtB6C,6BAEE,GADA,KAAKn8G,IAAI,YAAY,IACjB,KAAKw5B,UAAT,CAIA,IADA,IAAMzS,EAAW,KAAK+lB,cACbh0C,EAAIiuB,EAAS/rB,OAAS,EAAGlC,GAAK,EAAGA,IACxCiuB,EAASjuB,GAAGmiC,UAEd,KAAKj7B,IAAI,WAAY,IACrB,KAAKs5G,eAAe,SACpB,KAAKt5G,IAAI,YAAY,KAGvBm8G,+BACM,KAAKxiH,IAAI,eAGb,KAAKitC,QACL1L,YAAMD,QAAOhiC,KAAA,QAOfkjH,gCACE,OAAO,KAAKiB,gBAAgB,IAO9BjB,+BACE,IAAMp1F,EAAW,KAAK+lB,cACtB,OAAO,KAAKswE,gBAAgBr2F,EAAS/rB,OAAS,IAOhDmhH,qCAAgB5gH,GAEd,OADiB,KAAKuxC,cACNvxC,IAOlB4gH,gCAEE,OADiB,KAAKrvE,cACN9xC,QAQlBmhH,6BAAQjpF,GAEN,OADiB,KAAK4Z,cACN3xC,QAAQ+3B,IAAY,GAQtCipF,iCAAYjpF,EAAmB+H,QAAA,QAAAA,MACzB,KAAK2hB,QAAQ1pB,IACfA,EAAQh0B,OAAO+7B,IASnBkhF,6BAAQn9G,GACN,IAAIxB,EAAkB,GAChBupB,EAAW,KAAK+lB,cAStB,OARA7wC,eAAK8qB,GAAU,SAACmM,GACVl0B,EAAGk0B,IACL11B,EAAIhC,KAAK03B,GAEPA,EAAQmoF,YACV79G,EAAMA,EAAIE,OAAQw1B,EAAmBusB,QAAQzgD,QAG1CxB,GAQT2+G,0BAAKn9G,GACH,IAAIxB,EAAgB,KACdupB,EAAW,KAAK+lB,cAWtB,OAVA7wC,eAAK8qB,GAAU,SAACmM,GAMd,GALIl0B,EAAGk0B,GACL11B,EAAM01B,EACGA,EAAQmoF,YACjB79G,EAAO01B,EAAmBl2B,KAAKgC,IAE7BxB,EACF,OAAO,KAGJA,GAQT2+G,8BAASr1F,GACP,OAAO,KAAK9pB,MAAK,SAACk2B,GAChB,OAAOA,EAAQv5B,IAAI,QAAUmtB,MAWjCq1F,qCAAgBj4E,GACd,OAAO,KAAKlnC,MAAK,SAACk2B,GAChB,OAAOA,EAAQv5B,IAAI,eAAiBuqC,MASxCi4E,mCAAc9iH,GACZ,OAAO,KAAKomD,SAAQ,SAACvsB,GACnB,OAAOA,EAAQv5B,IAAI,UAAYN,MAGrC,EA/ZA,CAAiCuM,I,uOCnEjC,IAIIy3G,GACAC,GALAC,GAAQ,EACRh2G,GAAU,EACVmiF,GAAW,EAIX8zB,GAAY,EACZC,GAAW,EACXC,GAAY,EACZC,GAA+B,YAAvB,oBAAOC,YAAP,eAAOA,eAA4BA,YAAYh0G,IAAMg0G,YAAcj0G,KAC3Ek0G,GAA6B,YAAlB,oBAAO93G,OAAP,eAAOA,UAAuBA,OAAOD,sBAAwBC,OAAOD,sBAAsBxL,KAAKyL,QAAU,SAASI,GAAKC,WAAWD,EAAG,KAE7I,SAASyD,KACd,OAAO6zG,KAAaI,GAASC,IAAWL,GAAWE,GAAM/zG,MAAQ8zG,IAGnE,SAASI,KACPL,GAAW,EAGN,SAASM,KACdrlH,KAAKslH,MACLtlH,KAAKulH,MACLvlH,KAAKwlH,MAAQ,KA0BR,SAASztE,GAAMoO,EAAUy5D,EAAO/uB,GACrC,IAAIvvF,EAAI,IAAI+jH,GAEZ,OADA/jH,EAAEmkH,QAAQt/D,EAAUy5D,EAAO/uB,GACpBvvF,EAcT,SAASokH,KACPX,IAAYD,GAAYG,GAAM/zG,OAAS8zG,GACvCH,GAAQh2G,GAAU,EAClB,KAdK,WACLqC,OACE2zG,GAEF,IADA,IAAkB98G,EAAdzG,EAAIqjH,GACDrjH,IACAyG,EAAIg9G,GAAWzjH,EAAEikH,QAAU,GAAGjkH,EAAEgkH,MAAM/kH,KAAK,KAAMwH,GACtDzG,EAAIA,EAAEkkH,QAENX,GAOAc,GADF,QAGEd,GAAQ,EAWZ,WACE,IAAIe,EAAmB9L,EAAfD,EAAK8K,GAAc9zB,EAAO/lF,IAClC,KAAO+uG,GACDA,EAAGyL,OACDz0B,EAAOgpB,EAAG0L,QAAO10B,EAAOgpB,EAAG0L,OAC/BK,EAAK/L,EAAIA,EAAKA,EAAG2L,QAEjB1L,EAAKD,EAAG2L,MAAO3L,EAAG2L,MAAQ,KAC1B3L,EAAK+L,EAAKA,EAAGJ,MAAQ1L,EAAK6K,GAAW7K,GAGzC8K,GAAWgB,EACXC,GAAMh1B,GAtBJi1B,GACAf,GAAW,GAIf,SAASgB,KACP,IAAI70G,EAAM+zG,GAAM/zG,MAAO0uG,EAAQ1uG,EAAM4zG,GACjClF,EA7EU,MA6ESoF,IAAapF,EAAOkF,GAAY5zG,GAkBzD,SAAS20G,GAAMh1B,GACTg0B,KACAh2G,KAASA,GAAUb,aAAaa,KACxBgiF,EAAOk0B,GACP,IACNl0B,EAAO/lF,MAAU+D,GAAUnB,WAAWg4G,GAAM70B,EAAOo0B,GAAM/zG,MAAQ8zG,KACjEh0B,KAAUA,GAAWg1B,cAAch1B,OAElCA,KAAU8zB,GAAYG,GAAM/zG,MAAO8/E,GAAWi1B,YAAYF,GAvGnD,MAwGZlB,GAAQ,EAAGM,GAASO,MAjFxBL,GAAMrjH,UAAY+1C,GAAM/1C,UAAY,CAClC8K,YAAau4G,GACbI,QAAS,SAASt/D,EAAUy5D,EAAO/uB,GACjC,GAAwB,mBAAb1qC,EAAyB,MAAM,IAAIh3C,UAAU,8BACxD0hF,GAAgB,MAARA,EAAe3/E,MAAS2/E,IAAkB,MAAT+uB,EAAgB,GAAKA,GACzD5/G,KAAKwlH,OAASZ,KAAa5kH,OAC1B4kH,GAAUA,GAASY,MAAQxlH,KAC1B2kH,GAAW3kH,KAChB4kH,GAAW5kH,MAEbA,KAAKslH,MAAQn/D,EACbnmD,KAAKulH,MAAQ10B,EACbg1B,MAEF3rD,KAAM,WACAl6D,KAAKslH,QACPtlH,KAAKslH,MAAQ,KACbtlH,KAAKulH,MAAQz6G,IACb+6G,QC5CS,gBAAS/4G,EAAanN,EAASqC,GAC5C8K,EAAY9K,UAAYrC,EAAQqC,UAAYA,EAC5CA,EAAU8K,YAAcA,GAGnB,SAAS4C,GAAOsd,EAAQk5F,GAC7B,IAAIlkH,EAAYlB,OAAOY,OAAOsrB,EAAOhrB,WACrC,IAAK,IAAIL,KAAOukH,EAAYlkH,EAAUL,GAAOukH,EAAWvkH,GACxD,OAAOK,ECNF,SAASkwG,MAET,IAGHiU,GAAM,sBACNC,GAAM,gDACNC,GAAM,iDACNC,GAAQ,qBACRC,GAAe,IAAIlpF,OAAO,UAAY,CAAC8oF,GAAKA,GAAKA,IAAO,QACxDK,GAAe,IAAInpF,OAAO,UAAY,CAACgpF,GAAKA,GAAKA,IAAO,QACxDI,GAAgB,IAAIppF,OAAO,WAAa,CAAC8oF,GAAKA,GAAKA,GAAKC,IAAO,QAC/DM,GAAgB,IAAIrpF,OAAO,WAAa,CAACgpF,GAAKA,GAAKA,GAAKD,IAAO,QAC/DO,GAAe,IAAItpF,OAAO,UAAY,CAAC+oF,GAAKC,GAAKA,IAAO,QACxDO,GAAgB,IAAIvpF,OAAO,WAAa,CAAC+oF,GAAKC,GAAKA,GAAKD,IAAO,QAE/DS,GAAQ,CACV7jG,UAAW,SACXC,aAAc,SACdC,KAAM,MACNC,WAAY,QACZC,MAAO,SACPC,MAAO,SACPC,OAAQ,SACRC,MAAO,EACPC,eAAgB,SAChBC,KAAM,IACNC,WAAY,QACZC,MAAO,SACPC,UAAW,SACXC,UAAW,QACXC,WAAY,QACZC,UAAW,SACXC,MAAO,SACPC,eAAgB,QAChBC,SAAU,SACVC,QAAS,SACTC,KAAM,MACNC,SAAU,IACVC,SAAU,MACVC,cAAe,SACfC,SAAU,SACVC,UAAW,MACXC,SAAU,SACVC,UAAW,SACXC,YAAa,QACbC,eAAgB,QAChBC,WAAY,SACZC,WAAY,SACZC,QAAS,QACTC,WAAY,SACZC,aAAc,QACdC,cAAe,QACfC,cAAe,QACfC,cAAe,QACfC,cAAe,MACfC,WAAY,QACZC,SAAU,SACVC,YAAa,MACbC,QAAS,QACTC,QAAS,QACTC,WAAY,QACZC,UAAW,SACXC,YAAa,SACbC,YAAa,QACbC,QAAS,SACTC,UAAW,SACXC,WAAY,SACZC,KAAM,SACNC,UAAW,SACXjP,KAAM,QACNkP,MAAO,MACPC,YAAa,SACbC,KAAM,QACNC,SAAU,SACVC,QAAS,SACTC,UAAW,SACXC,OAAQ,QACRC,MAAO,SACPC,MAAO,SACPC,SAAU,SACVC,cAAe,SACfC,UAAW,QACXC,aAAc,SACdC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,qBAAsB,SACtBC,UAAW,SACXC,WAAY,QACZC,UAAW,SACXC,UAAW,SACXC,YAAa,SACbC,cAAe,QACfC,aAAc,QACdC,eAAgB,QAChBC,eAAgB,QAChBC,eAAgB,SAChBC,YAAa,SACbC,KAAM,MACNC,UAAW,QACXC,MAAO,SACPC,QAAS,SACTC,OAAQ,QACRC,iBAAkB,QAClBC,WAAY,IACZC,aAAc,SACdC,aAAc,QACdC,eAAgB,QAChBC,gBAAiB,QACjBC,kBAAmB,MACnBC,gBAAiB,QACjBC,gBAAiB,SACjBC,aAAc,QACdC,UAAW,SACXC,UAAW,SACXC,SAAU,SACVC,YAAa,SACbC,KAAM,IACNC,QAAS,SACTC,MAAO,QACPC,UAAW,QACXC,OAAQ,SACRC,UAAW,SACXC,OAAQ,SACRC,cAAe,SACfC,UAAW,SACXC,cAAe,SACfC,cAAe,SACfC,WAAY,SACZC,UAAW,SACXC,KAAM,SACNC,KAAM,SACNC,KAAM,SACNC,WAAY,SACZC,OAAQ,QACRC,cAAe,QACfC,IAAK,SACLC,UAAW,SACXC,UAAW,QACXC,YAAa,QACbC,OAAQ,SACRC,WAAY,SACZC,SAAU,QACVC,SAAU,SACVC,OAAQ,SACRC,OAAQ,SACRC,QAAS,QACTC,UAAW,QACXC,UAAW,QACXC,UAAW,QACXC,KAAM,SACNC,YAAa,MACbC,UAAW,QACXC,IAAK,SACLC,KAAM,MACNC,QAAS,SACTC,OAAQ,SACRC,UAAW,QACXC,OAAQ,SACRC,MAAO,SACPC,MAAO,SACPC,WAAY,SACZC,OAAQ,SACRC,YAAa,UAiBf,SAAS46F,KACP,OAAO9mH,KAAKmW,MAAM4wG,YAOpB,SAASC,KACP,OAAOhnH,KAAKmW,MAAM8wG,YAGL,SAAS79G,GAAM89G,GAC5B,IAAI1mH,EAAGH,EAEP,OADA6mH,GAAUA,EAAS,IAAIhgF,OAAOx7B,eACtBlL,EAAI8lH,GAAM9sG,KAAK0tG,KAAY7mH,EAAIG,EAAE,GAAG8B,OAAQ9B,EAAI6K,SAAS7K,EAAE,GAAI,IAAW,IAANH,EAAU8mH,GAAK3mH,GAC/E,IAANH,EAAU,IAAI+mH,GAAK5mH,GAAK,EAAI,GAAQA,GAAK,EAAI,IAAQA,GAAK,EAAI,GAAY,IAAJA,GAAiB,GAAJA,IAAY,EAAU,GAAJA,EAAU,GACzG,IAANH,EAAUgnH,GAAK7mH,GAAK,GAAK,IAAMA,GAAK,GAAK,IAAMA,GAAK,EAAI,KAAW,IAAJA,GAAY,KACrE,IAANH,EAAUgnH,GAAM7mH,GAAK,GAAK,GAAQA,GAAK,EAAI,IAAQA,GAAK,EAAI,GAAQA,GAAK,EAAI,IAAQA,GAAK,EAAI,GAAY,IAAJA,IAAkB,GAAJA,IAAY,EAAU,GAAJA,GAAY,KAClJ,OACCA,EAAI+lH,GAAa/sG,KAAK0tG,IAAW,IAAIE,GAAI5mH,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAI,IAC3DA,EAAIgmH,GAAahtG,KAAK0tG,IAAW,IAAIE,GAAW,IAAP5mH,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAK,IAC/FA,EAAIimH,GAAcjtG,KAAK0tG,IAAWG,GAAK7mH,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,KAC3DA,EAAIkmH,GAAcltG,KAAK0tG,IAAWG,GAAY,IAAP7mH,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAKA,EAAE,KAC/FA,EAAImmH,GAAantG,KAAK0tG,IAAWI,GAAK9mH,EAAE,GAAIA,EAAE,GAAK,IAAKA,EAAE,GAAK,IAAK,IACpEA,EAAIomH,GAAcptG,KAAK0tG,IAAWI,GAAK9mH,EAAE,GAAIA,EAAE,GAAK,IAAKA,EAAE,GAAK,IAAKA,EAAE,IACxEqmH,GAAM5kH,eAAeilH,GAAUC,GAAKN,GAAMK,IAC/B,gBAAXA,EAA2B,IAAIE,GAAI9uF,IAAKA,IAAKA,IAAK,GAClD,KAGR,SAAS6uF,GAAKtlH,GACZ,OAAO,IAAIulH,GAAIvlH,GAAK,GAAK,IAAMA,GAAK,EAAI,IAAU,IAAJA,EAAU,GAG1D,SAASwlH,GAAKnmH,EAAG2T,EAAGjO,EAAGnC,GAErB,OADIA,GAAK,IAAGvD,EAAI2T,EAAIjO,EAAI0xB,KACjB,IAAI8uF,GAAIlmH,EAAG2T,EAAGjO,EAAGnC,GAGnB,SAAS8iH,GAAW1mH,GAEzB,OADMA,aAAaqxG,KAAQrxG,EAAIuI,GAAMvI,IAChCA,EAEE,IAAIumH,IADXvmH,EAAIA,EAAEsV,OACWjV,EAAGL,EAAEgU,EAAGhU,EAAE+F,EAAG/F,EAAE4iD,SAFjB,IAAI2jE,GAKd,SAASjxG,GAAIjV,EAAG2T,EAAGjO,EAAG68C,GAC3B,OAA4B,IAArB10C,UAAUzM,OAAeilH,GAAWrmH,GAAK,IAAIkmH,GAAIlmH,EAAG2T,EAAGjO,EAAc,MAAX68C,EAAkB,EAAIA,GAGlF,SAAS2jE,GAAIlmH,EAAG2T,EAAGjO,EAAG68C,GAC3BzjD,KAAKkB,GAAKA,EACVlB,KAAK6U,GAAKA,EACV7U,KAAK4G,GAAKA,EACV5G,KAAKyjD,SAAWA,EA2BlB,SAAS+jE,KACP,MAAO,IAAM3wG,GAAI7W,KAAKkB,GAAK2V,GAAI7W,KAAK6U,GAAKgC,GAAI7W,KAAK4G,GAGpD,SAAS6gH,KACP,IAAIhjH,EAAIzE,KAAKyjD,QACb,OAAc,KADQh/C,EAAIkB,MAAMlB,GAAK,EAAIY,KAAKC,IAAI,EAAGD,KAAKE,IAAI,EAAGd,KAC/C,OAAS,SACrBY,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAKF,KAAKyE,MAAM9J,KAAKkB,IAAM,IAAM,KACtDmE,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAKF,KAAKyE,MAAM9J,KAAK6U,IAAM,IAAM,KACtDxP,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAKF,KAAKyE,MAAM9J,KAAK4G,IAAM,KACzC,IAANnC,EAAU,IAAM,KAAOA,EAAI,KAGpC,SAASoS,GAAIxV,GAEX,QADAA,EAAQgE,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAKF,KAAKyE,MAAMzI,IAAU,KACvC,GAAK,IAAM,IAAMA,EAAM4B,SAAS,IAGlD,SAASqkH,GAAK9vG,EAAGrV,EAAG9B,EAAGoE,GAIrB,OAHIA,GAAK,EAAG+S,EAAIrV,EAAI9B,EAAIi4B,IACfj4B,GAAK,GAAKA,GAAK,EAAGmX,EAAIrV,EAAIm2B,IAC1Bn2B,GAAK,IAAGqV,EAAI8gB,KACd,IAAIovF,GAAIlwG,EAAGrV,EAAG9B,EAAGoE,GAGnB,SAASkjH,GAAW9mH,GACzB,GAAIA,aAAa6mH,GAAK,OAAO,IAAIA,GAAI7mH,EAAE2W,EAAG3W,EAAEsB,EAAGtB,EAAER,EAAGQ,EAAE4iD,SAEtD,GADM5iD,aAAaqxG,KAAQrxG,EAAIuI,GAAMvI,KAChCA,EAAG,OAAO,IAAI6mH,GACnB,GAAI7mH,aAAa6mH,GAAK,OAAO7mH,EAE7B,IAAIK,GADJL,EAAIA,EAAEsV,OACIjV,EAAI,IACV2T,EAAIhU,EAAEgU,EAAI,IACVjO,EAAI/F,EAAE+F,EAAI,IACVrB,EAAMF,KAAKE,IAAIrE,EAAG2T,EAAGjO,GACrBtB,EAAMD,KAAKC,IAAIpE,EAAG2T,EAAGjO,GACrB4Q,EAAI8gB,IACJn2B,EAAImD,EAAMC,EACVlF,GAAKiF,EAAMC,GAAO,EAUtB,OATIpD,GACaqV,EAAXtW,IAAMoE,GAAUuP,EAAIjO,GAAKzE,EAAc,GAAT0S,EAAIjO,GAC7BiO,IAAMvP,GAAUsB,EAAI1F,GAAKiB,EAAI,GAC5BjB,EAAI2T,GAAK1S,EAAI,EACvBA,GAAK9B,EAAI,GAAMiF,EAAMC,EAAM,EAAID,EAAMC,EACrCiS,GAAK,IAELrV,EAAI9B,EAAI,GAAKA,EAAI,EAAI,EAAImX,EAEpB,IAAIkwG,GAAIlwG,EAAGrV,EAAG9B,EAAGQ,EAAE4iD,SAO5B,SAASikE,GAAIlwG,EAAGrV,EAAG9B,EAAGojD,GACpBzjD,KAAKwX,GAAKA,EACVxX,KAAKmC,GAAKA,EACVnC,KAAKK,GAAKA,EACVL,KAAKyjD,SAAWA,EAyClB,SAASmkE,GAAQpwG,EAAGy/F,EAAIC,GACtB,OAGY,KAHJ1/F,EAAI,GAAKy/F,GAAMC,EAAKD,GAAMz/F,EAAI,GAChCA,EAAI,IAAM0/F,EACV1/F,EAAI,IAAMy/F,GAAMC,EAAKD,IAAO,IAAMz/F,GAAK,GACvCy/F,GCjXD,SAAS4Q,GAAMhO,EAAIiO,EAAIrqD,EAAIC,EAAIqqD,GACpC,IAAIjO,EAAKD,EAAKA,EAAIsB,EAAKrB,EAAKD,EAC5B,QAAS,EAAI,EAAIA,EAAK,EAAIC,EAAKqB,GAAM2M,GAC9B,EAAI,EAAIhO,EAAK,EAAIqB,GAAM19C,GACvB,EAAI,EAAIo8C,EAAK,EAAIC,EAAK,EAAIqB,GAAMz9C,EACjCy9C,EAAK4M,GAAM,EDoKnBjoH,GAAOoyG,GAAO9oG,GAAO,CACnB29E,KAAM,SAAS3wE,GACb,OAAOtV,OAAO0S,OAAO,IAAIxT,KAAK8M,YAAa9M,KAAMoW,IAEnD4xG,YAAa,WACX,OAAOhoH,KAAKmW,MAAM6xG,eAEpBnxG,IAAKiwG,GACLC,UAAWD,GACXmB,UASF,WACE,OAAON,GAAW3nH,MAAMioH,aATxBhB,UAAWD,GACX/jH,SAAU+jH,KA6DZlnH,GAAOsnH,GAAKjxG,GAAKzG,GAAOwiG,GAAO,CAC7BgW,SAAU,SAASvkH,GAEjB,OADAA,EAAS,MAALA,EA9Oc,EADF,GA+OW0B,KAAKkS,IA9Od,EADF,GA+O8B5T,GACvC,IAAIyjH,GAAIpnH,KAAKkB,EAAIyC,EAAG3D,KAAK6U,EAAIlR,EAAG3D,KAAK4G,EAAIjD,EAAG3D,KAAKyjD,UAE1D0kE,OAAQ,SAASxkH,GAEf,OADAA,EAAS,MAALA,EAnPY,GAmPS0B,KAAKkS,IAnPd,GAmP0B5T,GACnC,IAAIyjH,GAAIpnH,KAAKkB,EAAIyC,EAAG3D,KAAK6U,EAAIlR,EAAG3D,KAAK4G,EAAIjD,EAAG3D,KAAKyjD,UAE1DttC,IAAK,WACH,OAAOnW,MAETgoH,YAAa,WACX,OAAS,IAAOhoH,KAAKkB,GAAKlB,KAAKkB,EAAI,QAC1B,IAAOlB,KAAK6U,GAAK7U,KAAK6U,EAAI,QAC1B,IAAO7U,KAAK4G,GAAK5G,KAAK4G,EAAI,OAC3B,GAAK5G,KAAKyjD,SAAWzjD,KAAKyjD,SAAW,GAE/C5sC,IAAK2wG,GACLT,UAAWS,GACXP,UAAWQ,GACXxkH,SAAUwkH,MAiEZ3nH,GAAO4nH,IAXA,SAAalwG,EAAGrV,EAAG9B,EAAGojD,GAC3B,OAA4B,IAArB10C,UAAUzM,OAAeqlH,GAAWnwG,GAAK,IAAIkwG,GAAIlwG,EAAGrV,EAAG9B,EAAc,MAAXojD,EAAkB,EAAIA,KAUxE/zC,GAAOwiG,GAAO,CAC7BgW,SAAU,SAASvkH,GAEjB,OADAA,EAAS,MAALA,EApUc,EADF,GAqUW0B,KAAKkS,IApUd,EADF,GAqU8B5T,GACvC,IAAI+jH,GAAI1nH,KAAKwX,EAAGxX,KAAKmC,EAAGnC,KAAKK,EAAIsD,EAAG3D,KAAKyjD,UAElD0kE,OAAQ,SAASxkH,GAEf,OADAA,EAAS,MAALA,EAzUY,GAyUS0B,KAAKkS,IAzUd,GAyU0B5T,GACnC,IAAI+jH,GAAI1nH,KAAKwX,EAAGxX,KAAKmC,EAAGnC,KAAKK,EAAIsD,EAAG3D,KAAKyjD,UAElDttC,IAAK,WACH,IAAIqB,EAAIxX,KAAKwX,EAAI,IAAqB,KAAdxX,KAAKwX,EAAI,GAC7BrV,EAAIwD,MAAM6R,IAAM7R,MAAM3F,KAAKmC,GAAK,EAAInC,KAAKmC,EACzC9B,EAAIL,KAAKK,EACT62G,EAAK72G,GAAKA,EAAI,GAAMA,EAAI,EAAIA,GAAK8B,EACjC80G,EAAK,EAAI52G,EAAI62G,EACjB,OAAO,IAAIkQ,GACTQ,GAAQpwG,GAAK,IAAMA,EAAI,IAAMA,EAAI,IAAKy/F,EAAIC,GAC1C0Q,GAAQpwG,EAAGy/F,EAAIC,GACf0Q,GAAQpwG,EAAI,IAAMA,EAAI,IAAMA,EAAI,IAAKy/F,EAAIC,GACzCl3G,KAAKyjD,UAGTukE,YAAa,WACX,OAAQ,GAAKhoH,KAAKmC,GAAKnC,KAAKmC,GAAK,GAAKwD,MAAM3F,KAAKmC,KACzC,GAAKnC,KAAKK,GAAKL,KAAKK,GAAK,GACzB,GAAKL,KAAKyjD,SAAWzjD,KAAKyjD,SAAW,GAE/CwkE,UAAW,WACT,IAAIxjH,EAAIzE,KAAKyjD,QACb,OAAc,KADQh/C,EAAIkB,MAAMlB,GAAK,EAAIY,KAAKC,IAAI,EAAGD,KAAKE,IAAI,EAAGd,KAC/C,OAAS,UACpBzE,KAAKwX,GAAK,GAAK,KACA,KAAfxX,KAAKmC,GAAK,GAAW,MACN,KAAfnC,KAAKK,GAAK,GAAW,KACf,IAANoE,EAAU,IAAM,KAAOA,EAAI,SChWvB,ICRA,YAASwd,GACtB,OAAO,WACL,OAAOA,ICAX,SAASmmG,GAAO3jH,EAAG/D,GACjB,OAAO,SAASY,GACd,OAAOmD,EAAInD,EAAIZ,GAeZ,SAAS2nH,GAAMzzG,GACpB,OAAoB,IAAZA,GAAKA,GAAW0zG,GAAU,SAAS7jH,EAAGmC,GAC5C,OAAOA,EAAInC,EAbf,SAAqBA,EAAGmC,EAAGgO,GACzB,OAAOnQ,EAAIY,KAAKkS,IAAI9S,EAAGmQ,GAAIhO,EAAIvB,KAAKkS,IAAI3Q,EAAGgO,GAAKnQ,EAAGmQ,EAAI,EAAIA,EAAG,SAAStT,GACrE,OAAO+D,KAAKkS,IAAI9S,EAAInD,EAAIsF,EAAGgO,IAWZ2zG,CAAY9jH,EAAGmC,EAAGgO,GAAK4zG,GAAS7iH,MAAMlB,GAAKmC,EAAInC,IAInD,SAAS6jH,GAAQ7jH,EAAGmC,GACjC,IAAIlG,EAAIkG,EAAInC,EACZ,OAAO/D,EAAI0nH,GAAO3jH,EAAG/D,GAAK8nH,GAAS7iH,MAAMlB,GAAKmC,EAAInC,GCtBrC,gBAAUgkH,EAAS7zG,GAChC,IAAIxL,EAAQi/G,GAAMzzG,GAElB,SAASuB,EAAIokD,EAAO+O,GAClB,IAAIpoE,EAAIkI,GAAOmxD,EAAQmuD,GAASnuD,IAAQr5D,GAAIooE,EAAMo/C,GAASp/C,IAAMpoE,GAC7D2T,EAAIzL,EAAMmxD,EAAM1lD,EAAGy0D,EAAIz0D,GACvBjO,EAAIwC,EAAMmxD,EAAM3zD,EAAG0iE,EAAI1iE,GACvB68C,EAAU6kE,GAAQ/tD,EAAM9W,QAAS6lB,EAAI7lB,SACzC,OAAO,SAASniD,GAKd,OAJAi5D,EAAMr5D,EAAIA,EAAEI,GACZi5D,EAAM1lD,EAAIA,EAAEvT,GACZi5D,EAAM3zD,EAAIA,EAAEtF,GACZi5D,EAAM9W,QAAUA,EAAQniD,GACjBi5D,EAAQ,IAMnB,OAFApkD,EAAIkyG,MAAQI,EAELtyG,EAnBM,CAoBZ,GAEH,SAASwyG,GAAUC,GACjB,OAAO,SAASC,GACd,IAIIzoH,EAAGgJ,EAJHvH,EAAIgnH,EAAOvmH,OACXpB,EAAI,IAAImC,MAAMxB,GACdgT,EAAI,IAAIxR,MAAMxB,GACd+E,EAAI,IAAIvD,MAAMxB,GAElB,IAAKzB,EAAI,EAAGA,EAAIyB,IAAKzB,EACnBgJ,EAAQs/G,GAASG,EAAOzoH,IACxBc,EAAEd,GAAKgJ,EAAMlI,GAAK,EAClB2T,EAAEzU,GAAKgJ,EAAMyL,GAAK,EAClBjO,EAAExG,GAAKgJ,EAAMxC,GAAK,EAMpB,OAJA1F,EAAI0nH,EAAO1nH,GACX2T,EAAI+zG,EAAO/zG,GACXjO,EAAIgiH,EAAOhiH,GACXwC,EAAMq6C,QAAU,EACT,SAASniD,GAId,OAHA8H,EAAMlI,EAAIA,EAAEI,GACZ8H,EAAMyL,EAAIA,EAAEvT,GACZ8H,EAAMxC,EAAIA,EAAEtF,GACL8H,EAAQ,KAKCu/G,IH7CP,SAAS3lH,GACtB,IAAInB,EAAImB,EAAOV,OAAS,EACxB,OAAO,SAAShB,GACd,IAAIlB,EAAIkB,GAAK,EAAKA,EAAI,EAAKA,GAAK,GAAKA,EAAI,EAAGO,EAAI,GAAKwD,KAAKqS,MAAMpW,EAAIO,GAChE47D,EAAKz6D,EAAO5C,GACZs9D,EAAK16D,EAAO5C,EAAI,GAChB0nH,EAAK1nH,EAAI,EAAI4C,EAAO5C,EAAI,GAAK,EAAIq9D,EAAKC,EACtCqqD,EAAK3nH,EAAIyB,EAAI,EAAImB,EAAO5C,EAAI,GAAK,EAAIs9D,EAAKD,EAC9C,OAAOoqD,IAAOvmH,EAAIlB,EAAIyB,GAAKA,EAAGimH,EAAIrqD,EAAIC,EAAIqqD,OGsClBY,ICpDb,SAAS3lH,GACtB,IAAInB,EAAImB,EAAOV,OACf,OAAO,SAAShB,GACd,IAAIlB,EAAIiF,KAAKqS,QAAQpW,GAAK,GAAK,IAAMA,EAAIA,GAAKO,GAC1CimH,EAAK9kH,GAAQ5C,EAAIyB,EAAI,GAAKA,GAC1B47D,EAAKz6D,EAAO5C,EAAIyB,GAChB67D,EAAK16D,GAAQ5C,EAAI,GAAKyB,GACtBkmH,EAAK/kH,GAAQ5C,EAAI,GAAKyB,GAC1B,OAAOgmH,IAAOvmH,EAAIlB,EAAIyB,GAAKA,EAAGimH,EAAIrqD,EAAIC,EAAIqqD,OD2CvC,IErDQ,YAAStjH,EAAGmC,GACpBA,IAAGA,EAAI,IACZ,IAEIxG,EAFAyB,EAAI4C,EAAIY,KAAKE,IAAIqB,EAAEtE,OAAQmC,EAAEnC,QAAU,EACvC7B,EAAImG,EAAEoF,QAEV,OAAO,SAAS1K,GACd,IAAKlB,EAAI,EAAGA,EAAIyB,IAAKzB,EAAGK,EAAEL,GAAKqE,EAAErE,IAAM,EAAIkB,GAAKsF,EAAExG,GAAKkB,EACvD,OAAOb,IAIJ,SAASqoH,GAAc7mG,GAC5B,OAAO8mG,YAAYC,OAAO/mG,MAAQA,aAAagnG,UCL1C,SAASC,GAAazkH,EAAGmC,GAC9B,IAIIxG,EAJA+oH,EAAKviH,EAAIA,EAAEtE,OAAS,EACpB8mH,EAAK3kH,EAAIY,KAAKE,IAAI4jH,EAAI1kH,EAAEnC,QAAU,EAClC2f,EAAI,IAAI5e,MAAM+lH,GACd3oH,EAAI,IAAI4C,MAAM8lH,GAGlB,IAAK/oH,EAAI,EAAGA,EAAIgpH,IAAMhpH,EAAG6hB,EAAE7hB,GAAKiB,GAAMoD,EAAErE,GAAIwG,EAAExG,IAC9C,KAAOA,EAAI+oH,IAAM/oH,EAAGK,EAAEL,GAAKwG,EAAExG,GAE7B,OAAO,SAASkB,GACd,IAAKlB,EAAI,EAAGA,EAAIgpH,IAAMhpH,EAAGK,EAAEL,GAAK6hB,EAAE7hB,GAAGkB,GACrC,OAAOb,GCnBI,gBAASgE,EAAGmC,GACzB,IAAIlG,EAAI,IAAIuQ,KACZ,OAAOxM,GAAKA,EAAGmC,GAAKA,EAAG,SAAStF,GAC9B,OAAOZ,EAAE2oH,QAAQ5kH,GAAK,EAAInD,GAAKsF,EAAItF,GAAIZ,ICH5B,YAAS+D,EAAGmC,GACzB,OAAOnC,GAAKA,EAAGmC,GAAKA,EAAG,SAAStF,GAC9B,OAAOmD,GAAK,EAAInD,GAAKsF,EAAItF,I,uOCAd,gBAASmD,EAAGmC,GACzB,IAEIjD,EAFAvD,EAAI,GACJK,EAAI,GAMR,IAAKkD,KAHK,OAANc,GAA2B,WAAb,GAAOA,KAAgBA,EAAI,IACnC,OAANmC,GAA2B,WAAb,GAAOA,KAAgBA,EAAI,IAEnCA,EACJjD,KAAKc,EACPrE,EAAEuD,GAAKtC,GAAMoD,EAAEd,GAAIiD,EAAEjD,IAErBlD,EAAEkD,GAAKiD,EAAEjD,GAIb,OAAO,SAASrC,GACd,IAAKqC,KAAKvD,EAAGK,EAAEkD,GAAKvD,EAAEuD,GAAGrC,GACzB,OAAOb,IClBP6oH,GAAM,8CACNC,GAAM,IAAIlsF,OAAOisF,GAAIt7F,OAAQ,KAclB,gBAASvpB,EAAGmC,GACzB,IACI4iH,EACAC,EACAC,EAHAC,EAAKL,GAAIM,UAAYL,GAAIK,UAAY,EAIrCxpH,GAAK,EACL+B,EAAI,GACJ6xB,EAAI,GAMR,IAHAvvB,GAAQ,GAAImC,GAAQ,IAGZ4iH,EAAKF,GAAI9vG,KAAK/U,MACdglH,EAAKF,GAAI/vG,KAAK5S,MACf8iH,EAAKD,EAAG5mH,OAAS8mH,IACpBD,EAAK9iH,EAAEoF,MAAM29G,EAAID,GACbvnH,EAAE/B,GAAI+B,EAAE/B,IAAMspH,EACbvnH,IAAI/B,GAAKspH,IAEXF,EAAKA,EAAG,OAASC,EAAKA,EAAG,IACxBtnH,EAAE/B,GAAI+B,EAAE/B,IAAMqpH,EACbtnH,IAAI/B,GAAKqpH,GAEdtnH,IAAI/B,GAAK,KACT4zB,EAAElxB,KAAK,CAAC1C,EAAGA,EAAG6hB,EAAG4nG,GAAOL,EAAIC,MAE9BE,EAAKJ,GAAIK,UAYX,OARID,EAAK/iH,EAAEtE,SACTonH,EAAK9iH,EAAEoF,MAAM29G,GACTxnH,EAAE/B,GAAI+B,EAAE/B,IAAMspH,EACbvnH,IAAI/B,GAAKspH,GAKTvnH,EAAEG,OAAS,EAAK0xB,EAAE,GA7C3B,SAAaptB,GACX,OAAO,SAAStF,GACd,OAAOsF,EAAEtF,GAAK,IA4CVwoH,CAAI91F,EAAE,GAAG/R,GApDjB,SAAcrb,GACZ,OAAO,WACL,OAAOA,GAmDH2pG,CAAK3pG,IACJA,EAAIotB,EAAE1xB,OAAQ,SAAShB,GACtB,IAAK,IAAWT,EAAPT,EAAI,EAAMA,EAAIwG,IAAKxG,EAAG+B,GAAGtB,EAAImzB,EAAE5zB,IAAIA,GAAKS,EAAEohB,EAAE3gB,GACrD,OAAOa,EAAEkQ,KAAK,O,uOCnDT,gBAAS5N,EAAGmC,GACzB,IAAkBnG,EAAda,EAAI,GAAOsF,GACf,OAAY,MAALA,GAAmB,YAANtF,EAAkBknH,GAAS5hH,IAClC,WAANtF,EAAiBuoH,GACZ,WAANvoH,GAAmBb,EAAI2I,GAAMxC,KAAOA,EAAInG,EAAG0V,IAAO08F,GAClDjsG,aAAawC,GAAQ+M,GACrBvP,aAAaqK,KAAO84G,GACpBjB,GAAcliH,GAAKojH,GACnB3mH,MAAMC,QAAQsD,GAAKsiH,GACE,mBAAdtiH,EAAE8mF,SAAgD,mBAAf9mF,EAAE3D,UAA2B0C,MAAMiB,GAAK9E,GAClF+nH,IAAQplH,EAAGmC,ICpBZ,SAASwhH,GAAO9mH,GACrB,OAAQA,ECDH,SAAS2oH,GAAO3oH,GACrB,OAAOA,EAAIA,EAGN,SAAS4oH,GAAQ5oH,GACtB,OAAOA,GAAK,EAAIA,GAGX,SAAS6oH,GAAU7oH,GACxB,QAASA,GAAK,IAAM,EAAIA,EAAIA,IAAMA,GAAK,EAAIA,GAAK,GAAK,ECThD,SAAS8oH,GAAQ9oH,GACtB,OAAOA,EAAIA,EAAIA,EAGV,SAAS+oH,GAAS/oH,GACvB,QAASA,EAAIA,EAAIA,EAAI,EAGhB,SAASgpH,GAAWhpH,GACzB,QAASA,GAAK,IAAM,EAAIA,EAAIA,EAAIA,GAAKA,GAAK,GAAKA,EAAIA,EAAI,GAAK,ECT9D,IAEWipH,GAAU,SAASC,EAAOziH,GAGnC,SAASwiH,EAAOjpH,GACd,OAAO+D,KAAKkS,IAAIjW,EAAGyG,GAKrB,OARAA,GAAKA,EAMLwiH,EAAOE,SAAWD,EAEXD,EATY,CAFN,GAcJG,GAAW,SAASF,EAAOziH,GAGpC,SAAS2iH,EAAQppH,GACf,OAAO,EAAI+D,KAAKkS,IAAI,EAAIjW,EAAGyG,GAK7B,OARAA,GAAKA,EAML2iH,EAAQD,SAAWD,EAEZE,EATa,CAdP,GA0BJC,GAAa,SAASH,EAAOziH,GAGtC,SAAS4iH,EAAUrpH,GACjB,QAASA,GAAK,IAAM,EAAI+D,KAAKkS,IAAIjW,EAAGyG,GAAK,EAAI1C,KAAKkS,IAAI,EAAIjW,EAAGyG,IAAM,EAKrE,OARAA,GAAKA,EAML4iH,EAAUF,SAAWD,EAEdG,EATe,CA1BT,GCAXtS,GAAKhzG,KAAK6F,GACV0/G,GAASvS,GAAK,EAEX,SAASwS,GAAMvpH,GACpB,OAAe,IAANA,EAAW,EAAI,EAAI+D,KAAKwS,IAAIvW,EAAIspH,IAGpC,SAASE,GAAOxpH,GACrB,OAAO+D,KAAKyS,IAAIxW,EAAIspH,IAGf,SAASG,GAASzpH,GACvB,OAAQ,EAAI+D,KAAKwS,IAAIwgG,GAAK/2G,IAAM,ECX3B,SAAS0pH,GAAK/oG,GACnB,OAA+C,oBAAvC5c,KAAKkS,IAAI,GAAI,GAAK0K,GAAK,aCA1B,SAASgpG,GAAM3pH,GACpB,OAAO0pH,GAAK,GAAK1pH,GAGZ,SAAS4pH,GAAO5pH,GACrB,OAAO,EAAI0pH,GAAK1pH,GAGX,SAAS6pH,GAAS7pH,GACvB,QAASA,GAAK,IAAM,EAAI0pH,GAAK,EAAI1pH,GAAK,EAAI0pH,GAAK1pH,EAAI,IAAM,ECXpD,SAAS8pH,GAAS9pH,GACvB,OAAO,EAAI+D,KAAKuS,KAAK,EAAItW,EAAIA,GAGxB,SAAS+pH,GAAU/pH,GACxB,OAAO+D,KAAKuS,KAAK,KAAMtW,EAAIA,GAGtB,SAASgqH,GAAYhqH,GAC1B,QAASA,GAAK,IAAM,EAAI,EAAI+D,KAAKuS,KAAK,EAAItW,EAAIA,GAAK+D,KAAKuS,KAAK,GAAKtW,GAAK,GAAKA,GAAK,GAAK,ECTxF,IASIuqF,GAAK,OAEF,SAAS0/B,GAASjqH,GACvB,OAAO,EAAIkqH,GAAU,EAAIlqH,GAGpB,SAASkqH,GAAUlqH,GACxB,OAAQA,GAAKA,GAhBN,EAAI,GAgBYuqF,GAAKvqF,EAAIA,EAAIA,EAd7B,EAAI,GAckCuqF,IAAMvqF,GAf5C,EAAI,IAemDA,EAbvD,EAAI,EAa4DA,EAXhE,GAAK,GAWoEuqF,IAAMvqF,GAZ/E,EAAI,IAYsFA,EAV1F,GAAK,GAU8FuqF,IAAMvqF,GATzG,GAAK,IAS+GA,EARpH,GAAK,GAWP,SAASmqH,GAAYnqH,GAC1B,QAASA,GAAK,IAAM,EAAI,EAAIkqH,GAAU,EAAIlqH,GAAKkqH,GAAUlqH,EAAI,GAAK,GAAK,ECpBzE,IAEWoqH,GAAU,SAASlB,EAAOroH,GAGnC,SAASupH,EAAOpqH,GACd,OAAQA,GAAKA,GAAKA,GAAKa,GAAKb,EAAI,GAAKA,GAKvC,OARAa,GAAKA,EAMLupH,EAAOC,UAAYnB,EAEZkB,EATY,CAFL,SAcLE,GAAW,SAASpB,EAAOroH,GAGpC,SAASypH,EAAQtqH,GACf,QAASA,EAAIA,IAAMA,EAAI,GAAKa,EAAIb,GAAK,EAKvC,OARAa,GAAKA,EAMLypH,EAAQD,UAAYnB,EAEboB,EATa,CAdN,SA0BLC,GAAa,SAASrB,EAAOroH,GAGtC,SAAS0pH,EAAUvqH,GACjB,QAASA,GAAK,GAAK,EAAIA,EAAIA,IAAMa,EAAI,GAAKb,EAAIa,IAAMb,GAAK,GAAKA,IAAMa,EAAI,GAAKb,EAAIa,GAAK,GAAK,EAK7F,OARAA,GAAKA,EAML0pH,EAAUF,UAAYnB,EAEfqB,EATe,CA1BR,SCEZC,GAAM,EAAIzmH,KAAK6F,GAIR6gH,GAAa,SAASvB,EAAO/lH,EAAGvC,GACzC,IAAIC,EAAIkD,KAAKixG,KAAK,GAAK7xG,EAAIY,KAAKC,IAAI,EAAGb,MAAQvC,GAAK4pH,IAEpD,SAASC,EAAUzqH,GACjB,OAAOmD,EAAIumH,OAAS1pH,GAAM+D,KAAKyS,KAAK3V,EAAIb,GAAKY,GAM/C,OAHA6pH,EAAUC,UAAY,SAASvnH,GAAK,OAAO+lH,EAAO/lH,EAAGvC,EAAI4pH,KACzDC,EAAUE,OAAS,SAAS/pH,GAAK,OAAOsoH,EAAO/lH,EAAGvC,IAE3C6pH,EAVe,CAHR,EACH,IAeFG,GAAc,SAAS1B,EAAO/lH,EAAGvC,GAC1C,IAAIC,EAAIkD,KAAKixG,KAAK,GAAK7xG,EAAIY,KAAKC,IAAI,EAAGb,MAAQvC,GAAK4pH,IAEpD,SAASI,EAAW5qH,GAClB,OAAO,EAAImD,EAAIumH,GAAK1pH,GAAKA,GAAK+D,KAAKyS,KAAKxW,EAAIa,GAAKD,GAMnD,OAHAgqH,EAAWF,UAAY,SAASvnH,GAAK,OAAO+lH,EAAO/lH,EAAGvC,EAAI4pH,KAC1DI,EAAWD,OAAS,SAAS/pH,GAAK,OAAOsoH,EAAO/lH,EAAGvC,IAE5CgqH,EAVgB,CAhBT,EACH,IA4BFC,GAAgB,SAAS3B,EAAO/lH,EAAGvC,GAC5C,IAAIC,EAAIkD,KAAKixG,KAAK,GAAK7xG,EAAIY,KAAKC,IAAI,EAAGb,MAAQvC,GAAK4pH,IAEpD,SAASK,EAAa7qH,GACpB,QAASA,EAAQ,EAAJA,EAAQ,GAAK,EACpBmD,EAAIumH,IAAM1pH,GAAK+D,KAAKyS,KAAK3V,EAAIb,GAAKY,GAClC,EAAIuC,EAAIumH,GAAK1pH,GAAK+D,KAAKyS,KAAK3V,EAAIb,GAAKY,IAAM,EAMnD,OAHAiqH,EAAaH,UAAY,SAASvnH,GAAK,OAAO+lH,EAAO/lH,EAAGvC,EAAI4pH,KAC5DK,EAAaF,OAAS,SAAS/pH,GAAK,OAAOsoH,EAAO/lH,EAAGvC,IAE9CiqH,EAZkB,CA7BX,EACH,ICIPC,GAAwB,GCRvB,ICSDC,GAAkB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GA8EjD,SAAStiF,GAAOH,EAAiB+1E,EAAsB2M,GAC7C,IAKJ75F,EALI,EAAqBktF,EAAS,UAEtC,GAAI2M,EAAUzM,EAFeF,EAAS,OAEHA,EAAUwC,QAC3C,OAAO,EAGT,IFhFwBh/G,EEgFlB8iD,EAAW05D,EAAU15D,SACrBC,EAASy5D,EAAUz5D,OACnBqmE,EFhFCH,IAFiBjpH,EEkFC+iD,GFhFFx6C,gBAAkB8gH,EAAOrpH,GEoFhD,GADAmpH,EAAUA,EAAUzM,EAAYF,EAAUC,MACtCD,EAAUgC,OAGZlvF,EAAQ85F,EADR95F,EAAS65F,EAAUrmE,EAAYA,OAE1B,CAEL,MADAxzB,EAAQ65F,EAAUrmE,GACN,GAUV,OALI05D,EAAU35D,QACZpc,EAAMuB,KAAKw0E,EAAU35D,QAAQ,IAE7Bpc,EAAMuB,KAAKw0E,EAAUN,UAEhB,EARP5sF,EAAQ85F,EAAO95F,GAWnB,GAAIktF,EAAU35D,QAAS,CACrB,IAAMhiD,EAAQ27G,EAAU35D,QAAQvzB,GAChCmX,EAAMuB,KAAKnnC,QAvGf,SAAiB4lC,EAAiB+1E,EAAsBltF,GACtD,IAAMg6F,EAAS,GACP,EAAuB9M,EAAS,UAArBN,EAAYM,EAAS,QACxC,IAAI/1E,EAAM9I,UAAV,CAGA,IAAI4rF,EDtB0B9kH,ElBCRnD,EAAGmC,EmBsBzB,IAAK,IAAMjD,KAAK07G,EACd,IAAKlvG,kBAAQmvG,EAAU37G,GAAI07G,EAAQ17G,IACjC,GAAU,SAANA,EAAc,CAChB,IAAI+6G,EAASW,EAAQ17G,GACjB86G,EAAWa,EAAU37G,GACrB+6G,EAAOp8G,OAASm8G,EAASn8G,QAC3Bo8G,EAASiO,EAAyBtN,EAAQ17G,IAC1C86G,EAAWkO,EAAyBrN,EAAU37G,IAC9C86G,EAAWkO,EAAwBlO,EAAUC,GAC7CD,EAAWkO,EAAoBlO,EAAUC,GACzCiB,EAAUL,UAAU1uG,KAAO6tG,EAC3BkB,EAAUN,QAAQzuG,KAAO8tG,GACfiB,EAAUoC,gBACpBrD,EAASiO,EAAyBtN,EAAQ17G,IAC1C86G,EAAWkO,EAAyBrN,EAAU37G,IAC9C86G,EAAWkO,EAAoBlO,EAAUC,GACzCiB,EAAUL,UAAU1uG,KAAO6tG,EAC3BkB,EAAUN,QAAQzuG,KAAO8tG,EACzBiB,EAAUoC,eAAgB,GAE5B0K,EAAO9oH,GAAK,GACZ,IAAK,IAAIvD,EAAI,EAAGA,EAAIs+G,EAAOp8G,OAAQlC,IAAK,CAItC,IAHA,IAAMwsH,EAAclO,EAAOt+G,GACrBysH,EAAgBpO,EAASr+G,GACzB0sH,EAAa,GACVnlH,EAAI,EAAGA,EAAIilH,EAAYtqH,OAAQqF,IAClCuC,mBAAS0iH,EAAYjlH,KAAOklH,GAAiB3iH,mBAAS2iH,EAAcllH,KACtE+kH,EAASK,GAAYF,EAAcllH,GAAIilH,EAAYjlH,IACnDmlH,EAAWhqH,KAAK4pH,EAAOj6F,KAEvBq6F,EAAWhqH,KAAK8pH,EAAYjlH,IAGhC8kH,EAAO9oH,GAAGb,KAAKgqH,SAEZ,GAAU,WAANnpH,EAAgB,CAKzB,IACMm9G,GnB/DUr8G,EmB8DkB66G,EAAU37G,IAAM0oH,InB7DhDvD,GADiBliH,EmB8DgDy4G,EAAQ17G,IAAM0oH,InB7D5DrC,GAAcd,IAAczkH,EAAGmC,ImB8DrB6rB,GAC/Bg6F,EAAO9oH,GAAKm9G,MDnEiB,CAAC,OAAQ,SAAU,YAAa,eAAehwG,SCoEvDnN,KDlEGiE,ECkEmBy3G,EAAQ17G,GDlEnB,uBAAuB25B,KAAK11B,ICmE5D6kH,EAAO9oH,GAAK07G,EAAQ17G,GACVG,qBAAWu7G,EAAQ17G,MAE7B+oH,EAASK,GAAYzN,EAAU37G,GAAI07G,EAAQ17G,IAC3C8oH,EAAO9oH,GAAK+oH,EAAOj6F,IAIzBmX,EAAMuB,KAAKshF,IA8CTO,CAAQpjF,EAAO+1E,EAAWltF,GAE5B,OAAO,EAGT,IA6Hew6F,GA7Hf,WA0BE,WAAY7mF,GAhBZ,eAAwB,GAKxB,aAAkB,EAKlB,WAAuB,KAOrB,KAAKA,OAASA,EAgGlB,OA1FE6mF,iCAAA,IAEMrjF,EACA81E,EACAC,EAJN,OAKE,KAAK5nE,MAAQm1E,IAAc,SAACZ,GAE1B,GADA/8F,EAAKqS,QAAU0qF,EACX/8F,EAAK49F,UAAU7qH,OAAS,EAAG,CAC7B,IAAK,IAAIlC,EAAImvB,EAAK49F,UAAU7qH,OAAS,EAAGlC,GAAK,EAAGA,IAE9C,IADAwpC,EAAQra,EAAK49F,UAAU/sH,IACb0gC,UAERvR,EAAK69F,eAAehtH,OAFtB,CAKA,IAAKwpC,EAAMyjF,kBAET,IAAK,IAAI1lH,GADT+3G,EAAa91E,EAAM3oC,IAAI,eACCqB,OAAS,EAAGqF,GAAK,EAAGA,IAC1Cg4G,EAAYD,EAAW/3G,GACVoiC,GAAOH,EAAO+1E,EAAW2M,KAEpC5M,EAAW15G,OAAO2B,EAAG,IACR,EACTg4G,EAAUx5D,UACZw5D,EAAUx5D,YAKQ,IAAtBu5D,EAAWp9G,QACbitB,EAAK69F,eAAehtH,GAGPmvB,EAAK6W,OAAOnlC,IAAI,aAG/BsuB,EAAK6W,OAAOoD,YASpByjF,iCAAYrjF,GACV,KAAKujF,UAAUrqH,KAAK8mC,IAMtBqjF,oCAAepqH,GACb,KAAKsqH,UAAUnnH,OAAOnD,EAAO,IAM/BoqH,mCACE,QAAS,KAAKE,UAAU7qH,QAM1B2qH,4BACM,KAAKl1E,OACP,KAAKA,MAAMmiB,QAQf+yD,uCAAkBhL,QAAA,QAAAA,MAChB,KAAKkL,UAAU18G,SAAQ,SAAC68G,GACtBA,EAASn8E,YAAY8wE,MAEvB,KAAKkL,UAAY,GACjB,KAAK/mF,OAAOoD,QAMdyjF,+BACE,OAAO,KAAKrrF,SAEhB,EA3HA,GCrHM2rF,GAAS,CACb,YACA,UACA,WACA,WACA,YACA,YACA,aACA,aACA,aACA,YACA,WACA,YACA,WACA,YACA,OACA,cACA,cAcF,SAASC,GAAgBv/F,EAAQ9qB,EAAMk/G,GACrCA,EAAS1hH,KAAOwC,EAChBk/G,EAASp0F,OAASA,EAClBo0F,EAASp/E,cAAgBhV,EACzBo0F,EAASU,eAAiB90F,EAC1BA,EAAO7R,KAAKjZ,EAAMk/G,GAIpB,SAASoL,GAAYzjF,EAAW7mC,EAAMk/G,GACpC,GAAIA,EAASn/E,QAAS,CACpB,IAAIo/E,OAAa,EACboL,GAAc,EASlB,GARa,eAATvqH,GACFm/G,EAAgBD,EAASG,UACzBkL,GAAc,GACI,eAATvqH,IACTuqH,GAAc,EACdpL,EAAgBD,EAASI,SAGvBz4E,EAAU9sB,YAAcwwG,EAC1B,OAGF,GAAIpL,GAAiBxlG,EAASktB,EAAWs4E,GAGvC,YADAD,EAASn/E,SAAU,GAIrBm/E,EAAS1hH,KAAOwC,EAChBk/G,EAASp/E,cAAgB+G,EACzBq4E,EAASU,eAAiB/4E,EAC1BA,EAAU5tB,KAAKjZ,EAAMk/G,IAIzB,IAiXesL,GAjXf,WAYE,WAAYvwG,GAAZ,WARQ,mBAAwB,KACxB,eAAoB,EAEpB,kBAAuB,KACvB,oBAAyB,KACzB,oBAAiB,KAsDzB,oBAAiB,SAACgxF,GAChB,IAAMjrG,EAAOirG,EAAGjrG,KAChBosB,EAAKq+F,cAAczqH,EAAMirG,IAkE3B,qBAAkB,SAACA,GAGjB,GAFe7+E,EAAK6W,OACFnlC,IAAI,QACXmtG,EAAGngF,SAERsB,EAAKk5E,UAAYl5E,EAAKggB,cAAc,CACtC,IAAMs+E,EAAYt+F,EAAKu+F,cAAc1f,GAEjC7+E,EAAKk5E,UACPl5E,EAAKw+F,WAAW,OAAQ3f,EAAIyf,EAAWt+F,EAAKy+F,iBAYpD,wBAAqB,SAAC5f,GAGpB,GAFe7+E,EAAK6W,OACFnlC,IAAI,QACXmtG,EAAGngF,QAERsB,EAAKk5E,SAAU,CACjB,IAAMolB,EAAYt+F,EAAKu+F,cAAc1f,GACjC7+E,EAAKy+F,eAEPz+F,EAAKw+F,WAAW,OAAQ3f,EAAIyf,EAAW,MAEzCt+F,EAAKw+F,WAAW,UAAW3f,EAAIyf,EAAWt+F,EAAKy+F,eAC/Cz+F,EAAK0+F,WAAW1+F,EAAKy+F,cAAeH,EAAWzf,KAvJnD,KAAKhoE,OAAShpB,EAAIgpB,OAkWtB,OA/VEunF,4BACE,KAAKO,eAIPP,mCAAA,WACQQ,EAAK,KAAK/nF,OAAOnlC,IAAI,MAC3BsC,eAAKgqH,IAAQ,SAAC9+D,GACZ0/D,EAAGv6B,iBAAiBnlC,EAAWl/B,EAAK6+F,mBAGlCn8G,WAGFA,SAAS2hF,iBAAiB,YAAa,KAAKy6B,iBAE5Cp8G,SAAS2hF,iBAAiB,UAAW,KAAK06B,sBAK9CX,oCAAA,WACQQ,EAAK,KAAK/nF,OAAOnlC,IAAI,MAC3BsC,eAAKgqH,IAAQ,SAAC9+D,GACZ0/D,EAAGn2B,oBAAoBvpC,EAAWl/B,EAAK6+F,mBAErCn8G,WACFA,SAAS+lF,oBAAoB,YAAa,KAAKq2B,iBAC/Cp8G,SAAS+lF,oBAAoB,UAAW,KAAKs2B,sBAIjDX,kCAAaxqH,EAAM8rB,EAAO4B,EAAO5C,EAAQu0F,EAAWC,GAClD,IAAMJ,EAAW,IAAI1D,EAAWx7G,EAAM8rB,GAUtC,OATAozF,EAASG,UAAYA,EACrBH,EAASI,QAAUA,EACnBJ,EAASpgG,EAAI4O,EAAM5O,EACnBogG,EAASztG,EAAIic,EAAMjc,EACnBytG,EAASt/E,QAAUlS,EAAMkS,QACzBs/E,EAASr/E,QAAUnS,EAAMmS,QAEzBq/E,EAASE,gBAAgBz/G,KAAKmrB,GAEvBo0F,GAUTsL,+BAAU98F,EAAOu9E,GACf,OAAO,KAAKhoE,OAAOqF,SAAS5a,EAAM5O,EAAG4O,EAAMjc,EAAGw5F,IAGhDuf,mCAAcvf,GACZ,IAAMhoE,EAAS,KAAKA,OACdmoF,EAAcnoF,EAAOooF,iBAAiBpgB,GACtCv9E,EAAQuV,EAAOqoF,gBAAgBrgB,GACrC,MAAO,CACLnsF,EAAG4O,EAAM5O,EACTrN,EAAGic,EAAMjc,EACTmuB,QAASwrF,EAAYtsG,EACrB+gB,QAASurF,EAAY35G,IAKzB+4G,mCAAcxqH,EAAMirG,GAClB,IAAMyf,EAAY,KAAKC,cAAc1f,GAE/BxkE,EAAQ,KAAK8kF,UAAUb,EAAWzf,GAClCplG,EAAS,KAAK,MAAM7F,GACtBwrH,GAAc,EAClB,GAAI3lH,EACFA,EAAOzI,KAAK,KAAMstH,EAAWjkF,EAAOwkE,OAC/B,CACL,IAAMwgB,EAAW,KAAKr/E,aAET,eAATpsC,GAAkC,cAATA,GAAiC,cAATA,GACnD,KAAK4qH,WAAW5qH,EAAMirG,EAAIyf,EAAW,KAAM,KAAMjkF,GAC7CA,GACF,KAAKmkF,WAAW5qH,EAAMirG,EAAIyf,EAAWjkF,EAAO,KAAMA,GAEvC,eAATzmC,GAAyB,KAAK6qH,eAEhC,KAAKD,WAAW,YAAa3f,EAAIyf,EAAW,OAE5B,eAAT1qH,GAAkC,cAATA,GAAiC,aAATA,GAC1DwrH,GAAc,EACVC,GACF,KAAKb,WAAW5qH,EAAMirG,EAAIyf,EAAWe,EAAUA,EAAU,MAE3D,KAAKb,WAAW5qH,EAAMirG,EAAIyf,EAAW,KAAMe,EAAU,MACxC,eAATzrH,GAAyB,KAAK6qH,eAChC,KAAKD,WAAW,YAAa3f,EAAIyf,EAAW,OAG9C,KAAKE,WAAW5qH,EAAMirG,EAAIyf,EAAWjkF,EAAO,KAAM,MAOtD,GAJK+kF,IACH,KAAKp/E,aAAe3F,GAGlBA,IAAUA,EAAM3oC,IAAI,aAAc,CACpC,IAAMmlC,EAAS,KAAKA,OACTA,EAAOnlC,IAAI,MACnBgd,MAAM4wG,OAASjlF,EAAMuB,KAAK,WAAa/E,EAAOnlC,IAAI,YA4CzD0sH,kCAAaE,EAAWjkF,EAAO3a,GAlPX,IAoPdA,EAAM4oE,SACR,KAAKi3B,eAAiBllF,EACtB,KAAKmlF,eAAiBlB,EACtB,KAAKmB,mBAAqB//F,EAAM8hE,WAElC,KAAKg9B,WAAW,YAAa9+F,EAAO4+F,EAAWjkF,EAAO,KAAM,OAK9D+jF,0CAAqB1+F,EAAO4+F,EAAWrL,EAAWC,GAChD,IAAM0L,EAAK,KAAK/nF,OAAOnlC,IAAI,MACvBuhH,IAAcC,IACZD,IACF,KAAKuL,WAAW,WAAY9+F,EAAO4+F,EAAWrL,EAAWA,EAAWC,GACpE,KAAKsL,WAAW,aAAc9+F,EAAO4+F,EAAWrL,EAAWA,EAAWC,GAEjEA,IAAWA,EAAQxhH,IAAI,eAC1BktH,EAAGlwG,MAAM4wG,OAAS,KAAKzoF,OAAOnlC,IAAI,YAGlCwhH,IACF,KAAKsL,WAAW,YAAa9+F,EAAO4+F,EAAWpL,EAASD,EAAWC,GACnE,KAAKsL,WAAW,aAAc9+F,EAAO4+F,EAAWpL,EAASD,EAAWC,MAK1EkL,yCAAoB1+F,EAAO4+F,EAAWrL,EAAWC,EAASwM,GACpDxM,GACEA,IAAYD,IACVA,GACF,KAAKuL,WAAW,YAAa9+F,EAAO4+F,EAAWrL,EAAWA,EAAWC,GAEvE,KAAKsL,WAAW,YAAa9+F,EAAO4+F,EAAWpL,EAASD,EAAWC,IAEhEwM,GACH,KAAKlB,WAAW,WAAY9+F,EAAO4+F,EAAWpL,IAEvCD,GAGT,KAAKuL,WAAW,YAAa9+F,EAAO4+F,EAAWrL,EAAWA,EAAWC,GAGnEwM,GACF,KAAKlB,WAAW,WAAY9+F,EAAO4+F,EAAWpL,IAKlDkL,gCAAWK,EAAeH,EAAW5+F,GAC/B++F,IACFA,EAAc1mH,IAAI,WAAW,GAC7B,KAAK0mH,cAAgB,MAEvB,KAAKvlB,UAAW,EAEhB,IAAM7+D,EAAQ,KAAK8kF,UAAUb,EAAW5+F,GAEpC2a,IAAUokF,GACZ,KAAKkB,qBAAqBjgG,EAAO4+F,EAAWG,EAAepkF,GAE7D,KAAK2F,aAAe3F,GAGtB+jF,gCAAWE,EAAWjkF,EAAO3a,GAG3B,GAzTkB,IAyTdA,EAAM4oE,OAA0B,CAClC,IAAMm2B,EAAgB,KAAKA,cACvB,KAAKvlB,UAEHulB,GACF,KAAKD,WAAW,OAAQ9+F,EAAO4+F,EAAWjkF,GAE5C,KAAKmkF,WAAW,UAAW9+F,EAAO4+F,EAAWG,GAC7C,KAAKC,WAAWD,EAAeH,EAAW5+F,KAE1C,KAAK8+F,WAAW,UAAW9+F,EAAO4+F,EAAWjkF,GACzCA,IAAU,KAAKklF,gBACjB,KAAKf,WAAW,QAAS9+F,EAAO4+F,EAAWjkF,GAE7C,KAAKklF,eAAiB,KACtB,KAAKC,eAAiB,QAM5BpB,iCAAYE,EAAWjkF,EAAO3a,GAC5BA,EAAMojE,iBACN,IAAMu8B,EAAW,KAAKr/E,aACtB,KAAK4/E,oBAAoBlgG,EAAO4+F,EAAWe,EAAUhlF,GAAO,IAI9D+jF,kCAAaE,EAAWjkF,EAAO3a,GAC7B,IAAMmX,EAAS,KAAKA,OACdwoF,EAAW,KAAKr/E,aAClBy+E,EAAgB,KAAKA,cAEzB,GAAI,KAAKvlB,SAEHulB,GAEF,KAAKmB,oBAAoBlgG,EAAO4+F,EAAWe,EAAUhlF,GAAO,GAI9D,KAAKmkF,WAAW,OAAQ9+F,EAAO4+F,EAAWG,OACrC,CACL,IAAMe,EAAiB,KAAKA,eAC5B,GAAIA,EAAgB,CAElB,IAAMD,EAAiB,KAAKA,eAEtBM,EADMngG,EAAM8hE,UACO,KAAKi+B,mBACxB59F,EAAK29F,EAAehsF,QAAU8qF,EAAU9qF,QACxC1R,EAAK09F,EAAe/rF,QAAU6qF,EAAU7qF,QAE1CosF,EAAa,KADJh+F,EAAKA,EAAKC,EAAKA,EA7Wf,GA+WPy9F,GAAkBA,EAAe7tH,IAAI,eAEvC+sH,EAAgB,KAAKc,gBACPxnH,IAAI,WAAW,GAC7B,KAAK0mH,cAAgBA,EACrB,KAAKvlB,UAAW,EAChB,KAAKslB,WAAW,YAAa9+F,EAAO4+F,EAAWG,GAE/C,KAAKc,eAAiB,KACtB,KAAKC,eAAiB,OACZD,GAAkB1oF,EAAOnlC,IAAI,cAEvC,KAAKwnG,UAAW,EAChB,KAAKslB,WAAW,YAAa9+F,EAAO4+F,EAAW,MAE/C,KAAKiB,eAAiB,KACtB,KAAKC,eAAiB,OAEtB,KAAKG,qBAAqBjgG,EAAO4+F,EAAWe,EAAUhlF,GACtD,KAAKmkF,WAAW,YAAa9+F,EAAO4+F,EAAWjkF,KAGjD,KAAKslF,qBAAqBjgG,EAAO4+F,EAAWe,EAAUhlF,GACtD,KAAKmkF,WAAW,YAAa9+F,EAAO4+F,EAAWjkF,SAIjD,KAAKslF,qBAAqBjgG,EAAO4+F,EAAWe,EAAUhlF,GAEtD,KAAKmkF,WAAW,YAAa9+F,EAAO4+F,EAAWjkF,KAMrD+jF,gCAAWxqH,EAAM8rB,EAAO4+F,EAAWjkF,EAAO44E,EAAYC,GACpD,IAAMJ,EAAW,KAAKgN,aAAalsH,EAAM8rB,EAAO4+F,EAAWjkF,EAAO44E,EAAWC,GAE7E,GAAI74E,EAAO,CACTy4E,EAASz4E,MAAQA,EAEjB4jF,GAAgB5jF,EAAOzmC,EAAMk/G,GAG7B,IAFA,IAAIvkF,EAAS8L,EAAMzsB,YAEZ2gB,GAELA,EAAOwxF,eAAensH,EAAMk/G,GAEvBA,EAASxD,oBACZ4O,GAAY3vF,EAAQ36B,EAAMk/G,GAE5BA,EAASE,gBAAgBz/G,KAAKg7B,GAC9BA,EAASA,EAAO3gB,gBAEb,CAILqwG,GAFe,KAAKpnF,OAEIjjC,EAAMk/G,KAIlCsL,+BAEE,KAAK4B,eAEL,KAAKnpF,OAAS,KACd,KAAKmJ,aAAe,KACpB,KAAKy+E,cAAgB,KACrB,KAAKe,eAAiB,KACtB,KAAKD,eAAiB,KACtB,KAAKE,mBAAqB,MAE9B,EA/WA,GCtEM31G,GAAUT,cACV42G,GAAYn2G,IAA4B,YAAjBA,GAAQ1Y,KAuOtB8uH,GArOf,YACE,WAAYryG,GAAZ,MACEolB,YAAMplB,IAAI,K,OACVmS,EAAKmgG,gBACLngG,EAAKogG,UACLpgG,EAAKysC,aACLzsC,EAAKqgG,e,EA6NT,OAnO8Bx8G,iBAS5Bq8G,qCACE,IAAMryG,EAAMolB,YAAM/T,cAAaluB,KAAA,MAK/B,OAHA6c,EAAG,OAAa,UAEhBA,EAAG,qBAA0B,EACtBA,GAOTqyG,qCACE,IAAIzlF,EAAY,KAAK/oC,IAAI,aACrB6F,mBAASkjC,KACXA,EAAY/3B,SAAS49G,eAAe7lF,GACpC,KAAK1iC,IAAI,YAAa0iC,KAQ1BylF,+BACE,IAAMtB,EAAK,KAAKld,YAChB,KAAK3pG,IAAI,KAAM6mH,GAEG,KAAKltH,IAAI,aACjB6uH,YAAY3B,GAEtB,KAAK4B,WAAW,KAAK9uH,IAAI,SAAU,KAAKA,IAAI,YAa9CwuH,kCACE,IAAMO,EAAkB,IAAIrC,GAAgB,CAC1CvnF,OAAQ,OAEV4pF,EAAgBzpH,OAChB,KAAKe,IAAI,kBAAmB0oH,IAO9BP,oCACE,IAAMhO,EAAW,IAAIwL,GAAS,MAC9B,KAAK3lH,IAAI,WAAYm6G,IASvBgO,gCAAWl9G,EAAeuO,GACxB,IAAMqtG,EAAK,KAAKltH,IAAI,MAChB8b,IACFoxG,EAAGlwG,MAAM1L,MAAQA,EArFL,KAsFZ47G,EAAGlwG,MAAM6C,OAASA,EAtFN,OA2FhB2uG,gCAAWl9G,EAAeuO,GACxB,KAAKivG,WAAWx9G,EAAOuO,GACvB,KAAKxZ,IAAI,QAASiL,GAClB,KAAKjL,IAAI,SAAUwZ,GACnB,KAAK8/F,eAAe,eAOtB6O,mCACE,OAAO,KAAKxuH,IAAI,aAOlBwuH,iCACE,OAAO,KAAKxuH,IAAI,WAOlBwuH,+BAAUZ,GACR,KAAKvnH,IAAI,SAAUunH,GACnB,IAAMV,EAAK,KAAKltH,IAAI,MAChB8b,GAAaoxG,IAEfA,EAAGlwG,MAAM4wG,OAASA,IAKtBY,qCAAgBrhB,GAEd,GAD4B,KAAKntG,IAAI,uBACZ,CAEvB,GAAIuuH,KAAcpsH,gBAAOgrG,EAAW6hB,SAAY7hB,EAAW6hB,SAAY7hB,EAAkB54C,QACvF,MAAO,CACLvzC,EAAImsF,EAAW6hB,OACfr7G,EAAIw5F,EAAW8hB,QAGnB,IAAK9sH,gBAAOgrG,EAAkB54C,SAE5B,MAAO,CACLvzC,EAAImsF,EAAkB54C,QACtB5gD,EAAIw5F,EAAkB34C,SAMtB,MAA6B,KAAK+4D,iBAAiBpgB,GAA9CrrE,EAAO,IAAKC,EAAO,IAC9B,OAAO,KAAKiD,iBAAiBlD,EAASC,IAIxCysF,sCAAiBrhB,GACf,IAAI+hB,EAAiC/hB,EAQrC,OAPKA,EAAkBhZ,UAEnB+6B,EADc,aAAZ/hB,EAAGjrG,KACSirG,EAAkB9Y,eAAe,GAEjC8Y,EAAkBhZ,QAAQ,IAGrC,CACLnzE,EAAGkuG,EAAWptF,QACdnuB,EAAGu7G,EAAWntF,UAKlBysF,sCAAiB1sF,EAAiBC,GAChC,IACM1P,EADK,KAAKryB,IAAI,MACJmvH,wBAChB,MAAO,CACLnuG,EAAG8gB,EAAUzP,EAAK2C,KAClBrhB,EAAGouB,EAAU1P,EAAK0C,MAKtBy5F,sCAAiBxtG,EAAWrN,GAC1B,IACM0e,EADK,KAAKryB,IAAI,MACJmvH,wBAChB,MAAO,CACLnuG,EAAGA,EAAIqR,EAAK2C,KACZrhB,EAAGA,EAAI0e,EAAK0C,MAKhBy5F,8BAMAA,iCACE,IAAMtB,EAAK,KAAKltH,IAAI,MACpBktH,EAAGxzB,WAAW5vD,YAAYojF,IAO5BsB,mCAC0B,KAAKxuH,IAAI,mBACjBshC,WAGlBktF,gCACE,OAAO,GAGTA,iCACE,OAAO,MAGTA,+BACE,IAAMhO,EAAW,KAAKxgH,IAAI,YACtB,KAAKA,IAAI,eAGb,KAAKitC,QAEDuzE,GAEFA,EAASvnD,OAEX,KAAKm2D,cACL,KAAKC,YACL9tF,YAAMD,QAAOhiC,KAAA,QAEjB,EAnOA,CAA8BkjH,ICWf8M,GArBf,yB,+CAmBA,OAnBqCn9G,iBACnCm9G,+BACE,OAAO,GAGTA,qCACE,OAAO,GAGTA,6BAIE,IAHA,IAAM9hH,EAAQ+zB,YAAM/zB,MAAKlO,KAAA,MAEnB8tB,EAAW,KAAK+lB,cACbh0C,EAAI,EAAGA,EAAIiuB,EAAS/rB,OAAQlC,IAAK,CACxC,IAAMm+B,EAAQlQ,EAASjuB,GACvBqO,EAAM2rC,IAAI7b,EAAM9vB,SAElB,OAAOA,GAEX,EAnBA,CAAqCg1G,ICgKtB+M,GA/Jf,YACE,WAAYpzG,G,OACVolB,YAAMplB,IAAI,KA2Jd,OA7JqChK,iBAMnCo9G,+BAAU9vG,EAAMD,GACd,IAAM6S,EAAO,KAAKsB,UAClB,OAAOtB,EAAKE,MAAQ9S,GAAQ4S,EAAKkB,MAAQ9T,GAAQ4S,EAAKG,MAAQhT,GAAQ6S,EAAKmB,MAAQhU,GAQrF+vG,sCAAiB/P,GACfj+E,YAAM69E,iBAAgB9/G,KAAA,KAACkgH,GACvB,KAAKgQ,kBAGPD,+BACE,IAAIl9F,EAAO,KAAKlW,IAAIkW,KAKpB,OAJKA,IACHA,EAAO,KAAKya,gBACZ,KAAKzmC,IAAI,OAAQgsB,IAEZA,GAGTk9F,qCACE,IAAIE,EAAa,KAAKtzG,IAAIszG,WAK1B,OAJKA,IACHA,EAAa,KAAK1iF,sBAClB,KAAK1mC,IAAI,aAAcopH,IAElBA,GASTF,iCAAYz+F,GACVyQ,YAAMqhF,YAAWtjH,KAAA,KAACwxB,GAElB,KAAKzqB,IAAI,aAAc,OAOzBkpH,2CACE,IAAMl9F,EAAO,KAAKsB,UACZisF,EAAc,KAAK6C,iBACnB,EAA2BpwF,EAAI,KAAzBG,EAAqBH,EAAI,KAAnBkB,EAAelB,EAAI,KAAbmB,EAASnB,EAAI,KACrC,GAAIutF,EAAa,CACf,IAAMj+D,EAAUo8D,EAAa6B,EAAa,CAACvtF,EAAKE,KAAMF,EAAKG,OACrDovB,EAAWm8D,EAAa6B,EAAa,CAACvtF,EAAKkB,KAAMlB,EAAKG,OACtDqvB,EAAak8D,EAAa6B,EAAa,CAACvtF,EAAKE,KAAMF,EAAKmB,OACxDsuB,EAAci8D,EAAa6B,EAAa,CAACvtF,EAAKkB,KAAMlB,EAAKmB,OAC/DjB,EAAOnuB,KAAKE,IAAIq9C,EAAQ,GAAIC,EAAS,GAAIC,EAAW,GAAIC,EAAY,IACpEvuB,EAAOnvB,KAAKC,IAAIs9C,EAAQ,GAAIC,EAAS,GAAIC,EAAW,GAAIC,EAAY,IACpEtvB,EAAOpuB,KAAKE,IAAIq9C,EAAQ,GAAIC,EAAS,GAAIC,EAAW,GAAIC,EAAY,IACpEtuB,EAAOpvB,KAAKC,IAAIs9C,EAAQ,GAAIC,EAAS,GAAIC,EAAW,GAAIC,EAAY,IAEtE,IAAM/+C,EAAQ,KAAKA,MAEnB,GAAIA,EAAMgb,YAAa,CACb,MAAyDhb,EAAK,WAA9D,OAAU,MAAG,EAACoV,EAAEivB,EAAyCrkC,EAAK,cAA9CorD,OAAa,MAAG,EAAC/mB,EAAEkC,EAAsBvmC,EAAK,cAA3BqrD,OAAa,MAAG,EAAC9kB,EACtDomF,EAAan9F,EAAOvU,EAAamwC,EACjCwhE,EAAcp8F,EAAOvV,EAAamwC,EAClCyhE,EAAYp9F,EAAOxU,EAAaowC,EAChCyhE,EAAer8F,EAAOxV,EAAaowC,EACzC77B,EAAOnuB,KAAKE,IAAIiuB,EAAMm9F,GACtBn8F,EAAOnvB,KAAKC,IAAIkvB,EAAMo8F,GACtBn9F,EAAOpuB,KAAKE,IAAIkuB,EAAMo9F,GACtBp8F,EAAOpvB,KAAKC,IAAImvB,EAAMq8F,GAExB,MAAO,CACL7uG,EAAGuR,EACH5e,EAAG6e,EACHD,KAAI,EACJC,KAAI,EACJe,KAAI,EACJC,KAAI,EACJliB,MAAOiiB,EAAOhB,EACd1S,OAAQ2T,EAAOhB,IAQnB+8F,sCACE,KAAKlpH,IAAI,OAAQ,MACjB,KAAKA,IAAI,aAAc,OAIzBkpH,mCACE,OAAO,KAAKvvH,IAAI,gBAUlBuvH,+BAAU9vG,EAAcD,GACtB,OAAO,GAQT+vG,oCACE,OAAO,GAITA,2BAAMvuG,EAAWrN,GACf,IAAMm8G,EAAkB,KAAK9vH,IAAI,mBAC3B+vH,EAAgB,KAAK/vH,IAAI,iBAC3BkyB,EAAM,CAAClR,EAAGrN,EAAG,GAEV,GADPue,EAAM,KAAKixF,iBAAiBjxF,IACJ,GAAX1S,EAAQ0S,EAAG,GAClB89F,EAAS,KAAKC,UAAUxwG,EAAMD,GAEpC,GAAI,KAAK0wG,eACP,OAAOF,EAGT,GAAIA,IAAW,KAAK5M,UAAU3jG,EAAMD,GAAO,CAEzC,GAAI,KAAK2wG,UAAU1wG,EAAMD,GACvB,OAAO,EAGT,GAAIswG,GAAmBA,EAAgB78F,MAAMxT,EAAMD,GACjD,OAAO,EAGT,GAAIuwG,GAAiBA,EAAc98F,MAAMxT,EAAMD,GAC7C,OAAO,EAGX,OAAO,GAEX,EA7JA,CAAqCvT,ICD/BhG,GAAgC,IAAIC,IAOpC,SAAUkqH,GAASluH,EAAc6F,GACrC9B,GAAMI,IAAInE,EAAM6F,GAOZ,SAAUsoH,GAAUnuH,GACxB,OAAO+D,GAAMjG,IAAIkC,GChBL,gBAAWymC,GACvB,IAAM5lC,EAAQ4lC,EAAMuB,OAEpB,MAAO,CACLlpB,EAF8Bje,EAAK,EAGnC4Q,EAH8B5Q,EAAK,EAInCuO,MAJ8BvO,EAAK,MAKnC8c,OAL8B9c,EAAK,SCFzB,YAAW4lC,GACjB,MAAcA,EAAMuB,OAAlBlpB,EAAC,IAAErN,EAAC,IAAE1T,EAAC,IACf,MAAO,CACL+gB,EAAGA,EAAI/gB,EACP0T,EAAGA,EAAI1T,EACPqR,MAAW,EAAJrR,EACP4f,OAAY,EAAJ5f,I,QCNN,SAAU0/F,GAAU1rE,EAAOC,GAC/B,OAAKD,GAAUC,EAGR,CACL3B,KAAMnuB,KAAKE,IAAI2vB,EAAM1B,KAAM2B,EAAM3B,MACjCC,KAAMpuB,KAAKE,IAAI2vB,EAAMzB,KAAM0B,EAAM1B,MACjCe,KAAMnvB,KAAKC,IAAI4vB,EAAMV,KAAMW,EAAMX,MACjCC,KAAMpvB,KAAKC,IAAI4vB,EAAMT,KAAMU,EAAMV,OAN1BS,GAASC,EAWd,SAAUo8F,GAAe3nF,EAAetW,GAC5C,IAAMy9F,EAAkBnnF,EAAM3oC,IAAI,mBAC5B+vH,EAAgBpnF,EAAM3oC,IAAI,iBAWhC,OARI8vH,IAEFz9F,EAAOstE,GAAUttE,EADAy9F,EAAgBx9F,kBAG/By9F,IAEF19F,EAAOstE,GAAUttE,EADF09F,EAAcz9F,kBAGxBD,ECxBK,ICJV7Q,GAAe,KCSb,SAAU+uG,GAAc7/G,EAAcS,EAAkB8P,GAC5D,IAAIuvG,EAAY,EAIhB,OAHI3qH,mBAAS6K,KACX8/G,EAAY9/G,EAAKnJ,MAAM,MAAMlG,QAE3BmvH,EAAY,EAEPr/G,EAAWq/G,EAUhB,SAA0Br/G,EAAkB8P,GAChD,OAAOA,EAAaA,EAAa9P,EAAsB,IAAXA,EAZxBs/G,CAAgBt/G,EAAU8P,IACDuvG,EAAY,GAElDr/G,EAiBH,SAAUu/G,GAAahgH,EAAcC,GACzC,IAAM9C,EDnCF,WACJ,IAAK2T,GAAc,CACjB,IAAM2jB,EAASn0B,SAASC,cAAc,UACtCk0B,EAAO7zB,MAAQ,EACf6zB,EAAOtlB,OAAS,EAChB2B,GAAe2jB,EAAOj0B,WAAW,MAEnC,OAAOsQ,GC4BSD,GACZjQ,EAAQ,EAEZ,GAAInP,gBAAMuO,IAAkB,KAATA,EACjB,OAAOY,EAIT,GAFAzD,EAAQ86C,OACR96C,EAAQ8C,KAAOA,EACX9K,mBAAS6K,IAASA,EAAKb,SAAS,MAAO,CACzC,IAAM8gH,EAAUjgH,EAAKnJ,MAAM,MAC3BjF,eAAKquH,GAAS,SAACC,GACb,IAAMC,EAAehjH,EAAQwD,YAAYu/G,GAASt/G,MAC9CA,EAAQu/G,IACVv/G,EAAQu/G,WAIZv/G,EAAQzD,EAAQwD,YAAYX,GAAMY,MAGpC,OADAzD,EAAQijH,UACDx/G,EAGH,SAAUy/G,GAAahuH,GACnB,MAA6DA,EAAK,SAAxD6N,EAAmD7N,EAAK,WAA5C8N,EAAuC9N,EAAK,WAC1E,MAAO,CAD8DA,EAAK,UAALA,EAAK,YAC1C8N,EAAeM,EAAQ,KAAMP,GAAYQ,KAAK,KAAK60B,OC1DvE,I,SCwFd,SAAS+qF,GAA6Bx3E,EAASl8B,GACrC,MAAsCk8B,EAAO,SAAnC8lB,EAA4B9lB,EAAO,aAArBuiB,EAAcviB,EAAO,UAC/Cy3E,EAAgB7sH,KAAKkS,IAAIgpD,EAAa,GAAKzuB,EAAS,GAAI,GAAKzsC,KAAKkS,IAAIgpD,EAAa,GAAKzuB,EAAS,GAAI,GACrGqgF,EAAiB9sH,KAAKkS,IAAIgpD,EAAa,GAAKvD,EAAU,GAAI,GAAK33D,KAAKkS,IAAIgpD,EAAa,GAAKvD,EAAU,GAAI,GACxGo1D,EAAa/sH,KAAKkS,IAAIu6B,EAAS,GAAKkrB,EAAU,GAAI,GAAK33D,KAAKkS,IAAIu6B,EAAS,GAAKkrB,EAAU,GAAI,GAE5Fq1D,EAAehtH,KAAK+5D,MACvB8yD,EAAgBC,EAAiBC,IAAe,EAAI/sH,KAAKuS,KAAKs6G,GAAiB7sH,KAAKuS,KAAKu6G,KAI5F,IAAKE,GAA2C,IAA3BhtH,KAAKyS,IAAIu6G,IAAuB7nH,wBAAc6nH,EAAc,GAC/E,MAAO,CACLC,OAAQ,EACRC,OAAQ,GAGZ,IAAIC,EAASntH,KAAKqF,IAAIrF,KAAKsS,MAAMqlD,EAAU,GAAKuD,EAAa,GAAIvD,EAAU,GAAKuD,EAAa,KACzFkyD,EAASptH,KAAKqF,IAAIrF,KAAKsS,MAAMqlD,EAAU,GAAKuD,EAAa,GAAIvD,EAAU,GAAKuD,EAAa,KAc7F,OAZAiyD,EAASA,EAASntH,KAAK6F,GAAK,EAAI7F,KAAK6F,GAAKsnH,EAASA,EACnDC,EAASA,EAASptH,KAAK6F,GAAK,EAAI7F,KAAK6F,GAAKunH,EAASA,EAGrC,CAEZH,OACEjtH,KAAKwS,IAAIw6G,EAAe,EAAIG,IAAYj0G,EAAY,GAAM,EAAIlZ,KAAKyS,IAAIu6G,EAAe,KAAO9zG,EAAY,GAAK,EAEhHg0G,OACEltH,KAAKwS,IAAI46G,EAASJ,EAAe,IAAO9zG,EAAY,GAAM,EAAIlZ,KAAKyS,IAAIu6G,EAAe,KAAO9zG,EAAY,GAAK,GChHpH8yG,GAAS,OAAQzgG,IACjBygG,GAAS,QAASzgG,IAClBygG,GAAS,SAAUpgG,IACnBogG,GAAS,SAAUpgG,IACnBogG,GAAS,YLTK,SAAWznF,GAKvB,IAJA,IACQ,EADMA,EAAMuB,OACI,OAClBtW,EAAO,GACPC,EAAO,GACJ10B,EAAI,EAAGA,EAAI0wB,EAAOxuB,OAAQlC,IAAK,CACtC,IAAMywB,EAAQC,EAAO1wB,GACrBy0B,EAAK/xB,KAAK+tB,EAAM,IAChBiE,EAAKhyB,KAAK+tB,EAAM,IAEZ,MAA0B6hG,KAAKC,eAAe99F,EAAMC,GAAlD7S,EAAC,IAAErN,EAAC,IACR0e,EAAO,CACTE,KAAMvR,EACNwR,KAAM7e,EACN4f,KAAMvS,EAJW,QAKjBwS,KAAM7f,EALmB,UAQ3B,MAAO,CACLqN,GAFFqR,EAAOi+F,GAAe3nF,EAAOtW,IAEnBE,KACR5e,EAAG0e,EAAKG,KACRlhB,MAAO+gB,EAAKkB,KAAOlB,EAAKE,KACxB1S,OAAQwS,EAAKmB,KAAOnB,EAAKG,SKZ7B49F,GAAS,WCXK,SAAWznF,GAKvB,IAJA,IACQ,EADMA,EAAMuB,OACI,OAClBtW,EAAO,GACPC,EAAO,GACJ10B,EAAI,EAAGA,EAAI0wB,EAAOxuB,OAAQlC,IAAK,CACtC,IAAMywB,EAAQC,EAAO1wB,GACrBy0B,EAAK/xB,KAAK+tB,EAAM,IAChBiE,EAAKhyB,KAAK+tB,EAAM,IAElB,OAAO6hG,KAAKC,eAAe99F,EAAMC,MDEnCu8F,GAAS,QFZK,SAAWznF,GACvB,IAAM5lC,EAAQ4lC,EAAMuB,OACZ,EAAqCnnC,EAAK,EAAvC4Q,EAAkC5Q,EAAK,EAApC2N,EAA+B3N,EAAK,KAA9BoO,EAAyBpO,EAAK,SAApBke,EAAele,EAAK,WAC9C4N,EAAO5N,EAAM4N,KACZA,IAEHA,EAAOogH,GAAahuH,IAEtB,IACIsvB,EADE/gB,EAAQo/G,GAAahgH,EAAMC,GAEjC,GAAKW,EAQE,CACG,MAA4BvO,EAAK,UAAtBoa,EAAiBpa,EAAK,aACnC8c,EAAS0wG,GAAc7/G,EAAMS,EAAU8P,GAEvC2O,EAAQ,CACZ5O,EAAC,EACDrN,EAAGA,EAAIkM,GAEL3C,IACgB,QAAdA,GAAqC,UAAdA,EACzB0S,EAAM5O,GAAK1P,EACY,WAAd4L,IACT0S,EAAM5O,GAAK1P,EAAQ,IAGnB6L,IACmB,QAAjBA,EACFyS,EAAMjc,GAAKkM,EACe,WAAjB1C,IACTyS,EAAMjc,GAAKkM,EAAS,IAIxBwS,EAAO,CACLrR,EAAG4O,EAAM5O,EACTrN,EAAGic,EAAMjc,EACTrC,MAAOA,EACPuO,OAAQA,QAjCVwS,EAAO,CACLrR,EAAC,EACDrN,EAAC,EACDrC,MAAO,EACPuO,OAAQ,GAgCZ,OAAOwS,KEnCT+9F,GAAS,QD8GK,SAAWznF,GACvB,IAAM5lC,EAAQ4lC,EAAMuB,OACZ,EAAiBnnC,EAAK,KACxBua,EADmBva,EAAK,OACHA,EAAMua,UAAY,EAEvC,EA7HR,SAAoB+7B,EAAU/7B,GAI5B,IAHA,IAAIsW,EAAO,GACPC,EAAO,GACL89F,EAAoB,GACjBxyH,EAAI,EAAGA,EAAIk6C,EAASh4C,OAAQlC,IAAK,CACxC,IACQ,GADFq6C,EAAUH,EAASl6C,IACyB,aAA5B+9D,EAAqB1jB,EAAO,OAApB3I,EAAa2I,EAAO,SAC9C2/D,OAAG,EACP,OAAQ3/D,EAAQkmB,SACd,IAAK,IACHy5C,EAAMyY,KAASzY,IAAItoE,EAAS,GAAIA,EAAS,GAAIqsB,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,IACrF,MACF,IAAK,IACHi8C,EAAM0Y,KAAU1Y,IAAItoE,EAAS,GAAIA,EAAS,GAAIqsB,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,IAC5G,MACF,IAAK,IACH,IAAM2C,EAAYrmB,EAAQqmB,UAC1Bs5C,EAAM2Y,KAAe3Y,IACnBt5C,EAAU5vC,GACV4vC,EAAU3vC,GACV2vC,EAAUjvC,GACVivC,EAAUhvC,GACVgvC,EAAUrB,UACVqB,EAAUV,WACVU,EAAUT,UAEZ,MACF,QACExrC,EAAK/xB,KAAKy9D,EAAa,IACvBzrC,EAAKhyB,KAAKy9D,EAAa,IAGvB65C,IACF3/D,EAAQ2/D,IAAMA,EACdvlF,EAAK/xB,KAAKs3G,EAAIn4F,EAAGm4F,EAAIn4F,EAAIm4F,EAAI7nG,OAC7BuiB,EAAKhyB,KAAKs3G,EAAIxlG,EAAGwlG,EAAIxlG,EAAIwlG,EAAIt5F,SAE3BvC,IAAkC,MAApBk8B,EAAQkmB,SAAuC,MAApBlmB,EAAQkmB,UAAoBlmB,EAAQ3I,UAAY2I,EAAQuiB,WACnG41D,EAAkB9vH,KAAK23C,GAM3B5lB,EAAOA,EAAKnyB,QAAO,SAAC0E,GAAS,OAACkD,OAAO3E,MAAMyB,IAASA,IAAS0D,KAAY1D,KAAU0D,OACnFgqB,EAAOA,EAAKpyB,QAAO,SAAC0E,GAAS,OAACkD,OAAO3E,MAAMyB,IAASA,IAAS0D,KAAY1D,KAAU0D,OACnF,IAAI0oB,EAAOjuB,cAAIsvB,GACXpB,EAAOluB,cAAIuvB,GACXN,EAAOlvB,cAAIuvB,GACXJ,EAAOnvB,cAAIwvB,GACf,GAAiC,IAA7B89F,EAAkBtwH,OACpB,MAAO,CACL2f,EAAGuR,EACH5e,EAAG6e,EACHlhB,MAAOiiB,EAAOhB,EACd1S,OAAQ2T,EAAOhB,GAGnB,IAASrzB,EAAI,EAAGA,EAAIwyH,EAAkBtwH,OAAQlC,IAAK,CACjD,IAAMq6C,GACE,GADFA,EAAUm4E,EAAkBxyH,IACF,cAEf,KAAOozB,EAEtBA,GADQy+F,GAA6Bx3E,EAASl8B,GAC1B+zG,OACX/xD,EAAa,KAAO/rC,IAE7BA,GADQy9F,GAA6Bx3E,EAASl8B,GAC1B+zG,QAElB/xD,EAAa,KAAO9sC,EAEtBA,GADQw+F,GAA6Bx3E,EAASl8B,GAC1Bg0G,OACXhyD,EAAa,KAAO9rC,IAE7BA,GADQw9F,GAA6Bx3E,EAASl8B,GAC1Bg0G,QAGxB,MAAO,CACLtwG,EAAGuR,EACH5e,EAAG6e,EACHlhB,MAAOiiB,EAAOhB,EACd1S,OAAQ2T,EAAOhB,GA4Ceu/F,CADfppF,EAAM3oC,IAAI,aAAegyH,aAAcriH,GACH2N,GAA7C0D,EAAC,IAAErN,EAAC,IACR0e,EAAO,CACTE,KAAMvR,EACNwR,KAAM7e,EACN4f,KAAMvS,EAJW,QAKjBwS,KAAM7f,EALmB,UAQ3B,MAAO,CACLqN,GAFFqR,EAAOi+F,GAAe3nF,EAAOtW,IAEnBE,KACR5e,EAAG0e,EAAKG,KACRlhB,MAAO+gB,EAAKkB,KAAOlB,EAAKE,KACxB1S,OAAQwS,EAAKmB,KAAOnB,EAAKG,SC9H7B49F,GAAS,QEdK,SAAWznF,GACvB,IAAM5lC,EAAQ4lC,EAAMuB,OACZ,EAAmBnnC,EAAK,GAApB2xB,EAAe3xB,EAAK,GAAhB4xB,EAAW5xB,EAAK,GAAZ6xB,EAAO7xB,EAAK,GAK5BsvB,EAAO,CACTE,KALWnuB,KAAKE,IAAImwB,EAAIE,GAMxBpB,KALWnvB,KAAKC,IAAIowB,EAAIE,GAMxBnC,KALWpuB,KAAKE,IAAIowB,EAAIE,GAMxBpB,KALWpvB,KAAKC,IAAIqwB,EAAIE,IAQ1B,MAAO,CACL5T,GAFFqR,EAAOi+F,GAAe3nF,EAAOtW,IAEnBE,KACR5e,EAAG0e,EAAKG,KACRlhB,MAAO+gB,EAAKkB,KAAOlB,EAAKE,KACxB1S,OAAQwS,EAAKmB,KAAOnB,EAAKG,SFH7B49F,GAAS,WGhBK,SAAWznF,GACvB,IAAM5lC,EAAQ4lC,EAAMuB,OACZ,EAAiBnnC,EAAK,EAAnB4Q,EAAc5Q,EAAK,EAAhB6tB,EAAW7tB,EAAK,GAAZ8tB,EAAO9tB,EAAK,GAC9B,MAAO,CACLie,EAAGA,EAAI4P,EACPjd,EAAGA,EAAIkd,EACPvf,MAAY,EAALsf,EACP/Q,OAAa,EAALgR,O,oPCRZ,SAASohG,EAAOtqH,GACd,OAAOvD,KAAKE,IAAIkC,MAAM,KAAMmB,GAG9B,SAASuqH,EAAOvqH,GACd,OAAOvD,KAAKC,IAAImC,MAAM,KAAMmB,GAWxB,SAAUmkB,EAAS2I,EAAYC,EAAYC,EAAYC,GAC3D,IAAMzE,EAAKsE,EAAKE,EACVvE,EAAKsE,EAAKE,EAChB,OAAOxwB,KAAKuS,KAAKwZ,EAAKA,EAAKC,EAAKA,GAG5B,SAAU7mB,EAAcizD,EAAYC,GACxC,OAAOr4D,KAAKqF,IAAI+yD,EAAKC,GAAM,KAGvB,SAAUi1D,EAAe99F,EAAgBC,GAC7C,IAAMtB,EAAO0/F,EAAOr+F,GACdpB,EAAOy/F,EAAOp+F,GAGpB,MAAO,CACL7S,EAAGuR,EACH5e,EAAG6e,EACHlhB,MALW4gH,EAAOt+F,GAKJrB,EACd1S,OALWqyG,EAAOr+F,GAKHrB,GAIb,SAAU2/F,EAAa19F,EAAYC,EAAYC,EAAYC,GAC/D,MAAO,CACLrC,KAAM0/F,EAAO,CAACx9F,EAAIE,IAClBpB,KAAM2+F,EAAO,CAACz9F,EAAIE,IAClBnC,KAAMy/F,EAAO,CAACv9F,EAAIE,IAClBpB,KAAM0+F,EAAO,CAACx9F,EAAIE,KAIhB,SAAUw9F,EAAM5hG,GACpB,OAAQA,EAAkB,EAAVpsB,KAAK6F,KAAqB,EAAV7F,KAAK6F,I,4OC/CxB,GASbkvG,IAAA,SAAI1kF,EAAYC,EAAYC,EAAYC,GACtC,OAAO88F,EAAe,CAACj9F,EAAIE,GAAK,CAACD,EAAIE,KAUvCvzB,OAAA,SAAOozB,EAAYC,EAAYC,EAAYC,GACzC,OAAO9I,EAAS2I,EAAIC,EAAIC,EAAIC,IAW9By9F,QAAA,SAAQ59F,EAAYC,EAAYC,EAAYC,EAAYv0B,GACtD,MAAO,CACL2gB,GAAI,EAAI3gB,GAAKo0B,EAAKp0B,EAAIs0B,EACtBhhB,GAAI,EAAItT,GAAKq0B,EAAKr0B,EAAIu0B,IAa1B09F,cAAA,SAAc79F,EAAYC,EAAYC,EAAYC,EAAY5T,EAAWrN,GAGvE,IAAM8mC,GAAS9lB,EAAKF,IAAOzT,EAAIyT,IAAOG,EAAKF,IAAO/gB,EAAI+gB,GACtD,OAAI+lB,EAAQ,EACH3uB,EAAS2I,EAAIC,EAAI1T,EAAGrN,GAGzB8mC,GADkB9lB,EAAKF,IAAOE,EAAKF,IAAOG,EAAKF,IAAOE,EAAKF,GAEtD5I,EAAS6I,EAAIC,EAAI5T,EAAGrN,GAEtB,KAAK4+G,YAAY99F,EAAIC,EAAIC,EAAIC,EAAI5T,EAAGrN,IAY7C4+G,YAAA,SAAY99F,EAAYC,EAAYC,EAAYC,EAAY5T,EAAWrN,GACrE,IAAMlU,EAAI,CAACk1B,EAAKF,EAAIG,EAAKF,GAEzB,GAAI0nC,cAAiB38D,EAAG,CAAC,EAAG,IAC1B,OAAO2E,KAAKuS,MAAMqK,EAAIyT,IAAOzT,EAAIyT,IAAO9gB,EAAI+gB,IAAO/gB,EAAI+gB,IAEzD,IAAMle,EAAI,EAAE/W,EAAE,GAAIA,EAAE,IACpB28D,YAAe5lD,EAAGA,GAClB,IAAMhT,EAAI,CAACwd,EAAIyT,EAAI9gB,EAAI+gB,GACvB,OAAOtwB,KAAKqF,IAAI2yD,MAAS54D,EAAGgT,KAU9Bg8G,aAAA,SAAa/9F,EAAYC,EAAYC,EAAYC,GAC/C,OAAOxwB,KAAKsS,MAAMke,EAAKF,EAAIC,EAAKF,KCnF9B,SAAUqd,EACdle,EACAC,EACA7S,EACArN,EACA8+G,EACApxH,GAEA,IAAIhB,EACAZ,EAAIoK,IACFg9G,EAAiB,CAAC7lG,EAAGrN,GAEvB++G,EAAS,GACTrxH,GAAUA,EAAS,MACrBqxH,EAASrxH,EAAS,IAMpB,IAJA,IAAMsxH,EAAe,EAAID,EAErB3iC,EAAW4iC,EAAe,GAErBxzH,EAAI,EAAGA,GAAKuzH,EAAQvzH,IAAK,CAChC,IAAMixF,EAAKjxF,EAAIwzH,EACTn2D,EAAiB,CAACi2D,EAAUjsH,MAAM,KAAMotB,EAAK7vB,OAAO,CAACqsF,KAAOqiC,EAAUjsH,MAAM,KAAMqtB,EAAK9vB,OAAO,CAACqsF,OAE/F9zB,EAAKxwC,EAAS+6F,EAAG,GAAIA,EAAG,GAAIrqD,EAAG,GAAIA,EAAG,KACnC/8D,IACPY,EAAI+vF,EACJ3wF,EAAI68D,GAIR,GAAU,IAANj8D,EACF,MAAO,CACL2gB,EAAG4S,EAAK,GACRjgB,EAAGkgB,EAAK,IAGZ,GAAU,IAANxzB,EAAS,CACX,IAAMqY,EAAQkb,EAAKvyB,OACnB,MAAO,CACL2f,EAAG4S,EAAKlb,EAAQ,GAChB/E,EAAGkgB,EAAKnb,EAAQ,IAGpBjZ,EAAIoK,IAEJ,IAAS1K,EAAI,EAAGA,EAAI,MACd4wF,EAxDQ,MAuDU5wF,IAAK,CAK3B,IAAM+E,EAAO7D,EAAI0vF,EACX18E,EAAOhT,EAAI0vF,EAIXzzB,GAFAE,EAAK,CAACi2D,EAAUjsH,MAAM,KAAMotB,EAAK7vB,OAAO,CAACG,KAASuuH,EAAUjsH,MAAM,KAAMqtB,EAAK9vB,OAAO,CAACG,MAEhF4nB,EAAS+6F,EAAG,GAAIA,EAAG,GAAIrqD,EAAG,GAAIA,EAAG,KAC5C,GAAIt4D,GAAQ,GAAKo4D,EAAK78D,EACpBY,EAAI6D,EACJzE,EAAI68D,MACC,CACL,IAAMG,EAAK,CAACg2D,EAAUjsH,MAAM,KAAMotB,EAAK7vB,OAAO,CAACsP,KAASo/G,EAAUjsH,MAAM,KAAMqtB,EAAK9vB,OAAO,CAACsP,MACrFu/G,EAAK9mG,EAAS+6F,EAAG,GAAIA,EAAG,GAAIpqD,EAAG,GAAIA,EAAG,IACxCppD,GAAQ,GAAKu/G,EAAKnzH,GACpBY,EAAIgT,EACJ5T,EAAImzH,GAEJ7iC,GAAY,IAKlB,MAAO,CACL/uE,EAAGyxG,EAAUjsH,MAAM,KAAMotB,EAAK7vB,OAAO,CAAC1D,KACtCsT,EAAG8+G,EAAUjsH,MAAM,KAAMqtB,EAAK9vB,OAAO,CAAC1D,MChF1C,SAASwyH,EAAY5jG,EAAYC,EAAYC,EAAY9uB,GACvD,IAAMyyH,EAAO,EAAIzyH,EACjB,OAAOyyH,EAAOA,EAAO7jG,EAAK,EAAI5uB,EAAIyyH,EAAO5jG,EAAK7uB,EAAIA,EAAI8uB,EAIxD,SAAS4jG,EAAQ9jG,EAAYC,EAAYC,GACvC,IAAM3rB,EAAIyrB,EAAKE,EAAK,EAAID,EACxB,GAAI3lB,EAAc/F,EAAG,GACnB,MAAO,CAAC,IAEV,IAAMK,GAAOorB,EAAKC,GAAM1rB,EACxB,OAAIK,GAAO,GAAKA,GAAO,EACd,CAACA,GAEH,GAGT,SAASmvH,EAAa/jG,EAAYC,EAAYC,EAAY9uB,GACxD,OAAO,GAAK,EAAIA,IAAM6uB,EAAKD,GAAM,EAAI5uB,GAAK8uB,EAAKD,GAIjD,SAAS+jG,EAAgBx+F,EAAYC,EAAYC,EAAYC,EAAYmjF,EAAYC,EAAY33G,GAE/F,IAAMgwF,EAAKwiC,EAAYp+F,EAAIE,EAAIojF,EAAI13G,GAC7BwuF,EAAKgkC,EAAYn+F,EAAIE,EAAIojF,EAAI33G,GAG7B46B,EAAgB1G,EAAK89F,QAAQ59F,EAAIC,EAAIC,EAAIC,EAAIv0B,GAE7C+6B,EAAgB7G,EAAK89F,QAAQ19F,EAAIC,EAAImjF,EAAIC,EAAI33G,GACnD,MAAO,CACL,CAACo0B,EAAIC,EAAIuG,EAAcja,EAAGia,EAActnB,EAAG08E,EAAIxB,GAC/C,CAACwB,EAAIxB,EAAIzzD,EAAcpa,EAAGoa,EAAcznB,EAAGokG,EAAIC,IAyBpC,OACbmB,IAAA,SAAI1kF,EAAYC,EAAYC,EAAYC,EAAYmjF,EAAYC,GAC9D,IAAMkb,EAAWH,EAAQt+F,EAAIE,EAAIojF,GAAI,GAC/Bob,EAAWJ,EAAQr+F,EAAIE,EAAIojF,GAAI,GAE/BpkF,EAAO,CAACa,EAAIsjF,GACZlkF,EAAO,CAACa,EAAIsjF,GAOlB,YANiBhtG,IAAbkoH,GACFt/F,EAAK/xB,KAAKgxH,EAAYp+F,EAAIE,EAAIojF,EAAImb,SAEnBloH,IAAbmoH,GACFt/F,EAAKhyB,KAAKgxH,EAAYn+F,EAAIE,EAAIojF,EAAImb,IAE7BzB,EAAe99F,EAAMC,IAE9BxyB,OAAA,SAAOozB,EAAYC,EAAYC,EAAYC,EAAYmjF,EAAYC,GACjE,OApCJ,SAASob,EACP3+F,EACAC,EACAC,EACAC,EACAmjF,EACAC,EACAqb,GAEA,GAAuB,IAAnBA,EACF,OAAQvnG,EAAS2I,EAAIC,EAAIC,EAAIC,GAAM9I,EAAS6I,EAAIC,EAAImjF,EAAIC,GAAMlsF,EAAS2I,EAAIC,EAAIqjF,EAAIC,IAAO,EAE5F,IAAMsb,EAAaL,EAAgBx+F,EAAIC,EAAIC,EAAIC,EAAImjF,EAAIC,EAAI,IACrDhjF,EAAOs+F,EAAW,GAClBp+F,EAAQo+F,EAAW,GAGzB,OAFAt+F,EAAKnzB,KAAKwxH,EAAiB,GAC3Bn+F,EAAMrzB,KAAKwxH,EAAiB,GACrBD,EAAgB5sH,MAAM,KAAMwuB,GAAQo+F,EAAgB5sH,MAAM,KAAM0uB,GAmB9Dk+F,CAAgB3+F,EAAIC,EAAIC,EAAIC,EAAImjF,EAAIC,EAAI,IAEjDlmE,aAAA,SAAard,EAAYC,EAAYC,EAAYC,EAAYmjF,EAAYC,EAAY3/D,EAAYC,GAC/F,OAAOxG,EAAa,CAACrd,EAAIE,EAAIojF,GAAK,CAACrjF,EAAIE,EAAIojF,GAAK3/D,EAAIC,EAAIu6E,IAE1DP,cAAA,SAAc79F,EAAYC,EAAYC,EAAYC,EAAYmjF,EAAYC,EAAY3/D,EAAYC,GAChG,IAAM1oB,EAAQ,KAAKkiB,aAAard,EAAIC,EAAIC,EAAIC,EAAImjF,EAAIC,EAAI3/D,EAAIC,GAC5D,OAAOxsB,EAAS8D,EAAM5O,EAAG4O,EAAMjc,EAAG0kC,EAAIC,IAExCi7E,gBAAiBV,EACjBR,QAAA,SAAQ59F,EAAYC,EAAYC,EAAYC,EAAYmjF,EAAYC,EAAY33G,GAC9E,MAAO,CACL2gB,EAAG6xG,EAAYp+F,EAAIE,EAAIojF,EAAI13G,GAC3BsT,EAAGk/G,EAAYn+F,EAAIE,EAAIojF,EAAI33G,KAG/BkuG,OAAA,SAAO95E,EAAYC,EAAYC,EAAYC,EAAYmjF,EAAYC,EAAY33G,GAC7E,OAAO4yH,EAAgBx+F,EAAIC,EAAIC,EAAIC,EAAImjF,EAAIC,EAAI33G,IAEjDmyH,aAAA,SAAa/9F,EAAYC,EAAYC,EAAYC,EAAYmjF,EAAYC,EAAY33G,GACnF,IAAM8vB,EAAK6iG,EAAav+F,EAAIE,EAAIojF,EAAI13G,GAC9B+vB,EAAK4iG,EAAat+F,EAAIE,EAAIojF,EAAI33G,GAEpC,OAAO+xH,EADOhuH,KAAKsS,MAAM0Z,EAAID,MClGjC,SAASqjG,EAAQvkG,EAAYC,EAAYC,EAAYC,EAAY/uB,GAC/D,IAAMyyH,EAAO,EAAIzyH,EACjB,OAAOyyH,EAAOA,EAAOA,EAAO7jG,EAAK,EAAIC,EAAK7uB,EAAIyyH,EAAOA,EAAO,EAAI3jG,EAAK9uB,EAAIA,EAAIyyH,EAAO1jG,EAAK/uB,EAAIA,EAAIA,EAGnG,SAAS2yH,EAAa/jG,EAAYC,EAAYC,EAAYC,EAAY/uB,GACpE,IAAMyyH,EAAO,EAAIzyH,EACjB,OAAO,GAAKyyH,EAAOA,GAAQ5jG,EAAKD,GAAM,EAAI6jG,EAAOzyH,GAAK8uB,EAAKD,GAAM7uB,EAAIA,GAAK+uB,EAAKD,IAGjF,SAAS4jG,EAAQ9jG,EAAYC,EAAYC,EAAYC,GACnD,IAIIwpF,EACAC,EACA4a,EANEjwH,GAAK,EAAIyrB,EAAK,EAAIC,EAAK,EAAIC,EAAK,EAAIC,EACpCzpB,EAAI,EAAIspB,EAAK,GAAKC,EAAK,EAAIC,EAC3B3vB,EAAI,EAAI0vB,EAAK,EAAID,EACjBykG,EAAW,GAKjB,GAAInqH,EAAc/F,EAAG,GACd+F,EAAc5D,EAAG,KACpBizG,GAAMp5G,EAAImG,IACA,GAAKizG,GAAM,GACnB8a,EAAS7xH,KAAK+2G,OAGb,CACL,IAAM+a,EAAOhuH,EAAIA,EAAI,EAAInC,EAAIhE,EACzB+J,EAAcoqH,EAAM,GACtBD,EAAS7xH,MAAM8D,GAAK,EAAInC,IACfmwH,EAAO,IAGhB9a,IAAOlzG,GAFP8tH,EAAWrvH,KAAKuS,KAAKg9G,MAEG,EAAInwH,IAD5Bo1G,IAAOjzG,EAAI8tH,IAAa,EAAIjwH,KAElB,GAAKo1G,GAAM,GACnB8a,EAAS7xH,KAAK+2G,GAEZC,GAAM,GAAKA,GAAM,GACnB6a,EAAS7xH,KAAKg3G,IAIpB,OAAO6a,EAIT,SAASE,EACPn/F,EACAC,EACAC,EACAC,EACAmjF,EACAC,EACAC,EACAC,EACA73G,GAGA,IAAMgwF,EAAKmjC,EAAQ/+F,EAAIE,EAAIojF,EAAIE,EAAI53G,GAC7BwuF,EAAK2kC,EAAQ9+F,EAAIE,EAAIojF,EAAIE,EAAI73G,GAE7Bq1G,EAAKnhF,EAAK89F,QAAQ59F,EAAIC,EAAIC,EAAIC,EAAIv0B,GAClCu1G,EAAKrhF,EAAK89F,QAAQ19F,EAAIC,EAAImjF,EAAIC,EAAI33G,GAClCwzH,EAAKt/F,EAAK89F,QAAQta,EAAIC,EAAIC,EAAIC,EAAI73G,GAClCyzH,EAAMv/F,EAAK89F,QAAQ3c,EAAG10F,EAAG00F,EAAG/hG,EAAGiiG,EAAG50F,EAAG40F,EAAGjiG,EAAGtT,GAC3C0zH,EAAMx/F,EAAK89F,QAAQzc,EAAG50F,EAAG40F,EAAGjiG,EAAGkgH,EAAG7yG,EAAG6yG,EAAGlgH,EAAGtT,GACjD,MAAO,CACL,CAACo0B,EAAIC,EAAIghF,EAAG10F,EAAG00F,EAAG/hG,EAAGmgH,EAAI9yG,EAAG8yG,EAAIngH,EAAG08E,EAAIxB,GACvC,CAACwB,EAAIxB,EAAIklC,EAAI/yG,EAAG+yG,EAAIpgH,EAAGkgH,EAAG7yG,EAAG6yG,EAAGlgH,EAAGskG,EAAIC,IAK3C,SAAS8b,EACPv/F,EACAC,EACAC,EACAC,EACAmjF,EACAC,EACAC,EACAC,EACAmb,GAEA,GAAuB,IAAnBA,EACF,OFCE,SAAqBz/F,EAAgBC,GAGzC,IAFA,IAAIogG,EAAc,EACZv7G,EAAQkb,EAAKvyB,OACVlC,EAAI,EAAGA,EAAIuZ,EAAOvZ,IAAK,CAK9B80H,GAAenoG,EAJL8H,EAAKz0B,GACL00B,EAAK10B,GACDy0B,GAAMz0B,EAAI,GAAKuZ,GACfmb,GAAM10B,EAAI,GAAKuZ,IAG/B,OAAOu7G,EAAc,EEXZC,CAAW,CAACz/F,EAAIE,EAAIojF,EAAIE,GAAK,CAACvjF,EAAIE,EAAIojF,EAAIE,IAEnD,IAAMic,EAASP,EAAYn/F,EAAIC,EAAIC,EAAIC,EAAImjF,EAAIC,EAAIC,EAAIC,EAAI,IACrDljF,EAAOm/F,EAAO,GACdj/F,EAAQi/F,EAAO,GAGrB,OAFAn/F,EAAKnzB,KAAKwxH,EAAiB,GAC3Bn+F,EAAMrzB,KAAKwxH,EAAiB,GACrBW,EAAYxtH,MAAM,KAAMwuB,GAAQg/F,EAAYxtH,MAAM,KAAM0uB,GAGlD,OACb69F,QAAO,EACP5Z,IAAA,SAAI1kF,EAAYC,EAAYC,EAAYC,EAAYmjF,EAAYC,EAAYC,EAAYC,GAKtF,IAJA,IAAMtkF,EAAO,CAACa,EAAIwjF,GACZpkF,EAAO,CAACa,EAAIwjF,GACZgb,EAAWH,EAAQt+F,EAAIE,EAAIojF,EAAIE,GAC/Bkb,EAAWJ,EAAQr+F,EAAIE,EAAIojF,EAAIE,GAC5B/4G,EAAI,EAAGA,EAAI+zH,EAAS7xH,OAAQlC,IACnCy0B,EAAK/xB,KAAK2xH,EAAQ/+F,EAAIE,EAAIojF,EAAIE,EAAIib,EAAS/zH,KAE7C,IAASA,EAAI,EAAGA,EAAIg0H,EAAS9xH,OAAQlC,IACnC00B,EAAKhyB,KAAK2xH,EAAQ9+F,EAAIE,EAAIojF,EAAIE,EAAIib,EAASh0H,KAE7C,OAAOuyH,EAAe99F,EAAMC,IAE9BxyB,OAAA,SAAOozB,EAAYC,EAAYC,EAAYC,EAAYmjF,EAAYC,EAAYC,EAAYC,GAEzF,OAAO8b,EAAYv/F,EAAIC,EAAIC,EAAIC,EAAImjF,EAAIC,EAAIC,EAAIC,EAAI,IAErDpmE,aAAA,SACErd,EACAC,EACAC,EACAC,EACAmjF,EACAC,EACAC,EACAC,EACA7/D,EACAC,EACAj3C,GAEA,OAAOywC,EAAa,CAACrd,EAAIE,EAAIojF,EAAIE,GAAK,CAACvjF,EAAIE,EAAIojF,EAAIE,GAAK7/D,EAAIC,EAAIk7E,EAASnyH,IAE3EixH,cAAA,SACE79F,EACAC,EACAC,EACAC,EACAmjF,EACAC,EACAC,EACAC,EACA7/D,EACAC,EACAj3C,GAEA,IAAMuuB,EAAQ,KAAKkiB,aAAard,EAAIC,EAAIC,EAAIC,EAAImjF,EAAIC,EAAIC,EAAIC,EAAI7/D,EAAIC,EAAIj3C,GACxE,OAAOyqB,EAAS8D,EAAM5O,EAAG4O,EAAMjc,EAAG0kC,EAAIC,IAExCi7E,gBAAiBC,EACjBnB,QAAA,SACE59F,EACAC,EACAC,EACAC,EACAmjF,EACAC,EACAC,EACAC,EACA73G,GAEA,MAAO,CACL2gB,EAAGwyG,EAAQ/+F,EAAIE,EAAIojF,EAAIE,EAAI53G,GAC3BsT,EAAG6/G,EAAQ9+F,EAAIE,EAAIojF,EAAIE,EAAI73G,KAG/BkuG,OAAA,SAAO95E,EAAYC,EAAYC,EAAYC,EAAYmjF,EAAYC,EAAYC,EAAYC,EAAY73G,GACrG,OAAOuzH,EAAYn/F,EAAIC,EAAIC,EAAIC,EAAImjF,EAAIC,EAAIC,EAAIC,EAAI73G,IAErDmyH,aAAA,SACE/9F,EACAC,EACAC,EACAC,EACAmjF,EACAC,EACAC,EACAC,EACA73G,GAEA,IAAM8vB,EAAK6iG,EAAav+F,EAAIE,EAAIojF,EAAIE,EAAI53G,GAClC+vB,EAAK4iG,EAAat+F,EAAIE,EAAIojF,EAAIE,EAAI73G,GACxC,OAAO+xH,EAAMhuH,KAAKsS,MAAM0Z,EAAID,MC7KhC,SAASikG,EAAS53D,EAAYC,GAC5B,IAAM43D,EAAOjwH,KAAKqF,IAAI+yD,GACtB,OAAOC,EAAK,EAAI43D,GAAe,EAARA,EAGV,MAsCb,SAAarzG,EAAWrN,EAAWid,EAAYC,EAAYwnB,EAAYC,GACrE,IAAM90C,EAAIotB,EACJjrB,EAAIkrB,EAEV,GAAU,IAANrtB,GAAiB,IAANmC,EACb,MAAO,CACLqb,EAAC,EACDrN,EAAC,GAeL,IAXA,IAQI2gH,EACAC,EATEC,EAAYn8E,EAAKr3B,EACjByzG,EAAYn8E,EAAK3kC,EACjB+iB,EAAKtyB,KAAKqF,IAAI+qH,GACd79F,EAAKvyB,KAAKqF,IAAIgrH,GACdC,EAAUlxH,EAAIA,EACdmxH,EAAUhvH,EAAIA,EAEhBtF,EAAI+D,KAAK6F,GAAK,EAIT9K,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1Bm1H,EAAW9wH,EAAIY,KAAKwS,IAAIvW,GACxBk0H,EAAW5uH,EAAIvB,KAAKyS,IAAIxW,GAExB,IAAMu0H,GAAOF,EAAUC,GAAWvwH,cAAKwS,IAAIvW,GAAM,GAAKmD,EAChDqxH,GAAOF,EAAUD,GAAWtwH,cAAKyS,IAAIxW,GAAM,GAAKsF,EAChDmvH,EAAMR,EAAWM,EACjBG,EAAMR,EAAWM,EAEjBpe,EAAK//E,EAAKk+F,EACVle,EAAK//E,EAAKk+F,EACV50H,EAAImE,KAAK0uC,MAAMiiF,EAAKD,GACpB/hG,EAAI3uB,KAAK0uC,MAAM4jE,EAAID,GAKzBp2G,GAHgBJ,EAAImE,KAAKixG,MAAMyf,EAAMpe,EAAKqe,EAAMte,IAAOx2G,EAAI8yB,IACjC3uB,KAAKuS,KAAK+9G,EAAUC,EAAUL,EAAWA,EAAWC,EAAWA,GAGzFl0H,EAAI+D,KAAKE,IAAIF,KAAK6F,GAAK,EAAG7F,KAAKC,IAAI,EAAGhE,IAGxC,MAAO,CACL2gB,EAAGA,EAAIozG,EAASE,EAAUE,GAC1B7gH,EAAGA,EAAIygH,EAASG,EAAUE,KCvDhC,SAASO,EAAI/kG,EAAYC,EAAYU,EAAYC,EAAY2tC,EAAmBhuC,GAC9E,OAAOI,EAAKxsB,KAAKwS,IAAI4nD,GAAap6D,KAAKwS,IAAI4Z,GAASK,EAAKzsB,KAAKyS,IAAI2nD,GAAap6D,KAAKyS,IAAI2Z,GAASP,EAInG,SAASglG,EAAIhlG,EAAYC,EAAYU,EAAYC,EAAY2tC,EAAmBhuC,GAC9E,OAAOI,EAAKxsB,KAAKyS,IAAI2nD,GAAap6D,KAAKwS,IAAI4Z,GAASK,EAAKzsB,KAAKwS,IAAI4nD,GAAap6D,KAAKyS,IAAI2Z,GAASN,EAWnG,SAASqL,EAAS3K,EAAYC,EAAYL,GACxC,MAAO,CACLxP,EAAG4P,EAAKxsB,KAAKwS,IAAI4Z,GACjB7c,EAAGkd,EAAKzsB,KAAKyS,IAAI2Z,IAKrB,SAAStP,EAAOF,EAAWrN,EAAW6c,GACpC,IAAM5Z,EAAMxS,KAAKwS,IAAI4Z,GACf3Z,EAAMzS,KAAKyS,IAAI2Z,GACrB,MAAO,CAACxP,EAAIpK,EAAMjD,EAAIkD,EAAKmK,EAAInK,EAAMlD,EAAIiD,GAG5B,OAYbuiG,IAAA,SAAIlpF,EAAYC,EAAYU,EAAYC,EAAY2tC,EAAmBW,EAAoBC,GAKzF,IAJA,IAAM81D,EAtDV,SAAkBtkG,EAAYC,EAAY2tC,GACxC,OAAOp6D,KAAKqsB,MAAOI,EAAKD,EAAMxsB,KAAKmmB,IAAIi0C,IAqDxB00D,CAAStiG,EAAIC,EAAI2tC,GAC1BjsC,EAAO1oB,IACP0pB,GAAQ1pB,IACNy4F,EAAK,CAACnjC,EAAYC,GACfjgE,EAAe,GAAViF,KAAK6F,GAAQ9K,GAAe,EAAViF,KAAK6F,GAAQ9K,GAAKiF,KAAK6F,GAAI,CACzD,IAAMsnH,EAAS2D,EAAO/1H,EAClBggE,EAAaC,EACXD,EAAaoyD,GAAUA,EAASnyD,GAClCkjC,EAAGzgG,KAAK0vH,GAGNnyD,EAAWmyD,GAAUA,EAASpyD,GAChCmjC,EAAGzgG,KAAK0vH,GAKd,IAASpyH,EAAI,EAAGA,EAAImjG,EAAGjhG,OAAQlC,IAAK,CAClC,IAAM6hB,EAAIg0G,EAAI/kG,EAAIC,EAAIU,EAAIC,EAAI2tC,EAAW8jC,EAAGnjG,IACxC6hB,EAAIuR,IACNA,EAAOvR,GAELA,EAAIuS,IACNA,EAAOvS,GAIX,IAAMm0G,EA5EV,SAAkBvkG,EAAYC,EAAY2tC,GACxC,OAAOp6D,KAAKqsB,KAAKI,GAAMD,EAAKxsB,KAAKmmB,IAAIi0C,KA2EtB20D,CAASviG,EAAIC,EAAI2tC,GAC1BhsC,EAAO3oB,IACP2pB,GAAQ3pB,IACN04F,EAAK,CAACpjC,EAAYC,GACxB,IAASjgE,EAAe,GAAViF,KAAK6F,GAAQ9K,GAAe,EAAViF,KAAK6F,GAAQ9K,GAAKiF,KAAK6F,GAAI,CACzD,IAAMunH,EAAS2D,EAAOh2H,EAClBggE,EAAaC,EACXD,EAAaqyD,GAAUA,EAASpyD,GAClCmjC,EAAG1gG,KAAK2vH,GAGNpyD,EAAWoyD,GAAUA,EAASryD,GAChCojC,EAAG1gG,KAAK2vH,GAKd,IAASryH,EAAI,EAAGA,EAAIojG,EAAGlhG,OAAQlC,IAAK,CAClC,IAAMwU,EAAIshH,EAAIhlG,EAAIC,EAAIU,EAAIC,EAAI2tC,EAAW+jC,EAAGpjG,IACxCwU,EAAI6e,IACNA,EAAO7e,GAELA,EAAI6f,IACNA,EAAO7f,GAIX,MAAO,CACLqN,EAAGuR,EACH5e,EAAG6e,EACHlhB,MAAOiiB,EAAOhB,EACd1S,OAAQ2T,EAAOhB,IAcnBnxB,OAAA,SAAO4uB,EAAYC,EAAYU,EAAYC,EAAY2tC,EAAmBW,EAAoBC,KAc9FttB,aAAA,SACE7hB,EACAC,EACAU,EACAC,EACA2tC,EACAW,EACAC,EACA/mB,EACAC,GAGA,IAAM88E,EAAiBl0G,EAAOm3B,EAAKpoB,EAAIqoB,EAAKpoB,GAAKsuC,GAC1C,EAAU42D,EAAc,GAApB1gG,EAAM0gG,EAAc,GAE3BC,EAAgB1kG,EAAqB,EAAG,EAAGC,EAAIC,EAAI4D,EAAIC,GAErDlE,EAzIV,SAAkBI,EAAYC,EAAYwnB,EAAYC,GAGpD,OAFcl0C,KAAKsS,MAAM4hC,EAAK1nB,EAAIynB,EAAKxnB,GAEb,EAAVzsB,KAAK6F,KAAqB,EAAV7F,KAAK6F,IAsIrBqrH,CAAS1kG,EAAIC,EAAIwkG,EAAcr0G,EAAGq0G,EAAc1hH,GAE1D6c,EAAQ2uC,EAEVk2D,EAAgB95F,EAAS3K,EAAIC,EAAIsuC,GACxB3uC,EAAQ4uC,IAEjBi2D,EAAgB95F,EAAS3K,EAAIC,EAAIuuC,IAGnC,IAAMpuC,EAAS9P,EAAOm0G,EAAcr0G,EAAGq0G,EAAc1hH,EAAG6qD,GACxD,MAAO,CACLx9C,EAAGgQ,EAAO,GAAKf,EACftc,EAAGqd,EAAO,GAAKd,IAGnBoiG,cAAA,SACEriG,EACAC,EACAU,EACAC,EACA2tC,EACAW,EACAC,EACA/mB,EACAC,GAEA,IAAMxG,EAAe,KAAKA,aAAa7hB,EAAIC,EAAIU,EAAIC,EAAIwnB,EAAIC,GAC3D,OAAOxsB,EAASgmB,EAAa9wB,EAAG8wB,EAAan+B,EAAG0kC,EAAIC,IAEtD+5E,QAAA,SACEpiG,EACAC,EACAU,EACAC,EACA2tC,EACAW,EACAC,EACA/+D,GAEA,IAAMmwB,GAAS4uC,EAAWD,GAAc9+D,EAAI8+D,EAC5C,MAAO,CACLn+C,EAAGg0G,EAAI/kG,EAAIC,EAAIU,EAAIC,EAAI2tC,EAAWhuC,GAClC7c,EAAGshH,EAAIhlG,EAAIC,EAAIU,EAAIC,EAAI2tC,EAAWhuC,KAGtCgiG,aAAA,SACEviG,EACAC,EACAU,EACAC,EACA2tC,EACAW,EACAC,EACA/+D,GAEA,IAAMmwB,GAAS4uC,EAAWD,GAAc9+D,EAAI8+D,EACtChvC,EAlPV,SACEF,EACAC,EACAU,EACAC,EACA2tC,EACAW,EACAC,EACA5uC,GAEA,OAAQ,EAAII,EAAKxsB,KAAKwS,IAAI4nD,GAAap6D,KAAKyS,IAAI2Z,GAASK,EAAKzsB,KAAKyS,IAAI2nD,GAAap6D,KAAKwS,IAAI4Z,GAwOhF+kG,CAActlG,EAAIC,EAAIU,EAAIC,EAAI2tC,EAAWW,EAAYC,EAAU5uC,GACpEJ,EArOV,SACEH,EACAC,EACAU,EACAC,EACA2tC,EACAW,EACAC,EACA5uC,GAEA,OAAQ,EAAII,EAAKxsB,KAAKyS,IAAI2nD,GAAap6D,KAAKyS,IAAI2Z,GAASK,EAAKzsB,KAAKwS,IAAI4nD,GAAap6D,KAAKwS,IAAI4Z,GA2NhFglG,CAAcvlG,EAAIC,EAAIU,EAAIC,EAAI2tC,EAAWW,EAAYC,EAAU5uC,GAC1E,OAAO4hG,EAAMhuH,KAAKsS,MAAM0Z,EAAID,MCrPhC,SAASslG,EAAc5lG,GAIrB,IAFA,IAAIokG,EAAc,EACZ56E,EAAsB,GACnBl6C,EAAI,EAAGA,EAAI0wB,EAAOxuB,OAAS,EAAGlC,IAAK,CAC1C,IAAMwV,EAAOkb,EAAO1wB,GACduV,EAAKmb,EAAO1wB,EAAI,GAChBkiC,EAASvV,EAASnX,EAAK,GAAIA,EAAK,GAAID,EAAG,GAAIA,EAAG,IAC9CsjC,EAAM,CACVrjC,KAAI,EACJD,GAAE,EACFrT,OAAM,GAERg4C,EAASx3C,KAAKm2C,GACdi8E,GAAe5yF,EAEjB,MAAO,CAAEgY,SAAQ,EAAE46E,YAAW,GAG1B,SAAUyB,EAAgB7lG,GAC9B,GAAIA,EAAOxuB,OAAS,EAClB,OAAO,EAGT,IADA,IAAI4yH,EAAc,EACT90H,EAAI,EAAGA,EAAI0wB,EAAOxuB,OAAS,EAAGlC,IAAK,CAC1C,IAAMwV,EAAOkb,EAAO1wB,GACduV,EAAKmb,EAAO1wB,EAAI,GACtB80H,GAAenoG,EAASnX,EAAK,GAAIA,EAAK,GAAID,EAAG,GAAIA,EAAG,IAEtD,OAAOu/G,EASH,SAAU0B,EAAgB9lG,EAAsBxvB,GAEpD,GAAIA,EAAI,GAAKA,EAAI,GAAKwvB,EAAOxuB,OAAS,EACpC,OAAO,KAEH,MAA4Bo0H,EAAc5lG,GAAxCwpB,EAAQ,WAAE46E,EAAW,cAE7B,GAAoB,IAAhBA,EACF,MAAO,CACLjzG,EAAG6O,EAAO,GAAG,GACblc,EAAGkc,EAAO,GAAG,IAMjB,IAFA,IAAI+lG,EAAa,EACbhmG,EAAQ,KACHzwB,EAAI,EAAGA,EAAIk6C,EAASh4C,OAAQlC,IAAK,CACxC,IAAM64C,EAAMqB,EAASl6C,GACb,EAAa64C,EAAG,KAAVtjC,EAAOsjC,EAAG,GAClB69E,EAAe79E,EAAI32C,OAAS4yH,EAClC,GAAI5zH,GAAKu1H,GAAcv1H,GAAKu1H,EAAaC,EAAc,CACrD,IAAMC,GAAcz1H,EAAIu1H,GAAcC,EACtCjmG,EAAQ2E,EAAK89F,QAAQ19G,EAAK,GAAIA,EAAK,GAAID,EAAG,GAAIA,EAAG,GAAIohH,GACrD,MAEFF,GAAcC,EAEhB,OAAOjmG,EAQH,SAAUmmG,EAAgBlmG,EAAsBxvB,GAEpD,GAAIA,EAAI,GAAKA,EAAI,GAAKwvB,EAAOxuB,OAAS,EACpC,OAAO,EAMT,IAJM,MAA4Bo0H,EAAc5lG,GAAxCwpB,EAAQ,WAAE46E,EAAW,cAEzB2B,EAAa,EACbplG,EAAQ,EACHrxB,EAAI,EAAGA,EAAIk6C,EAASh4C,OAAQlC,IAAK,CACxC,IAAM64C,EAAMqB,EAASl6C,GACb,EAAa64C,EAAG,KAAVtjC,EAAOsjC,EAAG,GAClB69E,EAAe79E,EAAI32C,OAAS4yH,EAClC,GAAI5zH,GAAKu1H,GAAcv1H,GAAKu1H,EAAaC,EAAc,CACrDrlG,EAAQpsB,KAAKsS,MAAMhC,EAAG,GAAKC,EAAK,GAAID,EAAG,GAAKC,EAAK,IACjD,MAEFihH,GAAcC,EAEhB,OAAOrlG,EAGH,SAAUwlG,EAAkBnmG,EAAsB7O,EAAWrN,GAEjE,IADA,IAAIqiB,EAAcnsB,IACT1K,EAAI,EAAGA,EAAI0wB,EAAOxuB,OAAS,EAAGlC,IAAK,CAC1C,IAAMywB,EAAQC,EAAO1wB,GACf48D,EAAYlsC,EAAO1wB,EAAI,GACvB82H,EAAW1hG,EAAK+9F,cAAc1iG,EAAM,GAAIA,EAAM,GAAImsC,EAAU,GAAIA,EAAU,GAAI/6C,EAAGrN,GACnFsiH,EAAWjgG,IACbA,EAAcigG,GAGlB,OAAOjgG,ECzGM,OAMbmjF,IAAA,SAAItpF,GAGF,IAFA,IAAM+D,EAAO,GACPC,EAAO,GACJ10B,EAAI,EAAGA,EAAI0wB,EAAOxuB,OAAQlC,IAAK,CACtC,IAAMywB,EAAQC,EAAO1wB,GACrBy0B,EAAK/xB,KAAK+tB,EAAM,IAChBiE,EAAKhyB,KAAK+tB,EAAM,IAElB,OAAO8hG,EAAe99F,EAAMC,IAO9BxyB,OAAA,SAAOwuB,GACL,OAAO6lG,EAAgB7lG,IAQzBwiG,QAAA,SAAQxiG,EAAsBxvB,GAC5B,OAAOs1H,EAAgB9lG,EAAQxvB,IASjCiyH,cAAA,SAAcziG,EAAsB7O,EAAWrN,GAC7C,OAAOqiH,EAAkBnmG,EAAQ7O,EAAGrN,IAQtC6+G,aAAA,SAAa3iG,EAAsBxvB,GACjC,OAAO01H,EAAgBlmG,EAAQxvB,M,gCCtDnC,u3DAYO,SAASI,IACd,IAAIgxC,EAAM,IAAIm0C,IAAoB,GAQlC,OANIA,KAAuBpmC,eACzB/N,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,GAGJA,EASF,SAASjkC,EAAMhK,GACpB,IAAIiuC,EAAM,IAAIm0C,IAAoB,GAIlC,OAHAn0C,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACJiuC,EASF,SAASpwC,EAAOmC,GACrB,IAAIwd,EAAIxd,EAAE,GACNmQ,EAAInQ,EAAE,GACN01B,EAAI11B,EAAE,GACV,OAAOY,KAAK0uC,MAAM9xB,EAAGrN,EAAGulB,GAWnB,SAAS6sD,EAAW/kE,EAAGrN,EAAGulB,GAC/B,IAAIuY,EAAM,IAAIm0C,IAAoB,GAIlC,OAHAn0C,EAAI,GAAKzwB,EACTywB,EAAI,GAAK99B,EACT89B,EAAI,GAAKvY,EACFuY,EAUF,SAASq0C,EAAKr0C,EAAKjuC,GAIxB,OAHAiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACXiuC,EAAI,GAAKjuC,EAAE,GACJiuC,EAYF,SAASprC,EAAIorC,EAAKzwB,EAAGrN,EAAGulB,GAI7B,OAHAuY,EAAI,GAAKzwB,EACTywB,EAAI,GAAK99B,EACT89B,EAAI,GAAKvY,EACFuY,EAWF,SAAS0H,EAAI1H,EAAKjuC,EAAGmC,GAI1B,OAHA8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAClB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAClB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GACX8rC,EAWF,SAASg5B,EAASh5B,EAAKjuC,EAAGmC,GAI/B,OAHA8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAClB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAClB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GACX8rC,EAWF,SAASg2C,EAASh2C,EAAKjuC,EAAGmC,GAI/B,OAHA8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAClB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAClB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GACX8rC,EAWF,SAAS88D,EAAO98D,EAAKjuC,EAAGmC,GAI7B,OAHA8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAClB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAClB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GACX8rC,EAUF,SAAS9O,EAAK8O,EAAKjuC,GAIxB,OAHAiuC,EAAI,GAAKrtC,KAAKu+B,KAAKn/B,EAAE,IACrBiuC,EAAI,GAAKrtC,KAAKu+B,KAAKn/B,EAAE,IACrBiuC,EAAI,GAAKrtC,KAAKu+B,KAAKn/B,EAAE,IACdiuC,EAUF,SAASh7B,EAAMg7B,EAAKjuC,GAIzB,OAHAiuC,EAAI,GAAKrtC,KAAKqS,MAAMjT,EAAE,IACtBiuC,EAAI,GAAKrtC,KAAKqS,MAAMjT,EAAE,IACtBiuC,EAAI,GAAKrtC,KAAKqS,MAAMjT,EAAE,IACfiuC,EAWF,SAASntC,EAAImtC,EAAKjuC,EAAGmC,GAI1B,OAHA8rC,EAAI,GAAKrtC,KAAKE,IAAId,EAAE,GAAImC,EAAE,IAC1B8rC,EAAI,GAAKrtC,KAAKE,IAAId,EAAE,GAAImC,EAAE,IAC1B8rC,EAAI,GAAKrtC,KAAKE,IAAId,EAAE,GAAImC,EAAE,IACnB8rC,EAWF,SAASptC,EAAIotC,EAAKjuC,EAAGmC,GAI1B,OAHA8rC,EAAI,GAAKrtC,KAAKC,IAAIb,EAAE,GAAImC,EAAE,IAC1B8rC,EAAI,GAAKrtC,KAAKC,IAAIb,EAAE,GAAImC,EAAE,IAC1B8rC,EAAI,GAAKrtC,KAAKC,IAAIb,EAAE,GAAImC,EAAE,IACnB8rC,EAUF,SAAS5oC,EAAM4oC,EAAKjuC,GAIzB,OAHAiuC,EAAI,GAAKrtC,KAAKyE,MAAMrF,EAAE,IACtBiuC,EAAI,GAAKrtC,KAAKyE,MAAMrF,EAAE,IACtBiuC,EAAI,GAAKrtC,KAAKyE,MAAMrF,EAAE,IACfiuC,EAWF,SAASzW,EAAMyW,EAAKjuC,EAAGmC,GAI5B,OAHA8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAChB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EAChB8rC,EAAI,GAAKjuC,EAAE,GAAKmC,EACT8rC,EAYF,SAAS+8D,EAAY/8D,EAAKjuC,EAAGmC,EAAGq1B,GAIrC,OAHAyW,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAAKq1B,EACvByW,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAAKq1B,EACvByW,EAAI,GAAKjuC,EAAE,GAAKmC,EAAE,GAAKq1B,EAChByW,EAUF,SAAS3lB,EAAStoB,EAAGmC,GAC1B,IAAIqb,EAAIrb,EAAE,GAAKnC,EAAE,GACbmQ,EAAIhO,EAAE,GAAKnC,EAAE,GACb01B,EAAIvzB,EAAE,GAAKnC,EAAE,GACjB,OAAOY,KAAK0uC,MAAM9xB,EAAGrN,EAAGulB,GAUnB,SAASu1E,EAAgBjrG,EAAGmC,GACjC,IAAIqb,EAAIrb,EAAE,GAAKnC,EAAE,GACbmQ,EAAIhO,EAAE,GAAKnC,EAAE,GACb01B,EAAIvzB,EAAE,GAAKnC,EAAE,GACjB,OAAOwd,EAAIA,EAAIrN,EAAIA,EAAIulB,EAAIA,EAStB,SAASw1E,EAAclrG,GAC5B,IAAIwd,EAAIxd,EAAE,GACNmQ,EAAInQ,EAAE,GACN01B,EAAI11B,EAAE,GACV,OAAOwd,EAAIA,EAAIrN,EAAIA,EAAIulB,EAAIA,EAUtB,SAASyxC,EAAOl5B,EAAKjuC,GAI1B,OAHAiuC,EAAI,IAAMjuC,EAAE,GACZiuC,EAAI,IAAMjuC,EAAE,GACZiuC,EAAI,IAAMjuC,EAAE,GACLiuC,EAUF,SAASk9D,EAAQl9D,EAAKjuC,GAI3B,OAHAiuC,EAAI,GAAK,EAAMjuC,EAAE,GACjBiuC,EAAI,GAAK,EAAMjuC,EAAE,GACjBiuC,EAAI,GAAK,EAAMjuC,EAAE,GACViuC,EAUF,SAASna,EAAUma,EAAKjuC,GAC7B,IAAIwd,EAAIxd,EAAE,GACNmQ,EAAInQ,EAAE,GACN01B,EAAI11B,EAAE,GACNhB,EAAMwe,EAAIA,EAAIrN,EAAIA,EAAIulB,EAAIA,EAU9B,OARI12B,EAAM,IAERA,EAAM,EAAI4B,KAAKuS,KAAKnU,IAGtBivC,EAAI,GAAKjuC,EAAE,GAAKhB,EAChBivC,EAAI,GAAKjuC,EAAE,GAAKhB,EAChBivC,EAAI,GAAKjuC,EAAE,GAAKhB,EACTivC,EAUF,SAASla,EAAI/zB,EAAGmC,GACrB,OAAOnC,EAAE,GAAKmC,EAAE,GAAKnC,EAAE,GAAKmC,EAAE,GAAKnC,EAAE,GAAKmC,EAAE,GAWvC,SAAS80C,EAAMhJ,EAAKjuC,EAAGmC,GAC5B,IAAIkpG,EAAKrrG,EAAE,GACPsrG,EAAKtrG,EAAE,GACP0yH,EAAK1yH,EAAE,GACP+yG,EAAK5wG,EAAE,GACP6wG,EAAK7wG,EAAE,GACPwwH,EAAKxwH,EAAE,GAIX,OAHA8rC,EAAI,GAAKq9D,EAAKqnB,EAAKD,EAAK1f,EACxB/kE,EAAI,GAAKykF,EAAK3f,EAAK1H,EAAKsnB,EACxB1kF,EAAI,GAAKo9D,EAAK2H,EAAK1H,EAAKyH,EACjB9kE,EAYF,SAASm9D,EAAKn9D,EAAKjuC,EAAGmC,EAAGtF,GAC9B,IAAIwuG,EAAKrrG,EAAE,GACPsrG,EAAKtrG,EAAE,GACP0yH,EAAK1yH,EAAE,GAIX,OAHAiuC,EAAI,GAAKo9D,EAAKxuG,GAAKsF,EAAE,GAAKkpG,GAC1Bp9D,EAAI,GAAKq9D,EAAKzuG,GAAKsF,EAAE,GAAKmpG,GAC1Br9D,EAAI,GAAKykF,EAAK71H,GAAKsF,EAAE,GAAKuwH,GACnBzkF,EAcF,SAAS2kF,EAAQ3kF,EAAKjuC,EAAGmC,EAAGnG,EAAGC,EAAGY,GACvC,IAAIg2H,EAAeh2H,EAAIA,EACnBi2H,EAAUD,GAAgB,EAAIh2H,EAAI,GAAK,EACvCk2H,EAAUF,GAAgBh2H,EAAI,GAAKA,EACnCm2H,EAAUH,GAAgBh2H,EAAI,GAC9Bo2H,EAAUJ,GAAgB,EAAI,EAAIh2H,GAItC,OAHAoxC,EAAI,GAAKjuC,EAAE,GAAK8yH,EAAU3wH,EAAE,GAAK4wH,EAAU/2H,EAAE,GAAKg3H,EAAU/2H,EAAE,GAAKg3H,EACnEhlF,EAAI,GAAKjuC,EAAE,GAAK8yH,EAAU3wH,EAAE,GAAK4wH,EAAU/2H,EAAE,GAAKg3H,EAAU/2H,EAAE,GAAKg3H,EACnEhlF,EAAI,GAAKjuC,EAAE,GAAK8yH,EAAU3wH,EAAE,GAAK4wH,EAAU/2H,EAAE,GAAKg3H,EAAU/2H,EAAE,GAAKg3H,EAC5DhlF,EAcF,SAASilF,EAAOjlF,EAAKjuC,EAAGmC,EAAGnG,EAAGC,EAAGY,GACtC,IAAIs2H,EAAgB,EAAIt2H,EACpBu2H,EAAwBD,EAAgBA,EACxCN,EAAeh2H,EAAIA,EACnBi2H,EAAUM,EAAwBD,EAClCJ,EAAU,EAAIl2H,EAAIu2H,EAClBJ,EAAU,EAAIH,EAAeM,EAC7BF,EAAUJ,EAAeh2H,EAI7B,OAHAoxC,EAAI,GAAKjuC,EAAE,GAAK8yH,EAAU3wH,EAAE,GAAK4wH,EAAU/2H,EAAE,GAAKg3H,EAAU/2H,EAAE,GAAKg3H,EACnEhlF,EAAI,GAAKjuC,EAAE,GAAK8yH,EAAU3wH,EAAE,GAAK4wH,EAAU/2H,EAAE,GAAKg3H,EAAU/2H,EAAE,GAAKg3H,EACnEhlF,EAAI,GAAKjuC,EAAE,GAAK8yH,EAAU3wH,EAAE,GAAK4wH,EAAU/2H,EAAE,GAAKg3H,EAAU/2H,EAAE,GAAKg3H,EAC5DhlF,EAUF,SAAS5P,EAAO4P,EAAKzW,GAC1BA,EAAQA,GAAS,EACjB,IAAI/6B,EAAwB,EAApB2lF,MAA0BxhF,KAAK6F,GACnCivB,EAAwB,EAApB0sD,MAA0B,EAC9BixC,EAASzyH,KAAKuS,KAAK,EAAMuiB,EAAIA,GAAK8B,EAItC,OAHAyW,EAAI,GAAKrtC,KAAKwS,IAAI3W,GAAK42H,EACvBplF,EAAI,GAAKrtC,KAAKyS,IAAI5W,GAAK42H,EACvBplF,EAAI,GAAKvY,EAAI8B,EACNyW,EAYF,SAASw9D,EAAcx9D,EAAKjuC,EAAGjE,GACpC,IAAIyhB,EAAIxd,EAAE,GACNmQ,EAAInQ,EAAE,GACN01B,EAAI11B,EAAE,GACNs1B,EAAIv5B,EAAE,GAAKyhB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,IAAM25B,EAAI35B,EAAE,IAK5C,OAJAu5B,EAAIA,GAAK,EACT2Y,EAAI,IAAMlyC,EAAE,GAAKyhB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,GAAK25B,EAAI35B,EAAE,KAAOu5B,EACpD2Y,EAAI,IAAMlyC,EAAE,GAAKyhB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,GAAK25B,EAAI35B,EAAE,KAAOu5B,EACpD2Y,EAAI,IAAMlyC,EAAE,GAAKyhB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,IAAM25B,EAAI35B,EAAE,KAAOu5B,EAC9C2Y,EAWF,SAASxgB,EAAcwgB,EAAKjuC,EAAGjE,GACpC,IAAIyhB,EAAIxd,EAAE,GACNmQ,EAAInQ,EAAE,GACN01B,EAAI11B,EAAE,GAIV,OAHAiuC,EAAI,GAAKzwB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,GAAK25B,EAAI35B,EAAE,GACrCkyC,EAAI,GAAKzwB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,GAAK25B,EAAI35B,EAAE,GACrCkyC,EAAI,GAAKzwB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,GAAK25B,EAAI35B,EAAE,GAC9BkyC,EAYF,SAASqlF,EAAcrlF,EAAKjuC,EAAGuvB,GAEpC,IAAI0jF,EAAK1jF,EAAE,GACP2jF,EAAK3jF,EAAE,GACPgkG,EAAKhkG,EAAE,GACPikG,EAAKjkG,EAAE,GACP/R,EAAIxd,EAAE,GACNmQ,EAAInQ,EAAE,GACN01B,EAAI11B,EAAE,GAGNyzH,EAAMvgB,EAAKx9E,EAAI69F,EAAKpjH,EACpBujH,EAAMH,EAAK/1G,EAAIy1F,EAAKv9E,EACpBi+F,EAAM1gB,EAAK9iG,EAAI+iG,EAAK11F,EAEpBo2G,EAAO1gB,EAAKygB,EAAMJ,EAAKG,EACvBG,EAAON,EAAKE,EAAMxgB,EAAK0gB,EACvBG,EAAO7gB,EAAKygB,EAAMxgB,EAAKugB,EAEvBM,EAAU,EAALP,EAYT,OAXAC,GAAOM,EACPL,GAAOK,EACPJ,GAAOI,EAEPH,GAAQ,EACRC,GAAQ,EACRC,GAAQ,EAER7lF,EAAI,GAAKzwB,EAAIi2G,EAAMG,EACnB3lF,EAAI,GAAK99B,EAAIujH,EAAMG,EACnB5lF,EAAI,GAAKvY,EAAIi+F,EAAMG,EACZ7lF,EAWF,SAAS+lF,EAAQ/lF,EAAKjuC,EAAGmC,EAAGi2B,GACjC,IAAI36B,EAAI,GACJhB,EAAI,GAaR,OAXAgB,EAAE,GAAKuC,EAAE,GAAKmC,EAAE,GAChB1E,EAAE,GAAKuC,EAAE,GAAKmC,EAAE,GAChB1E,EAAE,GAAKuC,EAAE,GAAKmC,EAAE,GAEhB1F,EAAE,GAAKgB,EAAE,GACThB,EAAE,GAAKgB,EAAE,GAAKmD,KAAKwS,IAAIglB,GAAO36B,EAAE,GAAKmD,KAAKyS,IAAI+kB,GAC9C37B,EAAE,GAAKgB,EAAE,GAAKmD,KAAKyS,IAAI+kB,GAAO36B,EAAE,GAAKmD,KAAKwS,IAAIglB,GAE9C6V,EAAI,GAAKxxC,EAAE,GAAK0F,EAAE,GAClB8rC,EAAI,GAAKxxC,EAAE,GAAK0F,EAAE,GAClB8rC,EAAI,GAAKxxC,EAAE,GAAK0F,EAAE,GACX8rC,EAWF,SAASgmF,EAAQhmF,EAAKjuC,EAAGmC,EAAGi2B,GACjC,IAAI36B,EAAI,GACJhB,EAAI,GAaR,OAXAgB,EAAE,GAAKuC,EAAE,GAAKmC,EAAE,GAChB1E,EAAE,GAAKuC,EAAE,GAAKmC,EAAE,GAChB1E,EAAE,GAAKuC,EAAE,GAAKmC,EAAE,GAEhB1F,EAAE,GAAKgB,EAAE,GAAKmD,KAAKyS,IAAI+kB,GAAO36B,EAAE,GAAKmD,KAAKwS,IAAIglB,GAC9C37B,EAAE,GAAKgB,EAAE,GACThB,EAAE,GAAKgB,EAAE,GAAKmD,KAAKwS,IAAIglB,GAAO36B,EAAE,GAAKmD,KAAKyS,IAAI+kB,GAE9C6V,EAAI,GAAKxxC,EAAE,GAAK0F,EAAE,GAClB8rC,EAAI,GAAKxxC,EAAE,GAAK0F,EAAE,GAClB8rC,EAAI,GAAKxxC,EAAE,GAAK0F,EAAE,GACX8rC,EAWF,SAASimF,EAAQjmF,EAAKjuC,EAAGmC,EAAGi2B,GACjC,IAAI36B,EAAI,GACJhB,EAAI,GAaR,OAXAgB,EAAE,GAAKuC,EAAE,GAAKmC,EAAE,GAChB1E,EAAE,GAAKuC,EAAE,GAAKmC,EAAE,GAChB1E,EAAE,GAAKuC,EAAE,GAAKmC,EAAE,GAEhB1F,EAAE,GAAKgB,EAAE,GAAKmD,KAAKwS,IAAIglB,GAAO36B,EAAE,GAAKmD,KAAKyS,IAAI+kB,GAC9C37B,EAAE,GAAKgB,EAAE,GAAKmD,KAAKyS,IAAI+kB,GAAO36B,EAAE,GAAKmD,KAAKwS,IAAIglB,GAC9C37B,EAAE,GAAKgB,EAAE,GAETwwC,EAAI,GAAKxxC,EAAE,GAAK0F,EAAE,GAClB8rC,EAAI,GAAKxxC,EAAE,GAAK0F,EAAE,GAClB8rC,EAAI,GAAKxxC,EAAE,GAAK0F,EAAE,GACX8rC,EASF,SAASjhB,EAAMhtB,EAAGmC,GACvB,IAAIkpG,EAAKrrG,EAAE,GACPsrG,EAAKtrG,EAAE,GACP0yH,EAAK1yH,EAAE,GACP+yG,EAAK5wG,EAAE,GACP6wG,EAAK7wG,EAAE,GACPwwH,EAAKxwH,EAAE,GAGPypG,EAFOhrG,KAAKuS,KAAKk4F,EAAKA,EAAKC,EAAKA,EAAKonB,EAAKA,GACnC9xH,KAAKuS,KAAK4/F,EAAKA,EAAKC,EAAKA,EAAK2f,EAAKA,GAE1C9mB,EAASD,GAAO73E,EAAI/zB,EAAGmC,GAAKypG,EAChC,OAAOhrG,KAAK+5D,KAAK/5D,KAAKE,IAAIF,KAAKC,IAAIgrG,GAAS,GAAI,IAS3C,SAASC,EAAK79D,GAInB,OAHAA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,EASF,SAASjsC,EAAIhC,GAClB,MAAO,QAAUA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,IAU/C,SAAS4zB,EAAY5zB,EAAGmC,GAC7B,OAAOnC,EAAE,KAAOmC,EAAE,IAAMnC,EAAE,KAAOmC,EAAE,IAAMnC,EAAE,KAAOmC,EAAE,GAU/C,SAASukF,EAAO1mF,EAAGmC,GACxB,IAAIwkF,EAAK3mF,EAAE,GACP4mF,EAAK5mF,EAAE,GACP6mF,EAAK7mF,EAAE,GACPonF,EAAKjlF,EAAE,GACPklF,EAAKllF,EAAE,GACPmlF,EAAKnlF,EAAE,GACX,OAAOvB,KAAKqF,IAAI0gF,EAAKS,IAAOhF,IAAmBxhF,KAAKC,IAAI,EAAKD,KAAKqF,IAAI0gF,GAAK/lF,KAAKqF,IAAImhF,KAAQxmF,KAAKqF,IAAI2gF,EAAKS,IAAOjF,IAAmBxhF,KAAKC,IAAI,EAAKD,KAAKqF,IAAI2gF,GAAKhmF,KAAKqF,IAAIohF,KAAQzmF,KAAKqF,IAAI4gF,EAAKS,IAAOlF,IAAmBxhF,KAAKC,IAAI,EAAKD,KAAKqF,IAAI4gF,GAAKjmF,KAAKqF,IAAIqhF,IAOzP,IAmDD54D,EAnDKkpC,EAAMqP,EAMN4gB,EAAM5D,EAMN8nB,EAAMhB,EAMNthG,EAAO6e,EAMP0jF,EAAUf,EAMVjsG,EAAMnB,EAMNouG,EAASf,EAcTl/F,GACL0iB,EAAMzxB,IACH,SAAU+C,EAAGksG,EAAQtyF,EAAQ1E,EAAOrT,EAAIsqG,GAC7C,IAAIxwG,EAAGC,EAgBP,IAdKswG,IACHA,EAAS,GAGNtyF,IACHA,EAAS,GAIThe,EADEsZ,EACEtU,KAAKE,IAAIoU,EAAQg3F,EAAStyF,EAAQ5Z,EAAEnC,QAEpCmC,EAAEnC,OAGHlC,EAAIie,EAAQje,EAAIC,EAAGD,GAAKuwG,EAC3Bx9E,EAAI,GAAK1uB,EAAErE,GACX+yB,EAAI,GAAK1uB,EAAErE,EAAI,GACf+yB,EAAI,GAAK1uB,EAAErE,EAAI,GACfkG,EAAG6sB,EAAKA,EAAKy9E,GACbnsG,EAAErE,GAAK+yB,EAAI,GACX1uB,EAAErE,EAAI,GAAK+yB,EAAI,GACf1uB,EAAErE,EAAI,GAAK+yB,EAAI,GAGjB,OAAO1uB,K,gCCzwBX,IAGA,0BACU,aAAsB,GAwGhC,OAhGEm0H,wBAAGtvB,EAAanjD,EAAoBnqC,GAQlC,OAPK,KAAK68G,QAAQvvB,KAChB,KAAKuvB,QAAQvvB,GAAO,IAEtB,KAAKuvB,QAAQvvB,GAAKxmG,KAAK,CACrBqjD,SAAQ,EACRnqC,OAAQA,IAEH,MAQT48G,0BAAKtvB,EAAanjD,GAChB,OAAO,KAAKrqC,GAAGwtF,EAAKnjD,GAAU,IAQhCyyE,0BAAKtvB,G,IAAL,WAAkB,gCAAA96F,oBAChB,IAAMwgB,EAAS,KAAK6pG,QAAQvvB,IAAQ,GAC9BwvB,EAAiB,KAAKD,QAvCf,MAuCoC,GAG3CE,EAAS,SAACC,GAEd,IADA,IAAI12H,EAAS02H,EAAG12H,OACPlC,EAAI,EAAGA,EAAIkC,EAAQlC,IAC1B,GAAK44H,EAAG54H,GAAR,CAGM,MAAqB44H,EAAG54H,GAAtB+lD,EAAQ,WAAM,SAGpB6yE,EAAGhzH,OAAO5F,EAAG,GAEK,IAAd44H,EAAG12H,eACEitB,EAAKspG,QAAQvvB,GAGtBhnG,IACAlC,KAGF+lD,EAAS1+C,MAAM8nB,EAAM/gB,KAIzBuqH,EAAO/pG,GACP+pG,EAAOD,IAQTF,yBAAItvB,EAAcnjD,GAChB,GAAKmjD,EAIH,GAAKnjD,EAGE,CAKL,IAHA,IAAMn3B,EAAS,KAAK6pG,QAAQvvB,IAAQ,GAEhChnE,EAAStT,EAAO1sB,OACXlC,EAAI,EAAGA,EAAIkiC,EAAQliC,IACtB4uB,EAAO5uB,GAAG+lD,WAAaA,IACzBn3B,EAAOhpB,OAAO5F,EAAG,GACjBkiC,IACAliC,KAIkB,IAAlB4uB,EAAO1sB,eACF,KAAKu2H,QAAQvvB,eAff,KAAKuvB,QAAQvvB,QAJtB,KAAKuvB,QAAU,GAwBjB,OAAO,MAITD,iCACE,OAAO,KAAKC,SAEhB,EAzGA,G,okCCVA,IAAMzyF,EAGF,GAmBJ,SAAS6yF,EAAoBrrH,GAC3B,OAAIw4B,aAAM,EAAN,EAAQ6yF,qBACH7yF,EAAO6yF,oBAAoBrrH,IAEH,YAAlB,oBAAOP,OAAP,cAAOA,UAAuBA,OAAOM,qBAAuBN,OAAOM,qBAAuBK,cAC3FJ,G,qO9DhBV,SAAUmf,EAAS2I,EAAYC,EAAYC,EAAYC,GAC3D,IAAMzE,EAAKsE,EAAKE,EACVvE,EAAKsE,EAAKE,EAChB,OAAOxwB,KAAKuS,KAAKwZ,EAAKA,EAAKC,EAAKA,GAY5B,SAAU6nG,EAAM1lG,EAAcC,EAAclhB,EAAeuO,EAAgBmB,EAAGrN,GAClF,OAAOqN,GAAKuR,GAAQvR,GAAKuR,EAAOjhB,GAASqC,GAAK6e,GAAQ7e,GAAK6e,EAAO3S,EAG9D,SAAUq4G,EAAc7kG,EAAMC,GAClC,QAASA,EAAKf,KAAOc,EAAKE,MAAQD,EAAKC,KAAOF,EAAKd,MAAQe,EAAKd,KAAOa,EAAKG,MAAQF,EAAKE,KAAOH,EAAKb,MAqBjG,SAAU4rC,EAAYC,EAAQC,GAClC,OAAOD,EAAO,KAAOC,EAAO,IAAMD,EAAO,KAAOC,EAAO,G+DlDzD,IAAM65D,EAAU,kCACVC,EAAU,gEACVC,EAAU,kCACVC,EAAiB,8BAEvB,SAASC,EAAQC,EAAOC,GACtB,IAAMl3H,EAAgBi3H,EAAM1tH,MAAMwtH,GAClCh2H,eAAKf,GAAK,SAAC4E,GACT,IAAMuyH,EAAUvyH,EAAKoB,MAAM,KAC3BkxH,EAASE,aAAaD,EAAQ,GAAIA,EAAQ,OAiKxC,SAAUE,EAAW/qH,EAAmC0rB,EAAmBpxB,GAC/E,GAAItC,mBAASsC,GAAQ,CACnB,GAAiB,MAAbA,EAAM,IAA2B,MAAbA,EAAM,GAAY,CACxC,GAAiB,MAAbA,EAAM,GAER,OA5JF,SAA4B0F,EAAmC0rB,EAAmBs/F,GACtF,IAIIv/D,EACA+O,EALE9mE,EAAM42H,EAAQ5/G,KAAKsgH,GACnBroG,EAASznB,WAAWxH,EAAI,IAAM,KAAQ6C,KAAK6F,GAAK,KAChDuuH,EAAQj3H,EAAI,GACZ43G,EAAM5/E,EAAQ5F,UAIhBnD,GAAS,GAAKA,EAAS,GAASpsB,KAAK6F,IACvCqvD,EAAQ,CACNt4C,EAAGm4F,EAAI5mF,KACP5e,EAAGwlG,EAAI3mF,MAET61C,EAAM,CACJrnD,EAAGm4F,EAAI5lF,KACP5f,EAAGwlG,EAAI3lF,OAEC,GAASpvB,KAAK6F,IAAMumB,GAASA,EAAQpsB,KAAK6F,IACpDqvD,EAAQ,CACNt4C,EAAGm4F,EAAI5lF,KACP5f,EAAGwlG,EAAI3mF,MAET61C,EAAM,CACJrnD,EAAGm4F,EAAI5mF,KACP5e,EAAGwlG,EAAI3lF,OAEApvB,KAAK6F,IAAMumB,GAASA,EAAS,IAASpsB,KAAK6F,IACpDqvD,EAAQ,CACNt4C,EAAGm4F,EAAI5lF,KACP5f,EAAGwlG,EAAI3lF,MAET60C,EAAM,CACJrnD,EAAGm4F,EAAI5mF,KACP5e,EAAGwlG,EAAI3mF,QAGT8mC,EAAQ,CACNt4C,EAAGm4F,EAAI5mF,KACP5e,EAAGwlG,EAAI3lF,MAET60C,EAAM,CACJrnD,EAAGm4F,EAAI5lF,KACP5f,EAAGwlG,EAAI3mF,OAIX,IAAMsmG,EAAW10H,KAAKmmB,IAAIiG,GACpBuoG,EAAYD,EAAWA,EAEvB93G,GAAKqnD,EAAIrnD,EAAIs4C,EAAMt4C,EAAI83G,GAAYzwD,EAAI10D,EAAI2lD,EAAM3lD,KAAOolH,EAAY,GAAKz/D,EAAMt4C,EAC/ErN,EAAKmlH,GAAYzwD,EAAIrnD,EAAIs4C,EAAMt4C,EAAI83G,GAAYzwD,EAAI10D,EAAI2lD,EAAM3lD,KAAQolH,EAAY,GAAKz/D,EAAM3lD,EAC5F8kH,EAAW5qH,EAAQmrH,qBAAqB1/D,EAAMt4C,EAAGs4C,EAAM3lD,EAAGqN,EAAGrN,GAEnE,OADA4kH,EAAQC,EAAOC,GACRA,EAuGMQ,CAAkBprH,EAAS0rB,EAASpxB,GAE7C,GAAiB,MAAbA,EAAM,GAER,OAjGF,SAA8B0F,EAAmC0rB,EAAmBs/F,GACxF,IAAMt3H,EAAM62H,EAAQ7/G,KAAKsgH,GACnBK,EAAKnwH,WAAWxH,EAAI,IACpB43H,EAAKpwH,WAAWxH,EAAI,IACpB63H,EAAKrwH,WAAWxH,EAAI,IACpBi3H,EAAQj3H,EAAI,GAElB,GAAW,IAAP63H,EAAU,CACZ,IAAMxR,EAAS4Q,EAAM1tH,MAAMwtH,GAC3B,OAAO1Q,EAAOA,EAAOvmH,OAAS,GAAGkG,MAAM,KAAK,GAE9C,IAAM4xG,EAAM5/E,EAAQ5F,UACdriB,EAAQ6nG,EAAI5lF,KAAO4lF,EAAI5mF,KACvB1S,EAASs5F,EAAI3lF,KAAO2lF,EAAI3mF,KACxBvyB,EAAImE,KAAKuS,KAAKrF,EAAQA,EAAQuO,EAASA,GAAU,EACjD44G,EAAW5qH,EAAQwrH,qBACvBlgB,EAAI5mF,KAAOjhB,EAAQ4nH,EACnB/f,EAAI3mF,KAAO3S,EAASs5G,EACpB,EACAhgB,EAAI5mF,KAAOjhB,EAAQ,EACnB6nG,EAAI3mF,KAAO3S,EAAS,EACpBu5G,EAAKn5H,GAGP,OADAs4H,EAAQC,EAAOC,GACRA,EAyEMa,CAAoBzrH,EAAS0rB,EAASpxB,GAE/C,GAAiB,MAAbA,EAAM,GAER,OApEF,SAAuB0F,EAAmC0rB,EAAmBggG,GAEjF,GAAIhgG,EAAQv5B,IAAI,kBAAoBu5B,EAAQv5B,IAAI,mBAAqBu5H,EACnE,OAAOhgG,EAAQv5B,IAAI,WAErB,IAAIm8B,EACA05B,EACEt0D,EAAM82H,EAAQ9/G,KAAKghH,GACrB7Y,EAASn/G,EAAI,GACXwrB,EAASxrB,EAAI,GAGnB,SAASi4H,IAEPr9F,EAAUtuB,EAAQ4rH,cAAc5jE,EAAK6qD,GACrCnnF,EAAQlzB,IAAI,UAAW81B,GACvB5C,EAAQlzB,IAAI,gBAAiBkzH,GAG/B,OAAQ7Y,GACN,IAAK,IACHA,EAAS,SACT,MACF,IAAK,IACHA,EAAS,WACT,MACF,IAAK,IACHA,EAAS,WACT,MACF,IAAK,IACHA,EAAS,YACT,MACF,QACEA,EAAS,YAmBb,OAhBA7qD,EAAM,IAAI6jE,MAEL3sG,EAAOjiB,MAAM,aAEhB+qD,EAAI8jE,YAAc,aAEpB9jE,EAAIxnD,IAAM0e,EAEN8oC,EAAI+jE,SACNJ,KAEA3jE,EAAI2jE,OAASA,EAEb3jE,EAAIxnD,IAAMwnD,EAAIxnD,KAGT8tB,EAgBM09F,CAAahsH,EAAS0rB,EAASpxB,GAG1C,OAAOA,GC1LX,SAAS61D,EAAKv5D,GACZ,OAAOL,KAAKuS,KAAKlS,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAI1C,SAASw5D,EAAOznD,EAAG/R,GAEjB,OAAOu5D,EAAKxnD,GAAKwnD,EAAKv5D,IAAM+R,EAAE,GAAK/R,EAAE,GAAK+R,EAAE,GAAK/R,EAAE,KAAOu5D,EAAKxnD,GAAKwnD,EAAKv5D,IAAM,EAIjF,SAASy5D,EAAO1nD,EAAG/R,GACjB,OAAQ+R,EAAE,GAAK/R,EAAE,GAAK+R,EAAE,GAAK/R,EAAE,IAAM,EAAI,GAAKL,KAAK+5D,KAAKF,EAAOznD,EAAG/R,IAItD,SAAU85D,EAAarkC,EAAYgjC,GAC/C,IAAItsC,EAAKssC,EAAO,GACZrsC,EAAKqsC,EAAO,GACVsB,EAAYz0D,cAAIO,mBAAS4yD,EAAO,IAAe,EAAV94D,KAAK6F,IAC1Cw0D,EAAUvB,EAAO,GACjBwB,EAAYxB,EAAO,GAEnBzoC,EAAKyF,EAAW,GAChBxF,EAAKwF,EAAW,GAEhBvF,EAAKuoC,EAAO,GACZtoC,EAAKsoC,EAAO,GACZyB,EAAMv6D,KAAKwS,IAAI4nD,IAAc/pC,EAAKE,GAAO,EAAOvwB,KAAKyS,IAAI2nD,IAAc9pC,EAAKE,GAAO,EACnFgqC,GAAO,EAAIx6D,KAAKyS,IAAI2nD,IAAc/pC,EAAKE,GAAO,EAAOvwB,KAAKwS,IAAI4nD,IAAc9pC,EAAKE,GAAO,EACxFiqC,EAAUF,EAAKA,GAAO/tC,EAAKA,GAAOguC,EAAKA,GAAO/tC,EAAKA,GAErDguC,EAAS,IACXjuC,GAAMxsB,KAAKuS,KAAKkoD,GAChBhuC,GAAMzsB,KAAKuS,KAAKkoD,IAElB,IAAMC,EAAOluC,EAAKA,GAAMguC,EAAKA,GAAM/tC,EAAKA,GAAM8tC,EAAKA,GAE/CnyD,EAAIsyD,EAAO16D,KAAKuS,MAAMia,EAAKA,GAAMC,EAAKA,GAAMiuC,GAAQA,GAAQ,EAE5DL,IAAYC,IACdlyD,IAAM,GAEJ9H,MAAM8H,KACRA,EAAI,GAIN,IAAMuyD,EAAMluC,EAAMrkB,EAAIokB,EAAKguC,EAAM/tC,EAAK,EAChCmuC,EAAMpuC,EAAMpkB,GAAKqkB,EAAK8tC,EAAM/tC,EAAK,EAGjCX,GAAMwE,EAAKE,GAAM,EAAMvwB,KAAKwS,IAAI4nD,GAAaO,EAAM36D,KAAKyS,IAAI2nD,GAAaQ,EACzE9uC,GAAMwE,EAAKE,GAAM,EAAMxwB,KAAKyS,IAAI2nD,GAAaO,EAAM36D,KAAKwS,IAAI4nD,GAAaQ,EAGzExoD,EAAI,EAAEmoD,EAAKI,GAAOnuC,GAAKguC,EAAKI,GAAOnuC,GAEnCpsB,EAAI,GAAG,EAAIk6D,EAAKI,GAAOnuC,IAAM,EAAIguC,EAAKI,GAAOnuC,GAE7CouC,EAAQf,EAAO,CAAC,EAAG,GAAI1nD,GAGzB0oD,EAAShB,EAAO1nD,EAAG/R,GAcvB,OAZIw5D,EAAOznD,EAAG/R,KAAO,IACnBy6D,EAAS96D,KAAK6F,IAEZg0D,EAAOznD,EAAG/R,IAAM,IAClBy6D,EAAS,GAEO,IAAdR,GAAmBQ,EAAS,IAC9BA,GAAkB,EAAI96D,KAAK6F,IAEX,IAAdy0D,GAAmBQ,EAAS,IAC9BA,GAAkB,EAAI96D,KAAK6F,IAEtB,CACLgmB,GAAE,EACFC,GAAE,EAEFU,GAAIwtC,EAAYlkC,EAAY,CAACvF,EAAIC,IAAO,EAAIhE,EAC5CC,GAAIutC,EAAYlkC,EAAY,CAACvF,EAAIC,IAAO,EAAI/D,EAC5CsuC,WAAYF,EACZG,SAAUH,EAAQC,EAClBV,UAAS,EACTC,QAAO,EACPC,UAAS,G,qOCxFL,MAAwBt6D,KAAI,IAAvBwS,EAAmBxS,KAAI,IAAlBsS,EAActS,KAAI,MAAX6F,EAAO7F,KAAI,GAEpC,SAAS01H,EAAiBnxF,EAAO5lC,EAAO0xB,EAAIC,EAAIC,EAAIC,EAAImlG,GAC9C,MAAsBh3H,EAAK,OAAnBua,EAAcva,EAAK,UAG7B64B,EAAMllB,EADFge,EAAKE,EADLH,EAAKE,GAGTqlG,EAAa,IAAIC,GAAK,CAC1B/3H,KAAM,OACNijC,OAAQwD,EAAM3oC,IAAI,UAClBk6H,cAAc,EACdn3H,MAAO,CAEL4M,KAAM,IAAI,GAAKiH,EAAI3M,EAAK,GAAE,IAAI,GAAK4M,EAAI5M,EAAK,GAAE,UAAU,GAAK2M,EAAI3M,EAAK,GAAE,KAAK,GAAK4M,EAAI5M,EAAK,GAE3FsT,OAAM,EACND,UAAS,KAGb08G,EAAWhoG,UAAU2C,EAAIC,GACzBolG,EAAWG,cAAcxlG,EAAIC,EAAIgH,GACjC+M,EAAMtiC,IAAI0zH,EAAU,kBAAoB,gBAAiBC,GAQ3D,SAASI,EAAoBzxF,EAAO5lC,EAAO0xB,EAAIC,EAAIC,EAAIC,EAAImlG,GACjD,MAA4Ch3H,EAAK,WAArCwrD,EAAgCxrD,EAAK,SAA3Bwa,EAAsBxa,EAAK,OAAnBua,EAAcva,EAAK,UACnDs3H,EAAaN,EAAUzrE,EAAaC,EAClC,EAAqF8rE,EAAU,EAAtFC,EAA4ED,EAAU,KAAnEE,EAAyDF,EAAU,OAA3CG,EAAiCH,EAAU,UAAxBI,EAAS,YAAKJ,EAAvF,mCAGAz+F,EAAMllB,EADFge,EAAKE,EADLH,EAAKE,GAIXl1B,IACFk1B,GAAU/d,EAAIglB,GAAOn8B,EACrBm1B,GAAU/d,EAAI+kB,GAAOn8B,GAGvB,IAAMu6H,EAAa,IAAIC,GAAK,CAC1B/3H,KAAM,OACNijC,OAAQwD,EAAM3oC,IAAI,UAClBk6H,cAAc,EACdn3H,MAAK,2BACA03H,GAAS,CAEZl9G,OAAQg9G,GAAeh9G,EACvBD,UAAWk9G,GAAkBl9G,EAE7BL,KAAMq9G,MAIVN,EAAWhoG,UAAU2C,EAAIC,GACzBolG,EAAWG,cAAcxlG,EAAIC,EAAIgH,GACjC+M,EAAMtiC,IAAI0zH,EAAU,kBAAoB,gBAAiBC,GAerD,SAAUU,EAAiBjmG,EAAIC,EAAIC,EAAIC,EAAIn1B,GAC/C,IAAMm8B,EAAMllB,EAAMke,EAAKF,EAAIC,EAAKF,GAChC,MAAO,CACLtE,GAAIvZ,EAAIglB,GAAOn8B,EACf2wB,GAAIvZ,EAAI+kB,GAAOn8B,GAab,SAAUk7H,EAAchyF,EAAO5lC,EAAO0xB,EAAIC,EAAIC,EAAIC,GACtB,WAA5B,EAAO7xB,EAAMurD,YACf8rE,EAAoBzxF,EAAO5lC,EAAO0xB,EAAIC,EAAIC,EAAIC,GAAI,GACzC7xB,EAAMurD,WACfwrE,EAAiBnxF,EAAO5lC,EAAO0xB,EAAIC,EAAIC,EAAIC,GAAI,GAE/C+T,EAAMtiC,IAAI,kBAAmB,MAa3B,SAAUu0H,EAAYjyF,EAAO5lC,EAAO0xB,EAAIC,EAAIC,EAAIC,GACtB,WAA1B,EAAO7xB,EAAMwrD,UACf6rE,EAAoBzxF,EAAO5lC,EAAO0xB,EAAIC,EAAIC,EAAIC,GAAI,GACzC7xB,EAAMwrD,SACfurE,EAAiBnxF,EAAO5lC,EAAO0xB,EAAIC,EAAIC,EAAIC,GAAI,GAE/C+T,EAAMtiC,IAAI,kBAAmB,MC7GjC,IAAMw0H,EAAkB,CACtB59G,KAAM,YACNM,OAAQ,cACRilC,QAAS,eAGL,SAAUs4E,EAAoBjtH,EAAmC0rB,GACrE,IAAMx2B,EAAQw2B,EAAQ2Q,OACtB,IAAK,IAAMxnC,KAAKK,EAAO,CACrB,IAAI0B,EAAI1B,EAAML,GAER++G,EAAOoZ,EAAgBn4H,GAAKm4H,EAAgBn4H,GAAKA,EAC1C,WAAT++G,GAAqBh9G,EAEvBoJ,EAAQ+gB,UAAUnqB,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAChC,aAATg9G,GAAuB5zG,EAAQktH,YAExC14H,kBAAQoC,IAAMoJ,EAAQktH,YAAYt2H,IAErB,gBAATg9G,GAAmC,cAATA,EAG5Bh9G,EAAIm0H,EAAW/qH,EAAS0rB,EAAS90B,GACf,gBAATg9G,IAETh9G,GAAQoJ,EAAQmtH,aAElBntH,EAAQ4zG,GAAQh9G,IAKhB,SAAUw2H,EAAaptH,EAAmCuf,EAAsB8tG,GACpF,IAAK,IAAI/7H,EAAI,EAAGA,EAAIiuB,EAAS/rB,OAAQlC,IAAK,CACxC,IAAMm+B,EAAQlQ,EAASjuB,GACnBm+B,EAAMnhB,IAAIC,QACZkhB,EAAMiL,KAAK16B,EAASqtH,GAEpB59F,EAAM69F,YAMN,SAAUC,EAAaj2F,EAAQ/X,EAAsB8tG,GACzD,IAAMG,EAAkBl2F,EAAOnlC,IAAI,mBAEnCsC,eAAK+4H,GAAiB,SAACnO,GACrB,GAAIA,IAAO/nF,EAET,IADA,IAAItI,EAASqwF,EAAG/wG,IAAI4P,OACb8Q,GAAUA,IAAWsI,IAAWtI,EAAO1gB,IAAIkzB,SAChDxS,EAAO1gB,IAAIkzB,SAAU,EACrBxS,EAASA,EAAO1gB,IAAI4P,UAItBsvG,EAAgB,KAAOl2F,EACzBm2F,EAAmBluG,EAAU8tG,GAO3B,SAAUK,EAAqBnuG,EAAsB8tG,GACzD,IAAK,IAAI/7H,EAAI,EAAGA,EAAIiuB,EAAS/rB,OAAQlC,IAAK,CACxC,IAAMm+B,EAAQlQ,EAASjuB,GACvB,GAAIm+B,EAAMnhB,IAAIC,QAEZ,GAAIkhB,EAAMnhB,IAAIq/G,WAEZl+F,EAAMnhB,IAAIkzB,SAAU,EAChB/R,EAAMokF,WACR4Z,EAAmBh+F,EAAMnhB,IAAIiR,SAAU8tG,QAEpC,GAAI59F,EAAMnhB,IAAIkzB,QAEf/R,EAAMokF,WACR6Z,EAAqBj+F,EAAMnhB,IAAIiR,SAAU8tG,OAEtC,CAEL,IAAM7rF,EAAUosF,EAAoBn+F,EAAO49F,GAC3C59F,EAAMnhB,IAAIkzB,QAAUA,EAChBA,GAAW/R,EAAMokF,WAEnB6Z,EAAqBj+F,EAAMnhB,IAAIiR,SAAU8tG,KA1B/CK,CAAqBnuG,EAAU8tG,GA+CnC,SAASI,EAAmBluG,EAAsB8tG,GAChD,IAAK,IAAI/7H,EAAI,EAAGA,EAAIiuB,EAAS/rB,OAAQlC,IAAK,CACxC,IAAMm+B,EAAQlQ,EAASjuB,GAQvBm+B,EAAMnhB,IAAIkzB,SAAU,EAEhB/R,EAAMokF,WACR4Z,EAAmBh+F,EAAMt9B,IAAI,YAAak7H,IAKhD,SAASO,EAAoB9yF,EAAiBuyF,GAC5C,IAAM7oG,EAAOsW,EAAMxsB,IAAIu/G,gBAEvB,OADgB/yF,EAAMxsB,IAAIw/G,UAAYtpG,GAAQ6lG,EAAc7lG,EAAM6oG,GAK9D,SAAUU,EAASjzF,EAAO96B,EAAS9K,EAAO84H,GACtC,MAA+B94H,EAAK,KAA9BurD,EAAyBvrD,EAAK,WAAlBwrD,EAAaxrD,EAAK,SAC5C,GAAK4M,EAAL,CAGA,IAAI2vD,EAAe,CAAC,EAAG,GACnBE,EAAiB,CAAC,EAAG,GACrB1zC,EAAW,CACbqE,GAAI,EACJC,GAAI,GAENviB,EAAQiuH,YACR,IAAK,IAAI38H,EAAI,EAAGA,EAAIwQ,EAAKtO,OAAQlC,IAAK,CACpC,IAAM+9D,EAASvtD,EAAKxQ,GACdugE,EAAUxC,EAAO,GACvB,GAAU,IAAN/9D,GAAWmvD,GAAcA,EAAW7uD,EAEtCqsB,EAAWiwG,GADLnkF,EAAUjP,EAAMnN,mBACwB,GAAG,GAAIoc,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAI0W,EAAW7uD,QACxG,GAAIN,IAAMwQ,EAAKtO,OAAS,GAAwB,MAAnBsO,EAAKxQ,EAAI,GAAG,IAAcovD,GAAYA,EAAS9uD,EAAG,CAGpF,GAAoB,MADHkQ,EAAKxQ,EAAI,GACb,GAEX2sB,EAAWiwG,GADLnkF,EAAUjP,EAAMjN,iBACwB,GAAG,GAAIkc,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAI2W,EAAS9uD,QAExG,GAAIN,IAAMwQ,EAAKtO,OAAS,GAAKktD,GAAYA,EAAS9uD,EAAG,CAExD,IAAMm4C,EADR,GAAgB,MAAZjoC,EAAK,GAEPmc,EAAWiwG,GADLnkF,EAAUjP,EAAMjN,iBACwB,GAAG,GAAIkc,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAI2W,EAAS9uD,GAIvG,MAAWqsB,EAAQ,GAAfsE,EAAOtE,EAAQ,GAE3B,OAAQ4zC,GACN,IAAK,IACH7xD,EAAQm4C,OAAOkX,EAAO,GAAK/sC,EAAI+sC,EAAO,GAAK9sC,GAC3CovC,EAAiB,CAACtC,EAAO,GAAIA,EAAO,IACpC,MACF,IAAK,IACHrvD,EAAQmuH,OAAO9+D,EAAO,GAAK/sC,EAAI+sC,EAAO,GAAK9sC,GAC3C,MACF,IAAK,IACHviB,EAAQouH,iBAAiB/+D,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAK/sC,EAAI+sC,EAAO,GAAK9sC,GAC3E,MACF,IAAK,IACHviB,EAAQquH,cAAch/D,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAK/sC,EAAI+sC,EAAO,GAAK9sC,GAC9F,MACF,IAAK,IACH,IAAIyvC,OAAS,EAETg8D,GACFh8D,EAAYg8D,EAAe18H,MAEzB0gE,EAAYtB,EAAae,EAAcpC,GACvC2+D,EAAe18H,GAAK0gE,GAGtBA,EAAYtB,EAAae,EAAcpC,GAEjC,MAA+D2C,EAAS,GAApE3vC,EAA2D2vC,EAAS,GAAhEjvC,EAAuDivC,EAAS,GAA5DhvC,EAAmDgvC,EAAS,GAAxDV,EAA+CU,EAAS,WAA5CT,EAAmCS,EAAS,SAAlCrB,EAAyBqB,EAAS,UAAvBnB,EAAcmB,EAAS,UAEhF,GAAIhyD,EAAQ8iB,QACV9iB,EAAQ8iB,QAAQV,EAAIC,EAAIU,EAAIC,EAAI2tC,EAAWW,EAAYC,EAAU,EAAIV,OAChE,CACL,IAAMz+D,EAAI2wB,EAAKC,EAAKD,EAAKC,EACnBsrG,EAASvrG,EAAKC,EAAK,EAAID,EAAKC,EAC5BurG,EAASxrG,EAAKC,EAAKA,EAAKD,EAAK,EACnC/iB,EAAQmkB,UAAU/B,EAAIC,GACtBriB,EAAQqT,OAAOs9C,GACf3wD,EAAQmtB,MAAMmhG,EAAQC,GACtBvuH,EAAQwuH,IAAI,EAAG,EAAGp8H,EAAGk/D,EAAYC,EAAU,EAAIV,GAC/C7wD,EAAQmtB,MAAM,EAAImhG,EAAQ,EAAIC,GAC9BvuH,EAAQqT,QAAQs9C,GAChB3wD,EAAQmkB,WAAW/B,GAAKC,GAE1B,MAEF,IAAK,IACHriB,EAAQyuH,YAOZ,GAAgB,MAAZ58D,EACFJ,EAAeE,MACV,CACL,IAAMh9D,EAAM06D,EAAO77D,OACnBi+D,EAAe,CAACpC,EAAO16D,EAAM,GAAI06D,EAAO16D,EAAM,OAM9C,SAAU+5H,EAAehjG,EAAS2lF,GACtC,IAAM/5E,EAAS5L,EAAQv5B,IAAI,UAEvBmlC,IACiB,WAAf+5E,IAIF3lF,EAAQijG,iBAAmBjjG,EAAQv5B,IAAI,oBAGpCu5B,EAAQv5B,IAAI,gBAEfu5B,EAAQlzB,IAAI,cAAc,GAQpBkzB,EAAQpd,IAAI4P,QAAUwN,EAAQpd,IAAI4P,OAAO/rB,IAAI,gBACjDmlC,EAAOo3F,eAAehjG,EAAS2lF,EAAY/5E,GACvCA,EAAOnlC,IAAI,aACbmlC,EAAOoD,UAOX,SAAUk0F,EAAiBljG,GAC/B,IAAI2hG,ElEzOsBwB,EAASC,EkE0OnC,GAAKpjG,EAAQsG,UAeXq7F,EAAS3hG,EAAO,qBAfM,CACtB,IAAMqjG,EAAWrjG,EAAQv5B,IAAI,mBACvB68H,EAAaD,MAAeA,EAAStrH,QAASsrH,EAAS/8G,QACvDwS,EAAOkH,EAAQjH,gBACfwqG,EAAYzqG,MAAWA,EAAK/gB,QAAS+gB,EAAKxS,QAE5Cg9G,GAAcC,GlEhPeH,EkEiPAtqG,EAA/B6oG,GlEjPsBwB,EkEiPDE,IlEhPRD,EAGV,CACLpqG,KAAMnuB,KAAKE,IAAIo4H,EAAQnqG,KAAMoqG,EAAQpqG,MACrCC,KAAMpuB,KAAKE,IAAIo4H,EAAQlqG,KAAMmqG,EAAQnqG,MACrCe,KAAMnvB,KAAKC,IAAIq4H,EAAQnpG,KAAMopG,EAAQppG,MACrCC,KAAMpvB,KAAKC,IAAIq4H,EAAQlpG,KAAMmpG,EAAQnpG,OAN9BkpG,GAAWC,GkEgPPE,EACT3B,EAAS0B,EACAE,IACT5B,EAAS7oG,GAMb,OAAO6oG,EzRpRT,IA0Ge6B,EA1Gf,yB,+CAwGA,OAxGoB5qH,iBAKlB4qH,oCAAe7d,GACbqd,EAAe,KAAMrd,IAGvB6d,oCACE,OAAO9xF,GAGT8xF,oCACE,OAAOA,GAITA,gCAAWlvH,EAASmoD,GACdA,IACFnoD,EAAQ86C,OAERmyE,EAAoBjtH,EAASmoD,GAE7BA,EAAKgnE,WAAWnvH,GAChBA,EAAQijH,UAERjjH,EAAQmoD,OACRA,EAAKinE,eAMDF,4BAAR,WACE,IAAM3vG,EAAW,KAAKjR,IAAIiR,SACpBwG,EAAO,GACPC,EAAO,GACbvxB,eAAK8qB,GAAU,SAACkQ,GACd,IAAMjL,EAAOiL,EAAMnhB,IAAIu/G,gBAGnBrpG,GAAQiL,EAAMnhB,IAAIw/G,WACpB/nG,EAAK/xB,KAAKwwB,EAAKE,KAAMF,EAAKkB,MAC1BM,EAAKhyB,KAAKwwB,EAAKG,KAAMH,EAAKmB,UAG9B,IAAInB,EAAO,KACX,GAAIuB,EAAKvyB,OAAQ,CACf,IAAMkxB,EAAOnuB,KAAKE,IAAIkC,MAAM,KAAMotB,GAC5BL,EAAOnvB,KAAKC,IAAImC,MAAM,KAAMotB,GAC5BpB,EAAOpuB,KAAKE,IAAIkC,MAAM,KAAMqtB,GAC5BL,EAAOpvB,KAAKC,IAAImC,MAAM,KAAMqtB,GAClCxB,EAAO,CACLE,KAAI,EACJC,KAAI,EACJxR,EAAGuR,EACH5e,EAAG6e,EACHe,KAAI,EACJC,KAAI,EACJliB,MAAOiiB,EAAOhB,EACd1S,OAAQ2T,EAAOhB,GAEjB,IAAM2S,EAAS,KAAKhpB,IAAIgpB,OACxB,GAAIA,EAAQ,CACV,IAAM+3F,EAAY/3F,EAAOg4F,eAGzB,KAAK92H,IAAI,WAAY6xH,EAAc7lG,EAAM6qG,UAG3C,KAAK72H,IAAI,YAAY,GAGvB,KAAKA,IAAI,kBAAmBgsB,IAG9B0qG,0BAAKlvH,EAAmCqtH,GACtC,IAAM9tG,EAAW,KAAKjR,IAAIiR,SACpBgwG,GAAYlC,GAAS,KAAK/+G,IAAIkzB,QAIhCjiB,EAAS/rB,QAAU+7H,IACrBvvH,EAAQ86C,OAGRmyE,EAAoBjtH,EAAS,MAC7B,KAAKwvH,WAAWxvH,EAAS,KAAKwxG,WAC9B4b,EAAaptH,EAASuf,EAAU8tG,GAChCrtH,EAAQijH,UACR,KAAK4K,mBAIP,KAAKv/G,IAAIkzB,QAAU,KAEnB,KAAKhpC,IAAI,cAAc,IAGzB02H,gCACE,KAAK12H,IAAI,kBAAmB,MAC5B,KAAKA,IAAI,cAAc,IAE3B,EAxGA,CAAoBipH,K0R+OLzM,EAhPf,yB,+CA8OA,OA9OwB1wG,iBACtB0wG,uCACE,IAAM9/G,EAAQw+B,YAAMs9E,gBAAev/G,KAAA,MAEnC,kCACKyD,GAAK,CACRua,UAAW,EACX0B,gBAAiB,EACjB4B,cAAe,EACfD,YAAa,KAIjBkiG,oCACE,OAAO53E,GAGT43E,oCACE,OAAOka,GAOTla,oCAAe3D,GACbqd,EAAe,KAAMrd,IAGvB2D,qCACE,IAAM3gH,EAAO,KAAKlC,IAAI,QAChBsd,EAAY,KAAKggH,kBAGjBnkB,EADaokB,YAAcr7H,EACrBs7H,CAAW,MACjBC,EAAgBngH,EAAY,EAC5BiV,EAAO4mF,EAAIn4F,EAAIy8G,EACfjrG,EAAO2mF,EAAIxlG,EAAI8pH,EACflqG,EAAO4lF,EAAIn4F,EAAIm4F,EAAI7nG,MAAQmsH,EAC3BjqG,EAAO2lF,EAAIxlG,EAAIwlG,EAAIt5F,OAAS49G,EAClC,MAAO,CACLz8G,EAAGuR,EACHA,KAAI,EACJ5e,EAAG6e,EACHA,KAAI,EACJlhB,MAAO6nG,EAAI7nG,MAAQgM,EACnBuC,OAAQs5F,EAAIt5F,OAASvC,EACrBiW,KAAI,EACJC,KAAI,IAIRqvF,8BACE,QAAS,KAAK9/G,MAAL,MAAsB,KAAK08G,eAGtCoD,gCACE,QAAS,KAAK9/G,MAAL,QAIX8/G,gCAAWh1G,EAASmoD,GACdA,IACFnoD,EAAQ86C,OAERmyE,EAAoBjtH,EAASmoD,GAE7BA,EAAKgnE,WAAWnvH,GAChBA,EAAQijH,UAERjjH,EAAQmoD,OACRA,EAAKinE,eAKTpa,0BAAKh1G,EAAmCqtH,GACtC,IAAMllE,EAAO,KAAK75C,IAAI8jG,UAEtB,GAAIib,EAAQ,CACV,IAAyB,IAArB,KAAK/+G,IAAIkzB,QAGX,YADA,KAAKhpC,IAAI,cAAc,GAKzB,IAAK6xH,EAAcgD,EADN,KAAK5oG,iBAUhB,OAPA,KAAKjsB,IAAI,cAAc,QAInB,KAAK8V,IAAIw/G,UACX,KAAKsB,cAKXpvH,EAAQ86C,OAERmyE,EAAoBjtH,EAAS,MAC7B,KAAKwvH,WAAWxvH,EAASmoD,GACzB,KAAK4lE,SAAS/tH,GACdA,EAAQijH,UACR,KAAKmM,cAGCpa,6BAAR,WACE,IAAM19E,EAAS,KAAKhpB,IAAIgpB,OACxB,OAAIA,EAEKA,EAAOg4F,eAET,MAGTta,uCACE,IAAM4M,EAAa,KAAKiO,mBAExB,GAAIjO,EAAY,CACd,IAAMp9F,EAAO,KAAKC,gBACZqpG,EAAWzD,EAAc7lG,EAAMo9F,GACrC,KAAKppH,IAAI,WAAYs1H,GAIjBA,EACF,KAAKt1H,IAAI,kBAAmBgsB,GAE5B,KAAKhsB,IAAI,kBAAmB,QAKlCw8G,kCACE,KAAK6Y,kBAEL,KAAKr1H,IAAI,cAAc,GACvB,KAAKA,IAAI,UAAW,OAGtBw8G,gCACE,KAAKx8G,IAAI,kBAAmB,MAC5B,KAAKA,IAAI,WAAY,MACrB,KAAKA,IAAI,cAAc,IAOzBw8G,8BAASh1G,GACP,KAAKmvH,WAAWnvH,GAChB,KAAK8vH,cAAc9vH,GACnB,KAAK+vH,cAAc/vH,IAQrBg1G,0BAAKh1G,GACHA,EAAQoP,QAQV4lG,4BAAOh1G,GACLA,EAAQ0P,UAIVslG,mCAAch1G,GACN,MAAqD,KAAK9K,MAAxDua,EAAS,YAAEklC,EAAO,UAAE5hC,EAAa,gBAAED,EAAW,cAElD,KAAKk9G,WACF17H,gBAAMwe,IAAgC,IAAhBA,EAKzB,KAAK1D,KAAKpP,IAJVA,EAAQmtH,YAAcr6G,EACtB,KAAK1D,KAAKpP,GACVA,EAAQmtH,YAAcx4E,IAMtB,KAAKs7E,YACHxgH,EAAY,IACTnb,gBAAMye,IAAoC,IAAlBA,IAC3B/S,EAAQmtH,YAAcp6G,GAExB,KAAKrD,OAAO1P,IAGhB,KAAK+vH,cAAc/vH,IAQrBg1G,gCAAWh1G,KAMXg1G,mCAAch1G,KAEdg1G,+BAAUpjG,EAAcD,GAEtB,IAAMs+G,EAAW,KAAKA,WAChBD,EAAS,KAAKA,SACdvgH,EAAY,KAAKggH,kBACvB,OAAO,KAAKS,iBAAiBt+G,EAAMD,EAAMs+G,EAAUD,EAAQvgH,IAI7DulG,sCAAiB7hG,EAAGrN,EAAGmqH,EAAUD,EAAQvgH,GACvC,OAAO,GAOTulG,uCACE,IAAK,KAAKib,WACR,OAAO,EAET,IAAM/6H,EAAQ,KAAKA,MACnB,OAAOA,EAAK,UAAgBA,EAAK,iBAErC,EA9OA,CAAwBwsH,KCyCTyO,EA1Cf,yB,+CAwCA,OAxCqB7rH,iBACnB6rH,uCACE,IAAMj7H,EAAQw+B,YAAMs9E,gBAAev/G,KAAA,MACnC,kCACKyD,GAAK,CACRie,EAAG,EACHrN,EAAG,EACH1T,EAAG,KAIP+9H,sCAAiBh9G,EAAGrN,EAAGmqH,EAAUD,EAAQvgH,GACvC,IAAMva,EAAQ,KAAKmnC,OACbja,EAAKltB,EAAMie,EACXkP,EAAKntB,EAAM4Q,EACX1T,EAAI8C,EAAM9C,EACVw9H,EAAgBngH,EAAY,EAC5B2gH,EAAcnyG,EAASmE,EAAIC,EAAIlP,EAAGrN,GAExC,OAAIkqH,GAAUC,EACLG,GAAeh+H,EAAIw9H,EAExBI,EACKI,GAAeh+H,IAEpB69H,IACKG,GAAeh+H,EAAIw9H,GAAiBQ,GAAeh+H,EAAIw9H,IAKlEO,gCAAWnwH,GACT,IAAM9K,EAAQ,KAAKmnC,OACbja,EAAKltB,EAAMie,EACXkP,EAAKntB,EAAM4Q,EACX1T,EAAI8C,EAAM9C,EAChB4N,EAAQiuH,YACRjuH,EAAQwuH,IAAIpsG,EAAIC,EAAIjwB,EAAG,EAAa,EAAVmE,KAAK6F,IAAQ,GACvC4D,EAAQyuH,aAEZ,EAxCA,CAAqBzZ,GCArB,SAASqb,EAAgBC,EAASC,EAASxtG,EAAIC,GAC7C,OAAOstG,GAAWvtG,EAAKA,GAAMwtG,GAAWvtG,EAAKA,GAG/C,IA6DewtG,EA7Df,yB,+CA2DA,OA3DsBlsH,iBACpBksH,uCACE,IAAMt7H,EAAQw+B,YAAMs9E,gBAAev/G,KAAA,MACnC,kCACKyD,GAAK,CACRie,EAAG,EACHrN,EAAG,EACHid,GAAI,EACJC,GAAI,KAIRwtG,sCAAiBr9G,EAAGrN,EAAGmqH,EAAUD,EAAQvgH,GACvC,IAAMva,EAAQ,KAAKmnC,OACbo0F,EAAehhH,EAAY,EAC3B2S,EAAKltB,EAAMie,EACXkP,EAAKntB,EAAM4Q,EACT,EAAW5Q,EAAK,GAAZ8tB,EAAO9tB,EAAK,GAClBo7H,GAAWn9G,EAAIiP,IAAOjP,EAAIiP,GAC1BmuG,GAAWzqH,EAAIuc,IAAOvc,EAAIuc,GAEhC,OAAI2tG,GAAUC,EACLI,EAAgBC,EAASC,EAASxtG,EAAK0tG,EAAcztG,EAAKytG,IAAiB,EAEhFT,EACKK,EAAgBC,EAASC,EAASxtG,EAAIC,IAAO,IAElDitG,IAEAI,EAAgBC,EAASC,EAASxtG,EAAK0tG,EAAcztG,EAAKytG,IAAiB,GAC3EJ,EAAgBC,EAASC,EAASxtG,EAAK0tG,EAAcztG,EAAKytG,IAAiB,IAMjFD,gCAAWxwH,GACT,IAAM9K,EAAQ,KAAKmnC,OACbja,EAAKltB,EAAMie,EACXkP,EAAKntB,EAAM4Q,EACXid,EAAK7tB,EAAM6tB,GACXC,EAAK9tB,EAAM8tB,GAGjB,GAFAhjB,EAAQiuH,YAEJjuH,EAAQ8iB,QACV9iB,EAAQ8iB,QAAQV,EAAIC,EAAIU,EAAIC,EAAI,EAAG,EAAa,EAAVzsB,KAAK6F,IAAQ,OAC9C,CAEL,IAAMhK,EAAI2wB,EAAKC,EAAKD,EAAKC,EACnBsrG,EAASvrG,EAAKC,EAAK,EAAID,EAAKC,EAC5BurG,EAASxrG,EAAKC,EAAKA,EAAKD,EAAK,EACnC/iB,EAAQ86C,OACR96C,EAAQmkB,UAAU/B,EAAIC,GACtBriB,EAAQmtB,MAAMmhG,EAAQC,GACtBvuH,EAAQwuH,IAAI,EAAG,EAAGp8H,EAAG,EAAa,EAAVmE,KAAK6F,IAC7B4D,EAAQijH,UACRjjH,EAAQyuH,cAGd,EA3DA,CAAsBzZ,GCTtB,SAAS5mG,EAASu0F,GAChB,OAAOA,aAAe+tB,aAAe14H,mBAAS2qG,EAAIguB,WAA4C,WAA/BhuB,EAAIguB,SAAStzH,cAG9E,IAAIuzH,EAAa,KAMjB,IAqIeC,EArIf,yB,+CAmIA,OAnIyBvsH,iBACvBusH,uCACE,IAAM37H,EAAQw+B,YAAMs9E,gBAAev/G,KAAA,MACnC,kCACKyD,GAAK,CACRie,EAAG,EACHrN,EAAG,EACHrC,MAAO,EACPuO,OAAQ,KAIZ6+G,+BAAU37H,GACR,KAAK47H,UAAU57H,EAAM8yD,MAIvB6oE,gCACE,OAAO,GAKTA,oCACE,OAAO,GAGTA,qCACE,IAA2B,IAAvB,KAAK1+H,IAAI,UAAoB,CAC/B,IAAMmlC,EAAS,KAAKnlC,IAAI,UACpBmlC,EAEFA,EAAOoD,OAGP,KAAKy0F,WAAW,KAAKh9H,IAAI,cAK/B0+H,+BAAU7oE,GAAV,WACQ9yD,EAAQ,KAAKA,MAEnB,KAAI,aAAU,EAAV,EAAY67H,YAAaH,aAAU,EAAV,EAAYI,gBAMzC,GAAIh5H,mBAASgwD,GAAM,CACjB,IAAIipE,EAAQ,MAEVA,GADEL,aAAU,EAAV,EAAYI,gBACNJ,aAAU,EAAV,EAAYz+H,IAAI,aAAa++H,cAE7B,IAAIrF,OAERF,OAAS,WAEb,GAAIlrG,EAAKuR,UACP,OAAO,EAMTvR,EAAK4b,KAAK,MAAO40F,GACjBxwG,EAAKjoB,IAAI,WAAW,GACpBioB,EAAK0wG,gBACL,IAAM95E,EAAW52B,EAAKtuB,IAAI,YACtBklD,GACFA,EAAS5lD,KAAKgvB,IAIlBwwG,EAAMnF,YAAc,YAEpBmF,EAAMzwH,IAAMwnD,EAEZ,KAAKxvD,IAAI,WAAW,QACX,aAAU,EAAV,EAAYw4H,iBAAkBhpE,aAAe6jE,OACjD32H,EAAMuO,QACTvO,EAAMuO,MAAQukD,EAAIvkD,OAEfvO,EAAM8c,SACT9c,EAAM8c,OAASg2C,EAAIh2C,SAEZ5D,EAAS45C,KAEb9yD,EAAMuO,QACTvO,EAAMuO,MAAQjI,OAAOwsD,EAAIxtB,aAAa,WAGnCtlC,EAAM8c,SACT9c,EAAM8c,OAAQxW,OAAOwsD,EAAIxtB,aAAa,kBAjDxC,KAAK6B,KAAK,MAAO2rB,IAsDrB6oE,kCAAah/H,EAAcU,EAAYk/G,GACrC/9E,YAAMg+E,aAAYjgH,KAAA,KAACI,EAAMU,EAAOk/G,GAEnB,QAAT5/G,GAEF,KAAKi/H,UAAUv+H,IAInBs+H,gCAAW7wH,GACT,IAAM9K,EAAQ,KAAKmnC,OACX,EAAsDnnC,EAAK,IAAtDie,EAAiDje,EAAK,EAAnD4Q,EAA8C5Q,EAAK,EAAhDuO,EAA2CvO,EAAK,MAAzC8c,EAAoC9c,EAAK,OAAjCk8H,EAA4Bl8H,EAAK,GAA7Bm8H,EAAwBn8H,EAAK,GAAzBo8H,EAAoBp8H,EAAK,OAAjBq8H,EAAYr8H,EAAK,QAGnE,GAAI,KAAK/C,IAAI,WAGX,OAFA,KAAKqG,IAAI,UAAU,QACnB,KAAKA,IAAI,UAAWwH,IAIlB4wH,aAAU,EAAV,EAAYG,UACd/wH,EAAQwxH,UAAUxpE,EAAK70C,EAAGrN,EAAGrC,EAAOuO,IAIlCg2C,aAAe6jE,OAASz9G,EAAS45C,MAC9B1zD,gBAAM88H,IAAQ98H,gBAAM+8H,IAAQ/8H,gBAAMg9H,IAAYh9H,gBAAMi9H,GAGvDvxH,EAAQwxH,UAAUxpE,EAAK70C,EAAGrN,EAAGrC,EAAOuO,GAFpChS,EAAQwxH,UAAUxpE,EAAKopE,EAAIC,EAAIC,EAAQC,EAASp+G,EAAGrN,EAAGrC,EAAOuO,KAMrE,EAnIA,CAAyBgjG,G,OCXX,SAAUyc,GAAO7qG,EAAIC,EAAIC,EAAIC,EAAItX,EAAW0D,EAAGrN,GAC3D,IAAM4e,EAAOnuB,KAAKE,IAAImwB,EAAIE,GACpBpB,EAAOnvB,KAAKC,IAAIowB,EAAIE,GACpBnC,EAAOpuB,KAAKE,IAAIowB,EAAIE,GACpBpB,EAAOpvB,KAAKC,IAAIqwB,EAAIE,GACpB2qG,EAAYjiH,EAAY,EAG9B,OAAM0D,GAAKuR,EAAOgtG,GAAav+G,GAAKuS,EAAOgsG,GAAa5rH,GAAK6e,EAAO+sG,GAAa5rH,GAAK6f,EAAO+rG,GAItFC,IAASjN,YAAY99F,EAAIC,EAAIC,EAAIC,EAAI5T,EAAGrN,IAAM2J,EAAY,ECLnE,IAoGekX,GApGf,yB,+CAkGA,OAlGmBriB,iBACjBqiB,uCACE,IAAMzxB,EAAQw+B,YAAMs9E,gBAAev/G,KAAA,MACnC,kCACKyD,GAAK,CACR0xB,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,EACJ05B,YAAY,EACZC,UAAU,KAId/5B,+BAAUzxB,GACR,KAAK08H,YAIPjrG,kCAAa90B,EAAcU,EAAYk/G,GACrC/9E,YAAMg+E,aAAYjgH,KAAA,KAACI,EAAMU,EAAOk/G,GAEhC,KAAKmgB,YAGPjrG,gCACE,IAAMzxB,EAAQ,KAAKmnC,OACX,EAAyCnnC,EAAK,GAA1C2xB,EAAqC3xB,EAAK,GAAtC4xB,EAAiC5xB,EAAK,GAAlC6xB,EAA6B7xB,EAAK,GAA9BurD,EAAyBvrD,EAAK,WAAlBwrD,EAAaxrD,EAAK,SAClDurD,GACFytE,EAAwB,KAAMh5H,EAAO4xB,EAAIC,EAAIH,EAAIC,GAE/C65B,GACFwtE,EAAsB,KAAMh5H,EAAO0xB,EAAIC,EAAIC,EAAIC,IAInDJ,sCAAiBxT,EAAGrN,EAAGmqH,EAAUD,EAAQvgH,GACvC,IAAKwgH,IAAaxgH,EAChB,OAAO,EAEH,MAAqB,KAAK4sB,OAChC,OAAOo1F,GADG,KAAI,KAAI,KAAI,KACQhiH,EAAW0D,EAAGrN,IAG9C6gB,gCAAW3mB,GACT,IAAM9K,EAAQ,KAAKmnC,OACX,EAAyCnnC,EAAK,GAA1C2xB,EAAqC3xB,EAAK,GAAtC4xB,EAAiC5xB,EAAK,GAAlC6xB,EAA6B7xB,EAAK,GAA9BurD,EAAyBvrD,EAAK,WAAlBwrD,EAAaxrD,EAAK,SAClD28H,EAAqB,CACvBvvG,GAAI,EACJC,GAAI,GAEFuvG,EAAmB,CACrBxvG,GAAI,EACJC,GAAI,GAGFk+B,GAAcA,EAAW7uD,IAC3BigI,EAAqB3D,EAA2BtnG,EAAIC,EAAIC,EAAIC,EAAI7xB,EAAMurD,WAAW7uD,IAE/E8uD,GAAYA,EAAS9uD,IACvBkgI,EAAmB5D,EAA2BtnG,EAAIC,EAAIC,EAAIC,EAAI7xB,EAAMwrD,SAAS9uD,IAG/EoO,EAAQiuH,YAERjuH,EAAQm4C,OAAOvxB,EAAKirG,EAAmBvvG,GAAIuE,EAAKgrG,EAAmBtvG,IACnEviB,EAAQmuH,OAAOrnG,EAAKgrG,EAAiBxvG,GAAIyE,EAAK+qG,EAAiBvvG,KAGjEoE,mCAAc3mB,GACZ,IAAMiiH,EAAkB,KAAK9vH,IAAI,mBAC3B+vH,EAAgB,KAAK/vH,IAAI,iBAC3B8vH,GACFA,EAAgBvnF,KAAK16B,GAEnBkiH,GACFA,EAAcxnF,KAAK16B,IAQvB2mB,sCACQ,MAAqB,KAAK0V,OAAxBzV,EAAE,KAAEC,EAAE,KAAEC,EAAE,KAAEC,EAAE,KACtB,OAAO4qG,IAASn+H,OAAOozB,EAAIC,EAAIC,EAAIC,IAQrCJ,8BAAShD,GACD,MAAqB,KAAK0Y,OAAxBzV,EAAE,KAAEC,EAAE,KAAEC,EAAE,KAAEC,EAAE,KACtB,OAAO4qG,IAASnN,QAAQ59F,EAAIC,EAAIC,EAAIC,EAAIpD,IAE5C,EAlGA,CAAmBqxF,G,SCEb+c,GAAU,CAEd5vG,OAAM,SAAChP,EAAGrN,EAAG1T,GACX,MAAO,CACL,CAAC,IAAK+gB,EAAI/gB,EAAG0T,GACb,CAAC,IAAK1T,EAAGA,EAAG,EAAG,EAAG,EAAG+gB,EAAI/gB,EAAG0T,GAC5B,CAAC,IAAK1T,EAAGA,EAAG,EAAG,EAAG,EAAG+gB,EAAI/gB,EAAG0T,KAIhCksH,OAAM,SAAC7+G,EAAGrN,EAAG1T,GACX,MAAO,CAAC,CAAC,IAAK+gB,EAAI/gB,EAAG0T,EAAI1T,GAAI,CAAC,IAAK+gB,EAAI/gB,EAAG0T,EAAI1T,GAAI,CAAC,IAAK+gB,EAAI/gB,EAAG0T,EAAI1T,GAAI,CAAC,IAAK+gB,EAAI/gB,EAAG0T,EAAI1T,GAAI,CAAC,OAG/Fw2D,QAAO,SAACz1C,EAAGrN,EAAG1T,GACZ,MAAO,CAAC,CAAC,IAAK+gB,EAAI/gB,EAAG0T,GAAI,CAAC,IAAKqN,EAAGrN,EAAI1T,GAAI,CAAC,IAAK+gB,EAAI/gB,EAAG0T,GAAI,CAAC,IAAKqN,EAAGrN,EAAI1T,GAAI,CAAC,OAG/Eq2D,SAAQ,SAACt1C,EAAGrN,EAAG1T,GACb,IAAMg8F,EAAQh8F,EAAImE,KAAKyS,IAAK,EAAI,EAAKzS,KAAK6F,IAC1C,MAAO,CAAC,CAAC,IAAK+W,EAAI/gB,EAAG0T,EAAIsoF,GAAQ,CAAC,IAAKj7E,EAAGrN,EAAIsoF,GAAQ,CAAC,IAAKj7E,EAAI/gB,EAAG0T,EAAIsoF,GAAQ,CAAC,OAGlF,gBAAe,SAACj7E,EAAGrN,EAAG1T,GACpB,IAAMg8F,EAAQh8F,EAAImE,KAAKyS,IAAK,EAAI,EAAKzS,KAAK6F,IAC1C,MAAO,CAAC,CAAC,IAAK+W,EAAI/gB,EAAG0T,EAAIsoF,GAAQ,CAAC,IAAKj7E,EAAI/gB,EAAG0T,EAAIsoF,GAAQ,CAAC,IAAKj7E,EAAGrN,EAAIsoF,GAAQ,CAAC,QAwErE6jC,GApEf,yB,+CAkEA,OAlEqB3tH,iBACnB2tH,+BAAU/8H,GACR,KAAKg9H,qBAIPD,yCAGE,KAAKz5H,IAAI,cAAe,KAI1By5H,kCAAapgI,EAAcU,EAAYk/G,GACrC/9E,YAAMg+E,aAAYjgH,KAAA,KAACI,EAAMU,EAAOk/G,IAC2B,IAAvD,CAAC,SAAU,IAAK,IAAK,IAAK,UAAU99G,QAAQ9B,IAE9C,KAAKqgI,qBAMTD,oCACE,OAAO,GAGTA,2BAAM/8H,GAEJ,OAAOZ,gBAAMY,EAAM9C,GAAK8C,EAAMsF,OAAStF,EAAM9C,GAG/C6/H,gCACE,IAII/3H,EACA4H,EALE5M,EAAQ,KAAKmnC,OACX,EAASnnC,EAAK,EAAX4Q,EAAM5Q,EAAK,EAChBi9H,EAASj9H,EAAMi9H,QAAU,SACzB//H,EAAI,KAAKggI,MAAMl9H,GAGrB,GAAIF,qBAAWm9H,GAEbrwH,GADA5H,EAASi4H,GACKh/G,EAAGrN,EAAG1T,GAEpB0P,EAAOuwH,aAAcvwH,OAChB,CAIL,KAFA5H,EAAS+3H,EAAOF,QAAQI,IAItB,OADA3mH,QAAQC,KAAQ0mH,EAAM,6BACf,KAGTrwH,EAAO5H,EAAOiZ,EAAGrN,EAAG1T,GAGtB,OAAO0P,GAGTmwH,gCAAWjyH,GAGT+tH,EAAS,KAAM/tH,EAAS,CAAE8B,KAFb,KAAKwwH,YACE,KAAKngI,IAAI,iBAIxB8/H,UAAUF,GACnB,EAlEA,CAAqB/c,GChCrB,SAAS3vF,GAAKlS,GACZ,OAAI5c,KAAKqF,IAAIuX,GAHG,KAIP,EAGFA,EAAI,GAAK,EAAI,EAItB,SAAS8R,GAAU5D,EAAIC,EAAI4D,GACzB,OACGA,EAAE,GAAK7D,EAAG,KAAOC,EAAG,GAAKD,EAAG,MAASC,EAAG,GAAKD,EAAG,KAAO6D,EAAE,GAAK7D,EAAG,KAClE9qB,KAAKE,IAAI4qB,EAAG,GAAIC,EAAG,KAAO4D,EAAE,IAC5BA,EAAE,IAAM3uB,KAAKC,IAAI6qB,EAAG,GAAIC,EAAG,KAC3B/qB,KAAKE,IAAI4qB,EAAG,GAAIC,EAAG,KAAO4D,EAAE,IAC5BA,EAAE,IAAM3uB,KAAKC,IAAI6qB,EAAG,GAAIC,EAAG,IAQjB,SAAUixG,GAAYvwG,EAAQ7O,EAAGrN,GAC7C,IAAIsf,GAAQ,EACNryB,EAAIivB,EAAOxuB,OACjB,GAAIT,GAAK,EAEP,OAAO,EAET,IAAK,IAAIzB,EAAI,EAAGA,EAAIyB,EAAGzB,IAAK,CAC1B,IAAM+vB,EAAKW,EAAO1wB,GACZgwB,EAAKU,GAAQ1wB,EAAI,GAAKyB,GAC5B,GAAIkyB,GAAU5D,EAAIC,EAAI,CAACnO,EAAGrN,IAExB,OAAO,EAKPuf,GAAKhE,EAAG,GAAKvb,GAAK,GAAMuf,GAAK/D,EAAG,GAAKxb,GAAK,GAC1Cuf,GAAKlS,GAAMrN,EAAIub,EAAG,KAAOA,EAAG,GAAKC,EAAG,KAAQD,EAAG,GAAKC,EAAG,IAAMD,EAAG,IAAM,IAEtE+D,GAASA,GAGb,OAAOA,E,YrF/CH,SAAU26E,GAAcn8D,EAAKjuC,EAAGiB,GACpC,IAAMopG,EAAqB,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAErD,OADAr2C,KAAKwwB,gBAAgB6lB,EAAUppG,GACxB+yD,KAAKiwB,SAASh2C,EAAKo8D,EAAUrqG,GAGhC,SAAUsqG,GAAWr8D,EAAKjuC,EAAGo4B,GACjC,IAAMmyE,EAAsB,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAEtD,OADAv2C,KAAKywB,aAAa8lB,EAAWnyE,GACtB47B,KAAKiwB,SAASh2C,EAAKs8D,EAAWvqG,GAGjC,SAAUwqG,GAAUv8D,EAAKjuC,EAAGiB,GAChC,IAAMwpG,EAAqB,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAErD,OADAz2C,KAAK0wB,YAAY+lB,EAAUxpG,GACpB+yD,KAAKiwB,SAASh2C,EAAKw8D,EAAUzqG,GAWhC,SAAUorB,GAAUrvB,EAAawxF,GAGrC,IAFA,IAToBt/C,EAAKjuC,EAAG4mF,EAStBt5D,EAASvxB,EAAI,GAAGwE,OAAOxE,GAAK,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAEnDJ,EAAI,EAAGqD,EAAMuuF,EAAQ1vF,OAAQlC,EAAIqD,EAAKrD,IAAK,CAClD,IAAM0I,EAASkpF,EAAQ5xF,GACvB,OAAQ0I,EAAO,IACb,IAAK,IACH+lG,GAAc98E,EAAQA,EAAQ,CAAEjpB,EAAO,GAAIA,EAAO,KAClD,MACF,IAAK,IACHmmG,GAAUl9E,EAAQA,EAAQ,CAAEjpB,EAAO,GAAIA,EAAO,KAC9C,MACF,IAAK,IACHimG,GAAWh9E,EAAQA,EAAQjpB,EAAO,IAClC,MACF,IAAK,IAvBW4pC,EAwBD3gB,EAxBMttB,EAwBEstB,EAxBCs5D,EAwBOviF,EAAO,GAvBnC2vD,KAAKiwB,SAASh2C,EAAK24C,EAAI5mF,IA8B9B,OAAOstB,EASH,SAAUgE,GAAU0nC,EAAcC,GACtC,OAAOD,EAAG,GAAKC,EAAG,GAAKA,EAAG,GAAKD,EAAG,GAS9B,SAAU0xC,GAAQ1xC,EAAsBC,EAAsB0xC,GAClE,IAAMC,EAAMhyC,KAAK5rC,MAAMgsC,EAAIC,GACrB4xC,EAAmBv5E,GAAU0nC,EAAIC,IAAO,EAC9C,OAAI0xC,EACEE,EACe,EAAVjqG,KAAK6F,GAASmkG,EAEhBA,EAGLC,EACKD,EAEQ,EAAVhqG,KAAK6F,GAASmkG,EASjB,SAAUE,GAAS78D,EAAehtC,EAAau5C,GASnD,OARIA,GACFvM,EAAI,GAAKhtC,EAAE,GACXgtC,EAAI,IAAM,EAAIhtC,EAAE,KAEhBgtC,EAAI,IAAM,EAAIhtC,EAAE,GAChBgtC,EAAI,GAAKhtC,EAAE,IAGNgtC,E,asFzGK,SAAU4qF,GAAIpsG,EAAIC,EAAIjwB,EAAGk/D,EAAYC,EAAU9hD,EAAW0D,EAAGrN,GACzE,IAAM6c,GAASpsB,KAAKsS,MAAM/C,EAAIuc,EAAIlP,EAAIiP,GAAgB,EAAV7rB,KAAK6F,KAAqB,EAAV7F,KAAK6F,IACjE,GAAIumB,EAAQ2uC,GAAc3uC,EAAQ4uC,EAChC,OAAO,EAET,IAAMxvC,EAAQ,CACZ5O,EAAGiP,EAAKhwB,EAAImE,KAAKwS,IAAI4Z,GACrB7c,EAAGuc,EAAKjwB,EAAImE,KAAKyS,IAAI2Z,IAEvB,OAAO1E,EAAS8D,EAAM5O,EAAG4O,EAAMjc,EAAGqN,EAAGrN,IAAM2J,EAAY,E7EGjD,OAAc0gG,EAAG,UAkIzB,oBACEqiB,OAjIF,SAAgB1wH,GAGd,IAFA,IAAI0wH,GAAS,EACP3nH,EAAQ/I,EAAKtO,OACVlC,EAAI,EAAGA,EAAIuZ,EAAOvZ,IAAK,CAC9B,IACMq+D,EADS7tD,EAAKxQ,GACD,GACnB,GAAY,MAARq+D,GAAuB,MAARA,GAAuB,MAARA,EAAa,CAC7C6iE,GAAS,EACT,OAGJ,OAAOA,GAuHPC,gBAxCF,SAAyB3wH,GAKvB,IAJA,IAAM+I,EAAQ/I,EAAKtO,OACbk/H,EAAW,GACXC,EAAY,GACd3wG,EAAS,GACJ1wB,EAAI,EAAGA,EAAIuZ,EAAOvZ,IAAK,CAC9B,IAAM+9D,EAASvtD,EAAKxQ,GACdq+D,EAAMN,EAAO,GACP,MAARM,GAEE3tC,EAAOxuB,SAETm/H,EAAU3+H,KAAKguB,GACfA,EAAS,IAEXA,EAAOhuB,KAAK,CAACq7D,EAAO,GAAIA,EAAO,MACd,MAARM,EACL3tC,EAAOxuB,SAETk/H,EAAS1+H,KAAKguB,GACdA,EAAS,IAIXA,EAAOhuB,KAAK,CAACq7D,EAAO,GAAIA,EAAO,KAQnC,OAHIrtC,EAAOxuB,OAAS,GAClBm/H,EAAU3+H,KAAKguB,GAEV,CACL0wG,SAAQ,EACRC,UAAS,IAOXC,gBArHF,SAAyBpnF,EAAU/7B,EAAW0D,EAAGrN,EAAGtS,GAGlD,IAFA,IAAI4xB,GAAQ,EACNssG,EAAYjiH,EAAY,EACrBne,EAAI,EAAGA,EAAIk6C,EAASh4C,OAAQlC,IAAK,CACxC,IAAMq6C,EAAUH,EAASl6C,GACjB,EAAwCq6C,EAAO,aAAjC0jB,EAA0B1jB,EAAO,OAAzB3I,EAAkB2I,EAAO,SAAf2/D,EAAQ3/D,EAAO,IAEvD,IAAI2/D,GAAQ8e,EAAM9e,EAAIn4F,EAAIu+G,EAAWpmB,EAAIxlG,EAAI4rH,EAAWpmB,EAAI7nG,MAAQgM,EAAW67F,EAAIt5F,OAASvC,EAAW0D,EAAGrN,GAA1G,CAGA,OAAQ6lC,EAAQkmB,SAEd,IAAK,IACL,IAAK,IACHzsC,EAAQqsG,GAAOzuF,EAAS,GAAIA,EAAS,GAAIyuB,EAAa,GAAIA,EAAa,GAAIhiD,EAAW0D,EAAGrN,GACzF,MACF,IAAK,IAWHsf,EAVkB2+F,IAASU,cACzBzhF,EAAS,GACTA,EAAS,GACTqsB,EAAO,GACPA,EAAO,GACPA,EAAO,GACPA,EAAO,GACPl8C,EACArN,IAEmB2J,EAAY,EACjC,MACF,IAAK,IAcH2V,EAbkB4+F,IAAUS,cAC1BzhF,EAAS,GACTA,EAAS,GACTqsB,EAAO,GACPA,EAAO,GACPA,EAAO,GACPA,EAAO,GACPA,EAAO,GACPA,EAAO,GACPl8C,EACArN,EACAtS,IAEmBic,EAAY,EACjC,MACF,IAAK,IAEH,IAAMuiD,EAAYrmB,EAAQqmB,UAClB,EAAoDA,EAAS,GAAzD3vC,EAAgD2vC,EAAS,GAArDjvC,EAA4CivC,EAAS,GAAjDhvC,EAAwCgvC,EAAS,GAA7CV,EAAoCU,EAAS,WAAjCT,EAAwBS,EAAS,SAAvBrB,EAAcqB,EAAS,UAC/D5+D,EAAI,CAAC+f,EAAGrN,EAAG,GACX1T,EAAI2wB,EAAKC,EAAKD,EAAKC,EAGnBtxB,EAAIqvB,GAAU,KAAM,CACxB,CAAC,KAAMqB,GAAKC,GACZ,CAAC,KAAMsuC,GACP,CAAC,IAAK,GALO5tC,EAAKC,EAAK,EAAID,EAAKC,GAKd,GAJLD,EAAKC,EAAKA,EAAKD,EAAK,MAMnC8vG,iBAAmBz/H,EAAGA,EAAG1B,GACzB0zB,EAAQ0tG,GAAM,EAAG,EAAG1gI,EAAGk/D,EAAYC,EAAU9hD,EAAWrc,EAAE,GAAIA,EAAE,IAKpE,GAAIgyB,EACF,OAGJ,OAAOA,IAkDJy4F,K8EpIL,SAASkV,GAAaL,EAAUv/G,EAAGrN,GAEjC,IADA,IAAIsf,GAAQ,EACH9zB,EAAI,EAAGA,EAAIohI,EAASl/H,OAAQlC,IAAK,CAGxC,GADA8zB,EAAQmtG,GADOG,EAASphI,GACI6hB,EAAGrN,GAE7B,MAGJ,OAAOsf,EAGT,IAyRegnG,GAzRf,yB,+CAuRA,OAvRmB9nH,iBACjB8nH,uCACE,IAAMl3H,EAAQw+B,YAAMs9E,gBAAev/G,KAAA,MACnC,kCACKyD,GAAK,CACRurD,YAAY,EACZC,UAAU,KAId0rE,+BAAUl3H,GACR,KAAK89H,YAAY99H,EAAM4M,MACvB,KAAK8vH,YAIPxF,kCAAav6H,EAAcU,EAAYk/G,GACrC/9E,YAAMg+E,aAAYjgH,KAAA,KAACI,EAAMU,EAAOk/G,GACnB,SAAT5/G,GACF,KAAKmhI,YAAYzgI,GAGnB,KAAKq/H,YAIPxF,iCAAYtqH,GAEV,KAAK5M,MAAM4M,KAAOuwH,aAAcvwH,GAChC,IAAM0wH,EAAS3U,GAAS2U,OAAO1wH,GAG/B,KAAKtJ,IAAI,SAAUg6H,GACnB,KAAKh6H,IAAI,cAAe,IACxB,KAAKA,IAAI,WAAY,MACrB,KAAKA,IAAI,QAAS,MAClB,KAAKA,IAAI,SAAU,MACnB,KAAKA,IAAI,cAAe,OAG1B4zH,mCACE,IAAI5gF,EAAW,KAAKr5C,IAAI,aAKxB,OAJKq5C,IACHA,EAAW24E,aAAc,KAAK9nF,KAAK,SACnC,KAAK7jC,IAAI,WAAYgzC,IAEhBA,GAGT4gF,gCACE,IAQQriF,EARF70C,EAAQ,KAAKmnC,OACX,EAAyBnnC,EAAK,WAAlBwrD,EAAaxrD,EAAK,SAElCurD,GAEFytE,EAAwB,KAAMh5H,GADxB60C,EAAU,KAAKpc,mBACwB,GAAG,GAAIoc,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAIA,EAAQ,GAAG,IAE3F2W,GAEFwtE,EAAsB,KAAMh5H,GADtB60C,EAAU,KAAKlc,iBACsB,GAAG,GAAIkc,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAIA,EAAQ,GAAG,KAI/FqiF,sCAAiBj5G,EAAGrN,EAAGmqH,EAAUD,EAAQvgH,GACvC,IAAM+7B,EAAW,KAAKgmB,cAElBpsC,GADW,KAAKjzB,IAAI,WACZ,GACZ,GAAI89H,EAAU,CACZ,IAAMz8F,EAAS,KAAKy/F,iBACpB7tG,EAAQy4F,GAAS+U,gBAAgBpnF,EAAU/7B,EAAW0D,EAAGrN,EAAG0tB,GAE9D,IAAKpO,GAAS4qG,EAAQ,CAEpB,IAAMluH,EAAO,KAAKu6B,KAAK,QACjB62F,EAAgBrV,GAAS4U,gBAAgB3wH,GAE/CsjB,EAAQ2tG,GAAaG,EAAcR,SAAUv/G,EAAGrN,IAAMitH,GAAaG,EAAcP,UAAWx/G,EAAGrN,GAEjG,OAAOsf,GAGTgnG,gCAAWpsH,GAGT+tH,EAAS,KAAM/tH,EAFD,KAAKq8B,OACC,KAAKlqC,IAAI,iBAI/Bi6H,mCAAcpsH,GACZ,IAAMiiH,EAAkB,KAAK9vH,IAAI,mBAC3B+vH,EAAgB,KAAK/vH,IAAI,iBAC3B8vH,GACFA,EAAgBvnF,KAAK16B,GAEnBkiH,GACFA,EAAcxnF,KAAK16B,IAQvBosH,sCACE,IAAMhG,EAAc,KAAKj0H,IAAI,eAC7B,OAAKmC,gBAAM8xH,IAGX,KAAK+M,kBACL,KAAKC,aACE,KAAKjhI,IAAI,gBAJPi0H,GAYXgG,8BAASzoG,GACP,IAOI0vG,EACAt/H,EARAu/H,EAAS,KAAKnhI,IAAI,UACjBmhI,IACH,KAAKH,kBACL,KAAKC,aACLE,EAAS,KAAKnhI,IAAI,WAMpB,IAAMohI,EAAQ,KAAKphI,IAAI,SACvB,IAAKmhI,GAA4B,IAAlBA,EAAO9/H,OACpB,OAAI+/H,EACK,CACLpgH,EAAGogH,EAAM,GAAG,GACZztH,EAAGytH,EAAM,GAAG,IAGT,KAET9+H,eAAK6+H,GAAQ,SAAC18H,EAAGtF,GACXqyB,GAAS/sB,EAAE,IAAM+sB,GAAS/sB,EAAE,KAC9By8H,GAAQ1vG,EAAQ/sB,EAAE,KAAOA,EAAE,GAAKA,EAAE,IAClC7C,EAAQzC,MAIZ,IAAM64C,EAAMopF,EAAMx/H,GAClB,GAAIO,gBAAM61C,IAAQ71C,gBAAMP,GACtB,OAAO,KAET,IAAMxC,EAAI44C,EAAI32C,OACRggI,EAAUD,EAAMx/H,EAAQ,GAC9B,OAAOiwH,IAAUQ,QACfr6E,EAAI54C,EAAI,GACR44C,EAAI54C,EAAI,GACRiiI,EAAQ,GACRA,EAAQ,GACRA,EAAQ,GACRA,EAAQ,GACRA,EAAQ,GACRA,EAAQ,GACRH,IAIJjH,uCACU,MAAS,KAAK/vF,OAAMv6B,KAC5B,KAAKtJ,IAAI,QAASqlH,GAASrV,YAAY1mG,KAGzCsqH,kCACE,IAIIqH,EACAC,EACAC,EACApiI,EAPA60H,EAAc,EACdwN,EAAa,EAEXN,EAAS,GAKTC,EAAQ,KAAKphI,IAAI,SAElBohI,IAIL9+H,eAAK8+H,GAAO,SAAC5nF,EAASr6C,GACpBqiI,EAAWJ,EAAMjiI,EAAI,GACrBC,EAAIo6C,EAAQn4C,OACRmgI,IACFvN,GACEpC,IAAUxwH,OACRm4C,EAAQp6C,EAAI,GACZo6C,EAAQp6C,EAAI,GACZoiI,EAAS,GACTA,EAAS,GACTA,EAAS,GACTA,EAAS,GACTA,EAAS,GACTA,EAAS,KACN,MAGX,KAAKn7H,IAAI,cAAe4tH,GAEJ,IAAhBA,GAKJ3xH,eAAK8+H,GAAO,SAAC5nF,EAASr6C,GACpBqiI,EAAWJ,EAAMjiI,EAAI,GACrBC,EAAIo6C,EAAQn4C,OACRmgI,KACFF,EAAW,IACF,GAAKG,EAAaxN,EAC3BsN,EAAW1P,IAAUxwH,OACnBm4C,EAAQp6C,EAAI,GACZo6C,EAAQp6C,EAAI,GACZoiI,EAAS,GACTA,EAAS,GACTA,EAAS,GACTA,EAAS,GACTA,EAAS,GACTA,EAAS,IAGXC,GAAcF,GAAY,EAC1BD,EAAS,GAAKG,EAAaxN,EAC3BkN,EAAOt/H,KAAKy/H,OAGhB,KAAKj7H,IAAI,SAAU86H,IA1BjB,KAAK96H,IAAI,SAAU,MAiCvB4zH,uCACE,IACIt4H,EADE03C,EAAW,KAAKgmB,cAEtB,GAAIhmB,EAASh4C,OAAS,EAAG,CACvB,IAAM64B,EAAamf,EAAS,GAAGimB,aACzBnlC,EAAWkf,EAAS,GAAGimB,aACvB1nB,EAAUyB,EAAS,GAAGsmB,aAC5Bh+D,EAAS,GACLi2C,GACFj2C,EAAOE,KAAK,CAACq4B,EAAW,GAAK0d,EAAQ,GAAI1d,EAAW,GAAK0d,EAAQ,KACjEj2C,EAAOE,KAAK,CAACq4B,EAAW,GAAIA,EAAW,OAEvCv4B,EAAOE,KAAK,CAACs4B,EAAS,GAAIA,EAAS,KACnCx4B,EAAOE,KAAK,CAACq4B,EAAW,GAAIA,EAAW,MAG3C,OAAOv4B,GAOTs4H,qCACE,IAEIt4H,EAFE03C,EAAW,KAAKgmB,cAChBh+D,EAASg4C,EAASh4C,OAExB,GAAIA,EAAS,EAAG,CACd,IAAM64B,EAAamf,EAASh4C,EAAS,GAAGi+D,aAClCnlC,EAAWkf,EAASh4C,EAAS,GAAGi+D,aAChC1nB,EAAUyB,EAASh4C,EAAS,GAAGu+D,WACrCj+D,EAAS,GACLi2C,GACFj2C,EAAOE,KAAK,CAACs4B,EAAS,GAAKyd,EAAQ,GAAIzd,EAAS,GAAKyd,EAAQ,KAC7Dj2C,EAAOE,KAAK,CAACs4B,EAAS,GAAIA,EAAS,OAEnCx4B,EAAOE,KAAK,CAACq4B,EAAW,GAAIA,EAAW,KACvCv4B,EAAOE,KAAK,CAACs4B,EAAS,GAAIA,EAAS,MAGvC,OAAOx4B,GAEX,EAvRA,CAAmBkhH,GCzBL,SAAU6e,GAAW7xG,EAAevS,EAAmB0D,EAAWrN,EAAWguH,GACzF,IAAMjpH,EAAQmX,EAAOxuB,OACrB,GAAIqX,EAAQ,EACV,OAAO,EAET,IAAK,IAAIvZ,EAAI,EAAGA,EAAIuZ,EAAQ,EAAGvZ,IAAK,CAMlC,GAAImgI,GALOzvG,EAAO1wB,GAAG,GACV0wB,EAAO1wB,GAAG,GACV0wB,EAAO1wB,EAAI,GAAG,GACd0wB,EAAO1wB,EAAI,GAAG,GAEEme,EAAW0D,EAAGrN,GACvC,OAAO,EAKX,GAAIguH,EAAS,CACX,IAAM3tG,EAAQnE,EAAO,GACf1qB,EAAO0qB,EAAOnX,EAAQ,GAC5B,GAAI4mH,GAAOtrG,EAAM,GAAIA,EAAM,GAAI7uB,EAAK,GAAIA,EAAK,GAAImY,EAAW0D,EAAGrN,GAC7D,OAAO,EAIX,OAAO,EClBT,IAgCeiuH,GAhCf,yB,+CA8BA,OA9BsBzvH,iBACpByvH,sCAAiB5gH,EAAGrN,EAAGmqH,EAAUD,EAAQvgH,GAC/B,MAAW,KAAK4sB,OAAMra,OAC1BoD,GAAQ,EAOZ,OANI6qG,IACF7qG,EAAQyuG,GAAW7xG,EAAQvS,EAAW0D,EAAGrN,GAAG,KAEzCsf,GAAS4qG,IACZ5qG,EAAQmtG,GAAYvwG,EAAQ7O,EAAGrN,IAE1Bsf,GAGT2uG,gCAAW/zH,GACT,IACMgiB,EADQ,KAAKqa,OACEra,OACrB,KAAIA,EAAOxuB,OAAS,GAApB,CAGAwM,EAAQiuH,YACR,IAAK,IAAI38H,EAAI,EAAGA,EAAI0wB,EAAOxuB,OAAQlC,IAAK,CACtC,IAAMywB,EAAQC,EAAO1wB,GACX,IAANA,EACF0O,EAAQm4C,OAAOp2B,EAAM,GAAIA,EAAM,IAE/B/hB,EAAQmuH,OAAOpsG,EAAM,GAAIA,EAAM,IAGnC/hB,EAAQyuH,cAEZ,EA9BA,CAAsBzZ,GC4MPgf,GAzMf,yB,+CAuMA,OAvMuB1vH,iBACrB0vH,uCACE,IAAM9+H,EAAQw+B,YAAMs9E,gBAAev/G,KAAA,MACnC,kCACKyD,GAAK,CACRurD,YAAY,EACZC,UAAU,KAIdszE,+BAAU9+H,GACR,KAAK08H,YAIPoC,kCAAaniI,EAAcU,EAAYk/G,GACrC/9E,YAAMg+E,aAAYjgH,KAAA,KAACI,EAAMU,EAAOk/G,GAChC,KAAKmgB,YAC6B,IAA9B,CAAC,UAAUj+H,QAAQ9B,IACrB,KAAKoiI,eAITD,mCACE,KAAKx7H,IAAI,cAAe,MACxB,KAAKA,IAAI,SAAU,OAGrBw7H,gCACE,IAAM9+H,EAAQ,KAAKmnC,OACb,EAAmC,KAAKnnC,MAAtC8sB,EAAM,SAAEy+B,EAAU,aAAEC,EAAQ,WAC9BltD,EAASwuB,EAAOxuB,OAChBozB,EAAK5E,EAAO,GAAG,GACf6E,EAAK7E,EAAO,GAAG,GACf8E,EAAK9E,EAAOxuB,EAAS,GAAG,GACxBuzB,EAAK/E,EAAOxuB,EAAS,GAAG,GAE1BitD,GACFytE,EAAwB,KAAMh5H,EAAO8sB,EAAO,GAAG,GAAIA,EAAO,GAAG,GAAI4E,EAAIC,GAEnE65B,GACFwtE,EAAsB,KAAMh5H,EAAO8sB,EAAOxuB,EAAS,GAAG,GAAIwuB,EAAOxuB,EAAS,GAAG,GAAIszB,EAAIC,IAKzFitG,8BACE,OAAO,GAGTA,sCAAiB7gH,EAAGrN,EAAGmqH,EAAUD,EAAQvgH,GAEvC,SAAKwgH,IAAaxgH,IAIXokH,GADY,KAAKx3F,OAAMra,OACJvS,EAAW0D,EAAGrN,GAAG,IAI7CkuH,gCACE,OAAO,GAGTA,gCAAWh0H,GACH,MAAmC,KAAKq8B,OAAtCra,EAAM,SAAEy+B,EAAU,aAAEC,EAAQ,WAC9BltD,EAASwuB,EAAOxuB,OACtB,KAAIwuB,EAAOxuB,OAAS,GAApB,CAGA,IAWQyqB,EAXJ2I,EAAK5E,EAAO,GAAG,GACf6E,EAAK7E,EAAO,GAAG,GACf8E,EAAK9E,EAAOxuB,EAAS,GAAG,GACxBuzB,EAAK/E,EAAOxuB,EAAS,GAAG,GAE5B,GAAIitD,GAAcA,EAAW7uD,EAE3Bg1B,IADM3I,EAAWiwG,EAA2BtnG,EAAIC,EAAI7E,EAAO,GAAG,GAAIA,EAAO,GAAG,GAAIy+B,EAAW7uD,IAC5E0wB,GACfuE,GAAM5I,EAASsE,GAEjB,GAAIm+B,GAAYA,EAAS9uD,EAEvBk1B,IADM7I,EAAWiwG,EAA2BlsG,EAAOxuB,EAAS,GAAG,GAAIwuB,EAAOxuB,EAAS,GAAG,GAAIszB,EAAIC,EAAI25B,EAAS9uD,IAC5F0wB,GACfyE,GAAM9I,EAASsE,GAGjBviB,EAAQiuH,YACRjuH,EAAQm4C,OAAOvxB,EAAIC,GACnB,IAAK,IAAIv1B,EAAI,EAAGA,EAAIkC,EAAS,EAAGlC,IAAK,CACnC,IAAMywB,EAAQC,EAAO1wB,GACrB0O,EAAQmuH,OAAOpsG,EAAM,GAAIA,EAAM,IAEjC/hB,EAAQmuH,OAAOrnG,EAAIC,KAGrBitG,mCAAch0H,GACZ,IAAMiiH,EAAkB,KAAK9vH,IAAI,mBAC3B+vH,EAAgB,KAAK/vH,IAAI,iBAC3B8vH,GACFA,EAAgBvnF,KAAK16B,GAEnBkiH,GACFA,EAAcxnF,KAAK16B,IAQvBg0H,sCACU,MAAW,KAAK33F,OAAMra,OAExBokG,EAAc,KAAKj0H,IAAI,eAC7B,OAAKmC,gBAAM8xH,IAGX,KAAK5tH,IAAI,cAAe07H,IAAa1gI,OAAOwuB,IACrC,KAAK7vB,IAAI,gBAHPi0H,GAWX4N,8BAASrwG,GACC,IAQJ0vG,EACAt/H,EATI,EAAW,KAAKsoC,OAAMra,OAE1BsxG,EAAS,KAAKnhI,IAAI,UActB,OAbKmhI,IACH,KAAKF,aACLE,EAAS,KAAKnhI,IAAI,WAKpBsC,eAAK6+H,GAAQ,SAAC18H,EAAGtF,GACXqyB,GAAS/sB,EAAE,IAAM+sB,GAAS/sB,EAAE,KAC9By8H,GAAQ1vG,EAAQ/sB,EAAE,KAAOA,EAAE,GAAKA,EAAE,IAClC7C,EAAQzC,MAGLqgI,IAASnN,QAAQxiG,EAAOjuB,GAAO,GAAIiuB,EAAOjuB,GAAO,GAAIiuB,EAAOjuB,EAAQ,GAAG,GAAIiuB,EAAOjuB,EAAQ,GAAG,GAAIs/H,IAG1GW,kCACU,MAAW,KAAK33F,OAAMra,OAC9B,GAAKA,GAA4B,IAAlBA,EAAOxuB,OAAtB,CAIA,IAAM4yH,EAAc,KAAK6M,iBACzB,KAAI7M,GAAe,GAAnB,CAIA,IAEIqN,EACAC,EAHAE,EAAa,EACXN,EAAS,GAIf7+H,eAAKutB,GAAQ,SAAC5uB,EAAG9B,GACX0wB,EAAO1wB,EAAI,MACbmiI,EAAW,IACF,GAAKG,EAAaxN,EAC3BsN,EAAW/B,IAASn+H,OAAOJ,EAAE,GAAIA,EAAE,GAAI4uB,EAAO1wB,EAAI,GAAG,GAAI0wB,EAAO1wB,EAAI,GAAG,IACvEsiI,GAAcF,EACdD,EAAS,GAAKG,EAAaxN,EAC3BkN,EAAOt/H,KAAKy/H,OAGhB,KAAKj7H,IAAI,SAAU86H,MAOrBU,uCACU,MAAW,KAAK33F,OAAMra,OACxBluB,EAAS,GAGf,OAFAA,EAAOE,KAAK,CAACguB,EAAO,GAAG,GAAIA,EAAO,GAAG,KACrCluB,EAAOE,KAAK,CAACguB,EAAO,GAAG,GAAIA,EAAO,GAAG,KAC9BluB,GAOTkgI,qCACU,MAAW,KAAK33F,OAAMra,OACxBzwB,EAAIywB,EAAOxuB,OAAS,EACpBM,EAAS,GAGf,OAFAA,EAAOE,KAAK,CAACguB,EAAOzwB,EAAI,GAAG,GAAIywB,EAAOzwB,EAAI,GAAG,KAC7CuC,EAAOE,KAAK,CAACguB,EAAOzwB,GAAG,GAAIywB,EAAOzwB,GAAG,KAC9BuC,GAEX,EAvMA,CAAuBkhH,GCDvB,IA6Eemf,GA7Ef,yB,+CA2EA,OA3EmB7vH,iBACjB6vH,uCACE,IAAMj/H,EAAQw+B,YAAMs9E,gBAAev/G,KAAA,MACnC,kCACKyD,GAAK,CACRie,EAAG,EACHrN,EAAG,EACHrC,MAAO,EACPuO,OAAQ,EACRxX,OAAQ,KAIZ25H,sCAAiBhhH,EAAGrN,EAAGmqH,EAAUD,EAAQvgH,GACvC,IAAMva,EAAQ,KAAKmnC,OACb3X,EAAOxvB,EAAMie,EACbwR,EAAOzvB,EAAM4Q,EACbrC,EAAQvO,EAAMuO,MACduO,EAAS9c,EAAM8c,OACfxX,EAAStF,EAAMsF,OAErB,GAAKA,EAaE,CACL,IAAI4qB,GAAQ,EAUZ,OATI6qG,IACF7qG,EC7CM,SAAyBV,EAAMC,EAAMlhB,EAAOuO,EAAQxX,EAAQiV,EAAW0D,EAAGrN,GAEtF,OACE2rH,GAAO/sG,EAAOlqB,EAAQmqB,EAAMD,EAAOjhB,EAAQjJ,EAAQmqB,EAAMlV,EAAW0D,EAAGrN,IACvE2rH,GAAO/sG,EAAOjhB,EAAOkhB,EAAOnqB,EAAQkqB,EAAOjhB,EAAOkhB,EAAO3S,EAASxX,EAAQiV,EAAW0D,EAAGrN,IACxF2rH,GAAO/sG,EAAOjhB,EAAQjJ,EAAQmqB,EAAO3S,EAAQ0S,EAAOlqB,EAAQmqB,EAAO3S,EAAQvC,EAAW0D,EAAGrN,IACzF2rH,GAAO/sG,EAAMC,EAAO3S,EAASxX,EAAQkqB,EAAMC,EAAOnqB,EAAQiV,EAAW0D,EAAGrN,IACxEgtH,GAAMpuG,EAAOjhB,EAAQjJ,EAAQmqB,EAAOnqB,EAAQA,EAAQ,IAAMjE,KAAK6F,GAAI,EAAI7F,KAAK6F,GAAIqT,EAAW0D,EAAGrN,IAC9FgtH,GAAMpuG,EAAOjhB,EAAQjJ,EAAQmqB,EAAO3S,EAASxX,EAAQA,EAAQ,EAAG,GAAMjE,KAAK6F,GAAIqT,EAAW0D,EAAGrN,IAC7FgtH,GAAMpuG,EAAOlqB,EAAQmqB,EAAO3S,EAASxX,EAAQA,EAAQ,GAAMjE,KAAK6F,GAAI7F,KAAK6F,GAAIqT,EAAW0D,EAAGrN,IAC3FgtH,GAAMpuG,EAAOlqB,EAAQmqB,EAAOnqB,EAAQA,EAAQjE,KAAK6F,GAAI,IAAM7F,KAAK6F,GAAIqT,EAAW0D,EAAGrN,GDmCtEsuH,CAAiB1vG,EAAMC,EAAMlhB,EAAOuO,EAAQxX,EAAQiV,EAAW0D,EAAGrN,KAIvEsf,GAAS4qG,IAEZ5qG,EAAQglG,EAAM1lG,EAAMC,EAAMlhB,EAAOuO,EAAQmB,EAAGrN,IAEvCsf,EAvBP,IAAMssG,EAAYjiH,EAAY,EAE9B,OAAIugH,GAAUC,EACL7F,EAAM1lG,EAAOgtG,EAAW/sG,EAAO+sG,EAAWjuH,EAAQiuH,EAAW1/G,EAAS0/G,EAAWv+G,EAAGrN,GAGzFkqH,EACK5F,EAAM1lG,EAAMC,EAAMlhB,EAAOuO,EAAQmB,EAAGrN,GAEzCmqH,EExCI,SAAiBvrG,EAAMC,EAAMlhB,EAAOuO,EAAQvC,EAAW0D,EAAGrN,GACtE,IAAM4rH,EAAYjiH,EAAY,EAE9B,OACE26G,EAAM1lG,EAAOgtG,EAAW/sG,EAAO+sG,EAAWjuH,EAAOgM,EAAW0D,EAAGrN,IAC/DskH,EAAM1lG,EAAOjhB,EAAQiuH,EAAW/sG,EAAO+sG,EAAWjiH,EAAWuC,EAAQmB,EAAGrN,IACxEskH,EAAM1lG,EAAOgtG,EAAW/sG,EAAO3S,EAAS0/G,EAAWjuH,EAAOgM,EAAW0D,EAAGrN,IACxEskH,EAAM1lG,EAAOgtG,EAAW/sG,EAAO+sG,EAAWjiH,EAAWuC,EAAQmB,EAAGrN,GFkCrDuuH,CAAO3vG,EAAMC,EAAMlhB,EAAOuO,EAAQvC,EAAW0D,EAAGrN,QADzD,GAkBJquH,gCAAWn0H,GACT,IAAM9K,EAAQ,KAAKmnC,OACblpB,EAAIje,EAAMie,EACVrN,EAAI5Q,EAAM4Q,EACVrC,EAAQvO,EAAMuO,MACduO,EAAS9c,EAAM8c,OACfxX,EAAStF,EAAMsF,OAGrB,GADAwF,EAAQiuH,YACO,IAAXzzH,EAEFwF,EAAQ8hB,KAAK3O,EAAGrN,EAAGrC,EAAOuO,OACrB,CACC,MjBwHN,SAAsBxX,GAC1B,IAAIC,EAAK,EACLC,EAAK,EACLC,EAAK,EACLC,EAAK,EAoBT,OAnBIpG,kBAAQgG,GACY,IAAlBA,EAAOhH,OACTiH,EAAKC,EAAKC,EAAKC,EAAKJ,EAAO,GACA,IAAlBA,EAAOhH,QAChBiH,EAAKE,EAAKH,EAAO,GACjBE,EAAKE,EAAKJ,EAAO,IACU,IAAlBA,EAAOhH,QAChBiH,EAAKD,EAAO,GACZE,EAAKE,EAAKJ,EAAO,GACjBG,EAAKH,EAAO,KAEZC,EAAKD,EAAO,GACZE,EAAKF,EAAO,GACZG,EAAKH,EAAO,GACZI,EAAKJ,EAAO,IAGdC,EAAKC,EAAKC,EAAKC,EAAKJ,EAEf,CAACC,EAAIC,EAAIC,EAAIC,GiBhJSL,CAAYC,GAA9BC,EAAE,KAAEC,EAAE,KAAEC,EAAE,KAAEC,EAAE,KACrBoF,EAAQm4C,OAAOhlC,EAAI1Y,EAAIqL,GACvB9F,EAAQmuH,OAAOh7G,EAAI1P,EAAQ/I,EAAIoL,GACxB,IAAPpL,GAAYsF,EAAQwuH,IAAIr7G,EAAI1P,EAAQ/I,EAAIoL,EAAIpL,EAAIA,GAAKnE,KAAK6F,GAAK,EAAG,GAClE4D,EAAQmuH,OAAOh7G,EAAI1P,EAAOqC,EAAIkM,EAASrX,GAChC,IAAPA,GAAYqF,EAAQwuH,IAAIr7G,EAAI1P,EAAQ9I,EAAImL,EAAIkM,EAASrX,EAAIA,EAAI,EAAGpE,KAAK6F,GAAK,GAC1E4D,EAAQmuH,OAAOh7G,EAAIvY,EAAIkL,EAAIkM,GACpB,IAAPpX,GAAYoF,EAAQwuH,IAAIr7G,EAAIvY,EAAIkL,EAAIkM,EAASpX,EAAIA,EAAIrE,KAAK6F,GAAK,EAAG7F,KAAK6F,IACvE4D,EAAQmuH,OAAOh7G,EAAGrN,EAAIrL,GACf,IAAPA,GAAYuF,EAAQwuH,IAAIr7G,EAAI1Y,EAAIqL,EAAIrL,EAAIA,EAAIlE,KAAK6F,GAAc,IAAV7F,KAAK6F,IAC1D4D,EAAQyuH,cAGd,EA3EA,CAAmBzZ,GGgJJsf,GAnJf,yB,+CAiJA,OAjJmBhwH,iBAEjBgwH,uCACE,IAAMp/H,EAAQw+B,YAAMs9E,gBAAev/G,KAAA,MACnC,kCACKyD,GAAK,CACRie,EAAG,EACHrN,EAAG,EACHjD,KAAM,KACNS,SAAU,GACVP,WAAY,aACZE,UAAW,SACXD,WAAY,SACZE,YAAa,SACbmM,UAAW,QACXC,aAAc,YAKlBglH,oCACE,OAAO,GAITA,+BAAUp/H,GACR,KAAKq/H,gBACDr/H,EAAM2N,MACR,KAAK2xH,SAASt/H,EAAM2N,OAIxByxH,qCACE,IAAMp/H,EAAQ,KAAKA,MACnBA,EAAM4N,KAAOogH,YAAahuH,IAI5Bo/H,8BAASzxH,GACP,IAAIigH,EAAU,KACV9qH,mBAAS6K,KAAiC,IAAxBA,EAAKlP,QAAQ,QACjCmvH,EAAUjgH,EAAKnJ,MAAM,OAEvB,KAAKlB,IAAI,UAAWsqH,IAItBwR,kCAAaziI,EAAcU,EAAYk/G,GACrC/9E,YAAMg+E,aAAYjgH,KAAA,KAACI,EAAMU,EAAOk/G,GAC5B5/G,EAAKmH,WAAW,SAClB,KAAKu7H,gBAEM,SAAT1iI,GACF,KAAK2iI,SAASjiI,IAUlB+hI,qCACE,IAAMp/H,EAAQ,KAAKA,MACbke,EAAale,EAAMke,WACnB9P,EAA4B,EAAjBpO,EAAMoO,SACvB,OAAO8P,EAAaA,EAAa9P,EAAsB,IAAXA,GAI9CgxH,kCAAat0H,EAAS8iH,EAASkN,GAC7B,IAOIyE,EAPEv/H,EAAQ,KAAKA,MACboa,EAAepa,EAAMoa,aACrB6D,EAAIje,EAAMie,EACVrN,EAAI5Q,EAAM4Q,EACVxC,EAA4B,EAAjBpO,EAAMoO,SACjBoxH,EAAY,KAAKC,gBACjB3iH,EAAS0wG,YAAcxtH,EAAM2N,KAAM3N,EAAMoO,SAAUpO,EAAMke,YAE/D3e,eAAKquH,GAAS,SAACC,EAAShvH,GACtB0gI,EAAO3uH,EAAI/R,GAAS2gI,EAAYpxH,GAAY0O,EAAS1O,EAChC,WAAjBgM,IAA2BmlH,GAAQziH,EAAS1O,GAAY0O,EAAS1O,GAAY,GAC5D,QAAjBgM,IAAwBmlH,GAAQziH,EAAS1O,GACzC0sH,EACFhwH,EAAQ40H,SAAS7R,EAAS5vG,EAAGshH,GAE7Bz0H,EAAQ60H,WAAW9R,EAAS5vG,EAAGshH,OAMrCH,+BAAUt0H,EAASgwH,GACjB,IAAM96H,EAAQ,KAAKmnC,OACblpB,EAAIje,EAAMie,EACVrN,EAAI5Q,EAAM4Q,EACVg9G,EAAU,KAAK3wH,IAAI,WACzB,GAAI2wH,EACF,KAAKgS,aAAa90H,EAAS8iH,EAASkN,OAC/B,CACL,IAAMntH,EAAO3N,EAAM2N,KACfmtH,EACFhwH,EAAQ40H,SAAS/xH,EAAMsQ,EAAGrN,GAE1B9F,EAAQ60H,WAAWhyH,EAAMsQ,EAAGrN,KAMlCwuH,mCAAct0H,GACN,MAAqD,KAAK9K,MAAxDua,EAAS,YAAEklC,EAAO,UAAE5hC,EAAa,gBAAED,EAAW,cAElD,KAAKm9G,YACHxgH,EAAY,IACTnb,gBAAMye,IAAoC,IAAlBA,IAC3B/S,EAAQmtH,YAAcx4E,GAExB,KAAKjlC,OAAO1P,IAIZ,KAAKgwH,WACF17H,gBAAMwe,IAAgC,IAAhBA,EAKzB,KAAK1D,KAAKpP,IAJVA,EAAQmtH,YAAcr6G,EACtB,KAAK1D,KAAKpP,GACVA,EAAQmtH,YAAcx4E,IAM1B,KAAKo7E,cAAc/vH,IAIrBs0H,0BAAKt0H,GACH,KAAK+0H,UAAU/0H,GAAS,IAI1Bs0H,4BAAOt0H,GACL,KAAK+0H,UAAU/0H,GAAS,IAE5B,EAjJA,CAAmBg1G,GCEnB,SAASggB,GAAStpG,EAAmBvY,EAAWrN,GAE9C,IAAMisG,EAAcrmF,EAAQkpF,iBAC5B,GAAI7C,EAAa,CACT,MAZV,SAA0Bn7G,EAAaqsB,GACrC,GAAIA,EAAQ,CACV,IAAMivF,EAAe5uF,YAAOL,GAC5B,OAAOitF,YAAagC,EAAct7G,GAEpC,OAAOA,EAOgB0+G,CAAiB,CAACniG,EAAGrN,EAAG,GAAIisG,GACjD,MAAO,CADI,KAAM,MAGnB,MAAO,CAAC5+F,EAAGrN,GAIb,SAASmvH,GAAQvpG,EAAmBvY,EAAWrN,GAE7C,GAAI4lB,EAAQtd,UAAYsd,EAAQtd,WAC9B,OAAO,EAIT,IAAKL,YAAe2d,KAAqC,IAAzBA,EAAQpd,IAAIw/G,SAC1C,OAAO,EAGT,GAAIpiG,EAAQpd,IAAI8jG,UAAW,CAEnB,MAAe4iB,GAAStpG,EAASvY,EAAGrN,GAAnC8L,EAAI,KAAED,EAAI,KACjB,GAAI+Z,EAAQ6pF,UAAU3jG,EAAMD,GAC1B,OAAO,EAIX,IAAM6S,EAAOkH,EAAQpd,IAAIu/G,iBAAmBniG,EAAQjH,gBAQpD,OAAMtR,GAAKqR,EAAKE,MAAQvR,GAAKqR,EAAKkB,MAAQ5f,GAAK0e,EAAKG,MAAQ7e,GAAK0e,EAAKmB,K,wBC5BxE,SAAS+4F,GAAgBv/F,EAAQ9qB,EAAMk/G,GACrCA,EAAS1hH,KAAOwC,EAChBk/G,EAASp0F,OAASA,EAClBo0F,EAASp/E,cAAgBhV,EACzBo0F,EAASU,eAAiB90F,EAC1BA,EAAO7R,KAAKjZ,EAAMk/G,GAIpB,SAASoL,GAAYzjF,EAAW7mC,EAAMk/G,GACpC,GAAIA,EAASn/E,QAAS,CAIhB8G,EAAU9sB,WAAV8sB,EAUJq4E,EAAS1hH,KAAOwC,EAChBk/G,EAASp/E,cAAgB+G,EACzBq4E,EAASU,eAAiB/4E,EAC1BA,EAAU5tB,KAAKjZ,EAAMk/G,IAIzB,IAyTesL,GAzTf,WAeE,WAAYvwG,GAAZ,WARQ,mBAAwB,KACxB,eAAoB,EAEpB,kBAAuB,KACvB,mBAAwB,KACxB,mBAAgB,KA8FxB,iBAAc,SAACgxF,GACb7+E,EAAKy0G,cAAc5nH,KAAK,gBAAgBgyF,EAAGjrG,KAAQirG,IA3FnD,KAAKhoE,OAAShpB,EAAIgpB,OAClB,KAAK69F,aAsST,OAnSEtW,kCAAA,WACE,KAAKqW,cAAgB,IAAIE,KACvB,GACA,CACEvuC,WAAY8D,gBAIhB,KAAKuqC,cAAc5pF,IAAI,IAAI8pF,KAAOpqC,IAAI,CAAEv9C,UAAW,EAAGoxC,SAAU,KAChE,KAAKq2C,cAAc5pF,IAAI,IAAI8pF,KAAOnqC,OAASlN,cAAc,KAAKm3C,cAAc/iI,IAAI,QAEhF,KAAK+iI,cAAc5pF,IAAI,IAAI8pF,KAAOlqC,MAAM,CAAEz9C,UAAW,EAAGoxC,SAAU,KAElE,KAAKq2C,cAAc5pF,IAAI,IAAI8pF,KAAOrqC,IAAI,CAAE5qE,MAAO,SAAUiiE,KAAM,KAC/D,KAAK8yC,cAAc5pF,IAAI,IAAI8pF,KAAOrqC,KAClC,KAAKmqC,cAAc5pF,IAAI,IAAI8pF,KAAOhqC,MAAM,CAAErJ,KAAM,OAEhD,KAAKmzC,cAAcloH,GAAG,qCAAqC,SAAC/T,GAC1DA,EAAEmqF,SAASwZ,MAAQ3jG,EAEnB,IAAM8lH,EAAYt+F,EAAKu+F,cAAc/lH,GAC/B6hC,EAAQra,EAAKm/F,UAAUb,EAAW9lH,GAGzB,WAAXA,EAAE5E,MAAgC,cAAX4E,EAAE5E,MAC3BosB,EAAK40G,UAAUtW,EAAWjkF,EAAO7hC,GAIpB,aAAXA,EAAE5E,OAEAosB,EAAKk5E,WACPl5E,EAAKy+F,cAAgB,KACrBz+F,EAAKk5E,UAAW,EAChBl5E,EAAK60G,cAAgB,KACrB70G,EAAK80G,cAAgB,MAEvB90G,EAAK+0G,YAAYzW,EAAWjkF,EAAO7hC,IAItB,YAAXA,EAAE5E,MACJosB,EAAKg1G,WAAW1W,EAAWjkF,EAAO7hC,GAGpCwnB,EAAKggB,aAAe3F,KAGtB,KAAKo6F,cAAcloH,GAAG,iDAAiD,SAAC/T,GACtEwnB,EAAKi1G,iBAAiBz8H,EAAE5E,KAAM4E,MAGhC,KAAKi8H,cAAcloH,GAAG,6CAA6C,SAAC/T,GACnD,aAAXA,EAAE5E,MAAkC,gBAAX4E,EAAE5E,MAK/B4E,EAAEmqF,SAASwZ,MAAQ,CACjBzvE,MAAOl0B,EAAEk0B,OAEX1M,EAAKi1G,iBAAiBz8H,EAAE5E,KAAM4E,IAP5BwnB,EAAKi1G,iBAAiBz8H,EAAE5E,KAAM4E,OAWpC4lH,sCAAiBxqH,EAAMirG,GACrB,IAAMyf,EAAY,KAAKC,cAAc1f,GAC/BxkE,EAAQ,KAAK8kF,UAAUb,EAAWzf,GACxC,KAAK2f,WAAW5qH,EAAMirG,EAAIyf,EAAWjkF,IAGvC+jF,kCAAaxqH,EAAM8rB,EAAO4B,EAAO5C,EAAQu0F,EAAWC,GAClD,IAAMJ,EAAW,IAAI1D,IAAWx7G,EAAM8rB,GAUtC,OATAozF,EAASG,UAAYA,EACrBH,EAASI,QAAUA,EACnBJ,EAASpgG,EAAI4O,EAAM5O,EACnBogG,EAASztG,EAAIic,EAAMjc,EACnBytG,EAASt/E,QAAUlS,EAAMkS,QACzBs/E,EAASr/E,QAAUnS,EAAMmS,QAEzBq/E,EAASE,gBAAgBz/G,KAAKmrB,GAEvBo0F,GASTsL,+BAAU98F,EAAO5B,GACf,IAAMm/E,EAAYn/E,EAAMijE,SACxB,OAAO,KAAK9rD,OAAOqF,SAAS5a,EAAM5O,EAAG4O,EAAMjc,EAAGw5F,IAGhDuf,mCAAcvf,GACZ,IAAMhoE,EAAS,KAAKA,OAEdmoF,EAAcnoF,EAAOooF,iBAAiBpgB,GACtCv9E,EAAQuV,EAAOqoF,gBAAgBrgB,GACrC,MAAO,CACLnsF,EAAG4O,EAAM5O,EACTrN,EAAGic,EAAMjc,EACTmuB,QAASwrF,EAAYtsG,EACrB+gB,QAASurF,EAAY35G,IAKzB+4G,mCAAcxqH,EAAMirG,GAClB,IAAMyf,EAAY,KAAKC,cAAc1f,GAE/BxkE,EAAQ,KAAK8kF,UAAUb,EAAWzf,GAClCplG,EAAS,KAAK,MAAM7F,GAC1B,GAAI6F,EACFA,EAAOzI,KAAK,KAAMstH,EAAWjkF,EAAOwkE,OAC/B,CACL,IAAMwgB,EAAW,KAAKr/E,aAET,aAATpsC,GAAgC,cAATA,GACzB,KAAK4qH,WAAW5qH,EAAMirG,EAAIyf,EAAW,KAAM,KAAMjkF,GAC7CA,GACF,KAAKmkF,WAAW5qH,EAAMirG,EAAIyf,EAAWjkF,EAAO,KAAMA,GAEvC,aAATzmC,GAAuB,KAAK6qH,eAE9B,KAAKD,WAAW,YAAa3f,EAAIyf,EAAW,OAE5B,WAAT1qH,GAA8B,cAATA,GAC1ByrH,GACF,KAAKb,WAAW5qH,EAAMirG,EAAIyf,EAAWe,EAAUA,EAAU,MAE3D,KAAKb,WAAW5qH,EAAMirG,EAAIyf,EAAW,KAAMe,EAAU,MACxC,WAATzrH,GAAqB,KAAK6qH,eAC5B,KAAKD,WAAW,YAAa3f,EAAIyf,EAAW,OAG9C,KAAKE,WAAW5qH,EAAMirG,EAAIyf,EAAWjkF,EAAO,KAAM,QAMxD+jF,iCAAYE,EAAWjkF,EAAO3a,GAC5B,KAAKm1G,cAAgBx6F,EACrB,KAAKy6F,cAAgBxW,EACrB,KAAK4W,kBAAoBx1G,EAAM8hE,UAC/B,KAAKg9B,WAAW,WAAY9+F,EAAO4+F,EAAWjkF,EAAO,KAAM,OAG7D+jF,yCAAoB1+F,EAAO4+F,EAAWrL,EAAWC,EAASwM,GACpDxM,GACEA,IAAYD,IACVA,GACF,KAAKuL,WAAW,YAAa9+F,EAAO4+F,EAAWrL,EAAWA,EAAWC,GAEvE,KAAKsL,WAAW,YAAa9+F,EAAO4+F,EAAWpL,EAASD,EAAWC,IAEhEwM,GACH,KAAKlB,WAAW,WAAY9+F,EAAO4+F,EAAWpL,IAEvCD,GAGT,KAAKuL,WAAW,YAAa9+F,EAAO4+F,EAAWrL,EAAWA,EAAWC,GAGnEwM,GACF,KAAKlB,WAAW,WAAY9+F,EAAO4+F,EAAWpL,IAKlDkL,gCAAWK,EAAeH,EAAW5+F,GAC/B++F,IACFA,EAAc1mH,IAAI,WAAW,GAC7B,KAAK0mH,cAAgB,MAEvB,KAAKvlB,UAAW,EAEhB,IAAM7+D,EAAQ,KAAK8kF,UAAUb,EAAW5+F,GACxC,KAAKsgB,aAAe3F,GAGtB+jF,+BAAUE,EAAWjkF,EAAO3a,GAC1B,IAAM++F,EAAgB,KAAKA,cACvB,KAAKvlB,WAEHulB,GACF,KAAKD,WAAW,OAAQ9+F,EAAO4+F,EAAWjkF,GAE5C,KAAKmkF,WAAW,UAAW9+F,EAAO4+F,EAAWG,GAC7C,KAAKC,WAAWD,EAAeH,EAAW5+F,IAE5C,KAAK8+F,WAAW,SAAU9+F,EAAO4+F,EAAWjkF,GAE5C,KAAKw6F,cAAgB,KACrB,KAAKC,cAAgB,MAIvB1W,gCAAWE,EAAWjkF,EAAO3a,GAC3B,IAAMmX,EAAS,KAAKA,OACdwoF,EAAW,KAAKr/E,aAClBy+E,EAAgB,KAAKA,cAEzB,GAAI,KAAKvlB,SAEHulB,GAEF,KAAKmB,oBAAoBlgG,EAAO4+F,EAAWe,EAAUhlF,GAAO,GAI9D,KAAKmkF,WAAW,OAAQ9+F,EAAO4+F,EAAWG,OACrC,CACL,IAAMqW,EAAgB,KAAKA,cAC3B,GAAIA,EAAe,CAEjB,IAAMD,EAAgB,KAAKA,cAErBhV,EADMngG,EAAM8hE,UACO,KAAK0zC,kBACxBrzG,EAAKizG,EAActhG,QAAU8qF,EAAU9qF,QACvC1R,EAAKgzG,EAAcrhG,QAAU6qF,EAAU7qF,SAEzCosF,EAAa,KADJh+F,EAAKA,EAAKC,EAAKA,EAnSf,MAqSP+yG,GAAiBA,EAAcnjI,IAAI,eAErC+sH,EAAgB,KAAKoW,eACP98H,IAAI,WAAW,GAC7B,KAAK0mH,cAAgBA,EACrB,KAAKvlB,UAAW,EAChB,KAAKslB,WAAW,YAAa9+F,EAAO4+F,EAAWG,GAE/C,KAAKoW,cAAgB,KACrB,KAAKC,cAAgB,OACXD,GAAiBh+F,EAAOnlC,IAAI,cAEtC,KAAKwnG,UAAW,EAChB,KAAKslB,WAAW,YAAa9+F,EAAO4+F,EAAW,MAE/C,KAAKuW,cAAgB,KACrB,KAAKC,cAAgB,MAErB,KAAKtW,WAAW,UAAW9+F,EAAO4+F,EAAWjkF,KAMrD,KAAKmkF,WAAW,UAAW9+F,EAAO4+F,EAAWjkF,IAI/C+jF,gCAAWxqH,EAAM8rB,EAAO4+F,EAAWjkF,EAAO44E,EAAYC,GACpD,IAAMJ,EAAW,KAAKgN,aAAalsH,EAAM8rB,EAAO4+F,EAAWjkF,EAAO44E,EAAWC,GAE7E,GAAI74E,EAAO,CACTy4E,EAASz4E,MAAQA,EAEjB4jF,GAAgB5jF,EAAOzmC,EAAMk/G,GAG7B,IAFA,IAAIvkF,EAAS8L,EAAMzsB,YAEZ2gB,GAELA,EAAOwxF,eAAensH,EAAMk/G,GAEvBA,EAASxD,oBACZ4O,GAAY3vF,EAAQ36B,EAAMk/G,GAE5BA,EAASE,gBAAgBz/G,KAAKg7B,GAC9BA,EAASA,EAAO3gB,gBAEb,CAILqwG,GAFe,KAAKpnF,OAEIjjC,EAAMk/G,KAIlCsL,+BAEE,KAAKvnF,OAAS,KACd,KAAKmJ,aAAe,KACpB,KAAKy+E,cAAgB,KACrB,KAAKqW,cAAgB,KACrB,KAAKD,cAAgB,KACrB,KAAKK,kBAAoB,MAE7B,EAvTA,G,GChDA,yBA+CA,OA9CEC,yBAAI7gI,EAAQkD,EAAc1F,GACxB,OAAQ0F,GACN,IAAK,cACHlD,EAAG,eAAmBxC,GACtB,MACF,IAAK,YACHwC,EAAG,aAAiBxC,GACpB,MACF,IAAK,YACHwC,EAAG,aAAiBxC,GACpB,MACF,IAAK,WACHwC,EAAG,YAAgBxC,GACnB,MACF,IAAK,eACCA,GAAmB,IAAVA,KACXwC,EAAG,YAAkBxC,EACrBwC,EAAG,eAAmBxC,IAExB,MACF,IAAK,WACHwC,EAAG,YAAgBxC,GACnB,MACF,IAAK,YACHwC,EAAG,aAAiBxC,GACpB,MACF,IAAK,YACL,IAAK,OACHwC,EAAG,QAAYxC,GACf,MACF,IAAK,eACHwC,EAAG,gBAAoBxC,GACvB,MACF,QACEwC,EAAIkD,GAAQ1F,EAEhB,OAAO,GAGTqjI,yBAAI7gI,EAAQkD,GACV,MAAa,gBAATA,QAAwCkF,IAAdpI,EAAIkD,GAA4B,EACrC,mBAAdlD,EAAIkD,GACNlD,EAAIkD,GAAMnF,KAAKiC,GAEjBA,EAAIkD,IAEf,EA/CA,G,SCCI+H,GAAU,KAkCA,gBAAW86B,GACvB,IAAM5lC,EAAQ4lC,EAAMuB,OACZ,EAAqCnnC,EAAK,EAAvC4Q,EAAkC5Q,EAAK,EAApC2N,EAA+B3N,EAAK,KAA9BoO,EAAyBpO,EAAK,SAApBke,EAAele,EAAK,WAC9C4N,EAAO5N,EAAM4N,KACZA,IAEHA,EAAOogH,wBAAahuH,IAEtB,IACIsvB,EADE/gB,EA/BR,SAAsBZ,EAAcC,GAClC,IAAIW,EAAQ,EAEZ,GAAInP,gBAAMuO,IAAkB,KAATA,EACjB,OAAOY,EAIT,GAFAzD,GAAQ86C,OACR96C,GAAQ8C,KAAOA,EACX9K,mBAAS6K,IAASA,EAAKb,SAAS,MAAO,CACzC,IAAM8gH,EAAUjgH,EAAKnJ,MAAM,MAC3BjF,eAAKquH,GAAS,SAACC,GACb,IAAMC,EAAehjH,GAAQwD,YAAYu/G,GAASt/G,MAC9CA,EAAQu/G,IACVv/G,EAAQu/G,WAIZv/G,EAAQzD,GAAQwD,YAAYX,GAAMY,MAGpC,OADAzD,GAAQijH,UACDx/G,EAWOo/G,CAAahgH,EAAMC,GAEjC,GAAKW,EAQE,CACG,MAA4BvO,EAAK,UAAtBoa,EAAiBpa,EAAK,aACnC8c,EAAS0wG,yBAAc7/G,EAAMS,EAAU8P,GAEvC2O,EAAQ,CACZ5O,EAAC,EACDrN,EAAGA,EAAIkM,GAEL3C,IACgB,QAAdA,GAAqC,UAAdA,EACzB0S,EAAM5O,GAAK1P,EACY,WAAd4L,IACT0S,EAAM5O,GAAK1P,EAAQ,IAGnB6L,IACmB,QAAjBA,EACFyS,EAAMjc,GAAKkM,EACe,WAAjB1C,IACTyS,EAAMjc,GAAKkM,EAAS,IAIxBwS,EAAO,CACLrR,EAAG4O,EAAM5O,EACTrN,EAAGic,EAAMjc,EACTrC,MAAK,EACLuO,OAAM,QAjCRwS,EAAO,CACLrR,EAAC,EACDrN,EAAC,EACDrC,MAAO,EACPuO,OAAQ,GAgCZ,OAAOwS,GCnFM,YAACxkB,GDIdA,GCHmBA,EACnB61H,YAAa,OAAQhzH,KCFR,YAAC7C,EAAmCs3B,InBM7C,SAAwBA,GAC5Bs5F,EAAat5F,EmBNbw+F,CAAcx+F,GACd9S,GAAKxkB,ICyYQ2gH,GAjYf,YACE,WAAYryG,GAAZ,I5BT+BgpB,E4BS/B,EACE5D,YAAMplB,IAAI,KAEJ3L,EAAM8d,EAAKtuB,IAAI,W,OAEjBsuB,EAAKswG,WACHtwG,EAAKuwG,qB5BfkB,KAAA15F,E4BiBR7W,EAAKtuB,IAAI,gB5BjBDmlC,MAC/BA,EAASA,G4BmBH7W,EAAKjoB,IAAI,UAAW,IAAIkmF,MAAM/7E,EAAK,IAAIozH,KAIzCC,GAAUrzH,EAAK8d,I,EA+WrB,OA/XqBnc,iBAoBnBq8G,oCACE,MAAgC,gBAAzB,KAAKxuH,IAAI,aAGlBwuH,8BACE,OAAO,KAAKxuH,IAAI,YAAY6G,WAAW,SAGlC2nH,0BAAP,WACE,IAAMryG,EAAMolB,YAAM/T,cAAaluB,KAAA,MAqB/B,OAnBA6c,EAAG,SAAe,SAElBA,EAAG,UAAe,EAElBA,EAAG,cAAmB,EACtBA,EAAG,gBAAsB,GAEzBA,EAAG,UAAe,EAElBA,EAAG,UAAe,EAElBA,EAAG,mBAAyB,CAC1B7K,MAAO,EACPuO,OAAQ,EACRmV,KAAM,EACND,IAAK,EACLE,OAAQ,EACRC,MAAO,GAEF/Y,GAOTqyG,kCACE,IAAMO,EAAkB,IAAIrC,GAAgB,CAC1CvnF,OAAQ,OAEV,KAAK9+B,IAAI,kBAAmB0oH,IAGvBP,kCAAP,SAA6B1nH,GACH,KAAK9G,IAAI,mBACjB8jI,YAAYh9H,IAO9B0nH,mCAC0B,KAAKxuH,IAAI,mBACjBshC,WAOlBktF,oCAAetP,GAOM,SAAfA,GAAwC,SAAfA,GAAwC,eAAfA,IACpD,KAAK74G,IAAI,kBAAmB,CAAC,OAC7B,KAAKkiC,SAITimF,oCACE,OAAOvjF,GAGTujF,oCACE,OAAOuO,GAKTvO,qCACE,IAAMuV,EAAa,KAAK/jI,IAAI,gB1FtHL,YAAlB,oBAAOoM,OAAP,cAAOA,UAAuBA,OAAO43H,iBAAmB53H,OAAO43H,iBAAmB,G0FwHvF,OAAOD,GAAc,EAAI3/H,KAAKu+B,KAAKohG,GAAc,GAGnDvV,oCACE,MAAO,CACLj8F,KAAM,EACNC,KAAM,EACNe,KAAM,KAAKpX,IAAI7K,MACfkiB,KAAM,KAAKrX,IAAI0D,SAInB2uG,+BACE,GAAI,KAAKoQ,SAAT,CACE,IAAM/wH,EAAU,KAAK7N,IAAI,WACnB+jI,EAAa,KAAKE,gBAEpBF,EAAa,GACfl2H,EAAQmtB,MAAM+oG,EAAYA,QAI9BxiG,YAAMmtF,QAAOpvH,KAAA,OAIfkvH,iCACE,IAAMj1F,EAAUvoB,SAASC,cAAc,UACjCpD,EAAU0rB,EAAQroB,WAAW,MAGnC,OADA,KAAK7K,IAAI,UAAWwH,GACb0rB,GAGTi1F,gCAAWl9G,EAAeuO,GACxB0hB,YAAMutF,WAAUxvH,KAAA,KAACgS,EAAOuO,GACxB,IAAMhS,EAAU,KAAK7N,IAAI,WACnBktH,EAAK,KAAKltH,IAAI,MACd+jI,EAAa,KAAKE,gBACxB/W,EAAG57G,MAAQyyH,EAAazyH,EACxB47G,EAAGrtG,OAASkkH,EAAalkH,EAErBkkH,EAAa,GACfl2H,EAAQmtB,MAAM+oG,EAAYA,IAK9BvV,6BACEjtF,YAAM0L,MAAK3tC,KAAA,MACX,KAAK4kI,cACW,KAAKlkI,IAAI,WACjBmkI,UAAU,EAAG,EAAG,KAAKnkI,IAAI,SAAU,KAAKA,IAAI,YAGtDwuH,8BAASxtG,EAAWrN,GAOlB,OALI,KAAK3T,IAAI,YN3HX,SAAUwqC,EAASzB,EAAuB/nB,EAAWrN,GAEzD,IAAKmvH,GAAQ/5F,EAAW/nB,EAAGrN,GACzB,OAAO,KAKT,IAHA,IAAIg1B,EAAQ,KACNvb,EAAW2b,EAAUoK,cAElBh0C,EADKiuB,EAAS/rB,OACF,EAAGlC,GAAK,EAAGA,IAAK,CACnC,IAAMm+B,EAAQlQ,EAASjuB,GACvB,GAAIm+B,EAAMokF,UACR/4E,EAAQ6B,EAASlN,EAAiBtc,EAAGrN,QAChC,GAAImvH,GAAQxlG,EAAOtc,EAAGrN,GAAI,CAC/B,IAAMywH,EAAW9mG,EACX,EAAeulG,GAASvlG,EAAOtc,EAAGrN,GAAjC8L,EAAI,KAAED,EAAI,KAEb4kH,EAASjU,UAAU1wG,EAAMD,KAC3BmpB,EAAQrL,GAGZ,GAAIqL,EACF,MAGJ,OAAOA,EMoGK6B,CAAS,KAAMxpB,EAAGrN,GAElB4tB,YAAMiJ,SAAQlrC,KAAA,KAAC0hB,EAAGrN,EAAG,OAKjC66G,yCACE,IAEI0M,EAFE34H,EAAW,KAAKvC,IAAI,mBACpBqkI,EAAa,KAAKlH,eAGpB56H,EAASlB,QAAUkB,EAAS,KAAO,KACrC24H,EAASmJ,GAETnJ,ExB+FA,SAA0B34H,GAC9B,IAAKA,EAASlB,OACZ,OAAO,KAET,IAAMijI,EAAU,GACVC,EAAU,GACVC,EAAU,GACVC,EAAU,GAUhB,OATAniI,eAAKC,GAAU,SAAC2qH,GACd,IAAMgO,EAASuB,EAAiBvP,GAC5BgO,IACFoJ,EAAQziI,KAAKq5H,EAAO3oG,MACpBgyG,EAAQ1iI,KAAKq5H,EAAO1oG,MACpBgyG,EAAQ3iI,KAAKq5H,EAAO3nG,MACpBkxG,EAAQ5iI,KAAKq5H,EAAO1nG,UAGjB,CACLjB,KAAMnuB,KAAKE,IAAIkC,MAAM,KAAM89H,GAC3B9xG,KAAMpuB,KAAKE,IAAIkC,MAAM,KAAM+9H,GAC3BhxG,KAAMnvB,KAAKC,IAAImC,MAAM,KAAMg+H,GAC3BhxG,KAAMpvB,KAAKC,IAAImC,MAAM,KAAMi+H,IwBpHhBC,CAAgBniI,MAEvB24H,EAAO3oG,KAAOnuB,KAAKqS,MAAMykH,EAAO3oG,MAChC2oG,EAAO1oG,KAAOpuB,KAAKqS,MAAMykH,EAAO1oG,MAChC0oG,EAAO3nG,KAAOnvB,KAAKu+B,KAAKu4F,EAAO3nG,MAC/B2nG,EAAO1nG,KAAOpvB,KAAKu+B,KAAKu4F,EAAO1nG,MAC/B0nG,EAAO1nG,MAAQ,EACE,KAAKxzB,IAAI,cAGxBk7H,ExB8GJ,SAAoBA,EAAQmJ,GAChC,OAAKnJ,GAAWmJ,GAIXnM,EAAcgD,EAAQmJ,GAGpB,CACL9xG,KAAMnuB,KAAKC,IAAI62H,EAAO3oG,KAAM8xG,EAAW9xG,MACvCC,KAAMpuB,KAAKC,IAAI62H,EAAO1oG,KAAM6xG,EAAW7xG,MACvCe,KAAMnvB,KAAKE,IAAI42H,EAAO3nG,KAAM8wG,EAAW9wG,MACvCC,KAAMpvB,KAAKE,IAAI42H,EAAO1nG,KAAM6wG,EAAW7wG,OAVhC,KwBhHQmxG,CAAUzJ,EAAQmJ,KAIjC,OAAOnJ,GAIT1M,mCACE,IAAMoW,EAAY,KAAK5kI,IAAI,aACvB4kI,IAEF5M,EAAoB4M,GACpB,KAAKv+H,IAAI,YAAa,MACtB,KAAKA,IAAI,kBAAmB,MAKhCmoH,4BACE,IAAMoW,EAAY,KAAK5kI,IAAI,aACvB,KAAKA,IAAI,aAAe4kI,GAG5B,KAAKC,cAIPrW,kCAAA,I5B/N6BnpH,E4B+N7B,OACMu/H,EAAY,KAAK5kI,IAAI,aACpB4kI,I5BjOsBv/H,E4BkOS,WAC5BipB,EAAKtuB,IAAI,gBACXsuB,EAAKw2G,cAELx2G,EAAKy2G,WAGP/M,EAAoB4M,GACpBt2G,EAAKjoB,IAAI,YAAa,OARxBu+H,G5BjOAz/F,aAAM,EAAN,EAAQh5B,uBACHg5B,EAAOh5B,sBAAsB9G,IAGlB,YAAlB,oBAAO+G,OAAP,cAAOA,UAAuBA,OAAOD,sBACjCC,OAAOD,sBACP,SAACK,GACC,OAAOC,WAAWD,EAAG,MAEfnH,G4BkOV,KAAKgB,IAAI,YAAau+H,KAK1BpW,mCACE,IAAM3gH,EAAU,KAAK7N,IAAI,WACnBq7H,EAAkB,KAAKr7H,IAAI,mBAC3BotB,EAAW,KAAK+lB,cAChB+nF,EAAS,KAAK8J,oBAGhB9J,GAEFrtH,EAAQs2H,UAAUjJ,EAAO3oG,KAAM2oG,EAAO1oG,KAAM0oG,EAAO3nG,KAAO2nG,EAAO3oG,KAAM2oG,EAAO1nG,KAAO0nG,EAAO1oG,MAE5F3kB,EAAQ86C,OACR96C,EAAQiuH,YACRjuH,EAAQ8hB,KAAKurG,EAAO3oG,KAAM2oG,EAAO1oG,KAAM0oG,EAAO3nG,KAAO2nG,EAAO3oG,KAAM2oG,EAAO1nG,KAAO0nG,EAAO1oG,MACvF3kB,EAAQmoD,OACR8kE,EAAoBjtH,EAAS,MAE7ButH,EAAa,KAAMhuG,EAAU8tG,GAE7BD,EAAaptH,EAASuf,EAAU8tG,GAChCrtH,EAAQijH,WACCuK,EAAgBh6H,QxBxKzB,SAAU4jI,EAAa1iI,GAC3B,IAAK,IAAIpD,EAAI,EAAGA,EAAIoD,EAASlB,OAAQlC,IAAK,CACxC,IAAM+tH,EAAK3qH,EAASpD,GACpB+tH,EAAG/wG,IAAIq/G,YAAa,EAEhBtO,EAAGxL,YAAcwL,EAAGrtF,WACtBolG,EAAa/X,EAAG/wG,IAAIiR,WwBwKpB63G,CAAa5J,GAEf/4H,eAAK+4H,GAAiB,SAAC9hG,GACjBA,EAAQv5B,IAAI,eAGdu5B,EAAQlzB,IAAI,cAAc,MAI1B,KAAKu4H,WAAa,KAAKC,gBACzBhxH,EAAQ06B,MAAK,GAEf,KAAKliC,IAAI,kBAAmB,KAI9BmoH,gCACE,IAAM3gH,EAAU,KAAK7N,IAAI,WACnBotB,EAAW,KAAK+lB,cACtBtlC,EAAQs2H,UAAU,EAAG,EAAG,KAAKnkI,IAAI,SAAU,KAAKA,IAAI,WACpD86H,EAAoBjtH,EAAS,MAC7BotH,EAAaptH,EAASuf,GAElB,KAAKwxG,WAAa,KAAKC,gBACzBhxH,EAAQ06B,MAAK,GAIf,KAAKliC,IAAI,kBAAmB,KAG9BmoH,kCAMAA,oCAAej1F,GACW,KAAKv5B,IAAI,mBACjB6B,KAAK03B,IAOvBi1F,qCAAgBrhB,GACd,GAAI,KAAKyxB,SAAU,CACX,MAA6B,KAAKrR,iBAAiBpgB,GAA9CrrE,EAAO,IAAKC,EAAO,IAC9B,OAAO,KAAKiD,iBAAiBlD,EAASC,GAGxC,OAAOR,YAAMisF,gBAAeluH,KAAA,KAAC6tG,IAI/BqhB,sCAAiBxgG,GAEf,IAAMm/E,EAAYn/E,EAAMijE,SAEpBi+B,EAAa,KAQjB,OAPK/hB,EAAkBhZ,UAEnB+6B,EADc,aAAZ/hB,EAAGjrG,KACSirG,EAAkB9Y,eAAe,GAEjC8Y,EAAkBhZ,QAAQ,IAGvC+6B,EAGE,CACLluG,EAAGkuG,EAAWptF,QACdnuB,EAAGu7G,EAAWntF,SAJP,IASXysF,sCAAiB1sF,EAAiBC,GAChC,GAAI,KAAK68F,SAAU,CACjB,IAAMjvG,EAAO,KAAK3vB,IAAI,sBACtB,MAAO,CACLghB,EAAG8gB,EAAUnS,EAAKqF,KAClBrhB,EAAGouB,EAAUpS,EAAKoF,KAItB,IACM1C,EADK,KAAKryB,IAAI,MACJmvH,wBAChB,MAAO,CACLnuG,EAAG8gB,EAAUzP,EAAK2C,KAClBrhB,EAAGouB,EAAU1P,EAAK0C,MAItBy5F,iCACO,KAAKoQ,UACRr9F,YAAM8tF,UAAS/vH,KAAA,OAKnBkvH,sCAAiBxtG,EAAWrN,GAC1B,GAAI,KAAKirH,SAAU,CAEjB,IAAMjvG,EAAO,KAAK3vB,IAAI,sBACtB,MAAO,CACLghB,EAAGA,EAAI2O,EAAKqF,KACZrhB,EAAGA,EAAIgc,EAAKoF,KAGhB,IACM1C,EADK,KAAKryB,IAAI,MACJmvH,wBAChB,MAAO,CACLnuG,EAAGA,EAAIqR,EAAK2C,KACZrhB,EAAGA,EAAI0e,EAAK0C,MAGlB,EA/XA,CAAqBmwG,K,qBCRbt+B,GAAkC,KAAI,WAA1B1kE,GAAsB,KAAI,kB,GAI9C,YAWE,WAAYpU,GAAZ,MACE,YAAMA,IAAM,K,OAXJ,EAAAq3G,aAAsB,GAItB,EAAA39B,UAAoB,EAEpB,EAAAh3D,QAAuB,KAM/B,EAAK1iB,MAAQA,EACb,EAAK+R,WAAY,E,EAkLrB,OAhM6C,iBAkBjC,YAAAk7B,WAAV,WACQ,IAAEjtC,EAA6B/uB,KAAxB,MACPomC,GAD+BpmC,KAAtBomI,aACSr3G,EAAM9tB,IAAI,WAClCjB,KAAKqmI,cAAgB,uBAAarmI,KAAM,kBACxComC,EAAOnqB,IAAI,KAAKH,GAAG,IAAK9b,KAAKqmI,gBAIhB,EAAAC,YAAf,SAA6C18F,GAC3C,KAAOA,IAAUA,EAAM3oC,IAAI,SACzB2oC,EAAQA,EAAM3oC,IAAI,UAEpB,OAAO2oC,GAOC,YAAA28F,eAAV,SAAyBj9B,GACf,IAAAv6E,EAAU/uB,KAAI,MAChBomC,EAASrX,EAAM9tB,IAAI,UACjBgtB,EAAWq7E,EAAG,OAChB1b,EAAY0b,EAAInmG,KAOtBmmG,EAAI5mE,QAAU4mE,EAAIrnF,EAClBqnF,EAAI3mE,QAAU2mE,EAAI10F,EAClB,IAAIic,EAAQ,CAAE5O,EAAGqnF,EAAI5mE,QAAS9tB,EAAG00F,EAAI3mE,SAGjC5Q,EADkBhD,EAAM9tB,IAAI,SACLoyB,YAe3B,GAbKtB,IACHA,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGhCoR,GAAkBpR,KACpBlB,EAAQ9B,EAAMkX,iBAAiBqjE,EAAIvmE,QAASumE,EAAItmE,UAGlDsmE,EAAIrnF,EAAI4O,EAAM5O,EACdqnF,EAAI10F,EAAIic,EAAMjc,EAEd00F,EAAIrmE,cAAgBlU,EAEhBd,IAAWmY,EASb,MARkB,YAAdwnD,GACF5tF,KAAKwmI,gBAAgBl9B,EAAK,UAE5BA,EAAIr7E,OAASmY,EACbkjE,EAAIliG,KAAO,KAEX2nB,EAAM3S,KAAKwxE,EAAW0b,QACtBv6E,EAAM3S,KAAK,UAAUwxE,EAAa0b,GAIpC,IAAMm9B,EAAoB9Y,EAAgB2Y,YAAYr4G,GACtD,GAAKw4G,EAAL,CAKA,IAAMr/H,EAAOq/H,EAAUxlI,IAAI,QAC3B,IAAImG,EAAK05B,UAAT,CAIA,IAAM39B,EAAOiE,EAAKiF,UAKlB,GAFAi9F,EAAIr7E,OAASA,EACbq7E,EAAIliG,KAAOA,EACPkiG,EAAI5mE,UAAY4mE,EAAIrnF,GAAKqnF,EAAI3mE,UAAY2mE,EAAI10F,EAAG,CAClD,IAAMsxB,EAAcnX,EAAMsX,iBAAiBijE,EAAIrnF,EAAGqnF,EAAI10F,GACtD00F,EAAI5mE,QAAUwD,EAAYjkB,EAC1BqnF,EAAI3mE,QAAUuD,EAAYtxB,EAG5Bma,EAAM3S,KAAKwxE,EAAW0b,GAClBA,EAAI3oG,OAAS2oG,EAAI3oG,KAAKmQ,SAAS,KACjCie,EAAM3S,KAAQjZ,EAAI,IAAIyqF,EAAa0b,GAEnCv6E,EAAM3S,KAAKktF,EAAI3oG,KAAM2oG,GAGL,cAAd1b,IACF5tF,KAAKyoG,UAAW,GAEA,YAAd7a,IACF5tF,KAAKyoG,UAAW,GAEA,YAAd7a,GACF5tF,KAAKwmI,gBAAgBl9B,EAAKnmG,SAlC1B4rB,EAAM3S,KAAKwxE,EAAW0b,IA0ChB,YAAAo9B,eAAV,SAAyBp9B,GACvBtpG,KAAK+uB,MAAM3S,KAAKktF,EAAInmG,KAAMmmG,IASpB,YAAAq9B,gBAAR,SAAwBjpG,EAAkBkwD,EAAmB0b,GAC3DA,EAAInmG,KAAOyqF,EACX5tF,KAAK+uB,MAAM3S,KAAQshB,EAAQ,IAAIkwD,EAAa0b,IAGvC,YAAA/mE,QAAP,WACQ,IAAExT,EAAuC/uB,KAAlC,MAAEqmI,EAAgCrmI,KAAnB,cAAEomI,EAAiBpmI,KAAL,aAClB+uB,EAAM9tB,IAAI,UAM3Bgb,IAAI,IAAKoqH,GAEhB,eAAKD,GAAc,SAACn3G,GAClBA,EAAMzoB,YAGRxG,KAAKyoG,UAAW,EAChBzoG,KAAKyxC,QAAU,KACfzxC,KAAKomI,aAAa9jI,OAAS,EAC1BtC,KAAKqmI,cAA+B,KACrCrmI,KAAK8gC,WAAY,GAQX,YAAA0lG,gBAAR,SAAwBl9B,EAAoBnmG,GACpC,IAAE4rB,EAAmB/uB,KAAd,MAAEyxC,EAAYzxC,KAAL,QAChBomC,EAAkBrX,EAAM9tB,IAAI,UAC5BmG,EAAQkiG,EAAIr7E,SAAmBmY,EAAS,KAAOkjE,EAAIliG,KAEzDkiG,EAAMzB,GAAWyB,GAGb73D,GAAWA,IAAYrqC,IAASqqC,EAAQ3Q,YAC1CwoE,EAAIliG,KAAOqqC,EACXzxC,KAAK2mI,gBAAgBl1F,EAAQplC,UAAW,aAAci9F,GAClDtpG,KAAKyoG,UACPzoG,KAAK2mI,gBAAgBl1F,EAAQplC,UAAW,YAAai9F,IAKrDliG,GAAQqqC,IAAYrqC,IACtBkiG,EAAIliG,KAAOA,EACXpH,KAAK2mI,gBAAgBxjI,EAAM,aAAcmmG,GACrCtpG,KAAKyoG,UACPzoG,KAAK2mI,gBAAgBxjI,EAAM,YAAammG,IAI5CtpG,KAAKyxC,QAAUrqC,GAEnB,EAhMA,CAA6C,M,SCHvCw/H,GAAyB,CAAC,QAAS,OAAQ,Y,GACjD,YAKE,WAAY73G,GAAZ,MACE,YAAMA,IAAM,K,OACZ,EAAKA,MAAQA,EACb,EAAKi9B,UAAYj9B,EAAM9tB,IAAI,WAAa,GACxC,EAAK03D,WAAa,EAAK1O,gB,EA4P3B,OArQ8C,iBAarC,YAAAkC,gBAAP,SAAuB/uC,GAAvB,WACU2R,EAAyB/uB,KAApB,MAAE44D,EAAkB54D,KAAL,cACtBgsD,EAAY,cAAI,GAAIhsD,KAAKgsD,UAAW5uC,GAG1C,GAFApd,KAAKgsD,UAAYA,EAEZ4M,aAAa,EAAbA,EAAet2D,OAApB,CAIAtC,KAAK6E,KAAO7E,KAAKm5D,mBAEjBpqC,EAAM3S,KAAK,gBAEX,IAAIm+C,EAAQtmD,QAAQC,UACS,IAAzB0kD,EAAct2D,OAChBi4D,EAAQA,EAAM9lD,MAAK,WAAM,SAAKoyH,mBAAmBjuE,EAAc,GAAI5M,MAEnE4M,WAAenoD,SAAQ,SAAC87C,EAAc1pD,GACpC,IAAM23D,EAAaxO,EAAU+M,MAAMl2D,GACnC03D,EAAQA,EAAM9lD,MAAK,WAAM,SAAKoyH,mBAAmBt6E,EAAciO,SAGnEx6D,KAAK6E,KAAO7E,KAAKm5D,mBAEjBoB,EACG9lD,MAAK,WACAu3C,EAAUyO,gBAAgBzO,EAAUyO,oBAEzCC,OAAM,SAACv6B,GACN7lB,QAAQC,KAAK,gBAAiB4lB,WAvBhCngC,KAAKspD,UA+BF,YAAAA,OAAP,SAAcw9E,GAAd,WACU/3G,EAAU/uB,KAAI,MAEtBA,KAAK6E,KAAO7E,KAAKm5D,mBACX,MAAyBn5D,KAAK6E,KAA5BqpB,EAAK,QAAEkrC,EAAW,cAE1B,IAAKlrC,EACH,OAAO,EAET,IAAM3b,EAAQwc,EAAM9tB,IAAI,SAClB6f,EAASiO,EAAM9tB,IAAI,UACnB+qD,EAAiB,GACvBlrD,OAAO0S,OACLw4C,EACA,CACEz5C,MAAK,EACLuO,OAAM,EACNiQ,OAAQ,CAACxe,EAAQ,EAAGuO,EAAS,IAE/B9gB,KAAKgsD,WAEPhsD,KAAKgsD,UAAYA,EAEjBhsD,KAAKk5D,uBAELnqC,EAAM3S,KAAK,gBACXpc,KAAKs6D,cAActO,EAAUj7B,OAAQ7C,GAErCluB,KAAKs6D,cAActO,EAAUj7B,OAAQqoC,GAG7B,IAAAW,EAA4C/N,EAAS,YAAxC+6E,EAA+B/6E,EAAS,mBAApBg7E,EAAWh7E,EAAS,OAExD+6E,IACH/6E,EAAU+6E,oBAAqB,EAE/B/6E,EAAUyO,eAAiB,0D,mEAErBV,GACFA,IAIF/5D,KAAKi5D,gBAGD+tE,GAAUh7E,EAAU+M,MACtB,GAAM/4D,KAAKinI,eAAejnI,KAAK6E,KAAMmiI,IADnC,M,OACF,SACAhnI,KAAKi5D,gB,wBAIPlqC,EAAM3S,KAAK,e,aAIf,IAAIm+C,EAAQtmD,QAAQC,UAqBpB,OApBI83C,EAAU7oD,KACZo3D,EAAQA,EAAM9lD,MAAK,WAAM,SAAKyyH,iBAAiBl7E,EAAW,MACjDA,EAAU+M,OACnB/M,EAAU+M,MAAMtoD,SAAQ,SAAC2M,EAAKva,GAC5B03D,EAAQA,EAAM9lD,MAAK,WAAM,SAAKyyH,iBAAiB9pH,EAAKva,SAKxD03D,EACG9lD,MAAK,WACAu3C,EAAUyO,gBAAgBzO,EAAUyO,iBAGpCqsE,GAASA,OAEdpsE,OAAM,SAACv6B,GACN7lB,QAAQC,KAAK,uBAAwB4lB,OAGlC,GAGD,YAAA+mG,iBAAR,SAAyBl7E,EAAWm7E,GAApC,WACE,OAAO,IAAIlzH,SAAQ,SAAC6lD,EAAS3lD,GACnB,IAAA4a,EAAU,EAAI,MAChB4pC,EAAa3M,EAAU7oD,KAS7B,GANA6oD,EAAU+N,YAAc,WACtBhrC,EAAM3S,KAAK,iBAAkB,CAAEjZ,KAAMw1D,IACrCmB,KAG6B,UAAfnB,GAAyC,YAAfA,GAA2C,WAAfA,EACzD,CACH,MAAW3M,EAAS,OACtBo7E,EAAO,WACP,GACF,IAEFr4G,EAAMw6B,oBAERyC,EAAUo7E,KAAOA,MACW,eAAnBp7E,EAAU7oD,OACnB6oD,EAAUrV,WAAa5nB,EAAM9tB,IAAI,eAGnC,IACIsrD,EAEJ,IACEA,EAAe,IAAI,KAAOP,GAC1B,MAAOjkD,GACPuS,QAAQC,KAAK,uBAAuBo+C,EAAU,8CAC9CxkD,IAKF,GADao4C,EAAa86E,WACV,CACN,MAAWr7E,EAAS,OACtBo7E,EAAO,WACP,GACF,IAEFr4G,EAAMw6B,oBAERgD,EAAa66E,KAAOA,EAEtB,IAAME,EAAa,EAAK3sE,iBAAiB,EAAK91D,KAAMmnD,IAsF1D,SAAwBnnD,EAAMsiI,G,MAC5B,KAAgB,QAAZ,EAACtiI,aAAI,EAAJA,EAAMqpB,aAAK,eAAE5rB,QAChB,OAEgBuC,EAAI,MAChB4L,SAAQ,SAACqiB,GACbA,EAAKsoC,YAAc+rE,KA3FjBI,CAAeD,EAAYH,GAC3B56E,EAAahmD,KAAK+gI,GAGlBv4G,EAAM3S,KAAK,kBAAmB,CAAEjZ,KAAMw1D,IACtCpM,EAAa4N,UACT5N,EAAa6N,gBAAkBpO,EAAU+N,aAAa/N,EAAU+N,cACpE,EAAKnB,cAAc91D,KAAKypD,OAIpB,YAAAs6E,mBAAR,SAA2Bt6E,EAAcP,GAAzC,WACE,OAAO,IAAI/3C,SAAQ,SAAC6lD,EAAS3lD,GACnB,IAAA4a,EAAU,EAAI,MAChB4pC,EAAa3M,aAAS,EAATA,EAAW7oD,KAG9B6oD,EAAU+N,YAAc,WACtBhrC,EAAM3S,KAAK,iBAAkB,CAAEjZ,KAAMw1D,IACrCmB,KAGF,IAAMwtE,EAAa,EAAK3sE,iBAAiB,EAAK91D,KAAMmnD,GACpDO,EAAahmD,KAAK+gI,GAClB/6E,EAAa59B,UAAUq9B,GACvBj9B,EAAM3S,KAAK,kBAAmB,CAAEjZ,KAAMw1D,IACtCpM,EAAa4N,UACT5N,EAAa6N,gBAAkBpO,EAAU+N,aAAa/N,EAAU+N,kBAI9D,YAAAktE,eAAV,SAAyBpiI,EAAMmiI,GAA/B,WACE,OAAO,IAAI/yH,SAAQ,SAACC,GACV,IAAAga,EAAUrpB,EAAI,OACjBqpB,aAAK,EAALA,EAAO5rB,SACV4R,IAGG0yH,GAAuB91H,SAASk2H,KACnC1sH,QAAQC,KACN,mBAAmBysH,EAAM,gFAE3B9yH,KAGF,IAAM83C,EAAY,CAChBj7B,OAAQ,EAAKi7B,UAAUj7B,OACvB2yB,SAAU,SAAChjD,GAAM,OAAA2E,KAAKC,IAAI5E,EAAEogB,OAAQpgB,EAAE6R,QACtCi1H,gBAAgB,EAChBztE,YAAa,cAIT,EAA8B,EAAKmB,cAAchtC,GAA/CotC,EAAU,aAAED,EAAW,cACzBosE,EAAW,gBAAMpsE,GAGvBrP,EAAU+N,YAAc,WACtBsB,WAAa5qD,SAAQ,SAACi3H,EAAK7kI,G,UACnBuuB,EAAKs2G,EAAIzlH,GAAmB,QAAlB,EAAGwlH,EAAS5kI,UAAM,eAAEof,GAC9BoP,EAAKq2G,EAAI9yH,GAAmB,QAAlB,EAAG6yH,EAAS5kI,UAAM,eAAE+R,GACnB,QAAjB,EAAA0mD,EAAWz4D,UAAM,SAAE4N,SAAQ,SAAC5O,GAC1BA,EAAEogB,GAAKmP,EACPvvB,EAAE+S,GAAKyc,QAGXnd,KAEmB,IAAI,KAAO83C,GACnB1C,OAAO,CAAEp7B,MAAOmtC,QAI1B,YAAA94B,QAAP,WACEviC,KAAKk5D,uBACLl5D,KAAK8gC,WAAY,EAEjB9gC,KAAK+uB,MAAMznB,IAAI,cAAU2E,GACzBjM,KAAKgsD,eAAY//C,EACjBjM,KAAK24D,gBAAa1sD,EAClBjM,KAAK44D,mBAAgB3sD,EACrBjM,KAAK+uB,MAAQ,MAEjB,EArQA,CAA8C,M,aCMjC44G,GAAgB,SAACC,EAAmBC,EAAoBC,GAKnE,OAJIA,EAAGF,IACLttH,QAAQC,KAAK,2BAA2BqtH,EAAS,0CAEnDE,EAAGF,GAAaC,EAAcC,GACvBA,GAET,eAKE,WAAY1qH,GAAZ,MACE,YAAMA,IAAI,KAEN,EAAKnc,IAAI,YAAY6G,WAAW,SAClC,EAAKR,IAAI,UAAY8V,EAAYtO,SAGnC,YAAMvI,KAAI,QACV,IAAM+X,EAAc,EAAKrd,IAAI,e,OACxBqd,GACH,EAAKhX,IAAI,cAAe,CAAEnE,KAAM,WAE7Bmb,EAAYnb,OACfmb,EAAYnb,KAAO,SACnB,EAAKmE,IAAI,cAAegX,IAE1B,EAAKwiB,WAAY,E,EAmrBrB,OAxsBmC,iBAyBvB,YAAAv6B,KAAV,aAEO,YAAAwhI,UAAP,SAAiB94G,GACf,IAAMmX,EAAwBpmC,KAAKiB,IAAI,UACvCguB,EAAM9rB,KAAO8rB,EAAM9rB,KAAKuI,cACxB06B,EAAO4hG,sBAAsB/4G,IAGrB,YAAAg2B,qBAAV,WACE,IAAMoE,EAAmB,IAAI,GAAiBrpD,MAC9CA,KAAKsH,IAAI,CACP+hD,iBAAgB,KAIV,YAAAnE,oBAAV,WACE,IAAM8qE,EAAkB,IAAI,GAAgBhwH,MAK5C,GAJAA,KAAKsH,IAAI,CACP0oH,gBAAe,KAGbhwH,KAAKiB,IAAI,YAAY6G,WAAW,QAApC,CAIA,IAAMs+B,EAAwBpmC,KAAKiB,IAAI,UACjCgnI,EAAY7hG,EAAOnlC,IAAI,MAC7B,4CAA4CuH,MAAM,KAAKiI,SAAQ,SAAC9O,GAC9DsmI,EAAUr0C,iBAAiBjyF,EAAKykC,EAAO4hG,sBAAsBpmI,KAAKwkC,IAAS,QAIrE,YAAAwe,WAAV,WACE,IAAI5a,EAAmDhqC,KAAKiB,IAAI,aAC9C,OAAd+oC,GAA2C,iBAAdA,IAC/BA,EAAY/3B,SAAS49G,eAAe7lF,GACpChqC,KAAKsH,IAAI,YAAa0iC,IAGxB,IAAMyb,EAAmBzlD,KAAKiB,IAAI,YAElC,IAAK+oC,IAAcyb,EAAS39C,WAAW,QACrC,MAAM,IAAIuP,MAAM,qBAGlB,IAAM9E,EAAgBvS,KAAKiB,IAAI,SACzB6f,EAAiB9gB,KAAKiB,IAAI,UAI1BinI,EAAiB,CACrBl+F,UAAS,EACTl7B,QALsB9O,KAAKiB,IAAI,WAM/BsR,MAAK,EACLuO,OAAM,EACN2kC,SAAQ,EACRtgB,QARuBnlC,KAAKiB,IAAI,YAW5B+jI,EAAahlI,KAAKiB,IAAI,cAExB+jI,IACFkD,EAAUlD,WAAaA,GAGzB,IAAM5+F,EAAS,IAAI,GAAc8hG,GAEjCloI,KAAKsH,IAAI,SAAU8+B,IAGX,YAAAgf,YAAV,WACE,IAAMlrC,EAAOla,KACb,eAAKka,EAAKjZ,IAAI,YAAY,SAAC2lC,IACpBA,EAAO9F,WAAa8F,EAAOuhG,YAC9BvhG,EAAOuhG,WAAWjuH,OAWjB,YAAAkuH,UAAP,SAAiBjlI,EAAoBklI,GACnC,IAAMjiG,EAAwBpmC,KAAKiB,IAAI,UACjCwkD,EAAWrf,EAAOkiG,cAClBL,EAAY7hG,EAAOnlC,IAAI,MAExBkC,IAAMA,EAAO,aAElB,IAAIolI,EAAU,GACd,GAAiB,QAAb9iF,EAAoB,CACtB,IAAMsD,EAAYk/E,EAAUl/E,WAAU,GAChCy/E,EAAav2H,SAASw2H,eAAeC,mBACzC,MACA,0BACA,oDAEIC,EAAS12H,SAASw2H,eAAeG,eACrC,6BACA,MACAJ,GAEFG,EAAOE,aAAa9/E,EAAW4/E,EAAOG,iBACtC,IAAMC,GAAU,IAAIC,eAAgBC,kBAAkBN,GACtDJ,EAAU,mCAAmCW,mBAAmBH,OAC3D,CACL,IAAII,OAAS,EACPr6H,EAAUm5H,EAAU91H,WAAW,MAC/BI,EAAQvS,KAAKiB,IAAI,SACjB6f,EAAS9gB,KAAKiB,IAAI,UACpBmoI,OAAkB,EACtB,GAAIf,EAAiB,CACnB,IAAMrD,EAA+B,oBAAX33H,OAAyBA,OAAO43H,iBAAmB,EAC7EkE,EAAYr6H,EAAQu6H,aAAa,EAAG,EAAG92H,EAAQyyH,EAAYlkH,EAASkkH,GACpEoE,EAAqBt6H,EAAQw6H,yBAC7Bx6H,EAAQw6H,yBAA2B,mBACnCx6H,EAAQy6H,UAAYlB,EACpBv5H,EAAQ06H,SAAS,EAAG,EAAGj3H,EAAOuO,GAEhCynH,EAAUN,EAAUG,UAAUjlI,GAC1BklI,IACFv5H,EAAQs2H,UAAU,EAAG,EAAG7yH,EAAOuO,GAC/BhS,EAAQ26H,aAAaN,EAAW,EAAG,GACnCr6H,EAAQw6H,yBAA2BF,GAGvC,OAAOb,GASF,YAAAmB,cAAP,SACEvjF,EACAhjD,EACAwmI,GAEA,IAAMr2G,EAAOtzB,KAAKiB,IAAI,SAASsyB,gBACzBzS,EAASwS,EAAKxS,OACdvO,EAAQ+gB,EAAK/gB,MACbkzC,EAAWzlD,KAAKiB,IAAI,YACpB2oI,EAAgC,aAAU,8BAE1CvB,EAAkBsB,EAAcA,EAAYtB,qBAAkBp8H,EAChE8U,EAAU4oH,EAAcA,EAAY5oH,aAAU9U,EAC7C8U,EACI,mBAASA,KAAUA,EAAU,CAACA,EAASA,EAASA,EAASA,IADpDA,EAAU,CAAC,EAAG,EAAG,EAAG,GAGlC,IAAM8oH,EAAU/oH,EAASC,EAAQ,GAAKA,EAAQ,GACxC+oH,EAASv3H,EAAQwO,EAAQ,GAAKA,EAAQ,GAQtCgpH,EAAU,IAAI,GAPE,CACpB//F,UAAW4/F,EACX9oH,OAAQ+oH,EACRt3H,MAAOu3H,EACPE,UAAU,IAMNC,EADQjqI,KAAKiB,IAAI,SACFwN,QAEjBsjB,EAAS,gBAAMk4G,EAAO52G,aACrBtB,IAAQA,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAC/C,IAAMqF,GAAW9D,EAAKkB,KAAOlB,EAAKE,MAAQ,EACpC6D,GAAW/D,EAAKmB,KAAOnB,EAAKG,MAAQ,EAC1C,KAAKR,UAAUlB,EAAQA,EAAQ,EAAEqF,GAAUC,IAC3C,KAAKpE,UAAUlB,EAAQA,EAAQ,CAACxf,EAAQ,EAAIwO,EAAQ,GAAID,EAAS,EAAIC,EAAQ,KAE7EkpH,EAAOjlG,cACPilG,EAAOt2G,UAAU5B,GACjBg4G,EAAQ3vF,IAAI6vF,GAEZ,IAAMC,EAAYH,EAAQ9oI,IAAI,MAE1BsnI,EAAU,GACTplI,IAAMA,EAAO,aAElBuK,YAAW,WACT,GAAiB,QAAb+3C,EAAoB,CACtB,IAAMsD,EAAYmhF,EAAUnhF,WAAU,GAChCy/E,EAAav2H,SAASw2H,eAAeC,mBACzC,MACA,0BACA,oDAEIC,EAAS12H,SAASw2H,eAAeG,eACrC,6BACA,MACAJ,GAEFG,EAAOE,aAAa9/E,EAAW4/E,EAAOG,iBACtC,IAAMC,GAAU,IAAIC,eAAgBC,kBAAkBN,GACtDJ,EAAU,mCAAmCW,mBAAmBH,OAC3D,CACL,IAAII,OAAS,EACPr6H,EAAUo7H,EAAU/3H,WAAW,MACjCi3H,OAAkB,EACtB,GAAIf,EAAiB,CACnB,IAAMrD,EAA+B,oBAAX33H,OAAyBA,OAAO43H,iBAAmB,EAC7EkE,EAAYr6H,EAAQu6H,aAAa,EAAG,EAAGS,EAAS9E,EAAY6E,EAAU7E,GACtEoE,EAAqBt6H,EAAQw6H,yBAC7Bx6H,EAAQw6H,yBAA2B,mBACnCx6H,EAAQy6H,UAAYlB,EACpBv5H,EAAQ06H,SAAS,EAAG,EAAGM,EAAQD,GAEjCtB,EAAU2B,EAAU9B,UAAUjlI,GAC1BklI,IACFv5H,EAAQs2H,UAAU,EAAG,EAAG0E,EAAQD,GAChC/6H,EAAQ26H,aAAaN,EAAW,EAAG,GACnCr6H,EAAQw6H,yBAA2BF,GAGnCjjF,GAAUA,EAASoiF,KACtB,KASE,YAAA4B,kBAAP,SACExpI,EACAwC,EACAwmI,GAHF,WAKQr2G,EAAOtzB,KAAKiB,IAAI,SAASsyB,gBACzBzS,EAASwS,EAAKxS,OACdvO,EAAQ+gB,EAAK/gB,MACbkzC,EAAWzlD,KAAKiB,IAAI,YACpB2oI,EAAgC,aAAU,8BAE1CvB,EAAkBsB,EAAcA,EAAYtB,qBAAkBp8H,EAChE8U,EAAU4oH,EAAcA,EAAY5oH,aAAU9U,EAC7C8U,EACI,mBAASA,KAAUA,EAAU,CAACA,EAASA,EAASA,EAASA,IADpDA,EAAU,CAAC,EAAG,EAAG,EAAG,GAGlC,IAAM8oH,EAAU/oH,EAASC,EAAQ,GAAKA,EAAQ,GACxC+oH,EAASv3H,EAAQwO,EAAQ,GAAKA,EAAQ,GAMtCgpH,EAAU,IAAI,GALE,CACpB//F,UAAW4/F,EACX9oH,OAAQ+oH,EACRt3H,MAAOu3H,IAKHG,EADQjqI,KAAKiB,IAAI,SACFwN,QAEjBsjB,EAAS,gBAAMk4G,EAAO52G,aACrBtB,IAAQA,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAC/C,IAAMqF,GAAW9D,EAAKkB,KAAOlB,EAAKE,MAAQ,EACpC6D,GAAW/D,EAAKmB,KAAOnB,EAAKG,MAAQ,EAC1C,KAAKR,UAAUlB,EAAQA,EAAQ,EAAEqF,GAAUC,IAC3C,KAAKpE,UAAUlB,EAAQA,EAAQ,CAACxf,EAAQ,EAAIwO,EAAQ,GAAID,EAAS,EAAIC,EAAQ,KAE7EkpH,EAAOjlG,cACPilG,EAAOt2G,UAAU5B,GACjBg4G,EAAQ3vF,IAAI6vF,GAEZ,IAAMC,EAAYH,EAAQ9oI,IAAI,MAEzBkC,IAAMA,EAAO,aAClBuK,YAAW,WACT,IAAI66H,EAAU,GACd,GAAiB,QAAb9iF,EAAoB,CACtB,IAAMsD,EAAYmhF,EAAUnhF,WAAU,GAChCy/E,EAAav2H,SAASw2H,eAAeC,mBACzC,MACA,0BACA,oDAEIC,EAAS12H,SAASw2H,eAAeG,eACrC,6BACA,MACAJ,GAEFG,EAAOE,aAAa9/E,EAAW4/E,EAAOG,iBACtC,IAAMC,GAAU,IAAIC,eAAgBC,kBAAkBN,GACtDJ,EAAU,mCAAmCW,mBAAmBH,OAC3D,CACL,IAAII,OAAS,EACPr6H,EAAUo7H,EAAU/3H,WAAW,MACjCi3H,OAAkB,EACtB,GAAIf,EAAiB,CACnB,IAAMrD,EAA+B,oBAAX33H,OAAyBA,OAAO43H,iBAAmB,EAC7EkE,EAAYr6H,EAAQu6H,aAAa,EAAG,EAAGS,EAAS9E,EAAY6E,EAAU7E,GACtEoE,EAAqBt6H,EAAQw6H,yBAC7Bx6H,EAAQw6H,yBAA2B,mBACnCx6H,EAAQy6H,UAAYlB,EACpBv5H,EAAQ06H,SAAS,EAAG,EAAGM,EAAQD,GAEjCtB,EAAU2B,EAAU9B,UAAUjlI,GAC1BklI,IACFv5H,EAAQs2H,UAAU,EAAG,EAAG0E,EAAQD,GAChC/6H,EAAQ26H,aAAaN,EAAW,EAAG,GACnCr6H,EAAQw6H,yBAA2BF,GAIvC,IAAMj8G,EAA0Blb,SAASC,cAAc,KACjDk4H,GACHzpI,GAAQ,UAAyB,QAAb8kD,EAAqB,OAAS,IAAItiD,EAAKqF,MAAM,KAAK,IAEzE,EAAK6hI,eAAe9B,EAAS9iF,EAAUt4B,EAAMi9G,GAE7C,IAAMriI,EAAIkK,SAASq4H,YAAY,eAC/BviI,EAAEwiI,UAAU,SAAS,GAAO,GAC5Bp9G,EAAKq9G,cAAcziI,KAClB,KASE,YAAA0iI,cAAP,SAAqB9pI,EAAewC,EAAoBklI,GAAxD,WACQnuH,EAAOla,KAETka,EAAKoxC,eACPpxC,EAAKi3B,cAGP,IACMsU,EADSvrC,EAAKjZ,IAAI,UACAqnI,cACnBnlI,IAAMA,EAAO,aAClB,IAAMinI,GAAoBzpI,GAAQ,UAAyB,QAAb8kD,EAAqB,OAAStiD,EAAKqF,MAAM,KAAK,IACtF2kB,EAA0Blb,SAASC,cAAc,KACvDxE,YAAW,WACT,IAAM66H,EAAUruH,EAAKkuH,UAAUjlI,EAAMklI,GACrC,EAAKgC,eAAe9B,EAAS9iF,EAAUt4B,EAAMi9G,GAE7C,IAAMriI,EAAIkK,SAASq4H,YAAY,eAC/BviI,EAAEwiI,UAAU,SAAS,GAAO,GAC5Bp9G,EAAKq9G,cAAcziI,KAClB,KAGG,YAAAsiI,eAAR,SAAuB9B,EAAiB9iF,EAAkBt4B,EAAMi9G,GAC9D,GAAsB,oBAAX/8H,OACT,GAAIA,OAAOq9H,MAAQr9H,OAAOs9H,KAAoB,QAAbllF,EAAoB,CACnD,IAAMjjD,EAAM+lI,EAAQ//H,MAAM,KACtBoiI,EAAO,GACX,GAAIpoI,GAAOA,EAAIF,OAAS,EAAG,CACzB,IAAMyJ,EAAQvJ,EAAI,GAAGuJ,MAAM,WAEvBA,GAASA,EAAMzJ,QAAU,IAAGsoI,EAAO7+H,EAAM,IAO/C,IAJA,IAAM8+H,EAAOC,KAAKtoI,EAAI,IAClBX,EAAIgpI,EAAKvoI,OACPyoI,EAAQ,IAAIC,WAAWnpI,GAEtBA,KACLkpI,EAAMlpI,GAAKgpI,EAAKI,WAAWppI,GAG7B,IAAM,EAAU,IAAI6oI,KAAK,CAACK,GAAQ,CAAE5nI,KAAMynI,IAEtCv9H,OAAO0L,UAAsB,WAC/B1L,OAAO0L,UAAsB,WAAE,EAASqxH,GAExCj9G,EAAKymE,iBAAiB,SAAS,WAC7BzmE,EAAK+9G,SAAWd,EAChBj9G,EAAKg+G,KAAO99H,OAAOs9H,IAAIS,gBAAgB,WAI3Cj+G,EAAKymE,iBAAiB,SAAS,WAC7BzmE,EAAK+9G,SAAWd,EAChBj9G,EAAKg+G,KAAO5C,MAUb,YAAA8C,UAAP,SAAiBzkG,GAEXA,EAAO9F,YADE9gC,KAIRiB,IAAI,WAAW6B,KAAK8jC,GACzBA,EAAOuhG,WALMnoI,QAYR,YAAAsrI,aAAP,SAAoB1kG,GAClB,IAAM8e,EAAU1lD,KAAKiB,IAAI,WACnB4B,EAAQ6iD,EAAQjjD,QAAQmkC,GAC1B/jC,GAAS,IACX+jC,EAAO2kG,gBACP7lF,EAAQ1/C,OAAOnD,EAAO,KAIlB,YAAAi9H,aAAR,WACE,MAAgC,gBAAzB9/H,KAAKiB,IAAI,aAGV,YAAA4+H,OAAR,WACE,OAAO7/H,KAAKiB,IAAI,YAAY6G,WAAW,SAGjC,YAAAiV,UAAR,WACE,MAAgC,WAAzB/c,KAAKiB,IAAI,aASX,YAAAuqI,oBAAP,SAA2BC,EAAgBC,EAA2BC,GAAtE,WAEQC,EAAoB,kBAAQ,GAAI,KAAOvpH,uBAAwBqpH,GAC7Dn5H,EAAyBq5H,EAAiB,MAAnC9qH,EAAkB8qH,EAAiB,OAA3BtpH,EAAUspH,EAAiB,MAC1CzpH,EAAqDG,EAAK,OAArCupH,GAAgCvpH,EAAK,EAALA,EAAK,EAALA,EAAK,OAAnBwpH,EAAcxpH,EAAK,OAMlE,GAJItiB,KAAK6/H,UAAa7/H,KAAK8/H,eAIvB9/H,KAAK8/H,eAAgB,CAEvB6L,EAAYp5H,MAAQA,GAAgBvS,KAAKiB,IAAI,SAC7C0qI,EAAY7qH,OAASA,GAAkB9gB,KAAKiB,IAAI,UAEhD,IAAM,EAAqB0qI,EAAYx5H,WAAW,MAI5C,GAAM6tH,EAFYhgI,KAAKiB,IAAI,SAAQ,eAGzC,EAAI25H,YAAc,YAClB,EAAItrH,IAAMm8H,EACV,EAAIhR,OAAS,WACX,IAAI,EAAK35F,UAAT,CAEA,IAAMs8F,EAASyO,EAAW,EAAIt5H,MACxB8qH,EAASyO,EAAY,EAAIhrH,OAG/B,EAAmBqB,QAASA,EAAS9c,KAAK6F,GAAM,KAGhD,IAAMkyB,EAAU,EAAmBs9F,cAAc,EAAK,UACtD,EAAmB6O,UAAYnsG,EAC/B,EAAmBnB,MAAMmhG,EAAQC,GAEjC,EAAmBmM,SACI,GAApB,EAAKvoI,IAAI,UACT,EAAKA,IAAI,UACU,GAApB,EAAKA,IAAI,SACY,GAArB,EAAKA,IAAI,WAEX,EAAKA,IAAI,cAAc4oC,SAAS,QAAS,CACvC7lC,MAAO,CACL8yD,IAAK60E,OAMb,GAAI3rI,KAAK+c,YAAa,CACpB,IAAM,EAAc9K,SAASC,cAAc,UAG3C,EAAYK,MAAQA,GAAgBvS,KAAKiB,IAAI,SAC7C,EAAY6f,OAASA,GAAkB9gB,KAAKiB,IAAI,UAChD,IAAM,EAAU,EAAYkR,WAAW,MACjC,EAAM,IAAIwoH,MAChB,EAAIC,YAAc,YAClB,EAAItrH,IAAMm8H,EACV,EAAIhR,OAAS,WACX,IAAI,EAAK35F,UAAT,CAGA,IAAMs8F,EAASyO,EAAW,EAAIt5H,MACxB8qH,EAASyO,EAAY,EAAIhrH,OAG/B,EAAQqB,QAASA,EAAS9c,KAAK6F,GAAM,KAErC,IAAMkyB,EAAU,EAAQs9F,cAAc,EAAK,UAC3C,EAAQ6O,UAAYnsG,EACpB,EAAQnB,MAAMmhG,EAAQC,GAEtB,EAAQmM,SACe,GAApB,EAAKvoI,IAAI,UACT,EAAKA,IAAI,UACU,GAApB,EAAKA,IAAI,SACY,GAArB,EAAKA,IAAI,WAGX,IAAM8qI,EAAgB,EAAY3D,YAClC,EAAKnnI,IAAI,cAAc4oC,SAAS,QAAS,CACvC7lC,MAAO,CACL8yD,IAAKi1E,SAYR,YAAAC,mBAAP,SAA0BC,EAAiBP,GACzC,IAAI1hG,EAAyChqC,KAAKiB,IAAI,aAClD,mBAAS+oC,KACXA,EAAY/3B,SAAS49G,eAAe7lF,IAGjCA,EAAU/rB,MAAMid,WACnB8O,EAAU/rB,MAAMid,SAAW,YAG7B,IAAIkL,EAASpmC,KAAKiB,IAAI,oBAEhB2qI,EAAuC,kBAAQ,GAAI,KAAO7pH,sBAAuB2pH,GAC/En5H,EAAoCq5H,EAAiB,MAA9C9qH,EAA6B8qH,EAAiB,OAAtC5pH,EAAqB4pH,EAAiB,WAA1Bj6H,EAASi6H,EAAiB,KAE7D,IAAKxlG,EAAQ,CACX,IAAM8hG,EAAiB,CACrBl+F,UAAS,EACTz3B,MAAK,EACLuO,OAAM,EACNxD,SAAS,GAEL0nH,EAAahlI,KAAKiB,IAAI,cACxB+jI,IACFkD,EAAUlD,WAAaA,GAEzB5+F,EAAS,IAAI,GAAc8hG,GAC3BloI,KAAKsH,IAAI,mBAAoB8+B,GAE/BA,EAAOnlC,IAAI,MAAMgd,MAAMiuH,QAAU,OACjC,IAAMz6H,EAAM20B,EAAOnlC,IAAI,WAEfkhB,EAAmExQ,EAAI,OAA/DuM,EAA2DvM,EAAI,KAAzDE,EAAqDF,EAAI,WAA7CS,EAAyCT,EAAI,SAAnCyQ,EAA+BzQ,EAAI,SAAzBsQ,EAAqBtQ,EAAI,EAAtBiD,EAAkBjD,EAAI,EAAnBuQ,EAAevQ,EAAI,WAE/EF,EAAI0Q,QAASA,EAAS9c,KAAK6F,GAAM,KAGjCuG,EAAIG,KAAUQ,EAAQ,MAAMP,EAG5BJ,EAAI83H,UAAYrrH,EAEhBzM,EAAI2M,aAAegE,EAEnB,IAAK,IAAIhiB,EAAI6rI,EAAM3pI,OAAS,EAAGlC,GAAK,EAAGA,IAErCqR,EAAIiyH,SAASuI,EAAM7rI,GAAI6hB,EAAGrN,EAAIxU,EAAI8hB,GAOpC,GAHAzQ,EAAI0Q,OAAQA,EAAS9c,KAAK6F,GAAM,KAG3B8W,EAcHgoB,EAAU/rB,MAAMkuH,QAAU,yBAAyB/lG,EAChDnlC,IAAI,MACJmnI,UAAU,aAAY,kCAhBV,CACf,IAAIhuB,EAAMnoG,SAASm6H,cAAc,yBAC5BhyB,KACHA,EAAMnoG,SAASC,cAAc,QACzBs5B,UAAY,wBAElB4uE,EAAIn8F,MAAMkuH,QAAU,yBAAyB/lG,EAC1CnlC,IAAI,MACJmnI,UACC,aACD,6GACHp+F,EAAU8lF,YAAY1V,KAYnB,YAAA73E,QAAP,WACE,eAAKviC,KAAKiB,IAAI,YAAY,SAAC2lC,GACzBA,EAAO2kG,mBAIT,IAAMc,EAAcrsI,KAAKiB,IAAI,YAC7B,GAAIorI,EACF,IAAK,IAAIjsI,EAAI,EAAGA,EAAIisI,EAAY/pI,OAAQlC,IAAK,CAC3C,IAAM4pC,EAAYqiG,EAAYjsI,GAC9B,GAAK4pC,EAAL,CACA,IAAMhd,EAASgd,EAAUsiG,cACpBt/G,GACLA,EAAO+d,YAAYf,IAIvBhqC,KAAKiB,IAAI,mBAAmBshC,UAC5BviC,KAAKiB,IAAI,oBAAoBshC,UAEzBviC,KAAKiB,IAAI,qBACXjB,KAAKiB,IAAI,oBAAoBshC,UAIT,oBAAbtwB,UACPA,SAASm6H,eACTn6H,SAASm6H,cAAc,0BAEvBn6H,SAASm6H,cAAc,yBAAyB5lI,SAGlD,YAAM+7B,QAAO,YAIL,YAAA4iB,WAAV,WACE,IAAM/e,EAAwBpmC,KAAKiB,IAAI,UAEjCiyB,EAAgBkT,EAAOgP,SAAS,CACpChnB,GAAI,OACJod,UAAW,KAAOhuB,yBAGd+uH,EAAqBnmG,EAAOgP,SAAS,CACzChnB,GAAI,QACJod,UAAW,KAAO9tB,0BAGpB,GAAI1d,KAAKiB,IAAI,gBAAiB,CAC5B,IAAMi1C,EAAoBhjB,EAAMkiB,SAAS,CACvChnB,GAAI,OACJod,UAAW,KAAO5tB,yBAGd2nC,EAAoBryB,EAAMkiB,SAAS,CACvChnB,GAAI,OACJod,UAAW,KAAO7tB,yBAGd03B,EAAqBniB,EAAMkiB,SAAS,CACxChnB,GAAI,QACJod,UAAW,KAAO3tB,0BAIpBw3B,EAAWvE,SAEX9wC,KAAKsH,IAAI,CAAEi+C,UAAS,EAAErP,UAAS,EAAEb,WAAU,IAG7C,IAAMm3F,EAAkBpmG,EAAOgP,SAAS,CACtChnB,GAAI,UACJod,UAAW,KAAO/tB,uBAGd+nC,EAAwBtyB,EAAMkiB,SAAS,CAC3ChnB,GAAI,WACJod,UAAW,KAAO1tB,6BAEpB9d,KAAKsH,IAAI,CAAEk+C,cAAa,IACxBxlD,KAAKsH,IAAI,QAAS4rB,GAClBlzB,KAAKsH,IAAI,UAAWklI,GACpBxsI,KAAKsH,IAAI,aAAcilI,IAE3B,EAxsBA,CAAmC,M,mOChB5B,SAASE,EAAQ5qI,EAAGyD,IAwCpB,SAAwBzD,GAC3B,MAAoB,iBAANA,IAAsC,IAApBA,EAAEY,QAAQ,MAAiC,IAAlBuH,WAAWnI,IAxChE6qI,CAAe7qI,KACfA,EAAI,QAER,IAAI8qI,EA2CD,SAAsB9qI,GACzB,MAAoB,iBAANA,IAAsC,IAApBA,EAAEY,QAAQ,KA5C1BmqI,CAAa/qI,GAO7B,OANAA,EAAY,MAARyD,EAAczD,EAAIwD,KAAKE,IAAID,EAAKD,KAAKC,IAAI,EAAG0E,WAAWnI,KAEvD8qI,IACA9qI,EAAIwJ,SAASgI,OAAOxR,EAAIyD,GAAM,IAAM,KAGpCD,KAAKqF,IAAI7I,EAAIyD,GAAO,KACb,EAOPzD,EAJQ,MAARyD,GAIKzD,EAAI,EAAKA,EAAIyD,EAAOA,EAAMzD,EAAIyD,GAAO0E,WAAWqJ,OAAO/N,IAKvDzD,EAAIyD,EAAO0E,WAAWqJ,OAAO/N,IAQnC,SAASunI,EAAQjlI,GACpB,OAAOvC,KAAKE,IAAI,EAAGF,KAAKC,IAAI,EAAGsC,IAqB5B,SAASklI,EAAWroI,GAKvB,OAJAA,EAAIuF,WAAWvF,IACXkB,MAAMlB,IAAMA,EAAI,GAAKA,EAAI,KACzBA,EAAI,GAEDA,EAMJ,SAASsoI,EAAoBlrI,GAChC,OAAIA,GAAK,EACE,GAAGmD,OAAmB,IAAZsF,OAAOzI,GAAU,KAE/BA,EAMJ,SAASmrI,EAAKvsI,GACjB,OAAoB,IAAbA,EAAE6B,OAAe,IAAM7B,EAAI4S,OAAO5S,GC3DtC,SAASwsI,EAAS/rI,EAAG2T,EAAGjO,GAC3B1F,EAAIurI,EAAQvrI,EAAG,KACf2T,EAAI43H,EAAQ53H,EAAG,KACfjO,EAAI6lI,EAAQ7lI,EAAG,KACf,IAAItB,EAAMD,KAAKC,IAAIpE,EAAG2T,EAAGjO,GACrBrB,EAAMF,KAAKE,IAAIrE,EAAG2T,EAAGjO,GACrB4Q,EAAI,EACJrV,EAAI,EACJ9B,GAAKiF,EAAMC,GAAO,EACtB,GAAID,IAAQC,EACRpD,EAAI,EACJqV,EAAI,MAEH,CACD,IAAI9W,EAAI4E,EAAMC,EAEd,OADApD,EAAI9B,EAAI,GAAMK,GAAK,EAAI4E,EAAMC,GAAO7E,GAAK4E,EAAMC,GACvCD,GACJ,KAAKpE,EACDsW,GAAK3C,EAAIjO,GAAKlG,GAAKmU,EAAIjO,EAAI,EAAI,GAC/B,MACJ,KAAKiO,EACD2C,GAAK5Q,EAAI1F,GAAKR,EAAI,EAClB,MACJ,KAAKkG,EACD4Q,GAAKtW,EAAI2T,GAAKnU,EAAI,EAK1B8W,GAAK,EAET,MAAO,CAAEA,EAAGA,EAAGrV,EAAGA,EAAG9B,EAAGA,GAE5B,SAAS6sI,EAAQhrI,EAAG8xB,EAAG1yB,GAOnB,OANIA,EAAI,IACJA,GAAK,GAELA,EAAI,IACJA,GAAK,GAELA,EAAI,EAAI,EACDY,EAAe,EAAIZ,GAAd0yB,EAAI9xB,GAEhBZ,EAAI,GACG0yB,EAEP1yB,EAAI,EAAI,EACDY,GAAK8xB,EAAI9xB,IAAM,EAAI,EAAIZ,GAAK,EAEhCY,EAoCJ,SAASirI,EAASjsI,EAAG2T,EAAGjO,GAC3B1F,EAAIurI,EAAQvrI,EAAG,KACf2T,EAAI43H,EAAQ53H,EAAG,KACfjO,EAAI6lI,EAAQ7lI,EAAG,KACf,IAAItB,EAAMD,KAAKC,IAAIpE,EAAG2T,EAAGjO,GACrBrB,EAAMF,KAAKE,IAAIrE,EAAG2T,EAAGjO,GACrB4Q,EAAI,EACJ9R,EAAIJ,EACJ5E,EAAI4E,EAAMC,EACVpD,EAAY,IAARmD,EAAY,EAAI5E,EAAI4E,EAC5B,GAAIA,IAAQC,EACRiS,EAAI,MAEH,CACD,OAAQlS,GACJ,KAAKpE,EACDsW,GAAK3C,EAAIjO,GAAKlG,GAAKmU,EAAIjO,EAAI,EAAI,GAC/B,MACJ,KAAKiO,EACD2C,GAAK5Q,EAAI1F,GAAKR,EAAI,EAClB,MACJ,KAAKkG,EACD4Q,GAAKtW,EAAI2T,GAAKnU,EAAI,EAK1B8W,GAAK,EAET,MAAO,CAAEA,EAAGA,EAAGrV,EAAGA,EAAGuD,EAAGA,GA6BrB,SAAS0nI,EAASlsI,EAAG2T,EAAGjO,EAAGymI,GAC9B,IAAIx2H,EAAM,CACNm2H,EAAK3nI,KAAKyE,MAAM5I,GAAG+B,SAAS,KAC5B+pI,EAAK3nI,KAAKyE,MAAM+K,GAAG5R,SAAS,KAC5B+pI,EAAK3nI,KAAKyE,MAAMlD,GAAG3D,SAAS,MAGhC,OAAIoqI,GACAx2H,EAAI,GAAG/O,WAAW+O,EAAI,GAAGjL,OAAO,KAChCiL,EAAI,GAAG/O,WAAW+O,EAAI,GAAGjL,OAAO,KAChCiL,EAAI,GAAG/O,WAAW+O,EAAI,GAAGjL,OAAO,IACzBiL,EAAI,GAAGjL,OAAO,GAAKiL,EAAI,GAAGjL,OAAO,GAAKiL,EAAI,GAAGjL,OAAO,GAExDiL,EAAIxE,KAAK,IAwCb,SAASi7H,EAAoB5sI,GAChC,OAAO2E,KAAKyE,MAAsB,IAAhBE,WAAWtJ,IAAUuC,SAAS,IAG7C,SAASsqI,EAAoB/1H,GAChC,OAAOg2H,EAAgBh2H,GAAK,IAGzB,SAASg2H,EAAgB5lI,GAC5B,OAAOyD,SAASzD,EAAK,IC9NlB,IAAI6lI,EAAQ,CACfzqH,UAAW,UACXC,aAAc,UACdC,KAAM,UACNC,WAAY,UACZC,MAAO,UACPC,MAAO,UACPC,OAAQ,UACRC,MAAO,UACPC,eAAgB,UAChBC,KAAM,UACNC,WAAY,UACZC,MAAO,UACPC,UAAW,UACXC,UAAW,UACXC,WAAY,UACZC,UAAW,UACXC,MAAO,UACPC,eAAgB,UAChBC,SAAU,UACVC,QAAS,UACTC,KAAM,UACNC,SAAU,UACVC,SAAU,UACVC,cAAe,UACfC,SAAU,UACVC,UAAW,UACXC,SAAU,UACVC,UAAW,UACXC,YAAa,UACbC,eAAgB,UAChBC,WAAY,UACZC,WAAY,UACZC,QAAS,UACTC,WAAY,UACZC,aAAc,UACdC,cAAe,UACfC,cAAe,UACfC,cAAe,UACfC,cAAe,UACfC,WAAY,UACZC,SAAU,UACVC,YAAa,UACbC,QAAS,UACTC,QAAS,UACTC,WAAY,UACZC,UAAW,UACXC,YAAa,UACbC,YAAa,UACbC,QAAS,UACTC,UAAW,UACXC,WAAY,UACZE,UAAW,UACXD,KAAM,UACNhP,KAAM,UACNkP,MAAO,UACPC,YAAa,UACbC,KAAM,UACNC,SAAU,UACVC,QAAS,UACTC,UAAW,UACXC,OAAQ,UACRC,MAAO,UACPC,MAAO,UACPE,cAAe,UACfD,SAAU,UACVE,UAAW,UACXC,aAAc,UACdC,UAAW,UACXC,WAAY,UACZC,UAAW,UACXC,qBAAsB,UACtBC,UAAW,UACXC,WAAY,UACZC,UAAW,UACXC,UAAW,UACXC,YAAa,UACbC,cAAe,UACfC,aAAc,UACdC,eAAgB,UAChBC,eAAgB,UAChBC,eAAgB,UAChBC,YAAa,UACbC,KAAM,UACNC,UAAW,UACXC,MAAO,UACPC,QAAS,UACTC,OAAQ,UACRC,iBAAkB,UAClBC,WAAY,UACZC,aAAc,UACdC,aAAc,UACdC,eAAgB,UAChBC,gBAAiB,UACjBC,kBAAmB,UACnBC,gBAAiB,UACjBC,gBAAiB,UACjBC,aAAc,UACdC,UAAW,UACXC,UAAW,UACXC,SAAU,UACVC,YAAa,UACbC,KAAM,UACNC,QAAS,UACTC,MAAO,UACPC,UAAW,UACXC,OAAQ,UACRC,UAAW,UACXC,OAAQ,UACRC,cAAe,UACfC,UAAW,UACXC,cAAe,UACfC,cAAe,UACfC,WAAY,UACZC,UAAW,UACXC,KAAM,UACNC,KAAM,UACNC,KAAM,UACNC,WAAY,UACZC,OAAQ,UACRC,cAAe,UACfC,IAAK,UACLC,UAAW,UACXC,UAAW,UACXC,YAAa,UACbC,OAAQ,UACRC,WAAY,UACZC,SAAU,UACVC,SAAU,UACVC,OAAQ,UACRC,OAAQ,UACRC,QAAS,UACTC,UAAW,UACXC,UAAW,UACXC,UAAW,UACXC,KAAM,UACNC,YAAa,UACbC,UAAW,UACXC,IAAK,UACLC,KAAM,UACNC,QAAS,UACTC,OAAQ,UACRC,UAAW,UACXC,OAAQ,UACRC,MAAO,UACPC,MAAO,UACPC,WAAY,UACZC,OAAQ,UACRC,YAAa,W,qOCnIV,SAASwhH,EAAWtkI,GACvB,IFbqBlI,EAAG2T,EAAGjO,EEavBuP,EAAM,CAAEjV,EAAG,EAAG2T,EAAG,EAAGjO,EAAG,GACvBnC,EAAI,EACJtC,EAAI,KACJuD,EAAI,KACJrF,EAAI,KACJstI,GAAK,EACLzmB,GAAS,EA6Bb,MA5BqB,iBAAV99G,IACPA,EAgED,SAA6BA,GAEhC,GAAqB,KADrBA,EAAQA,EAAM89B,OAAOx7B,eACXpJ,OACN,OAAO,EAEX,IAAIukH,GAAQ,EACZ,GAAI4mB,EAAMrkI,GACNA,EAAQqkI,EAAMrkI,GACdy9G,GAAQ,OAEP,GAAc,gBAAVz9G,EACL,MAAO,CAAElI,EAAG,EAAG2T,EAAG,EAAGjO,EAAG,EAAGnC,EAAG,EAAGyiH,OAAQ,QAM7C,IAAIn7G,EAAQ6hI,EAASz3H,IAAIqD,KAAKpQ,GAC9B,GAAI2C,EACA,MAAO,CAAE7K,EAAG6K,EAAM,GAAI8I,EAAG9I,EAAM,GAAInF,EAAGmF,EAAM,IAGhD,GADAA,EAAQ6hI,EAASvmB,KAAK7tG,KAAKpQ,GAEvB,MAAO,CAAElI,EAAG6K,EAAM,GAAI8I,EAAG9I,EAAM,GAAInF,EAAGmF,EAAM,GAAItH,EAAGsH,EAAM,IAG7D,GADAA,EAAQ6hI,EAASt3H,IAAIkD,KAAKpQ,GAEtB,MAAO,CAAEoO,EAAGzL,EAAM,GAAI5J,EAAG4J,EAAM,GAAI1L,EAAG0L,EAAM,IAGhD,GADAA,EAAQ6hI,EAAStmB,KAAK9tG,KAAKpQ,GAEvB,MAAO,CAAEoO,EAAGzL,EAAM,GAAI5J,EAAG4J,EAAM,GAAI1L,EAAG0L,EAAM,GAAItH,EAAGsH,EAAM,IAG7D,GADAA,EAAQ6hI,EAASr3H,IAAIiD,KAAKpQ,GAEtB,MAAO,CAAEoO,EAAGzL,EAAM,GAAI5J,EAAG4J,EAAM,GAAIrG,EAAGqG,EAAM,IAGhD,GADAA,EAAQ6hI,EAASC,KAAKr0H,KAAKpQ,GAEvB,MAAO,CAAEoO,EAAGzL,EAAM,GAAI5J,EAAG4J,EAAM,GAAIrG,EAAGqG,EAAM,GAAItH,EAAGsH,EAAM,IAG7D,GADAA,EAAQ6hI,EAASE,KAAKt0H,KAAKpQ,GAEvB,MAAO,CACHlI,EAAGssI,EAAgBzhI,EAAM,IACzB8I,EAAG24H,EAAgBzhI,EAAM,IACzBnF,EAAG4mI,EAAgBzhI,EAAM,IACzBtH,EAAG8oI,EAAoBxhI,EAAM,IAC7Bm7G,OAAQL,EAAQ,OAAS,QAIjC,GADA96G,EAAQ6hI,EAASG,KAAKv0H,KAAKpQ,GAEvB,MAAO,CACHlI,EAAGssI,EAAgBzhI,EAAM,IACzB8I,EAAG24H,EAAgBzhI,EAAM,IACzBnF,EAAG4mI,EAAgBzhI,EAAM,IACzBm7G,OAAQL,EAAQ,OAAS,OAIjC,GADA96G,EAAQ6hI,EAASI,KAAKx0H,KAAKpQ,GAEvB,MAAO,CACHlI,EAAGssI,EAAgBzhI,EAAM,GAAKA,EAAM,IACpC8I,EAAG24H,EAAgBzhI,EAAM,GAAKA,EAAM,IACpCnF,EAAG4mI,EAAgBzhI,EAAM,GAAKA,EAAM,IACpCtH,EAAG8oI,EAAoBxhI,EAAM,GAAKA,EAAM,IACxCm7G,OAAQL,EAAQ,OAAS,QAIjC,GADA96G,EAAQ6hI,EAASK,KAAKz0H,KAAKpQ,GAEvB,MAAO,CACHlI,EAAGssI,EAAgBzhI,EAAM,GAAKA,EAAM,IACpC8I,EAAG24H,EAAgBzhI,EAAM,GAAKA,EAAM,IACpCnF,EAAG4mI,EAAgBzhI,EAAM,GAAKA,EAAM,IACpCm7G,OAAQL,EAAQ,OAAS,OAGjC,OAAO,EA/IKqnB,CAAoB9kI,IAEX,WAAjB,EAAOA,KACH+kI,EAAe/kI,EAAMlI,IAAMitI,EAAe/kI,EAAMyL,IAAMs5H,EAAe/kI,EAAMxC,IFxB9D1F,EEyBEkI,EAAMlI,EFzBL2T,EEyBQzL,EAAMyL,EFzBXjO,EEyBcwC,EAAMxC,EAAvCuP,EFxBD,CACHjV,EAAqB,IAAlBurI,EAAQvrI,EAAG,KACd2T,EAAqB,IAAlB43H,EAAQ53H,EAAG,KACdjO,EAAqB,IAAlB6lI,EAAQ7lI,EAAG,MEsBV+mI,GAAK,EACLzmB,EAAwC,MAA/B7zG,OAAOjK,EAAMlI,GAAG6I,QAAQ,GAAa,OAAS,OAElDokI,EAAe/kI,EAAMoO,IAAM22H,EAAe/kI,EAAMjH,IAAMgsI,EAAe/kI,EAAM1D,IAChFvD,EAAI4qI,EAAoB3jI,EAAMjH,GAC9BuD,EAAIqnI,EAAoB3jI,EAAM1D,GAC9ByQ,EFsGL,SAAkBqB,EAAGrV,EAAGuD,GAC3B8R,EAAsB,EAAlBi1H,EAAQj1H,EAAG,KACfrV,EAAIsqI,EAAQtqI,EAAG,KACfuD,EAAI+mI,EAAQ/mI,EAAG,KACf,IAAItF,EAAIiF,KAAKqS,MAAMF,GACf/J,EAAI+J,EAAIpX,EACR8B,EAAIwD,GAAK,EAAIvD,GACb6xB,EAAItuB,GAAK,EAAI+H,EAAItL,GACjBb,EAAIoE,GAAK,GAAK,EAAI+H,GAAKtL,GACvB6I,EAAM5K,EAAI,EAId,MAAO,CAAEc,EAAO,IAHR,CAACwE,EAAGsuB,EAAG9xB,EAAGA,EAAGZ,EAAGoE,GAAGsF,GAGN6J,EAAO,IAFpB,CAACvT,EAAGoE,EAAGA,EAAGsuB,EAAG9xB,EAAGA,GAAG8I,GAEMpE,EAAO,IADhC,CAAC1E,EAAGA,EAAGZ,EAAGoE,EAAGA,EAAGsuB,GAAGhpB,IElHbojI,CAAShlI,EAAMoO,EAAGrV,EAAGuD,GAC3BioI,GAAK,EACLzmB,EAAS,OAEJinB,EAAe/kI,EAAMoO,IAAM22H,EAAe/kI,EAAMjH,IAAMgsI,EAAe/kI,EAAM/I,KAChF8B,EAAI4qI,EAAoB3jI,EAAMjH,GAC9B9B,EAAI0sI,EAAoB3jI,EAAM/I,GAC9B8V,EF8BL,SAAkBqB,EAAGrV,EAAG9B,GAC3B,IAAIa,EACA2T,EACAjO,EAIJ,GAHA4Q,EAAIi1H,EAAQj1H,EAAG,KACfrV,EAAIsqI,EAAQtqI,EAAG,KACf9B,EAAIosI,EAAQpsI,EAAG,KACL,IAAN8B,EAEA0S,EAAIxU,EACJuG,EAAIvG,EACJa,EAAIb,MAEH,CACD,IAAI2zB,EAAI3zB,EAAI,GAAMA,GAAK,EAAI8B,GAAK9B,EAAI8B,EAAI9B,EAAI8B,EACxCD,EAAI,EAAI7B,EAAI2zB,EAChB9yB,EAAIgsI,EAAQhrI,EAAG8xB,EAAGxc,EAAI,EAAI,GAC1B3C,EAAIq4H,EAAQhrI,EAAG8xB,EAAGxc,GAClB5Q,EAAIsmI,EAAQhrI,EAAG8xB,EAAGxc,EAAI,EAAI,GAE9B,MAAO,CAAEtW,EAAO,IAAJA,EAAS2T,EAAO,IAAJA,EAASjO,EAAO,IAAJA,GElDtBynI,CAASjlI,EAAMoO,EAAGrV,EAAG9B,GAC3BstI,GAAK,EACLzmB,EAAS,OAETpmH,OAAOkB,UAAUC,eAAe1B,KAAK6I,EAAO,OAC5C3E,EAAI2E,EAAM3E,IAGlBA,EAAIqoI,EAAWroI,GACR,CACHkpI,GAAIA,EACJzmB,OAAQ99G,EAAM89G,QAAUA,EACxBhmH,EAAGmE,KAAKE,IAAI,IAAKF,KAAKC,IAAI6Q,EAAIjV,EAAG,IACjC2T,EAAGxP,KAAKE,IAAI,IAAKF,KAAKC,IAAI6Q,EAAItB,EAAG,IACjCjO,EAAGvB,KAAKE,IAAI,IAAKF,KAAKC,IAAI6Q,EAAIvP,EAAG,IACjCnC,EAAGA,GAIX,IAII6pI,EAAW,MAAMtpI,OAFJ,uBAEuB,SAASA,OAJ/B,gBAImD,KAIjEupI,EAAoB,cAAcvpI,OAAOspI,EAAU,cAActpI,OAAOspI,EAAU,cAActpI,OAAOspI,EAAU,aACjHE,EAAoB,cAAcxpI,OAAOspI,EAAU,cAActpI,OAAOspI,EAAU,cAActpI,OAAOspI,EAAU,cAActpI,OAAOspI,EAAU,aAChJV,EAAW,CACXU,SAAU,IAAIjxG,OAAOixG,GACrBn4H,IAAK,IAAIknB,OAAO,MAAQkxG,GACxBlnB,KAAM,IAAIhqF,OAAO,OAASmxG,GAC1Bl4H,IAAK,IAAI+mB,OAAO,MAAQkxG,GACxBjnB,KAAM,IAAIjqF,OAAO,OAASmxG,GAC1Bj4H,IAAK,IAAI8mB,OAAO,MAAQkxG,GACxBV,KAAM,IAAIxwG,OAAO,OAASmxG,GAC1BP,KAAM,uDACNF,KAAM,uDACNC,KAAM,uEACNF,KAAM,wEA2FH,SAASK,EAAe/kI,GAC3B,OAAOqkF,QAAQmgD,EAASU,SAAS90H,KAAKnG,OAAOjK,KChLjD,IAAIqlI,EAA2B,WAC3B,SAASA,EAAUrlI,EAAOslI,GAGtB,IAAIt1H,EAEJ,QAJc,IAAVhQ,IAAoBA,EAAQ,SACnB,IAATslI,IAAmBA,EAAO,IAG1BtlI,aAAiBqlI,EAEjB,OAAOrlI,EAEU,iBAAVA,IACPA,EHqNL,SAA6BA,GAChC,MAAO,CACHlI,EAAGkI,GAAS,GACZyL,GAAY,MAARzL,IAAmB,EACvBxC,EAAW,IAARwC,GGzNSulI,CAAoBvlI,IAEhCpJ,KAAK4uI,cAAgBxlI,EACrB,IAAI+M,EAAMu3H,EAAWtkI,GACrBpJ,KAAK4uI,cAAgBxlI,EACrBpJ,KAAKkB,EAAIiV,EAAIjV,EACblB,KAAK6U,EAAIsB,EAAItB,EACb7U,KAAK4G,EAAIuP,EAAIvP,EACb5G,KAAKyE,EAAI0R,EAAI1R,EACbzE,KAAK6uI,OAASxpI,KAAKyE,MAAM,IAAM9J,KAAKyE,GAAK,IACzCzE,KAAKknH,OAAgC,QAAtB9tG,EAAKs1H,EAAKxnB,cAA2B,IAAP9tG,EAAgBA,EAAKjD,EAAI+wG,OACtElnH,KAAK8uI,aAAeJ,EAAKI,aAKrB9uI,KAAKkB,EAAI,IACTlB,KAAKkB,EAAImE,KAAKyE,MAAM9J,KAAKkB,IAEzBlB,KAAK6U,EAAI,IACT7U,KAAK6U,EAAIxP,KAAKyE,MAAM9J,KAAK6U,IAEzB7U,KAAK4G,EAAI,IACT5G,KAAK4G,EAAIvB,KAAKyE,MAAM9J,KAAK4G,IAE7B5G,KAAK+uI,QAAU54H,EAAIw3H,GA0bvB,OAxbAc,EAAUzsI,UAAU2xG,OAAS,WACzB,OAAO3zG,KAAKgvI,gBAAkB,KAElCP,EAAUzsI,UAAU4xG,QAAU,WAC1B,OAAQ5zG,KAAK2zG,UAKjB86B,EAAUzsI,UAAUgtI,cAAgB,WAEhC,IAAI74H,EAAMnW,KAAKivI,QACf,OAAgB,IAAR94H,EAAIjV,EAAkB,IAARiV,EAAItB,EAAkB,IAARsB,EAAIvP,GAAW,KAKvD6nI,EAAUzsI,UAAUktI,aAAe,WAE/B,IAAI/4H,EAAMnW,KAAKivI,QAIXE,EAAQh5H,EAAIjV,EAAI,IAChBkuI,EAAQj5H,EAAItB,EAAI,IAChBw6H,EAAQl5H,EAAIvP,EAAI,IAsBpB,MAAO,OArBHuoI,GAAS,OACLA,EAAQ,MAIR9pI,KAAKkS,KAAK43H,EAAQ,MAAS,MAAO,MAgBtB,OAdhBC,GAAS,OACLA,EAAQ,MAIR/pI,KAAKkS,KAAK63H,EAAQ,MAAS,MAAO,MAST,OAP7BC,GAAS,OACLA,EAAQ,MAIRhqI,KAAKkS,KAAK83H,EAAQ,MAAS,MAAO,OAO9CZ,EAAUzsI,UAAUstI,SAAW,WAC3B,OAAOtvI,KAAKyE,GAOhBgqI,EAAUzsI,UAAUutI,SAAW,SAAUl9B,GAGrC,OAFAryG,KAAKyE,EAAIqoI,EAAWz6B,GACpBryG,KAAK6uI,OAASxpI,KAAKyE,MAAM,IAAM9J,KAAKyE,GAAK,IAClCzE,MAKXyuI,EAAUzsI,UAAUwtI,MAAQ,WACxB,IAAIj5H,EAAM42H,EAASntI,KAAKkB,EAAGlB,KAAK6U,EAAG7U,KAAK4G,GACxC,MAAO,CAAE4Q,EAAW,IAARjB,EAAIiB,EAASrV,EAAGoU,EAAIpU,EAAGuD,EAAG6Q,EAAI7Q,EAAGjB,EAAGzE,KAAKyE,IAMzDgqI,EAAUzsI,UAAUytI,YAAc,WAC9B,IAAIl5H,EAAM42H,EAASntI,KAAKkB,EAAGlB,KAAK6U,EAAG7U,KAAK4G,GACpC4Q,EAAInS,KAAKyE,MAAc,IAARyM,EAAIiB,GACnBrV,EAAIkD,KAAKyE,MAAc,IAARyM,EAAIpU,GACnBuD,EAAIL,KAAKyE,MAAc,IAARyM,EAAI7Q,GACvB,OAAkB,IAAX1F,KAAKyE,EAAU,OAAOO,OAAOwS,EAAG,MAAMxS,OAAO7C,EAAG,OAAO6C,OAAOU,EAAG,MAAQ,QAAQV,OAAOwS,EAAG,MAAMxS,OAAO7C,EAAG,OAAO6C,OAAOU,EAAG,OAAOV,OAAOhF,KAAK6uI,OAAQ,MAKlKJ,EAAUzsI,UAAU0tI,MAAQ,WACxB,IAAIp5H,EAAM22H,EAASjtI,KAAKkB,EAAGlB,KAAK6U,EAAG7U,KAAK4G,GACxC,MAAO,CAAE4Q,EAAW,IAARlB,EAAIkB,EAASrV,EAAGmU,EAAInU,EAAG9B,EAAGiW,EAAIjW,EAAGoE,EAAGzE,KAAKyE,IAMzDgqI,EAAUzsI,UAAU2tI,YAAc,WAC9B,IAAIr5H,EAAM22H,EAASjtI,KAAKkB,EAAGlB,KAAK6U,EAAG7U,KAAK4G,GACpC4Q,EAAInS,KAAKyE,MAAc,IAARwM,EAAIkB,GACnBrV,EAAIkD,KAAKyE,MAAc,IAARwM,EAAInU,GACnB9B,EAAIgF,KAAKyE,MAAc,IAARwM,EAAIjW,GACvB,OAAkB,IAAXL,KAAKyE,EAAU,OAAOO,OAAOwS,EAAG,MAAMxS,OAAO7C,EAAG,OAAO6C,OAAO3E,EAAG,MAAQ,QAAQ2E,OAAOwS,EAAG,MAAMxS,OAAO7C,EAAG,OAAO6C,OAAO3E,EAAG,OAAO2E,OAAOhF,KAAK6uI,OAAQ,MAMlKJ,EAAUzsI,UAAU4tI,MAAQ,SAAUvC,GAElC,YADmB,IAAfA,IAAyBA,GAAa,GACnCD,EAASptI,KAAKkB,EAAGlB,KAAK6U,EAAG7U,KAAK4G,EAAGymI,IAM5CoB,EAAUzsI,UAAU6tI,YAAc,SAAUxC,GAExC,YADmB,IAAfA,IAAyBA,GAAa,GACnC,IAAMrtI,KAAK4vI,MAAMvC,IAM5BoB,EAAUzsI,UAAU8tI,OAAS,SAAUC,GAEnC,YADmB,IAAfA,IAAyBA,GAAa,GHsB3C,SAAmB7uI,EAAG2T,EAAGjO,EAAGnC,EAAGsrI,GAClC,IAAIl5H,EAAM,CACNm2H,EAAK3nI,KAAKyE,MAAM5I,GAAG+B,SAAS,KAC5B+pI,EAAK3nI,KAAKyE,MAAM+K,GAAG5R,SAAS,KAC5B+pI,EAAK3nI,KAAKyE,MAAMlD,GAAG3D,SAAS,KAC5B+pI,EAAKM,EAAoB7oI,KAG7B,OAAIsrI,GACAl5H,EAAI,GAAG/O,WAAW+O,EAAI,GAAGjL,OAAO,KAChCiL,EAAI,GAAG/O,WAAW+O,EAAI,GAAGjL,OAAO,KAChCiL,EAAI,GAAG/O,WAAW+O,EAAI,GAAGjL,OAAO,KAChCiL,EAAI,GAAG/O,WAAW+O,EAAI,GAAGjL,OAAO,IACzBiL,EAAI,GAAGjL,OAAO,GAAKiL,EAAI,GAAGjL,OAAO,GAAKiL,EAAI,GAAGjL,OAAO,GAAKiL,EAAI,GAAGjL,OAAO,GAE3EiL,EAAIxE,KAAK,IGpCL29H,CAAUhwI,KAAKkB,EAAGlB,KAAK6U,EAAG7U,KAAK4G,EAAG5G,KAAKyE,EAAGsrI,IAMrDtB,EAAUzsI,UAAUiuI,aAAe,SAAUF,GAEzC,YADmB,IAAfA,IAAyBA,GAAa,GACnC,IAAM/vI,KAAK8vI,OAAOC,IAK7BtB,EAAUzsI,UAAUitI,MAAQ,WACxB,MAAO,CACH/tI,EAAGmE,KAAKyE,MAAM9J,KAAKkB,GACnB2T,EAAGxP,KAAKyE,MAAM9J,KAAK6U,GACnBjO,EAAGvB,KAAKyE,MAAM9J,KAAK4G,GACnBnC,EAAGzE,KAAKyE,IAOhBgqI,EAAUzsI,UAAUkuI,YAAc,WAC9B,IAAIhvI,EAAImE,KAAKyE,MAAM9J,KAAKkB,GACpB2T,EAAIxP,KAAKyE,MAAM9J,KAAK6U,GACpBjO,EAAIvB,KAAKyE,MAAM9J,KAAK4G,GACxB,OAAkB,IAAX5G,KAAKyE,EAAU,OAAOO,OAAO9D,EAAG,MAAM8D,OAAO6P,EAAG,MAAM7P,OAAO4B,EAAG,KAAO,QAAQ5B,OAAO9D,EAAG,MAAM8D,OAAO6P,EAAG,MAAM7P,OAAO4B,EAAG,MAAM5B,OAAOhF,KAAK6uI,OAAQ,MAK9JJ,EAAUzsI,UAAUmuI,gBAAkB,WAClC,IAAIC,EAAM,SAAUnuH,GAAK,MAAO,GAAGjd,OAAOK,KAAKyE,MAAwB,IAAlB2iI,EAAQxqH,EAAG,MAAa,MAC7E,MAAO,CACH/gB,EAAGkvI,EAAIpwI,KAAKkB,GACZ2T,EAAGu7H,EAAIpwI,KAAK6U,GACZjO,EAAGwpI,EAAIpwI,KAAK4G,GACZnC,EAAGzE,KAAKyE,IAMhBgqI,EAAUzsI,UAAUquI,sBAAwB,WACxC,IAAIC,EAAM,SAAUruH,GAAK,OAAO5c,KAAKyE,MAAwB,IAAlB2iI,EAAQxqH,EAAG,OACtD,OAAkB,IAAXjiB,KAAKyE,EACN,OAAOO,OAAOsrI,EAAItwI,KAAKkB,GAAI,OAAO8D,OAAOsrI,EAAItwI,KAAK6U,GAAI,OAAO7P,OAAOsrI,EAAItwI,KAAK4G,GAAI,MACjF,QAAQ5B,OAAOsrI,EAAItwI,KAAKkB,GAAI,OAAO8D,OAAOsrI,EAAItwI,KAAK6U,GAAI,OAAO7P,OAAOsrI,EAAItwI,KAAK4G,GAAI,OAAO5B,OAAOhF,KAAK6uI,OAAQ,MAKvHJ,EAAUzsI,UAAUuuI,OAAS,WACzB,GAAe,IAAXvwI,KAAKyE,EACL,MAAO,cAEX,GAAIzE,KAAKyE,EAAI,EACT,OAAO,EAGX,IADA,IAAIoS,EAAM,IAAMu2H,EAASptI,KAAKkB,EAAGlB,KAAK6U,EAAG7U,KAAK4G,GAAG,GACxC0wB,EAAK,EAAGle,EAAKtY,OAAO0vI,QAAQ/C,GAAQn2G,EAAKle,EAAG9W,OAAQg1B,IAAM,CAC/D,IAAI+Q,EAAKjvB,EAAGke,GAAK31B,EAAM0mC,EAAG,GAC1B,GAAIxxB,IADkCwxB,EAAG,GAErC,OAAO1mC,EAGf,OAAO,GAEX8sI,EAAUzsI,UAAUiB,SAAW,SAAUikH,GACrC,IAAIupB,EAAYhjD,QAAQy5B,GACxBA,EAASA,QAAuCA,EAASlnH,KAAKknH,OAC9D,IAAIwpB,GAAkB,EAClBC,EAAW3wI,KAAKyE,EAAI,GAAKzE,KAAKyE,GAAK,EAEvC,OADwBgsI,IAAaE,IAAazpB,EAAOp/G,WAAW,QAAqB,SAAXo/G,GAS/D,QAAXA,IACAwpB,EAAkB1wI,KAAKkwI,eAEZ,SAAXhpB,IACAwpB,EAAkB1wI,KAAKqwI,yBAEZ,QAAXnpB,GAA+B,SAAXA,IACpBwpB,EAAkB1wI,KAAK6vI,eAEZ,SAAX3oB,IACAwpB,EAAkB1wI,KAAK6vI,aAAY,IAExB,SAAX3oB,IACAwpB,EAAkB1wI,KAAKiwI,cAAa,IAEzB,SAAX/oB,IACAwpB,EAAkB1wI,KAAKiwI,gBAEZ,SAAX/oB,IACAwpB,EAAkB1wI,KAAKuwI,UAEZ,QAAXrpB,IACAwpB,EAAkB1wI,KAAK2vI,eAEZ,QAAXzoB,IACAwpB,EAAkB1wI,KAAKyvI,eAEpBiB,GAAmB1wI,KAAK6vI,eAhCZ,SAAX3oB,GAAgC,IAAXlnH,KAAKyE,EACnBzE,KAAKuwI,SAETvwI,KAAKkwI,eA+BpBzB,EAAUzsI,UAAU0rB,SAAW,WAC3B,OAAQroB,KAAKyE,MAAM9J,KAAKkB,IAAM,KAAOmE,KAAKyE,MAAM9J,KAAK6U,IAAM,GAAKxP,KAAKyE,MAAM9J,KAAK4G,IAEpF6nI,EAAUzsI,UAAUyM,MAAQ,WACxB,OAAO,IAAIggI,EAAUzuI,KAAKiD,aAM9BwrI,EAAUzsI,UAAU6xG,QAAU,SAAU+8B,QACrB,IAAXA,IAAqBA,EAAS,IAClC,IAAIt6H,EAAMtW,KAAK0vI,QAGf,OAFAp5H,EAAIjW,GAAKuwI,EAAS,IAClBt6H,EAAIjW,EAAIwsI,EAAQv2H,EAAIjW,GACb,IAAIouI,EAAUn4H,IAMzBm4H,EAAUzsI,UAAU6uI,SAAW,SAAUD,QACtB,IAAXA,IAAqBA,EAAS,IAClC,IAAIz6H,EAAMnW,KAAKivI,QAIf,OAHA94H,EAAIjV,EAAImE,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAK4Q,EAAIjV,EAAImE,KAAKyE,OAAc8mI,EAAS,IAAjB,OACrDz6H,EAAItB,EAAIxP,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAK4Q,EAAItB,EAAIxP,KAAKyE,OAAc8mI,EAAS,IAAjB,OACrDz6H,EAAIvP,EAAIvB,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAK4Q,EAAIvP,EAAIvB,KAAKyE,OAAc8mI,EAAS,IAAjB,OAC9C,IAAInC,EAAUt4H,IAOzBs4H,EAAUzsI,UAAU8xG,OAAS,SAAU88B,QACpB,IAAXA,IAAqBA,EAAS,IAClC,IAAIt6H,EAAMtW,KAAK0vI,QAGf,OAFAp5H,EAAIjW,GAAKuwI,EAAS,IAClBt6H,EAAIjW,EAAIwsI,EAAQv2H,EAAIjW,GACb,IAAIouI,EAAUn4H,IAOzBm4H,EAAUzsI,UAAU8uI,KAAO,SAAUF,GAEjC,YADe,IAAXA,IAAqBA,EAAS,IAC3B5wI,KAAKmO,IAAI,QAASyiI,IAO7BnC,EAAUzsI,UAAU+uI,MAAQ,SAAUH,GAElC,YADe,IAAXA,IAAqBA,EAAS,IAC3B5wI,KAAKmO,IAAI,QAASyiI,IAO7BnC,EAAUzsI,UAAUgyG,WAAa,SAAU48B,QACxB,IAAXA,IAAqBA,EAAS,IAClC,IAAIt6H,EAAMtW,KAAK0vI,QAGf,OAFAp5H,EAAInU,GAAKyuI,EAAS,IAClBt6H,EAAInU,EAAI0qI,EAAQv2H,EAAInU,GACb,IAAIssI,EAAUn4H,IAMzBm4H,EAAUzsI,UAAU+xG,SAAW,SAAU68B,QACtB,IAAXA,IAAqBA,EAAS,IAClC,IAAIt6H,EAAMtW,KAAK0vI,QAGf,OAFAp5H,EAAInU,GAAKyuI,EAAS,IAClBt6H,EAAInU,EAAI0qI,EAAQv2H,EAAInU,GACb,IAAIssI,EAAUn4H,IAMzBm4H,EAAUzsI,UAAUgvI,UAAY,WAC5B,OAAOhxI,KAAKg0G,WAAW,MAM3By6B,EAAUzsI,UAAUivI,KAAO,SAAUL,GACjC,IAAIt6H,EAAMtW,KAAK0vI,QACXx8B,GAAO58F,EAAIkB,EAAIo5H,GAAU,IAE7B,OADAt6H,EAAIkB,EAAI07F,EAAM,EAAI,IAAMA,EAAMA,EACvB,IAAIu7B,EAAUn4H,IAMzBm4H,EAAUzsI,UAAUmM,IAAM,SAAU/E,EAAOwnI,QACxB,IAAXA,IAAqBA,EAAS,IAClC,IAAIM,EAAOlxI,KAAKivI,QACZkC,EAAO,IAAI1C,EAAUrlI,GAAO6lI,QAC5B/sI,EAAI0uI,EAAS,IAOjB,OAAO,IAAInC,EANA,CACPvtI,GAAIiwI,EAAKjwI,EAAIgwI,EAAKhwI,GAAKgB,EAAIgvI,EAAKhwI,EAChC2T,GAAIs8H,EAAKt8H,EAAIq8H,EAAKr8H,GAAK3S,EAAIgvI,EAAKr8H,EAChCjO,GAAIuqI,EAAKvqI,EAAIsqI,EAAKtqI,GAAK1E,EAAIgvI,EAAKtqI,EAChCnC,GAAI0sI,EAAK1sI,EAAIysI,EAAKzsI,GAAKvC,EAAIgvI,EAAKzsI,KAIxCgqI,EAAUzsI,UAAUovI,UAAY,SAAUC,EAASC,QAC/B,IAAZD,IAAsBA,EAAU,QACrB,IAAXC,IAAqBA,EAAS,IAClC,IAAIh7H,EAAMtW,KAAK0vI,QACX6B,EAAO,IAAMD,EACbE,EAAM,CAACxxI,MACX,IAAKsW,EAAIkB,GAAKlB,EAAIkB,GAAM+5H,EAAOF,GAAY,GAAK,KAAO,MAAOA,GAC1D/6H,EAAIkB,GAAKlB,EAAIkB,EAAI+5H,GAAQ,IACzBC,EAAI1uI,KAAK,IAAI2rI,EAAUn4H,IAE3B,OAAOk7H,GAKX/C,EAAUzsI,UAAUyvI,WAAa,WAC7B,IAAIn7H,EAAMtW,KAAK0vI,QAEf,OADAp5H,EAAIkB,GAAKlB,EAAIkB,EAAI,KAAO,IACjB,IAAIi3H,EAAUn4H,IAEzBm4H,EAAUzsI,UAAU0vI,cAAgB,SAAUL,QAC1B,IAAZA,IAAsBA,EAAU,GAOpC,IANA,IAAI96H,EAAMvW,KAAKwvI,QACXh4H,EAAIjB,EAAIiB,EACRrV,EAAIoU,EAAIpU,EACRuD,EAAI6Q,EAAI7Q,EACRizC,EAAM,GACNg5F,EAAe,EAAIN,EAChBA,KACH14F,EAAI71C,KAAK,IAAI2rI,EAAU,CAAEj3H,EAAGA,EAAGrV,EAAGA,EAAGuD,EAAGA,KACxCA,GAAKA,EAAIisI,GAAgB,EAE7B,OAAOh5F,GAEX81F,EAAUzsI,UAAU4vI,gBAAkB,WAClC,IAAIt7H,EAAMtW,KAAK0vI,QACXl4H,EAAIlB,EAAIkB,EACZ,MAAO,CACHxX,KACA,IAAIyuI,EAAU,CAAEj3H,GAAIA,EAAI,IAAM,IAAKrV,EAAGmU,EAAInU,EAAG9B,EAAGiW,EAAIjW,IACpD,IAAIouI,EAAU,CAAEj3H,GAAIA,EAAI,KAAO,IAAKrV,EAAGmU,EAAInU,EAAG9B,EAAGiW,EAAIjW,MAM7DouI,EAAUzsI,UAAU6vI,aAAe,SAAUthF,GACzC,IAAIuhF,EAAK9xI,KAAKivI,QACV8C,EAAK,IAAItD,EAAUl+E,GAAY0+E,QACnC,OAAO,IAAIR,EAAU,CACjBvtI,EAAG6wI,EAAG7wI,GAAK4wI,EAAG5wI,EAAI6wI,EAAG7wI,GAAK4wI,EAAGrtI,EAC7BoQ,EAAGk9H,EAAGl9H,GAAKi9H,EAAGj9H,EAAIk9H,EAAGl9H,GAAKi9H,EAAGrtI,EAC7BmC,EAAGmrI,EAAGnrI,GAAKkrI,EAAGlrI,EAAImrI,EAAGnrI,GAAKkrI,EAAGrtI,KAMrCgqI,EAAUzsI,UAAUgwI,MAAQ,WACxB,OAAOhyI,KAAKiyI,OAAO,IAKvBxD,EAAUzsI,UAAUkwI,OAAS,WACzB,OAAOlyI,KAAKiyI,OAAO,IAMvBxD,EAAUzsI,UAAUiwI,OAAS,SAAUpwI,GAKnC,IAJA,IAAIyU,EAAMtW,KAAK0vI,QACXl4H,EAAIlB,EAAIkB,EACR5U,EAAS,CAAC5C,MACVmyI,EAAY,IAAMtwI,EACbzB,EAAI,EAAGA,EAAIyB,EAAGzB,IACnBwC,EAAOE,KAAK,IAAI2rI,EAAU,CAAEj3H,GAAIA,EAAIpX,EAAI+xI,GAAa,IAAKhwI,EAAGmU,EAAInU,EAAG9B,EAAGiW,EAAIjW,KAE/E,OAAOuC,GAKX6rI,EAAUzsI,UAAUmpF,OAAS,SAAU/hF,GACnC,OAAOpJ,KAAKkwI,gBAAkB,IAAIzB,EAAUrlI,GAAO8mI,eAEhDzB,EA9doB,GCF/B,IAeI2D,EAAe,CAAC,CAClBvvI,MAAO,EACP4gD,QAAS,KACR,CACD5gD,MAAO,EACP4gD,QAAS,KACR,CACD5gD,MAAO,EACP4gD,QAAS,IACR,CACD5gD,MAAO,EACP4gD,QAAS,KACR,CACD5gD,MAAO,EACP4gD,QAAS,KACR,CACD5gD,MAAO,EACP4gD,QAAS,KACR,CACD5gD,MAAO,EACP4gD,QAAS,IACR,CACD5gD,MAAO,EACP4gD,QAAS,KACR,CACD5gD,MAAO,EACP4gD,QAAS,KACR,CACD5gD,MAAO,EACP4gD,QAAS,MAGX,SAAS4uF,EAAO97H,EAAKnW,EAAGkyI,GACtB,IAAIp/B,EAcJ,OAXEA,EADE7tG,KAAKyE,MAAMyM,EAAIiB,IAAM,IAAMnS,KAAKyE,MAAMyM,EAAIiB,IAAM,IAC5C86H,EAAQjtI,KAAKyE,MAAMyM,EAAIiB,GAnDnB,EAmDkCpX,EAAIiF,KAAKyE,MAAMyM,EAAIiB,GAnDrD,EAmDoEpX,EAExEkyI,EAAQjtI,KAAKyE,MAAMyM,EAAIiB,GArDnB,EAqDkCpX,EAAIiF,KAAKyE,MAAMyM,EAAIiB,GArDrD,EAqDoEpX,GAGtE,EACR8yG,GAAO,IACEA,GAAO,MAChBA,GAAO,KAGFA,EAGT,SAASq/B,EAAch8H,EAAKnW,EAAGkyI,GAE7B,OAAc,IAAV/7H,EAAIiB,GAAqB,IAAVjB,EAAIpU,EACdoU,EAAIpU,IAMXqwI,EADEF,EACW/7H,EAAIpU,EAxEA,IAwEqB/B,EA9DrB,IA+DRA,EACImW,EAAIpU,EA1EA,IA4EJoU,EAAIpU,EA1EC,IA0EqB/B,GAIxB,IACfoyI,EAAa,GAIXF,GA7EgB,IA6EPlyI,GAAyBoyI,EAAa,KACjDA,EAAa,IAGXA,EAAa,MACfA,EAAa,KAGRloI,OAAOkoI,EAAWvoI,QAAQ,KAxBjC,IAAIuoI,EA2BN,SAASC,EAASl8H,EAAKnW,EAAGkyI,GACxB,IAAIjxI,EAYJ,OATEA,EADEixI,EACM/7H,EAAI7Q,EAhGM,IAgGgBtF,EAE1BmW,EAAI7Q,EAhGM,IAgGgBtF,GAGxB,IACViB,EAAQ,GAGHiJ,OAAOjJ,EAAM4I,QAAQ,IAG9B,SAASyoI,EAAStpI,GAKhB,IAJA,IAAIslI,EAAO3/H,UAAUzM,OAAS,QAAsB2J,IAAjB8C,UAAU,GAAmBA,UAAU,GAAK,GAC3E4jI,EAAW,GACXC,EAAS,IAAInE,EAAUrlI,GAElBhJ,EA7GW,EA6GUA,EAAI,EAAGA,GAAK,EAAG,CAC3C,IAAImW,EAAMq8H,EAAOpD,QACb39B,EAAc,IAAI48B,EAAU,CAC9Bj3H,EAAG66H,EAAO97H,EAAKnW,GAAG,GAClB+B,EAAGowI,EAAch8H,EAAKnW,GAAG,GACzBsF,EAAG+sI,EAASl8H,EAAKnW,GAAG,KACnByvI,cACH8C,EAAS7vI,KAAK+uG,GAGhB8gC,EAAS7vI,KAAK8vI,EAAO/C,eAErB,IAAK,IAAIv4G,EAAK,EAAGA,GAvHE,EAuHoBA,GAAM,EAAG,CAC9C,IAAIu7G,EAAOD,EAAOpD,QAEdsD,EAAe,IAAIrE,EAAU,CAC/Bj3H,EAAG66H,EAAOQ,EAAMv7G,GAChBn1B,EAAGowI,EAAcM,EAAMv7G,GACvB5xB,EAAG+sI,EAASI,EAAMv7G,KACjBu4G,cAEH8C,EAAS7vI,KAAKgwI,GAIhB,MAAmB,SAAfpE,EAAKqE,MACAX,EAAa7hI,KAAI,SAAUyiI,GAChC,IAAInwI,EAAQmwI,EAAKnwI,MACb4gD,EAAUuvF,EAAKvvF,QAEnB,OADsB,IAAIgrF,EAAUC,EAAKrG,iBAAmB,WAAWl6H,IAAIwkI,EAAS9vI,GAAkB,IAAV4gD,GAAeosF,iBAKxG8C,EAGT,IAAIM,EAAsB,CACxB1oH,IAAK,UACL2oH,QAAS,UACT1pH,OAAQ,UACRrD,KAAM,UACN8F,OAAQ,UACRhE,KAAM,UACN5B,MAAO,UACPjC,KAAM,UACNX,KAAM,UACN0vH,SAAU,UACV9oH,OAAQ,UACRjC,QAAS,UACT7B,KAAM,WAEJ6sH,EAAiB,GACjBC,EAAqB,GACzBvyI,OAAO8C,KAAKqvI,GAAqBxiI,SAAQ,SAAU9O,GACjDyxI,EAAezxI,GAAO+wI,EAASO,EAAoBtxI,IACnDyxI,EAAezxI,GAAK2xI,QAAUF,EAAezxI,GAAK,GAElD0xI,EAAmB1xI,GAAO+wI,EAASO,EAAoBtxI,GAAM,CAC3DoxI,MAAO,OACP1K,gBAAiB,YAEnBgL,EAAmB1xI,GAAK2xI,QAAUD,EAAmB1xI,GAAK,MAElDyxI,EAAe7oH,IACX6oH,EAAeF,QAClBE,EAAejtH,KACbitH,EAAe5pH,OACf4pH,EAAennH,OACjBmnH,EAAenrH,KACdmrH,EAAe/sH,MAChB+sH,EAAehvH,KACfgvH,EAAe3vH,KACX2vH,EAAeD,SACjBC,EAAe/oH,OACd+oH,EAAehrH,QAClBgrH,EAAe7sH,KAZ1B,IChLagtH,EAAW,SAACC,EAAWC,EAAYC,GAC9C,IAAMC,EAAK,IAAMH,GACXI,EAAK,IAAMH,GACjB,OAAO,IAAM,EACV,EAAIC,GAAcC,EAAGppH,MAAQmpH,EAAaE,EAAGrpH,OAC7C,EAAImpH,GAAcC,EAAGttH,QAAUqtH,EAAaE,EAAGvtH,SAC/C,EAAIqtH,GAAcC,EAAGlwH,OAASiwH,EAAaE,EAAGnwH,SAC9CtN,OAwJQ09H,EAA4B,SACvCp7G,EACA+6G,EACAT,EACAe,GAEA,YAJA,IAAAN,MAAA,aACA,IAAAT,MAAA,gBACA,IAAAe,MAAA,sBAEc,YAAVf,EA3J4B,SAChCt6G,EACA+6G,EACAM,QADA,IAAAN,MAAA,aACA,IAAAM,MAAA,sBAEA,IAAMC,EAAkBR,EAASC,EAAW/6G,EAAc,KAAMtiB,MAAMlT,WAChE+wI,EAAiBT,EAASC,EAAW/6G,EAAc,IAAKtiB,MAAMlT,WAC9DgxI,EAAiBV,EAASC,EAAW/6G,EAAc,IAAKtiB,MAAMlT,WAC9DixI,EAAiBX,EAASC,EAAW/6G,EAAc,IAAKtiB,MAAMlT,WAE9DkxI,EAAkBZ,EAASC,EAAWM,EAAc,KAAM39H,MAAMlT,WAChEmxI,EAAkBb,EAASC,EAAWM,EAAc,KAAM39H,MAAMlT,WAChEoxI,EAAiBd,EAASC,EAAWM,EAAc,IAAK39H,MAAMlT,WAC9DqxI,EAAiBf,EAASC,EAAWM,EAAc,IAAK39H,MAAMlT,WAC9DsxI,EAAiBhB,EAASC,EAAWM,EAAc,IAAK39H,MAAMlT,WAE9DuxI,EAAqB9B,EAASj6G,EAAc,CAChDs6G,MAAO,UACP1K,gBAAiBmL,IAEbiB,EAAa,IAAMh8G,GAAc5hB,MAAMnL,cACvCgpI,EAAaF,EAAmB/xI,QAAQgyI,GAC1CE,EAAgBl8G,EAIpB,OAHoB,IAAhBi8G,IACFC,EAAgBH,EAAmBE,EAAa,IAE3C,CAELj2H,WAAYga,EACZ/Z,SAAUs1H,EAEVn1H,aAAc4Z,EACd7Z,WAAYm1H,EAEZr0H,eAAgBw0H,EAChBz0H,aAAcs0H,EAEd30H,eAAgBqZ,EAChBtZ,aAAcq0H,EAEdj0H,gBAAiBo1H,EACjBr1H,cAAe20H,EAEfp0H,cAAe00H,EACf30H,YAAaw0H,EAGbp0H,eAAgBu0H,EAChBp0H,iBAAkBsY,EAClBnY,mBAAoBg0H,EACpBl0H,mBAAoBqY,EACpBpY,oBAAqBoY,EACrBlY,kBAAmB8zH,EAGnBxzH,gBAAiB0zH,EACjB3zH,cAAeuzH,EAEflzH,kBAAmBwX,EACnBvX,gBAAiB6yH,EAEjBxyH,oBAAqBgzH,EACrB/yH,kBAAmB2yH,EAEnBhzH,oBAAqBsX,EACrBrX,kBAAmB+yH,EAEnB9yH,qBAAsBszH,EACtBrzH,mBAAoB6yH,EAEpB1yH,mBAAoB6yH,EACpB5yH,iBAAkB0yH,GAqFXQ,CAA0Bn8G,EAAc+6G,EAAW,sBAjF/B,SAAC/6G,EAAc+6G,EAAoBM,QAApB,IAAAN,MAAA,aAAoB,IAAAM,MAAA,QAChE,IAAMG,EAAiBV,EAASC,EAAW/6G,EAAc,IAAKtiB,MAAMlT,WAC9D4xI,EAAiBtB,EAASC,EAAW/6G,EAAc,IAAKtiB,MAAMlT,WAC9D6xI,EAAiBvB,EAASC,EAAW/6G,EAAc,IAAKtiB,MAAMlT,WAC9D8xI,EAAiBxB,EAASC,EAAW/6G,EAAc,IAAKtiB,MAAMlT,WAE9DqxI,EAAiBf,EAASC,EAAWM,EAAc,IAAK39H,MAAMlT,WAC9D+xI,EAAkBzB,EAASC,EAAWM,EAAc,KAAM39H,MAAMlT,WAChEsxI,EAAiBhB,EAASC,EAAWM,EAAc,IAAK39H,MAAMlT,WAC9DgyI,EAAiB1B,EAASC,EAAWM,EAAc,IAAK39H,MAAMlT,WAC9DiyI,EAAiB3B,EAASC,EAAWM,EAAc,IAAK39H,MAAMlT,WAE9DuxI,EAAqB9B,EAASj6G,EAAc,CAAEs6G,MAAO,OAAQ1K,gBAAiBmL,IAC9EiB,EAAa,IAAMh8G,GAAc5hB,MAAMnL,cACvCgpI,EAAaF,EAAmB/xI,QAAQgyI,GAC1CE,EAAgBl8G,EAIpB,OAHoB,IAAhBi8G,IACFC,EAAgBH,EAAmBE,EAAa,IAE3C,CAELj2H,WAAYs2H,EACZr2H,SAAUu1H,EAEVp1H,aAAc4Z,EACd7Z,WAAYi2H,EAEZn1H,eAAgBq1H,EAChBt1H,aAAcw0H,EAEd70H,eAAgBqZ,EAChBtZ,aAAc80H,EAEd10H,gBAAiBkZ,EACjBnZ,cAAew1H,EAEfj1H,cAAeq1H,EACft1H,YAAao1H,EAGbh1H,eAAgB8zH,EAChB3zH,iBAAkBsY,EAClBnY,mBAAoBwzH,EACpB1zH,mBAAoBqY,EACpBpY,oBAAqBoY,EACrBlY,kBAAmBg0H,EAGnB1zH,gBAAiBo0H,EACjBr0H,cAAeo0H,EAEf/zH,kBAAmBwX,EACnBvX,gBAAiBozH,EAEjB/yH,oBAAqB0zH,EACrBzzH,kBAAmBwzH,EAEnB7zH,oBAAqBsX,EACrBrX,kBAAmBkzH,EAEnBjzH,qBAAsBszH,EACtBrzH,mBAAoB0zH,EAEpBvzH,mBAAoBwzH,EACpBvzH,iBAAkB4yH,GAkBba,CAAuB18G,EAAc+6G,EAAW,SAG5C4B,EAA8B,SACzCC,EACA7B,EACAT,EACAe,QAFA,IAAAN,MAAA,aACA,IAAAT,MAAA,gBACA,IAAAe,MAAA,sBAEA,IAAMwB,EAAO,GAIb,OAHAD,EAAc5kI,SAAQ,SAAC8kI,GACrBD,EAAKxyI,KAAK+wI,EAA0B0B,EAAQ/B,EAAWT,EAAOe,OAEzDwB,I,qQC7LI,SAAS/oH,EAAQxkB,GAAG,OAAOwkB,EAAQ,mBAAmBprB,QAAQ,YAAiBA,OAAOiU,UAAS,SAASrN,GAAG,SAAcA,IAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmB5G,QAAQ4G,EAAE+E,cAAc3L,QAAQ4G,IAAI5G,OAAOa,UAAU,SAA3E,EAA2F+F,KAAIA,GAAGjH,OAAOC,eAAenB,EAAQ,aAAa,CAACyB,OAAM,IAAKzB,EAAQq5H,oBAAqjB,SAA6BlxH,GAAG,OAAOb,EAAM+xH,oBAAoB/xH,EAAM+xH,oBAAoBlxH,IAAI,YAAY,oBAAoBsF,OAAO,YAAYkf,EAAQlf,UAAUA,OAAOM,qBAAqBN,OAAOM,qBAAqBK,cAAcjG,IAAvvBnI,EAAQwN,sBAAwP,SAA+BrF,GAAG,OAAOb,EAAMkG,sBAAsBlG,EAAMkG,sBAAsBrF,IAAI,YAAY,oBAAoBsF,OAAO,YAAYkf,EAAQlf,UAAUA,OAAOD,sBAAsBC,OAAOD,sBAAsB,SAASrF,GAAG,OAAO2F,WAAW3F,EAAE,MAAMA,IAAtdnI,EAAQ41I,iBAA+C,SAA0BztI,QAAG,IAASA,IAAIA,EAAE,IAAIb,EAAMkG,sBAAsBrF,EAAEqF,sBAAsBlG,EAAM+xH,oBAAoBlxH,EAAE4F,sBAA7I,IAAIzG,EAAM,I,sPCA7c,IAAI2N,EAGJA,EAAK,WACJ,OAAO7U,KADH,GAIL,IAEC6U,EAAIA,GAAK,IAAIwX,SAAS,cAAb,GACR,MAAOtkB,GAEc,YAAlB,oBAAOsF,OAAP,cAAOA,WAAqBwH,EAAIxH,QAOrCxN,EAAOD,QAAUiV,G,gCCnBJ/T,OAAOC,eAAenB,EAAQ,aAAa,CAACyB,OAAM,IAAKzB,EAAQ61I,QAAQ71I,EAAQ81I,YAAO,EAAO,IAAIC,EAAU3/H,EAAQ,IAAoB0/H,EAAO,WAAW,SAASp0I,EAAEA,GAAG,IAAIyG,EAAE4tI,EAAUlhC,gBAAgBnzG,EAAE6B,MAAMnD,KAAK41I,eAAe,IAAI7tI,EAAEzG,GAAG,OAAOA,EAAEU,UAAUsnD,OAAO,SAAShoD,GAAG,OAAOtB,KAAK41I,eAAetsF,OAAOhoD,IAAIA,EAAEU,UAAU2sB,UAAU,SAASrtB,GAAGtB,KAAK41I,eAAejnH,UAAUrtB,IAAIA,EAAEU,UAAUuE,KAAK,SAASjF,GAAGtB,KAAK41I,eAAervI,KAAKjF,IAAIA,EAAEU,UAAUm4D,QAAQ,WAAWn6D,KAAK41I,eAAez7E,WAAW74D,EAAEU,UAAUysB,cAAc,WAAW,OAAOzuB,KAAK41I,eAAennH,iBAAiBntB,EAAEU,UAAUugC,QAAQ,WAAW,OAAOviC,KAAK41I,eAAerzG,WAAWjhC,EAA5f,GAAigB1B,EAAQ81I,OAAOA,EAAO91I,EAAQ61I,QAAQ,IAAIjoD,MAAM,GAAG,CAACvsF,IAAI,SAASK,EAAEyG,GAAG,OAAO4tI,EAAUlhC,gBAAgB1sG,IAAIT,IAAI,SAAShG,EAAEyG,EAAElH,GAAG,OAAO80I,EAAUhhC,eAAe5sG,EAAElH,IAAG,M,iGCkB1zBg1I,G,4BAAK,CACT79H,QAAS,IAAOA,QAChBq9D,MAAK,IACLq9C,KAAI,IACJgjB,OAAM,IACND,QAAO,IACP9gC,eAAc,IACdD,iBAAgB,IAChBohC,OAAM,IACN1mH,iBAAgB,IAChBge,cAAa,IACbH,aAAY,IACZT,aAAY,IACZupG,UAAS,EACTC,MAAK,IACLjV,OAAM,IACN70F,MAAK,MAWP,IAPE+pG,EAOItO,GAPJsO,EAO4C,IALrC,W,IAAU,sDACf,OAAOA,EAAiBxuI,MAAM,KAAM,YAAI+G,EAAM,CAAAqnI,OAMjDA,EAAWlO,cAAgBA,EAuBb,a,gCCtEF7mI,OAAOC,eAAenB,EAAQ,aAAa,CAACyB,OAAM,IAAKzB,EAAQoyH,aAAapyH,EAAQ+xH,aAAa/xH,EAAQ8xH,gBAAgB9xH,EAAQ4xH,mBAAc,EAAO,IAAIv0G,EAAOjH,EAAQ,KAAUkgI,EAAYlgI,EAAQ,KAAiJ,SAAS07G,EAAgB3pH,EAAEzG,GAAG,OAAOA,EAAEA,EAAEyG,EAAE,IAAIA,EAAwbnI,EAAQ4xH,cAAjnB,SAAuBzpH,EAAEzG,EAAElB,GAAG,IAAIyB,EAAE,EAAE,OAAM,EAAGob,EAAOnW,UAAUiB,KAAKlG,EAAEkG,EAAES,MAAM,MAAMlG,QAAQT,EAAE,EAAEP,EAAEO,EAAE6vH,EAAgBpwH,EAAElB,IAAIyB,EAAE,GAAGP,GAA6gB1B,EAAQ8xH,gBAAgBA,EAAgB9xH,EAAQ+xH,aAA1gB,SAAsB5pH,EAAEzG,GAAG,IAAIlB,EAAEyB,GAAE,EAAGq0I,EAAY1zH,uBAAuBthB,EAAE,EAAE,OAAM,EAAG+b,EAAO7Z,OAAO2E,IAAI,KAAKA,IAAIlG,EAAE+nD,OAAO/nD,EAAE+P,KAAKtQ,GAAE,EAAG2b,EAAOnW,UAAUiB,IAAIA,EAAE+I,SAAS,OAAO1Q,EAAE2H,EAAES,MAAM,OAAM,EAAGyU,EAAO1Z,MAAMnD,GAAG,SAAS2H,GAAG,IAAIzG,EAAEO,EAAEyQ,YAAYvK,GAAGwK,MAAMrR,EAAEI,IAAIJ,EAAEI,OAAOJ,EAAEW,EAAEyQ,YAAYvK,GAAGwK,MAAM1Q,EAAEkwH,WAAW7wH,GAAsPtB,EAAQoyH,aAA5P,SAAsBjqH,GAAG,IAAIzG,EAAEyG,EAAEqK,SAAShS,EAAE2H,EAAE8J,WAAWhQ,EAAEkG,EAAE+J,WAAW,MAAM,CAAC/J,EAAEgK,UAAUhK,EAAEiK,YAAYnQ,EAAEP,EAAE,KAAKlB,GAAGiS,KAAK,KAAK60B,W","file":"f6.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"F6\"] = factory();\n\telse\n\t\troot[\"F6\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 177);\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","\"use strict\";var cssKeywords=require(\"color-name\"),reverseKeywords={};for(var key in cssKeywords)cssKeywords.hasOwnProperty(key)&&(reverseKeywords[cssKeywords[key]]=key);var convert=module.exports={rgb:{channels:3,labels:\"rgb\"},hsl:{channels:3,labels:\"hsl\"},hsv:{channels:3,labels:\"hsv\"},hwb:{channels:3,labels:\"hwb\"},cmyk:{channels:4,labels:\"cmyk\"},xyz:{channels:3,labels:\"xyz\"},lab:{channels:3,labels:\"lab\"},lch:{channels:3,labels:\"lch\"},hex:{channels:1,labels:[\"hex\"]},keyword:{channels:1,labels:[\"keyword\"]},ansi16:{channels:1,labels:[\"ansi16\"]},ansi256:{channels:1,labels:[\"ansi256\"]},hcg:{channels:3,labels:[\"h\",\"c\",\"g\"]},apple:{channels:3,labels:[\"r16\",\"g16\",\"b16\"]},gray:{channels:1,labels:[\"gray\"]}};for(var model in convert)if(convert.hasOwnProperty(model)){if(!(\"channels\"in convert[model]))throw new Error(\"missing channels property: \"+model);if(!(\"labels\"in convert[model]))throw new Error(\"missing channel labels property: \"+model);if(convert[model].labels.length!==convert[model].channels)throw new Error(\"channel and label counts mismatch: \"+model);var channels=convert[model].channels,labels=convert[model].labels;delete convert[model].channels,delete convert[model].labels,Object.defineProperty(convert[model],\"channels\",{value:channels}),Object.defineProperty(convert[model],\"labels\",{value:labels})}function comparativeDistance(r,n){return Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2)+Math.pow(r[2]-n[2],2)}convert.rgb.hsl=function(r){var n,e,t=r[0]/255,a=r[1]/255,o=r[2]/255,c=Math.min(t,a,o),h=Math.max(t,a,o),s=h-c;return h===c?n=0:t===h?n=(a-o)/s:a===h?n=2+(o-t)/s:o===h&&(n=4+(t-a)/s),(n=Math.min(60*n,360))<0&&(n+=360),e=(c+h)/2,[n,100*(h===c?0:e<=.5?s/(h+c):s/(2-h-c)),100*e]},convert.rgb.hsv=function(r){var n,e,t,a,o,c=r[0]/255,h=r[1]/255,s=r[2]/255,l=Math.max(c,h,s),v=l-Math.min(c,h,s),u=function(r){return(l-r)/6/v+.5};return 0===v?a=o=0:(o=v/l,n=u(c),e=u(h),t=u(s),c===l?a=t-e:h===l?a=1/3+n-t:s===l&&(a=2/3+e-n),a<0?a+=1:a>1&&(a-=1)),[360*a,100*o,100*l]},convert.rgb.hwb=function(r){var n=r[0],e=r[1],t=r[2];return[convert.rgb.hsl(r)[0],100*(1/255*Math.min(n,Math.min(e,t))),100*(t=1-1/255*Math.max(n,Math.max(e,t)))]},convert.rgb.cmyk=function(r){var n=r[0]/255,e=r[1]/255,t=r[2]/255,a=Math.min(1-n,1-e,1-t);return[100*((1-n-a)/(1-a)||0),100*((1-e-a)/(1-a)||0),100*((1-t-a)/(1-a)||0),100*a]},convert.rgb.keyword=function(r){var n,e=reverseKeywords[r];if(e)return e;var t,a=1/0;for(var o in cssKeywords)cssKeywords.hasOwnProperty(o)&&(n=comparativeDistance(r,cssKeywords[o]))<a&&(a=n,t=o);return t},convert.keyword.rgb=function(r){return cssKeywords[r]},convert.rgb.xyz=function(r){var n=r[0]/255,e=r[1]/255,t=r[2]/255;return[100*(.4124*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.3576*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.1805*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)),100*(.2126*n+.7152*e+.0722*t),100*(.0193*n+.1192*e+.9505*t)]},convert.rgb.lab=function(r){var n=convert.rgb.xyz(r),e=n[0],t=n[1],a=n[2];return t/=100,a/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(t=t>.008856?Math.pow(t,1/3):7.787*t+16/116)-16,500*(e-t),200*(t-(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116))]},convert.hsl.rgb=function(r){var n,e,t,a,o,c,h=r[0]/360,s=r[1]/100,l=r[2]/100;if(0===s)return[c=255*l,c,c];for(e=2*l-(t=l<.5?l*(1+s):l+s-l*s),o=[0,0,0],n=0;n<3;n++)(a=h+1/3*-(n-1))<0&&a++,a>1&&a--,c=6*a<1?e+6*(t-e)*a:2*a<1?t:3*a<2?e+(t-e)*(2/3-a)*6:e,o[n]=255*c;return o},convert.hsl.hsv=function(r){var n=r[0],e=r[1]/100,t=r[2]/100,a=e,o=Math.max(t,.01);return e*=(t*=2)<=1?t:2-t,a*=o<=1?o:2-o,[n,100*(0===t?2*a/(o+a):2*e/(t+e)),100*((t+e)/2)]},convert.hsv.rgb=function(r){var n=r[0]/60,e=r[1]/100,t=r[2]/100,a=Math.floor(n)%6,o=n-Math.floor(n),c=255*t*(1-e),h=255*t*(1-e*o),s=255*t*(1-e*(1-o));switch(t*=255,a){case 0:return[t,s,c];case 1:return[h,t,c];case 2:return[c,t,s];case 3:return[c,h,t];case 4:return[s,c,t];case 5:return[t,c,h]}},convert.hsv.hsl=function(r){var n,e,t=r[0],a=r[1]/100,o=r[2]/100,c=Math.max(o,.01),h=(2-a)*o;return e=a*c,[t,100*(e=(e/=(n=(2-a)*c)<=1?n:2-n)||0),100*(h/=2)]},convert.hwb.rgb=function(r){var n,e,t,a,o,c,h,s=r[0]/360,l=r[1]/100,v=r[2]/100,u=l+v;switch(u>1&&(l/=u,v/=u),t=6*s-(n=Math.floor(6*s)),0!=(1&n)&&(t=1-t),a=l+t*((e=1-v)-l),n){default:case 6:case 0:o=e,c=a,h=l;break;case 1:o=a,c=e,h=l;break;case 2:o=l,c=e,h=a;break;case 3:o=l,c=a,h=e;break;case 4:o=a,c=l,h=e;break;case 5:o=e,c=l,h=a}return[255*o,255*c,255*h]},convert.cmyk.rgb=function(r){var n=r[0]/100,e=r[1]/100,t=r[2]/100,a=r[3]/100;return[255*(1-Math.min(1,n*(1-a)+a)),255*(1-Math.min(1,e*(1-a)+a)),255*(1-Math.min(1,t*(1-a)+a))]},convert.xyz.rgb=function(r){var n,e,t,a=r[0]/100,o=r[1]/100,c=r[2]/100;return e=-.9689*a+1.8758*o+.0415*c,t=.0557*a+-.204*o+1.057*c,n=(n=3.2406*a+-1.5372*o+-.4986*c)>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,t=t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,[255*(n=Math.min(Math.max(0,n),1)),255*(e=Math.min(Math.max(0,e),1)),255*(t=Math.min(Math.max(0,t),1))]},convert.xyz.lab=function(r){var n=r[0],e=r[1],t=r[2];return e/=100,t/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(e=e>.008856?Math.pow(e,1/3):7.787*e+16/116)-16,500*(n-e),200*(e-(t=t>.008856?Math.pow(t,1/3):7.787*t+16/116))]},convert.lab.xyz=function(r){var n,e,t,a=r[0];n=r[1]/500+(e=(a+16)/116),t=e-r[2]/200;var o=Math.pow(e,3),c=Math.pow(n,3),h=Math.pow(t,3);return e=o>.008856?o:(e-16/116)/7.787,n=c>.008856?c:(n-16/116)/7.787,t=h>.008856?h:(t-16/116)/7.787,[n*=95.047,e*=100,t*=108.883]},convert.lab.lch=function(r){var n,e=r[0],t=r[1],a=r[2];return(n=360*Math.atan2(a,t)/2/Math.PI)<0&&(n+=360),[e,Math.sqrt(t*t+a*a),n]},convert.lch.lab=function(r){var n=r[0],e=r[1],t=r[2]/360*2*Math.PI;return[n,e*Math.cos(t),e*Math.sin(t)]},convert.rgb.ansi16=function(r){var n=r[0],e=r[1],t=r[2],a=1 in arguments?arguments[1]:convert.rgb.hsv(r)[2];if(0===(a=Math.round(a/50)))return 30;var o=30+(Math.round(t/255)<<2|Math.round(e/255)<<1|Math.round(n/255));return 2===a&&(o+=60),o},convert.hsv.ansi16=function(r){return convert.rgb.ansi16(convert.hsv.rgb(r),r[2])},convert.rgb.ansi256=function(r){var n=r[0],e=r[1],t=r[2];return n===e&&e===t?n<8?16:n>248?231:Math.round((n-8)/247*24)+232:16+36*Math.round(n/255*5)+6*Math.round(e/255*5)+Math.round(t/255*5)},convert.ansi16.rgb=function(r){var n=r%10;if(0===n||7===n)return r>50&&(n+=3.5),[n=n/10.5*255,n,n];var e=.5*(1+~~(r>50));return[(1&n)*e*255,(n>>1&1)*e*255,(n>>2&1)*e*255]},convert.ansi256.rgb=function(r){return r>=232?[e=10*(r-232)+8,e,e]:(r-=16,[Math.floor(r/36)/5*255,Math.floor((n=r%36)/6)/5*255,n%6/5*255]);var n,e},convert.rgb.hex=function(r){var n=(((255&Math.round(r[0]))<<16)+((255&Math.round(r[1]))<<8)+(255&Math.round(r[2]))).toString(16).toUpperCase();return\"000000\".substring(n.length)+n},convert.hex.rgb=function(r){var n=r.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!n)return[0,0,0];var e=n[0];3===n[0].length&&(e=e.split(\"\").map((function(r){return r+r})).join(\"\"));var t=parseInt(e,16);return[t>>16&255,t>>8&255,255&t]},convert.rgb.hcg=function(r){var n,e=r[0]/255,t=r[1]/255,a=r[2]/255,o=Math.max(Math.max(e,t),a),c=Math.min(Math.min(e,t),a),h=o-c;return n=h<=0?0:o===e?(t-a)/h%6:o===t?2+(a-e)/h:4+(e-t)/h+4,n/=6,[360*(n%=1),100*h,100*(h<1?c/(1-h):0)]},convert.hsl.hcg=function(r){var n=r[1]/100,e=r[2]/100,t=1,a=0;return(t=e<.5?2*n*e:2*n*(1-e))<1&&(a=(e-.5*t)/(1-t)),[r[0],100*t,100*a]},convert.hsv.hcg=function(r){var n=r[1]/100,e=r[2]/100,t=n*e,a=0;return t<1&&(a=(e-t)/(1-t)),[r[0],100*t,100*a]},convert.hcg.rgb=function(r){var n=r[0]/360,e=r[1]/100,t=r[2]/100;if(0===e)return[255*t,255*t,255*t];var a,o=[0,0,0],c=n%1*6,h=c%1,s=1-h;switch(Math.floor(c)){case 0:o[0]=1,o[1]=h,o[2]=0;break;case 1:o[0]=s,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=h;break;case 3:o[0]=0,o[1]=s,o[2]=1;break;case 4:o[0]=h,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=s}return a=(1-e)*t,[255*(e*o[0]+a),255*(e*o[1]+a),255*(e*o[2]+a)]},convert.hcg.hsv=function(r){var n=r[1]/100,e=n+r[2]/100*(1-n),t=0;return e>0&&(t=n/e),[r[0],100*t,100*e]},convert.hcg.hsl=function(r){var n=r[1]/100,e=r[2]/100*(1-n)+.5*n,t=0;return e>0&&e<.5?t=n/(2*e):e>=.5&&e<1&&(t=n/(2*(1-e))),[r[0],100*t,100*e]},convert.hcg.hwb=function(r){var n=r[1]/100,e=n+r[2]/100*(1-n);return[r[0],100*(e-n),100*(1-e)]},convert.hwb.hcg=function(r){var n=r[1]/100,e=1-r[2]/100,t=e-n,a=0;return t<1&&(a=(e-t)/(1-t)),[r[0],100*t,100*a]},convert.apple.rgb=function(r){return[r[0]/65535*255,r[1]/65535*255,r[2]/65535*255]},convert.rgb.apple=function(r){return[r[0]/255*65535,r[1]/255*65535,r[2]/255*65535]},convert.gray.rgb=function(r){return[r[0]/100*255,r[0]/100*255,r[0]/100*255]},convert.gray.hsl=convert.gray.hsv=function(r){return[0,0,r[0]]},convert.gray.hwb=function(r){return[0,100,r[0]]},convert.gray.cmyk=function(r){return[0,0,0,r[0]]},convert.gray.lab=function(r){return[r[0],0,0]},convert.gray.hex=function(r){var n=255&Math.round(r[0]/100*255),e=((n<<16)+(n<<8)+n).toString(16).toUpperCase();return\"000000\".substring(e.length)+e},convert.rgb.gray=function(r){return[(r[0]+r[1]+r[2])/3/255*100]};","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexport { BrowserInfo };\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexport { NodeInfo };\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexport { SearchBotDeviceInfo };\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexport { BotInfo };\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexport { ReactNativeInfo };\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['pie', /^Microsoft Pocket Internet Explorer\\/(\\d+\\.\\d+)$/],\n    ['pie', /^Mozilla\\/\\d\\.\\d+\\s\\(compatible;\\s(?:MSP?IE|MSInternet Explorer) (\\d+\\.\\d+);.*Windows CE.*\\)$/],\n    ['netfront', /^Mozilla\\/\\d\\.\\d+.*NetFront\\/(\\d.\\d)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FB[AS]V\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['curl', /^curl\\/([0-9\\.]+)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Windows CE', /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nexport function detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nexport function browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexport function parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    // Do not use RegExp for split operation as some browser do not support it (See: http://blog.stevenlevithan.com/archives/cross-browser-split)\n    var versionParts = match[1] && match[1].split('.').join('_').split('_').slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArray(__spreadArray([], versionParts, true), createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length), true);\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nexport function detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexport function getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n","// @ts-nocheck\nimport F6 from './index';\n\n// @ts-ignoreH5,\nvar getGlobal = function () {\n  if (typeof globalThis !== 'undefined') {\n    return globalThis;\n  }\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n  if (typeof global !== 'undefined') {\n    return global;\n  }\n};\n\nconst root = getGlobal();\n// umd \nif (typeof exports === 'object' && typeof module === 'object') {\n} else if (typeof define === 'function' && define.amd) {\n} else if (typeof exports === 'object') {\n} else {\n  Object.defineProperties(root, {\n    f6: {\n      get: function () {\n        console.warn(': f6,  F6  f6');\n        return F6;\n      },\n    },\n  });\n}\n\nexport default F6;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","\"use strict\";function removeFromArray(e,r){var t=e.indexOf(r);-1!==t&&e.splice(t,1)}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.isAllowCapture=exports.isParent=exports.upperFirst=exports.each=exports.mix=exports.isArray=exports.isObject=exports.isString=exports.isFunction=exports.isNil=exports.isBrowser=exports.removeFromArray=void 0,exports.removeFromArray=removeFromArray,exports.isBrowser=\"undefined\"!=typeof window&&void 0!==window.document;var util_1=require(\"@antv/util\");function isParent(e,r){if(e.isCanvas())return!0;for(var t=r.getParent(),i=!1;t;){if(t===e){i=!0;break}t=t.getParent()}return i}function isAllowCapture(e){return e.cfg.visible&&e.cfg.capture}Object.defineProperty(exports,\"isNil\",{enumerable:!0,get:function(){return util_1.isNil}}),Object.defineProperty(exports,\"isFunction\",{enumerable:!0,get:function(){return util_1.isFunction}}),Object.defineProperty(exports,\"isString\",{enumerable:!0,get:function(){return util_1.isString}}),Object.defineProperty(exports,\"isObject\",{enumerable:!0,get:function(){return util_1.isObject}}),Object.defineProperty(exports,\"isArray\",{enumerable:!0,get:function(){return util_1.isArray}}),Object.defineProperty(exports,\"mix\",{enumerable:!0,get:function(){return util_1.mix}}),Object.defineProperty(exports,\"each\",{enumerable:!0,get:function(){return util_1.each}}),Object.defineProperty(exports,\"upperFirst\",{enumerable:!0,get:function(){return util_1.upperFirst}}),exports.isParent=isParent,exports.isAllowCapture=isAllowCapture;","import { getColorsWithSubjectColor } from './util/color';\n\nconst subjectColor = 'rgb(95, 149, 255)';\nconst backColor = 'rgb(255, 255, 255)';\nconst textColor = 'rgb(0, 0, 0)';\n\nconst colorSet = getColorsWithSubjectColor(subjectColor, backColor);\n\nexport default {\n  version: '0.0.16',\n  rootContainerClassName: 'root-container',\n  uiContainerClassName: 'ui-container',\n  waterContainerClassName: 'water-container',\n  nodeContainerClassName: 'node-container',\n  edgeContainerClassName: 'edge-container',\n  comboContainerClassName: 'combo-container',\n  delegateContainerClassName: 'delegate-container',\n  defaultLoopPosition: 'top',\n  nodeLabel: {\n    style: {\n      fill: '#000',\n      fontSize: 12,\n      textAlign: 'center',\n      textBaseline: 'middle',\n    },\n    offset: 4, // \n  },\n  defaultNode: {\n    type: 'circle',\n    style: {\n      lineWidth: 1,\n      stroke: colorSet.mainStroke,\n      fill: colorSet.mainFill,\n    },\n    size: 20,\n    color: colorSet.mainStroke,\n    linkPoints: {\n      size: 8,\n      lineWidth: 1,\n      fill: colorSet.activeFill,\n      stroke: colorSet.activeStroke,\n    },\n  },\n  //  activeselectedhighlightinactivedisable\n  nodeStateStyles: {\n    active: {\n      fill: colorSet.activeFill,\n      stroke: colorSet.activeStroke,\n      lineWidth: 2,\n      shadowColor: colorSet.mainStroke,\n      shadowBlur: 10,\n    },\n    selected: {\n      fill: colorSet.selectedFill,\n      stroke: colorSet.selectedStroke,\n      lineWidth: 4,\n      shadowColor: colorSet.selectedStroke,\n      shadowBlur: 10,\n      'text-shape': {\n        fontWeight: 500,\n      },\n    },\n    highlight: {\n      fill: colorSet.highlightFill,\n      stroke: colorSet.highlightStroke,\n      lineWidth: 2,\n      'text-shape': {\n        fontWeight: 500,\n      },\n    },\n    inactive: {\n      fill: colorSet.inactiveFill,\n      stroke: colorSet.inactiveStroke,\n      lineWidth: 1,\n    },\n    disable: {\n      fill: colorSet.disableFill,\n      stroke: colorSet.disableStroke,\n      lineWidth: 1,\n    },\n  },\n  edgeLabel: {\n    style: {\n      fill: textColor,\n      textAlign: 'center',\n      textBaseline: 'middle',\n      fontSize: 12,\n    },\n  },\n  defaultEdge: {\n    type: 'line',\n    size: 1,\n    style: {\n      stroke: colorSet.edgeMainStroke,\n      lineAppendWidth: 2,\n    },\n    color: colorSet.edgeMainStroke,\n  },\n  //  activeselectedhighlightinactivedisable\n  edgeStateStyles: {\n    active: {\n      stroke: colorSet.edgeActiveStroke,\n      lineWidth: 1,\n    },\n    selected: {\n      stroke: colorSet.edgeSelectedStroke,\n      lineWidth: 2,\n      shadowColor: colorSet.edgeSelectedStroke,\n      shadowBlur: 10,\n      'text-shape': {\n        fontWeight: 500,\n      },\n    },\n    highlight: {\n      stroke: colorSet.edgeHighlightStroke,\n      lineWidth: 2,\n      'text-shape': {\n        fontWeight: 500,\n      },\n    },\n    inactive: {\n      stroke: colorSet.edgeInactiveStroke,\n      lineWidth: 1,\n    },\n    disable: {\n      stroke: colorSet.edgeDisableStroke,\n      lineWidth: 1,\n    },\n  },\n  comboLabel: {\n    style: {\n      fill: textColor,\n      // textAlign: 'center',\n      textBaseline: 'middle',\n      fontSize: 12,\n    },\n    refY: 10, // Combo \n    refX: 10, // Combo \n  },\n  defaultCombo: {\n    type: 'circle',\n    style: {\n      fill: colorSet.comboMainFill,\n      lineWidth: 1,\n      stroke: colorSet.comboMainStroke,\n      r: 5,\n      width: 20,\n      height: 10,\n    },\n    size: [20, 5],\n    color: colorSet.comboMainStroke,\n    padding: [25, 20, 15, 20],\n  },\n  // combo  activeselectedhighlightinactivedisable\n  comboStateStyles: {\n    active: {\n      stroke: colorSet.comboActiveStroke,\n      lineWidth: 1,\n      fill: colorSet.comboActiveFill,\n    },\n    selected: {\n      stroke: colorSet.comboSelectedStroke,\n      lineWidth: 2,\n      fill: colorSet.comboSelectedFill,\n      shadowColor: colorSet.comboSelectedStroke,\n      shadowBlur: 10,\n      'text-shape': {\n        fontWeight: 500,\n      },\n    },\n    highlight: {\n      stroke: colorSet.comboHighlightStroke,\n      lineWidth: 2,\n      fill: colorSet.comboHighlightFill,\n      'text-shape': {\n        fontWeight: 500,\n      },\n    },\n    inactive: {\n      stroke: colorSet.comboInactiveStroke,\n      fill: colorSet.comboInactiveFill,\n      lineWidth: 1,\n    },\n    disable: {\n      stroke: colorSet.comboDisableStroke,\n      fill: colorSet.comboDisableFill,\n      lineWidth: 1,\n    },\n  },\n  delegateStyle: {\n    fill: '#F3F9FF',\n    fillOpacity: 0.5,\n    stroke: '#1890FF',\n    strokeOpacity: 0.9,\n    lineDash: [5, 5],\n  },\n  // \n  textWaterMarkerConfig: {\n    width: 150,\n    height: 100,\n    compatible: false,\n    text: {\n      x: 0,\n      y: 60,\n      lineHeight: 20,\n      rotate: 20,\n      fontSize: 14,\n      fontFamily: 'Microsoft YaHei',\n      fill: 'rgba(0, 0, 0, 0.1)',\n      baseline: 'Middle',\n    },\n  },\n  imageWaterMarkerConfig: {\n    // compatible: false,\n    image: {\n      x: 0,\n      y: 0,\n      width: 30,\n      height: 20,\n      rotate: 0,\n    },\n  },\n  waterMarkerImage:\n    'https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg',\n};\n","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.getOffScreenContext=void 0;var offScreenCtx=null;function getOffScreenContext(){var e;return offScreenCtx||((e=document.createElement(\"canvas\")).width=1,e.height=1,offScreenCtx=e.getContext(\"2d\")),offScreenCtx}exports.getOffScreenContext=getOffScreenContext;","\"use strict\";var colorNames=require(\"color-name\"),swizzle=require(\"simple-swizzle\"),reverseNames={};for(var name in colorNames)colorNames.hasOwnProperty(name)&&(reverseNames[colorNames[name]]=name);var cs=module.exports={to:{},get:{}};function clamp(e,r,s){return Math.min(Math.max(r,e),s)}function hexDouble(e){var r=e.toString(16).toUpperCase();return r.length<2?\"0\"+r:r}cs.get=function(e){var r,s;switch(e.substring(0,3).toLowerCase()){case\"hsl\":r=cs.get.hsl(e),s=\"hsl\";break;case\"hwb\":r=cs.get.hwb(e),s=\"hwb\";break;default:r=cs.get.rgb(e),s=\"rgb\"}return r?{model:s,value:r}:null},cs.get.rgb=function(e){if(!e)return null;var r,s,a,t,n=[0,0,0,1];if(s=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(t=s[2],s=s[1],a=0;a<3;a++)r=2*a,n[a]=parseInt(s.slice(r,r+2),16);t&&(n[3]=parseInt(t,16)/255)}else if(s=e.match(/^#([a-f0-9]{3,4})$/i)){for(t=(s=s[1])[3],a=0;a<3;a++)n[a]=parseInt(s[a]+s[a],16);t&&(n[3]=parseInt(t+t,16)/255)}else if(s=e.match(/^rgba?\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/)){for(a=0;a<3;a++)n[a]=parseInt(s[a+1],0);s[4]&&(n[3]=parseFloat(s[4]))}else{if(!(s=e.match(/^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/)))return(s=e.match(/(\\D+)/))?\"transparent\"===s[1]?[0,0,0,0]:(n=colorNames[s[1]])?(n[3]=1,n):null:null;for(a=0;a<3;a++)n[a]=Math.round(2.55*parseFloat(s[a+1]));s[4]&&(n[3]=parseFloat(s[4]))}for(a=0;a<3;a++)n[a]=clamp(n[a],0,255);return n[3]=clamp(n[3],0,1),n},cs.get.hsl=function(e){if(!e)return null;var r,s=e.match(/^hsla?\\(\\s*([+-]?(?:\\d{0,3}\\.)?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/);return s?(r=parseFloat(s[4]),[(parseFloat(s[1])+360)%360,clamp(parseFloat(s[2]),0,100),clamp(parseFloat(s[3]),0,100),clamp(isNaN(r)?1:r,0,1)]):null},cs.get.hwb=function(e){if(!e)return null;var r,s=e.match(/^hwb\\(\\s*([+-]?\\d{0,3}(?:\\.\\d+)?)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/);return s?(r=parseFloat(s[4]),[(parseFloat(s[1])%360+360)%360,clamp(parseFloat(s[2]),0,100),clamp(parseFloat(s[3]),0,100),clamp(isNaN(r)?1:r,0,1)]):null},cs.to.hex=function(){var e=swizzle(arguments);return\"#\"+hexDouble(e[0])+hexDouble(e[1])+hexDouble(e[2])+(e[3]<1?hexDouble(Math.round(255*e[3])):\"\")},cs.to.rgb=function(){var e=swizzle(arguments);return e.length<4||1===e[3]?\"rgb(\"+Math.round(e[0])+\", \"+Math.round(e[1])+\", \"+Math.round(e[2])+\")\":\"rgba(\"+Math.round(e[0])+\", \"+Math.round(e[1])+\", \"+Math.round(e[2])+\", \"+e[3]+\")\"},cs.to.rgb.percent=function(){var e=swizzle(arguments),r=Math.round(e[0]/255*100),s=Math.round(e[1]/255*100),a=Math.round(e[2]/255*100);return e.length<4||1===e[3]?\"rgb(\"+r+\"%, \"+s+\"%, \"+a+\"%)\":\"rgba(\"+r+\"%, \"+s+\"%, \"+a+\"%, \"+e[3]+\")\"},cs.to.hsl=function(){var e=swizzle(arguments);return e.length<4||1===e[3]?\"hsl(\"+e[0]+\", \"+e[1]+\"%, \"+e[2]+\"%)\":\"hsla(\"+e[0]+\", \"+e[1]+\"%, \"+e[2]+\"%, \"+e[3]+\")\"},cs.to.hwb=function(){var e=swizzle(arguments),r=\"\";return e.length>=4&&1!==e[3]&&(r=\", \"+e[3]),\"hwb(\"+e[0]+\", \"+e[1]+\"%, \"+e[2]+\"%\"+r+\")\"},cs.to.keyword=function(e){return reverseNames[e.slice(0,3)]};","\"use strict\";module.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};","\"use strict\";var isArrayish=require(\"is-arrayish\"),concat=Array.prototype.concat,slice=Array.prototype.slice,swizzle=module.exports=function(r){var e,i,t,s=[];for(e=0,i=r.length;e<i;e++)t=r[e],isArrayish(t)?s=concat.call(s,slice.call(t)):s.push(t);return s};swizzle.wrap=function(r){return function(){return r(swizzle(arguments))}};","\"use strict\";module.exports=function(t){return!(!t||\"string\"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&\"String\"!==t.constructor.name))};","\"use strict\";function _typeof(o){return(_typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&\"function\"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?\"symbol\":typeof o})(o)}var conversions=require(\"./conversions\"),route=require(\"./route\"),convert={},models=Object.keys(conversions);function wrapRaw(o){var e=function(e){return null==e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),o(e))};return\"conversion\"in o&&(e.conversion=o.conversion),e}function wrapRounded(o){var e=function(e){if(null==e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var n,r,t=o(e);if(\"object\"===_typeof(t))for(n=t.length,r=0;r<n;r++)t[r]=Math.round(t[r]);return t};return\"conversion\"in o&&(e.conversion=o.conversion),e}models.forEach((function(o){convert[o]={},Object.defineProperty(convert[o],\"channels\",{value:conversions[o].channels}),Object.defineProperty(convert[o],\"labels\",{value:conversions[o].labels});var e=route(o);Object.keys(e).forEach((function(n){var r=e[n];convert[o][n]=wrapRounded(r),convert[o][n].raw=wrapRaw(r)}))})),module.exports=convert;","\"use strict\";module.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};","\"use strict\";var conversions=require(\"./conversions\");function buildGraph(){var n,r,e={},t=Object.keys(conversions);for(n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}function deriveBFS(n){var r,e,t,o,i,s,a=buildGraph(),c=[n];for(a[n].distance=0;c.length;)for(r=c.pop(),t=(e=Object.keys(conversions[r])).length,o=0;o<t;o++)-1===(s=a[i=e[o]]).distance&&(s.distance=a[r].distance+1,s.parent=r,c.unshift(i));return a}function link(n,r){return function(e){return r(n(e))}}function wrapConversion(n,r){for(var e=[r[n].parent,n],t=conversions[r[n].parent][n],o=r[n].parent;r[o].parent;)e.unshift(r[o].parent),t=link(conversions[r[o].parent][o],t),o=r[o].parent;return t.conversion=e,t}module.exports=function(n){var r,e,t,o=deriveBFS(n),i={},s=Object.keys(o);for(r=s.length,e=0;e<r;e++)null!==o[t=s[e]].parent&&(i[t]=wrapConversion(t,o));return i};","\"use strict\";var __createBinding=Object.create?function(e,r,t,o){void 0===o&&(o=t),Object.defineProperty(e,o,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,o){void 0===o&&(o=t),e[o]=r[t]},__exportStar=function(e,r){for(var t in e)\"default\"===t||Object.prototype.hasOwnProperty.call(r,t)||__createBinding(r,e,t)};Object.defineProperty(exports,\"__esModule\",{value:!0}),__exportStar(require(\"./string\"),exports),__exportStar(require(\"./array\"),exports),__exportStar(require(\"./number\"),exports),__exportStar(require(\"./math\"),exports),__exportStar(require(\"./object\"),exports),__exportStar(require(\"./function\"),exports);","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.camelize=exports.isString=void 0;var isString=function(e){return\"string\"==typeof e};exports.isString=isString;var cacheStringFunction=function(e){var t=Object.create(null);return function(r){return t[r]||(t[r]=e(r))}},camelizeRE=/-(\\w)/g;exports.camelize=cacheStringFunction((function(e){return e.replace(camelizeRE,(function(e,t){return t?t.toUpperCase():\"\"}))}));","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.isArray=void 0,exports.isArray=Array.isArray;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.toNumber=exports.isNaN=exports.isNumber=void 0;var isNumber=function(r){return\"number\"==typeof r};exports.isNumber=isNumber;var isNaN=function(r){return Number.isNaN(Number(r))};exports.isNaN=isNaN;var toNumber=function(r){var e=parseFloat(r);return exports.isNaN(e)?r:e};exports.toNumber=toNumber;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.traverseTreeUp=exports.scaleMatrix=exports.getAdjMatrix=exports.floydWarshall=exports.getDegree=void 0;var getDegree=function(r,e,t){var a,o=[];for(a=0;a<r;a++)o[a]=0;return t?(t.forEach((function(r){r.source&&(o[e[r.source]]+=1),r.target&&(o[e[r.target]]+=1)})),o):o};exports.getDegree=getDegree;var floydWarshall=function(r){var e,t=[],a=r.length;for(o=0;o<a;o+=1)for(t[o]=[],n=0;n<a;n+=1)o===n?t[o][n]=0:0!==r[o][n]&&r[o][n]?t[o][n]=r[o][n]:t[o][n]=1/0;for(e=0;e<a;e+=1)for(var o=0;o<a;o+=1)for(var n=0;n<a;n+=1)t[o][n]>t[o][e]+t[e][n]&&(t[o][n]=t[o][e]+t[e][n]);return t};exports.floydWarshall=floydWarshall;var getAdjMatrix=function(r,e){var t=r.nodes,a=r.edges,o=[],n={};if(!t)throw new Error(\"invalid nodes data!\");return t&&t.forEach((function(r,e){n[r.id]=e,o.push([])})),a&&a.forEach((function(r){var t=r.source,a=r.target,s=n[t],f=n[a];o[s][f]=1,e||(o[f][s]=1)})),o};exports.getAdjMatrix=getAdjMatrix;var scaleMatrix=function(r,e){var t=[];return r.forEach((function(r){var a=[];r.forEach((function(r){a.push(r*e)})),t.push(a)})),t};exports.scaleMatrix=scaleMatrix;var traverseUp=function r(e,t){var a;if(e&&e.children)for(a=e.children.length-1;a>=0;a--)if(!r(e.children[a],t))return;return!!t(e)},traverseTreeUp=function(r,e){\"function\"==typeof e&&traverseUp(r,e)};exports.traverseTreeUp=traverseTreeUp;","\"use strict\";function _typeof(t){return(_typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var __assign=function(){return(__assign=Object.assign||function(t){var e,o,n;for(o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.clone=exports.isObject=void 0;var isObject=function(t){return null!==t&&\"object\"===_typeof(t)};exports.isObject=isObject;var clone=function(t){var e,o;return null===t?t:t instanceof Date?new Date(t.getTime()):t instanceof Array?(e=[],t.forEach((function(t){e.push(t)})),e.map((function(t){return exports.clone(t)}))):\"object\"===_typeof(t)&&t!=={}?(o=__assign({},t),Object.keys(o).forEach((function(t){o[t]=exports.clone(o[t])})),o):t};exports.clone=clone;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.isFunction=void 0;var isFunction=function(t){return\"function\"==typeof t};exports.isFunction=isFunction;","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","import { each } from '@antv/util'; //  Behavior \n\nexport default {\n  getDefaultCfg: function getDefaultCfg() {\n    return {};\n  },\n\n  /**\n   * register event handler, behavior will auto bind events\n   * for example:\n   * return {\n   *  click: 'onClick'\n   * }\n   */\n  getEvents: function getEvents() {\n    return {};\n  },\n  updateCfg: function updateCfg(cfg) {\n    Object.assign(this, cfg);\n    return true;\n  },\n  shouldBegin: function shouldBegin() {\n    return true;\n  },\n  shouldUpdate: function shouldUpdate() {\n    return true;\n  },\n  shouldEnd: function shouldEnd() {\n    return true;\n  },\n\n  /**\n   * auto bind events when register behavior\n   * @param graph Graph instance\n   */\n  bind: function bind(graph) {\n    var events = this.events;\n    this.graph = graph;\n\n    if (this.type === 'drag-canvas' || this.type === 'brush-select' || this.type === 'lasso-select') {\n      graph.get('canvas').set('draggable', true);\n    }\n\n    each(events, function (handler, event) {\n      graph.on(event, handler);\n    });\n  },\n  unbind: function unbind(graph) {\n    var events = this.events;\n\n    if (this.type === 'drag-canvas' || this.type === 'brush-select' || this.type === 'lasso-select') {\n      graph.get('canvas').set('draggable', false);\n    }\n\n    each(events, function (handler, event) {\n      graph.off(event, handler);\n    });\n  },\n  get: function get(val) {\n    return this[val];\n  },\n  set: function set(key, val) {\n    this[key] = val;\n    return this;\n  }\n};","import { clone, each, wrapBehavior } from '@antv/util';\nimport behaviorOption from './behaviorOption';\n\nvar Behavior =\n/** @class */\nfunction () {\n  function Behavior() {}\n  /**\n   *  Behavior\n   * @param type Behavior \n   * @param behavior Behavior \n   */\n\n\n  Behavior.registerBehavior = function (type, behavior) {\n    if (!behavior) {\n      throw new Error(\"please specify handler for this behavior: \".concat(type));\n    }\n\n    var prototype = clone(behaviorOption);\n    Object.assign(prototype, behavior); // eslint-disable-next-line func-names\n\n    var base = function base(cfg) {\n      var _this = this;\n\n      Object.assign(this, this.getDefaultCfg(), cfg);\n      var events = this.getEvents();\n      this.events = null;\n      var eventsToBind = {};\n\n      if (events) {\n        each(events, function (handle, event) {\n          eventsToBind[event] = wrapBehavior(_this, handle);\n        });\n        this.events = eventsToBind;\n      }\n    };\n\n    base.prototype = prototype;\n    Behavior.types[type] = base;\n  };\n\n  Behavior.hasBehavior = function (type) {\n    return !!Behavior.types[type];\n  };\n\n  Behavior.getBehavior = function (type) {\n    return Behavior.types[type];\n  }; //  Behavior \n\n\n  Behavior.types = {};\n  return Behavior;\n}();\n\nexport default Behavior;","import Behavior from './behavior';\nexport default Behavior;","import { mat3, vec3, ext, vec2 } from '@antv/matrix-util';\nimport { isArray, each } from '@antv/util';\nvar transform = ext.transform;\n/**\n * \n * @param   {string}       attributeName  \n * @param   {number}       min    \n * @param   {number}       max    \n * @return  {boolean}      bool   \n */\n\nexport var compare = function compare(attributeName) {\n  return function (m, n) {\n    return m[attributeName] - n[attributeName];\n  };\n};\n/**\n * \n * @param   {number}       value  \n * @param   {number}       min    \n * @param   {number}       max    \n * @return  {boolean}      bool   \n */\n\nvar isBetween = function isBetween(value, min, max) {\n  return value >= min && value <= max;\n};\n/**\n * \n * @param  {Point}  p0 \n * @param  {Point}  p1 \n * @param  {Point}  p2 \n * @param  {Point}  p3 \n * @return {Point}  \n */\n\n\nexport var getLineIntersect = function getLineIntersect(p0, p1, p2, p3) {\n  var tolerance = 0.0001;\n  var E = {\n    x: p2.x - p0.x,\n    y: p2.y - p0.y\n  };\n  var D0 = {\n    x: p1.x - p0.x,\n    y: p1.y - p0.y\n  };\n  var D1 = {\n    x: p3.x - p2.x,\n    y: p3.y - p2.y\n  };\n  var kross = D0.x * D1.y - D0.y * D1.x;\n  var sqrKross = kross * kross;\n  var invertKross = 1 / kross;\n  var sqrLen0 = D0.x * D0.x + D0.y * D0.y;\n  var sqrLen1 = D1.x * D1.x + D1.y * D1.y;\n\n  if (sqrKross > tolerance * sqrLen0 * sqrLen1) {\n    var s = (E.x * D1.y - E.y * D1.x) * invertKross;\n    var t = (E.x * D0.y - E.y * D0.x) * invertKross;\n    if (!isBetween(s, 0, 1) || !isBetween(t, 0, 1)) return null;\n    return {\n      x: p0.x + s * D0.x,\n      y: p0.y + s * D0.y\n    };\n  }\n\n  return null;\n};\n/**\n * point and rectangular intersection point\n * @param  {IRect} rect  rect\n * @param  {Point} point point\n * @return {PointPoint} rst;\n */\n\nexport var getRectIntersectByPoint = function getRectIntersectByPoint(rect, point) {\n  var x = rect.x,\n      y = rect.y,\n      width = rect.width,\n      height = rect.height;\n  var cx = x + width / 2;\n  var cy = y + height / 2;\n  var points = [];\n  var center = {\n    x: cx,\n    y: cy\n  };\n  points.push({\n    x: x,\n    y: y\n  });\n  points.push({\n    x: x + width,\n    y: y\n  });\n  points.push({\n    x: x + width,\n    y: y + height\n  });\n  points.push({\n    x: x,\n    y: y + height\n  });\n  points.push({\n    x: x,\n    y: y\n  });\n  var rst = null;\n\n  for (var i = 1; i < points.length; i++) {\n    rst = getLineIntersect(points[i - 1], points[i], center, point);\n\n    if (rst) {\n      break;\n    }\n  }\n\n  return rst;\n};\n/**\n * get point and circle inIntersect\n * @param {ICircle} circle x,y,r\n * @param {Point} point  x,y\n * @return {Point} applied point\n */\n\nexport var getCircleIntersectByPoint = function getCircleIntersectByPoint(circle, point) {\n  var cx = circle.x,\n      cy = circle.y,\n      r = circle.r;\n  var x = point.x,\n      y = point.y;\n  var dx = x - cx;\n  var dy = y - cy;\n  var d = Math.sqrt(dx * dx + dy * dy);\n\n  if (d < r) {\n    return null;\n  }\n\n  var signX = Math.sign(dx);\n  var signY = Math.sign(dy);\n  var angle = Math.atan(dy / dx);\n  return {\n    x: cx + Math.abs(r * Math.cos(angle)) * signX,\n    y: cy + Math.abs(r * Math.sin(angle)) * signY\n  };\n};\n/**\n * get point and ellipse inIntersect\n * @param {Object} ellipse  x,y,rx,ry\n * @param {Object} point  x,y\n * @return {object} applied point\n */\n\nexport var getEllipseIntersectByPoint = function getEllipseIntersectByPoint(ellipse, point) {\n  var a = ellipse.rx;\n  var b = ellipse.ry;\n  var cx = ellipse.x;\n  var cy = ellipse.y;\n  var dx = point.x - cx;\n  var dy = point.y - cy; //  x,y  -PI, PI\n\n  var angle = Math.atan2(dy / b, dx / a);\n\n  if (angle < 0) {\n    angle += 2 * Math.PI; //  02PI\n  }\n\n  return {\n    x: cx + a * Math.cos(angle),\n    y: cy + b * Math.sin(angle)\n  };\n};\n/**\n * coordinate matrix transformation\n * @param  {number} point   coordinate\n * @param  {Matrix} matrix  matrix\n * @param  {number} tag     could be 0 or 1\n * @return {Point} transformed point\n */\n\nexport var applyMatrix = function applyMatrix(point, matrix, tag) {\n  if (tag === void 0) {\n    tag = 1;\n  }\n\n  var vector = [point.x, point.y, tag];\n\n  if (!matrix || isNaN(matrix[0])) {\n    matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  }\n\n  vec3.transformMat3(vector, vector, matrix);\n  return {\n    x: vector[0],\n    y: vector[1]\n  };\n};\n/**\n * coordinate matrix invert transformation\n * @param  {number} point   coordinate\n * @param  {number} matrix  matrix\n * @param  {number} tag     could be 0 or 1\n * @return {object} transformed point\n */\n\nexport var invertMatrix = function invertMatrix(point, matrix, tag) {\n  if (tag === void 0) {\n    tag = 1;\n  }\n\n  if (!matrix || isNaN(matrix[0])) {\n    matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  }\n\n  var inversedMatrix = mat3.invert([1, 0, 0, 0, 1, 0, 0, 0, 1], matrix);\n\n  if (!inversedMatrix) {\n    inversedMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  }\n\n  var vector = [point.x, point.y, tag];\n  vec3.transformMat3(vector, vector, inversedMatrix);\n  return {\n    x: vector[0],\n    y: vector[1]\n  };\n};\n/**\n *\n * @param p1 First coordinate\n * @param p2 second coordinate\n * @param p3 three coordinate\n */\n\nexport var getCircleCenterByPoints = function getCircleCenterByPoints(p1, p2, p3) {\n  var a = p1.x - p2.x;\n  var b = p1.y - p2.y;\n  var c = p1.x - p3.x;\n  var d = p1.y - p3.y;\n  var e = (p1.x * p1.x - p2.x * p2.x - p2.y * p2.y + p1.y * p1.y) / 2;\n  var f = (p1.x * p1.x - p3.x * p3.x - p3.y * p3.y + p1.y * p1.y) / 2;\n  var denominator = b * c - a * d;\n  return {\n    x: -(d * e - b * f) / denominator,\n    y: -(a * f - c * e) / denominator\n  };\n};\n/**\n * get distance by two points\n * @param p1 first point\n * @param p2 second point\n */\n\nexport var distance = function distance(p1, p2) {\n  var vx = p1.x - p2.x;\n  var vy = p1.y - p2.y;\n  return Math.sqrt(vx * vx + vy * vy);\n};\n/**\n * scale matrix\n * @param matrix [ [], [], [] ]\n * @param ratio\n */\n\nexport var scaleMatrix = function scaleMatrix(matrix, ratio) {\n  var result = [];\n  matrix.forEach(function (row) {\n    var newRow = [];\n    row.forEach(function (v) {\n      newRow.push(v * ratio);\n    });\n    result.push(newRow);\n  });\n  return result;\n};\n/**\n * Floyd Warshall algorithm for shortest path distances matrix\n * @param  {array} adjMatrix   adjacency matrix\n * @return {array} distances   shortest path distances matrix\n */\n\nexport var floydWarshall = function floydWarshall(adjMatrix) {\n  // initialize\n  var dist = [];\n  var size = adjMatrix.length;\n\n  for (var i = 0; i < size; i += 1) {\n    dist[i] = [];\n\n    for (var j = 0; j < size; j += 1) {\n      if (i === j) {\n        dist[i][j] = 0;\n      } else if (adjMatrix[i][j] === 0 || !adjMatrix[i][j]) {\n        dist[i][j] = Infinity;\n      } else {\n        dist[i][j] = adjMatrix[i][j];\n      }\n    }\n  } // floyd\n\n\n  for (var k = 0; k < size; k += 1) {\n    for (var i = 0; i < size; i += 1) {\n      for (var j = 0; j < size; j += 1) {\n        if (dist[i][j] > dist[i][k] + dist[k][j]) {\n          dist[i][j] = dist[i][k] + dist[k][j];\n        }\n      }\n    }\n  }\n\n  return dist;\n};\n/**\n * get adjacency matrix\n * @param data graph data\n * @param directed whether it's a directed graph\n */\n\nexport var getAdjMatrix = function getAdjMatrix(data, directed) {\n  var nodes = data.nodes,\n      edges = data.edges;\n  var matrix = []; // map node with index in data.nodes\n\n  var nodeMap = {};\n\n  if (!nodes) {\n    throw new Error('invalid nodes data!');\n  }\n\n  if (nodes) {\n    nodes.forEach(function (node, i) {\n      nodeMap[node.id] = i;\n      var row = [];\n      matrix.push(row);\n    });\n  }\n\n  if (edges) {\n    edges.forEach(function (e) {\n      var source = e.source,\n          target = e.target;\n      var sIndex = nodeMap[source];\n      var tIndex = nodeMap[target];\n      matrix[sIndex][tIndex] = 1;\n\n      if (!directed) {\n        matrix[tIndex][sIndex] = 1;\n      }\n    });\n  }\n\n  return matrix;\n};\n/**\n * group\n * @param group Group \n * @param vec \n */\n\nexport var translate = function translate(group, vec) {\n  group.translate(vec.x, vec.y);\n};\n/**\n * \n * @param group Group \n * @param point \n */\n\nexport var move = function move(group, point) {\n  var matrix = group.getMatrix();\n\n  if (!matrix) {\n    matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  }\n\n  var bbox = group.getCanvasBBox();\n  var vx = point.x - bbox.minX;\n  var vy = point.y - bbox.minY;\n  var movedMatrix = transform(matrix, [['t', vx, vy]]);\n  group.setMatrix(movedMatrix);\n};\n/**\n *  group\n * @param group Group \n * @param point x  y \n */\n\nexport var scale = function scale(group, ratio) {\n  var matrix = group.getMatrix();\n\n  if (!matrix) {\n    matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  }\n\n  var scaleXY = ratio;\n\n  if (!isArray(ratio)) {\n    scaleXY = [ratio, ratio];\n  }\n\n  if (isArray(ratio) && ratio.length === 1) {\n    scaleXY = [ratio[0], ratio[0]];\n  }\n\n  matrix = transform(matrix, [['s', scaleXY[0], scaleXY[1]]]);\n  group.setMatrix(matrix);\n};\n/**\n *\n * @param group Group \n * @param ratio \n */\n\nexport var rotate = function rotate(group, angle) {\n  var matrix = group.getMatrix();\n\n  if (!matrix) {\n    matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  }\n\n  matrix = transform(matrix, [['r', angle]]);\n  group.setMatrix(matrix);\n};\nexport var getDegree = function getDegree(n, nodeIdxMap, edges) {\n  var degrees = [];\n\n  for (var i = 0; i < n; i++) {\n    degrees[i] = 0;\n  }\n\n  edges.forEach(function (e) {\n    if (e.source) {\n      degrees[nodeIdxMap[e.source]] += 1;\n    }\n\n    if (e.target) {\n      degrees[nodeIdxMap[e.target]] += 1;\n    }\n  });\n  return degrees;\n}; // Qp1p2\n\nfunction onSegment(p1, p2, q) {\n  if ((q[0] - p1[0]) * (p2[1] - p1[1]) === (p2[0] - p1[0]) * (q[1] - p1[1]) && Math.min(p1[0], p2[0]) <= q[0] && q[0] <= Math.max(p1[0], p2[0]) && Math.min(p1[1], p2[1]) <= q[1] && q[1] <= Math.max(p1[1], p2[1])) {\n    return true;\n  }\n\n  return false;\n}\n/**\n * P-. Borrow from https://github.com/antvis/util/blob/master/packages/path-util/src/point-in-polygon.ts\n * @param points\n * @param x\n * @param y\n */\n\n\nexport var isPointInPolygon = function isPointInPolygon(points, x, y) {\n  var isHit = false;\n  var n = points.length; // doubleeps\n\n  var tolerance = 1e-6;\n\n  function dcmp(xValue) {\n    if (Math.abs(xValue) < tolerance) {\n      return 0;\n    }\n\n    return xValue < 0 ? -1 : 1;\n  }\n\n  if (n <= 2) {\n    // svg  3 \n    return false;\n  }\n\n  for (var i = 0; i < n; i++) {\n    var p1 = points[i];\n    var p2 = points[(i + 1) % n];\n\n    if (onSegment(p1, p2, [x, y])) {\n      // \n      return true;\n    } // min(p1[1],p2[1])<P.y<=max(p1[1],p2[1])\n    //    \n\n\n    if (dcmp(p1[1] - y) > 0 !== dcmp(p2[1] - y) > 0 && dcmp(x - (y - p1[1]) * (p1[0] - p2[0]) / (p1[1] - p2[1]) - p1[0]) < 0) {\n      isHit = !isHit;\n    }\n  }\n\n  return isHit;\n}; // BBox\n\nexport var intersectBBox = function intersectBBox(box1, box2) {\n  return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n};\n\nvar lineIntersectPolygon = function lineIntersectPolygon(lines, line) {\n  var isIntersect = false;\n  each(lines, function (l) {\n    if (getLineIntersect(l.from, l.to, line.from, line.to)) {\n      isIntersect = true;\n      return false;\n    }\n  });\n  return isIntersect;\n};\n/**\n * polygon\n * borrow from @antv/path-util\n * @param points1 polygon1\n * @param points2 polygon2\n */\n\n\nexport var isPolygonsIntersect = function isPolygonsIntersect(points1, points2) {\n  var getBBox = function getBBox(points) {\n    var xArr = points.map(function (p) {\n      return p[0];\n    });\n    var yArr = points.map(function (p) {\n      return p[1];\n    });\n    return {\n      minX: Math.min.apply(null, xArr),\n      maxX: Math.max.apply(null, xArr),\n      minY: Math.min.apply(null, yArr),\n      maxY: Math.max.apply(null, yArr)\n    };\n  };\n\n  var parseToLines = function parseToLines(points) {\n    var lines = [];\n    var count = points.length;\n\n    for (var i = 0; i < count - 1; i++) {\n      var point = points[i];\n      var next = points[i + 1];\n      lines.push({\n        from: {\n          x: point[0],\n          y: point[1]\n        },\n        to: {\n          x: next[0],\n          y: next[1]\n        }\n      });\n    }\n\n    if (lines.length > 1) {\n      var first = points[0];\n      var last = points[count - 1];\n      lines.push({\n        from: {\n          x: last[0],\n          y: last[1]\n        },\n        to: {\n          x: first[0],\n          y: first[1]\n        }\n      });\n    }\n\n    return lines;\n  }; //  false\n\n\n  if (points1.length < 2 || points2.length < 2) {\n    return false;\n  }\n\n  var bbox1 = getBBox(points1);\n  var bbox2 = getBBox(points2); // \n\n  if (!intersectBBox(bbox1, bbox2)) {\n    return false;\n  }\n\n  var isIn = false; // \n\n  each(points2, function (point) {\n    if (isPointInPolygon(points1, point[0], point[1])) {\n      isIn = true;\n      return false;\n    }\n  });\n\n  if (isIn) {\n    return true;\n  }\n\n  each(points1, function (point) {\n    if (isPointInPolygon(points2, point[0], point[1])) {\n      isIn = true;\n      return false;\n    }\n  });\n\n  if (isIn) {\n    return true;\n  }\n\n  var lines1 = parseToLines(points1);\n  var lines2 = parseToLines(points2);\n  var isIntersect = false;\n  each(lines2, function (line) {\n    if (lineIntersectPolygon(lines1, line)) {\n      isIntersect = true;\n      return false;\n    }\n  });\n  return isIntersect;\n};\n\nvar Line =\n/** @class */\nfunction () {\n  function Line(x1, y1, x2, y2) {\n    this.x1 = x1;\n    this.y1 = y1;\n    this.x2 = x2;\n    this.y2 = y2;\n  }\n\n  Line.prototype.getBBox = function () {\n    var minX = Math.min(this.x1, this.x2);\n    var minY = Math.min(this.y1, this.y2);\n    var maxX = Math.max(this.x1, this.x2);\n    var maxY = Math.max(this.y1, this.y2);\n    var res = {\n      x: minX,\n      y: minY,\n      minX: minX,\n      minY: minY,\n      maxX: maxX,\n      maxY: maxY,\n      width: maxX - minX,\n      height: maxY - minY\n    };\n    return res;\n  };\n\n  return Line;\n}();\n\nexport { Line };\nexport var getBBoxBoundLine = function getBBoxBoundLine(bbox, direction) {\n  var bounds = {\n    top: [bbox.minX, bbox.minY, bbox.maxX, bbox.minY],\n    left: [bbox.minX, bbox.minY, bbox.minX, bbox.maxY],\n    bottom: [bbox.minX, bbox.maxY, bbox.maxX, bbox.maxY],\n    right: [bbox.maxX, bbox.minY, bbox.maxX, bbox.maxY]\n  };\n  return bounds[direction];\n};\n/**\n * \n */\n\nvar fractionAlongLineA = function fractionAlongLineA(la, lb) {\n  var uaT = (lb.x2 - lb.x1) * (la.y1 - lb.y1) - (lb.y2 - lb.y1) * (la.x1 - lb.x1);\n  var ubT = (la.x2 - la.x1) * (la.y1 - lb.y1) - (la.y2 - la.y1) * (la.x1 - lb.x1);\n  var uB = (lb.y2 - lb.y1) * (la.x2 - la.x1) - (lb.x2 - lb.x1) * (la.y2 - la.y1);\n\n  if (uB) {\n    var ua = uaT / uB;\n    var ub = ubT / uB;\n\n    if (ua >= 0 && ua <= 1 && ub >= 0 && ub <= 1) {\n      return ua;\n    }\n  }\n\n  return Number.POSITIVE_INFINITY;\n};\n\nexport var itemIntersectByLine = function itemIntersectByLine(item, line) {\n  var directions = ['top', 'left', 'bottom', 'right'];\n  var bbox = item.getBBox();\n  var countIntersections = 0;\n  var intersections = [];\n\n  for (var i = 0; i < 4; i++) {\n    var _a = getBBoxBoundLine(bbox, directions[i]),\n        x1 = _a[0],\n        y1 = _a[1],\n        x2 = _a[2],\n        y2 = _a[3];\n\n    intersections[i] = getLineIntersect({\n      x: line.x1,\n      y: line.y1\n    }, {\n      x: line.x2,\n      y: line.y2\n    }, {\n      x: x1,\n      y: y1\n    }, {\n      x: x2,\n      y: y2\n    });\n\n    if (intersections[i]) {\n      countIntersections += 1;\n    }\n  }\n\n  return [intersections, countIntersections];\n};\nexport var fractionToLine = function fractionToLine(item, line) {\n  var directions = ['top', 'left', 'bottom', 'right'];\n  var bbox = item.getBBox();\n  var minDistance = Number.POSITIVE_INFINITY;\n  var countIntersections = 0;\n\n  for (var i = 0; i < 4; i++) {\n    var _a = getBBoxBoundLine(bbox, directions[i]),\n        x1 = _a[0],\n        y1 = _a[1],\n        x2 = _a[2],\n        y2 = _a[3];\n\n    var testDistance = fractionAlongLineA(line, new Line(x1, y1, x2, y2));\n    testDistance = Math.abs(testDistance - 0.5);\n\n    if (testDistance >= 0 && testDistance <= 1) {\n      countIntersections += 1;\n      minDistance = testDistance < minDistance ? testDistance : minDistance;\n    }\n  }\n\n  if (countIntersections === 0) return -1;\n  return minDistance;\n};\nexport var getPointsCenter = function getPointsCenter(points) {\n  var centerX = 0;\n  var centerY = 0;\n\n  if (points.length > 0) {\n    for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n      var point = points_1[_i];\n      centerX += point.x;\n      centerY += point.y;\n    }\n\n    centerX /= points.length;\n    centerY /= points.length;\n  }\n\n  return {\n    x: centerX,\n    y: centerY\n  };\n};\nexport var squareDist = function squareDist(a, b) {\n  return Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2);\n};\nexport var pointLineSquareDist = function pointLineSquareDist(point, line) {\n  var x1 = line.x1;\n  var y1 = line.y1;\n  var x2 = line.x2 - x1;\n  var y2 = line.y2 - y1;\n  var px = point.x - x1;\n  var py = point.y - y1;\n  var dotprod = px * x2 + py * y2;\n  var projlenSq;\n\n  if (dotprod <= 0) {\n    projlenSq = 0;\n  } else {\n    px = x2 - px;\n    py = y2 - py;\n    dotprod = px * x2 + py * y2;\n\n    if (dotprod <= 0) {\n      projlenSq = 0;\n    } else {\n      projlenSq = dotprod * dotprod / (x2 * x2 + y2 * y2);\n    }\n  }\n\n  var lenSq = px * px + py * py - projlenSq;\n\n  if (lenSq < 0) {\n    lenSq = 0;\n  }\n\n  return lenSq;\n};\nexport var isPointsOverlap = function isPointsOverlap(p1, p2, e) {\n  if (e === void 0) {\n    e = 1e-3;\n  }\n\n  return Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2) < Math.pow(e, 2);\n};\n/**\n * 0\n * @param point IPoint\n * @param rect IRect\n */\n\nexport var pointRectSquareDist = function pointRectSquareDist(point, rect) {\n  var isLeft = point.x < rect.x;\n  var isRight = point.x > rect.x + rect.width;\n  var isTop = point.y > rect.y + rect.height;\n  var isBottom = point.y < rect.y;\n  var isPointOutside = isLeft || isRight || isTop || isBottom;\n\n  if (!isPointOutside) {\n    return 0;\n  }\n\n  if (isTop && !isLeft && !isRight) {\n    return Math.pow(rect.y + rect.height - point.y, 2);\n  }\n\n  if (isBottom && !isLeft && !isRight) {\n    return Math.pow(point.y - rect.y, 2);\n  }\n\n  if (isLeft && !isTop && !isBottom) {\n    return Math.pow(rect.x - point.x, 2);\n  }\n\n  if (isRight && !isTop && !isBottom) {\n    return Math.pow(rect.x + rect.width - point.x, 2);\n  }\n\n  var dx = Math.min(Math.abs(rect.x - point.x), Math.abs(rect.x + rect.width - point.x));\n  var dy = Math.min(Math.abs(rect.y - point.y), Math.abs(rect.y + rect.height - point.y));\n  return dx * dx + dy * dy;\n};\n/**\n * point to line distance\n * @param  {array} line  [x1, y1, x2, y2]\n * @param  {object} point  {x, y}\n * @return {Number|NaN} distance\n */\n\nexport var pointLineDistance = function pointLineDistance(line, point) {\n  var x1 = line[0],\n      y1 = line[1],\n      x2 = line[2],\n      y2 = line[3];\n  var x = point.x,\n      y = point.y;\n  var d = [x2 - x1, y2 - y1];\n\n  if (vec2.exactEquals(d, [0, 0])) {\n    return NaN;\n  }\n\n  var u = [-d[1], d[0]]; // @ts-ignore\n\n  vec2.normalize(u, u);\n  var a = [x - x1, y - y1]; // @ts-ignore\n\n  return Math.abs(vec2.dot(a, u));\n};","var subjectColor = 'rgb(95, 149, 255)';\nvar backColor = 'rgb(255, 255, 255)';\nvar textColor = 'rgb(0, 0, 0)';\nvar activeFill = 'rgb(247, 250, 255)';\nvar nodeMainFill = 'rgb(239, 244, 255)';\nvar comboFill = 'rgb(253, 253, 253)';\nvar disabledFill = 'rgb(250, 250, 250)';\nvar edgeMainStroke = 'rgb(224, 224, 224)';\nvar edgeInactiveStroke = 'rgb(234, 234, 234)';\nvar edgeDisablesStroke = 'rgb(245, 245, 245)';\nvar inactiveStroke = 'rgb(191, 213, 255)';\nvar highlightStroke = '#4572d9';\nvar highlightFill = 'rgb(223, 234, 255)';\nvar colorSet = {\n  // for nodes\n  mainStroke: subjectColor,\n  mainFill: nodeMainFill,\n  activeStroke: subjectColor,\n  activeFill: activeFill,\n  inactiveStroke: inactiveStroke,\n  inactiveFill: activeFill,\n  selectedStroke: subjectColor,\n  selectedFill: backColor,\n  highlightStroke: highlightStroke,\n  highlightFill: highlightFill,\n  disableStroke: edgeMainStroke,\n  disableFill: disabledFill,\n  // for edges\n  edgeMainStroke: edgeMainStroke,\n  edgeActiveStroke: subjectColor,\n  edgeInactiveStroke: edgeInactiveStroke,\n  edgeSelectedStroke: subjectColor,\n  edgeHighlightStroke: subjectColor,\n  edgeDisableStroke: edgeDisablesStroke,\n  // for combos\n  comboMainStroke: edgeMainStroke,\n  comboMainFill: comboFill,\n  comboActiveStroke: subjectColor,\n  comboActiveFill: activeFill,\n  comboInactiveStroke: edgeMainStroke,\n  comboInactiveFill: comboFill,\n  comboSelectedStroke: subjectColor,\n  comboSelectedFill: comboFill,\n  comboHighlightStroke: highlightStroke,\n  comboHighlightFill: comboFill,\n  comboDisableStroke: edgeInactiveStroke,\n  comboDisableFill: disabledFill\n};\nexport default {\n  version: '0.0.2',\n  rootContainerClassName: 'root-container',\n  nodeContainerClassName: 'node-container',\n  edgeContainerClassName: 'edge-container',\n  comboContainerClassName: 'combo-container',\n  delegateContainerClassName: 'delegate-container',\n  defaultLoopPosition: 'top',\n  nodeLabel: {\n    style: {\n      fill: '#000',\n      fontSize: 12,\n      textAlign: 'center',\n      textBaseline: 'middle'\n    },\n    offset: 4 // \n\n  },\n  defaultNode: {\n    type: 'circle',\n    style: {\n      lineWidth: 1,\n      stroke: colorSet.mainStroke,\n      fill: nodeMainFill\n    },\n    size: 20,\n    color: colorSet.mainStroke,\n    linkPoints: {\n      size: 8,\n      lineWidth: 1,\n      fill: colorSet.activeFill,\n      stroke: colorSet.activeStroke\n    }\n  },\n  //  activeselectedhighlightinactivedisable\n  nodeStateStyles: {\n    active: {\n      fill: colorSet.activeFill,\n      stroke: colorSet.activeStroke,\n      lineWidth: 2,\n      shadowColor: colorSet.mainStroke,\n      shadowBlur: 10\n    },\n    selected: {\n      fill: colorSet.selectedFill,\n      stroke: colorSet.selectedStroke,\n      lineWidth: 4,\n      shadowColor: colorSet.selectedStroke,\n      shadowBlur: 10,\n      'text-shape': {\n        fontWeight: 500\n      }\n    },\n    highlight: {\n      fill: colorSet.highlightFill,\n      stroke: colorSet.highlightStroke,\n      lineWidth: 2,\n      'text-shape': {\n        fontWeight: 500\n      }\n    },\n    inactive: {\n      fill: colorSet.inactiveFill,\n      stroke: colorSet.inactiveStroke,\n      lineWidth: 1\n    },\n    disable: {\n      fill: colorSet.disableFill,\n      stroke: colorSet.disableStroke,\n      lineWidth: 1\n    }\n  },\n  edgeLabel: {\n    style: {\n      fill: textColor,\n      textAlign: 'center',\n      textBaseline: 'middle',\n      fontSize: 12\n    }\n  },\n  defaultEdge: {\n    type: 'line',\n    size: 1,\n    style: {\n      stroke: colorSet.edgeMainStroke,\n      lineAppendWidth: 2\n    },\n    color: colorSet.edgeMainStroke\n  },\n  //  activeselectedhighlightinactivedisable\n  edgeStateStyles: {\n    active: {\n      stroke: colorSet.edgeActiveStroke,\n      lineWidth: 1\n    },\n    selected: {\n      stroke: colorSet.edgeSelectedStroke,\n      lineWidth: 2,\n      shadowColor: colorSet.edgeSelectedStroke,\n      shadowBlur: 10,\n      'text-shape': {\n        fontWeight: 500\n      }\n    },\n    highlight: {\n      stroke: colorSet.edgeHighlightStroke,\n      lineWidth: 2,\n      'text-shape': {\n        fontWeight: 500\n      }\n    },\n    inactive: {\n      stroke: colorSet.edgeInactiveStroke,\n      lineWidth: 1\n    },\n    disable: {\n      stroke: colorSet.edgeDisableStroke,\n      lineWidth: 1\n    }\n  },\n  comboLabel: {\n    style: {\n      fill: textColor,\n      // textAlign: 'center',\n      textBaseline: 'middle',\n      fontSize: 12\n    },\n    refY: 10,\n    refX: 10 // Combo \n\n  },\n  defaultCombo: {\n    type: 'circle',\n    style: {\n      fill: colorSet.comboMainFill,\n      lineWidth: 1,\n      stroke: colorSet.comboMainStroke,\n      r: 5,\n      width: 20,\n      height: 10\n    },\n    size: [20, 5],\n    color: colorSet.comboMainStroke,\n    padding: [25, 20, 15, 20]\n  },\n  // combo  activeselectedhighlightinactivedisable\n  comboStateStyles: {\n    active: {\n      stroke: colorSet.comboActiveStroke,\n      lineWidth: 1,\n      fill: colorSet.comboActiveFill\n    },\n    selected: {\n      stroke: colorSet.comboSelectedStroke,\n      lineWidth: 2,\n      fill: colorSet.comboSelectedFill,\n      shadowColor: colorSet.comboSelectedStroke,\n      shadowBlur: 10,\n      'text-shape': {\n        fontWeight: 500\n      }\n    },\n    highlight: {\n      stroke: colorSet.comboHighlightStroke,\n      lineWidth: 2,\n      fill: colorSet.comboHighlightFill,\n      'text-shape': {\n        fontWeight: 500\n      }\n    },\n    inactive: {\n      stroke: colorSet.comboInactiveStroke,\n      fill: colorSet.comboInactiveFill,\n      lineWidth: 1\n    },\n    disable: {\n      stroke: colorSet.comboDisableStroke,\n      fill: colorSet.comboDisableFill,\n      lineWidth: 1\n    }\n  },\n  delegateStyle: {\n    fill: '#F3F9FF',\n    fillOpacity: 0.5,\n    stroke: '#1890FF',\n    strokeOpacity: 0.9,\n    lineDash: [5, 5]\n  }\n};","export default {\n  ' ': 0.3329986572265625,\n  a: 0.5589996337890625,\n  A: 0.6569992065429687,\n  b: 0.58599853515625,\n  B: 0.6769989013671875,\n  c: 0.5469985961914062,\n  C: 0.7279998779296875,\n  d: 0.58599853515625,\n  D: 0.705999755859375,\n  e: 0.554998779296875,\n  E: 0.63699951171875,\n  f: 0.37299957275390627,\n  F: 0.5769989013671875,\n  g: 0.5909988403320312,\n  G: 0.7479995727539063,\n  h: 0.555999755859375,\n  H: 0.7199996948242188,\n  i: 0.255999755859375,\n  I: 0.23699951171875,\n  j: 0.26699981689453123,\n  J: 0.5169998168945312,\n  k: 0.5289993286132812,\n  K: 0.6899993896484375,\n  l: 0.23499908447265624,\n  L: 0.5879989624023437,\n  m: 0.854998779296875,\n  M: 0.8819992065429687,\n  n: 0.5589996337890625,\n  N: 0.7189987182617188,\n  o: 0.58599853515625,\n  O: 0.7669998168945312,\n  p: 0.58599853515625,\n  P: 0.6419998168945312,\n  q: 0.58599853515625,\n  Q: 0.7669998168945312,\n  r: 0.3649993896484375,\n  R: 0.6759994506835938,\n  s: 0.504998779296875,\n  S: 0.6319992065429687,\n  t: 0.354998779296875,\n  T: 0.6189987182617187,\n  u: 0.5599990844726562,\n  U: 0.7139999389648437,\n  v: 0.48199920654296874,\n  V: 0.6389999389648438,\n  w: 0.754998779296875,\n  W: 0.929998779296875,\n  x: 0.5089996337890625,\n  X: 0.63699951171875,\n  y: 0.4959991455078125,\n  Y: 0.66199951171875,\n  z: 0.48699951171875,\n  Z: 0.6239990234375,\n  '0': 0.6,\n  '1': 0.40099945068359377,\n  '2': 0.6,\n  '3': 0.6,\n  '4': 0.6,\n  '5': 0.6,\n  '6': 0.6,\n  '7': 0.5469985961914062,\n  '8': 0.6,\n  '9': 0.6,\n  '[': 0.3329986572265625,\n  ']': 0.3329986572265625,\n  ',': 0.26399993896484375,\n  '.': 0.26399993896484375,\n  ';': 0.26399993896484375,\n  ':': 0.26399993896484375,\n  '{': 0.3329986572265625,\n  '}': 0.3329986572265625,\n  '\\\\': 0.5,\n  '|': 0.19499969482421875,\n  '=': 0.604998779296875,\n  '+': 0.604998779296875,\n  '-': 0.604998779296875,\n  _: 0.5,\n  '`': 0.3329986572265625,\n  ' ~': 0.8329986572265625,\n  '!': 0.3329986572265625,\n  '@': 0.8579986572265625,\n  '#': 0.6,\n  $: 0.6,\n  '%': 0.9699996948242188,\n  '^': 0.517999267578125,\n  '&': 0.7259994506835937,\n  '*': 0.505999755859375,\n  '(': 0.3329986572265625,\n  ')': 0.3329986572265625,\n  '<': 0.604998779296875,\n  '>': 0.604998779296875,\n  '/': 0.5,\n  '?': 0.53699951171875\n};","import { __assign } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport Global from '../global';\nimport { applyMatrix } from './math';\nimport letterAspectRatio from './letterAspectRatio';\nimport { isString, clone, isNumber, isObject } from '@antv/util';\nvar PI = Math.PI,\n    sin = Math.sin,\n    cos = Math.cos; // 84522.5\n\nvar SELF_LINK_SIN = sin(PI / 8);\nvar SELF_LINK_COS = cos(PI / 8);\nexport var getBBox = function getBBox(element, group) {\n  var bbox = element.getBBox();\n  var leftTop = {\n    x: bbox.minX,\n    y: bbox.minY\n  };\n  var rightBottom = {\n    x: bbox.maxX,\n    y: bbox.maxY\n  }; // \n\n  if (group) {\n    var matrix = group.getMatrix();\n\n    if (!matrix) {\n      matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    }\n\n    leftTop = applyMatrix(leftTop, matrix);\n    rightBottom = applyMatrix(rightBottom, matrix);\n  }\n\n  var lx = leftTop.x,\n      ly = leftTop.y;\n  var rx = rightBottom.x,\n      ry = rightBottom.y;\n  return {\n    x: lx,\n    y: ly,\n    minX: lx,\n    minY: ly,\n    maxX: rx,\n    maxY: ry,\n    width: rx - lx,\n    height: ry - ly\n  };\n};\n/**\n * get loop edge config\n * @param cfg edge config\n */\n\nexport var getLoopCfgs = function getLoopCfgs(cfg) {\n  var item = cfg.sourceNode || cfg.targetNode;\n  var container = item.get('group');\n  var containerMatrix = container.getMatrix();\n  if (!containerMatrix) containerMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  var keyShape = item.getKeyShape();\n  var bbox = keyShape.getBBox();\n  var loopCfg = cfg.loopCfg || {}; // keyShape\n\n  var dist = loopCfg.dist || Math.max(bbox.width, bbox.height) * 2; // keyShape\n\n  var position = loopCfg.position || Global.defaultLoopPosition; // group\n\n  var center = [containerMatrix[6], containerMatrix[7]];\n  var startPoint = [cfg.startPoint.x, cfg.startPoint.y];\n  var endPoint = [cfg.endPoint.x, cfg.endPoint.y];\n  var rstart = bbox.height / 2;\n  var rend = bbox.height / 2;\n  var sinDeltaStart = rstart * SELF_LINK_SIN;\n  var cosDeltaStart = rstart * SELF_LINK_COS;\n  var sinDeltaEnd = rend * SELF_LINK_SIN;\n  var cosDeltaEnd = rend * SELF_LINK_COS; //  cfg \n\n  if (startPoint[0] === endPoint[0] && startPoint[1] === endPoint[1]) {\n    switch (position) {\n      case 'top':\n        startPoint = [center[0] - sinDeltaStart, center[1] - cosDeltaStart];\n        endPoint = [center[0] + sinDeltaEnd, center[1] - cosDeltaEnd];\n        break;\n\n      case 'top-right':\n        rstart = bbox.height / 2;\n        rend = bbox.width / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] + sinDeltaStart, center[1] - cosDeltaStart];\n        endPoint = [center[0] + cosDeltaEnd, center[1] - sinDeltaEnd];\n        break;\n\n      case 'right':\n        rstart = bbox.width / 2;\n        rend = bbox.width / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] + cosDeltaStart, center[1] - sinDeltaStart];\n        endPoint = [center[0] + cosDeltaEnd, center[1] + sinDeltaEnd];\n        break;\n\n      case 'bottom-right':\n        rstart = bbox.width / 2;\n        rend = bbox.height / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] + cosDeltaStart, center[1] + sinDeltaStart];\n        endPoint = [center[0] + sinDeltaEnd, center[1] + cosDeltaEnd];\n        break;\n\n      case 'bottom':\n        rstart = bbox.height / 2;\n        rend = bbox.height / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] + sinDeltaStart, center[1] + cosDeltaStart];\n        endPoint = [center[0] - sinDeltaEnd, center[1] + cosDeltaEnd];\n        break;\n\n      case 'bottom-left':\n        rstart = bbox.height / 2;\n        rend = bbox.width / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] - sinDeltaStart, center[1] + cosDeltaStart];\n        endPoint = [center[0] - cosDeltaEnd, center[1] + sinDeltaEnd];\n        break;\n\n      case 'left':\n        rstart = bbox.width / 2;\n        rend = bbox.width / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] - cosDeltaStart, center[1] + sinDeltaStart];\n        endPoint = [center[0] - cosDeltaEnd, center[1] - sinDeltaEnd];\n        break;\n\n      case 'top-left':\n        rstart = bbox.width / 2;\n        rend = bbox.height / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] - cosDeltaStart, center[1] - sinDeltaStart];\n        endPoint = [center[0] - sinDeltaEnd, center[1] - cosDeltaEnd];\n        break;\n\n      default:\n        rstart = bbox.width / 2;\n        rend = bbox.width / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] - sinDeltaStart, center[1] - cosDeltaStart];\n        endPoint = [center[0] + sinDeltaEnd, center[1] - cosDeltaEnd];\n    } // \n\n\n    if (loopCfg.clockwise === false) {\n      var swap = [startPoint[0], startPoint[1]];\n      startPoint = [endPoint[0], endPoint[1]];\n      endPoint = [swap[0], swap[1]];\n    }\n  }\n\n  var startVec = [startPoint[0] - center[0], startPoint[1] - center[1]];\n  var scaleRateStart = (rstart + dist) / rstart;\n  var scaleRateEnd = (rend + dist) / rend;\n\n  if (loopCfg.clockwise === false) {\n    scaleRateStart = (rend + dist) / rend;\n    scaleRateEnd = (rstart + dist) / rstart;\n  }\n\n  var startExtendVec = vec2.scale([0, 0], startVec, scaleRateStart);\n  var controlPoint1 = [center[0] + startExtendVec[0], center[1] + startExtendVec[1]];\n  var endVec = [endPoint[0] - center[0], endPoint[1] - center[1]];\n  var endExtendVec = vec2.scale([0, 0], endVec, scaleRateEnd);\n  var controlPoint2 = [center[0] + endExtendVec[0], center[1] + endExtendVec[1]];\n  cfg.startPoint = {\n    x: startPoint[0],\n    y: startPoint[1]\n  };\n  cfg.endPoint = {\n    x: endPoint[0],\n    y: endPoint[1]\n  };\n  cfg.controlPoints = [{\n    x: controlPoint1[0],\n    y: controlPoint1[1]\n  }, {\n    x: controlPoint2[0],\n    y: controlPoint2[1]\n  }];\n  return cfg;\n};\n/**\n *  label  label \n * @param {object}  pathShape  G  path  Edge  keyShape\n * @param {number}  percent     0 - 1 \n * @param {number}  refX     x  label \n * @param {number}  refY     y  label \n * @param {boolean} rotate     \n * @return {object}  x, y, \n */\n\nexport var getLabelPosition = function getLabelPosition(pathShape, percent, refX, refY, rotate) {\n  var TAN_OFFSET = 0.0001;\n  var vector = [];\n  var point = pathShape.getPoint(percent);\n\n  if (point === null) {\n    return {\n      x: 0,\n      y: 0,\n      angle: 0\n    };\n  } //  g path \n\n\n  if (percent < TAN_OFFSET) {\n    vector = pathShape.getStartTangent().reverse();\n  } else if (percent > 1 - TAN_OFFSET) {\n    vector = pathShape.getEndTangent();\n  } else {\n    // ,\n    var offsetPoint = pathShape.getPoint(percent + TAN_OFFSET);\n    vector.push([point.x, point.y]);\n    vector.push([offsetPoint.x, offsetPoint.y]);\n  }\n\n  var rad = Math.atan2(vector[1][1] - vector[0][1], vector[1][0] - vector[0][0]);\n\n  if (rad < 0) {\n    rad += PI * 2;\n  }\n\n  if (refX) {\n    point.x += cos(rad) * refX;\n    point.y += sin(rad) * refX;\n  }\n\n  if (refY) {\n    //  x   - 90\n    var normal = rad - PI / 2; //  y  refY  y \n\n    if (rad > 1 / 2 * PI && rad < 3 * 1 / 2 * PI) {\n      normal -= PI;\n    }\n\n    point.x += cos(normal) * refY;\n    point.y += sin(normal) * refY;\n  }\n\n  var result = {\n    x: point.x,\n    y: point.y,\n    angle: rad\n  };\n\n  if (rotate) {\n    if (rad > 1 / 2 * PI && rad < 3 * 1 / 2 * PI) {\n      rad -= PI;\n    }\n\n    return __assign({\n      rotate: rad\n    }, result);\n  }\n\n  return result;\n};\n/**\n * depth first traverse, from root to leaves, children in inverse order\n *  if the fn returns false, terminate the traverse\n */\n\nvar traverse = function traverse(data, fn) {\n  if (fn(data) === false) {\n    return false;\n  }\n\n  if (data && data.children) {\n    for (var i = data.children.length - 1; i >= 0; i--) {\n      if (!traverse(data.children[i], fn)) return false;\n    }\n  }\n\n  return true;\n};\n/**\n * depth first traverse, from leaves to root, children in inverse order\n *  if the fn returns false, terminate the traverse\n */\n\n\nvar traverseUp = function traverseUp(data, fn) {\n  if (data && data.children) {\n    for (var i = data.children.length - 1; i >= 0; i--) {\n      if (!traverseUp(data.children[i], fn)) return;\n    }\n  }\n\n  if (fn(data) === false) {\n    return false;\n  }\n\n  return true;\n};\n/**\n * depth first traverse, from root to leaves, children in inverse order\n *  if the fn returns false, terminate the traverse\n */\n\n\nexport var traverseTree = function traverseTree(data, fn) {\n  if (typeof fn !== 'function') {\n    return;\n  }\n\n  traverse(data, fn);\n};\n/**\n * depth first traverse, from leaves to root, children in inverse order\n * if the fn returns false, terminate the traverse\n */\n\nexport var traverseTreeUp = function traverseTreeUp(data, fn) {\n  if (typeof fn !== 'function') {\n    return;\n  }\n\n  traverseUp(data, fn);\n};\n/**\n *\n * @param letter the letter\n * @param fontSize\n * @return the letter's width\n */\n\nexport var getLetterWidth = function getLetterWidth(letter, fontSize) {\n  return fontSize * (letterAspectRatio[letter] || 1);\n};\n/**\n *\n * @param text the text\n * @param fontSize\n * @return the text's size\n */\n\nexport var getTextSize = function getTextSize(text, fontSize) {\n  var width = 0;\n  var pattern = new RegExp(\"[\\u4E00-\\u9FA5]+\");\n  text.split('').forEach(function (letter) {\n    if (pattern.test(letter)) {\n      // \n      width += fontSize;\n    } else {\n      width += getLetterWidth(letter, fontSize);\n    }\n  });\n  return [width, fontSize];\n};\n/**\n * construct the trees from combos data\n * @param array the combos array\n * @param nodes the nodes array\n * @return the tree\n */\n\nexport var plainCombosToTrees = function plainCombosToTrees(array, nodes) {\n  var result = [];\n  var addedMap = {};\n  var modelMap = {};\n  array.forEach(function (d) {\n    modelMap[d.id] = d;\n  });\n  array.forEach(function (d, i) {\n    var cd = clone(d);\n    cd.itemType = 'combo';\n    cd.children = undefined;\n\n    if (cd.parentId === cd.id) {\n      console.warn(\"The parentId for combo \".concat(cd.id, \" can not be the same as the combo's id\"));\n      delete cd.parentId;\n    } else if (cd.parentId && !modelMap[cd.parentId]) {\n      console.warn(\"The parent combo for combo \".concat(cd.id, \" does not exist!\"));\n      delete cd.parentId;\n    }\n\n    var mappedObj = addedMap[cd.id];\n\n    if (mappedObj) {\n      cd.children = mappedObj.children;\n      addedMap[cd.id] = cd;\n      mappedObj = cd;\n\n      if (!mappedObj.parentId) {\n        result.push(mappedObj);\n        return;\n      }\n\n      var mappedParent = addedMap[mappedObj.parentId];\n\n      if (mappedParent) {\n        if (mappedParent.children) mappedParent.children.push(cd);else mappedParent.children = [cd];\n      } else {\n        var parent_1 = {\n          id: mappedObj.parentId,\n          children: [mappedObj]\n        };\n        addedMap[mappedObj.parentId] = parent_1;\n        addedMap[cd.id] = cd;\n      }\n\n      return;\n    }\n\n    if (isString(d.parentId)) {\n      var parent_2 = addedMap[d.parentId];\n\n      if (parent_2) {\n        if (parent_2.children) parent_2.children.push(cd);else parent_2.children = [cd];\n        addedMap[cd.id] = cd;\n      } else {\n        var pa = {\n          id: d.parentId,\n          children: [cd]\n        };\n        addedMap[pa.id] = pa;\n        addedMap[cd.id] = cd;\n      }\n    } else {\n      result.push(cd);\n      addedMap[cd.id] = cd;\n    }\n  }); // proccess the nodes\n\n  var nodeMap = {};\n  (nodes || []).forEach(function (node) {\n    nodeMap[node.id] = node;\n    var combo = addedMap[node.comboId];\n\n    if (combo) {\n      var cnode = {\n        id: node.id,\n        comboId: node.comboId\n      };\n      if (combo.children) combo.children.push(cnode);else combo.children = [cnode];\n      cnode.itemType = 'node';\n      addedMap[node.id] = cnode;\n    }\n  }); // assign the depth for each element\n\n  var maxDepth = 0;\n  result.forEach(function (tree) {\n    tree.depth = maxDepth + 10;\n    traverse(tree, function (child) {\n      var parent;\n      var itemType = addedMap[child.id].itemType;\n\n      if (itemType === 'node') {\n        parent = addedMap[child.comboId];\n      } else {\n        parent = addedMap[child.parentId];\n      }\n\n      if (parent) {\n        if (itemType === 'node') child.depth = maxDepth + 1;else child.depth = maxDepth + 10;\n      } else {\n        child.depth = maxDepth + 10;\n      }\n\n      if (maxDepth < child.depth) maxDepth = child.depth;\n      var oriNodeModel = nodeMap[child.id];\n\n      if (oriNodeModel) {\n        oriNodeModel.depth = child.depth;\n      }\n\n      return true;\n    });\n  });\n  return result;\n};\nexport var reconstructTree = function reconstructTree(trees, subtreeId, newParentId) {\n  var brothers = trees;\n  var subtree;\n  var comboChildsMap = {\n    root: {\n      children: trees\n    }\n  };\n  var foundSubTree = false;\n  var oldParentId = 'root';\n  (trees || []).forEach(function (tree) {\n    if (foundSubTree) return;\n\n    if (tree.id === subtreeId) {\n      subtree = tree;\n\n      if (tree.itemType === 'combo') {\n        subtree.parentId = newParentId;\n      } else {\n        subtree.comboId = newParentId;\n      }\n\n      foundSubTree = true;\n      return;\n    }\n\n    traverseTree(tree, function (child) {\n      comboChildsMap[child.id] = {\n        children: child.children\n      }; // store the old parent id to delete the subtree from the old parent's children in next recursion\n\n      brothers = comboChildsMap[child.parentId || child.comboId || 'root'].children;\n\n      if (child && (child.removed || subtreeId === child.id) && brothers) {\n        oldParentId = child.parentId || child.comboId || 'root';\n        subtree = child; // re-assign the parentId or comboId for the moved subtree\n\n        if (child.itemType === 'combo') {\n          subtree.parentId = newParentId;\n        } else {\n          subtree.comboId = newParentId;\n        }\n\n        foundSubTree = true;\n        return false;\n      }\n\n      return true;\n    });\n  });\n  brothers = comboChildsMap[oldParentId].children;\n  var index = brothers ? brothers.indexOf(subtree) : -1;\n  if (index > -1) brothers.splice(index, 1); // \n\n  if (!foundSubTree) {\n    subtree = {\n      id: subtreeId,\n      itemType: 'node',\n      comboId: newParentId\n    };\n    comboChildsMap[subtreeId] = {\n      children: undefined\n    };\n  } // append to new parent\n\n\n  if (subtreeId) {\n    var found_1 = false; // newParentId is undefined means the subtree will have no parent\n\n    if (newParentId) {\n      var newParentDepth_1 = 0;\n      (trees || []).forEach(function (tree) {\n        if (found_1) return; // terminate\n\n        traverseTree(tree, function (child) {\n          // append subtree to the new parent ans assign the depth to the subtree\n          if (newParentId === child.id) {\n            found_1 = true;\n            if (child.children) child.children.push(subtree);else child.children = [subtree];\n            newParentDepth_1 = child.depth;\n            if (subtree.itemType === 'node') subtree.depth = newParentDepth_1 + 2;else subtree.depth = newParentDepth_1 + 1;\n            return false; // terminate\n          }\n\n          return true;\n        });\n      });\n    } else if ((!newParentId || !found_1) && subtree.itemType !== 'node') {\n      // if the newParentId is undefined or it is not found in the tree, add the subTree to the root\n      trees.push(subtree);\n    } // update the depth of the subtree and its children from the subtree\n\n\n    var currentDepth_1 = subtree.depth;\n    traverseTree(subtree, function (child) {\n      if (child.itemType === 'node') currentDepth_1 += 2;else currentDepth_1 += 1;\n      child.depth = currentDepth_1;\n      return true;\n    });\n  }\n\n  return trees;\n};\nexport var getComboBBox = function getComboBBox(children, graph) {\n  var comboBBox = {\n    minX: Infinity,\n    minY: Infinity,\n    maxX: -Infinity,\n    maxY: -Infinity,\n    x: undefined,\n    y: undefined,\n    width: undefined,\n    height: undefined,\n    centerX: undefined,\n    centerY: undefined\n  };\n\n  if (!children || children.length === 0) {\n    return comboBBox;\n  }\n\n  children.forEach(function (child) {\n    var childItem = graph.findById(child.id);\n    if (!childItem || !childItem.isVisible()) return; // ignore hidden children\n\n    childItem.set('bboxCanvasCache', undefined);\n    var childBBox = childItem.getCanvasBBox();\n    if (childBBox.x && comboBBox.minX > childBBox.minX) comboBBox.minX = childBBox.minX;\n    if (childBBox.y && comboBBox.minY > childBBox.minY) comboBBox.minY = childBBox.minY;\n    if (childBBox.x && comboBBox.maxX < childBBox.maxX) comboBBox.maxX = childBBox.maxX;\n    if (childBBox.y && comboBBox.maxY < childBBox.maxY) comboBBox.maxY = childBBox.maxY;\n  });\n  comboBBox.x = (comboBBox.minX + comboBBox.maxX) / 2;\n  comboBBox.y = (comboBBox.minY + comboBBox.maxY) / 2;\n  comboBBox.width = comboBBox.maxX - comboBBox.minX;\n  comboBBox.height = comboBBox.maxY - comboBBox.minY;\n  comboBBox.centerX = (comboBBox.minX + comboBBox.maxX) / 2;\n  comboBBox.centerY = (comboBBox.minY + comboBBox.maxY) / 2;\n  Object.keys(comboBBox).forEach(function (key) {\n    if (comboBBox[key] === Infinity || comboBBox[key] === -Infinity) {\n      comboBBox[key] = undefined;\n    }\n  });\n  return comboBBox;\n};\nexport var shouldRefreshEdge = function shouldRefreshEdge(cfg) {\n  var refreshEdge = isNumber(cfg.x) || isNumber(cfg.y) || cfg.type || cfg.anchorPoints || cfg.size;\n  if (cfg.style) refreshEdge = refreshEdge || isNumber(cfg.style.r) || isNumber(cfg.style.width) || isNumber(cfg.style.height) || isNumber(cfg.style.rx) || isNumber(cfg.style.ry);\n  return refreshEdge;\n};\nexport var cloneBesidesImg = function cloneBesidesImg(obj) {\n  var clonedObj = {};\n  Object.keys(obj).forEach(function (key1) {\n    var obj2 = obj[key1];\n\n    if (isObject(obj2)) {\n      var clonedObj2_1 = {};\n      Object.keys(obj2).forEach(function (key2) {\n        var v = obj2[key2];\n        if (key2 === 'img' && !isString(v)) return;\n        clonedObj2_1[key2] = clone(v);\n      });\n      clonedObj[key1] = clonedObj2_1;\n    } else {\n      clonedObj[key1] = clone(obj2);\n    }\n  });\n  return clonedObj;\n};","import { __spreadArray } from \"tslib\";\nimport { isString } from '@antv/util';\nimport { traverseTree } from './graphic';\n/**\n * \n * 1. \n * 2.  ID  123  '123' \n * 3.  source  target  ID \n * @param data \n * @return boolean  true false\n */\n\nexport var dataValidation = function dataValidation(data) {\n  // 1. \n  if (!data) {\n    console.error('G6 Error Tips: the data must be defined');\n    return false;\n  } // 2.  ID \n\n\n  var nodes = data.nodes,\n      edges = data.edges,\n      _a = data.combos,\n      combos = _a === void 0 ? [] : _a;\n\n  if (!nodes && !edges) {\n    var validated_1 = true; //  nodes  edges TreeGraphData TreeGraphData \n\n    traverseTree(data, function (param) {\n      if (!isString(param.id)) {\n        validated_1 = false;\n        return false;\n      }\n\n      return true;\n    });\n    return validated_1;\n  }\n\n  var nonNode = (nodes || []).find(function (node) {\n    return !isString(node.id);\n  });\n\n  if (nonNode) {\n    console.warn(\"G6 Warning Tips: missing 'id' property, or %c\".concat(nonNode.id, \"%c is not a string.\"), 'font-size: 20px; color: red;', '');\n    return false;\n  } // 3.  source  target   Combo\n\n\n  var nodeIds = (nodes || []).map(function (node) {\n    return node.id;\n  });\n  var comboIds = combos.map(function (combo) {\n    return combo.id;\n  });\n\n  var ids = __spreadArray(__spreadArray([], nodeIds, true), comboIds, true);\n\n  var nonEdges = (edges || []).find(function (edge) {\n    return !ids.includes(edge.source) || !ids.includes(edge.target);\n  });\n\n  if (nonEdges) {\n    console.warn(\"G6 Warning Tips: The source %c\".concat(nonEdges.source, \"%c or the target %c\").concat(nonEdges.target, \"%c of the edge do not exist in the nodes or combos.\"), 'font-size: 20px; color: red;', '', 'font-size: 20px; color: red;', '');\n    return false;\n  }\n\n  return true;\n};\n/**\n * combo\n * @param type combo\n * @param data \n * @return boolean  true false\n */\n\nexport var singleDataValidation = function singleDataValidation(type, data) {\n  if (type === 'node' || type === 'combo') {\n    //  id id\n    if (data.id && !isString(data.id)) {\n      console.warn(\"G6 Warning Tips: missing 'id' property, or the 'id' %c\".concat(data.id, \"%c is not a string.\"), 'font-size: 20px; color: red;', '');\n      return false;\n    }\n  } else if (type === 'edge') {\n    //  source  target \n    if (!data.source || !data.target) {\n      console.warn(\"G6 Warning Tips: missing 'source' or 'target' for the edge.\");\n      return false;\n    }\n  }\n\n  return true;\n};","import { each, isArray, isString } from '@antv/util';\nimport Behavior from '../../behavior/behavior';\n\nvar ModeController =\n/** @class */\nfunction () {\n  function ModeController(graph) {\n    this.graph = graph;\n    this.destroyed = false;\n    this.modes = graph.get('modes') || {\n      default: []\n    };\n    this.formatModes();\n    this.mode = graph.get('defaultMode') || 'default';\n    this.currentBehaves = [];\n    this.setMode(this.mode);\n  }\n\n  ModeController.prototype.formatModes = function () {\n    var modes = this.modes;\n    each(modes, function (mode) {\n      each(mode, function (behavior, i) {\n        if (isString(behavior)) {\n          mode[i] = {\n            type: behavior\n          };\n        }\n      });\n    });\n  };\n\n  ModeController.prototype.setBehaviors = function (mode) {\n    var graph = this.graph;\n    var behaviors = this.modes[mode];\n    var behaves = [];\n    var behave;\n    each(behaviors || [], function (behavior) {\n      var BehaviorInstance = Behavior.getBehavior(behavior.type || behavior);\n\n      if (!BehaviorInstance) {\n        return;\n      }\n\n      behave = new BehaviorInstance(behavior);\n\n      if (behave) {\n        behave.bind(graph);\n        behaves.push(behave);\n      }\n    });\n    this.currentBehaves = behaves;\n  };\n\n  ModeController.mergeBehaviors = function (modeBehaviors, behaviors) {\n    each(behaviors, function (behavior) {\n      if (modeBehaviors.indexOf(behavior) < 0) {\n        if (isString(behavior)) {\n          behavior = {\n            type: behavior\n          };\n        }\n\n        modeBehaviors.push(behavior);\n      }\n    });\n    return modeBehaviors;\n  };\n\n  ModeController.filterBehaviors = function (modeBehaviors, behaviors) {\n    var result = [];\n    modeBehaviors.forEach(function (behavior) {\n      var type = '';\n\n      if (isString(behavior)) {\n        type = behavior;\n      } else {\n        // eslint-disable-next-line prefer-destructuring\n        type = behavior.type;\n      }\n\n      if (behaviors.indexOf(type) < 0) {\n        result.push(behavior);\n      }\n    });\n    return result;\n  };\n\n  ModeController.prototype.setMode = function (mode) {\n    var _a = this,\n        modes = _a.modes,\n        graph = _a.graph;\n\n    var current = mode;\n    var behaviors = modes[current];\n\n    if (!behaviors) {\n      return;\n    }\n\n    graph.emit('beforemodechange', {\n      mode: mode\n    });\n    each(this.currentBehaves, function (behave) {\n      if (behave.delegate) behave.delegate.remove();\n      behave.unbind(graph);\n    });\n    this.setBehaviors(current);\n    graph.emit('aftermodechange', {\n      mode: mode\n    });\n    this.mode = mode;\n  };\n\n  ModeController.prototype.getMode = function () {\n    return this.mode;\n  };\n  /**\n   *  Behavior\n   *\n   * @param {ModeType[]} behaviors\n   * @param {(ModeType[] | ModeType)} modes\n   * @param {boolean} isAdd\n   * @returns {Mode}\n   * @memberof Mode\n   */\n\n\n  ModeController.prototype.manipulateBehaviors = function (behaviors, modes, isAdd) {\n    var _this = this;\n\n    var behaves;\n\n    if (!isArray(behaviors)) {\n      behaves = [behaviors];\n    } else {\n      behaves = behaviors;\n    }\n\n    if (isArray(modes)) {\n      each(modes, function (mode) {\n        if (!_this.modes[mode]) {\n          if (isAdd) {\n            _this.modes[mode] = behaves;\n          }\n        } else if (isAdd) {\n          _this.modes[mode] = ModeController.mergeBehaviors(_this.modes[mode] || [], behaves);\n        } else {\n          _this.modes[mode] = ModeController.filterBehaviors(_this.modes[mode] || [], behaves);\n        }\n      });\n      return this;\n    }\n\n    var currentMode = modes;\n\n    if (!modes) {\n      currentMode = this.mode; // isString(this.mode) ? this.mode : this.mode.type\n    }\n\n    if (!this.modes[currentMode]) {\n      if (isAdd) {\n        this.modes[currentMode] = behaves;\n      }\n    }\n\n    if (isAdd) {\n      this.modes[currentMode] = ModeController.mergeBehaviors(this.modes[currentMode] || [], behaves);\n    } else {\n      this.modes[currentMode] = ModeController.filterBehaviors(this.modes[currentMode] || [], behaves);\n    }\n\n    this.setMode(this.mode);\n    return this;\n  };\n  /**\n   * \n   * @param {string | ModeOption | ModeType} behavior \n   * @param {string | string[]} modes  default\n   * @return {Graph} Graph\n   */\n\n\n  ModeController.prototype.updateBehavior = function (behavior, newCfg, mode) {\n    if (isString(behavior)) {\n      behavior = {\n        type: behavior\n      };\n    }\n\n    var behaviorSet = [];\n\n    if (!mode || mode === this.mode || mode === 'default') {\n      behaviorSet = this.currentBehaves;\n\n      if (!behaviorSet || !behaviorSet.length) {\n        console.warn('Update behavior failed! There is no behaviors in this mode on the graph.');\n        return this;\n      }\n\n      var length_1 = behaviorSet.length;\n\n      for (var i = 0; i < length_1; i++) {\n        var behave = behaviorSet[i];\n\n        if (behave.type === behavior.type) {\n          behave.updateCfg(newCfg);\n          return this;\n        }\n\n        if (i === length_1 - 1) console.warn('Update behavior failed! There is no such behavior in the mode');\n      }\n    } else {\n      behaviorSet = this.modes[mode];\n\n      if (!behaviorSet || !behaviorSet.length) {\n        console.warn('Update behavior failed! There is no behaviors in this mode on the graph.');\n        return this;\n      }\n\n      var length_2 = behaviorSet.length;\n\n      for (var i = 0; i < length_2; i++) {\n        var behave = behaviorSet[i];\n\n        if (behave.type === behavior.type || behave === behavior.type) {\n          if (behave === behavior.type) behave = {\n            type: behave\n          };\n          Object.assign(behave, newCfg);\n          behaviorSet[i] = behave;\n          return this;\n        }\n\n        if (i === length_2 - 1) console.warn('Update behavior failed! There is no such behavior in the mode');\n      }\n    }\n\n    return this;\n  };\n\n  ModeController.prototype.destroy = function () {\n    this.graph = null;\n    this.modes = null;\n    this.currentBehaves = null;\n    this.destroyed = true;\n  };\n\n  return ModeController;\n}();\n\nexport default ModeController;","import { __extends } from \"tslib\";\nimport { Event as GraphEvent } from '@antv/g-base';\n\nvar G6GraphEvent =\n/** @class */\nfunction (_super) {\n  __extends(G6GraphEvent, _super);\n\n  function G6GraphEvent(type, event) {\n    var _this = _super.call(this, type, event) || this;\n\n    _this.item = event.item;\n    _this.canvasX = event.canvasX;\n    _this.canvasY = event.canvasY;\n    _this.detail = event.detail;\n    return _this;\n  }\n\n  return G6GraphEvent;\n}(GraphEvent);\n\nexport { G6GraphEvent };","import { isString, isNumber, isNil, isArray } from '@antv/util';\nimport { G6GraphEvent } from '../interface/behavior';\nexport var uniqueId = function uniqueId(type) {\n  return \"\".concat(type, \"-\").concat(Math.random()).concat(Date.now());\n};\n/**\n * turn padding into [top, right, bottom, right]\n * @param  {Number|Array} padding input padding\n * @return {array} output\n */\n\nexport var formatPadding = function formatPadding(padding) {\n  var top = 0;\n  var left = 0;\n  var right = 0;\n  var bottom = 0;\n\n  if (isNumber(padding)) {\n    top = left = right = bottom = padding;\n  } else if (isString(padding)) {\n    var intPadding = parseInt(padding, 10);\n    top = left = right = bottom = intPadding;\n  } else if (isArray(padding)) {\n    top = padding[0];\n    right = !isNil(padding[1]) ? padding[1] : padding[0];\n    bottom = !isNil(padding[2]) ? padding[2] : padding[0];\n    left = !isNil(padding[3]) ? padding[3] : right;\n  }\n\n  return [top, right, bottom, left];\n};\n/**\n * clone event\n * @param e\n */\n\nexport var cloneEvent = function cloneEvent(e) {\n  var event = new G6GraphEvent(e.type, e);\n  event.clientX = e.clientX;\n  event.clientY = e.clientY;\n  event.x = e.x;\n  event.y = e.y;\n  event.target = e.target;\n  event.currentTarget = e.currentTarget;\n  event.bubbles = true;\n  event.item = e.item;\n  return event;\n};\n/**\n *  viewport \n * @param matrix Viewport  Matrix\n */\n\nexport var isViewportChanged = function isViewportChanged(matrix) {\n  // matrix  null \n  if (!matrix) {\n    return false;\n  }\n\n  var MATRIX_LEN = 9;\n  var ORIGIN_MATRIX = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n  for (var i = 0; i < MATRIX_LEN; i++) {\n    if (matrix[i] !== ORIGIN_MATRIX[i]) {\n      return true;\n    }\n  }\n\n  return false;\n};\nexport var isNaN = function isNaN(input) {\n  return Number.isNaN(Number(input));\n};\n/**\n *  Item  BBox\n * @param items Item node  combo\n */\n\nexport var calculationItemsBBox = function calculationItemsBBox(items) {\n  var minx = Infinity;\n  var maxx = -Infinity;\n  var miny = Infinity;\n  var maxy = -Infinity; // x y\n\n  for (var i = 0; i < items.length; i++) {\n    var element = items[i];\n    var bbox = element.getBBox();\n    var minX = bbox.minX,\n        minY = bbox.minY,\n        maxX = bbox.maxX,\n        maxY = bbox.maxY;\n\n    if (minX < minx) {\n      minx = minX;\n    }\n\n    if (minY < miny) {\n      miny = minY;\n    }\n\n    if (maxX > maxx) {\n      maxx = maxX;\n    }\n\n    if (maxY > maxy) {\n      maxy = maxY;\n    }\n  }\n\n  var x = Math.floor(minx);\n  var y = Math.floor(miny);\n  var width = Math.ceil(maxx) - Math.floor(minx);\n  var height = Math.ceil(maxy) - Math.floor(miny);\n  return {\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    minX: minx,\n    minY: miny,\n    maxX: maxx,\n    maxY: maxy\n  };\n};\n/**\n *  edges  quadratic  curveOffset \n * : https://g6.antv.vision/en/docs/api/Util\n * @param edges \n * @param offsetDiff  offset \n * @param multiEdgeType\n * @param singleEdgeType\n * @param loopEdgeType\n */\n\nexport var processParallelEdges = function processParallelEdges(edges, offsetDiff, multiEdgeType, singleEdgeType, loopEdgeType) {\n  if (offsetDiff === void 0) {\n    offsetDiff = 15;\n  }\n\n  if (multiEdgeType === void 0) {\n    multiEdgeType = 'quadratic';\n  }\n\n  if (singleEdgeType === void 0) {\n    singleEdgeType = undefined;\n  }\n\n  if (loopEdgeType === void 0) {\n    loopEdgeType = undefined;\n  }\n\n  var len = edges.length;\n  var cod = offsetDiff * 2;\n  var loopPosition = ['top', 'top-right', 'right', 'bottom-right', 'bottom', 'bottom-left', 'left', 'top-left'];\n  var edgeMap = {};\n  var tags = [];\n  var reverses = {};\n\n  for (var i = 0; i < len; i++) {\n    var edge = edges[i];\n    var source = edge.source,\n        target = edge.target;\n    var sourceTarget = \"\".concat(source, \"-\").concat(target);\n    if (tags[i]) continue;\n\n    if (!edgeMap[sourceTarget]) {\n      edgeMap[sourceTarget] = [];\n    }\n\n    tags[i] = true;\n    edgeMap[sourceTarget].push(edge);\n\n    for (var j = 0; j < len; j++) {\n      if (i === j) continue;\n      var sedge = edges[j];\n      var src = sedge.source;\n      var dst = sedge.target; // \n      // source = target\n      // target = source\n\n      if (!tags[j]) {\n        if (source === dst && target === src) {\n          edgeMap[sourceTarget].push(sedge);\n          tags[j] = true;\n          reverses[\"\".concat(src, \"|\").concat(dst, \"|\").concat(edgeMap[sourceTarget].length - 1)] = true;\n        } else if (source === src && target === dst) {\n          edgeMap[sourceTarget].push(sedge);\n          tags[j] = true;\n        }\n      }\n    }\n  }\n\n  for (var key in edgeMap) {\n    var arcEdges = edgeMap[key];\n    var length_1 = arcEdges.length;\n\n    for (var k = 0; k < length_1; k++) {\n      var current = arcEdges[k];\n\n      if (current.source === current.target) {\n        if (loopEdgeType) current.type = loopEdgeType; // 8\n\n        current.loopCfg = {\n          position: loopPosition[k % 8],\n          dist: Math.floor(k / 8) * 20 + 50\n        };\n        continue;\n      }\n\n      if (length_1 === 1 && singleEdgeType && current.source !== current.target) {\n        current.type = singleEdgeType;\n        continue;\n      }\n\n      current.type = multiEdgeType;\n      var sign = (k % 2 === 0 ? 1 : -1) * (reverses[\"\".concat(current.source, \"|\").concat(current.target, \"|\").concat(k)] ? -1 : 1);\n\n      if (length_1 % 2 === 1) {\n        current.curveOffset = sign * Math.ceil(k / 2) * cod;\n      } else {\n        current.curveOffset = sign * (Math.floor(k / 2) * cod + offsetDiff);\n      }\n    }\n  }\n\n  return edges;\n};","import { __assign } from \"tslib\";\nimport { isNumber, isString } from '@antv/util';\nimport { modifyCSS } from '@antv/dom-util';\nimport { formatPadding } from '../../util/base';\nimport { applyMatrix, invertMatrix } from '../../util/math';\n\nvar ViewController =\n/** @class */\nfunction () {\n  function ViewController(graph) {\n    this.destroyed = false;\n    this.graph = graph;\n    this.destroyed = false;\n  } // get view center coordinate\n\n\n  ViewController.prototype.getViewCenter = function () {\n    var padding = this.getFormatPadding();\n    var graph = this.graph;\n    var width = this.graph.get('width');\n    var height = graph.get('height');\n    return {\n      x: (width - padding[1] - padding[3]) / 2 + padding[3],\n      y: (height - padding[0] - padding[2]) / 2 + padding[0]\n    };\n  };\n\n  ViewController.prototype.fitCenter = function () {\n    var graph = this.graph;\n    var group = graph.get('group');\n    group.resetMatrix();\n    var bbox = group.getCanvasBBox();\n    if (bbox.width === 0 || bbox.height === 0) return;\n    var viewCenter = this.getViewCenter();\n    var groupCenter = {\n      x: bbox.x + bbox.width / 2,\n      y: bbox.y + bbox.height / 2\n    };\n    graph.translate(viewCenter.x - groupCenter.x, viewCenter.y - groupCenter.y);\n  }; // fit view graph\n\n\n  ViewController.prototype.fitView = function () {\n    var graph = this.graph;\n    var padding = this.getFormatPadding();\n    var width = graph.get('width');\n    var height = graph.get('height');\n    var group = graph.get('group');\n    group.resetMatrix();\n    var bbox = group.getCanvasBBox();\n    if (bbox.width === 0 || bbox.height === 0) return;\n    var viewCenter = this.getViewCenter();\n    var groupCenter = {\n      x: bbox.x + bbox.width / 2,\n      y: bbox.y + bbox.height / 2\n    };\n    graph.translate(viewCenter.x - groupCenter.x, viewCenter.y - groupCenter.y);\n    var w = (width - padding[1] - padding[3]) / bbox.width;\n    var h = (height - padding[0] - padding[2]) / bbox.height;\n    var ratio = w;\n\n    if (w > h) {\n      ratio = h;\n    }\n\n    graph.zoom(ratio, viewCenter);\n  };\n\n  ViewController.prototype.getFormatPadding = function () {\n    var padding = this.graph.get('fitViewPadding');\n    return formatPadding(padding);\n  };\n\n  ViewController.prototype.focusPoint = function (point, animate, animateCfg) {\n    var _this = this;\n\n    var viewCenter = this.getViewCenter();\n    var modelCenter = this.getPointByCanvas(viewCenter.x, viewCenter.y);\n    var viewportMatrix = this.graph.get('group').getMatrix();\n    if (!viewportMatrix) viewportMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n    if (animate) {\n      var dx_1 = (modelCenter.x - point.x) * viewportMatrix[0];\n      var dy_1 = (modelCenter.y - point.y) * viewportMatrix[4];\n      var lastX_1 = 0;\n      var lastY_1 = 0;\n      var newX_1 = 0;\n      var newY_1 = 0; // \n\n      this.graph.get('canvas').animate(function (ratio) {\n        newX_1 = dx_1 * ratio;\n        newY_1 = dy_1 * ratio;\n\n        _this.graph.translate(newX_1 - lastX_1, newY_1 - lastY_1);\n\n        lastX_1 = newX_1;\n        lastY_1 = newY_1;\n      }, __assign({}, animateCfg));\n    } else {\n      this.graph.translate((modelCenter.x - point.x) * viewportMatrix[0], (modelCenter.y - point.y) * viewportMatrix[4]);\n    }\n  };\n  /**\n   *  Canvas \n   * @param canvasX canvas x \n   * @param canvasY canvas y \n   */\n\n\n  ViewController.prototype.getPointByCanvas = function (canvasX, canvasY) {\n    var viewportMatrix = this.graph.get('group').getMatrix();\n\n    if (!viewportMatrix) {\n      viewportMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    }\n\n    var point = invertMatrix({\n      x: canvasX,\n      y: canvasY\n    }, viewportMatrix);\n    return point;\n  };\n  /**\n   * \n   * @param clientX  x \n   * @param clientY  y \n   */\n\n\n  ViewController.prototype.getPointByClient = function (clientX, clientY) {\n    var canvas = this.graph.get('canvas');\n    var canvasPoint = canvas.getPointByClient(clientX, clientY);\n    return this.getPointByCanvas(canvasPoint.x, canvasPoint.y);\n  };\n  /**\n   * \n   * @param x  x \n   * @param y  y \n   */\n\n\n  ViewController.prototype.getClientByPoint = function (x, y) {\n    var canvas = this.graph.get('canvas');\n    var canvasPoint = this.getCanvasByPoint(x, y);\n    var point = canvas.getClientByPoint(canvasPoint.x, canvasPoint.y);\n    return {\n      x: point.x,\n      y: point.y\n    };\n  };\n  /**\n   *  Canvas \n   * @param x  x \n   * @param y  y \n   */\n\n\n  ViewController.prototype.getCanvasByPoint = function (x, y) {\n    var viewportMatrix = this.graph.get('group').getMatrix();\n\n    if (!viewportMatrix) {\n      viewportMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    }\n\n    return applyMatrix({\n      x: x,\n      y: y\n    }, viewportMatrix);\n  };\n  /**\n   * \n   * @param item Item  id\n   * @param {boolean} animate \n   * @param {GraphAnimateConfig} animateCfg \n   */\n\n\n  ViewController.prototype.focus = function (item, animate, animateCfg) {\n    if (isString(item)) {\n      item = this.graph.findById(item);\n    }\n\n    if (item) {\n      var x = 0,\n          y = 0;\n\n      if (item.getType && item.getType() === 'edge') {\n        var sourceMatrix = item.getSource().get('group').getMatrix();\n        var targetMatrix = item.getTarget().get('group').getMatrix();\n\n        if (sourceMatrix && targetMatrix) {\n          x = (sourceMatrix[6] + targetMatrix[6]) / 2;\n          y = (sourceMatrix[7] + targetMatrix[7]) / 2;\n        } else if (sourceMatrix || targetMatrix) {\n          x = sourceMatrix ? sourceMatrix[6] : targetMatrix[6];\n          y = sourceMatrix ? sourceMatrix[7] : targetMatrix[7];\n        }\n      } else {\n        var group = item.get('group');\n        var matrix = group.getMatrix();\n        if (!matrix) matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n        x = matrix[6];\n        y = matrix[7];\n      } // modelx,y,modelx,yx,y\n\n\n      this.focusPoint({\n        x: x,\n        y: y\n      }, animate, animateCfg);\n    }\n  };\n  /**\n   *  canvas \n   * @param width canvas \n   * @param height canvas \n   */\n\n\n  ViewController.prototype.changeSize = function (width, height) {\n    var graph = this.graph;\n\n    if (!isNumber(width) || !isNumber(height)) {\n      throw Error('invalid canvas width & height, please make sure width & height type is number');\n    }\n\n    graph.set({\n      width: width,\n      height: height\n    });\n    var canvas = graph.get('canvas');\n    canvas.changeSize(width, height); // change the size of grid plugin if it exists on graph\n\n    var plugins = graph.get('plugins');\n    plugins.forEach(function (plugin) {\n      if (plugin.get('gridContainer')) {\n        var minZoom = graph.get('minZoom');\n        modifyCSS(plugin.get('container'), {\n          width: \"\".concat(width, \"px\"),\n          height: \"\".concat(height, \"px\")\n        });\n        modifyCSS(plugin.get('gridContainer'), {\n          width: \"\".concat(width / minZoom, \"px\"),\n          height: \"\".concat(height / minZoom, \"px\"),\n          left: 0,\n          top: 0\n        });\n      }\n    });\n  };\n\n  ViewController.prototype.destroy = function () {\n    this.graph = null;\n    this.destroyed = false;\n  };\n\n  return ViewController;\n}();\n\nexport default ViewController;","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n/**\n * @fileOverview xmlNodeupdate\n * @author xuzhi.mxz@antfin.com\n */\nimport { __assign, __rest } from \"tslib\";\nimport { get } from '@antv/util';\nimport { getTextSize } from '../util/graphic';\n/**\n * JSON \n * @param text json \n */\n\nfunction looseJSONParse(text) {\n  if (typeof text !== 'string') {\n    return text;\n  }\n\n  var safeParse = function safeParse(str) {\n    if (typeof str !== 'string') {\n      return str;\n    }\n\n    try {\n      return JSON.parse(str.trim());\n    } catch (e) {\n      return str.trim();\n    }\n  };\n\n  var firstAttempt = safeParse(text);\n\n  if (typeof firstAttempt !== 'string') {\n    return firstAttempt;\n  }\n\n  var tail = function tail(arr) {\n    return arr[arr.length - 1];\n  };\n\n  var str = text.trim();\n  var objectStack = [];\n  var syntaxStack = [];\n\n  var isLastPair = function isLastPair() {\n    var syntaxes = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      syntaxes[_i] = arguments[_i];\n    }\n\n    return syntaxes.some(function (syntax) {\n      return tail(syntaxStack) === syntax;\n    });\n  };\n\n  var getValueStore = function getValueStore() {\n    return tail(objectStack);\n  };\n\n  var rst = null;\n  var i = 0;\n  var temp = '';\n\n  while (i < str.length) {\n    var nowChar = str[i];\n    var isInString = isLastPair('\"', \"'\");\n\n    if (!isInString && !nowChar.trim()) {\n      i += 1;\n      continue;\n    }\n\n    var isLastTranslate = str[i - 1] === '\\\\';\n    var isInObject = isLastPair('}');\n    var isInArray = isLastPair(']');\n    var isWaitingValue = isLastPair(',');\n    var tempArr = getValueStore();\n\n    if (isInString) {\n      if (tail(syntaxStack) === nowChar && !isLastTranslate) {\n        syntaxStack.pop();\n        var value = safeParse(temp);\n        tempArr.push(value);\n        rst = value;\n        temp = '';\n      } else {\n        temp += nowChar;\n      }\n    } else if (isInArray && nowChar === ',') {\n      if (temp) {\n        tempArr.push(safeParse(temp));\n        temp = '';\n      }\n    } else if (isInObject && nowChar === ':') {\n      syntaxStack.push(',');\n\n      if (temp) {\n        tempArr.push(temp);\n        temp = '';\n      }\n    } else if (isWaitingValue && nowChar === ',') {\n      if (temp) {\n        tempArr.push(safeParse(temp));\n        temp = '';\n      }\n\n      syntaxStack.pop();\n    } else if (nowChar === '}' && (isInObject || isWaitingValue)) {\n      if (temp) {\n        tempArr.push(safeParse(temp));\n        temp = '';\n      }\n\n      if (isWaitingValue) {\n        syntaxStack.pop();\n      }\n\n      var obj = {};\n\n      for (var c = 1; c < tempArr.length; c += 2) {\n        obj[tempArr[c - 1]] = tempArr[c];\n      }\n\n      objectStack.pop();\n\n      if (objectStack.length) {\n        tail(objectStack).push(obj);\n      }\n\n      syntaxStack.pop();\n      rst = obj;\n    } else if (nowChar === ']' && isInArray) {\n      if (temp) {\n        tempArr.push(safeParse(temp));\n        temp = '';\n      }\n\n      objectStack.pop();\n\n      if (objectStack.length) {\n        tail(objectStack).push(tempArr);\n      }\n\n      syntaxStack.pop();\n      rst = tempArr;\n    } else if (nowChar === '{') {\n      objectStack.push([]);\n      syntaxStack.push('}');\n    } else if (nowChar === '[') {\n      objectStack.push([]);\n      syntaxStack.push(']');\n    } else if (nowChar === '\"') {\n      syntaxStack.push('\"');\n    } else if (nowChar === \"'\") {\n      syntaxStack.push(\"'\");\n    } else {\n      temp += nowChar;\n    }\n\n    i += 1;\n  }\n\n  return rst || temp;\n}\n\nvar keyConvert = function keyConvert(str) {\n  return str.split('-').reduce(function (a, b) {\n    return a + b.charAt(0).toUpperCase() + b.slice(1);\n  });\n};\n/**\n * {{}}\n * @param xml\n */\n\n\nexport var xmlDataRenderer = function xmlDataRenderer(xml) {\n  return function (data) {\n    var len = xml.length;\n    var arr = [];\n    var i = 0;\n    var tmp = '';\n\n    while (i < len) {\n      if (xml[i] === '{' && xml[i + 1] === '{') {\n        arr.push(tmp);\n        tmp = '';\n        i += 2;\n      } else if (xml[i] === '}' && xml[i + 1] === '}') {\n        if (arr.length) {\n          var last = arr.pop();\n          tmp = get(data, tmp, last.endsWith('=') ? \"\\\"{\".concat(tmp, \"}\\\"\") : tmp);\n          arr.push(last + tmp);\n        }\n\n        i += 2;\n        tmp = '';\n      } else {\n        tmp += xml[i];\n        i += 1;\n      }\n    }\n\n    arr.push(tmp);\n    return arr.map(function (e, index) {\n      return arr[index - 1] && arr[index - 1].endsWith('=') ? \"\\\"{\".concat(e, \"}\\\"\") : e;\n    }).join('');\n  };\n};\n/**\n * XMLJSON\n * @param xml xml\n */\n\nexport function parseXML(xml, cfg) {\n  var attrs = {};\n  var keys = xml.getAttributeNames && xml.getAttributeNames() || [];\n  var children = xml.children && Array.from(xml.children).map(function (e) {\n    return parseXML(e, cfg);\n  });\n  var rst = {};\n  var tagName = xml.tagName ? xml.tagName.toLowerCase() : 'group';\n\n  if (tagName === 'text') {\n    attrs.text = xml.innerText;\n  }\n\n  rst.type = tagName;\n\n  if (tagName === 'img') {\n    rst.type = 'image';\n  }\n\n  Array.from(keys).forEach(function (k) {\n    var key = keyConvert(k);\n    var val = xml.getAttribute(k);\n\n    try {\n      if (key === 'style' || key === 'attrs') {\n        var style = looseJSONParse(val);\n        attrs = __assign(__assign({}, attrs), style);\n      } else {\n        rst[key] = looseJSONParse(val);\n      }\n    } catch (e) {\n      if (key === 'style') {\n        throw e;\n      }\n\n      rst[key] = val;\n    }\n  });\n  rst.attrs = attrs;\n\n  if (cfg && cfg.style && rst.name && _typeof(cfg.style[rst.name]) === 'object') {\n    rst.attrs = __assign(__assign({}, rst.attrs), cfg.style[rst.name]);\n  }\n\n  if (cfg && cfg.style && rst.keyshape) {\n    rst.attrs = __assign(__assign({}, rst.attrs), cfg.style);\n  }\n\n  if (children.length) {\n    rst.children = children;\n  }\n\n  return rst;\n}\n/**\n * bounding boxshapebbox\n */\n\nexport function getBBox(node, offset, chilrenBBox) {\n  var _a = node.attrs,\n      attrs = _a === void 0 ? {} : _a;\n  var bbox = {\n    x: offset.x || 0,\n    y: offset.y || 0,\n    width: chilrenBBox.width || 0,\n    height: chilrenBBox.height || 0\n  };\n  var shapeHeight, shapeWidth;\n\n  switch (node.type) {\n    case 'maker':\n    case 'circle':\n      if (attrs.r) {\n        shapeWidth = 2 * attrs.r;\n        shapeHeight = 2 * attrs.r;\n      }\n\n      break;\n\n    case 'text':\n      if (attrs.text) {\n        shapeWidth = getTextSize(attrs.text, attrs.fontSize || 12)[0];\n        shapeHeight = 16;\n        bbox.y += shapeHeight;\n        bbox.height = shapeHeight;\n        bbox.width = shapeWidth;\n        node.attrs = __assign({\n          fontSize: 12,\n          fill: '#000'\n        }, attrs);\n      }\n\n      break;\n\n    default:\n      if (attrs.width) {\n        shapeWidth = attrs.width;\n      }\n\n      if (attrs.height) {\n        shapeHeight = attrs.height;\n      }\n\n  }\n\n  if (shapeHeight >= 0) {\n    bbox.height = shapeHeight;\n  }\n\n  if (shapeWidth >= 0) {\n    bbox.width = shapeWidth;\n  }\n\n  if (attrs.marginTop) {\n    bbox.y += attrs.marginTop;\n  }\n\n  if (attrs.marginLeft) {\n    bbox.x += attrs.marginLeft;\n  }\n\n  return bbox;\n}\n/**\n * xmlattrs\n * @param target\n * @param lastOffset\n */\n\nexport function generateTarget(target, lastOffset) {\n  var _a;\n\n  if (lastOffset === void 0) {\n    lastOffset = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  var defaultBbox = __assign({\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  }, lastOffset);\n\n  if ((_a = target.children) === null || _a === void 0 ? void 0 : _a.length) {\n    var _b = target.attrs,\n        attrs = _b === void 0 ? {} : _b;\n    var marginTop = attrs.marginTop;\n\n    var offset = __assign({}, lastOffset);\n\n    if (marginTop) {\n      offset.y += marginTop;\n    }\n\n    for (var index = 0; index < target.children.length; index++) {\n      target.children[index].attrs.key = \"\".concat(attrs.key || 'root', \" -\").concat(index, \" \");\n      var node = generateTarget(target.children[index], offset);\n\n      if (node.bbox) {\n        var bbox = node.bbox;\n\n        if (node.attrs.next === 'inline') {\n          offset.x += node.bbox.width;\n        } else {\n          offset.y += node.bbox.height;\n        }\n\n        if (bbox.width + bbox.x > defaultBbox.width) {\n          defaultBbox.width = bbox.width + bbox.x;\n        }\n\n        if (bbox.height + bbox.y > defaultBbox.height) {\n          defaultBbox.height = bbox.height + bbox.y;\n        }\n      }\n    }\n  }\n\n  target.bbox = getBBox(target, lastOffset, defaultBbox);\n  target.attrs = __assign(__assign({}, target.attrs), target.bbox);\n  return target;\n}\n/**\n * node,\n *  'add'   delete   change attrs  'restructure' \n * @param nowTarget\n * @param formerTarget\n */\n\nexport function compareTwoTarget(nowTarget, formerTarget) {\n  var _a, _b, _c, _d;\n\n  var type = (nowTarget || {}).type;\n  var key = ((formerTarget === null || formerTarget === void 0 ? void 0 : formerTarget.attrs) || {}).key;\n\n  if (key && nowTarget) {\n    nowTarget.attrs.key = key;\n  }\n\n  if (!nowTarget && formerTarget) {\n    return {\n      action: 'delete',\n      val: formerTarget,\n      type: type,\n      key: key\n    };\n  }\n\n  if (nowTarget && !formerTarget) {\n    return {\n      action: 'add',\n      val: nowTarget,\n      type: type\n    };\n  }\n\n  if (!nowTarget && !formerTarget) {\n    return {\n      action: 'same',\n      type: type\n    };\n  }\n\n  var children = [];\n\n  if (((_a = nowTarget.children) === null || _a === void 0 ? void 0 : _a.length) > 0 || ((_b = formerTarget.children) === null || _b === void 0 ? void 0 : _b.length) > 0) {\n    var length_1 = Math.max((_c = nowTarget.children) === null || _c === void 0 ? void 0 : _c.length, (_d = formerTarget.children) === null || _d === void 0 ? void 0 : _d.length);\n    var formerChilren = formerTarget.children || [];\n    var nowChilren = nowTarget.children || [];\n\n    for (var index = 0; index < length_1; index += 1) {\n      children.push(compareTwoTarget(nowChilren[index], formerChilren[index]));\n    }\n  }\n\n  var formerKeys = Object.keys(formerTarget.attrs);\n  var nowKeys = Object.keys(nowTarget.attrs);\n\n  if (formerTarget.type !== nowTarget.type) {\n    return {\n      action: 'restructure',\n      nowTarget: nowTarget,\n      formerTarget: formerTarget,\n      key: key,\n      children: children\n    };\n  }\n\n  if (formerKeys.filter(function (e) {\n    return e !== 'children';\n  }).some(function (e) {\n    return nowTarget.attrs[e] !== formerTarget.attrs[e] || !nowKeys.includes(e);\n  })) {\n    return {\n      action: 'change',\n      val: nowTarget,\n      children: children,\n      type: type,\n      key: key\n    };\n  }\n\n  return {\n    action: 'same',\n    children: children,\n    type: type,\n    key: key\n  };\n}\n/**\n * xmlxml\n * @param gen\n */\n\nexport function createNodeFromXML(gen) {\n  var structures = {};\n\n  var compileXML = function compileXML(cfg) {\n    var rawStr = typeof gen === 'function' ? gen(cfg) : gen;\n    var target = xmlDataRenderer(rawStr)(cfg); // TODO patch #16\n\n    var xmlParser = document.createElement('div');\n    xmlParser.innerHTML = target;\n    var xml = xmlParser.children[0];\n    var result = generateTarget(parseXML(xml, cfg));\n    xmlParser.remove();\n    return result;\n  };\n\n  return {\n    draw: function draw(cfg, group) {\n      var resultTarget = compileXML(cfg);\n      var keyshape = group;\n\n      var renderTarget = function renderTarget(target) {\n        var _a = target.attrs,\n            attrs = _a === void 0 ? {} : _a,\n            bbox = target.bbox,\n            type = target.type,\n            children = target.children,\n            rest = __rest(target, [\"attrs\", \"bbox\", \"type\", \"children\"]);\n\n        if (target.type !== 'group') {\n          var shape = group.addShape(target.type, __assign({\n            attrs: attrs,\n            origin: {\n              bbox: bbox,\n              type: type,\n              children: children\n            }\n          }, rest));\n\n          if (target.keyshape) {\n            keyshape = shape;\n          }\n        }\n\n        if (target.children) {\n          target.children.forEach(function (n) {\n            return renderTarget(n);\n          });\n        }\n      };\n\n      renderTarget(resultTarget);\n      structures[cfg.id] = [resultTarget];\n      return keyshape;\n    },\n    update: function update(cfg, node) {\n      if (!structures[cfg.id]) {\n        structures[cfg.id] = [];\n      }\n\n      var container = node.getContainer();\n      var children = container.get('children');\n      var newTarget = compileXML(cfg);\n      var lastTarget = structures[cfg.id].pop();\n      var diffResult = compareTwoTarget(newTarget, lastTarget);\n\n      var addShape = function addShape(shape) {\n        var _a;\n\n        if (shape.type !== 'group') {\n          container.addShape(shape.type, {\n            attrs: shape.attrs\n          });\n        }\n\n        if ((_a = shape.children) === null || _a === void 0 ? void 0 : _a.length) {\n          shape.children.map(function (e) {\n            return addShape(e);\n          });\n        }\n      };\n\n      var delShape = function delShape(shape) {\n        var _a;\n\n        var targetShape = children.find(function (e) {\n          return e.attrs.key === shape.attrs.key;\n        });\n\n        if (targetShape) {\n          container.removeChild(targetShape);\n        }\n\n        if ((_a = shape.children) === null || _a === void 0 ? void 0 : _a.length) {\n          shape.children.map(function (e) {\n            return delShape(e);\n          });\n        }\n      };\n\n      var updateTarget = function updateTarget(target) {\n        var key = target.key;\n\n        if (target.type !== 'group') {\n          var targetShape = children.find(function (e) {\n            return e.attrs.key === key;\n          });\n\n          switch (target.action) {\n            case 'change':\n              if (targetShape) {\n                var originAttr = target.val.keyshape ? node.getOriginStyle() : {};\n                targetShape.attr(__assign(__assign({}, originAttr), target.val.attrs));\n              }\n\n              break;\n\n            case 'add':\n              addShape(target.val);\n              break;\n\n            case 'delete':\n              delShape(target.val);\n              break;\n\n            case 'restructure':\n              delShape(target.formerTarget);\n              addShape(target.nowTarget);\n              break;\n\n            default:\n              break;\n          }\n        }\n\n        if (target.children) {\n          target.children.forEach(function (n) {\n            return updateTarget(n);\n          });\n        }\n      };\n\n      updateTarget(diffResult);\n      structures[cfg.id].push(newTarget);\n    },\n    getAnchorPoints: function getAnchorPoints() {\n      return [[0, 0.5], [1, 0.5], [0.5, 1], [0.5, 0]];\n    }\n  };\n}","import { __assign } from \"tslib\";\nimport { upperFirst } from '@antv/util';\nimport { createNodeFromXML } from './xml';\nvar cache = {}; // ucfirst \n// \n\nfunction ucfirst(str) {\n  if (!cache[str]) {\n    cache[str] = upperFirst(str);\n  }\n\n  return cache[str];\n}\n/**\n * \n * @type Shape.FactoryBase\n */\n\n\nexport var ShapeFactoryBase = {\n  /**\n   * / shapeType \n   * @type {String}\n   */\n  defaultShapeType: 'defaultType',\n\n  /**\n   *  className\n   * @type {String}\n   */\n  className: null,\n\n  /**\n   *  Shape \n   * @param  {String} type \n   * @return {Shape} \n   */\n  getShape: function getShape(type) {\n    var self = this;\n    var shape = self[type] || self[self.defaultShapeType] || self['simple-circle'];\n    return shape;\n  },\n\n  /**\n   * \n   * @param  {String} type  \n   * @param  {Object} cfg \n   * @param  {G.Group} group \n   * @return {IShape} \n   */\n  draw: function draw(type, cfg, group) {\n    var shape = this.getShape(type);\n    var rst = shape.draw(cfg, group);\n\n    if (shape.afterDraw) {\n      shape.afterDraw(cfg, group, rst);\n    }\n\n    return rst;\n  },\n\n  /**\n   * \n   * @param  {String} type  \n   * @param  {Object} cfg \n   * @param  {G6.Item} item \n   */\n  baseUpdate: function baseUpdate(type, cfg, item) {\n    var shape = this.getShape(type);\n\n    if (shape.update) {\n      //  update \n      shape.update(cfg, item);\n    }\n\n    if (shape.afterUpdate) {\n      shape.afterUpdate(cfg, item);\n    }\n  },\n\n  /**\n   * \n   * @param {String} type  \n   * @param {String} name  \n   * @param {String | Boolean} value \n   * @param {G6.Item} item  \n   */\n  setState: function setState(type, name, value, item) {\n    var shape = this.getShape(type); //  shape/shapeBase.ts  setState \n\n    shape.setState(name, value, item);\n  },\n\n  /**\n   * \n   * @param  {String} type \n   * @return {Boolean} \n   */\n  shouldUpdate: function shouldUpdate(type) {\n    var shape = this.getShape(type);\n    return !!shape.update;\n  },\n  getControlPoints: function getControlPoints(type, cfg) {\n    var shape = this.getShape(type);\n    return shape.getControlPoints(cfg);\n  },\n\n  /**\n   * \n   * @param {String} type \n   * @param  {Object} cfg \n   * @return {Array|null} , null\n   */\n  getAnchorPoints: function getAnchorPoints(type, cfg) {\n    var shape = this.getShape(type);\n    return shape.getAnchorPoints(cfg);\n  }\n};\n/**\n * \n */\n\nvar ShapeFramework = {\n  // \n  options: {},\n\n  /**\n   * \n   */\n  draw: function draw(cfg, group) {\n    return this.drawShape(cfg, group);\n  },\n\n  /**\n   * \n   */\n  drawShape: function\n    /* cfg, group */\n  drawShape() {},\n\n  /**\n   * \n   */\n  afterDraw: function\n    /* cfg, group */\n  afterDraw() {},\n  // update(cfg, item) // \n  afterUpdate: function\n    /* cfg, item */\n  afterUpdate() {},\n\n  /**\n   * \n   */\n  setState: function\n    /* name, value, item */\n  setState() {},\n\n  /**\n   * \n   * @param  {Object} cfg \n   * @return {Array|null} , null\n   */\n  getControlPoints: function getControlPoints(cfg) {\n    return cfg.controlPoints;\n  },\n\n  /**\n   * \n   * @param  {Object} cfg \n   * @return {Array|null} , null\n   */\n  getAnchorPoints: function getAnchorPoints(cfg) {\n    var defaultAnchorPoints = this.options.anchorPoints;\n    var anchorPoints = cfg.anchorPoints || defaultAnchorPoints;\n    return anchorPoints;\n  }\n  /*  update  draw \n  update(cfg, item) {\n     }\n  */\n\n};\n\nvar Shape =\n/** @class */\nfunction () {\n  function Shape() {}\n\n  Shape.registerFactory = function (factoryType, cfg) {\n    var className = ucfirst(factoryType);\n    var factoryBase = ShapeFactoryBase;\n\n    var shapeFactory = __assign(__assign({}, factoryBase), cfg);\n\n    Shape[className] = shapeFactory;\n    shapeFactory.className = className;\n    return shapeFactory;\n  };\n\n  Shape.getFactory = function (factoryType) {\n    var className = ucfirst(factoryType);\n    return Shape[className];\n  };\n\n  Shape.registerNode = function (shapeType, nodeDefinition, extendShapeType) {\n    var shapeFactory = Shape.Node;\n    var shapeObj;\n\n    if (typeof nodeDefinition === 'string' || typeof nodeDefinition === 'function') {\n      var autoNodeDefinition = createNodeFromXML(nodeDefinition);\n      shapeObj = __assign(__assign({}, shapeFactory.getShape('single-node')), autoNodeDefinition);\n    } else if (nodeDefinition.jsx) {\n      var jsx = nodeDefinition.jsx;\n      var autoNodeDefinition = createNodeFromXML(jsx);\n      shapeObj = __assign(__assign(__assign({}, shapeFactory.getShape('single-node')), autoNodeDefinition), nodeDefinition);\n    } else {\n      shapeFactory.getShape(extendShapeType);\n      var extendShape = extendShapeType ? shapeFactory.getShape(extendShapeType) : ShapeFramework;\n      shapeObj = __assign(__assign({}, extendShape), nodeDefinition);\n    }\n\n    shapeObj.type = shapeType;\n    shapeObj.itemType = 'node';\n    shapeFactory[shapeType] = shapeObj;\n    return shapeObj;\n  };\n\n  Shape.registerEdge = function (shapeType, edgeDefinition, extendShapeType) {\n    var shapeFactory = Shape.Edge;\n    var extendShape = extendShapeType ? shapeFactory.getShape(extendShapeType) : ShapeFramework;\n\n    var shapeObj = __assign(__assign({}, extendShape), edgeDefinition);\n\n    shapeObj.type = shapeType;\n    shapeObj.itemType = 'edge';\n    shapeFactory[shapeType] = shapeObj;\n    return shapeObj;\n  };\n\n  Shape.registerCombo = function (shapeType, comboDefinition, extendShapeType) {\n    var shapeFactory = Shape.Combo;\n    var extendShape = extendShapeType ? shapeFactory.getShape(extendShapeType) : ShapeFramework;\n\n    var shapeObj = __assign(__assign({}, extendShape), comboDefinition);\n\n    shapeObj.type = shapeType;\n    shapeObj.itemType = 'combo';\n    shapeFactory[shapeType] = shapeObj;\n    return shapeObj;\n  };\n\n  return Shape;\n}();\n\nexport default Shape; //  Node \n\nShape.registerFactory('node', {\n  defaultShapeType: 'circle'\n}); //  Edge \n\nShape.registerFactory('edge', {\n  defaultShapeType: 'line'\n}); //  Combo \n\nShape.registerFactory('combo', {\n  defaultShapeType: 'circle'\n});","import { __assign } from \"tslib\";\nimport { each, isNil, isPlainObject, isString, isBoolean, mix, deepMix, clone } from '@antv/util';\nimport Shape from '../element/shape';\nimport { getBBox } from '../util/graphic';\nimport { translate } from '../util/math';\nimport { uniqueId } from '../util/base';\nvar CACHE_BBOX = 'bboxCache';\nvar CACHE_CANVAS_BBOX = 'bboxCanvasCache';\nvar ARROWS = ['startArrow', 'endArrow'];\n\nvar ItemBase =\n/** @class */\nfunction () {\n  function ItemBase(cfg) {\n    this._cfg = {};\n    this.destroyed = false;\n    var defaultCfg = {\n      /**\n       * id\n       * @type {string}\n       */\n      id: undefined,\n\n      /**\n       * \n       * @type {string}\n       */\n      type: 'item',\n\n      /**\n       * data model\n       * @type {object}\n       */\n      model: {},\n\n      /**\n       * g group\n       * @type {G.Group}\n       */\n      group: undefined,\n\n      /**\n       * is open animate\n       * @type {boolean}\n       */\n      animate: false,\n\n      /**\n       * visible - not group visible\n       * @type {boolean}\n       */\n      visible: true,\n\n      /**\n       * locked - lock node\n       * @type {boolean}\n       */\n      locked: false,\n\n      /**\n       * capture event\n       * @type {boolean}\n       */\n      event: true,\n\n      /**\n       * key shape to calculate item's bbox\n       * @type object\n       */\n      keyShape: undefined,\n\n      /**\n       * item's states, such as selected or active\n       * @type Array\n       */\n      states: []\n    };\n    this._cfg = Object.assign(defaultCfg, this.getDefaultCfg(), cfg);\n    var model = this.get('model');\n    var id = model.id;\n    var itemType = this.get('type');\n\n    if (!id) {\n      id = uniqueId(itemType);\n      this.get('model').id = id;\n    }\n\n    this.set('id', id);\n    var group = cfg.group;\n\n    if (group) {\n      group.set('item', this);\n      group.set('id', id);\n    }\n\n    this.init();\n    this.draw();\n    var shapeType = model.shape || model.type || (itemType === 'edge' ? 'line' : 'circle');\n    var shapeFactory = this.get('shapeFactory');\n\n    if (shapeFactory && shapeFactory[shapeType]) {\n      var options = shapeFactory[shapeType].options; // merge the stateStyles from item and shape\n\n      if (options && options.stateStyles) {\n        var styles = this.get('styles') || model.stateStyles;\n        styles = deepMix({}, options.stateStyles, styles);\n        this.set('styles', styles);\n      }\n    }\n  }\n  /**\n   *  keyshape \n   */\n\n\n  ItemBase.prototype.calculateBBox = function () {\n    var keyShape = this.get('keyShape');\n    var group = this.get('group'); //  group \n\n    var bbox = getBBox(keyShape, group);\n    bbox.x = bbox.minX;\n    bbox.y = bbox.minY;\n    bbox.width = bbox.maxX - bbox.minX;\n    bbox.height = bbox.maxY - bbox.minY;\n    bbox.centerX = (bbox.minX + bbox.maxX) / 2;\n    bbox.centerY = (bbox.minY + bbox.maxY) / 2;\n    return bbox;\n  };\n  /**\n   *  keyshape \n   */\n\n\n  ItemBase.prototype.calculateCanvasBBox = function () {\n    var keyShape = this.get('keyShape');\n    var group = this.get('group'); //  group \n\n    var bbox = getBBox(keyShape, group);\n    bbox.x = bbox.minX;\n    bbox.y = bbox.minY;\n    bbox.width = bbox.maxX - bbox.minX;\n    bbox.height = bbox.maxY - bbox.minY;\n    bbox.centerX = (bbox.minX + bbox.maxX) / 2;\n    bbox.centerY = (bbox.minY + bbox.maxY) / 2;\n    return bbox;\n  };\n  /**\n   * draw shape\n   */\n\n\n  ItemBase.prototype.drawInner = function () {\n    var self = this;\n    var shapeFactory = self.get('shapeFactory');\n    var group = self.get('group');\n    var model = self.get('model');\n    group.clear();\n    var visible = model.visible;\n    if (visible !== undefined && !visible) self.changeVisibility(visible);\n\n    if (!shapeFactory) {\n      return;\n    }\n\n    self.updatePosition(model);\n    var cfg = self.getShapeCfg(model); // \n\n    var shapeType = cfg.type;\n    var keyShape = shapeFactory.draw(shapeType, cfg, group);\n\n    if (keyShape) {\n      self.set('keyShape', keyShape);\n      keyShape.set('isKeyShape', true);\n      keyShape.set('draggable', true);\n    }\n\n    this.setOriginStyle(); //  model  shape  shape \n\n    this.set('currentShape', shapeType);\n    this.restoreStates(shapeFactory, shapeType);\n  };\n  /**\n   * \n   * @param keyShape  keyShape\n   * @param group Group \n   */\n\n\n  ItemBase.prototype.setOriginStyle = function () {\n    var group = this.get('group');\n    var children = group.get('children');\n    var keyShape = this.getKeyShape();\n    var self = this;\n    var keyShapeName = keyShape.get('name');\n\n    if (!this.get('originStyle')) {\n      //  set originStyle attrs\n      var originStyles_1 = {};\n      each(children, function (child) {\n        var shapeType = child.get('type');\n        var name = child.get('name');\n\n        if (name && name !== keyShapeName) {\n          originStyles_1[name] = shapeType !== 'image' ? clone(child.attr()) : self.getShapeStyleByName(name);\n        } else {\n          // !name || name === keyShape\n          var keyShapeStyle = self.getShapeStyleByName(); //  child.attr  shape \n\n          if (keyShapeStyle.path) delete keyShapeStyle.path;\n          if (keyShapeStyle.matrix) delete keyShapeStyle.matrix;\n\n          if (!keyShapeName) {\n            Object.assign(originStyles_1, keyShapeStyle);\n          } else {\n            //  keyShape  name  !name keyShape name\n            if (!name) {\n              var shapeName = uniqueId('shape');\n              child.set('name', shapeName);\n              originStyles_1[shapeName] = shapeType !== 'image' ? clone(child.attr()) : self.getShapeStyleByName(name);\n            } else originStyles_1[keyShapeName] = keyShapeStyle;\n          }\n        }\n      });\n      self.set('originStyle', originStyles_1);\n    } else {\n      //  set originStyles stateStyles  originStyles \n      //  originStyle shape attrs\n      var styles_1 = this.getOriginStyle(); // let styles: ShapeStyle = {};\n\n      if (keyShapeName && !styles_1[keyShapeName]) styles_1[keyShapeName] = {}; // \n\n      var currentStatesStyle_1 = this.getCurrentStatesStyle(); //  attrs stateStyles  originStyles \n\n      each(children, function (child) {\n        var name = child.get('name');\n        var shapeAttrs = child.attr();\n\n        if (name && name !== keyShapeName) {\n          //  name  keyShape \n          var shapeStateStyle_1 = currentStatesStyle_1[name];\n          if (!styles_1[name]) styles_1[name] = {};\n\n          if (shapeStateStyle_1) {\n            Object.keys(shapeAttrs).forEach(function (key) {\n              var value = shapeAttrs[key];\n              if (value !== shapeStateStyle_1[key]) styles_1[name][key] = value;\n            });\n          } else {\n            styles_1[name] = child.get('type') !== 'image' ? clone(shapeAttrs) : self.getShapeStyleByName(name);\n          }\n        } else {\n          var shapeAttrs_1 = child.attr();\n\n          var keyShapeStateStyles_1 = __assign(__assign({}, currentStatesStyle_1), currentStatesStyle_1[keyShapeName]);\n\n          Object.keys(shapeAttrs_1).forEach(function (key) {\n            var value = shapeAttrs_1[key]; //  arrow shape \n            // if (isPlainObject(value) && ARROWS.indexOf(name) === -1) return;\n\n            if (keyShapeStateStyles_1[key] !== value) {\n              if (keyShapeName) styles_1[keyShapeName][key] = value;else styles_1[key] = value;\n            }\n          });\n        }\n      });\n      if (styles_1.path) delete styles_1.path;\n      if (styles_1.matrix) delete styles_1.matrix;\n      if (styles_1.x) delete styles_1.x;\n      if (styles_1.y) delete styles_1.y;\n      if (styles_1[keyShapeName] && styles_1[keyShapeName].x) delete styles_1[keyShapeName].x;\n      if (styles_1[keyShapeName] && styles_1[keyShapeName].y) delete styles_1[keyShapeName].y;\n      self.set('originStyle', styles_1);\n    }\n  };\n  /**\n   * restore shape states\n   * @param shapeFactory\n   * @param shapeType\n   */\n\n\n  ItemBase.prototype.restoreStates = function (shapeFactory, shapeType) {\n    var self = this;\n    var states = self.get('states');\n    each(states, function (state) {\n      shapeFactory.setState(shapeType, state, true, self);\n    });\n  };\n\n  ItemBase.prototype.init = function () {\n    var shapeFactory = Shape.getFactory(this.get('type'));\n    this.set('shapeFactory', shapeFactory);\n  };\n  /**\n   * \n   * @internal \n   * @param  {String} key \n   * @return {object | string | number} \n   */\n\n\n  ItemBase.prototype.get = function (key) {\n    return this._cfg[key];\n  };\n  /**\n   * \n   * @internal \n   * @param {String|Object} key \n   * @param {object | string | number} val \n   */\n\n\n  ItemBase.prototype.set = function (key, val) {\n    if (isPlainObject(key)) {\n      this._cfg = __assign(__assign({}, this._cfg), key);\n    } else {\n      this._cfg[key] = val;\n    }\n  };\n\n  ItemBase.prototype.getDefaultCfg = function () {\n    return {};\n  };\n  /**\n   * / cache\n   */\n\n\n  ItemBase.prototype.clearCache = function () {\n    this.set(CACHE_BBOX, null);\n    this.set(CACHE_CANVAS_BBOX, null);\n  };\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.beforeDraw = function () {};\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.afterDraw = function () {};\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.afterUpdate = function () {};\n  /**\n   * draw shape\n   */\n\n\n  ItemBase.prototype.draw = function () {\n    this.beforeDraw();\n    this.drawInner();\n    this.afterDraw();\n  };\n\n  ItemBase.prototype.getShapeStyleByName = function (name) {\n    var group = this.get('group');\n    var currentShape;\n\n    if (name) {\n      currentShape = group.find(function (element) {\n        return element.get('name') === name;\n      });\n    } else {\n      currentShape = this.getKeyShape();\n    }\n\n    if (currentShape) {\n      var styles_2 = {};\n      each(currentShape.attr(), function (val, key) {\n        //  img  updateItem \n        if (key !== 'img') {\n          styles_2[key] = val;\n        }\n      });\n      return styles_2;\n    }\n\n    return {};\n  };\n\n  ItemBase.prototype.getShapeCfg = function (model) {\n    var styles = this.get('styles');\n\n    if (styles) {\n      // merge graphitem\n      var newModel = model;\n      newModel.style = __assign(__assign({}, styles), model.style);\n      return newModel;\n    }\n\n    return model;\n  };\n  /**\n   * \n   * @param state \n   */\n\n\n  ItemBase.prototype.getStateStyle = function (state) {\n    var styles = this.get('styles');\n    var stateStyle = styles && styles[state];\n    return stateStyle;\n  };\n  /**\n   * get keyshape style\n   */\n\n\n  ItemBase.prototype.getOriginStyle = function () {\n    return this.get('originStyle');\n  };\n\n  ItemBase.prototype.getCurrentStatesStyle = function () {\n    var self = this;\n    var styles = {};\n    var states = self.getStates();\n\n    if (!states || !states.length) {\n      return this.getOriginStyle();\n    }\n\n    each(self.getStates(), function (state) {\n      styles = Object.assign(styles, self.getStateStyle(state));\n    });\n    return styles;\n  };\n  /**\n   *  visible \n   * @internal  graph \n   * @param {String} state \n   * @param {Boolean} value \n   */\n\n\n  ItemBase.prototype.setState = function (state, value) {\n    var states = this.get('states');\n    var shapeFactory = this.get('shapeFactory');\n    var stateName = state;\n    var filterStateName = state;\n\n    if (isString(value)) {\n      stateName = \"\".concat(state, \":\").concat(value);\n      filterStateName = \"\".concat(state, \":\");\n    }\n\n    var newStates = states;\n\n    if (isBoolean(value)) {\n      var index = states.indexOf(filterStateName);\n\n      if (value) {\n        if (index > -1) {\n          return;\n        }\n\n        states.push(stateName);\n      } else if (index > -1) {\n        states.splice(index, 1);\n      }\n    } else if (isString(value)) {\n      //  states  filterStateName \n      var filterStates = states.filter(function (name) {\n        return name.includes(filterStateName);\n      });\n\n      if (filterStates.length > 0) {\n        this.clearStates(filterStates);\n      }\n\n      newStates = newStates.filter(function (name) {\n        return !name.includes(filterStateName);\n      });\n      newStates.push(stateName);\n      this.set('states', newStates);\n    }\n\n    if (shapeFactory) {\n      var model = this.get('model');\n      var type = model.type; //  shape/shape.ts  setState\n\n      shapeFactory.setState(type, state, value, this);\n    }\n  };\n  /**\n   * \n   * @param states \n   */\n\n\n  ItemBase.prototype.clearStates = function (states) {\n    var self = this;\n    var originStates = self.getStates();\n    var shapeFactory = self.get('shapeFactory');\n    var model = self.get('model');\n    var shape = model.type;\n\n    if (!states) {\n      states = originStates;\n    }\n\n    if (isString(states)) {\n      states = [states];\n    }\n\n    var newStates = originStates.filter(function (state) {\n      return states.indexOf(state) === -1;\n    });\n    self.set('states', newStates);\n    states.forEach(function (state) {\n      shapeFactory.setState(shape, state, false, self);\n    });\n  };\n  /**\n   * \n   * @return {G.Group} \n   */\n\n\n  ItemBase.prototype.getContainer = function () {\n    return this.get('group');\n  };\n  /**\n   * \n   * @return {IShapeBase} \n   */\n\n\n  ItemBase.prototype.getKeyShape = function () {\n    return this.get('keyShape');\n  };\n  /**\n   * \n   * @return {Object} \n   */\n\n\n  ItemBase.prototype.getModel = function () {\n    return this.get('model');\n  };\n  /**\n   * \n   * @return {string} \n   */\n\n\n  ItemBase.prototype.getType = function () {\n    return this.get('type');\n  };\n  /**\n   *  Item ID\n   */\n\n\n  ItemBase.prototype.getID = function () {\n    return this.get('id');\n  };\n  /**\n   *  Item \n   */\n\n\n  ItemBase.prototype.isItem = function () {\n    return true;\n  };\n  /**\n   * \n   * @return {Array} \n   */\n\n\n  ItemBase.prototype.getStates = function () {\n    return this.get('states');\n  };\n  /**\n   * \n   * @param {String} state \n   * @return {Boolean} \n   */\n\n\n  ItemBase.prototype.hasState = function (state) {\n    var states = this.getStates();\n    return states.indexOf(state) >= 0;\n  };\n  /**\n   * \n   * 1. item model \n   * 2. \n   *\n   *  shape \n   */\n\n\n  ItemBase.prototype.refresh = function () {\n    var model = this.get('model'); // \n\n    this.updatePosition(model); // \n\n    this.updateShape(); // \n\n    this.afterUpdate(); // \n\n    this.clearCache();\n  };\n\n  ItemBase.prototype.isOnlyMove = function (cfg) {\n    return false;\n  };\n  /**\n   *  model \n   * @internal  Graph  graph.update \n   * @param  {Object} cfg       \n   */\n\n\n  ItemBase.prototype.update = function (cfg, onlyMove) {\n    if (onlyMove === void 0) {\n      onlyMove = false;\n    }\n\n    var model = this.get('model');\n    var oriVisible = model.visible;\n    var cfgVisible = cfg.visible;\n    if (oriVisible !== cfgVisible && cfgVisible !== undefined) this.changeVisibility(cfgVisible);\n    var originPosition = {\n      x: model.x,\n      y: model.y\n    };\n    cfg.x = isNaN(cfg.x) ? model.x : cfg.x;\n    cfg.y = isNaN(cfg.y) ? model.y : cfg.y;\n    var styles = this.get('styles');\n\n    if (cfg.stateStyles) {\n      //  item  this.get('styles') \n      var stateStyles = cfg.stateStyles;\n      mix(styles, stateStyles);\n      delete cfg.stateStyles;\n    } // \n\n\n    Object.assign(model, cfg); // isOnlyMove node\n    // const onlyMove = this.isOnlyMove(cfg);\n    // \n\n    if (onlyMove) {\n      this.updatePosition(cfg);\n    } else {\n      //  x,y \n      if (originPosition.x !== cfg.x || originPosition.y !== cfg.y) {\n        this.updatePosition(cfg);\n      }\n\n      this.updateShape();\n    }\n\n    this.afterUpdate();\n    this.clearCache();\n  };\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.updateShape = function () {\n    var shapeFactory = this.get('shapeFactory');\n    var model = this.get('model');\n    var shape = model.type; // \n    // 1. \n    // 2.  shape  shape\n\n    if (shapeFactory.shouldUpdate(shape) && shape === this.get('currentShape')) {\n      var updateCfg = this.getShapeCfg(model);\n      shapeFactory.baseUpdate(shape, updateCfg, this); // \n\n      this.setOriginStyle();\n    } else {\n      // \n      this.draw();\n    } // \n\n\n    this.restoreStates(shapeFactory, shape);\n  };\n  /**\n   * \n   * @param {object} cfg \n   */\n\n\n  ItemBase.prototype.updatePosition = function (cfg) {\n    var model = this.get('model');\n    var x = isNil(cfg.x) ? model.x : cfg.x;\n    var y = isNil(cfg.y) ? model.y : cfg.y;\n    var group = this.get('group');\n\n    if (isNil(x) || isNil(y)) {\n      return false;\n    }\n\n    model.x = x;\n    model.y = y;\n    var matrix = group.getMatrix();\n    if (matrix && matrix[6] === x && matrix[7] === y) return false;\n    group.resetMatrix(); // G 4.0 element https://www.yuque.com/antv/blog/kxzk9g#4rMMV\n\n    translate(group, {\n      x: x,\n      y: y\n    });\n    this.clearCache(); // \n\n    return true;\n  };\n  /**\n   *  item  item  matrix \n   * @return {Object}  x,y,width,height, centerX, centerY\n   */\n\n\n  ItemBase.prototype.getBBox = function () {\n    //  bbox \n    var bbox = this.get(CACHE_BBOX);\n\n    if (!bbox) {\n      bbox = this.calculateBBox();\n      this.set(CACHE_BBOX, bbox);\n    }\n\n    return bbox;\n  };\n  /**\n   *  item  matrix \n   * @return {Object}  x,y,width,height, centerX, centerY\n   */\n\n\n  ItemBase.prototype.getCanvasBBox = function () {\n    //  bbox \n    var bbox = this.get(CACHE_CANVAS_BBOX);\n\n    if (!bbox) {\n      bbox = this.calculateCanvasBBox();\n      this.set(CACHE_CANVAS_BBOX, bbox);\n    }\n\n    return bbox;\n  };\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.toFront = function () {\n    var group = this.get('group');\n    group.toFront();\n  };\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.toBack = function () {\n    var group = this.get('group');\n    group.toBack();\n  };\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.show = function () {\n    this.changeVisibility(true);\n  };\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.hide = function () {\n    this.changeVisibility(false);\n  };\n  /**\n   * \n   * @param  {Boolean} visible \n   */\n\n\n  ItemBase.prototype.changeVisibility = function (visible) {\n    var group = this.get('group');\n\n    if (visible) {\n      group.show();\n    } else {\n      group.hide();\n    }\n\n    this.set('visible', visible);\n  };\n  /**\n   * \n   * @return {Boolean} \n   */\n\n\n  ItemBase.prototype.isVisible = function () {\n    return this.get('visible');\n  };\n  /**\n   * \n   * @param {Boolean} enable \n   */\n\n\n  ItemBase.prototype.enableCapture = function (enable) {\n    var group = this.get('group');\n\n    if (group) {\n      group.set('capture', enable);\n    }\n  };\n\n  ItemBase.prototype.destroy = function () {\n    if (!this.destroyed) {\n      var animate = this.get('animate');\n      var group = this.get('group');\n\n      if (animate) {\n        group.stopAnimate();\n      }\n\n      this.clearCache();\n      group.remove();\n      this._cfg = null;\n      this.destroyed = true;\n    }\n  };\n\n  return ItemBase;\n}();\n\nexport default ItemBase;","import { __extends } from \"tslib\";\nimport { isString, isPlainObject, isNil, mix } from '@antv/util';\nimport Item from './item';\nvar END_MAP = {\n  source: 'start',\n  target: 'end'\n};\nvar ITEM_NAME_SUFFIX = 'Node'; //  sourceNode, targetNode\n\nvar POINT_NAME_SUFFIX = 'Point'; //  startPoint, endPoint\n\nvar ANCHOR_NAME_SUFFIX = 'Anchor';\n\nvar Edge =\n/** @class */\nfunction (_super) {\n  __extends(Edge, _super);\n\n  function Edge() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Edge.prototype.getDefaultCfg = function () {\n    return {\n      type: 'edge',\n      sourceNode: null,\n      targetNode: null,\n      startPoint: null,\n      endPoint: null,\n      linkCenter: false\n    };\n  };\n\n  Edge.prototype.setEnd = function (name, value) {\n    var pointName = END_MAP[name] + POINT_NAME_SUFFIX;\n    var itemName = name + ITEM_NAME_SUFFIX;\n    var preItem = this.get(itemName);\n\n    if (preItem && !preItem.destroyed) {\n      // \n      preItem.removeEdge(this);\n    }\n\n    if (isPlainObject(value)) {\n      // \n      this.set(pointName, value);\n      this.set(itemName, null);\n    } else {\n      value.addEdge(this);\n      this.set(itemName, value);\n      this.set(pointName, null);\n    }\n  };\n  /**\n   * \n   * @param name source | target\n   * @param model \n   * @param controlPoints \n   */\n\n\n  Edge.prototype.getLinkPoint = function (name, model, controlPoints) {\n    var pointName = END_MAP[name] + POINT_NAME_SUFFIX;\n    var itemName = name + ITEM_NAME_SUFFIX;\n    var point = this.get(pointName);\n\n    if (!point) {\n      var item = this.get(itemName);\n      var anchorName = name + ANCHOR_NAME_SUFFIX;\n      var prePoint = this.getPrePoint(name, controlPoints);\n      var anchorIndex = model[anchorName];\n\n      if (!isNil(anchorIndex)) {\n        // \n        point = item.getLinkPointByAnchor(anchorIndex);\n      } // \n\n\n      point = point || item.getLinkPoint(prePoint);\n\n      if (!isNil(point.index)) {\n        this.set(\"\".concat(name, \"AnchorIndex\"), point.index);\n      }\n    }\n\n    return point;\n  };\n  /**\n   * \n   * @param name\n   * @param controlPoints\n   */\n\n\n  Edge.prototype.getPrePoint = function (name, controlPoints) {\n    if (controlPoints && controlPoints.length) {\n      var index = name === 'source' ? 0 : controlPoints.length - 1;\n      return controlPoints[index];\n    }\n\n    var oppositeName = name === 'source' ? 'target' : 'source'; // \n\n    return this.getEndPoint(oppositeName);\n  };\n  /**\n   * \n   * @param name\n   */\n\n\n  Edge.prototype.getEndPoint = function (name) {\n    var itemName = name + ITEM_NAME_SUFFIX;\n    var pointName = END_MAP[name] + POINT_NAME_SUFFIX;\n    var item = this.get(itemName); //  model\n\n    if (item) {\n      return item.get('model');\n    } // \n\n\n    return this.get(pointName);\n  };\n  /**\n   * \n   * @param model\n   */\n\n\n  Edge.prototype.getControlPointsByCenter = function (model) {\n    var sourcePoint = this.getEndPoint('source');\n    var targetPoint = this.getEndPoint('target');\n    var shapeFactory = this.get('shapeFactory');\n    var type = model.type;\n    return shapeFactory.getControlPoints(type, {\n      startPoint: sourcePoint,\n      endPoint: targetPoint\n    });\n  };\n\n  Edge.prototype.getEndCenter = function (name) {\n    var itemName = name + ITEM_NAME_SUFFIX;\n    var pointName = END_MAP[name] + POINT_NAME_SUFFIX;\n    var item = this.get(itemName); //  model\n\n    if (item) {\n      var bbox = item.getBBox();\n      return {\n        x: bbox.centerX,\n        y: bbox.centerY\n      };\n    } // \n\n\n    return this.get(pointName);\n  };\n\n  Edge.prototype.init = function () {\n    _super.prototype.init.call(this); // \n\n\n    this.setSource(this.get('source'));\n    this.setTarget(this.get('target'));\n  };\n\n  Edge.prototype.getShapeCfg = function (model) {\n    var self = this;\n    var linkCenter = self.get('linkCenter'); // \n\n    var cfg = _super.prototype.getShapeCfg.call(this, model);\n\n    if (linkCenter) {\n      cfg.startPoint = self.getEndCenter('source');\n      cfg.endPoint = self.getEndCenter('target');\n    } else {\n      var controlPoints = cfg.controlPoints || self.getControlPointsByCenter(cfg);\n      cfg.startPoint = self.getLinkPoint('source', model, controlPoints);\n      cfg.endPoint = self.getLinkPoint('target', model, controlPoints);\n    }\n\n    cfg.sourceNode = self.get('sourceNode');\n    cfg.targetNode = self.get('targetNode');\n    return cfg;\n  };\n  /**\n   * \n   */\n\n\n  Edge.prototype.getModel = function () {\n    var out = this.get('model');\n    var sourceItem = this.get(\"source\".concat(ITEM_NAME_SUFFIX));\n    var targetItem = this.get(\"target\".concat(ITEM_NAME_SUFFIX));\n\n    if (sourceItem) {\n      delete out[\"source\".concat(ITEM_NAME_SUFFIX)];\n    } else {\n      out.source = this.get(\"start\".concat(POINT_NAME_SUFFIX));\n    }\n\n    if (targetItem) {\n      delete out[\"target\".concat(ITEM_NAME_SUFFIX)];\n    } else {\n      out.target = this.get(\"end\".concat(POINT_NAME_SUFFIX));\n    }\n\n    if (!isString(out.source) && !isPlainObject(out.source)) {\n      out.source = out.source.getID();\n    }\n\n    if (!isString(out.target) && !isPlainObject(out.target)) {\n      out.target = out.target.getID();\n    }\n\n    return out;\n  };\n\n  Edge.prototype.setSource = function (source) {\n    this.setEnd('source', source);\n    this.set('source', source);\n  };\n\n  Edge.prototype.setTarget = function (target) {\n    this.setEnd('target', target);\n    this.set('target', target);\n  };\n\n  Edge.prototype.getSource = function () {\n    return this.get('source');\n  };\n\n  Edge.prototype.getTarget = function () {\n    return this.get('target');\n  };\n\n  Edge.prototype.updatePosition = function () {\n    return false;\n  };\n  /**\n   *  path \n   * @param {object} cfg \n   */\n\n\n  Edge.prototype.update = function (cfg, onlyMove) {\n    if (onlyMove === void 0) {\n      onlyMove = false;\n    }\n\n    var model = this.get('model');\n    var oriVisible = model.visible;\n    var cfgVisible = cfg.visible;\n    if (oriVisible !== cfgVisible && cfgVisible !== undefined) this.changeVisibility(cfgVisible);\n    var styles = this.get('styles');\n\n    if (cfg.stateStyles) {\n      //  item  this.get('styles') \n      var stateStyles = cfg.stateStyles;\n      mix(styles, stateStyles);\n      delete cfg.stateStyles;\n    }\n\n    Object.assign(model, cfg);\n    this.updateShape();\n    this.afterUpdate();\n    this.clearCache();\n  };\n\n  Edge.prototype.destroy = function () {\n    var sourceItem = this.get(\"source\".concat(ITEM_NAME_SUFFIX));\n    var targetItem = this.get(\"target\".concat(ITEM_NAME_SUFFIX));\n\n    if (sourceItem && !sourceItem.destroyed) {\n      sourceItem.removeEdge(this);\n    }\n\n    if (targetItem && !targetItem.destroyed) {\n      targetItem.removeEdge(this);\n    }\n\n    _super.prototype.destroy.call(this);\n  };\n\n  return Edge;\n}(Item);\n\nexport default Edge;","import { __extends } from \"tslib\";\nimport { each, isNil } from '@antv/util';\nimport { distance, getCircleIntersectByPoint, getEllipseIntersectByPoint, getRectIntersectByPoint } from '../util/math';\nimport Item from './item';\nvar CACHE_ANCHOR_POINTS = 'anchorPointsCache';\nvar CACHE_BBOX = 'bboxCache';\n\nvar Node =\n/** @class */\nfunction (_super) {\n  __extends(Node, _super);\n\n  function Node() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Node.prototype.getNearestPoint = function (points, curPoint) {\n    var index = 0;\n    var nearestPoint = points[0];\n    var minDistance = distance(points[0], curPoint);\n\n    for (var i = 0; i < points.length; i++) {\n      var point = points[i];\n      var dis = distance(point, curPoint);\n\n      if (dis < minDistance) {\n        nearestPoint = point;\n        minDistance = dis;\n        index = i;\n      }\n    }\n\n    nearestPoint.anchorIndex = index;\n    return nearestPoint;\n  };\n\n  Node.prototype.getDefaultCfg = function () {\n    return {\n      type: 'node',\n      edges: []\n    };\n  };\n  /**\n   * \n   */\n\n\n  Node.prototype.getEdges = function () {\n    return this.get('edges');\n  };\n  /**\n   * \n   */\n\n\n  Node.prototype.getInEdges = function () {\n    var self = this;\n    return this.get('edges').filter(function (edge) {\n      return edge.get('target') === self;\n    });\n  };\n  /**\n   * \n   */\n\n\n  Node.prototype.getOutEdges = function () {\n    var self = this;\n    return this.get('edges').filter(function (edge) {\n      return edge.get('source') === self;\n    });\n  };\n  /**\n   * \n   *\n   * @returns {INode[]}\n   * @memberof Node\n   */\n\n\n  Node.prototype.getNeighbors = function (type) {\n    var _this = this;\n\n    var edges = this.get('edges');\n\n    if (type === 'target') {\n      //  source\n      var neighhborsConverter_1 = function neighhborsConverter_1(edge) {\n        return edge.getSource() === _this;\n      };\n\n      return edges.filter(neighhborsConverter_1).map(function (edge) {\n        return edge.getTarget();\n      });\n    }\n\n    if (type === 'source') {\n      //  target\n      var neighhborsConverter_2 = function neighhborsConverter_2(edge) {\n        return edge.getTarget() === _this;\n      };\n\n      return edges.filter(neighhborsConverter_2).map(function (edge) {\n        return edge.getSource();\n      });\n    } //  type \n\n\n    var neighhborsConverter = function neighhborsConverter(edge) {\n      return edge.getSource() === _this ? edge.getTarget() : edge.getSource();\n    };\n\n    return edges.map(neighhborsConverter);\n  };\n  /**\n   * \n   * @param  {Number} index \n   */\n\n\n  Node.prototype.getLinkPointByAnchor = function (index) {\n    var anchorPoints = this.getAnchorPoints();\n    return anchorPoints[index];\n  };\n  /**\n   * \n   * @param point\n   */\n\n\n  Node.prototype.getLinkPoint = function (point) {\n    var keyShape = this.get('keyShape');\n    var type = keyShape.get('type');\n    var itemType = this.get('type');\n    var centerX;\n    var centerY;\n    var bbox = this.getBBox();\n\n    if (itemType === 'combo') {\n      centerX = bbox.centerX || (bbox.maxX + bbox.minX) / 2;\n      centerY = bbox.centerY || (bbox.maxY + bbox.minY) / 2;\n    } else {\n      centerX = bbox.centerX;\n      centerY = bbox.centerY;\n    }\n\n    var anchorPoints = this.getAnchorPoints();\n    var intersectPoint;\n\n    switch (type) {\n      case 'circle':\n        intersectPoint = getCircleIntersectByPoint({\n          x: centerX,\n          y: centerY,\n          r: bbox.width / 2\n        }, point);\n        break;\n\n      case 'ellipse':\n        intersectPoint = getEllipseIntersectByPoint({\n          x: centerX,\n          y: centerY,\n          rx: bbox.width / 2,\n          ry: bbox.height / 2\n        }, point);\n        break;\n\n      default:\n        intersectPoint = getRectIntersectByPoint(bbox, point);\n    }\n\n    var linkPoint = intersectPoint; // \n\n    if (anchorPoints.length) {\n      if (!linkPoint) {\n        // \n        linkPoint = point;\n      }\n\n      linkPoint = this.getNearestPoint(anchorPoints, linkPoint);\n    }\n\n    if (!linkPoint) {\n      // \n      linkPoint = {\n        x: centerX,\n        y: centerY\n      };\n    }\n\n    return linkPoint;\n  };\n  /**\n   * \n   * @return {array} anchorPoints\n   */\n\n\n  Node.prototype.getAnchorPoints = function () {\n    var anchorPoints = this.get(CACHE_ANCHOR_POINTS);\n\n    if (!anchorPoints) {\n      anchorPoints = [];\n      var shapeFactory = this.get('shapeFactory');\n      var bbox_1 = this.getBBox();\n      var model = this.get('model');\n      var shapeCfg = this.getShapeCfg(model);\n      var type = model.type;\n      var points = shapeFactory.getAnchorPoints(type, shapeCfg) || [];\n      each(points, function (pointArr, index) {\n        var point = {\n          x: bbox_1.minX + pointArr[0] * bbox_1.width,\n          y: bbox_1.minY + pointArr[1] * bbox_1.height,\n          anchorIndex: index\n        };\n        anchorPoints.push(point);\n      });\n      this.set(CACHE_ANCHOR_POINTS, anchorPoints);\n    }\n\n    return anchorPoints;\n  };\n  /**\n   * add edge\n   * @param edge Edge instance\n   */\n\n\n  Node.prototype.addEdge = function (edge) {\n    this.get('edges').push(edge);\n  };\n  /**\n   * \n   */\n\n\n  Node.prototype.lock = function () {\n    this.set('locked', true);\n  };\n  /**\n   * \n   */\n\n\n  Node.prototype.unlock = function () {\n    this.set('locked', false);\n  };\n\n  Node.prototype.hasLocked = function () {\n    return this.get('locked');\n  };\n  /**\n   * \n   * @param {Edge} edge \n   */\n\n\n  Node.prototype.removeEdge = function (edge) {\n    var edges = this.getEdges();\n    var index = edges.indexOf(edge);\n\n    if (index > -1) {\n      edges.splice(index, 1);\n    }\n  };\n\n  Node.prototype.clearCache = function () {\n    this.set(CACHE_BBOX, null); //  bbox\n\n    this.set(CACHE_ANCHOR_POINTS, null);\n  };\n  /**\n   * \n   * @param cfg \n   */\n\n\n  Node.prototype.isOnlyMove = function (cfg) {\n    if (!cfg) {\n      return false;\n    }\n\n    var existX = !isNil(cfg.x);\n    var existY = !isNil(cfg.y);\n    var keys = Object.keys(cfg); //  x   y\n    //  x y\n\n    return keys.length === 1 && (existX || existY) || keys.length === 2 && existX && existY;\n  };\n\n  return Node;\n}(Item);\n\nexport default Node;","import { __assign, __extends } from \"tslib\";\nimport Node from './node';\nimport Global from '../global';\nimport { getBBox } from '../util/graphic';\nimport { isNumber } from '@antv/util';\nvar CACHE_BBOX = 'bboxCache';\nvar CACHE_CANVAS_BBOX = 'bboxCanvasCache';\nvar CACHE_SIZE = 'sizeCache';\nvar CACHE_ANCHOR_POINTS = 'anchorPointsCache';\n\nvar Combo =\n/** @class */\nfunction (_super) {\n  __extends(Combo, _super);\n\n  function Combo() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Combo.prototype.getDefaultCfg = function () {\n    return {\n      type: 'combo',\n      nodes: [],\n      edges: [],\n      combos: []\n    };\n  };\n\n  Combo.prototype.getShapeCfg = function (model) {\n    var styles = this.get('styles');\n    var bbox = this.get('bbox');\n\n    if (styles && bbox) {\n      // merge graphitem\n      var newModel = model;\n      var size = {\n        r: Math.hypot(bbox.height, bbox.width) / 2 || Global.defaultCombo.size[0] / 2,\n        width: bbox.width || Global.defaultCombo.size[0],\n        height: bbox.height || Global.defaultCombo.size[1]\n      };\n      newModel.style = __assign(__assign(__assign({}, styles), model.style), size);\n      var padding = model.padding || Global.defaultCombo.padding;\n\n      if (isNumber(padding)) {\n        size.r += padding;\n        size.width += padding * 2;\n        size.height += padding * 2;\n      } else {\n        size.r += padding[0];\n        size.width += padding[1] + padding[3] || padding[1] * 2;\n        size.height += padding[0] + padding[2] || padding[0] * 2;\n      }\n\n      this.set(CACHE_SIZE, size);\n      return newModel;\n    }\n\n    return model;\n  };\n  /**\n   *  keyshape \n   */\n\n\n  Combo.prototype.calculateCanvasBBox = function () {\n    if (this.destroyed) return;\n    var keyShape = this.get('keyShape');\n    var group = this.get('group'); //  group \n\n    var bbox = getBBox(keyShape, group);\n    bbox.centerX = (bbox.minX + bbox.maxX) / 2;\n    bbox.centerY = (bbox.minY + bbox.maxY) / 2;\n    var cacheSize = this.get(CACHE_SIZE);\n    var cacheBBox = this.get(CACHE_BBOX) || {};\n    var oriX = cacheBBox.x;\n    var oriY = cacheBBox.x;\n\n    if (cacheSize) {\n      cacheSize.width = Math.max(cacheSize.width, bbox.width);\n      cacheSize.height = Math.max(cacheSize.height, bbox.height);\n      var type = keyShape.get('type');\n\n      if (type === 'circle') {\n        bbox.width = cacheSize.r * 2;\n        bbox.height = cacheSize.r * 2;\n      } else {\n        bbox.width = cacheSize.width;\n        bbox.height = cacheSize.height;\n      }\n\n      bbox.minX = bbox.centerX - bbox.width / 2;\n      bbox.minY = bbox.centerY - bbox.height / 2;\n      bbox.maxX = bbox.centerX + bbox.width / 2;\n      bbox.maxY = bbox.centerY + bbox.height / 2;\n    } else {\n      bbox.width = bbox.maxX - bbox.minX;\n      bbox.height = bbox.maxY - bbox.minY;\n      bbox.centerX = (bbox.minX + bbox.maxX) / 2;\n      bbox.centerY = (bbox.minY + bbox.maxY) / 2;\n    }\n\n    bbox.x = bbox.minX;\n    bbox.y = bbox.minY;\n    if (bbox.x !== oriX || bbox.y !== oriY) this.set(CACHE_ANCHOR_POINTS, null);\n    return bbox;\n  };\n  /**\n   *  Combo  ComboNode  Edge\n   */\n\n\n  Combo.prototype.getChildren = function () {\n    var self = this;\n    return {\n      nodes: self.getNodes(),\n      combos: self.getCombos()\n    };\n  };\n  /**\n   *  Combo \n   */\n\n\n  Combo.prototype.getNodes = function () {\n    var self = this;\n    return self.get('nodes');\n  };\n  /**\n   *  Combo  combo\n   */\n\n\n  Combo.prototype.getCombos = function () {\n    var self = this;\n    return self.get('combos');\n  };\n  /**\n   *  Combo  combo  node\n   * @param item Combo \n   * @return boolean  true false\n   */\n\n\n  Combo.prototype.addChild = function (item) {\n    var self = this;\n    var itemType = item.getType();\n\n    switch (itemType) {\n      case 'node':\n        self.addNode(item);\n        break;\n\n      case 'combo':\n        self.addCombo(item);\n        break;\n\n      default:\n        console.warn('Only node or combo items are allowed to be added into a combo');\n        return false;\n    }\n\n    return true;\n  };\n  /**\n   *  Combo  combo\n   * @param combo Combo \n   * @return boolean  true false\n   */\n\n\n  Combo.prototype.addCombo = function (combo) {\n    var self = this;\n    self.get('combos').push(combo);\n    return true;\n  };\n  /**\n   *  Combo \n   * @param node \n   * @return boolean  true false\n   */\n\n\n  Combo.prototype.addNode = function (node) {\n    var self = this;\n    self.get('nodes').push(node);\n    return true;\n  };\n  /**\n   *  Combo  combo  node\n   * @param item Combo \n   * @return boolean  true false\n   */\n\n\n  Combo.prototype.removeChild = function (item) {\n    var self = this;\n    var itemType = item.getType();\n\n    switch (itemType) {\n      case 'node':\n        self.removeNode(item);\n        break;\n\n      case 'combo':\n        self.removeCombo(item);\n        break;\n\n      default:\n        console.warn('Only node or combo items are allowed to be added into a combo');\n        return false;\n    }\n\n    return true;\n  };\n  /**\n   *  Combo  combo\n   * @param combo Combo \n   * @return boolean  true false\n   */\n\n\n  Combo.prototype.removeCombo = function (combo) {\n    if (!combo) return;\n    var combos = this.getCombos();\n    var index = combos.indexOf(combo);\n\n    if (index > -1) {\n      combos.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  };\n  /**\n   *  Combo \n   * @param node \n   * @return boolean  true false\n   */\n\n\n  Combo.prototype.removeNode = function (node) {\n    if (!node) return;\n    var nodes = this.getNodes();\n    var index = nodes.indexOf(node);\n\n    if (index > -1) {\n      nodes.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  };\n\n  Combo.prototype.isOnlyMove = function (cfg) {\n    return false;\n  };\n  /**\n   *  item  item  matrix \n   * @return {Object}  x,y,width,height, centerX, centerY\n   */\n\n\n  Combo.prototype.getBBox = function () {\n    this.set(CACHE_CANVAS_BBOX, null);\n    var bbox = this.calculateCanvasBBox();\n    return bbox;\n  };\n\n  Combo.prototype.clearCache = function () {\n    this.set(CACHE_BBOX, null); //  bbox\n\n    this.set(CACHE_CANVAS_BBOX, null);\n    this.set(CACHE_ANCHOR_POINTS, null);\n  };\n\n  Combo.prototype.destroy = function () {\n    if (!this.destroyed) {\n      var animate = this.get('animate');\n      var group = this.get('group');\n\n      if (animate) {\n        group.stopAnimate();\n      }\n\n      this.clearCache();\n      this.set(CACHE_SIZE, null);\n      this.set('bbox', null);\n      group.remove();\n      this._cfg = null;\n      this.destroyed = true;\n    }\n  };\n\n  return Combo;\n}(Node);\n\nexport default Combo;","import { __assign } from \"tslib\";\nimport { clone, deepMix, each, isArray, isObject, isString, upperFirst } from '@antv/util';\nimport Edge from '../../item/edge';\nimport Node from '../../item/node';\nimport Combo from '../../item/combo';\nimport { traverseTreeUp, traverseTree, getComboBBox, shouldRefreshEdge } from '../../util/graphic';\nvar NODE = 'node';\nvar EDGE = 'edge';\nvar VEDGE = 'vedge';\nvar COMBO = 'combo';\nvar CFG_PREFIX = 'default';\nvar MAPPER_SUFFIX = 'Mapper';\nvar STATE_SUFFIX = 'stateStyles';\n\nvar ItemController =\n/** @class */\nfunction () {\n  function ItemController(graph) {\n    this.graph = graph;\n    this.destroyed = false;\n  }\n  /**\n   *  Item \n   *\n   * @param {ITEM_TYPE} type node  edge\n   * @param {(NodeConfig & EdgeConfig)} model \n   * @returns {(Item)}\n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.addItem = function (type, model) {\n    var graph = this.graph;\n    var vType = type === VEDGE ? EDGE : type;\n    var parent = graph.get(\"\".concat(vType, \"Group\")) || graph.get('group');\n    var upperType = upperFirst(vType);\n    var item = null; //  this.get('styles') \n\n    var styles = graph.get(vType + upperFirst(STATE_SUFFIX)) || {};\n    var defaultModel = graph.get(CFG_PREFIX + upperType);\n\n    if (model[STATE_SUFFIX]) {\n      //  this.get('styles') \n      styles = model[STATE_SUFFIX];\n    }\n\n    if (defaultModel) {\n      //  merge  model \n      each(defaultModel, function (val, cfg) {\n        if (isObject(val) && !isArray(val)) {\n          model[cfg] = deepMix({}, val, model[cfg]);\n        } else if (isArray(val)) {\n          model[cfg] = model[cfg] || clone(defaultModel[cfg]);\n        } else {\n          model[cfg] = model[cfg] || defaultModel[cfg];\n        }\n      });\n    }\n\n    var mapper = graph.get(vType + MAPPER_SUFFIX);\n\n    if (mapper) {\n      var mappedModel_1 = mapper(model);\n\n      if (mappedModel_1[STATE_SUFFIX]) {\n        //  this.get('styles') \n        styles = mappedModel_1[STATE_SUFFIX];\n        delete mappedModel_1[STATE_SUFFIX];\n      } //  defaultEdge  defaultNode\n\n\n      each(mappedModel_1, function (val, cfg) {\n        if (isObject(val) && !isArray(val)) {\n          model[cfg] = deepMix({}, model[cfg], val);\n        } else {\n          model[cfg] = mappedModel_1[cfg] || model[cfg];\n        }\n      });\n    }\n\n    graph.emit('beforeadditem', {\n      type: type,\n      model: model\n    });\n\n    if (type === EDGE || type === VEDGE) {\n      var source = void 0;\n      var target = void 0;\n      source = model.source; // eslint-disable-line prefer-destructuring\n\n      target = model.target; // eslint-disable-line prefer-destructuring\n\n      if (source && isString(source)) {\n        source = graph.findById(source);\n      }\n\n      if (target && isString(target)) {\n        target = graph.findById(target);\n      }\n\n      if (!source || !target) {\n        console.warn(\"The source or target node of edge \".concat(model.id, \" does not exist!\"));\n        return;\n      }\n\n      if (source.getType && source.getType() === 'combo') {\n        model.isComboEdge = true; // graph.updateCombo(source as ICombo);\n      }\n\n      if (target.getType && target.getType() === 'combo') {\n        model.isComboEdge = true; // graph.updateCombo(target as ICombo);\n      }\n\n      item = new Edge({\n        model: model,\n        source: source,\n        target: target,\n        styles: styles,\n        linkCenter: graph.get('linkCenter'),\n        group: parent.addGroup()\n      });\n    } else if (type === NODE) {\n      item = new Node({\n        model: model,\n        styles: styles,\n        group: parent.addGroup()\n      });\n    } else if (type === COMBO) {\n      var children = model.children;\n      var comboBBox = getComboBBox(children, graph);\n      if (!isNaN(comboBBox.x)) model.x = comboBBox.x;else if (isNaN(model.x)) model.x = Math.random() * 100;\n      if (!isNaN(comboBBox.y)) model.y = comboBBox.y;else if (isNaN(model.y)) model.y = Math.random() * 100;\n      var comboGroup = parent.addGroup();\n      comboGroup.setZIndex(model.depth);\n      item = new Combo({\n        model: model,\n        styles: styles,\n        bbox: model.collapsed ? getComboBBox([], graph) : comboBBox,\n        group: comboGroup\n      });\n      var comboModel_1 = item.getModel();\n      (children || []).forEach(function (child) {\n        var childItem = graph.findById(child.id);\n        item.addChild(childItem);\n        child.depth = comboModel_1.depth + 2;\n      }); // collapse the combo if the collapsed is true in the model\n\n      if (model.collapsed) {\n        setTimeout(function () {\n          graph.collapseCombo(item);\n        }, 16);\n      }\n    }\n\n    if (item) {\n      graph.get(\"\".concat(type, \"s\")).push(item);\n      graph.get('itemMap')[item.get('id')] = item;\n      graph.emit('afteradditem', {\n        item: item,\n        model: model\n      }); // eslint-disable-next-line consistent-return\n\n      return item;\n    }\n  };\n  /**\n   * \n   *\n   * @param {Item} item ID  \n   * @param {(EdgeConfig | Partial<NodeConfig>)} cfg \n   * @returns\n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.updateItem = function (item, cfg) {\n    var _a, _b;\n\n    var graph = this.graph;\n\n    if (isString(item)) {\n      item = graph.findById(item);\n    }\n\n    if (!item || item.destroyed) {\n      return;\n    } //  item \n\n\n    var type = '';\n    if (item.getType) type = item.getType();\n    var mapper = graph.get(type + MAPPER_SUFFIX);\n    var model = item.getModel();\n    var isOnlyMove = item.isOnlyMove(cfg);\n\n    if (mapper) {\n      var result = deepMix({}, model, cfg);\n      var mappedModel = mapper(result); //  update mapperModeldeepMix\n\n      var newModel = deepMix({}, model, mappedModel, cfg);\n\n      if (mappedModel[STATE_SUFFIX]) {\n        item.set('styles', newModel[STATE_SUFFIX]);\n        delete newModel[STATE_SUFFIX];\n      }\n\n      each(newModel, function (val, key) {\n        cfg[key] = val;\n      });\n    } else {\n      // merge updatemodel\n      each(cfg, function (val, key) {\n        if (model[key]) {\n          if (isObject(val) && !isArray(val)) {\n            cfg[key] = __assign(__assign({}, model[key]), cfg[key]);\n          }\n        }\n      });\n    } // emit beforeupdateitem \n\n\n    graph.emit('beforeupdateitem', {\n      item: item,\n      cfg: cfg\n    });\n\n    if (type === EDGE) {\n      // source || target, modelstartPointendPoint\n      if (cfg.source) {\n        var source = cfg.source;\n\n        if (isString(source)) {\n          source = graph.findById(source);\n        }\n\n        item.setSource(source);\n      }\n\n      if (cfg.target) {\n        var target = cfg.target;\n\n        if (isString(target)) {\n          target = graph.findById(target);\n        }\n\n        item.setTarget(target);\n      }\n\n      item.update(cfg);\n    } // item.update(cfg);\n\n\n    if (type === NODE || type === COMBO) {\n      item.update(cfg, isOnlyMove);\n      var edges_1 = item.getEdges();\n      var refreshEdge = shouldRefreshEdge(cfg);\n      if (refreshEdge && type === NODE) each(edges_1, function (edge) {\n        edge.refresh();\n      });else if (refreshEdge && type === COMBO) {\n        var shapeFactory = item.get('shapeFactory');\n        var shapeType = model.type || 'circle';\n        var comboAnimate = model.animate === undefined || cfg.animate === undefined ? (_b = (_a = shapeFactory[shapeType]) === null || _a === void 0 ? void 0 : _a.options) === null || _b === void 0 ? void 0 : _b.animate : model.animate || cfg.animate;\n\n        if (comboAnimate) {\n          setTimeout(function () {\n            if (!item || item.destroyed) return;\n            var keyShape = item.getKeyShape();\n            if (!keyShape || keyShape.destroyed) return;\n            each(edges_1, function (edge) {\n              if (edge && !edge.destroyed) edge.refresh();\n            });\n          }, 201);\n        } else {\n          each(edges_1, function (edge) {\n            edge.refresh();\n          });\n        }\n      }\n    }\n\n    graph.emit('afterupdateitem', {\n      item: item,\n      cfg: cfg\n    });\n  };\n  /**\n   *  combo  combo \n   *\n   * @param {ICombo} combo ID  \n   * @returns\n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.updateCombo = function (combo, children) {\n    var _this = this;\n\n    var _a, _b;\n\n    var graph = this.graph;\n\n    if (isString(combo)) {\n      combo = graph.findById(combo);\n    }\n\n    if (!combo || combo.destroyed) {\n      return;\n    }\n\n    var model = combo.getModel();\n    var comboBBox = getComboBBox(model.collapsed ? [] : children, graph);\n    combo.set('bbox', comboBBox);\n    combo.update({\n      x: comboBBox.x,\n      y: comboBBox.y\n    });\n    var shapeFactory = combo.get('shapeFactory');\n    var shapeType = model.type || 'circle';\n    var comboAnimate = model.animate === undefined ? (_b = (_a = shapeFactory[shapeType]) === null || _a === void 0 ? void 0 : _a.options) === null || _b === void 0 ? void 0 : _b.animate : model.animate;\n\n    if (comboAnimate) {\n      setTimeout(function () {\n        if (!combo || combo.destroyed) return;\n        var keyShape = combo.getKeyShape();\n        if (!keyShape || keyShape.destroyed) return;\n        combo.getShapeCfg(model); //  combo  size\n\n        _this.updateComboEdges(combo);\n      }, 201);\n    } else {\n      this.updateComboEdges(combo);\n    }\n  };\n\n  ItemController.prototype.updateComboEdges = function (combo) {\n    var combEdges = combo.getEdges() || [];\n\n    for (var i = 0; i < combEdges.length; i++) {\n      var edge = combEdges[i];\n\n      if (edge && !edge.destroyed) {\n        var edgeSF = edge.get('shapeFactory');\n        var edgeCfg = edge.getShapeCfg(edge.getModel());\n        var edgeGroup = edge.getContainer();\n        edgeGroup.clear();\n        var keyShape = edgeSF.draw(edgeCfg.type, edgeCfg, edgeGroup);\n        edge.set('keyShape', keyShape);\n        keyShape.set('isKeyShape', true);\n        keyShape.set('draggable', true);\n        edge.setOriginStyle();\n      }\n    }\n  };\n  /**\n   *  combo\n   */\n\n\n  ItemController.prototype.collapseCombo = function (combo) {\n    var graph = this.graph;\n\n    if (isString(combo)) {\n      combo = graph.findById(combo);\n    }\n\n    var children = combo.getChildren();\n    children.nodes.forEach(function (node) {\n      graph.hideItem(node);\n    });\n    children.combos.forEach(function (c) {\n      graph.hideItem(c);\n    });\n  };\n  /**\n   *  combo\n   *  combo \n   */\n\n\n  ItemController.prototype.expandCombo = function (combo) {\n    var graph = this.graph;\n\n    if (isString(combo)) {\n      combo = graph.findById(combo);\n    }\n\n    var children = combo.getChildren();\n    children.nodes.forEach(function (node) {\n      graph.showItem(node);\n    });\n    children.combos.forEach(function (c) {\n      if (c.getModel().collapsed) {\n        c.show();\n      } else {\n        graph.showItem(c);\n      }\n    });\n  };\n  /**\n   * \n   *\n   * @param {Item} item item ID \n   * @returns {void}\n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.removeItem = function (item) {\n    var _this = this;\n\n    var graph = this.graph;\n\n    if (isString(item)) {\n      item = graph.findById(item);\n    }\n\n    if (!item || item.destroyed) {\n      return;\n    }\n\n    var itemModel = clone(item.getModel());\n    graph.emit('beforeremoveitem', {\n      item: itemModel\n    });\n    var type = '';\n    if (item.getType) type = item.getType();\n    var items = graph.get(\"\".concat(type, \"s\"));\n    var index = items.indexOf(item);\n    if (index > -1) items.splice(index, 1);\n\n    if (type === EDGE) {\n      var vitems = graph.get(\"v\".concat(type, \"s\"));\n      var vindex = vitems.indexOf(item);\n      if (vindex > -1) vitems.splice(vindex, 1);\n    }\n\n    var itemId = item.get('id');\n    var itemMap = graph.get('itemMap');\n    delete itemMap[itemId];\n    var comboTrees = graph.get('comboTrees');\n    var id = item.get('id');\n\n    if (type === NODE) {\n      var comboId = item.getModel().comboId;\n\n      if (comboTrees && comboId) {\n        var brothers_1 = comboTrees;\n        var found_1 = false; // the flag to terminate the forEach circulation\n        // remove the node from the children array of its parent fromt he tree\n\n        comboTrees.forEach(function (ctree) {\n          if (found_1) return;\n          traverseTree(ctree, function (combo) {\n            if (combo.id === id && brothers_1) {\n              var bidx = brothers_1.indexOf(combo);\n              brothers_1.splice(bidx, 1);\n              found_1 = true;\n              return false; // terminate the traverse\n            }\n\n            brothers_1 = combo.children;\n            return true;\n          });\n        });\n      } // \n\n\n      var edges = item.getEdges();\n\n      for (var i = edges.length - 1; i >= 0; i--) {\n        graph.removeItem(edges[i], false);\n      }\n\n      if (comboId) graph.updateCombo(comboId);\n    } else if (type === COMBO) {\n      var parentId = item.getModel().parentId;\n      var comboInTree_1; // find the subtree rooted at the item to be removed\n\n      var found_2 = false; // the flag to terminate the forEach circulation\n\n      (comboTrees || []).forEach(function (ctree) {\n        if (found_2) return;\n        traverseTree(ctree, function (combo) {\n          if (combo.id === id) {\n            comboInTree_1 = combo;\n            found_2 = true;\n            return false; // terminate the traverse\n          }\n\n          return true;\n        });\n      });\n      comboInTree_1.removed = true;\n\n      if (comboInTree_1 && comboInTree_1.children) {\n        comboInTree_1.children.forEach(function (child) {\n          _this.removeItem(child.id);\n        });\n      } //  combo\n\n\n      var edges = item.getEdges();\n\n      for (var i = edges.length; i >= 0; i--) {\n        graph.removeItem(edges[i], false);\n      }\n\n      if (parentId) graph.updateCombo(parentId);\n    }\n\n    item.destroy();\n    graph.emit('afterremoveitem', {\n      item: itemModel\n    });\n  };\n  /**\n   *  item \n   *\n   * @param {Item} item Item \n   * @param {string} state \n   * @param {boolean} value \n   * @returns {void}\n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.setItemState = function (item, state, value) {\n    var graph = this.graph;\n    var stateName = state;\n\n    if (isString(value)) {\n      stateName = \"\".concat(state, \":\").concat(value);\n    } //  state state  undefined\n\n\n    if (item.hasState(stateName) === value && value || //  true  false \n    isString(value) && item.hasState(stateName)) {\n      //  value \n      return;\n    }\n\n    graph.emit('beforeitemstatechange', {\n      item: item,\n      state: stateName,\n      enabled: value\n    });\n    item.setState(state, value);\n    graph.autoPaint();\n    graph.emit('afteritemstatechange', {\n      item: item,\n      state: stateName,\n      enabled: value\n    });\n  };\n  /**\n   * \n   * @param {Item} item id\n   * @param state \n   */\n\n\n  ItemController.prototype.priorityState = function (item, state) {\n    var graph = this.graph;\n    var currentItem = item;\n\n    if (isString(item)) {\n      currentItem = graph.findById(item);\n    } //  state\n\n\n    this.setItemState(currentItem, state, false); // state\n\n    this.setItemState(currentItem, state, true);\n  };\n  /**\n   * \n   *\n   * @param {Item} item Item \n   * @param {string[]} states \n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.clearItemStates = function (item, states) {\n    var graph = this.graph;\n\n    if (isString(item)) {\n      item = graph.findById(item);\n    }\n\n    graph.emit('beforeitemstatesclear', {\n      item: item,\n      states: states\n    });\n    item.clearStates(states);\n    graph.emit('afteritemstatesclear', {\n      item: item,\n      states: states\n    });\n  };\n  /**\n   *  Item\n   *\n   * @param {Item} item Item ID  \n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.refreshItem = function (item) {\n    var graph = this.graph;\n\n    if (isString(item)) {\n      item = graph.findById(item);\n    }\n\n    graph.emit('beforeitemrefresh', {\n      item: item\n    }); //  Item  refresh \n\n    item.refresh();\n    graph.emit('afteritemrefresh', {\n      item: item\n    });\n  };\n  /**\n   *  graph  combos  comboTree  combos\n   *\n   * @param {ComboTree[]} comboTrees graph  combos  comboTree\n   * @param {ComboConfig[]} comboModels combos \n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.addCombos = function (comboTrees, comboModels) {\n    var _this = this;\n\n    var graph = this.graph;\n    (comboTrees || []).forEach(function (ctree) {\n      traverseTreeUp(ctree, function (child) {\n        var comboModel;\n        comboModels.forEach(function (model) {\n          if (model.id === child.id) {\n            model.children = child.children;\n            model.depth = child.depth;\n            comboModel = model;\n          }\n        });\n\n        if (comboModel) {\n          _this.addItem('combo', comboModel);\n        }\n\n        return true;\n      });\n    });\n    var comboGroup = graph.get('comboGroup');\n    if (comboGroup) comboGroup.sort();\n  };\n  /**\n   * Item\n   *\n   * @param {Item} item Item ID  \n   * @param {boolean} visible \n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.changeItemVisibility = function (item, visible) {\n    var _this = this;\n\n    var graph = this.graph;\n\n    if (isString(item)) {\n      item = graph.findById(item);\n    }\n\n    if (!item) {\n      console.warn('The item to be shown or hidden does not exist!');\n      return;\n    }\n\n    graph.emit('beforeitemvisibilitychange', {\n      item: item,\n      visible: visible\n    });\n    item.changeVisibility(visible);\n\n    if (item.getType && item.getType() === NODE) {\n      var edges = item.getEdges();\n      each(edges, function (edge) {\n        // \n        // \n        if (visible && !(edge.get('source').isVisible() && edge.get('target').isVisible())) {\n          return;\n        }\n\n        _this.changeItemVisibility(edge, visible);\n      });\n    } else if (item.getType && item.getType() === COMBO) {\n      var comboTrees = graph.get('comboTrees');\n      var id_1 = item.get('id');\n      var children_1 = [];\n      var found_3 = false; // flag the terminate the forEach\n\n      (comboTrees || []).forEach(function (ctree) {\n        if (found_3) return;\n        if (!ctree.children || ctree.children.length === 0) return;\n        traverseTree(ctree, function (combo) {\n          if (combo.id === id_1) {\n            children_1 = combo.children;\n            found_3 = true;\n            return false; // terminate the traverse\n          }\n\n          return true;\n        });\n      });\n\n      if (children_1 && (!visible || visible && !item.getModel().collapsed)) {\n        children_1.forEach(function (child) {\n          var childItem = graph.findById(child.id);\n\n          _this.changeItemVisibility(childItem, visible);\n        });\n      }\n\n      var edges = item.getEdges();\n      each(edges, function (edge) {\n        //  combo combo \n        //  combo combo \n        if (visible && !(edge.get('source').isVisible() && edge.get('target').isVisible())) {\n          return;\n        }\n\n        _this.changeItemVisibility(edge, visible);\n      });\n    }\n\n    graph.emit('afteritemvisibilitychange', {\n      item: item,\n      visible: visible\n    });\n    return item;\n  };\n\n  ItemController.prototype.destroy = function () {\n    this.graph = null;\n    this.destroyed = true;\n  };\n\n  return ItemController;\n}();\n\nexport default ItemController;","import { each, isString } from '@antv/util';\nvar timer = null;\n\nvar StateController =\n/** @class */\nfunction () {\n  function StateController(graph) {\n    this.graph = graph;\n    /**\n     * this.cachedStates = {\n     *    enabled: {\n     *        hover: [Node]\n     *    },\n     *     disabled: {}\n     *  }\n     */\n\n    this.cachedStates = {\n      enabled: {},\n      disabled: {}\n    };\n    this.destroyed = false;\n  }\n  /**\n   *  cache \n   *\n   * @private\n   * @param {Item} item\n   * @param {string} state\n   * @param {object} cache\n   * @returns\n   * @memberof State\n   */\n\n\n  StateController.checkCache = function (item, state, cache) {\n    if (!cache[state]) {\n      return;\n    }\n\n    var index = cache[state].indexOf(item);\n\n    if (index >= 0) {\n      cache[state].splice(index, 1);\n    }\n  };\n  /**\n   *  state\n   *\n   * @private\n   * @param {Item} item Item \n   * @param {string} state \n   * @param {object} states\n   * @memberof State\n   */\n\n\n  StateController.cacheState = function (item, state, states) {\n    if (!states[state]) {\n      states[state] = [];\n    }\n\n    states[state].push(item);\n  };\n  /**\n   *  Item \n   *\n   * @param {Item} item Item\n   * @param {string} state \n   * @param {boolean} enabled \n   * @memberof State\n   */\n\n\n  StateController.prototype.updateState = function (item, state, enabled) {\n    var _this = this;\n\n    var checkCache = StateController.checkCache,\n        cacheState = StateController.cacheState;\n\n    if (item.destroyed) {\n      return;\n    }\n\n    var cachedStates = this.cachedStates;\n    var enabledStates = cachedStates.enabled;\n    var disabledStates = cachedStates.disabled;\n\n    if (enabled) {\n      checkCache(item, state, disabledStates);\n      cacheState(item, state, enabledStates);\n    } else {\n      checkCache(item, state, enabledStates);\n      cacheState(item, state, disabledStates);\n    }\n\n    if (timer) {\n      clearTimeout(timer);\n    }\n\n    timer = setTimeout(function () {\n      timer = null;\n\n      _this.updateGraphStates();\n    }, 16);\n  };\n  /**\n   *  states updateState state\n   *\n   * @param {Item} item\n   * @param {(string | string[])} states\n   * @param {boolean} enabled\n   * @memberof State\n   */\n\n\n  StateController.prototype.updateStates = function (item, states, enabled) {\n    var _this = this;\n\n    if (isString(states)) {\n      this.updateState(item, states, enabled);\n    } else {\n      states.forEach(function (state) {\n        _this.updateState(item, state, enabled);\n      });\n    }\n  };\n  /**\n   *  states\n   *\n   * @memberof State\n   */\n\n\n  StateController.prototype.updateGraphStates = function () {\n    var states = this.graph.get('states');\n    var cachedStates = this.cachedStates;\n    each(cachedStates.disabled, function (val, key) {\n      if (states[key]) {\n        states[key] = states[key].filter(function (item) {\n          return val.indexOf(item) < 0 && !val.destroyed;\n        });\n      }\n    });\n    each(cachedStates.enabled, function (val, key) {\n      if (!states[key]) {\n        states[key] = val;\n      } else {\n        var map_1 = {};\n        states[key].forEach(function (item) {\n          if (!item.destroyed) {\n            map_1[item.get('id')] = true;\n          }\n        });\n        val.forEach(function (item) {\n          if (!item.destroyed) {\n            var id = item.get('id');\n\n            if (!map_1[id]) {\n              map_1[id] = true;\n              states[key].push(item);\n            }\n          }\n        });\n      }\n    });\n    this.graph.emit('graphstatechange', {\n      states: states\n    });\n    this.cachedStates = {\n      enabled: {},\n      disabled: {}\n    };\n  };\n\n  StateController.prototype.destroy = function () {\n    this.graph = null;\n    this.cachedStates = null;\n\n    if (timer) {\n      clearTimeout(timer);\n    }\n\n    timer = null;\n    this.destroyed = true;\n  };\n\n  return StateController;\n}();\n\nexport default StateController;","import { vec2 } from '@antv/matrix-util';\nimport { catmullRom2Bezier } from '@antv/path-util';\n/**\n * \n * @param {String} str \n * @param {Object} o json data\n */\n\nvar substitute = function substitute(str, o) {\n  if (!str || !o) {\n    return str;\n  }\n\n  return str.replace(/\\\\?\\{([^{}]+)\\}/g, function (match, name) {\n    if (match.charAt(0) === '\\\\') {\n      return match.slice(1);\n    }\n\n    var res = o[name];\n    if (res === 0) res = '0';\n    return res || '';\n  });\n};\n/**\n *  M  C \n * @param points coordinate set\n */\n\n\nexport var getSpline = function getSpline(points) {\n  var data = [];\n\n  if (points.length < 2) {\n    throw new Error(\"point length must largn than 2, now it's \".concat(points.length));\n  }\n\n  for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n    var point = points_1[_i];\n    var x = point.x,\n        y = point.y;\n    data.push(x);\n    data.push(y);\n  }\n\n  var spliePath = catmullRom2Bezier(data);\n  spliePath.unshift(['M', points[0].x, points[0].y]);\n  return spliePath;\n};\n/**\n * \n * @param  {IPoint} startPoint  x,y\n * @param  {IPoint} endPoint  ,  x,y\n * @param  {Number} percent   , 0-1\n * @param  {Number} offset    \n * @return {IPoint}  x,y\n */\n\nexport var getControlPoint = function getControlPoint(startPoint, endPoint, percent, offset) {\n  if (percent === void 0) {\n    percent = 0;\n  }\n\n  if (offset === void 0) {\n    offset = 0;\n  }\n\n  var point = {\n    x: (1 - percent) * startPoint.x + percent * endPoint.x,\n    y: (1 - percent) * startPoint.y + percent * endPoint.y\n  };\n  var tangent = [0, 0];\n  vec2.normalize(tangent, [endPoint.x - startPoint.x, endPoint.y - startPoint.y]);\n\n  if (!tangent || !tangent[0] && !tangent[1]) {\n    tangent = [0, 0];\n  }\n\n  var perpendicular = [-tangent[1] * offset, tangent[0] * offset]; // \n\n  point.x += perpendicular[0];\n  point.y += perpendicular[1];\n  return point;\n};\n/**\n * Path\n * @param {Array} points \n * @param {Boolen} z \n * @return {Array} Path\n */\n\nexport var pointsToPolygon = function pointsToPolygon(points, z) {\n  var length = points.length;\n\n  if (!length) {\n    return '';\n  }\n\n  var path = '';\n  var str = '';\n\n  for (var i = 0; i < length; i++) {\n    var item = points[i];\n\n    if (i === 0) {\n      str = 'M{x} {y}';\n    } else {\n      str = 'L{x} {y}';\n    }\n\n    path += substitute(str, item);\n  }\n\n  if (z) {\n    path += 'Z';\n  }\n\n  return path;\n};\nexport var pathToPoints = function pathToPoints(path) {\n  var points = [];\n  path.forEach(function (seg) {\n    var command = seg[0];\n\n    if (command !== 'A') {\n      for (var i = 1; i < seg.length; i = i + 2) {\n        points.push([seg[i], seg[i + 1]]);\n      }\n    } else {\n      var length_1 = seg.length;\n      points.push([seg[length_1 - 2], seg[length_1 - 1]]);\n    }\n  });\n  return points;\n};\n/**\n * \n * @param points\n */\n\nexport var getClosedSpline = function getClosedSpline(points) {\n  if (points.length < 2) {\n    throw new Error(\"point length must largn than 2, now it's \".concat(points.length));\n  }\n\n  var first = points[0];\n  var second = points[1];\n  var last = points[points.length - 1];\n  var lastSecond = points[points.length - 2];\n  points.unshift(last);\n  points.unshift(lastSecond);\n  points.push(first);\n  points.push(second);\n  var closedPath = [];\n\n  for (var i = 1; i < points.length - 2; i += 1) {\n    var x0 = points[i - 1].x;\n    var y0 = points[i - 1].y;\n    var x1 = points[i].x;\n    var y1 = points[i].y;\n    var x2 = points[i + 1].x;\n    var y2 = points[i + 1].y;\n    var x3 = i !== points.length - 2 ? points[i + 2].x : x2;\n    var y3 = i !== points.length - 2 ? points[i + 2].y : y2;\n    var cp1x = x1 + (x2 - x0) / 6;\n    var cp1y = y1 + (y2 - y0) / 6;\n    var cp2x = x2 - (x3 - x1) / 6;\n    var cp2y = y2 - (y3 - y1) / 6;\n    closedPath.push(['C', cp1x, cp1y, cp2x, cp2y, x2, y2]);\n  }\n\n  closedPath.unshift(['M', last.x, last.y]);\n  return closedPath;\n};\n\nvar vecScaleTo = function vecScaleTo(v, length) {\n  // Vector with direction of v with specified length\n  return vec2.scale([0, 0], vec2.normalize([0, 0], v), length);\n};\n\nvar unitNormal = function unitNormal(p0, p1) {\n  // Returns the unit normal to the line segment from p0 to p1.\n  var n = [p0[1] - p1[1], p1[0] - p0[0]];\n  var nLength = Math.sqrt(n[0] * n[0] + n[1] * n[1]);\n\n  if (nLength === 0) {\n    throw new Error('p0 should not be equal to p1');\n  }\n\n  return [n[0] / nLength, n[1] / nLength];\n};\n\nvar vecFrom = function vecFrom(p0, p1) {\n  // Vector from p0 to p1\n  return [p1[0] - p0[0], p1[1] - p0[1]];\n};\n/**\n * \n * @param polyPoints \n * @param padding \n */\n\n\nexport function roundedHull(polyPoints, padding) {\n  // The rounded hull path around a single point\n  var roundedHull1 = function roundedHull1(points) {\n    var p1 = [points[0][0], points[0][1] - padding];\n    var p2 = [points[0][0], points[0][1] + padding];\n    return \"M \".concat(p1, \" A \").concat(padding, \",\").concat(padding, \",0,0,0,\").concat(p2, \" A \").concat(padding, \",\").concat(padding, \",0,0,0,\").concat(p1);\n  }; // The rounded hull path around two points\n\n\n  var roundedHull2 = function roundedHull2(points) {\n    var offsetVector = vec2.scale([0, 0], unitNormal(points[0], points[1]), padding);\n    var invOffsetVector = vec2.scale([0, 0], offsetVector, -1);\n    var p0 = vec2.add([0, 0], points[0], offsetVector);\n    var p1 = vec2.add([0, 0], points[1], offsetVector);\n    var p2 = vec2.add([0, 0], points[1], invOffsetVector);\n    var p3 = vec2.add([0, 0], points[0], invOffsetVector);\n    return \"M \".concat(p0, \" L \").concat(p1, \" A \").concat([padding, padding, '0,0,0', p2].join(','), \" L \").concat(p3, \" A \").concat([padding, padding, '0,0,0', p0].join(','));\n  }; // 2\n\n\n  if (!polyPoints || polyPoints.length < 1) return '';\n  if (polyPoints.length === 1) return roundedHull1(polyPoints);\n  if (polyPoints.length === 2) return roundedHull2(polyPoints);\n  var segments = new Array(polyPoints.length); // Calculate each offset (outwards) segment of the convex hull.\n\n  for (var segmentIndex = 0; segmentIndex < segments.length; ++segmentIndex) {\n    var p0 = segmentIndex === 0 ? polyPoints[polyPoints.length - 1] : polyPoints[segmentIndex - 1];\n    var p1 = polyPoints[segmentIndex]; // Compute the offset vector for the line segment, with length = padding.\n\n    var offset = vec2.scale([0, 0], unitNormal(p0, p1), padding);\n    segments[segmentIndex] = [vec2.add([0, 0], p0, offset), vec2.add([0, 0], p1, offset)];\n  }\n\n  var arcData = \"A \".concat([padding, padding, '0,0,0,'].join(','));\n  segments = segments.map(function (segment, index) {\n    var pathFragment = '';\n\n    if (index === 0) {\n      pathFragment = \"M \".concat(segments[segments.length - 1][1], \" \");\n    }\n\n    pathFragment += \"\".concat(arcData + segment[0], \" L \").concat(segment[1]);\n    return pathFragment;\n  });\n  return segments.join(' ');\n}\n/**\n * \n * @param polyPoints\n * @param padding\n */\n\nexport function paddedHull(polyPoints, padding) {\n  var pointCount = polyPoints.length;\n\n  var smoothHull1 = function smoothHull1(points) {\n    // Returns the path for a circular hull around a single point.\n    var p1 = [points[0][0], points[0][1] - padding];\n    var p2 = [points[0][0], points[0][1] + padding];\n    return \"M \".concat(p1, \" A \").concat([padding, padding, '0,0,0', p2].join(','), \" A \").concat([padding, padding, '0,0,0', p1].join(','));\n  }; // Returns the path for a rounded hull around two points.\n\n\n  var smoothHull2 = function smoothHull2(points) {\n    var v = vecFrom(points[0], points[1]);\n    var extensionVec = vecScaleTo(v, padding);\n    var extension0 = vec2.add([0, 0], points[0], vec2.scale([0, 0], extensionVec, -1));\n    var extension1 = vec2.add([0, 0], points[1], extensionVec);\n    var tangentHalfLength = 1.2 * padding;\n    var controlDelta = vecScaleTo(vec2.normalize([0, 0], v), tangentHalfLength);\n    var invControlDelta = vec2.scale([0, 0], controlDelta, -1);\n    var control0 = vec2.add([0, 0], extension0, invControlDelta);\n    var control1 = vec2.add([0, 0], extension1, invControlDelta);\n    var control3 = vec2.add([0, 0], extension0, controlDelta); // return [\n    //   ['M', extension0[0], extension0[1]],\n    //   ['C', control0, control1, extension1],\n    //   ['S', control3, extension0],\n    //   'Z',\n    // ];\n\n    return \"M \".concat(extension0, \" C \").concat([control0, control1, extension1].join(','), \" S \").concat([control3, extension0].join(','), \" Z\");\n  }; // Handle special cases\n\n\n  if (!polyPoints || pointCount < 1) return '';\n  if (pointCount === 1) return smoothHull1(polyPoints);\n  if (pointCount === 2) return smoothHull2(polyPoints);\n  var hullPoints = polyPoints.map(function (point, index) {\n    var pNext = polyPoints[(index + 1) % pointCount];\n    return {\n      p: point,\n      v: vec2.normalize([0, 0], vecFrom(point, pNext))\n    };\n  }); // Compute the expanded hull points, and the nearest prior control point for each.\n\n  for (var i = 0; i < hullPoints.length; ++i) {\n    var priorIndex = i > 0 ? i - 1 : pointCount - 1;\n    var extensionVec = vec2.normalize([0, 0], vec2.add([0, 0], hullPoints[priorIndex].v, vec2.scale([0, 0], hullPoints[i].v, -1)));\n    hullPoints[i].p = vec2.add([0, 0], hullPoints[i].p, vec2.scale([0, 0], extensionVec, padding));\n  }\n\n  return hullPoints.map(function (obj) {\n    var point = obj.p;\n    return {\n      x: point[0],\n      y: point[1]\n    };\n  });\n}","/**\n * Use cross product to judge the direction of the turn.\n * Returns a positive value, if OAB makes a clockwise turn,\n * negative for counter-clockwise turn, and zero if the points are collinear.\n */\nexport var cross = function cross(a, b, o) {\n  return (a.y - o.y) * (b.x - o.x) - (a.x - o.x) * (b.y - o.y);\n};\n/**\n * Generate a convex hull of given points. Andrew's monotone chain algorithm.\n * @param points An array of [x, y] representing the coordinates of points.\n * @return a list of vertices of the convex hull in counter-clockwise order,\n */\n\nexport var genConvexHull = function genConvexHull(items) {\n  var points = items.map(function (item) {\n    return {\n      x: item.getModel().x,\n      y: item.getModel().y\n    };\n  });\n  points.sort(function (a, b) {\n    return a.x === b.x ? a.y - b.y : a.x - b.x;\n  });\n\n  if (points.length === 1) {\n    return points;\n  } // build the lower hull\n\n\n  var lower = [];\n\n  for (var i = 0; i < points.length; i++) {\n    while (lower.length >= 2 && cross(lower[lower.length - 2], lower[lower.length - 1], points[i]) <= 0) {\n      lower.pop();\n    }\n\n    lower.push(points[i]);\n  } // build the upper hull\n\n\n  var upper = [];\n\n  for (var i = points.length - 1; i >= 0; i--) {\n    while (upper.length >= 2 && cross(upper[upper.length - 2], upper[upper.length - 1], points[i]) <= 0) {\n      upper.pop();\n    }\n\n    upper.push(points[i]);\n  }\n\n  upper.pop();\n  lower.pop();\n  var strictHull = lower.concat(upper);\n  return strictHull;\n};","import { squareDist, pointLineSquareDist, itemIntersectByLine, getPointsCenter, fractionToLine, isPointsOverlap, pointRectSquareDist, Line, isPointInPolygon } from '../../util/math';\nvar defaultOps = {\n  maxRoutingIterations: 100,\n  maxMarchingIterations: 100,\n  pixelGroupSize: 2,\n  edgeR0: 10,\n  edgeR1: 10,\n  nodeR0: 5,\n  nodeR1: 10,\n  morphBuffer: 5,\n  threshold: 0.001,\n  skip: 16,\n  nodeInfluenceFactor: 1,\n  edgeInfluenceFactor: 1,\n  negativeNodeInfluenceFactor: -0.5\n};\n/**\n * Marching square algorithm for traching the contour of a pixel group\n * https://www.emanueleferonato.com/2013/03/01/using-marching-squares-algorithm-to-trace-the-contour-of-an-image/\n * @param potentialArea\n * @param threshold\n */\n\nfunction MarchingSquares(contour, potentialArea, threshold) {\n  var marched = false;\n\n  var getVal = function getVal(x, y) {\n    return potentialArea.cells[x + y * potentialArea.width];\n  };\n\n  var getState = function getState(x, y) {\n    var squareVal = 0;\n\n    if (getVal(x - 1, y - 1) >= threshold) {\n      squareVal += 1;\n    }\n\n    if (getVal(x, y - 1) > threshold) {\n      squareVal += 2;\n    }\n\n    if (getVal(x - 1, y) > threshold) {\n      squareVal += 4;\n    }\n\n    if (getVal(x, y) > threshold) {\n      squareVal += 8;\n    }\n\n    return squareVal;\n  };\n\n  var doMarch = function doMarch(xPos, yPos) {\n    var x = xPos;\n    var y = yPos;\n    var prevX;\n    var prevY;\n\n    for (var i = 0; i < potentialArea.width * potentialArea.height; i++) {\n      prevX = x;\n      prevY = y;\n\n      if (contour.findIndex(function (item) {\n        return item.x === x && item.y === y;\n      }) > -1) {\n        if (contour[0].x !== x || contour[0].y !== y) {// encountered a loop but haven't returned to start: change direction using conditionals and continue back to start\n        } else {\n          return true;\n        }\n      } else {\n        contour.push({\n          x: x,\n          y: y\n        });\n      }\n\n      var state = getState(x, y); // assign the move direction according to state of the square\n\n      switch (state) {\n        case -1:\n          console.warn('Marched out of bounds');\n          return true;\n\n        case 0:\n        case 3:\n        case 2:\n        case 7:\n          x++; // go right\n\n          break;\n\n        case 12:\n        case 14:\n        case 4:\n          x--; // go left\n\n          break;\n\n        case 6:\n          // go left if come from up else go right\n          if (prevX === 0) {\n            if (prevY === -1) {\n              x -= 1;\n            } else {\n              x += 1;\n            }\n          }\n\n          break;\n\n        case 1:\n        case 13:\n        case 5:\n          y--; // go up\n\n          break;\n\n        case 9:\n          // go up if come from right else go down\n          if (prevX === 1) {\n            if (prevY === 0) {\n              y -= 1;\n            } else {\n              y += 1;\n            }\n          }\n\n          break;\n\n        case 10:\n        case 8:\n        case 11:\n          y++; // go down\n\n          break;\n\n        default:\n          console.warn(\"Marching squares invalid state: \".concat(state));\n          return true;\n      }\n    }\n  };\n\n  this.march = function () {\n    for (var x = 0; x < potentialArea.width && !marched; x += 1) {\n      for (var y = 0; y < potentialArea.height && !marched; y += 1) {\n        if (getVal(x, y) > threshold && getState(x, y) !== 15) {\n          marched = doMarch(x, y);\n        }\n      }\n    }\n\n    return marched;\n  };\n}\n/**\n * Space partition & assign value to each cell\n * @param points\n */\n\n\nvar initGridCells = function initGridCells(width, height, pixelGroupSize) {\n  var scaleWidth = Math.ceil(width / pixelGroupSize);\n  var scaleHeight = Math.ceil(height / pixelGroupSize);\n  var gridCells = new Float32Array(Math.max(0, scaleWidth * scaleHeight)).fill(0);\n  return {\n    cells: gridCells,\n    width: scaleWidth,\n    height: scaleHeight\n  };\n};\n/**\n * Find the optimal already visited member to item;\n   Optimal: minimize cost(j) = distance(i,j)  countObstacles(i,j)\n * @param item\n * @param visited\n */\n\n\nvar pickBestNeighbor = function pickBestNeighbor(item, visited, nonMembers) {\n  var closestNeighbour = null;\n  var minCost = Number.POSITIVE_INFINITY;\n  visited.forEach(function (neighbourItem) {\n    var itemP = {\n      x: item.getModel().x,\n      y: item.getModel().y\n    };\n    var neighbourItemP = {\n      x: neighbourItem.getModel().x,\n      y: neighbourItem.getModel().y\n    };\n    var dist = squareDist(itemP, neighbourItemP);\n    var directLine = new Line(itemP.x, itemP.y, neighbourItemP.x, neighbourItemP.y);\n    var numberObstacles = nonMembers.reduce(function (count, _item) {\n      if (fractionToLine(_item, directLine) > 0) {\n        return count + 1;\n      }\n\n      return count;\n    }, 0);\n\n    if (dist * Math.pow(numberObstacles + 1, 2) < minCost) {\n      closestNeighbour = neighbourItem;\n      minCost = dist * Math.pow(numberObstacles + 1, 2);\n    }\n  });\n  return closestNeighbour;\n};\n/**\n * itemitem\n * @param items\n * @param line\n */\n\n\nvar getIntersectItem = function getIntersectItem(items, line) {\n  var minDistance = Number.POSITIVE_INFINITY;\n  var closestItem = null;\n  items.forEach(function (item) {\n    var distance = fractionToLine(item, line); // find closest intersection\n\n    if (distance >= 0 && distance < minDistance) {\n      closestItem = item;\n      minDistance = distance;\n    }\n  });\n  return closestItem;\n};\n/**\n * Modify the directLine and Route virtual edges around obstacles\n */\n\n\nvar computeRoute = function computeRoute(directLine, nonMembers, maxRoutingIterations, morphBuffer) {\n  var checkedLines = [];\n  var linesToCheck = [];\n  linesToCheck.push(directLine);\n  var hasIntersection = true;\n  var iterations = 0;\n\n  var pointExists = function pointExists(point, lines) {\n    var flag = false;\n    lines.forEach(function (line) {\n      if (flag) return;\n\n      if (isPointsOverlap(point, {\n        x: line.x1,\n        y: line.y1\n      }) || isPointsOverlap(point, {\n        x: line.x2,\n        y: line.y2\n      })) {\n        flag = true;\n      }\n    });\n    return flag;\n  };\n\n  var isPointInNonMembers = function isPointInNonMembers(point, _nonMembers) {\n    for (var _i = 0, _nonMembers_1 = _nonMembers; _i < _nonMembers_1.length; _i++) {\n      var item = _nonMembers_1[_i];\n      var bbox = item.getBBox();\n      var itemContour = [[bbox.x, bbox.y], [bbox.x + bbox.width, bbox.y], [bbox.x, bbox.y + bbox.height], [bbox.x + bbox.width, bbox.y + bbox.height]];\n\n      if (isPointInPolygon(itemContour, point.x, point.y)) {\n        return true;\n      }\n    }\n\n    return false;\n  }; // outer loop end when no more intersections or out of iterations\n\n\n  while (hasIntersection && iterations < maxRoutingIterations) {\n    hasIntersection = false;\n\n    var _loop_1 = function _loop_1() {\n      var line = linesToCheck.pop();\n      var closestItem = getIntersectItem(nonMembers, line);\n\n      if (closestItem) {\n        var _a = itemIntersectByLine(closestItem, line),\n            intersections_1 = _a[0],\n            countIntersections = _a[1]; // if line passes through item\n\n\n        if (countIntersections === 2) {\n          var testReroute = function testReroute(isFirst) {\n            var tempMorphBuffer = morphBuffer;\n            var virtualNode = rerouteLine(closestItem, tempMorphBuffer, intersections_1, isFirst); // test the virtualNode already exists\n\n            var exist = pointExists(virtualNode, linesToCheck) || pointExists(virtualNode, checkedLines);\n            var pointInside = isPointInNonMembers(virtualNode, nonMembers);\n\n            while (!exist && pointInside && tempMorphBuffer >= 1) {\n              // try a smaller buffer\n              tempMorphBuffer /= 1.5;\n              virtualNode = rerouteLine(closestItem, tempMorphBuffer, intersections_1, isFirst);\n              exist = pointExists(virtualNode, linesToCheck) || pointExists(virtualNode, checkedLines);\n              pointInside = isPointInNonMembers(virtualNode, nonMembers);\n            } // routepointInside\n\n\n            if (virtualNode && !exist && (!isFirst || !pointInside)) {\n              // add 2 rerouted lines to check\n              linesToCheck.push(new Line(line.x1, line.y1, virtualNode.x, virtualNode.y));\n              linesToCheck.push(new Line(virtualNode.x, virtualNode.y, line.x2, line.y2));\n              hasIntersection = true;\n            }\n          };\n\n          testReroute(true);\n\n          if (!hasIntersection) {\n            // if we didn't find a valid point around the first corner, try the second\n            testReroute(false);\n          }\n        }\n      } // no intersection found, mark this line as completed\n\n\n      if (!hasIntersection) {\n        checkedLines.push(line);\n      }\n\n      iterations += 1;\n    }; // inner loop end when out of lines or found an intersection\n\n\n    while (!hasIntersection && linesToCheck.length) {\n      _loop_1();\n    }\n  } // \n\n\n  while (linesToCheck.length) {\n    checkedLines.push(linesToCheck.pop());\n  }\n\n  return checkedLines;\n};\n/**\n *  Connect item with visited members using direct line or virtual edges\n */\n\n\nfunction getRoute(item, nonMembers, visited, maxRoutingIterations, morphBuffer) {\n  var optimalNeighbor = pickBestNeighbor(item, visited, nonMembers);\n\n  if (optimalNeighbor === null) {\n    return [];\n  } //  merge the consecutive lines\n\n\n  var mergeLines = function mergeLines(checkedLines) {\n    var finalRoute = [];\n\n    while (checkedLines.length > 0) {\n      var line1 = checkedLines.pop();\n\n      if (checkedLines.length === 0) {\n        finalRoute.push(line1);\n        break;\n      }\n\n      var line2 = checkedLines.pop();\n      var mergeLine = new Line(line1.x1, line1.y1, line2.x2, line2.y2);\n      var closestItem = getIntersectItem(nonMembers, mergeLine); // merge most recent line and previous line\n\n      if (!closestItem) {\n        checkedLines.push(mergeLine);\n      } else {\n        finalRoute.push(line1);\n        checkedLines.push(line2);\n      }\n    }\n\n    return finalRoute;\n  };\n\n  var directLine = new Line(item.getModel().x, item.getModel().y, optimalNeighbor.getModel().x, optimalNeighbor.getModel().y);\n  var checkedLines = computeRoute(directLine, nonMembers, maxRoutingIterations, morphBuffer);\n  var finalRoute = mergeLines(checkedLines);\n  return finalRoute;\n}\n/**\n * Calculate the countor that includes the  selected items and exclues the non-selected items\n * @param graph\n * @param members\n * @param nonMembers\n * @param options\n */\n\n\nexport var genBubbleSet = function genBubbleSet(members, nonMembers, ops) {\n  // eslint-disable-next-line no-redeclare\n  var options = Object.assign(defaultOps, ops);\n  var centroid = getPointsCenter(members.map(function (item) {\n    return {\n      x: item.getModel().x,\n      y: item.getModel().y\n    };\n  })); // \n\n  members = members.sort(function (a, b) {\n    return squareDist({\n      x: a.getModel().x,\n      y: a.getModel().y\n    }, centroid) - squareDist({\n      x: b.getModel().x,\n      y: b.getModel().y\n    }, centroid);\n  });\n  var visited = [];\n  var virtualEdges = [];\n  members.forEach(function (item) {\n    var lines = getRoute(item, nonMembers, visited, options.maxRoutingIterations, options.morphBuffer);\n    lines.forEach(function (l) {\n      virtualEdges.push(l);\n    });\n    visited.push(item);\n  }); // edgemembernonMemberedgesgenBubbleSet\n  // edges && edges.forEach(e => {\n  //   virtualEdges.push(new Line(e.getSource().getModel().x, e.getSource().getModel().y, e.getTarget().getModel().x, e.getTarget().getModel().y));\n  // });\n\n  var activeRegion = getActiveRregion(members, virtualEdges, options.nodeR0);\n  var potentialArea = initGridCells(activeRegion.width, activeRegion.height, options.pixelGroupSize); // Use march squares to generate contour\n\n  var contour = [];\n  var hull = [];\n\n  for (var iterations = 0; iterations < options.maxMarchingIterations; iterations++) {\n    fillPotentialArea(members, nonMembers, virtualEdges, activeRegion, potentialArea, options);\n    contour = [];\n    hull = [];\n    if (!new MarchingSquares(contour, potentialArea, options.threshold).march()) continue;\n    var marchedPath = contour.map(function (point) {\n      return {\n        x: Math.round(point.x * options.pixelGroupSize + activeRegion.minX),\n        y: Math.round(point.y * options.pixelGroupSize + activeRegion.minY)\n      };\n    }); // const marchedPath = marchingSquares(potentialArea, options.threshold).map(point => ({ x: Math.round(point.x * options.pixelGroupSize + activeRegion.minX), y: Math.round(point.y * options.pixelGroupSize + activeRegion.minY) }))\n\n    if (marchedPath) {\n      var size = marchedPath.length;\n\n      if (options.skip > 1) {\n        size = Math.floor(marchedPath.length / options.skip); // if we reduced too much (fewer than three points in reduced surface) reduce skip and try again\n\n        while (size < 3 && options.skip > 1) {\n          options.skip -= 1;\n          size = Math.floor(marchedPath.length / options.skip);\n        }\n      } // copy hull values\n\n\n      for (var i = 0, j = 0; j < size; j += 1, i += options.skip) {\n        hull.push({\n          x: marchedPath[i].x,\n          y: marchedPath[i].y\n        });\n      }\n    }\n\n    var isContourValid = function isContourValid() {\n      for (var _i = 0, members_1 = members; _i < members_1.length; _i++) {\n        var item = members_1[_i];\n        var hullPoints = hull.map(function (point) {\n          return [point.x, point.y];\n        });\n        if (!isPointInPolygon(hullPoints, item.getBBox().centerX, item.getBBox().centerY)) return false;\n      } // nonMembers\n      // for (const item of nonMembers) {\n      //   if (isPointInPolygon({ x: item.getBBox().centerX, y: item.getBBox().centerY }, contour)) return false\n      // }\n\n\n      return true;\n    };\n\n    if (hull && isContourValid()) {\n      return hull;\n    } // update parameters for next iteraction\n\n\n    options.threshold *= 0.9;\n\n    if (iterations <= options.maxMarchingIterations * 0.5) {\n      options.memberInfluenceFactor *= 1.2;\n      options.edgeInfluenceFactor *= 1.2;\n    } else if (options.nonMemberInfluenceFactor !== 0 && nonMembers.length > 0) {\n      // after half the iterations, start increasing positive energy and lowering the threshold\n      options.nonMemberInfluenceFactor *= 0.8;\n    } else {\n      break;\n    }\n  }\n\n  return hull;\n};\n/**\n * unionboundingbox\n * @param members\n * @param edges\n */\n\nfunction getActiveRregion(members, edges, offset) {\n  var activeRegion = {\n    minX: Number.POSITIVE_INFINITY,\n    minY: Number.POSITIVE_INFINITY,\n    maxX: Number.NEGATIVE_INFINITY,\n    maxY: Number.NEGATIVE_INFINITY,\n    width: 0,\n    height: 0,\n    x: 0,\n    y: 0\n  };\n  var bboxes = [];\n  members.forEach(function (item) {\n    bboxes.push(item.getBBox());\n  });\n  edges.forEach(function (l) {\n    bboxes.push(l.getBBox());\n  });\n\n  for (var _i = 0, bboxes_1 = bboxes; _i < bboxes_1.length; _i++) {\n    var bbox = bboxes_1[_i];\n    activeRegion.minX = (bbox.minX < activeRegion.minX ? bbox.minX : activeRegion.minX) - offset;\n    activeRegion.minY = (bbox.minY < activeRegion.minY ? bbox.minY : activeRegion.minY) - offset;\n    activeRegion.maxX = (bbox.maxX > activeRegion.maxX ? bbox.maxX : activeRegion.maxX) + offset;\n    activeRegion.maxY = (bbox.maxY > activeRegion.maxY ? bbox.maxY : activeRegion.maxY) + offset;\n  }\n\n  activeRegion.width = activeRegion.maxX - activeRegion.minX;\n  activeRegion.height = activeRegion.maxY - activeRegion.minY;\n  activeRegion.x = activeRegion.minX;\n  activeRegion.y = activeRegion.minY;\n  return activeRegion;\n}\n\nfunction fillPotentialArea(members, nonMembers, edges, activeRegion, potentialArea, options) {\n  function pos2GridIx(x, offset) {\n    var gridIx = Math.floor((x - offset) / options.pixelGroupSize);\n    return gridIx < 0 ? 0 : gridIx;\n  }\n\n  function gridIx2Pos(x, offset) {\n    return x * options.pixelGroupSize + offset;\n  } // using inverse a for numerical stability\n\n\n  var nodeInfA = (options.nodeR0 - options.nodeR1) * (options.nodeR0 - options.nodeR1);\n  var edgeInfA = (options.edgeR0 - options.edgeR1) * (options.edgeR0 - options.edgeR1);\n\n  var getAffectedRegion = function getAffectedRegion(bbox, thresholdR) {\n    var startX = Math.min(pos2GridIx(bbox.minX, thresholdR + activeRegion.minX), potentialArea.width);\n    var startY = Math.min(pos2GridIx(bbox.minY, thresholdR + activeRegion.minY), potentialArea.height);\n    var endX = Math.min(pos2GridIx(bbox.maxX, -thresholdR + activeRegion.minX), potentialArea.width);\n    var endY = Math.min(pos2GridIx(bbox.maxY, -thresholdR + activeRegion.minY), potentialArea.height);\n    return [startX, startY, endX, endY];\n  };\n\n  var addItemInfluence = function addItemInfluence(item, influenceFactor) {\n    var bbox = item.getBBox();\n\n    var _a = getAffectedRegion(bbox, options.nodeR1),\n        startX = _a[0],\n        startY = _a[1],\n        endX = _a[2],\n        endY = _a[3]; // calculate item influence for each cell\n\n\n    for (var y = startY; y < endY; y += 1) {\n      for (var x = startX; x < endX; x += 1) {\n        if (influenceFactor < 0 && potentialArea[x + y * potentialArea.width] <= 0) {\n          continue;\n        }\n\n        var tempX = gridIx2Pos(x, activeRegion.minX);\n        var tempY = gridIx2Pos(y, activeRegion.minY);\n        var distanceSq = pointRectSquareDist({\n          x: tempX,\n          y: tempY\n        }, {\n          x: bbox.minX,\n          y: bbox.minY,\n          width: bbox.width,\n          height: bbox.height\n        });\n\n        if (distanceSq < Math.pow(options.nodeR1, 2)) {\n          var dr = Math.sqrt(distanceSq) - options.nodeR1;\n          potentialArea.cells[x + y * potentialArea.width] += influenceFactor * dr * dr;\n        }\n      }\n    }\n  };\n\n  var addEdgeInfluence = function addEdgeInfluence(line, influenceFactor) {\n    var bbox = line.getBBox();\n\n    var _a = getAffectedRegion(bbox, options.edgeR1),\n        startX = _a[0],\n        startY = _a[1],\n        endX = _a[2],\n        endY = _a[3]; // for every point in active part of potentialArea, calculate distance to nearest point on line and add influence\n\n\n    for (var y = startY; y < endY; y += 1) {\n      for (var x = startX; x < endX; x += 1) {\n        if (influenceFactor < 0 && potentialArea.cells[x + y * potentialArea.width] <= 0) {\n          continue;\n        }\n\n        var tempX = gridIx2Pos(x, activeRegion.minX);\n        var tempY = gridIx2Pos(y, activeRegion.minY);\n        var minDistanceSq = pointLineSquareDist({\n          x: tempX,\n          y: tempY\n        }, line); // only influence if less than r1\n\n        if (minDistanceSq < Math.pow(options.edgeR1, 2)) {\n          var mdr = Math.sqrt(minDistanceSq) - options.edgeR1;\n          potentialArea.cells[x + y * potentialArea.width] += influenceFactor * mdr * mdr;\n        }\n      }\n    }\n  };\n\n  if (options.nodeInfluenceFactor) {\n    members.forEach(function (item) {\n      addItemInfluence(item, options.nodeInfluenceFactor / nodeInfA);\n    });\n  }\n\n  if (options.edgeInfluenceFactor) {\n    edges.forEach(function (edge) {\n      addEdgeInfluence(edge, options.edgeInfluenceFactor / edgeInfA);\n    });\n  }\n\n  if (options.negativeNodeInfluenceFactor) {\n    nonMembers.forEach(function (item) {\n      addItemInfluence(item, options.negativeNodeInfluenceFactor / nodeInfA);\n    });\n  }\n}\n\nfunction rerouteLine(item, buffer, intersections, wrapNormal) {\n  var bbox = item.getBBox();\n  var topIntersect = intersections[0],\n      leftIntersect = intersections[1],\n      bottomIntersect = intersections[2],\n      rightIntersect = intersections[3];\n  var cornerPos = {\n    topLeft: {\n      x: bbox.minX - buffer,\n      y: bbox.minY - buffer\n    },\n    topRight: {\n      x: bbox.maxX + buffer,\n      y: bbox.minY - buffer\n    },\n    bottomLeft: {\n      x: bbox.minX - buffer,\n      y: bbox.maxY + buffer\n    },\n    bottomRight: {\n      x: bbox.maxX + buffer,\n      y: bbox.maxY + buffer\n    }\n  };\n  var totalArea = bbox.height * bbox.width;\n\n  function calcHalfArea(intersect1, intersect2) {\n    return bbox.width * ((intersect1.y - bbox.minY + (intersect2.y - bbox.minY)) * 0.5);\n  } // boundingboxcontrol point\n\n\n  if (leftIntersect) {\n    // \n    if (topIntersect) return wrapNormal ? cornerPos.topLeft : cornerPos.bottomRight;\n    if (bottomIntersect) return wrapNormal ? cornerPos.bottomLeft : cornerPos.topRight; // \n\n    var topArea = calcHalfArea(leftIntersect, rightIntersect);\n\n    if (topArea < totalArea * 0.5) {\n      if (leftIntersect.y > rightIntersect.y) return wrapNormal ? cornerPos.topLeft : cornerPos.bottomRight;\n      return wrapNormal ? cornerPos.topRight : cornerPos.bottomLeft;\n    }\n\n    if (leftIntersect.y < rightIntersect.y) return wrapNormal ? cornerPos.bottomLeft : cornerPos.topRight;\n    return wrapNormal ? cornerPos.bottomRight : cornerPos.topLeft;\n  }\n\n  if (rightIntersect) {\n    if (topIntersect) return wrapNormal ? cornerPos.topRight : cornerPos.bottomLeft;\n    if (bottomIntersect) return wrapNormal ? cornerPos.bottomRight : cornerPos.topLeft;\n  } // \n\n\n  var leftArea = calcHalfArea(topIntersect, bottomIntersect);\n\n  if (leftArea < totalArea * 0.5) {\n    if (topIntersect.x > bottomIntersect.x) return wrapNormal ? cornerPos.topLeft : cornerPos.bottomRight;\n    return wrapNormal ? cornerPos.bottomLeft : cornerPos.topRight;\n  }\n\n  if (topIntersect.x < bottomIntersect.x) return wrapNormal ? cornerPos.topRight : cornerPos.bottomLeft;\n  return wrapNormal ? cornerPos.bottomRight : cornerPos.topLeft;\n}","import { __assign } from \"tslib\";\nimport { deepMix, isString } from '@antv/util';\nimport { parsePathString } from '@antv/path-util';\nimport { pathToPoints, getClosedSpline, roundedHull, paddedHull } from '../util/path';\nimport { isPolygonsIntersect } from '../util/math';\nimport { genConvexHull } from '../element/hull/convexHull';\nimport { genBubbleSet } from '../element/hull/bubbleset';\n/**\n * \n * convex hull()http://geomalgorithms.com/a10-_hull-1.html#Monotone%20Chain\n * bubble:  bubblesetrefer: http://vialab.science.uoit.ca/wp-content/papercite-data/pdf/col2009c.pdf\n *  padding \n */\n\nvar Hull =\n/** @class */\nfunction () {\n  function Hull(graph, cfg) {\n    this.cfg = deepMix(this.getDefaultCfg(), cfg);\n    this.graph = graph;\n    this.id = this.cfg.id;\n    this.group = this.cfg.group;\n    this.members = this.cfg.members.map(function (item) {\n      return isString(item) ? graph.findById(item) : item;\n    });\n    this.nonMembers = this.cfg.nonMembers.map(function (item) {\n      return isString(item) ? graph.findById(item) : item;\n    });\n    this.setPadding();\n    this.setType();\n    this.path = this.calcPath(this.members, this.nonMembers);\n    this.render();\n  }\n\n  Hull.prototype.getDefaultCfg = function () {\n    return {\n      id: 'g6-hull',\n      type: 'round-convex',\n      members: [],\n      nonMembers: [],\n      style: {\n        fill: 'lightblue',\n        stroke: 'blue',\n        opacity: 0.2\n      },\n      padding: 10\n    };\n  };\n\n  Hull.prototype.setPadding = function () {\n    var nodeSize = this.members.length && this.members[0].getKeyShape().getCanvasBBox().width / 2;\n    this.padding = this.cfg.padding > 0 ? this.cfg.padding + nodeSize : 10 + nodeSize;\n    this.cfg.bubbleCfg = {\n      nodeR0: this.padding - nodeSize,\n      nodeR1: this.padding - nodeSize,\n      morphBuffer: this.padding - nodeSize\n    };\n  };\n\n  Hull.prototype.setType = function () {\n    this.type = this.cfg.type;\n\n    if (this.members.length < 3) {\n      this.type = 'round-convex';\n    }\n\n    if (this.type !== 'round-convex' && this.type !== 'smooth-convex' && this.type !== 'bubble') {\n      console.warn('The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default.');\n      this.type = 'round-convex';\n    }\n  };\n\n  Hull.prototype.calcPath = function (members, nonMembers) {\n    var contour, path, hull;\n\n    switch (this.type) {\n      case 'round-convex':\n        contour = genConvexHull(members);\n        hull = roundedHull(contour.map(function (p) {\n          return [p.x, p.y];\n        }), this.padding);\n        path = parsePathString(hull);\n        break;\n\n      case 'smooth-convex':\n        contour = genConvexHull(members);\n\n        if (contour.length === 2) {\n          hull = roundedHull(contour.map(function (p) {\n            return [p.x, p.y];\n          }), this.padding);\n          path = parsePathString(hull);\n        } else if (contour.length > 2) {\n          hull = paddedHull(contour.map(function (p) {\n            return [p.x, p.y];\n          }), this.padding);\n          path = getClosedSpline(hull);\n        }\n\n        break;\n\n      case 'bubble':\n        contour = genBubbleSet(members, nonMembers, this.cfg.bubbleCfg);\n        path = contour.length >= 2 && getClosedSpline(contour);\n        break;\n\n      default:\n    }\n\n    return path;\n  };\n\n  Hull.prototype.render = function () {\n    this.group.addShape('path', {\n      attrs: __assign({\n        path: this.path\n      }, this.cfg.style),\n      id: this.id,\n      name: this.cfg.id\n    });\n    this.group.toBack();\n  };\n  /**\n   * hullnonMembersnonMembers\n   * @param item \n   * @return boolean  true false\n   */\n\n\n  Hull.prototype.addMember = function (item) {\n    if (!item) return;\n    if (isString(item)) item = this.graph.findById(item);\n    this.members.push(item);\n    var index = this.nonMembers.indexOf(item);\n\n    if (index > -1) {\n      this.nonMembers.splice(index, 1);\n    }\n\n    this.updateData(this.members, this.nonMembers);\n    return true;\n  };\n  /**\n   * hullmembersmembers\n   * @param item \n   * @return boolean  true false\n   */\n\n\n  Hull.prototype.addNonMember = function (item) {\n    if (!item) return;\n    if (isString(item)) item = this.graph.findById(item);\n    this.nonMembers.push(item);\n    var index = this.members.indexOf(item);\n\n    if (index > -1) {\n      this.members.splice(index, 1);\n    }\n\n    this.updateData(this.members, this.nonMembers);\n    return true;\n  };\n  /**\n   * hull\n   * @param node \n   * @return boolean  true false\n   */\n\n\n  Hull.prototype.removeMember = function (item) {\n    if (!item) return;\n    if (isString(item)) item = this.graph.findById(item);\n    var index = this.members.indexOf(item);\n\n    if (index > -1) {\n      this.members.splice(index, 1);\n      this.updateData(this.members, this.nonMembers);\n      return true;\n    }\n\n    return false;\n  };\n  /**\n   * @param node \n   * @return boolean  true false\n   */\n\n\n  Hull.prototype.removeNonMember = function (item) {\n    if (!item) return;\n    if (isString(item)) item = this.graph.findById(item);\n    var index = this.nonMembers.indexOf(item);\n\n    if (index > -1) {\n      this.nonMembers.splice(index, 1);\n      this.updateData(this.members, this.nonMembers);\n      return true;\n    }\n\n    return false;\n  };\n\n  Hull.prototype.updateData = function (members, nonMembers) {\n    var _this = this;\n\n    this.group.findById(this.id).remove();\n    if (members) this.members = members.map(function (item) {\n      return isString(item) ? _this.graph.findById(item) : item;\n    });\n    if (nonMembers) this.nonMembers = nonMembers.map(function (item) {\n      return isString(item) ? _this.graph.findById(item) : item;\n    });\n    this.path = this.calcPath(this.members, this.nonMembers);\n    this.render();\n  };\n\n  Hull.prototype.updateStyle = function (cfg) {\n    var path = this.group.findById(this.id);\n    path.attr(__assign({}, cfg));\n  };\n  /**\n   *  hull\n   * @param cfg hull \n   */\n\n\n  Hull.prototype.updateCfg = function (cfg) {\n    var _this = this;\n\n    this.cfg = deepMix(this.cfg, cfg);\n    this.id = this.cfg.id;\n    this.group = this.cfg.group;\n\n    if (cfg.members) {\n      this.members = this.cfg.members.map(function (item) {\n        return isString(item) ? _this.graph.findById(item) : item;\n      });\n    }\n\n    if (cfg.nonMembers) {\n      this.nonMembers = this.cfg.nonMembers.map(function (item) {\n        return isString(item) ? _this.graph.findById(item) : item;\n      });\n    } // TODO padding  contain \n\n\n    this.setPadding();\n    this.setType();\n    this.path = this.calcPath(this.members, this.nonMembers);\n    this.render();\n  };\n  /**\n   * hull\n   * @param item\n   */\n\n\n  Hull.prototype.contain = function (item) {\n    var _this = this;\n\n    var nodeItem;\n\n    if (isString(item)) {\n      nodeItem = this.graph.findById(item);\n    } else {\n      nodeItem = item;\n    }\n\n    var shapePoints;\n    var shape = nodeItem.getKeyShape();\n\n    if (nodeItem.get('type') === 'path') {\n      shapePoints = pathToPoints(shape.attr('path'));\n    } else {\n      var shapeBBox = shape.getCanvasBBox();\n      shapePoints = [[shapeBBox.minX, shapeBBox.minY], [shapeBBox.maxX, shapeBBox.minY], [shapeBBox.maxX, shapeBBox.maxY], [shapeBBox.minX, shapeBBox.maxY]];\n    }\n\n    shapePoints = shapePoints.map(function (canvasPoint) {\n      var point = _this.graph.getPointByCanvas(canvasPoint[0], canvasPoint[1]);\n\n      return [point.x, point.y];\n    });\n    return isPolygonsIntersect(shapePoints, pathToPoints(this.path));\n  };\n\n  Hull.prototype.destroy = function () {\n    this.group.remove();\n    this.cfg = null;\n  };\n\n  return Hull;\n}();\n\nexport default Hull;","import { __assign, __extends, __spreadArray } from \"tslib\";\nimport EventEmitter from '@antv/event-emitter';\nimport { requestAnimationFrame, clearAnimationFrame } from '@antv/g-mobile/esm/util/time';\nimport { ext } from '@antv/matrix-util';\nimport { clone, deepMix, each, isPlainObject, isString } from '@antv/util';\nimport { getDegree, getAdjMatrix as getAdjacentMatrix, Stack, floydWarshall } from '@antv/algorithm';\nimport { move } from '../util/math';\nimport { dataValidation, singleDataValidation } from '../util/validation';\nimport Global from '../global';\nimport { ItemController, ModeController, StateController, ViewController } from './controller';\nimport { plainCombosToTrees, traverseTree, reconstructTree, traverseTreeUp } from '../util/graphic';\nimport Hull from '../item/hull';\nvar transform = ext.transform;\nvar NODE = 'node';\n\nvar AbstractGraph =\n/** @class */\nfunction (_super) {\n  __extends(AbstractGraph, _super);\n\n  function AbstractGraph(cfg) {\n    var _this = _super.call(this) || this;\n\n    _this.cfg = deepMix(_this.getDefaultCfg(), cfg);\n\n    _this.init();\n\n    _this.animating = false;\n    _this.destroyed = false; //  stack  undoStack  redoStack\n\n    if (_this.cfg.enabledStack) {\n      //  undo  redo \n      _this.undoStack = new Stack(_this.cfg.maxStep);\n      _this.redoStack = new Stack(_this.cfg.maxStep);\n    }\n\n    return _this;\n  }\n\n  AbstractGraph.prototype.init = function () {\n    this.initCanvas(); // instance controller\n\n    var viewController = new ViewController(this);\n    var modeController = new ModeController(this);\n    var itemController = new ItemController(this);\n    var stateController = new StateController(this);\n    this.set({\n      viewController: viewController,\n      modeController: modeController,\n      itemController: itemController,\n      stateController: stateController\n    }); // \n\n    this.initLayoutController(); // \n\n    this.initEventController();\n    this.initGroups();\n    /**  */\n\n    this.initPlugins();\n    this.timeIndex = requestAnimationFrame(this.onTick.bind(this));\n  }; //  Group\n\n\n  AbstractGraph.prototype.initGroups = function () {\n    var canvas = this.get('canvas');\n    var el = this.get('canvas').get('el');\n    var id = el.id;\n    var group = canvas.addGroup({\n      id: \"\".concat(id, \"-root\"),\n      className: Global.rootContainerClassName\n    });\n\n    if (this.get('groupByTypes')) {\n      var edgeGroup = group.addGroup({\n        id: \"\".concat(id, \"-edge\"),\n        className: Global.edgeContainerClassName\n      });\n      var nodeGroup = group.addGroup({\n        id: \"\".concat(id, \"-node\"),\n        className: Global.nodeContainerClassName\n      });\n      var comboGroup = group.addGroup({\n        id: \"\".concat(id, \"-combo\"),\n        className: Global.comboContainerClassName\n      }); // \n\n      comboGroup.toBack();\n      this.set({\n        nodeGroup: nodeGroup,\n        edgeGroup: edgeGroup,\n        comboGroup: comboGroup\n      });\n    }\n\n    var delegateGroup = group.addGroup({\n      id: \"\".concat(id, \"-delegate\"),\n      className: Global.delegateContainerClassName\n    });\n    this.set({\n      delegateGroup: delegateGroup\n    });\n    this.set('group', group);\n  }; // eslint-disable-next-line class-methods-use-this\n\n\n  AbstractGraph.prototype.getDefaultCfg = function () {\n    return {\n      /**\n       * Container could be dom object or dom id\n       */\n      container: undefined,\n\n      /**\n       * Canvas width\n       * unit pixel if undefined force fit width\n       */\n      width: undefined,\n\n      /**\n       * Canvas height\n       * unit pixel if undefined force fit height\n       */\n      height: undefined,\n\n      /**\n       * renderer canvas or svg\n       * @type {string}\n       */\n      renderer: 'canvas',\n\n      /**\n       * control graph behaviors\n       */\n      modes: {},\n\n      /**\n       * \n       */\n      plugins: [],\n\n      /**\n       * source data\n       */\n      data: {},\n\n      /**\n       * Fit view padding (client scale)\n       */\n      fitViewPadding: 10,\n\n      /**\n       * Minimum scale size\n       */\n      minZoom: 0.2,\n\n      /**\n       * Maxmum scale size\n       */\n      maxZoom: 10,\n\n      /**\n       *  capture events\n       */\n      event: true,\n\n      /**\n       * group node & edges into different graphic groups\n       */\n      groupByTypes: true,\n\n      /**\n       * determine if it's a directed graph\n       */\n      directed: false,\n\n      /**\n       * when data or shape changed, should canvas draw automatically\n       */\n      autoPaint: true,\n\n      /**\n       * store all the node instances\n       */\n      nodes: [],\n\n      /**\n       * store all the edge instances\n       */\n      edges: [],\n\n      /**\n       * store all the combo instances\n       */\n      combos: [],\n\n      /**\n       * store all the edge instances which are virtual edges related to collapsed combo\n       */\n      vedges: [],\n\n      /**\n       * all the instances indexed by id\n       */\n      itemMap: {},\n\n      /**\n       * \n       */\n      linkCenter: false,\n\n      /**\n       * data \n       * defaultNode: {\n       *  type: 'rect',\n       *  size: [60, 40],\n       *  style: {\n       *    //... \n       *  }\n       * }\n       *  { id: 'node', x: 100, y: 100 }\n       *  { id: 'node', x: 100, y: 100 type: 'rect', size: [60, 40] }\n       *  { id: 'node', x: 100, y: 100, type: 'circle' }\n       *  { id: 'node', x: 100, y: 100 type: 'circle', size: [60, 40] }\n       */\n      defaultNode: {},\n\n      /**\n       * data  defaultNode\n       */\n      defaultEdge: {},\n\n      /**\n       * \n       * \n       * const graph = new G6.Graph({\n       *  nodeStateStyles: {\n       *    selected: { fill: '#ccc', stroke: '#666' },\n       *    active: { lineWidth: 2 }\n       *  },\n       *  ...\n       * });\n       *\n       */\n      nodeStateStyles: {},\n\n      /**\n       * nodeStateStyle\n       */\n      edgeStateStyles: {},\n\n      /**\n       * graph \n       */\n      states: {},\n\n      /**\n       * \n       */\n      animate: false,\n\n      /**\n       * , animate  true \n       */\n      animateCfg: {\n        /**\n         * \n         */\n        onFrame: undefined,\n\n        /**\n         * (ms)\n         */\n        duration: 500,\n\n        /**\n         * \n         */\n        easing: 'easeLinear'\n      },\n      callback: undefined,\n      //  undo & redo \n      enabledStack: false,\n      //  enabledStack  true \n      maxStep: 10,\n      //  tooltip dom\n      tooltips: []\n    };\n  };\n  /**\n   *  this.cfg \n   * @param key   \n   * @param val \n   */\n\n\n  AbstractGraph.prototype.set = function (key, val) {\n    if (isPlainObject(key)) {\n      this.cfg = __assign(__assign({}, this.cfg), key);\n    } else {\n      this.cfg[key] = val;\n    }\n\n    return this;\n  };\n  /**\n   *  this.cfg \n   * @param key \n   */\n\n\n  AbstractGraph.prototype.get = function (key) {\n    return this.cfg[key];\n  };\n  /**\n   *  graph \n   * @return  group\n   */\n\n\n  AbstractGraph.prototype.getGroup = function () {\n    return this.get('group');\n  };\n  /**\n   *  graph  DOM \n   * @return DOM \n   */\n\n\n  AbstractGraph.prototype.getContainer = function () {\n    return this.get('container');\n  };\n  /**\n   *  graph \n   * @return minZoom\n   */\n\n\n  AbstractGraph.prototype.getMinZoom = function () {\n    return this.get('minZoom');\n  };\n  /**\n   *  graph \n   * @return minZoom\n   */\n\n\n  AbstractGraph.prototype.setMinZoom = function (ratio) {\n    return this.set('minZoom', ratio);\n  };\n  /**\n   *  graph \n   * @param maxZoom\n   */\n\n\n  AbstractGraph.prototype.getMaxZoom = function () {\n    return this.get('maxZoom');\n  };\n  /**\n   *  graph \n   * @param maxZoom\n   */\n\n\n  AbstractGraph.prototype.setMaxZoom = function (ratio) {\n    return this.set('maxZoom', ratio);\n  };\n  /**\n   *  graph \n   * @return width\n   */\n\n\n  AbstractGraph.prototype.getWidth = function () {\n    return this.get('width');\n  };\n  /**\n   *  graph \n   * @return width\n   */\n\n\n  AbstractGraph.prototype.getHeight = function () {\n    return this.get('height');\n  };\n  /**\n   * \n   * @param {string|Item} item id\n   * @param {string[]} states \n   */\n\n\n  AbstractGraph.prototype.clearItemStates = function (item, states) {\n    if (isString(item)) {\n      item = this.findById(item);\n    }\n\n    var itemController = this.get('itemController');\n\n    if (!states) {\n      states = item.get('states');\n    }\n\n    itemController.clearItemStates(item, states);\n    var stateController = this.get('stateController');\n    stateController.updateStates(item, states, false);\n  };\n  /**\n   *  keyShape \n   * \n   * graph.node(node => {\n   *  return {\n   *    type: 'rect',\n   *    label: node.id,\n   *    style: { fill: '#666' },\n   *    stateStyles: {\n   *       selected: { fill: 'blue' },\n   *       custom: { fill: 'green' }\n   *     }\n   *   }\n   * });\n   * @param {function} nodeFn \n   */\n\n\n  AbstractGraph.prototype.node = function (nodeFn) {\n    if (typeof nodeFn === 'function') {\n      this.set('nodeMapper', nodeFn);\n    }\n  };\n  /**\n   * \n   * @param {function} edgeFn , node\n   */\n\n\n  AbstractGraph.prototype.edge = function (edgeFn) {\n    if (typeof edgeFn === 'function') {\n      this.set('edgeMapper', edgeFn);\n    }\n  };\n  /**\n   *  combo \n   * @param comboFn\n   */\n\n\n  AbstractGraph.prototype.combo = function (comboFn) {\n    if (typeof comboFn === 'function') {\n      this.set('comboMapper', comboFn);\n    }\n  };\n  /**\n   *  ID \n   * @param id  ID\n   */\n\n\n  AbstractGraph.prototype.findById = function (id) {\n    return this.get('itemMap')[id];\n  };\n  /**\n   * \n   * @param {ITEM_TYPE} type (node | edge | group)\n   * @param {(item: T, index: number) => T} fn \n   * @return {T} \n   */\n\n\n  AbstractGraph.prototype.find = function (type, fn) {\n    var result;\n    var items = this.get(\"\".concat(type, \"s\")); // eslint-disable-next-line consistent-return\n\n    each(items, function (item, i) {\n      if (fn(item, i)) {\n        result = item;\n        return result;\n      }\n    });\n    return result;\n  };\n  /**\n   * \n   * @param {string} type (node|edge)\n   * @param {string} fn \n   * @return {array} \n   */\n\n\n  AbstractGraph.prototype.findAll = function (type, fn) {\n    var result = [];\n    each(this.get(\"\".concat(type, \"s\")), function (item, i) {\n      if (fn(item, i)) {\n        result.push(item);\n      }\n    });\n    return result;\n  };\n  /**\n   * \n   * @param {string} type (node|edge)\n   * @param {string} state \n   * @return {object} \n   */\n\n\n  AbstractGraph.prototype.findAllByState = function (type, state) {\n    return this.findAll(type, function (item) {\n      return item.hasState(state);\n    });\n  };\n  /**\n   * \n   * @param dx \n   * @param dy \n   */\n\n\n  AbstractGraph.prototype.translate = function (dx, dy) {\n    var group = this.get('group');\n    var matrix = clone(group.getMatrix());\n\n    if (!matrix) {\n      matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    }\n\n    matrix = transform(matrix, [['t', dx, dy]]);\n    group.setMatrix(matrix);\n    this.emit('viewportchange', {\n      action: 'translate',\n      matrix: group.getMatrix()\n    });\n    this.autoPaint();\n  };\n  /**\n   * \n   * @param {number} x \n   * @param {number} y \n   */\n\n\n  AbstractGraph.prototype.moveTo = function (x, y) {\n    var group = this.get('group');\n    move(group, {\n      x: x,\n      y: y\n    });\n    this.emit('viewportchange', {\n      action: 'move',\n      matrix: group.getMatrix()\n    });\n  };\n  /**\n   * \n   * @param {object} padding \n   */\n\n\n  AbstractGraph.prototype.fitView = function (padding) {\n    if (padding) {\n      this.set('fitViewPadding', padding);\n    }\n\n    var viewController = this.get('viewController');\n    viewController.fitView();\n    this.autoPaint();\n  };\n  /**\n   *  bbox \n   */\n\n\n  AbstractGraph.prototype.fitCenter = function () {\n    var viewController = this.get('viewController');\n    viewController.fitCenter();\n    this.autoPaint();\n  };\n  /**\n   * \n   * @param {string | ModeOption | ModeType[]} behaviors \n   * @param {string | string[]} modes \n   * @return {Graph} Graph\n   */\n\n\n  AbstractGraph.prototype.addBehaviors = function (behaviors, modes) {\n    var modeController = this.get('modeController');\n    modeController.manipulateBehaviors(behaviors, modes, true);\n    return this;\n  };\n  /**\n   * \n   * @param {string | ModeOption | ModeType[]} behaviors \n   * @param {string | string[]} modes \n   * @return {Graph} Graph\n   */\n\n\n  AbstractGraph.prototype.removeBehaviors = function (behaviors, modes) {\n    var modeController = this.get('modeController');\n    modeController.manipulateBehaviors(behaviors, modes, false);\n    return this;\n  };\n  /**\n   * \n   * @param {string | ModeOption | ModeType} behavior \n   * @param {string | string[]} modes  default\n   * @return {Graph} Graph\n   */\n\n\n  AbstractGraph.prototype.updateBehavior = function (behavior, newCfg, mode) {\n    var modeController = this.get('modeController');\n    modeController.updateBehavior(behavior, newCfg, mode);\n    return this;\n  };\n  /**\n   * \n   * @param ratio \n   * @param center centerx, y\n   */\n\n\n  AbstractGraph.prototype.zoom = function (ratio, center) {\n    var group = this.get('group');\n    var matrix = clone(group.getMatrix());\n    var minZoom = this.get('minZoom');\n    var maxZoom = this.get('maxZoom');\n\n    if (!matrix) {\n      matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    }\n\n    if (center) {\n      matrix = transform(matrix, [['t', -center.x, -center.y], ['s', ratio, ratio], ['t', center.x, center.y]]);\n    } else {\n      matrix = transform(matrix, [['s', ratio, ratio]]);\n    }\n\n    if (minZoom && matrix[0] < minZoom || maxZoom && matrix[0] > maxZoom) {\n      return;\n    } // matrix = [2, 0, 0, 0, 2, 0, -125, -125, 1];\n\n\n    group.setMatrix(matrix);\n    this.emit('viewportchange', {\n      action: 'zoom',\n      matrix: matrix\n    });\n    this.autoPaint();\n  };\n  /**\n   * \n   * @param {number} toRatio \n   * @param {Point} center centerx, y\n   */\n\n\n  AbstractGraph.prototype.zoomTo = function (toRatio, center) {\n    var ratio = toRatio / this.getZoom();\n    this.zoom(ratio, center);\n  };\n  /**\n   * \n   * @param {Item} item \n   * @param {boolean} animate \n   * @param {GraphAnimateConfig} animateCfg \n   */\n\n\n  AbstractGraph.prototype.focusItem = function (item, animate, animateCfg) {\n    var viewController = this.get('viewController');\n    var isAnimate = false;\n    if (animate) isAnimate = true;else if (animate === undefined) isAnimate = this.get('animate');\n    var curAniamteCfg = {};\n    if (animateCfg) curAniamteCfg = animateCfg;else if (animateCfg === undefined) curAniamteCfg = this.get('animateCfg');\n    viewController.focus(item, isAnimate, curAniamteCfg);\n    this.autoPaint();\n  };\n  /**\n   * \n   * @internal  render  paint \n   */\n\n\n  AbstractGraph.prototype.autoPaint = function () {\n    if (this.get('autoPaint')) {\n      this.paint();\n    }\n  };\n  /**\n   * \n   */\n\n\n  AbstractGraph.prototype.paint = function () {\n    this.emit('beforepaint');\n    this.get('canvas').draw();\n    this.emit('afterpaint');\n  };\n  /**\n   * \n   * @param {number} clientX x\n   * @param {number} clientY y\n   * @return {Point} \n   */\n\n\n  AbstractGraph.prototype.getPointByClient = function (clientX, clientY) {\n    var viewController = this.get('viewController');\n    return viewController.getPointByClient(clientX, clientY);\n  };\n  /**\n   * \n   * @param {number} x  x\n   * @param {number} y  y\n   * @return {Point} \n   */\n\n\n  AbstractGraph.prototype.getClientByPoint = function (x, y) {\n    var viewController = this.get('viewController');\n    return viewController.getClientByPoint(x, y);\n  };\n  /**\n   * \n   * @param {number} canvasX  x \n   * @param {number} canvasY  y \n   * @return {object} \n   */\n\n\n  AbstractGraph.prototype.getPointByCanvas = function (canvasX, canvasY) {\n    var viewController = this.get('viewController');\n    return viewController.getPointByCanvas(canvasX, canvasY);\n  };\n  /**\n   * \n   * @param {number} x  x\n   * @param {number} y  y\n   * @return {object} \n   */\n\n\n  AbstractGraph.prototype.getCanvasByPoint = function (x, y) {\n    var viewController = this.get('viewController');\n    return viewController.getCanvasByPoint(x, y);\n  };\n  /**\n   * \n   * @return {object} \n   */\n\n\n  AbstractGraph.prototype.getGraphCenterPoint = function () {\n    var bbox = this.get('group').getCanvasBBox();\n    return {\n      x: (bbox.minX + bbox.maxX) / 2,\n      y: (bbox.minY + bbox.maxY) / 2\n    };\n  };\n  /**\n   * \n   * @return {object} \n   */\n\n\n  AbstractGraph.prototype.getViewPortCenterPoint = function () {\n    return this.getPointByCanvas(this.get('width') / 2, this.get('height') / 2);\n  };\n  /**\n   * \n   * @param {Item} item \n   * @param {boolean} stack  true\n   */\n\n\n  AbstractGraph.prototype.showItem = function (item, stack) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    var itemController = this.get('itemController');\n    var object = itemController.changeItemVisibility(item, true);\n\n    if (stack && this.get('enabledStack')) {\n      var id = object.getID();\n      var type = object.getType();\n      var before = {};\n      var after = {};\n\n      switch (type) {\n        case 'node':\n          before.nodes = [{\n            id: id,\n            visible: false\n          }];\n          after.nodes = [{\n            id: id,\n            visible: true\n          }];\n          break;\n\n        case 'edge':\n          before.nodes = [{\n            id: id,\n            visible: false\n          }];\n          after.edges = [{\n            id: id,\n            visible: true\n          }];\n          break;\n\n        case 'combo':\n          before.nodes = [{\n            id: id,\n            visible: false\n          }];\n          after.combos = [{\n            id: id,\n            visible: true\n          }];\n          break;\n\n        default:\n          break;\n      }\n\n      this.pushStack('visible', {\n        before: before,\n        after: after\n      });\n    }\n  };\n  /**\n   * \n   * @param {Item} item \n   * @param {boolean} stack  true\n   */\n\n\n  AbstractGraph.prototype.hideItem = function (item, stack) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    var itemController = this.get('itemController');\n    var object = itemController.changeItemVisibility(item, false);\n\n    if (stack && this.get('enabledStack')) {\n      var id = object.getID();\n      var type = object.getType();\n      var before = {};\n      var after = {};\n\n      switch (type) {\n        case 'node':\n          before.nodes = [{\n            id: id,\n            visible: true\n          }];\n          after.nodes = [{\n            id: id,\n            visible: false\n          }];\n          break;\n\n        case 'edge':\n          before.nodes = [{\n            id: id,\n            visible: true\n          }];\n          after.edges = [{\n            id: id,\n            visible: false\n          }];\n          break;\n\n        case 'combo':\n          before.nodes = [{\n            id: id,\n            visible: true\n          }];\n          after.combos = [{\n            id: id,\n            visible: false\n          }];\n          break;\n\n        default:\n          break;\n      }\n\n      this.pushStack('visible', {\n        before: before,\n        after: after\n      });\n    }\n  };\n  /**\n   * \n   * @param {string|object} item id\n   */\n\n\n  AbstractGraph.prototype.refreshItem = function (item) {\n    var itemController = this.get('itemController');\n    itemController.refreshItem(item);\n  };\n  /**\n   * /\n   * @param {boolean} auto \n   */\n\n\n  AbstractGraph.prototype.setAutoPaint = function (auto) {\n    var self = this;\n    self.set('autoPaint', auto);\n    var canvas = self.get('canvas');\n    canvas.set('autoDraw', auto);\n  };\n  /**\n   * \n   * @param {Item} item id\n   * @param {boolean} stack  true\n   */\n\n\n  AbstractGraph.prototype.remove = function (item, stack) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    this.removeItem(item, stack);\n  };\n  /**\n   * \n   * @param {Item} item id\n   * @param {boolean} stack  true\n   */\n\n\n  AbstractGraph.prototype.removeItem = function (item, stack) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    var nodeItem = item;\n    if (isString(item)) nodeItem = this.findById(item);\n\n    if (!nodeItem && isString(item)) {\n      console.warn('The item to be removed does not exist!');\n    } else if (nodeItem) {\n      var type = '';\n      if (nodeItem.getType) type = nodeItem.getType(); // \n\n      if (stack && this.get('enabledStack')) {\n        var deletedModel = __assign(__assign({}, nodeItem.getModel()), {\n          itemType: type\n        });\n\n        var before = {};\n\n        switch (type) {\n          case 'node':\n            {\n              before.nodes = [deletedModel];\n              before.edges = [];\n              var edges = nodeItem.getEdges();\n\n              for (var i = edges.length - 1; i >= 0; i--) {\n                before.edges.push(__assign(__assign({}, edges[i].getModel()), {\n                  itemType: 'edge'\n                }));\n              }\n\n              break;\n            }\n\n          case 'edge':\n            before.edges = [deletedModel];\n            break;\n\n          case 'combo':\n            before.combos = [deletedModel];\n            break;\n\n          default:\n            break;\n        }\n\n        this.pushStack('delete', {\n          before: before,\n          after: {}\n        });\n      }\n\n      if (type === 'node') {\n        var model = nodeItem.getModel(); //  Combo  node  combo  combo \n\n        if (model.comboId) {\n          this.updateComboTree(nodeItem);\n        }\n      }\n\n      var itemController = this.get('itemController');\n      itemController.removeItem(nodeItem);\n\n      if (type === 'combo') {\n        var newComboTrees = reconstructTree(this.get('comboTrees'));\n        this.set('comboTrees', newComboTrees);\n      }\n    }\n  };\n  /**\n   * \n   * @param {ITEM_TYPE} type (node | edge)\n   * @param {ModelConfig} model \n   * @param {boolean} stack  true\n   * @param {boolean} sortCombo  combo  addItem \n   * @return {Item} \n   */\n\n\n  AbstractGraph.prototype.addItem = function (type, model, stack, sortCombo) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    if (sortCombo === void 0) {\n      sortCombo = true;\n    }\n\n    var currentComboSorted = this.get('comboSorted');\n    this.set('comboSorted', currentComboSorted && !sortCombo);\n    var itemController = this.get('itemController'); // combo\n\n    if (!singleDataValidation(type, model)) {\n      return false;\n    }\n\n    if (model.id && this.findById(model.id)) {\n      console.warn(\"This item exists already. Be sure the id %c\".concat(model.id, \"%c is unique.\"), 'font-size: 20px; color: red;', '');\n      return;\n    }\n\n    var item;\n    var comboTrees = this.get('comboTrees');\n    if (!comboTrees) comboTrees = [];\n\n    if (type === 'combo') {\n      var itemMap_1 = this.get('itemMap');\n      var foundParent_1 = false;\n      comboTrees.forEach(function (ctree) {\n        if (foundParent_1) return; // terminate the forEach after the tree containing the item is done\n\n        traverseTreeUp(ctree, function (child) {\n          // find the parent\n          if (model.parentId === child.id) {\n            foundParent_1 = true;\n\n            var newCombo = __assign({\n              id: model.id,\n              depth: child.depth + 2\n            }, model);\n\n            if (child.children) child.children.push(newCombo);else child.children = [newCombo];\n            model.depth = newCombo.depth;\n            item = itemController.addItem(type, model);\n          }\n\n          var childItem = itemMap_1[child.id]; // after the parent is found, update all the ancestors\n\n          if (foundParent_1 && childItem && childItem.getType && childItem.getType() === 'combo') {\n            itemController.updateCombo(childItem, child.children);\n          }\n\n          return true;\n        });\n      }); // if the parent is not found, add it to the root\n\n      if (!foundParent_1) {\n        var newCombo = __assign({\n          id: model.id,\n          depth: 0\n        }, model);\n\n        model.depth = newCombo.depth;\n        comboTrees.push(newCombo);\n        item = itemController.addItem(type, model);\n      }\n\n      this.set('comboTrees', comboTrees);\n    } else if (type === 'node' && isString(model.comboId) && comboTrees) {\n      var parentCombo = this.findById(model.comboId);\n\n      if (parentCombo && parentCombo.getType && parentCombo.getType() !== 'combo') {\n        console.warn(\"'\".concat(model.comboId, \"' is not a id of a combo in the graph, the node will be added without combo.\"));\n      }\n\n      item = itemController.addItem(type, model);\n      var itemMap_2 = this.get('itemMap');\n      var foundParent_2 = false,\n          foundNode_1 = false;\n      (comboTrees || []).forEach(function (ctree) {\n        if (foundNode_1 || foundParent_2) return; // terminate the forEach\n\n        traverseTreeUp(ctree, function (child) {\n          if (child.id === model.id) {\n            // if the item exists in the tree already, terminate\n            foundNode_1 = true;\n            return false;\n          }\n\n          if (model.comboId === child.id && !foundNode_1) {\n            // found the parent, add the item to the children of its parent in the tree\n            foundParent_2 = true;\n            var cloneNode = clone(model);\n            cloneNode.itemType = 'node';\n            if (child.children) child.children.push(cloneNode);else child.children = [cloneNode];\n            cloneNode.depth = child.depth + 1;\n          } // update the size of all the ancestors\n\n\n          if (foundParent_2 && itemMap_2[child.id].getType && itemMap_2[child.id].getType() === 'combo') {\n            itemController.updateCombo(itemMap_2[child.id], child.children);\n          }\n\n          return true;\n        });\n      });\n    } else {\n      item = itemController.addItem(type, model);\n    }\n\n    if (type === 'node' && model.comboId || type === 'combo' && model.parentId) {\n      // add the combo to the parent's children array\n      var parentCombo = this.findById(model.comboId || model.parentId);\n      if (parentCombo && parentCombo.getType && parentCombo.getType() === 'combo') parentCombo.addChild(item);\n    }\n\n    var combos = this.get('combos');\n\n    if (combos && combos.length > 0) {\n      this.sortCombos();\n    }\n\n    this.autoPaint();\n\n    if (stack && this.get('enabledStack')) {\n      var addedModel = __assign(__assign({}, item.getModel()), {\n        itemType: type\n      });\n\n      var after = {};\n\n      switch (type) {\n        case 'node':\n          after.nodes = [addedModel];\n          break;\n\n        case 'edge':\n          after.edges = [addedModel];\n          break;\n\n        case 'combo':\n          after.combos = [addedModel];\n          break;\n\n        default:\n          break;\n      }\n\n      this.pushStack('add', {\n        before: {},\n        after: after\n      });\n    }\n\n    return item;\n  };\n  /**\n   * \n   * @param {ITEM_TYPE} type (node | edge)\n   * @param {ModelConfig} model \n   * @param {boolean} stack  true\n   * @return {Item} \n   */\n\n\n  AbstractGraph.prototype.add = function (type, model, stack, sortCombo) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    if (sortCombo === void 0) {\n      sortCombo = true;\n    }\n\n    return this.addItem(type, model, stack, sortCombo);\n  };\n  /**\n   * \n   * @param {Item} item id\n   * @param {Partial<NodeConfig> | EdgeConfig} cfg \n   */\n\n\n  AbstractGraph.prototype.updateItem = function (item, cfg, stack) {\n    var _this = this;\n\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    var itemController = this.get('itemController');\n    var currentItem;\n\n    if (isString(item)) {\n      currentItem = this.findById(item);\n    } else {\n      currentItem = item;\n    }\n\n    var UnupdateModel = clone(currentItem.getModel());\n    var type = '';\n    if (currentItem.getType) type = currentItem.getType();\n\n    var states = __spreadArray([], currentItem.getStates(), true);\n\n    if (type === 'combo') {\n      each(states, function (state) {\n        return _this.setItemState(currentItem, state, false);\n      });\n    }\n\n    itemController.updateItem(currentItem, cfg);\n\n    if (type === 'combo') {\n      each(states, function (state) {\n        return _this.setItemState(currentItem, state, true);\n      });\n    }\n\n    if (stack && this.get('enabledStack')) {\n      var before = {\n        nodes: [],\n        edges: [],\n        combos: []\n      };\n      var after = {\n        nodes: [],\n        edges: [],\n        combos: []\n      };\n\n      var afterModel = __assign({\n        id: UnupdateModel.id\n      }, cfg);\n\n      switch (type) {\n        case 'node':\n          before.nodes.push(UnupdateModel);\n          after.nodes.push(afterModel);\n          break;\n\n        case 'edge':\n          before.edges.push(UnupdateModel);\n          after.edges.push(afterModel);\n          break;\n\n        case 'combo':\n          before.combos.push(UnupdateModel);\n          after.combos.push(afterModel);\n          break;\n\n        default:\n          break;\n      }\n\n      if (type === 'node') {\n        before.nodes.push(UnupdateModel);\n      }\n\n      this.pushStack('update', {\n        before: before,\n        after: after\n      });\n    }\n  };\n  /**\n   * \n   * @param {Item} item id\n   * @param {Partial<NodeConfig> | EdgeConfig} cfg \n   * @param {boolean} stack  true\n   */\n\n\n  AbstractGraph.prototype.update = function (item, cfg, stack) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    this.updateItem(item, cfg, stack);\n  };\n  /**\n   * \n   * @param {Item} item id\n   * @param {string} state \n   * @param {string | boolean} value   \n   */\n\n\n  AbstractGraph.prototype.setItemState = function (item, state, value) {\n    if (isString(item)) {\n      item = this.findById(item);\n    }\n\n    var itemController = this.get('itemController');\n    itemController.setItemState(item, state, value);\n    var stateController = this.get('stateController');\n\n    if (isString(value)) {\n      stateController.updateState(item, \"\".concat(state, \":\").concat(value), true);\n    } else {\n      stateController.updateState(item, state, value);\n    }\n  };\n  /**\n   * \n   * @param {Item} item id\n   * @param state \n   */\n\n\n  AbstractGraph.prototype.priorityState = function (item, state) {\n    var itemController = this.get('itemController');\n    itemController.priorityState(item, state);\n  };\n  /**\n   * \n   * @param {GraphData} data \n   */\n\n\n  AbstractGraph.prototype.data = function (data) {\n    dataValidation(data);\n    this.set('data', data);\n  };\n  /**\n   * data\n   */\n\n\n  AbstractGraph.prototype.render = function () {\n    var self = this;\n    this.set('comboSorted', false);\n    var data = this.get('data');\n\n    if (this.get('enabledStack')) {\n      // render  redo  undo \n      this.clearStack();\n    }\n\n    if (!data) {\n      throw new Error('data must be defined first');\n    }\n\n    var _a = data.nodes,\n        nodes = _a === void 0 ? [] : _a,\n        _b = data.edges,\n        edges = _b === void 0 ? [] : _b,\n        _c = data.combos,\n        combos = _c === void 0 ? [] : _c;\n    this.clear(true);\n    this.emit('beforerender');\n    each(nodes, function (node) {\n      self.add('node', node, false, false);\n    }); // process the data to tree structure\n\n    if (combos && combos.length !== 0) {\n      var comboTrees = plainCombosToTrees(combos, nodes);\n      this.set('comboTrees', comboTrees); // add combos\n\n      self.addCombos(combos);\n    }\n\n    each(edges, function (edge) {\n      self.add('edge', edge, false, false);\n    });\n    var animate = self.get('animate');\n\n    if (self.get('fitView') || self.get('fitCenter')) {\n      self.set('animate', false);\n    } // layout\n\n\n    var layoutController = self.get('layoutController');\n\n    if (layoutController) {\n      layoutController.layout(success); // \n\n      this.refreshPositions();\n      if (this.destroyed) return;\n    } else {\n      if (self.get('fitView')) {\n        self.fitView();\n      }\n\n      if (self.get('fitCenter')) {\n        self.fitCenter();\n      }\n\n      self.emit('afterrender');\n      self.set('animate', animate);\n    } //  onLayoutEnd \n\n\n    function success() {\n      // fitView  fitCenter fitView fitCenter \n      if (self.get('fitView')) {\n        self.fitView();\n      } else if (self.get('fitCenter')) {\n        self.fitCenter();\n      }\n\n      self.autoPaint();\n      self.emit('afterrender');\n\n      if (self.get('fitView') || self.get('fitCenter')) {\n        self.set('animate', animate);\n      }\n    }\n\n    if (!this.get('groupByTypes')) {\n      if (combos && combos.length !== 0) {\n        this.sortCombos();\n      } else {\n        // \n        if (data.nodes && data.edges && data.nodes.length < data.edges.length) {\n          var nodesArr = this.getNodes(); // \n\n          nodesArr.forEach(function (node) {\n            node.toFront();\n          });\n        } else {\n          var edgesArr = this.getEdges(); // \n\n          edgesArr.forEach(function (edge) {\n            edge.toBack();\n          });\n        }\n      }\n    }\n\n    if (this.get('enabledStack')) {\n      this.pushStack('render');\n    }\n  };\n  /**\n   * \n   * @Param {Object} data \n   */\n\n\n  AbstractGraph.prototype.read = function (data) {\n    this.data(data);\n    this.render();\n  }; // item\n\n\n  AbstractGraph.prototype.diffItems = function (type, items, models) {\n    var self = this;\n    var item;\n    var itemMap = this.get('itemMap');\n    each(models, function (model) {\n      item = itemMap[model.id];\n\n      if (item) {\n        if (self.get('animate') && type === NODE) {\n          var containerMatrix = item.getContainer().getMatrix();\n          if (!containerMatrix) containerMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n          item.set('originAttrs', {\n            x: containerMatrix[6],\n            y: containerMatrix[7]\n          });\n        }\n\n        self.updateItem(item, model, false);\n      } else {\n        item = self.addItem(type, model, false);\n      }\n\n      if (item) items[\"\".concat(type, \"s\")].push(item);\n    });\n  };\n  /**\n   * \n   * @param {GraphData | TreeGraphData} data \n   * @param {boolean} true\n   * @return {object} this\n   */\n\n\n  AbstractGraph.prototype.changeData = function (data, stack) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    var self = this;\n\n    if (!dataValidation(data)) {\n      return this;\n    }\n\n    if (stack && this.get('enabledStack')) {\n      this.pushStack('changedata', {\n        before: self.save(),\n        after: data\n      });\n    }\n\n    this.set('comboSorted', false); //  hulls\n\n    this.removeHulls(); // \n\n    this.getNodes().map(function (node) {\n      return self.clearItemStates(node);\n    });\n    this.getEdges().map(function (edge) {\n      return self.clearItemStates(edge);\n    });\n    var canvas = this.get('canvas');\n    var localRefresh = canvas.get('localRefresh');\n    canvas.set('localRefresh', false);\n\n    if (!self.get('data')) {\n      self.data(data);\n      self.render();\n    }\n\n    var itemMap = this.get('itemMap');\n    var items = {\n      nodes: [],\n      edges: []\n    };\n    var combosData = data.combos;\n\n    if (combosData) {\n      var comboTrees = plainCombosToTrees(combosData, data.nodes);\n      this.set('comboTrees', comboTrees);\n    }\n\n    this.diffItems('node', items, data.nodes);\n    each(itemMap, function (item, id) {\n      itemMap[id].getModel().depth = 0;\n      if (item.getType && item.getType() === 'edge') return;\n\n      if (item.getType && item.getType() === 'combo') {\n        delete itemMap[id];\n        item.destroy();\n      } else if (items.nodes.indexOf(item) < 0) {\n        delete itemMap[id];\n        self.remove(item, false);\n      }\n    }); // clear the destroyed combos here to avoid removing sub nodes before removing the parent combo\n\n    var comboItems = this.getCombos();\n    var combosLength = comboItems.length;\n\n    for (var i = combosLength - 1; i >= 0; i--) {\n      if (comboItems[i].destroyed) {\n        comboItems.splice(i, 1);\n      }\n    } // process the data to tree structure\n\n\n    if (combosData) {\n      // add combos\n      self.addCombos(combosData);\n\n      if (!this.get('groupByTypes')) {\n        this.sortCombos();\n      }\n    }\n\n    this.diffItems('edge', items, data.edges);\n    each(itemMap, function (item, id) {\n      if (item.getType && (item.getType() === 'node' || item.getType() === 'combo')) return;\n\n      if (items.edges.indexOf(item) < 0) {\n        delete itemMap[id];\n        self.remove(item, false);\n      }\n    });\n    this.set({\n      nodes: items.nodes,\n      edges: items.edges\n    });\n    var layoutController = this.get('layoutController');\n\n    if (layoutController) {\n      layoutController.changeData();\n\n      if (self.get('animate') && !layoutController.getLayoutType()) {\n        // \n        self.positionsAnimate();\n      } else {\n        self.autoPaint();\n      }\n    }\n\n    setTimeout(function () {\n      canvas.set('localRefresh', localRefresh);\n    }, 16);\n    return this;\n  };\n  /**\n   *  render  changeData  combos\n   * @param {ComboConfig[]} combos  combos \n   */\n\n\n  AbstractGraph.prototype.addCombos = function (combos) {\n    var self = this;\n    var comboTrees = self.get('comboTrees');\n    var itemController = this.get('itemController');\n    itemController.addCombos(comboTrees, combos);\n  };\n  /**\n   *  combo  combo\n   * @param combo combo ID  Combo \n   * @param children  Combo  combo\n   */\n\n\n  AbstractGraph.prototype.createCombo = function (combo, children) {\n    var _this = this;\n\n    this.set('comboSorted', false); // step 1:  Combo\n\n    var comboId = '';\n    var comboConfig;\n    if (!combo) return;\n\n    if (isString(combo)) {\n      comboId = combo;\n      comboConfig = {\n        id: combo\n      };\n    } else {\n      comboId = combo.id;\n\n      if (!comboId) {\n        console.warn('Create combo failed. Please assign a unique string id for the adding combo.');\n        return;\n      }\n\n      comboConfig = combo;\n    } // step2:  children comboId  parentId\n\n\n    var trees = children.map(function (elementId) {\n      var item = _this.findById(elementId);\n\n      var model = item.getModel();\n      var type = '';\n      if (item.getType) type = item.getType();\n      var cItem = {\n        id: item.getID(),\n        itemType: type\n      };\n\n      if (type === 'combo') {\n        cItem.parentId = comboId;\n        model.parentId = comboId;\n      } else if (type === 'node') {\n        cItem.comboId = comboId;\n        model.comboId = comboId;\n      }\n\n      return cItem;\n    });\n    comboConfig.children = trees; // step 3:  ComboaddItem  Combo \n\n    this.addItem('combo', comboConfig, false);\n    this.set('comboSorted', false); // step4:  comboTrees \n\n    var comboTrees = this.get('comboTrees');\n    (comboTrees || []).forEach(function (ctree) {\n      traverseTreeUp(ctree, function (child) {\n        if (child.id === comboId) {\n          child.itemType = 'combo';\n          child.children = trees;\n          return false;\n        }\n\n        return true;\n      });\n    });\n\n    if (comboTrees) {\n      this.sortCombos();\n    }\n  };\n  /**\n   *  combo\n   * @param {String | INode | ICombo} combo  Combo item  id\n   */\n\n\n  AbstractGraph.prototype.uncombo = function (combo) {\n    var _this = this;\n\n    var self = this;\n    var comboItem = combo;\n\n    if (isString(combo)) {\n      comboItem = this.findById(combo);\n    }\n\n    if (!comboItem || comboItem.getType && comboItem.getType() !== 'combo') {\n      console.warn('The item is not a combo!');\n      return;\n    }\n\n    var parentId = comboItem.getModel().parentId;\n    var comboTrees = self.get('comboTrees');\n    if (!comboTrees) comboTrees = [];\n    var itemMap = this.get('itemMap');\n    var comboId = comboItem.get('id');\n    var treeToBeUncombo;\n    var brothers = [];\n    var comboItems = this.get('combos');\n    var parentItem = this.findById(parentId);\n    comboTrees.forEach(function (ctree) {\n      if (treeToBeUncombo) return; // terminate the forEach\n\n      traverseTreeUp(ctree, function (subtree) {\n        // find the combo to be uncomboed, delete the combo from map and cache\n        if (subtree.id === comboId) {\n          treeToBeUncombo = subtree; // delete the related edges\n\n          var edges = comboItem.getEdges();\n          edges.forEach(function (edge) {\n            _this.removeItem(edge, false);\n          });\n          var index = comboItems.indexOf(combo);\n          comboItems.splice(index, 1);\n          delete itemMap[comboId];\n          comboItem.destroy();\n        } // find the parent to remove the combo from the combo's brothers array and add the combo's children to the combo's brothers array in the tree\n\n\n        if (parentId && treeToBeUncombo && subtree.id === parentId) {\n          parentItem.removeCombo(comboItem);\n          brothers = subtree.children; // the combo's brothers\n          // remove the combo from its brothers array\n\n          var index = brothers.indexOf(treeToBeUncombo);\n\n          if (index !== -1) {\n            brothers.splice(index, 1);\n          } // append the combo's children to the combo's brothers array\n\n\n          treeToBeUncombo.children.forEach(function (child) {\n            var item = _this.findById(child.id);\n\n            var childModel = item.getModel();\n\n            if (item.getType && item.getType() === 'combo') {\n              child.parentId = parentId;\n              delete child.comboId;\n              childModel.parentId = parentId; // update the parentId of the model\n\n              delete childModel.comboId;\n            } else if (item.getType && item.getType() === 'node') {\n              child.comboId = parentId;\n              childModel.comboId = parentId; // update the parentId of the model\n            }\n\n            parentItem.addChild(item);\n            brothers.push(child);\n          });\n          return false;\n        }\n\n        return true;\n      });\n    }); // if the parentId is not found, remove the combo from the roots\n\n    if (!parentId && treeToBeUncombo) {\n      var index = comboTrees.indexOf(treeToBeUncombo);\n      comboTrees.splice(index, 1); // modify the parentId of the children\n\n      treeToBeUncombo.children.forEach(function (child) {\n        child.parentId = undefined;\n\n        var childModel = _this.findById(child.id).getModel();\n\n        delete childModel.parentId; // update the parentId of the model\n\n        delete childModel.comboId; // update the comboId of the model\n\n        if (child.itemType !== 'node') comboTrees.push(child);\n      });\n    }\n  };\n  /**\n   *  bbox  combos  combos \n   */\n\n\n  AbstractGraph.prototype.updateCombos = function () {\n    var _this = this;\n\n    var self = this;\n    var comboTrees = this.get('comboTrees');\n    var itemController = self.get('itemController');\n    var itemMap = self.get('itemMap');\n    (comboTrees || []).forEach(function (ctree) {\n      traverseTreeUp(ctree, function (child) {\n        if (!child) {\n          return true;\n        }\n\n        var childItem = itemMap[child.id];\n\n        if (childItem && childItem.getType && childItem.getType() === 'combo') {\n          //  Combo  state  Combo \n          var states = __spreadArray([], childItem.getStates(), true);\n\n          each(states, function (state) {\n            return _this.setItemState(childItem, state, false);\n          }); //  Combo\n\n          itemController.updateCombo(childItem, child.children); //  Combo \n\n          each(states, function (state) {\n            return _this.setItemState(childItem, state, true);\n          });\n        }\n\n        return true;\n      });\n    });\n    self.sortCombos();\n  };\n  /**\n   *  bbox  combo  combos  combos \n   * @param {String | ICombo} combo  Combo  id Combo  Combod \n   */\n\n\n  AbstractGraph.prototype.updateCombo = function (combo) {\n    var _this = this;\n\n    var self = this;\n    var comboItem = combo;\n    var comboId;\n\n    if (isString(combo)) {\n      comboItem = this.findById(combo);\n    }\n\n    if (!comboItem || comboItem.getType && comboItem.getType() !== 'combo') {\n      console.warn('The item to be updated is not a combo!');\n      return;\n    }\n\n    comboId = comboItem.get('id');\n    var comboTrees = this.get('comboTrees');\n    var itemController = self.get('itemController');\n    var itemMap = self.get('itemMap');\n    (comboTrees || []).forEach(function (ctree) {\n      traverseTreeUp(ctree, function (child) {\n        if (!child) {\n          return true;\n        }\n\n        var childItem = itemMap[child.id];\n\n        if (comboId === child.id && childItem && childItem.getType && childItem.getType() === 'combo') {\n          //  Combo  state  Combo \n          var states = __spreadArray([], childItem.getStates(), true); // || !item.getStateStyle(stateName)\n\n\n          each(states, function (state) {\n            if (childItem.getStateStyle(state)) {\n              _this.setItemState(childItem, state, false);\n            }\n          }); //  Combo\n\n          itemController.updateCombo(childItem, child.children); //  Combo \n\n          each(states, function (state) {\n            if (childItem.getStateStyle(state)) {\n              _this.setItemState(childItem, state, true);\n            }\n          });\n          if (comboId) comboId = child.parentId;\n        }\n\n        return true;\n      });\n    });\n  };\n  /**\n   * \n   * @param {String | INode | ICombo} item  Combo   id\n   * @param {string | undefined} parentId  combo idundefined  combo\n   */\n\n\n  AbstractGraph.prototype.updateComboTree = function (item, parentId, stack) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    var self = this;\n    this.set('comboSorted', false);\n    var uItem;\n\n    if (isString(item)) {\n      uItem = self.findById(item);\n    } else {\n      uItem = item;\n    }\n\n    var model = uItem.getModel();\n    var oldParentId = model.comboId || model.parentId;\n    var type = '';\n    if (uItem.getType) type = uItem.getType(); //  item  Combo parentId  combo  id\n\n    if (parentId && type === 'combo') {\n      var comboTrees = this.get('comboTrees');\n      var valid_1 = true;\n      var itemSubTree_1;\n      (comboTrees || []).forEach(function (ctree) {\n        if (itemSubTree_1) return;\n        traverseTree(ctree, function (subTree) {\n          if (itemSubTree_1) return; //  item \n\n          if (subTree.id === uItem.getID()) {\n            itemSubTree_1 = subTree;\n          }\n\n          return true;\n        });\n      }); //  item  parentId \n\n      traverseTree(itemSubTree_1, function (subTree) {\n        if (subTree.id === parentId) {\n          valid_1 = false;\n          return false;\n        }\n\n        return true;\n      }); // parentId  item \n\n      if (!valid_1) {\n        console.warn('Failed to update the combo tree! The parentId points to a descendant of the combo!');\n        return;\n      }\n    }\n\n    if (stack && this.get('enabledStack')) {\n      var beforeData = {},\n          afterData = {};\n\n      if (type === 'combo') {\n        beforeData.combos = [{\n          id: model.id,\n          parentId: model.parentId\n        }];\n        afterData.combos = [{\n          id: model.id,\n          parentId: parentId\n        }];\n      } else if (type === 'node') {\n        beforeData.nodes = [{\n          id: model.id,\n          parentId: model.comboId\n        }];\n        afterData.nodes = [{\n          id: model.id,\n          parentId: parentId\n        }];\n      }\n\n      this.pushStack('updateComboTree', {\n        before: beforeData,\n        after: afterData\n      });\n    } //  combo  parentId  comboId \n\n\n    if (model.parentId || model.comboId) {\n      var combo = this.findById(model.parentId || model.comboId);\n\n      if (combo) {\n        combo.removeChild(uItem);\n      }\n    }\n\n    if (type === 'combo') {\n      model.parentId = parentId;\n    } else if (type === 'node') {\n      model.comboId = parentId;\n    } //  combo \n\n\n    if (parentId) {\n      var parentCombo = this.findById(parentId);\n\n      if (parentCombo) {\n        //  parentCombo \n        parentCombo.addChild(uItem);\n      }\n    } //  combo combo \n\n\n    if (oldParentId) {\n      var parentCombo = this.findById(oldParentId);\n\n      if (parentCombo) {\n        //  parentCombo \n        parentCombo.removeChild(uItem);\n      }\n    }\n\n    var newComboTrees = reconstructTree(this.get('comboTrees'), model.id, parentId);\n    this.set('comboTrees', newComboTrees);\n    this.updateCombos();\n  };\n  /**\n   * \n   * @return {object} data\n   */\n\n\n  AbstractGraph.prototype.save = function () {\n    var nodes = [];\n    var edges = [];\n    var combos = [];\n    each(this.get('nodes'), function (node) {\n      nodes.push(node.getModel());\n    });\n    each(this.get('edges'), function (edge) {\n      edges.push(edge.getModel());\n    });\n    each(this.get('combos'), function (combo) {\n      combos.push(combo.getModel());\n    });\n    return {\n      nodes: nodes,\n      edges: edges,\n      combos: combos\n    };\n  };\n  /**\n   * \n   * @param  {number} width  \n   * @param  {number} height \n   * @return {object} this\n   */\n\n\n  AbstractGraph.prototype.changeSize = function (width, height) {\n    var viewController = this.get('viewController');\n    viewController.changeSize(width, height);\n    return this;\n  };\n  /**\n   * \n   */\n\n\n  AbstractGraph.prototype.refresh = function () {\n    var self = this;\n    self.emit('beforegraphrefresh');\n\n    if (self.get('animate')) {\n      self.positionsAnimate();\n    } else {\n      var nodes = self.get('nodes');\n      var edges = self.get('edges');\n      var vedges = self.get('edges');\n      each(nodes, function (node) {\n        node.refresh();\n      });\n      each(edges, function (edge) {\n        edge.refresh();\n      });\n      each(vedges, function (vedge) {\n        vedge.refresh();\n      });\n    }\n\n    self.emit('aftergraphrefresh');\n    self.autoPaint();\n  };\n  /**\n   * item\n   * @return {INode} item\n   */\n\n\n  AbstractGraph.prototype.getNodes = function () {\n    return this.get('nodes');\n  };\n  /**\n   * item\n   * @return {IEdge} item\n   */\n\n\n  AbstractGraph.prototype.getEdges = function () {\n    return this.get('edges');\n  };\n  /**\n   *  combo \n   */\n\n\n  AbstractGraph.prototype.getCombos = function () {\n    return this.get('combos');\n  };\n  /**\n   *  Combo \n   * @param comboId combo ID\n   */\n\n\n  AbstractGraph.prototype.getComboChildren = function (combo) {\n    if (isString(combo)) {\n      combo = this.findById(combo);\n    }\n\n    if (!combo || combo.getType && combo.getType() !== 'combo') {\n      console.warn('The combo does not exist!');\n      return;\n    }\n\n    return combo.getChildren();\n  };\n  /**\n   *  graph  animateCfg \n   */\n\n\n  AbstractGraph.prototype.positionsAnimate = function () {\n    var self = this;\n    self.emit('beforeanimate');\n    var animateCfg = self.get('animateCfg');\n    var onFrame = animateCfg.onFrame;\n    var nodes = self.getNodes();\n    var toNodes = nodes.map(function (node) {\n      var model = node.getModel();\n      return {\n        id: model.id,\n        x: model.x,\n        y: model.y\n      };\n    });\n\n    if (self.isAnimating()) {\n      self.stopAnimate();\n    }\n\n    var canvas = self.get('canvas');\n    canvas.animate(function (ratio) {\n      each(toNodes, function (data) {\n        var node = self.findById(data.id);\n\n        if (!node || node.destroyed) {\n          return;\n        }\n\n        var originAttrs = node.get('originAttrs');\n        var model = node.get('model');\n\n        if (!originAttrs) {\n          var containerMatrix = node.getContainer().getMatrix();\n          if (!containerMatrix) containerMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n          originAttrs = {\n            x: containerMatrix[6],\n            y: containerMatrix[7]\n          };\n          node.set('originAttrs', originAttrs);\n        }\n\n        if (onFrame) {\n          var attrs = onFrame(node, ratio, data, originAttrs);\n          node.set('model', Object.assign(model, attrs));\n        } else {\n          model.x = originAttrs.x + (data.x - originAttrs.x) * ratio;\n          model.y = originAttrs.y + (data.y - originAttrs.y) * ratio;\n        }\n      });\n      self.refreshPositions();\n    }, {\n      duration: animateCfg.duration,\n      easing: animateCfg.easing,\n      callback: function callback() {\n        each(nodes, function (node) {\n          node.set('originAttrs', null);\n        });\n\n        if (animateCfg.callback) {\n          animateCfg.callback();\n        }\n\n        self.emit('afteranimate');\n        self.animating = false;\n      }\n    });\n  };\n  /**\n   * \n   */\n\n\n  AbstractGraph.prototype.refreshPositions = function () {\n    var self = this;\n    self.emit('beforegraphrefreshposition');\n    var nodes = self.get('nodes');\n    var edges = self.get('edges');\n    var vedges = self.get('vedges');\n    var combos = self.get('combos');\n    var model;\n    var updatedNodes = {};\n    each(nodes, function (node) {\n      model = node.getModel();\n      var originAttrs = node.get('originAttrs');\n\n      if (originAttrs && model.x === originAttrs.x && model.y === originAttrs.y) {\n        return;\n      }\n\n      var changed = node.updatePosition({\n        x: model.x,\n        y: model.y\n      });\n      updatedNodes[model.id] = changed;\n      if (model.comboId) updatedNodes[model.comboId] = updatedNodes[model.comboId] || changed;\n    });\n\n    if (combos && combos.length !== 0) {\n      self.updateCombos();\n    }\n\n    each(edges, function (edge) {\n      var sourceModel = edge.getSource().getModel();\n      var target = edge.getTarget(); //  target  getModel \n      //  target \n\n      if (!isPlainObject(target)) {\n        var targetModel = target.getModel();\n\n        if (updatedNodes[sourceModel.id] || updatedNodes[targetModel.id] || edge.getModel().isComboEdge) {\n          edge.refresh();\n        }\n      }\n    });\n    each(vedges, function (vedge) {\n      vedge.refresh();\n    });\n    self.emit('aftergraphrefreshposition');\n    self.autoPaint();\n  };\n\n  AbstractGraph.prototype.stopAnimate = function () {\n    this.get('canvas').stopAnimate();\n  };\n\n  AbstractGraph.prototype.isAnimating = function () {\n    return this.animating;\n  };\n  /**\n   * \n   * @return {number} \n   */\n\n\n  AbstractGraph.prototype.getZoom = function () {\n    var matrix = this.get('group').getMatrix();\n    return matrix ? matrix[0] : 1;\n  };\n  /**\n   * \n   * @return {string} \n   */\n\n\n  AbstractGraph.prototype.getCurrentMode = function () {\n    var modeController = this.get('modeController');\n    return modeController.getMode();\n  };\n  /**\n   * \n   * @param {string} mode \n   * @return {object} this\n   */\n\n\n  AbstractGraph.prototype.setMode = function (mode) {\n    var modeController = this.get('modeController');\n    modeController.setMode(mode);\n    return this;\n  };\n  /**\n   * \n   * @return {object} this\n   */\n\n\n  AbstractGraph.prototype.clear = function (avoidEmit) {\n    if (avoidEmit === void 0) {\n      avoidEmit = false;\n    }\n\n    var canvas = this.get('canvas');\n    canvas.clear();\n    this.initGroups(); // \n\n    this.set({\n      itemMap: {},\n      nodes: [],\n      edges: [],\n      groups: [],\n      combos: [],\n      comboTrees: []\n    });\n    if (!avoidEmit) this.emit('afterrender');\n    return this;\n  };\n  /**\n   * \n   * @param {object} cfg \n   *  cfg  type  String \n   *  cfg  type \n   */\n\n\n  AbstractGraph.prototype.updateLayout = function (cfg) {\n    var layoutController = this.get('layoutController');\n\n    if (isString(cfg)) {\n      cfg = {\n        type: cfg\n      };\n    }\n\n    var oriLayoutCfg = this.get('layout');\n    var layoutCfg = {};\n    Object.assign(layoutCfg, oriLayoutCfg, cfg);\n    this.set('layout', layoutCfg);\n\n    if (layoutController.isLayoutTypeSame(layoutCfg) && layoutCfg.gpuEnabled === oriLayoutCfg.gpuEnabled) {\n      // no type or same type, or switch the gpu and cpu, update layout\n      layoutController.updateLayoutCfg(layoutCfg);\n    } else {\n      // has different type, change layout\n      layoutController.changeLayout(layoutCfg);\n    }\n  };\n  /**\n   * changeData \n   */\n\n\n  AbstractGraph.prototype.destroyLayout = function () {\n    var layoutController = this.get('layoutController');\n    layoutController.destroyLayout();\n  };\n  /**\n   * \n   */\n\n\n  AbstractGraph.prototype.layout = function () {\n    var layoutController = this.get('layoutController');\n    var layoutCfg = this.get('layout');\n    if (!layoutCfg || !layoutController) return;\n\n    if (layoutCfg.workerEnabled) {\n      // web worker\n      layoutController.layout();\n      return;\n    }\n\n    if (layoutController.layoutMethod) {\n      layoutController.relayout(true);\n    } else {\n      layoutController.layout();\n    }\n  };\n  /**\n   *  combo\n   * @param {string | ICombo} combo combo ID  combo item\n   */\n\n\n  AbstractGraph.prototype.collapseCombo = function (combo) {\n    var _this = this;\n\n    if (isString(combo)) {\n      combo = this.findById(combo);\n    }\n\n    if (!combo) {\n      console.warn('The combo to be collapsed does not exist!');\n      return;\n    }\n\n    this.emit('beforecollapseexpandcombo', {\n      action: 'expand',\n      item: combo\n    });\n    var comboModel = combo.getModel();\n    var itemController = this.get('itemController');\n    itemController.collapseCombo(combo);\n    comboModel.collapsed = true; // add virtual edges\n\n    var edges = this.getEdges().concat(this.get('vedges')); // find all the descendant nodes and combos\n\n    var cnodes = [];\n    var ccombos = [];\n    var comboTrees = this.get('comboTrees');\n    var found = false;\n    (comboTrees || []).forEach(function (ctree) {\n      if (found) return; // if the combo is found, terminate the forEach\n\n      traverseTree(ctree, function (subTree) {\n        // if the combo is found and it is traversing the other branches, terminate\n        if (found && subTree.depth <= comboModel.depth) return false; // if the combo is found\n\n        if (comboModel.id === subTree.id) found = true;\n\n        if (found) {\n          // if the combo is found, concat the descendant nodes and combos\n          var item = _this.findById(subTree.id);\n\n          if (item && item.getType && item.getType() === 'combo') {\n            cnodes = cnodes.concat(item.getNodes());\n            ccombos = ccombos.concat(item.getCombos());\n          }\n        }\n\n        return true;\n      });\n    });\n    var edgeWeightMap = {};\n    var addedVEdges = [];\n    edges.forEach(function (edge) {\n      if (edge.isVisible() && !edge.getModel().isVEdge) return;\n      var source = edge.getSource();\n      var target = edge.getTarget();\n\n      if ((cnodes.includes(source) || ccombos.includes(source)) && !cnodes.includes(target) && !ccombos.includes(target) || source.getModel().id === comboModel.id) {\n        var edgeModel = edge.getModel();\n\n        if (edgeModel.isVEdge) {\n          _this.removeItem(edge, false);\n\n          return;\n        }\n\n        var targetModel = target.getModel();\n\n        while (!target.isVisible()) {\n          target = _this.findById(targetModel.parentId || targetModel.comboId);\n          if (!target || !targetModel.parentId && !targetModel.comboId) return; // all the ancestors are hidden, then ignore the edge\n\n          targetModel = target.getModel();\n        }\n\n        var targetId = targetModel.id;\n\n        if (edgeWeightMap[\"\".concat(comboModel.id, \"-\").concat(targetId)]) {\n          edgeWeightMap[\"\".concat(comboModel.id, \"-\").concat(targetId)] += edgeModel.size || 1;\n          return;\n        } // the source is in the combo, the target is not\n\n\n        var vedge = _this.addItem('vedge', {\n          source: comboModel.id,\n          target: targetId,\n          isVEdge: true\n        }, false);\n\n        edgeWeightMap[\"\".concat(comboModel.id, \"-\").concat(targetId)] = edgeModel.size || 1;\n        addedVEdges.push(vedge);\n      } else if (!cnodes.includes(source) && !ccombos.includes(source) && (cnodes.includes(target) || ccombos.includes(target)) || target.getModel().id === comboModel.id) {\n        var edgeModel = edge.getModel();\n\n        if (edgeModel.isVEdge) {\n          _this.removeItem(edge, false);\n\n          return;\n        }\n\n        var sourceModel = source.getModel();\n\n        while (!source.isVisible()) {\n          source = _this.findById(sourceModel.parentId || sourceModel.comboId);\n          if (!source || !sourceModel.parentId && !sourceModel.comboId) return; // all the ancestors are hidden, then ignore the edge\n\n          sourceModel = source.getModel();\n        }\n\n        var sourceId = sourceModel.id;\n\n        if (edgeWeightMap[\"\".concat(sourceId, \"-\").concat(comboModel.id)]) {\n          edgeWeightMap[\"\".concat(sourceId, \"-\").concat(comboModel.id)] += edgeModel.size || 1;\n          return;\n        } // the target is in the combo, the source is not\n\n\n        var vedge = _this.addItem('vedge', {\n          target: comboModel.id,\n          source: sourceId,\n          isVEdge: true\n        }, false);\n\n        edgeWeightMap[\"\".concat(sourceId, \"-\").concat(comboModel.id)] = edgeModel.size || 1;\n        addedVEdges.push(vedge);\n      }\n    }); // update the width of the virtual edges, which is the sum of merged actual edges\n    // be attention that the actual edges with same endpoints but different directions will be represented by two different virtual edges\n\n    addedVEdges.forEach(function (vedge) {\n      var vedgeModel = vedge.getModel();\n\n      _this.updateItem(vedge, {\n        size: edgeWeightMap[\"\".concat(vedgeModel.source, \"-\").concat(vedgeModel.target)]\n      }, false);\n    });\n    this.emit('aftercollapseexpandcombo', {\n      action: 'collapse',\n      item: combo\n    });\n  };\n  /**\n   *  combo\n   * @param {string | ICombo} combo combo ID  combo item\n   */\n\n\n  AbstractGraph.prototype.expandCombo = function (combo) {\n    var _this = this;\n\n    if (isString(combo)) {\n      combo = this.findById(combo);\n    }\n\n    if (!combo || combo.getType && combo.getType() !== 'combo') {\n      console.warn('The combo to be collapsed does not exist!');\n      return;\n    }\n\n    this.emit('beforecollapseexpandcombo', {\n      action: 'expand',\n      item: combo\n    });\n    var comboModel = combo.getModel();\n    var itemController = this.get('itemController');\n    itemController.expandCombo(combo);\n    comboModel.collapsed = false; // add virtual edges\n\n    var edges = this.getEdges().concat(this.get('vedges')); // find all the descendant nodes and combos\n\n    var cnodes = [];\n    var ccombos = [];\n    var comboTrees = this.get('comboTrees');\n    var found = false;\n    (comboTrees || []).forEach(function (ctree) {\n      if (found) return; // if the combo is found, terminate\n\n      traverseTree(ctree, function (subTree) {\n        // if the combo is found and it is traversing the other branches, terminate\n        if (found && subTree.depth <= comboModel.depth) return false;\n        if (comboModel.id === subTree.id) found = true;\n\n        if (found) {\n          var item = _this.findById(subTree.id);\n\n          if (item && item.getType && item.getType() === 'combo') {\n            cnodes = cnodes.concat(item.getNodes());\n            ccombos = ccombos.concat(item.getCombos());\n          }\n        }\n\n        return true;\n      });\n    });\n    var edgeWeightMap = {};\n    var addedVEdges = {};\n    edges.forEach(function (edge) {\n      if (edge.isVisible() && !edge.getModel().isVEdge) return;\n      var source = edge.getSource();\n      var target = edge.getTarget();\n      var sourceId = source.get('id');\n      var targetId = target.get('id');\n\n      if ((cnodes.includes(source) || ccombos.includes(source)) && !cnodes.includes(target) && !ccombos.includes(target) || sourceId === comboModel.id) {\n        // the source is in the combo, the target is not\n        // ignore the virtual edges\n        if (edge.getModel().isVEdge) {\n          _this.removeItem(edge, false);\n\n          return;\n        }\n\n        var targetModel = target.getModel(); // find the nearest visible ancestor\n\n        while (!target.isVisible()) {\n          target = _this.findById(targetModel.comboId || targetModel.parentId);\n\n          if (!target || !targetModel.parentId && !targetModel.comboId) {\n            return; // if all the ancestors of the oppsite are all hidden, ignore the edge\n          }\n\n          targetModel = target.getModel();\n        }\n\n        targetId = targetModel.id;\n        var sourceModel = source.getModel(); // find the nearest visible ancestor\n\n        while (!source.isVisible()) {\n          source = _this.findById(sourceModel.comboId || sourceModel.parentId);\n\n          if (!source || !sourceModel.parentId && !sourceModel.comboId) {\n            return; // if all the ancestors of the oppsite are all hidden, ignore the edge\n          }\n\n          if (sourceModel.comboId === comboModel.id || sourceModel.parentId === comboModel.id) {\n            break; // if the next ancestor is the combo, break the while\n          }\n\n          sourceModel = source.getModel();\n        }\n\n        sourceId = sourceModel.id;\n\n        if (targetId) {\n          var vedgeId = \"\".concat(sourceId, \"-\").concat(targetId); // update the width of the virtual edges, which is the sum of merged actual edges\n          // be attention that the actual edges with same endpoints but different directions will be represented by two different virtual edges\n\n          if (edgeWeightMap[vedgeId]) {\n            edgeWeightMap[vedgeId] += edge.getModel().size || 1;\n\n            _this.updateItem(addedVEdges[vedgeId], {\n              size: edgeWeightMap[vedgeId]\n            }, false);\n\n            return;\n          }\n\n          var vedge = _this.addItem('vedge', {\n            source: sourceId,\n            target: targetId,\n            isVEdge: true\n          }, false);\n\n          edgeWeightMap[vedgeId] = edge.getModel().size || 1;\n          addedVEdges[vedgeId] = vedge;\n        }\n      } else if (!cnodes.includes(source) && !ccombos.includes(source) && (cnodes.includes(target) || ccombos.includes(target)) || targetId === comboModel.id) {\n        // the target is in the combo, the source is not\n        // ignore the virtual edges\n        if (edge.getModel().isVEdge) {\n          _this.removeItem(edge, false);\n\n          return;\n        }\n\n        var sourceModel = source.getModel(); // find the nearest visible ancestor\n\n        while (!source.isVisible()) {\n          source = _this.findById(sourceModel.comboId || sourceModel.parentId);\n\n          if (!source || !sourceModel.parentId && !sourceModel.comboId) {\n            return; // if all the ancestors of the oppsite are all hidden, ignore the edge\n          }\n\n          sourceModel = source.getModel();\n        }\n\n        sourceId = sourceModel.id;\n        var targetModel = target.getModel(); // find the nearest visible ancestor\n\n        while (!target.isVisible()) {\n          target = _this.findById(targetModel.comboId || targetModel.parentId);\n\n          if (!target || !targetModel.parentId && !targetModel.comboId) {\n            return; // if all the ancestors of the oppsite are all hidden, ignore the edge\n          }\n\n          if (targetModel.comboId === comboModel.id || targetModel.parentId === comboModel.id) {\n            break; // if the next ancestor is the combo, break the while\n          }\n\n          targetModel = target.getModel();\n        }\n\n        targetId = targetModel.id;\n\n        if (sourceId) {\n          var vedgeId = \"\".concat(sourceId, \"-\").concat(targetId); // update the width of the virtual edges, which is the sum of merged actual edges\n          // be attention that the actual edges with same endpoints but different directions will be represented by two different virtual edges\n\n          if (edgeWeightMap[vedgeId]) {\n            edgeWeightMap[vedgeId] += edge.getModel().size || 1;\n\n            _this.updateItem(addedVEdges[vedgeId], {\n              size: edgeWeightMap[vedgeId]\n            }, false);\n\n            return;\n          }\n\n          var vedge = _this.addItem('vedge', {\n            target: targetId,\n            source: sourceId,\n            isVEdge: true\n          }, false);\n\n          edgeWeightMap[vedgeId] = edge.getModel().size || 1;\n          addedVEdges[vedgeId] = vedge;\n        }\n      } else if ((cnodes.includes(source) || ccombos.includes(source)) && (cnodes.includes(target) || ccombos.includes(target))) {\n        // both source and target are in the combo, if the target and source are both visible, show the edge\n        if (source.isVisible() && target.isVisible()) {\n          edge.show();\n        }\n      }\n    });\n    this.emit('aftercollapseexpandcombo', {\n      action: 'expand',\n      item: combo\n    });\n  };\n\n  AbstractGraph.prototype.collapseExpandCombo = function (combo) {\n    if (isString(combo)) {\n      combo = this.findById(combo);\n    }\n\n    if (!combo || combo.getType && combo.getType() !== 'combo') return;\n    var comboModel = combo.getModel(); // if one ancestor combo of the combo is collapsed, it should not be collapsed or expanded\n\n    var parentItem = this.findById(comboModel.parentId);\n\n    while (parentItem) {\n      var parentModel = parentItem.getModel();\n\n      if (parentModel.collapsed) {\n        console.warn(\"Fail to expand the combo since it's ancestor combo is collapsed.\");\n        parentItem = undefined;\n        return;\n      }\n\n      parentItem = this.findById(parentModel.parentId);\n    }\n\n    var collapsed = comboModel.collapsed; // \n\n    if (collapsed) {\n      this.expandCombo(combo);\n    } else {\n      this.collapseCombo(combo);\n    }\n\n    this.updateCombo(combo);\n  };\n  /**\n   *  comboTree  Combo  Combo \n   * @param {GraphData} data \n   */\n\n\n  AbstractGraph.prototype.sortCombos = function () {\n    var _this = this;\n\n    var comboSorted = this.get('comboSorted');\n    if (comboSorted) return;\n    this.set('comboSorted', true);\n    var depthMap = [];\n    var dataDepthMap = {};\n    var comboTrees = this.get('comboTrees');\n    (comboTrees || []).forEach(function (cTree) {\n      traverseTree(cTree, function (child) {\n        if (depthMap[child.depth]) depthMap[child.depth].push(child.id);else depthMap[child.depth] = [child.id];\n        dataDepthMap[child.id] = child.depth;\n        return true;\n      });\n    });\n    var edges = this.getEdges().concat(this.get('vedges'));\n    (edges || []).forEach(function (edgeItem) {\n      var edge = edgeItem.getModel();\n      var sourceDepth = dataDepthMap[edge.source] || 0;\n      var targetDepth = dataDepthMap[edge.target] || 0;\n      var depth = Math.max(sourceDepth, targetDepth);\n      if (depthMap[depth]) depthMap[depth].push(edge.id);else depthMap[depth] = [edge.id];\n    });\n    depthMap.forEach(function (array) {\n      if (!array || !array.length) return;\n\n      for (var i = array.length - 1; i >= 0; i--) {\n        var item = _this.findById(array[i]);\n\n        if (item) item.toFront();\n      }\n    });\n  };\n  /**\n   * \n   *\n   * @param {(string | INode)} node  ID \n   * @returns {INode[]}\n   * @memberof IAbstractGraph\n   */\n\n\n  AbstractGraph.prototype.getNeighbors = function (node, type) {\n    var item = node;\n\n    if (isString(node)) {\n      item = this.findById(node);\n    }\n\n    return item.getNeighbors(type);\n  };\n  /**\n   *  node \n   *\n   * @param {(string | INode)} node  ID \n   * @param {('in' | 'out' | 'total' | 'all' | undefined)} in out total all \n   * @returns {Number | Object} \n   * @memberof IAbstractGraph\n   */\n\n\n  AbstractGraph.prototype.getNodeDegree = function (node, type, refresh) {\n    if (type === void 0) {\n      type = undefined;\n    }\n\n    if (refresh === void 0) {\n      refresh = false;\n    }\n\n    var item = node;\n\n    if (isString(node)) {\n      item = this.findById(node);\n    }\n\n    var degrees = this.get('degrees');\n\n    if (!degrees || refresh) {\n      degrees = getDegree(this.save());\n      this.set('degrees', degrees);\n    }\n\n    var nodeDegrees = degrees[item.getID()];\n    var res = 0; //  addItem  0\n\n    if (!nodeDegrees) {\n      return 0;\n    }\n\n    switch (type) {\n      case 'in':\n        res = nodeDegrees.inDegree;\n        break;\n\n      case 'out':\n        res = nodeDegrees.outDegree;\n        break;\n\n      case 'all':\n        res = nodeDegrees;\n        break;\n\n      default:\n        res = nodeDegrees.degree;\n        break;\n    }\n\n    return res;\n  };\n\n  AbstractGraph.prototype.getUndoStack = function () {\n    return this.undoStack;\n  };\n\n  AbstractGraph.prototype.getRedoStack = function () {\n    return this.redoStack;\n  };\n  /**\n   *  undo  redo \n   */\n\n\n  AbstractGraph.prototype.getStackData = function () {\n    if (!this.get('enabledStack')) {\n      return null;\n    }\n\n    return {\n      undoStack: this.undoStack.toArray(),\n      redoStack: this.redoStack.toArray()\n    };\n  };\n  /**\n   *  undo stack & redo stack\n   */\n\n\n  AbstractGraph.prototype.clearStack = function () {\n    if (this.get('enabledStack')) {\n      this.undoStack.clear();\n      this.redoStack.clear();\n    }\n  };\n  /**\n   * \n   * @param action \n   * @param data \n   * @param stackType \n   */\n\n\n  AbstractGraph.prototype.pushStack = function (action, data, stackType) {\n    if (action === void 0) {\n      action = 'update';\n    }\n\n    if (stackType === void 0) {\n      stackType = 'undo';\n    }\n\n    if (!this.get('enabledStack')) {\n      console.warn(' undo & redo  Graph  enabledStack: true !');\n      return;\n    }\n\n    var stackData = data ? clone(data) : {\n      before: {},\n      after: clone(this.save())\n    };\n\n    if (stackType === 'redo') {\n      this.redoStack.push({\n        action: action,\n        data: stackData\n      });\n    } else {\n      this.undoStack.push({\n        action: action,\n        data: stackData\n      });\n    }\n\n    this.emit('stackchange', {\n      undoStack: this.undoStack,\n      redoStack: this.redoStack\n    });\n  };\n  /**\n   * \n   *\n   * @param {boolean} cache \n   * @param {boolean} directed  graph.directed\n   * @returns {Matrix} \n   * @memberof IAbstractGraph\n   */\n\n\n  AbstractGraph.prototype.getAdjMatrix = function (cache, directed) {\n    if (cache === void 0) {\n      cache = true;\n    }\n\n    if (directed === undefined) directed = this.get('directed');\n    var currentAdjMatrix = this.get('adjMatrix');\n\n    if (!currentAdjMatrix || !cache) {\n      currentAdjMatrix = getAdjacentMatrix(this.save(), directed);\n      this.set('adjMatrix', currentAdjMatrix);\n    }\n\n    return currentAdjMatrix;\n  };\n  /**\n   * \n   *\n   * @param {boolean} cache \n   * @param {boolean} directed  graph.directed\n   * @returns {Matrix} \n   * @memberof IAbstractGraph\n   */\n\n\n  AbstractGraph.prototype.getShortestPathMatrix = function (cache, directed) {\n    if (cache === void 0) {\n      cache = true;\n    }\n\n    if (directed === undefined) directed = this.get('directed');\n    var currentAdjMatrix = this.get('adjMatrix');\n    var currentShourtestPathMatrix = this.get('shortestPathMatrix');\n\n    if (!currentAdjMatrix || !cache) {\n      currentAdjMatrix = getAdjacentMatrix(this.save(), directed);\n      this.set('adjMatrix', currentAdjMatrix);\n    }\n\n    if (!currentShourtestPathMatrix || !cache) {\n      currentShourtestPathMatrix = floydWarshall(this.save(), directed);\n      this.set('shortestPathMatrix', currentShourtestPathMatrix);\n    }\n\n    return currentShourtestPathMatrix;\n  };\n  /**\n   * \n   */\n\n\n  AbstractGraph.prototype.on = function (eventName, callback, once) {\n    return _super.prototype.on.call(this, eventName, callback, once);\n  };\n  /**\n   * \n   */\n\n\n  AbstractGraph.prototype.destroy = function () {\n    this.clear();\n    clearAnimationFrame(this.timeIndex); // \n\n    this.clearStack();\n    this.get('itemController').destroy();\n    this.get('modeController').destroy();\n    this.get('viewController').destroy();\n    this.get('stateController').destroy();\n    this.get('canvas').destroy();\n    this.cfg = null;\n    this.destroyed = true;\n    this.redoStack = null;\n    this.undoStack = null;\n  };\n  /**\n   * \n   * @param cfg HullCfg \n   */\n\n\n  AbstractGraph.prototype.createHull = function (cfg) {\n    if (!cfg.members || cfg.members.length < 1) {\n      console.warn('Create hull failed! The members is empty.');\n      return;\n    }\n\n    var parent = this.get('hullGroup');\n    var hullMap = this.get('hullMap');\n\n    if (!hullMap) {\n      hullMap = {};\n      this.set('hullMap', hullMap);\n    }\n\n    if (!parent || parent.get('destroyed')) {\n      parent = this.get('group').addGroup({\n        id: 'hullGroup'\n      });\n      parent.toBack();\n      this.set('hullGroup', parent);\n    }\n\n    if (hullMap[cfg.id]) {\n      console.warn('Existed hull id.');\n      return hullMap[cfg.id];\n    }\n\n    var group = parent.addGroup({\n      id: \"\".concat(cfg.id, \"-container\")\n    });\n    var hull = new Hull(this, __assign(__assign({}, cfg), {\n      group: group\n    }));\n    var hullId = hull.id;\n    hullMap[hullId] = hull;\n    return hull;\n  };\n  /**\n   *  graph \n   * @return {[key: string]: Hull} Hull  maphullId  hull \n   */\n\n\n  AbstractGraph.prototype.getHulls = function () {\n    return this.get('hullMap');\n  };\n  /**\n   *  hullId  hull\n   * @return Hull\n   */\n\n\n  AbstractGraph.prototype.getHullById = function (hullId) {\n    return this.get('hullMap')[hullId];\n  };\n\n  AbstractGraph.prototype.removeHull = function (hull) {\n    var hullInstance;\n\n    if (isString(hull)) {\n      hullInstance = this.getHullById(hull);\n    } else {\n      hullInstance = hull;\n    }\n\n    var hullMap = this.get('hullMap');\n    delete hullMap[hullInstance.id];\n    hullInstance.destroy();\n  };\n\n  AbstractGraph.prototype.removeHulls = function () {\n    var hulls = this.getHulls();\n    if (!hulls || !Object.keys(hulls).length) return;\n    Object.keys(hulls).forEach(function (key) {\n      var hull = hulls[key];\n      hull.destroy();\n    });\n    this.set('hullMap', {});\n  };\n\n  AbstractGraph.prototype.onTick = function (timestamp) {\n    var layoutController = this.get('layoutController');\n\n    if (layoutController) {\n      layoutController.onTick(timestamp);\n      this.timeIndex = requestAnimationFrame(this.onTick.bind(this));\n    }\n  };\n\n  return AbstractGraph;\n}(EventEmitter);\n\nexport default AbstractGraph;","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { __assign } from \"tslib\";\nimport Global from '../global';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix, each, mix, isBoolean, isPlainObject, clone } from '@antv/util';\nimport { cloneBesidesImg } from '../util/graphic';\nvar transform = ext.transform;\nvar CLS_SHAPE_SUFFIX = '-shape';\nvar CLS_LABEL_SUFFIX = '-label';\nvar ARROWS = ['startArrow', 'endArrow'];\nvar SHAPE_DEFAULT_ATTRS = {\n  lineWidth: 1,\n  stroke: undefined,\n  fill: undefined,\n  lineAppendWidth: 1,\n  opacity: undefined,\n  strokeOpacity: undefined,\n  fillOpacity: undefined,\n  x: 0,\n  y: 0,\n  r: 10,\n  width: 20,\n  height: 20,\n  shadowColor: undefined,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0\n};\nvar PATH_SHAPE_DEFAULT_ATTRS = {\n  lineWidth: 1,\n  stroke: '#000',\n  lineDash: undefined,\n  startArrow: false,\n  endArrow: false,\n  opacity: undefined,\n  strokeOpacity: undefined,\n  fillOpacity: undefined,\n  shadowColor: undefined,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0\n};\nvar SHAPES_DEFAULT_ATTRS = {\n  edge: PATH_SHAPE_DEFAULT_ATTRS,\n  node: SHAPE_DEFAULT_ATTRS,\n  combo: SHAPE_DEFAULT_ATTRS\n};\nexport var CLS_LABEL_BG_SUFFIX = '-label-bg'; //  shape  label\n\nexport var shapeBase = {\n  // \n  options: {},\n  itemType: '',\n\n  /**\n   *  circleellipsepolyline...\n   */\n  type: '',\n  getCustomConfig: function getCustomConfig(cfg) {\n    return {};\n  },\n  getOptions: function getOptions(cfg) {\n    return deepMix({\n      // \n      labelCfg: {\n        style: {\n          fontFamily: typeof window !== 'undefined' && window.getComputedStyle ? window.getComputedStyle(document.body, null).getPropertyValue('font-family') || 'Arial, sans-serif' : 'Arial, sans-serif'\n        }\n      },\n      descriptionCfg: {\n        style: {\n          fontFamily: typeof window !== 'undefined' && window.getComputedStyle ? window.getComputedStyle(document.body, null).getPropertyValue('font-family') || 'Arial, sans-serif' : 'Arial, sans-serif'\n        }\n      }\n    }, this.options, this.getCustomConfig(cfg) || {}, cfg);\n  },\n\n  /**\n   * /\n   * @override\n   * @param  {Object} cfg \n   * @param  {G.Group} group \n   * @return {IShape} \n   */\n  draw: function draw(cfg, group) {\n    var shape = this.drawShape(cfg, group);\n    shape.set('className', this.itemType + CLS_SHAPE_SUFFIX);\n\n    if (cfg.label) {\n      var label = this.drawLabel(cfg, group);\n      label.set('className', this.itemType + CLS_LABEL_SUFFIX);\n    }\n\n    return shape;\n  },\n\n  /**\n   * \n   * @param cfg\n   * @param group\n   * @param keyShape\n   */\n  afterDraw: function afterDraw(cfg, group, keyShape) {},\n  drawShape: function drawShape(cfg, group) {\n    return null;\n  },\n  drawLabel: function drawLabel(cfg, group) {\n    var defaultLabelCfg = this.getOptions(cfg).labelCfg; // imagenull\n\n    var labelCfg = defaultLabelCfg || {};\n    var labelStyle = this.getLabelStyle(cfg, labelCfg, group);\n    var rotate = labelStyle.rotate;\n    delete labelStyle.rotate;\n    var label = group.addShape('text', {\n      attrs: labelStyle,\n      draggable: true,\n      className: 'text-shape',\n      name: 'text-shape'\n    });\n\n    if (rotate) {\n      var labelBBox = label.getBBox();\n      var labelMatrix = label.getMatrix();\n\n      if (!labelMatrix) {\n        labelMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n      }\n\n      if (labelStyle.rotateCenter) {\n        switch (labelStyle.rotateCenter) {\n          case 'center':\n            labelMatrix = transform(labelMatrix, [['t', -labelBBox.width / 2, -labelBBox.height / 2], ['r', rotate], ['t', labelBBox.width / 2, labelBBox.height / 2]]);\n            break;\n\n          case 'lefttop':\n            labelMatrix = transform(labelMatrix, [['t', -labelStyle.x, -labelStyle.y], ['r', rotate], ['t', labelStyle.x, labelStyle.y]]);\n            break;\n\n          case 'leftcenter':\n            labelMatrix = transform(labelMatrix, [['t', -labelStyle.x, -labelStyle.y - labelBBox.height / 2], ['r', rotate], ['t', labelStyle.x, labelStyle.y + labelBBox.height / 2]]);\n            break;\n\n          default:\n            labelMatrix = transform(labelMatrix, [['t', -labelBBox.width / 2, -labelBBox.height / 2], ['r', rotate], ['t', labelBBox.width / 2, labelBBox.height / 2]]);\n            break;\n        }\n      } else {\n        labelMatrix = transform(labelMatrix, [['t', -labelStyle.x, -labelStyle.y - labelBBox.height / 2], ['r', rotate], ['t', labelStyle.x, labelStyle.y + labelBBox.height / 2]]);\n      }\n\n      label.setMatrix(labelMatrix);\n    }\n\n    if (labelStyle.background) {\n      var rect = this.drawLabelBg(cfg, group, label);\n      var labelBgClassname = this.itemType + CLS_LABEL_BG_SUFFIX;\n      rect.set('classname', labelBgClassname);\n      label.toFront();\n    }\n\n    return label;\n  },\n  drawLabelBg: function drawLabelBg(cfg, group, label) {\n    var defaultLabelCfg = this.options.labelCfg;\n    var labelCfg = mix({}, defaultLabelCfg, cfg.labelCfg);\n    var style = this.getLabelBgStyleByPosition(label, cfg, labelCfg, group);\n    var rect = group.addShape('rect', {\n      name: 'text-bg-shape',\n      attrs: style\n    });\n    return rect;\n  },\n  getLabelStyleByPosition: function getLabelStyleByPosition(cfg, labelCfg, group) {\n    return {\n      text: cfg.label\n    };\n  },\n  getLabelBgStyleByPosition: function getLabelBgStyleByPosition(label, cfg, labelCfg, group) {\n    return {};\n  },\n\n  /**\n   * \n   * @param cfg \n   * @param labelCfg \n   * @param group label \n   */\n  getLabelStyle: function getLabelStyle(cfg, labelCfg, group) {\n    var calculateStyle = this.getLabelStyleByPosition(cfg, labelCfg, group);\n    var attrName = \"\".concat(this.itemType, \"Label\"); //  nodeLabeledgeLabel \n\n    var defaultStyle = Global[attrName] ? Global[attrName].style : null;\n\n    var labelStyle = __assign(__assign(__assign({}, defaultStyle), calculateStyle), labelCfg.style);\n\n    return labelStyle;\n  },\n\n  /**\n   * \n   * @param cfg\n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    return cfg.style;\n  },\n\n  /**\n   * \n   * @override\n   * @param  {Object} cfg /\n   * @param  {G6.Item} item /\n   */\n  update: function update(cfg, item) {\n    this.updateShapeStyle(cfg, item);\n    this.updateLabel(cfg, item);\n  },\n  updateShapeStyle: function updateShapeStyle(cfg, item) {\n    var group = item.getContainer();\n    var shape = item.getKeyShape();\n    var shapeStyle = mix({}, shape.attr(), cfg.style);\n\n    var _loop_1 = function _loop_1(key) {\n      var _a;\n\n      var style = shapeStyle[key];\n\n      if (isPlainObject(style)) {\n        // \n        var subShape = group.find(function (element) {\n          return element.get('name') === key;\n        });\n\n        if (subShape) {\n          subShape.attr(style);\n        }\n      } else {\n        shape.attr((_a = {}, _a[key] = style, _a));\n      }\n    };\n\n    for (var key in shapeStyle) {\n      _loop_1(key);\n    }\n  },\n  updateLabel: function updateLabel(cfg, item) {\n    var group = item.getContainer();\n    var defaultLabelCfg = this.getOptions({}).labelCfg;\n    var labelClassName = this.itemType + CLS_LABEL_SUFFIX;\n    var label = group.find(function (element) {\n      return element.get('className') === labelClassName;\n    });\n    var labelBgClassname = this.itemType + CLS_LABEL_BG_SUFFIX;\n    var labelBg = group.find(function (element) {\n      return element.get('classname') === labelBgClassname;\n    }); //  cfg.label = \"\" \n\n    if (cfg.label || cfg.label === '') {\n      //  label labellabel \n      if (!label) {\n        //  label label\n        var newLabel = this.drawLabel(cfg, group);\n        newLabel.set('className', labelClassName);\n      } else {\n        //  label getLabelStyle  label \n        //  style position, offset, ...\n        var currentLabelCfg = {};\n\n        if (item.getModel) {\n          currentLabelCfg = item.getModel().labelCfg;\n        } // \n\n\n        var labelCfg = deepMix({}, defaultLabelCfg, currentLabelCfg, cfg.labelCfg); // \n\n        var calculateStyle = this.getLabelStyleByPosition(cfg, labelCfg, group); //  nodeLabeledgeLabel \n\n        var cfgStyle = cfg.labelCfg ? cfg.labelCfg.style : undefined;\n        var cfgBgStyle = labelCfg.style && labelCfg.style.background; // \b label  label.attr()/ label \n\n        var labelStyle = __assign(__assign(__assign({}, label.attr()), calculateStyle), cfgStyle);\n\n        var rotate = labelStyle.rotate;\n        delete labelStyle.rotate; //  label \n\n        if (rotate) {\n          // if G 4.x define the rotateAtStart, use it directly instead of using the following codes\n          var rotateMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n          rotateMatrix = transform(rotateMatrix, [['t', -labelStyle.x, -labelStyle.y], ['r', rotate], ['t', labelStyle.x, labelStyle.y]]);\n          label.resetMatrix();\n          label.attr(__assign(__assign({}, labelStyle), {\n            matrix: rotateMatrix\n          }));\n        } else {\n          label.resetMatrix();\n          label.attr(labelStyle);\n        }\n\n        if (!labelBg) {\n          if (labelStyle.background) {\n            labelBg = this.drawLabelBg(cfg, group, label);\n            labelBg.set('classname', labelBgClassname);\n            label.toFront();\n          }\n        } else if (labelStyle.background) {\n          var calculateBgStyle = this.getLabelBgStyleByPosition(label, cfg, labelCfg, group);\n\n          var labelBgStyle = __assign(__assign({}, calculateBgStyle), cfgBgStyle);\n\n          labelBg.resetMatrix();\n\n          if (rotate) {\n            var bgRotateMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n            bgRotateMatrix = transform(bgRotateMatrix, [['t', -labelBgStyle.x, -labelBgStyle.y], ['r', rotate], ['t', labelBgStyle.x, labelBgStyle.y]]);\n            labelBgStyle.matrix = bgRotateMatrix;\n          }\n\n          labelBg.attr(labelBgStyle);\n        } else {\n          group.removeChild(labelBg);\n        }\n      }\n    }\n  },\n  // update(cfg, item) // \n  afterUpdate: function afterUpdate(cfg, item) {},\n\n  /**\n   *  draw \n   *  selectedactive \n   * @override\n   * @param  {String} name \n   * @param  {String | Boolean} value \n   * @param  {G6.Item} item \n   */\n  setState: function setState(name, value, item) {\n    var _a, _b;\n\n    var shape = item.get('keyShape');\n    if (!shape || shape.destroyed) return;\n    var type = item.getType();\n    var stateName = isBoolean(value) ? name : \"\".concat(name, \":\").concat(value);\n    var shapeStateStyle = this.getStateStyle(stateName, item);\n    var itemStateStyle = item.getStateStyle(stateName); // const originStyle = item.getOriginStyle();\n    // \n\n    if (!itemStateStyle && !shapeStateStyle) {\n      return;\n    } // \n    //  state  model.stateStyles \n\n\n    var styles = mix({}, itemStateStyle || shapeStateStyle);\n    var group = item.getContainer(); //  states \n\n    var keptAttrs = {\n      x: 1,\n      y: 1,\n      cx: 1,\n      cy: 1\n    };\n\n    if (type === 'combo') {\n      keptAttrs.r = 1;\n      keptAttrs.width = 1;\n      keptAttrs.height = 1;\n    }\n\n    if (value) {\n      var _loop_2 = function _loop_2(key) {\n        var _c;\n\n        var style = styles[key];\n\n        if (isPlainObject(style) && !ARROWS.includes(key)) {\n          var subShape = group.find(function (element) {\n            return element.get('name') === key;\n          });\n\n          if (subShape) {\n            subShape.attr(style);\n          }\n        } else {\n          //  keyShape \n          shape.attr((_c = {}, _c[key] = style, _c));\n        }\n      }; // style \n\n\n      for (var key in styles) {\n        _loop_2(key);\n      }\n    } else {\n      //  state \n      var enableStatesStyle = cloneBesidesImg(item.getCurrentStatesStyle());\n      var model = item.getModel(); // \n\n      var originStyle_1 = mix({}, model.style, cloneBesidesImg(item.getOriginStyle()));\n      var keyShapeName_1 = shape.get('name'); // cloning  shape.attr(), keys.forEach to avoid cloning the img attr, which leads to maximum clone heap #2383\n      // const keyShapeStyles = clone(shape.attr())\n\n      var shapeAttrs_1 = shape.attr();\n      var keyShapeStyles_1 = {};\n      Object.keys(shapeAttrs_1).forEach(function (key) {\n        if (key === 'img') return;\n        var attr = shapeAttrs_1[key];\n\n        if (attr && _typeof(attr) === 'object') {\n          keyShapeStyles_1[key] = clone(attr);\n        } else {\n          keyShapeStyles_1[key] = attr;\n        }\n      }); //  - \n\n      var filtetDisableStatesStyle = {};\n\n      var _loop_3 = function _loop_3(p) {\n        var style = styles[p];\n\n        if (isPlainObject(style) && !ARROWS.includes(p)) {\n          var subShape_1 = group.find(function (element) {\n            return element.get('name') === p;\n          });\n\n          if (subShape_1) {\n            var subShapeStyles_1 = clone(subShape_1.attr());\n            each(style, function (v, key) {\n              if (p === keyShapeName_1 && keyShapeStyles_1[key] && !keptAttrs[key]) {\n                delete keyShapeStyles_1[key];\n                var value_1 = originStyle_1[p][key] || SHAPES_DEFAULT_ATTRS[type][key];\n                shape.attr(key, value_1);\n              } else if (subShapeStyles_1[key] || subShapeStyles_1[key] === 0) {\n                delete subShapeStyles_1[key];\n                var value_2 = originStyle_1[p][key] || SHAPES_DEFAULT_ATTRS[type][key];\n                subShape_1.attr(key, value_2);\n              }\n            });\n            filtetDisableStatesStyle[p] = subShapeStyles_1;\n          }\n        } else {\n          if (keyShapeStyles_1[p] && !keptAttrs[p]) {\n            delete keyShapeStyles_1[p];\n            var value_3 = originStyle_1[p] || (originStyle_1[keyShapeName_1] ? originStyle_1[keyShapeName_1][p] : undefined) || SHAPES_DEFAULT_ATTRS[type][p];\n            shape.attr(p, value_3);\n          }\n        }\n      }; // styles \n\n\n      for (var p in styles) {\n        _loop_3(p);\n      } //  states \n      //  keyShape  name  filtetDisableStatesStyle  { keyShapeName: {} }\n      // \n\n\n      if (!keyShapeName_1) {\n        mix(filtetDisableStatesStyle, keyShapeStyles_1);\n      } else {\n        filtetDisableStatesStyle[keyShapeName_1] = keyShapeStyles_1;\n      }\n\n      for (var key in enableStatesStyle) {\n        if (keptAttrs[key]) continue;\n        var enableStyle = enableStatesStyle[key];\n\n        if (!isPlainObject(enableStyle) || ARROWS.includes(key)) {\n          // mergekeyShape\n          if (!keyShapeName_1) {\n            mix(originStyle_1, (_a = {}, _a[key] = enableStyle, _a));\n          } else {\n            mix(originStyle_1[keyShapeName_1], (_b = {}, _b[key] = enableStyle, _b));\n            delete originStyle_1[key];\n          }\n\n          delete enableStatesStyle[key];\n        }\n      }\n\n      var originstyles = {};\n      deepMix(originstyles, originStyle_1, filtetDisableStatesStyle, enableStatesStyle);\n      var keyShapeSetted = false;\n\n      var _loop_4 = function _loop_4(originKey) {\n        var _d, _e;\n\n        var style = originstyles[originKey];\n\n        if (isPlainObject(style) && !ARROWS.includes(originKey)) {\n          var subShape = group.find(function (element) {\n            return element.get('name') === originKey;\n          });\n\n          if (subShape) {\n            if (originKey === keyShapeName_1) {\n              if (type === 'combo') {\n                delete style.r;\n                delete style.width;\n                delete style.height;\n              }\n\n              keyShapeSetted = true;\n            }\n\n            subShape.attr(style);\n          }\n        } else if (!keyShapeSetted) {\n          var value_4 = style || SHAPES_DEFAULT_ATTRS[type][originKey]; //  combo  keyShapeName  keyShape \n\n          if (type === 'combo') {\n            if (!keyShapeName_1) {\n              shape.attr((_d = {}, _d[originKey] = value_4, _d));\n            }\n          } else {\n            shape.attr((_e = {}, _e[originKey] = value_4, _e));\n          }\n        }\n      };\n\n      for (var originKey in originstyles) {\n        _loop_4(originKey);\n      }\n    }\n  },\n\n  /**\n   * \n   *\n   * @param {string} name \n   * @param {Item} item NodeEdge\n   * @return {object} \n   */\n  getStateStyle: function getStateStyle(name, item) {\n    var model = item.getModel();\n    var type = item.getType();\n\n    var _a = this.getOptions(model),\n        stateStyles = _a.stateStyles,\n        _b = _a.style,\n        style = _b === void 0 ? {} : _b;\n\n    var modelStateStyle = model.stateStyles ? model.stateStyles[name] : stateStyles && stateStyles[name];\n\n    if (type === 'combo') {\n      return clone(modelStateStyle);\n    }\n\n    return mix({}, style, modelStateStyle);\n  },\n\n  /**\n   * \n   * @param  {Object} cfg \n   * @return {Array|null} , null\n   */\n  getControlPoints: function getControlPoints(cfg) {\n    return cfg.controlPoints;\n  },\n\n  /**\n   * \n   * @param  {Object} cfg \n   * @return {Array|null} , null\n   */\n  getAnchorPoints: function getAnchorPoints(cfg) {\n    var anchorPoints = this.getOptions(cfg).anchorPoints;\n    return anchorPoints;\n  }\n};","import { __assign } from \"tslib\";\nimport { isArray, isNil, mix } from '@antv/util';\nimport { formatPadding } from '../util/base';\nimport Global from '../global';\nimport Shape from './shape';\nimport { shapeBase } from './shapeBase';\nvar singleNode = {\n  itemType: 'node',\n  // \n  shapeType: 'single-node',\n\n  /**\n   * \n   *  top, bottom, left, right, center\n   * @type {String}\n   */\n  labelPosition: 'center',\n\n  /**\n   *  labelPosition  center \n   * @type {Number}\n   */\n  offset: Global.nodeLabel.offset,\n\n  /**\n   * \n   * @internal  [width, height] \n   * @param  {Object} cfg \n   * @return {Array} \n   */\n  getSize: function getSize(cfg) {\n    var size = cfg.size || this.getOptions({}).size || Global.defaultNode.size; // size 12\n\n    if (isArray(size) && size.length === 1) {\n      size = [size[0], size[0]];\n    } // size \n\n\n    if (!isArray(size)) {\n      size = [size, size];\n    }\n\n    return size;\n  },\n  // \n  getLabelStyleByPosition: function getLabelStyleByPosition(cfg, labelCfg) {\n    var labelPosition = labelCfg.position || this.labelPosition; // \n\n    if (labelPosition === 'center') {\n      return {\n        x: 0,\n        y: 0,\n        text: cfg.label\n      };\n    }\n\n    var offset = labelCfg.offset;\n\n    if (isNil(offset)) {\n      //  offset = 0  labelCfg.offset || Global.nodeLabel.offset\n      offset = this.offset; // \n    }\n\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n    var style;\n\n    switch (labelPosition) {\n      case 'top':\n        style = {\n          x: 0,\n          y: 0 - height / 2 - offset,\n          textBaseline: 'bottom' // \n\n        };\n        break;\n\n      case 'bottom':\n        style = {\n          x: 0,\n          y: height / 2 + offset,\n          textBaseline: 'top'\n        };\n        break;\n\n      case 'left':\n        style = {\n          x: 0 - width / 2 - offset,\n          y: 0,\n          textAlign: 'right'\n        };\n        break;\n\n      default:\n        style = {\n          x: width / 2 + offset,\n          y: 0,\n          textAlign: 'left'\n        };\n        break;\n    }\n\n    style.text = cfg.label;\n    return style;\n  },\n  getLabelBgStyleByPosition: function getLabelBgStyleByPosition(label, cfg, labelCfg, group) {\n    if (!label) {\n      return {};\n    }\n\n    var bbox = label.getBBox();\n    var backgroundStyle = labelCfg.style && labelCfg.style.background;\n\n    if (!backgroundStyle) {\n      return {};\n    }\n\n    var padding = formatPadding(backgroundStyle.padding);\n    var backgroundWidth = bbox.width + padding[1] + padding[3];\n    var backgroundHeight = bbox.height + padding[0] + padding[2];\n    var offset = labelCfg.offset;\n\n    if (isNil(offset)) {\n      //  offset = 0  labelCfg.offset || Global.nodeLabel.offset\n      offset = this.offset; // \n    }\n\n    var style;\n    style = {\n      x: bbox.minX - padding[3],\n      y: bbox.minY - padding[0]\n    };\n    style = __assign(__assign(__assign({}, style), backgroundStyle), {\n      width: backgroundWidth,\n      height: backgroundHeight\n    });\n    return style;\n  },\n  drawShape: function drawShape(cfg, group) {\n    var shapeType = this.shapeType; // || this.type shapeType\n\n    var style = this.getShapeStyle(cfg);\n    var shape = group.addShape(shapeType, {\n      attrs: style,\n      draggable: true,\n      name: 'node-shape'\n    });\n    return shape;\n  },\n\n  /**\n   * linkPoints\n   * @param {Object} cfg \n   * @param {Group} group Itemgroup\n   */\n  updateLinkPoints: function updateLinkPoints(cfg, group) {\n    var defaultLinkPoints = this.getOptions(cfg).linkPoints;\n    var markLeft = group.find(function (element) {\n      return element.get('className') === 'link-point-left';\n    });\n    var markRight = group.find(function (element) {\n      return element.get('className') === 'link-point-right';\n    });\n    var markTop = group.find(function (element) {\n      return element.get('className') === 'link-point-top';\n    });\n    var markBottom = group.find(function (element) {\n      return element.get('className') === 'link-point-bottom';\n    });\n    var currentLinkPoints;\n\n    if (markLeft) {\n      currentLinkPoints = markLeft.attr();\n    }\n\n    if (markRight && !currentLinkPoints) {\n      currentLinkPoints = markRight.attr();\n    }\n\n    if (markTop && !currentLinkPoints) {\n      currentLinkPoints = markTop.attr();\n    }\n\n    if (markBottom && !currentLinkPoints) {\n      currentLinkPoints = markBottom.attr();\n    }\n\n    if (!currentLinkPoints) currentLinkPoints = defaultLinkPoints;\n    var linkPoints = mix({}, currentLinkPoints, cfg.linkPoints);\n    var markFill = linkPoints.fill,\n        markStroke = linkPoints.stroke,\n        borderWidth = linkPoints.lineWidth;\n    var markSize = linkPoints.size / 2;\n    if (!markSize) markSize = linkPoints.r;\n\n    var _a = cfg.linkPoints ? cfg.linkPoints : {\n      left: undefined,\n      right: undefined,\n      top: undefined,\n      bottom: undefined\n    },\n        left = _a.left,\n        right = _a.right,\n        top = _a.top,\n        bottom = _a.bottom;\n\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n    var styles = {\n      r: markSize,\n      fill: markFill,\n      stroke: markStroke,\n      lineWidth: borderWidth\n    };\n\n    if (markLeft) {\n      if (!left && left !== undefined) {\n        markLeft.remove();\n      } else {\n        markLeft.attr(__assign(__assign({}, styles), {\n          x: -width / 2,\n          y: 0\n        }));\n      }\n    } else if (left) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: -width / 2,\n          y: 0\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n\n    if (markRight) {\n      if (!right && right !== undefined) {\n        markRight.remove();\n      }\n\n      markRight.attr(__assign(__assign({}, styles), {\n        x: width / 2,\n        y: 0\n      }));\n    } else if (right) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: width / 2,\n          y: 0\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n\n    if (markTop) {\n      if (!top && top !== undefined) {\n        markTop.remove();\n      }\n\n      markTop.attr(__assign(__assign({}, styles), {\n        x: 0,\n        y: -height / 2\n      }));\n    } else if (top) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: 0,\n          y: -height / 2\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n\n    if (markBottom) {\n      if (!bottom && bottom !== undefined) {\n        markBottom.remove();\n      } else {\n        markBottom.attr(__assign(__assign({}, styles), {\n          x: 0,\n          y: height / 2\n        }));\n      }\n    } else if (bottom) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: 0,\n          y: height / 2\n        }),\n        className: 'link-point-bottom',\n        name: 'link-point-bottom',\n        isAnchorPoint: true\n      });\n    }\n  },\n  updateShape: function updateShape(cfg, item, keyShapeStyle, hasIcon) {\n    var keyShape = item.get('keyShape');\n    keyShape.attr(__assign({}, keyShapeStyle));\n    this.updateLabel(cfg, item); // special for some types of nodes\n\n    if (hasIcon) {\n      this.updateIcon(cfg, item);\n    }\n  },\n  updateIcon: function updateIcon(cfg, item) {\n    var _this = this;\n\n    var group = item.getContainer();\n    var icon = this.getOptions(cfg).icon;\n    var show = (cfg.icon ? cfg.icon : {\n      show: undefined\n    }).show;\n    var iconShape = group.find(function (element) {\n      return element.get('className') === \"\".concat(_this.type, \"-icon\");\n    });\n\n    if (iconShape) {\n      //  icon\n      if (show || show === undefined) {\n        //  show: true,  icon \n        var iconConfig = mix({}, iconShape.attr(), icon);\n        var w = iconConfig.width,\n            h = iconConfig.height;\n        iconShape.attr(__assign(__assign({}, iconConfig), {\n          x: -w / 2,\n          y: -h / 2\n        }));\n      } else {\n        //  show: false  icon\n        iconShape.remove();\n      }\n    } else if (show) {\n      //  icon show: true icon\n      var w = icon.width,\n          h = icon.height;\n      group.addShape('image', {\n        attrs: __assign(__assign({}, icon), {\n          x: -w / 2,\n          y: -h / 2\n        }),\n        className: \"\".concat(this.type, \"-icon\"),\n        name: \"\".concat(this.type, \"-icon\")\n      }); // to ensure the label is on the top of all the shapes\n\n      var labelShape = group.find(function (element) {\n        return element.get('className') === \"node-label\";\n      });\n\n      if (labelShape) {\n        labelShape.toFront();\n      }\n    }\n  }\n};\n\nvar singleNodeDef = __assign(__assign({}, shapeBase), singleNode);\n\nShape.registerNode('single-node', singleNodeDef);","/**\n * @fileOverview \n * @description  mixin \n */\nimport { __assign } from \"tslib\";\nimport { deepMix, mix, each, isNil, isNumber, isArray } from '@antv/util';\nimport { getLabelPosition, getLoopCfgs } from '../util/graphic';\nimport { distance, getCircleCenterByPoints } from '../util/math';\nimport { getControlPoint, getSpline } from '../util/path';\nimport Global from '../global';\nimport Shape from './shape';\nimport { shapeBase, CLS_LABEL_BG_SUFFIX } from './shapeBase';\nvar CLS_SHAPE = 'edge-shape'; // start,end center \n\nfunction revertAlign(labelPosition) {\n  var textAlign = labelPosition;\n\n  if (labelPosition === 'start') {\n    textAlign = 'end';\n  } else if (labelPosition === 'end') {\n    textAlign = 'start';\n  }\n\n  return textAlign;\n}\n\nvar singleEdge = {\n  itemType: 'edge',\n\n  /**\n   * \n   * @type {String}\n   */\n  labelPosition: 'center',\n\n  /**\n   *  x \n   * @type {Number}\n   */\n  refX: 0,\n\n  /**\n   *  y \n   * @type {Number}\n   */\n  refY: 0,\n\n  /**\n   *  false\n   * @type {Boolean}\n   */\n  labelAutoRotate: false,\n  // \n  options: {\n    size: Global.defaultEdge.size,\n    style: {\n      x: 0,\n      y: 0,\n      stroke: Global.defaultEdge.style.stroke,\n      lineAppendWidth: Global.defaultEdge.style.lineAppendWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.edgeLabel.style.fill,\n        fontSize: Global.edgeLabel.style.fontSize\n      }\n    },\n    stateStyles: __assign({}, Global.edgeStateStyles)\n  },\n\n  /**\n   *  path\n   * @internal \n   * @param  {Array} points \n   * @return {Array}  path \n   */\n  getPath: function getPath(points) {\n    var path = [];\n    each(points, function (point, index) {\n      if (index === 0) {\n        path.push(['M', point.x, point.y]);\n      } else {\n        path.push(['L', point.x, point.y]);\n      }\n    });\n    return path;\n  },\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.options.style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle, cfg.style);\n    var size = cfg.size || Global.defaultEdge.size;\n    cfg = this.getPathPoints(cfg);\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    var controlPoints = this.getControlPoints(cfg);\n    var points = [startPoint]; // \n    // \n\n    if (controlPoints) {\n      points = points.concat(controlPoints);\n    } // \n\n\n    points.push(endPoint);\n    var path = this.getPath(points);\n    var styles = mix({}, Global.defaultEdge.style, {\n      stroke: Global.defaultEdge.color,\n      lineWidth: size,\n      path: path\n    }, style);\n    return styles;\n  },\n  updateShapeStyle: function updateShapeStyle(cfg, item) {\n    var group = item.getContainer();\n    var strokeStyle = {\n      stroke: cfg.color\n    };\n    var shape = group.find(function (element) {\n      return element.get('className') === 'edge-shape';\n    }) || item.getKeyShape();\n    var size = cfg.size;\n    cfg = this.getPathPoints(cfg);\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    var controlPoints = this.getControlPoints(cfg); // || cfg.controlPoints;\n\n    var points = [startPoint]; // \n    // \n\n    if (controlPoints) {\n      points = points.concat(controlPoints);\n    } // \n\n\n    points.push(endPoint);\n    var currentAttr = shape.attr();\n    var previousStyle = mix({}, strokeStyle, currentAttr, cfg.style);\n    var source = cfg.sourceNode;\n    var target = cfg.targetNode;\n    var routeCfg = {\n      radius: previousStyle.radius\n    };\n\n    if (!controlPoints) {\n      routeCfg = {\n        source: source,\n        target: target,\n        offset: previousStyle.offset,\n        radius: previousStyle.radius\n      };\n    }\n\n    if (currentAttr.endArrow && previousStyle.endArrow === false) {\n      cfg.style.endArrow = {\n        path: ''\n      };\n    }\n\n    if (currentAttr.startArrow && previousStyle.startArrow === false) {\n      cfg.style.startArrow = {\n        path: ''\n      };\n    }\n\n    var path = this.getPath(points, routeCfg);\n    var style = mix(strokeStyle, shape.attr(), {\n      lineWidth: size,\n      path: path\n    }, cfg.style);\n\n    if (shape) {\n      shape.attr(style);\n    }\n  },\n  getLabelStyleByPosition: function getLabelStyleByPosition(cfg, labelCfg, group) {\n    var labelPosition = labelCfg.position || this.labelPosition; // \n\n    var style = {};\n    var pathShape = group && group.find(function (element) {\n      return element.get('className') === CLS_SHAPE;\n    }); //  pathShape \n\n    var pointPercent;\n\n    if (labelPosition === 'start') {\n      pointPercent = 0;\n    } else if (labelPosition === 'end') {\n      pointPercent = 1;\n    } else {\n      pointPercent = 0.5;\n    } // \n\n\n    var offsetX = labelCfg.refX || this.refX;\n    var offsetY = labelCfg.refY || this.refY; // label + \n\n    if (cfg.startPoint.x === cfg.endPoint.x && cfg.startPoint.y === cfg.endPoint.y) {\n      style.x = cfg.startPoint.x + offsetX;\n      style.y = cfg.startPoint.y + offsetY;\n      style.text = cfg.label;\n      return style;\n    }\n\n    var autoRotate;\n    if (isNil(labelCfg.autoRotate)) autoRotate = this.labelAutoRotate;else autoRotate = labelCfg.autoRotate;\n    var offsetStyle = getLabelPosition(pathShape, pointPercent, offsetX, offsetY, autoRotate);\n    style.x = offsetStyle.x;\n    style.y = offsetStyle.y;\n    style.rotate = offsetStyle.rotate;\n    style.textAlign = this._getTextAlign(labelPosition, offsetStyle.angle);\n    style.text = cfg.label;\n    return style;\n  },\n  getLabelBgStyleByPosition: function getLabelBgStyleByPosition(label, cfg, labelCfg, group) {\n    if (!label) {\n      return {};\n    }\n\n    var bbox = label.getBBox();\n    var backgroundStyle = labelCfg.style && labelCfg.style.background;\n\n    if (!backgroundStyle) {\n      return {};\n    }\n\n    var padding = backgroundStyle.padding;\n    var backgroundWidth = bbox.width + padding[1] + padding[3];\n    var backgroundHeight = bbox.height + padding[0] + padding[2];\n    var labelPosition = labelCfg.position || this.labelPosition;\n\n    var style = __assign(__assign({}, backgroundStyle), {\n      width: backgroundWidth,\n      height: backgroundHeight,\n      x: bbox.minX - padding[2],\n      y: bbox.minY - padding[0],\n      rotate: 0\n    });\n\n    var autoRotate;\n    if (isNil(labelCfg.autoRotate)) autoRotate = this.labelAutoRotate;else autoRotate = labelCfg.autoRotate;\n    var pathShape = group && group.find(function (element) {\n      return element.get('className') === CLS_SHAPE;\n    }); //  pathShape \n\n    var pointPercent;\n\n    if (labelPosition === 'start') {\n      pointPercent = 0;\n    } else if (labelPosition === 'end') {\n      pointPercent = 1;\n    } else {\n      pointPercent = 0.5;\n    } // \n\n\n    var offsetX = labelCfg.refX || this.refX;\n    var offsetY = labelCfg.refY || this.refY; // // label + \n\n    if (cfg.startPoint.x === cfg.endPoint.x && cfg.startPoint.y === cfg.endPoint.y) {\n      style.x = cfg.startPoint.x + offsetX - backgroundWidth / 2;\n      style.y = cfg.startPoint.y + offsetY - backgroundHeight / 2;\n      return style;\n    }\n\n    var offsetStyle = getLabelPosition(pathShape, pointPercent, offsetX - backgroundWidth / 2, offsetY + backgroundHeight / 2, autoRotate);\n    var rad = offsetStyle.angle;\n\n    if (rad > 1 / 2 * Math.PI && rad < 3 * 1 / 2 * Math.PI) {\n      offsetStyle = getLabelPosition(pathShape, pointPercent, offsetX + backgroundWidth / 2, offsetY + backgroundHeight / 2, autoRotate);\n    }\n\n    if (autoRotate) {\n      style.x = offsetStyle.x;\n      style.y = offsetStyle.y;\n    }\n\n    style.rotate = offsetStyle.rotate;\n    return style;\n  },\n  // \n  _getTextAlign: function _getTextAlign(labelPosition, angle) {\n    var textAlign = 'center';\n\n    if (!angle) {\n      return labelPosition;\n    }\n\n    angle = angle % (Math.PI * 2); // \n\n    if (labelPosition !== 'center') {\n      if (angle >= 0 && angle <= Math.PI / 2 || angle >= 3 / 2 * Math.PI && angle < 2 * Math.PI) {\n        textAlign = labelPosition;\n      } else {\n        textAlign = revertAlign(labelPosition);\n      }\n    }\n\n    return textAlign;\n  },\n\n  /**\n   * @internal \n   * @param  {Object} cfg \n   * @return {Array} \n   */\n  getControlPoints: function getControlPoints(cfg) {\n    return cfg.controlPoints;\n  },\n\n  /**\n   * @internal \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getPathPoints: function getPathPoints(cfg) {\n    return cfg;\n  },\n\n  /**\n   * \n   * @override\n   * @param  {Object} cfg   \n   * @param  {G.Group} group \n   * @return {IShape} \n   */\n  drawShape: function drawShape(cfg, group) {\n    var shapeStyle = this.getShapeStyle(cfg);\n    var shape = group.addShape('path', {\n      className: CLS_SHAPE,\n      name: CLS_SHAPE,\n      attrs: shapeStyle\n    });\n    return shape;\n  },\n  drawLabel: function drawLabel(cfg, group) {\n    var defaultLabelCfg = this.options.labelCfg;\n    var defaultFontFamily;\n    if (typeof window !== 'undefined' && typeof window.getComputedStyle !== 'undefined') defaultFontFamily = window.getComputedStyle(document.body, null).getPropertyValue('font-family') || 'Arial, sans-serif';else defaultFontFamily = 'Arial, sans-serif';\n    var labelCfg = deepMix({\n      fontFamily: defaultFontFamily\n    }, defaultLabelCfg, cfg.labelCfg);\n    var labelStyle = this.getLabelStyle(cfg, labelCfg, group);\n    var rotate = labelStyle.rotate;\n    delete labelStyle.rotate;\n    var label = group.addShape('text', {\n      attrs: labelStyle,\n      name: 'text-shape'\n    });\n\n    if (rotate) {\n      label.rotateAtStart(rotate);\n    }\n\n    if (labelStyle.background) {\n      var rect = this.drawLabelBg(cfg, group, label);\n      var labelBgClassname = this.itemType + CLS_LABEL_BG_SUFFIX;\n      rect.set('classname', labelBgClassname);\n      label.toFront();\n    }\n\n    return label;\n  },\n  drawLabelBg: function drawLabelBg(cfg, group, label) {\n    var defaultLabelCfg = this.options.labelCfg;\n    var labelCfg = deepMix({}, defaultLabelCfg, cfg.labelCfg);\n    var labelStyle = this.getLabelStyle(cfg, labelCfg, group);\n    var rotate = labelStyle.rotate;\n    var style = this.getLabelBgStyleByPosition(label, cfg, labelCfg, group);\n    delete style.rotate;\n    var rect = group.addShape('rect', {\n      name: 'text-bg-shape',\n      attrs: style\n    });\n    if (rotate) rect.rotateAtStart(rotate);\n    return rect;\n  }\n};\n\nvar singleEdgeDef = __assign(__assign({}, shapeBase), singleEdge);\n\nShape.registerEdge('single-edge', singleEdgeDef); // , \n\nShape.registerEdge('line', {\n  // \n  getControlPoints: function getControlPoints() {\n    return undefined;\n  }\n}, 'single-edge'); // \n\nShape.registerEdge('spline', {\n  getPath: function getPath(points) {\n    var path = getSpline(points);\n    return path;\n  }\n}, 'single-edge');\nShape.registerEdge('arc', {\n  curveOffset: 20,\n  clockwise: 1,\n  getControlPoints: function getControlPoints(cfg) {\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    var midPoint = {\n      x: (startPoint.x + endPoint.x) / 2,\n      y: (startPoint.y + endPoint.y) / 2\n    };\n    var center;\n    var arcPoint; // \n\n    if (cfg.controlPoints !== undefined) {\n      arcPoint = cfg.controlPoints[0];\n      center = getCircleCenterByPoints(startPoint, arcPoint, endPoint); //  clockwise\n\n      if (startPoint.x <= endPoint.x && startPoint.y > endPoint.y) {\n        this.clockwise = center.x > arcPoint.x ? 0 : 1;\n      } else if (startPoint.x <= endPoint.x && startPoint.y < endPoint.y) {\n        this.clockwise = center.x > arcPoint.x ? 1 : 0;\n      } else if (startPoint.x > endPoint.x && startPoint.y <= endPoint.y) {\n        this.clockwise = center.y < arcPoint.y ? 0 : 1;\n      } else {\n        this.clockwise = center.y < arcPoint.y ? 1 : 0;\n      } // \n\n\n      if ((arcPoint.x - startPoint.x) / (arcPoint.y - startPoint.y) === (endPoint.x - startPoint.x) / (endPoint.y - startPoint.y)) {\n        return [];\n      }\n    } else {\n      // \n      // \n      if (cfg.curveOffset === undefined) {\n        cfg.curveOffset = this.curveOffset;\n      }\n\n      if (isArray(cfg.curveOffset)) {\n        cfg.curveOffset = cfg.curveOffset[0];\n      }\n\n      if (cfg.curveOffset < 0) {\n        this.clockwise = 0;\n      } else {\n        this.clockwise = 1;\n      }\n\n      var vec = {\n        x: endPoint.x - startPoint.x,\n        y: endPoint.y - startPoint.y\n      };\n      var edgeAngle = Math.atan2(vec.y, vec.x);\n      arcPoint = {\n        x: cfg.curveOffset * Math.cos(-Math.PI / 2 + edgeAngle) + midPoint.x,\n        y: cfg.curveOffset * Math.sin(-Math.PI / 2 + edgeAngle) + midPoint.y\n      };\n      center = getCircleCenterByPoints(startPoint, arcPoint, endPoint);\n    }\n\n    var radius = distance(startPoint, center);\n    var controlPoints = [{\n      x: radius,\n      y: radius\n    }];\n    return controlPoints;\n  },\n  getPath: function getPath(points) {\n    var path = [];\n    path.push(['M', points[0].x, points[0].y]); // \n\n    if (points.length === 2) {\n      path.push(['L', points[1].x, points[1].y]);\n    } else {\n      path.push(['A', points[1].x, points[1].y, 0, 0, this.clockwise, points[2].x, points[2].y]);\n    }\n\n    return path;\n  }\n}, 'single-edge');\nShape.registerEdge('quadratic', {\n  curvePosition: 0.5,\n  curveOffset: -20,\n  getControlPoints: function getControlPoints(cfg) {\n    var controlPoints = cfg.controlPoints; // controlPoints\n\n    if (!controlPoints || !controlPoints.length) {\n      var startPoint = cfg.startPoint,\n          endPoint = cfg.endPoint;\n      if (cfg.curveOffset === undefined) cfg.curveOffset = this.curveOffset;\n      if (cfg.curvePosition === undefined) cfg.curvePosition = this.curvePosition;\n      if (isArray(this.curveOffset)) cfg.curveOffset = cfg.curveOffset[0];\n      if (isArray(this.curvePosition)) cfg.curvePosition = cfg.curveOffset[0];\n      var innerPoint = getControlPoint(startPoint, endPoint, cfg.curvePosition, cfg.curveOffset);\n      controlPoints = [innerPoint];\n    }\n\n    return controlPoints;\n  },\n  getPath: function getPath(points) {\n    var path = [];\n    path.push(['M', points[0].x, points[0].y]);\n    path.push(['Q', points[1].x, points[1].y, points[2].x, points[2].y]);\n    return path;\n  }\n}, 'single-edge');\nShape.registerEdge('cubic', {\n  curvePosition: [1 / 2, 1 / 2],\n  curveOffset: [-20, 20],\n  getControlPoints: function getControlPoints(cfg) {\n    var controlPoints = cfg.controlPoints; //  controlPoints\n\n    if (cfg.curveOffset === undefined) cfg.curveOffset = this.curveOffset;\n    if (cfg.curvePosition === undefined) cfg.curvePosition = this.curvePosition;\n    if (isNumber(cfg.curveOffset)) cfg.curveOffset = [cfg.curveOffset, -cfg.curveOffset];\n    if (isNumber(cfg.curvePosition)) cfg.curvePosition = [cfg.curvePosition, 1 - cfg.curvePosition];\n\n    if (!controlPoints || !controlPoints.length || controlPoints.length < 2) {\n      var startPoint = cfg.startPoint,\n          endPoint = cfg.endPoint;\n      var innerPoint1 = getControlPoint(startPoint, endPoint, cfg.curvePosition[0], cfg.curveOffset[0]);\n      var innerPoint2 = getControlPoint(startPoint, endPoint, cfg.curvePosition[1], cfg.curveOffset[1]);\n      controlPoints = [innerPoint1, innerPoint2];\n    }\n\n    return controlPoints;\n  },\n  getPath: function getPath(points) {\n    var path = [];\n    path.push(['M', points[0].x, points[0].y]);\n    path.push(['C', points[1].x, points[1].y, points[2].x, points[2].y, points[3].x, points[3].y]);\n    return path;\n  }\n}, 'single-edge'); // \n\nShape.registerEdge('cubic-vertical', {\n  curvePosition: [1 / 2, 1 / 2],\n  minCurveOffset: [0, 0],\n  curveOffset: undefined,\n  getControlPoints: function getControlPoints(cfg) {\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    if (cfg.curvePosition === undefined) cfg.curvePosition = this.curvePosition;\n    if (cfg.curveOffset === undefined) cfg.curveOffset = this.curveOffset;\n    if (cfg.minCurveOffset === undefined) cfg.minCurveOffset = this.minCurveOffset;\n    if (isNumber(cfg.curveOffset)) cfg.curveOffset = [cfg.curveOffset, -cfg.curveOffset];\n    if (isNumber(cfg.minCurveOffset)) cfg.minCurveOffset = [cfg.minCurveOffset, -cfg.minCurveOffset];\n    if (isNumber(cfg.curvePosition)) cfg.curvePosition = [cfg.curvePosition, 1 - cfg.curvePosition];\n    var yDist = endPoint.y - startPoint.y;\n    var curveOffset = [0, 0];\n\n    if (cfg.curveOffset) {\n      curveOffset = cfg.curveOffset;\n    } else if (Math.abs(yDist) < Math.abs(cfg.minCurveOffset[0])) {\n      curveOffset = cfg.minCurveOffset;\n    }\n\n    var innerPoint1 = {\n      x: startPoint.x,\n      y: startPoint.y + yDist * this.curvePosition[0] + curveOffset[0]\n    };\n    var innerPoint2 = {\n      x: endPoint.x,\n      y: endPoint.y - yDist * this.curvePosition[1] + curveOffset[1]\n    };\n    return [innerPoint1, innerPoint2];\n  }\n}, 'cubic'); // \n\nShape.registerEdge('cubic-horizontal', {\n  curvePosition: [1 / 2, 1 / 2],\n  minCurveOffset: [0, 0],\n  curveOffset: undefined,\n  getControlPoints: function getControlPoints(cfg) {\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    if (cfg.curvePosition === undefined) cfg.curvePosition = this.curvePosition;\n    if (cfg.curveOffset === undefined) cfg.curveOffset = this.curveOffset;\n    if (cfg.minCurveOffset === undefined) cfg.minCurveOffset = this.minCurveOffset;\n    if (isNumber(cfg.curveOffset)) cfg.curveOffset = [cfg.curveOffset, -cfg.curveOffset];\n    if (isNumber(cfg.minCurveOffset)) cfg.minCurveOffset = [cfg.minCurveOffset, -cfg.minCurveOffset];\n    if (isNumber(cfg.curvePosition)) cfg.curvePosition = [cfg.curvePosition, 1 - cfg.curvePosition];\n    var xDist = endPoint.x - startPoint.x;\n    var curveOffset = [0, 0];\n\n    if (cfg.curveOffset) {\n      curveOffset = cfg.curveOffset;\n    } else if (Math.abs(xDist) < Math.abs(cfg.minCurveOffset[0])) {\n      curveOffset = cfg.minCurveOffset;\n    }\n\n    var innerPoint1 = {\n      x: startPoint.x + xDist * this.curvePosition[0] + curveOffset[0],\n      y: startPoint.y\n    };\n    var innerPoint2 = {\n      x: endPoint.x - xDist * this.curvePosition[1] + curveOffset[1],\n      y: endPoint.y\n    };\n    var controlPoints = [innerPoint1, innerPoint2];\n    return controlPoints;\n  }\n}, 'cubic');\nShape.registerEdge('loop', {\n  getPathPoints: function getPathPoints(cfg) {\n    return getLoopCfgs(cfg);\n  },\n  getControlPoints: function getControlPoints(cfg) {\n    return cfg.controlPoints;\n  },\n  afterDraw: function afterDraw(cfg) {\n    cfg.controlPoints = undefined;\n  },\n  afterUpdate: function afterUpdate(cfg) {\n    cfg.controlPoints = undefined;\n  }\n}, 'cubic');","import { __assign } from \"tslib\";\nimport { isArray, isNil, clone } from '@antv/util';\nimport Global from '../global';\nimport Shape from './shape';\nimport { shapeBase } from './shapeBase';\nvar singleCombo = {\n  itemType: 'combo',\n  // \n  shapeType: 'single-combo',\n\n  /**\n   * Combo  top\n   *  top, bottom, left, right, center\n   * @type {String}\n   */\n  labelPosition: 'top',\n\n  /**\n   *  labelPosition  center \n   * @type {Number}\n   */\n  refX: Global.comboLabel.refX,\n  refY: Global.comboLabel.refY,\n  options: {\n    style: {\n      stroke: Global.defaultCombo.style.stroke,\n      fill: Global.defaultCombo.style.fill,\n      lineWidth: Global.defaultCombo.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.comboLabel.style.fill,\n        fontSize: Global.comboLabel.style.fontSize\n      }\n    },\n    stateStyles: __assign({}, Global.comboStateStyles)\n  },\n\n  /**\n   *  Combo \n   * @internal  Combo  [width, height] \n   * @param  {Object} cfg Combo \n   * @return {Array} \n   */\n  getSize: function getSize(cfg) {\n    var size = clone(cfg.size || this.options.size || Global.defaultCombo.size); // size  1 2\n\n    if (isArray(size) && size.length === 1) {\n      size = [size[0], size[0]];\n    } // size \n\n\n    if (!isArray(size)) {\n      size = [size, size];\n    }\n\n    return size;\n  },\n  //  Combo \n  getLabelStyleByPosition: function getLabelStyleByPosition(cfg, labelCfg) {\n    var labelPosition = labelCfg.position || this.labelPosition;\n    var cfgStyle = cfg.style;\n    var padding = cfg.padding || this.options.padding;\n    if (isArray(padding)) padding = padding[0];\n    var refX = labelCfg.refX,\n        refY = labelCfg.refY; //  refX  refY = 0  labelCfg.refX || Global.nodeLabel.refX\n\n    if (isNil(refX)) {\n      refX = this.refX; // \n    }\n\n    if (isNil(refY)) {\n      refY = this.refY; // \n    }\n\n    var size = this.getSize(cfg);\n    var r = Math.max(cfgStyle.r, size[0] / 2) || size[0] / 2;\n    var dis = r + padding;\n    var style;\n\n    switch (labelPosition) {\n      case 'top':\n        style = {\n          x: 0,\n          y: -dis - refY,\n          textBaseline: 'bottom',\n          textAlign: 'center'\n        };\n        break;\n\n      case 'bottom':\n        style = {\n          x: 0,\n          y: dis + refY,\n          textBaseline: 'bottom',\n          textAlign: 'center'\n        };\n        break;\n\n      case 'left':\n        style = {\n          x: -dis + refX,\n          y: 0,\n          textAlign: 'left'\n        };\n        break;\n\n      case 'center':\n        style = {\n          x: 0,\n          y: 0,\n          text: cfg.label,\n          textAlign: 'center'\n        };\n        break;\n\n      default:\n        style = {\n          x: dis + refX,\n          y: 0,\n          textAlign: 'right'\n        };\n        break;\n    }\n\n    style.text = cfg.label;\n    return style;\n  },\n  drawShape: function drawShape(cfg, group) {\n    var shapeType = this.shapeType; // || this.type shapeType\n\n    var style = this.getShapeStyle(cfg);\n    var shape = group.addShape(shapeType, {\n      attrs: style,\n      draggable: true,\n      name: 'combo-shape'\n    });\n    return shape;\n  },\n  updateShape: function updateShape(cfg, item, keyShapeStyle) {\n    var keyShape = item.get('keyShape');\n    var animate = cfg.animate === undefined ? this.options.animate : cfg.animate;\n\n    if (animate && keyShape.animate) {\n      keyShape.animate(keyShapeStyle, {\n        duration: 200,\n        easing: 'easeLinear'\n      });\n    } else {\n      keyShape.attr(__assign({}, keyShapeStyle));\n    }\n\n    this.updateLabel(cfg, item); // special for some types of nodes\n  }\n};\n\nvar singleComboDef = __assign(__assign({}, shapeBase), singleCombo);\n\nShape.registerCombo('single-combo', singleComboDef);","import { __assign } from \"tslib\";\nimport Global from '../../global';\nimport Shape from '../shape';\nimport { isNumber, clone, mix, isArray } from '@antv/util'; //  Combo\n\nShape.registerCombo('circle', {\n  // \n  options: {\n    size: [Global.defaultCombo.size[0], Global.defaultCombo.size[0]],\n    padding: Global.defaultCombo.padding[0],\n    animate: true,\n    style: {\n      stroke: Global.defaultCombo.style.stroke,\n      fill: Global.defaultCombo.style.fill,\n      lineWidth: Global.defaultCombo.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.comboLabel.style.fill,\n        fontSize: Global.comboLabel.style.fontSize\n      },\n      refX: 0,\n      refY: 0\n    },\n    stateStyles: __assign({}, Global.comboStateStyles)\n  },\n  shapeType: 'circle',\n  // \n  labelPosition: 'top',\n  drawShape: function drawShape(cfg, group) {\n    var style = this.getShapeStyle(cfg);\n    delete style.height;\n    delete style.width;\n    var keyShape = group.addShape('circle', {\n      attrs: style,\n      className: 'circle-combo',\n      name: 'circle-combo',\n      draggable: true\n    });\n    return keyShape;\n  },\n\n  /**\n   *  Combo  Combo \n   * @param {Object} cfg Combo \n   * @return {Object} Combo \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.options.style;\n    var padding = cfg.padding || this.options.padding;\n    if (isArray(padding)) padding = padding[0];\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle, cfg.style);\n    var r;\n\n    if (cfg.fixSize) {\n      r = isNumber(cfg.fixSize) ? cfg.fixSize : cfg.fixSize[0];\n    } else {\n      var size = this.getSize(cfg);\n      if (!isNumber(style.r) || isNaN(style.r)) r = size[0] / 2 || Global.defaultCombo.style.r;else r = Math.max(style.r, size[0] / 2) || size[0] / 2;\n    }\n\n    style.r = r + padding;\n\n    var styles = __assign({\n      x: 0,\n      y: 0\n    }, style);\n\n    if (cfg.style) cfg.style.r = r;else {\n      cfg.style = {\n        r: r\n      };\n    }\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var size = this.getSize(cfg);\n    var padding = cfg.padding || this.options.padding;\n    if (isArray(padding)) padding = padding[0];\n    var cfgStyle = clone(cfg.style);\n    var r;\n\n    if (cfg.fixSize) {\n      r = isNumber(cfg.fixSize) ? cfg.fixSize : cfg.fixSize[0];\n    } else {\n      r = Math.max(cfgStyle.r, size[0] / 2) || size[0] / 2;\n    }\n\n    cfgStyle.r = r + padding;\n    var itemCacheSize = item.get('sizeCache');\n\n    if (itemCacheSize) {\n      itemCacheSize.r = cfgStyle.r;\n    } //  cfg  cfg \n\n\n    var strokeStyle = {\n      stroke: cfg.color\n    }; //  getShapeStyle update  style \n\n    var keyShape = item.get('keyShape');\n    var style = mix({}, keyShape.attr(), strokeStyle, cfgStyle);\n    if (cfg.style) cfg.style.r = r;else {\n      cfg.style = {\n        r: r\n      };\n    }\n    this.updateShape(cfg, item, style, true);\n  }\n}, 'single-combo');","import { __assign } from \"tslib\";\nimport { mix, isNumber, clone, isNil } from '@antv/util';\nimport Global from '../../global';\nimport Shape from '../shape';\nShape.registerCombo('rect', {\n  //  Combo \n  options: {\n    size: [40, 5],\n    padding: [25, 20, 15, 20],\n    animate: true,\n    style: {\n      radius: 0,\n      stroke: Global.defaultCombo.style.stroke,\n      fill: Global.defaultCombo.style.fill,\n      lineWidth: Global.defaultCombo.style.lineWidth\n    },\n    // \n    labelCfg: {\n      style: {\n        fill: Global.comboLabel.style.fill,\n        fontSize: Global.comboLabel.style.fontSize\n      }\n    },\n    // \n    anchorPoints: [[0, 0.5], [1, 0.5]],\n    stateStyles: __assign({}, Global.comboStateStyles)\n  },\n  shapeType: 'rect',\n  labelPosition: 'top',\n  drawShape: function drawShape(cfg, group) {\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('rect', {\n      attrs: style,\n      className: 'rect-combo',\n      name: 'rect-combo',\n      draggable: true\n    });\n    return keyShape;\n  },\n  //  Combo \n  getLabelStyleByPosition: function getLabelStyleByPosition(cfg, labelCfg) {\n    var labelPosition = labelCfg.position || this.labelPosition;\n    var cfgStyle = cfg.style;\n    var padding = cfg.padding || this.options.padding;\n    if (isNumber(padding)) padding = [padding, padding, padding, padding];\n    var refX = labelCfg.refX,\n        refY = labelCfg.refY; //  refX  refY = 0  labelCfg.refX || Global.nodeLabel.refY\n\n    if (isNil(refX)) {\n      refX = this.refX; // \n    }\n\n    if (isNil(refY)) {\n      refY = this.refY; // \n    }\n\n    var leftDis = cfgStyle.width / 2 + padding[3];\n    var topDis = cfgStyle.height / 2 + padding[0];\n    var style;\n\n    switch (labelPosition) {\n      case 'top':\n        style = {\n          x: 0 - leftDis + refX,\n          y: 0 - topDis + refY,\n          textBaseline: 'top',\n          textAlign: 'left'\n        };\n        break;\n\n      case 'bottom':\n        style = {\n          x: 0,\n          y: topDis + refY,\n          textBaseline: 'bottom',\n          textAlign: 'center'\n        };\n        break;\n\n      case 'left':\n        style = {\n          x: 0 - leftDis + refY,\n          y: 0,\n          textAlign: 'left'\n        };\n        break;\n\n      case 'center':\n        style = {\n          x: 0,\n          y: 0,\n          text: cfg.label,\n          textAlign: 'center'\n        };\n        break;\n\n      default:\n        style = {\n          x: leftDis + refX,\n          y: 0,\n          textAlign: 'right'\n        };\n        break;\n    }\n\n    style.text = cfg.label;\n    return style;\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.options.style;\n    var padding = cfg.padding || this.options.padding;\n    if (isNumber(padding)) padding = [padding, padding, padding, padding];\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle, cfg.style);\n    var size = this.getSize(cfg);\n    var width;\n    var height;\n    var fixSize = cfg.collapsed && cfg.fixCollapseSize ? cfg.fixCollapseSize : cfg.fixSize;\n\n    if (fixSize) {\n      if (isNumber(fixSize)) {\n        width = fixSize;\n        height = fixSize;\n      } else {\n        width = fixSize[0];\n        height = fixSize[1];\n      }\n    } else {\n      if (!isNumber(style.width) || isNaN(style.width)) width = size[0] || Global.defaultCombo.style.width;else width = Math.max(style.width, size[0]) || size[0];\n      if (!isNumber(style.height) || isNaN(style.height)) height = size[1] || Global.defaultCombo.style.height;else height = Math.max(style.height, size[1]) || size[1];\n    }\n\n    var x = -width / 2 - padding[3];\n    var y = -height / 2 - padding[0];\n    style.width = width + padding[1] + padding[3];\n    style.height = height + padding[0] + padding[2];\n\n    var styles = __assign({\n      x: x,\n      y: y\n    }, style);\n\n    if (!cfg.style) {\n      cfg.style = {\n        width: width,\n        height: height\n      };\n    } else {\n      cfg.style.width = width;\n      cfg.style.height = height;\n    }\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var size = this.getSize(cfg);\n    var padding = cfg.padding || this.options.padding;\n    if (isNumber(padding)) padding = [padding, padding, padding, padding];\n    var cfgStyle = clone(cfg.style);\n    var width, height;\n    var fixSize = cfg.collapsed && cfg.fixCollapseSize ? cfg.fixCollapseSize : cfg.fixSize;\n\n    if (fixSize) {\n      if (isNumber(fixSize)) {\n        width = fixSize;\n        height = fixSize;\n      } else {\n        width = fixSize[0];\n        height = fixSize[1];\n      }\n    } else {\n      width = Math.max(cfgStyle.width, size[0]) || size[0];\n      height = Math.max(cfgStyle.height, size[1]) || size[1];\n    }\n\n    cfgStyle.width = width + padding[1] + padding[3];\n    cfgStyle.height = height + padding[0] + padding[2];\n    var itemCacheSize = item.get('sizeCache');\n\n    if (itemCacheSize) {\n      itemCacheSize.width = cfgStyle.width;\n      itemCacheSize.height = cfgStyle.height;\n    }\n\n    cfgStyle.x = -width / 2 - padding[3];\n    cfgStyle.y = -height / 2 - padding[0]; //  cfg  cfg \n\n    var strokeStyle = {\n      stroke: cfg.color\n    }; //  getShapeStyle update  style \n\n    var keyShape = item.get('keyShape');\n    var style = mix({}, keyShape.attr(), strokeStyle, cfgStyle);\n\n    if (cfg.style) {\n      cfg.style.width = width;\n      cfg.style.height = height;\n    } else {\n      cfg.style = {\n        width: width,\n        height: height\n      };\n    }\n\n    this.updateShape(cfg, item, style, false);\n  },\n  updateShape: function updateShape(cfg, item, keyShapeStyle) {\n    var keyShape = item.get('keyShape');\n    var animate = cfg.animate === undefined ? this.options.animate : cfg.animate;\n\n    if (animate && keyShape.animate) {\n      keyShape.animate(keyShapeStyle, {\n        duration: 200,\n        easing: 'easeLinear'\n      });\n    } else {\n      keyShape.attr(__assign({}, keyShapeStyle));\n    }\n\n    this.updateLabel(cfg, item);\n  }\n}, 'single-combo');","import { __assign } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport Global from '../../global';\nimport Shape from '../shape'; // \n\nShape.registerNode('simple-circle', {\n  // \n  options: {\n    size: Global.defaultNode.size,\n    style: {\n      x: 0,\n      y: 0,\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      }\n    },\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'simple-circle',\n  // \n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('circle', {\n      attrs: style,\n      className: \"\".concat(this.type, \"-keyShape\"),\n      draggable: true\n    });\n    return keyShape;\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = deepMix({}, defaultStyle, strokeStyle);\n    var size = this.getSize(cfg);\n    var r = size[0] / 2;\n\n    var styles = __assign({\n      x: 0,\n      y: 0,\n      r: r\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var size = this.getSize(cfg); //  cfg  cfg \n\n    var strokeStyle = {\n      stroke: cfg.color,\n      r: size[0] / 2\n    }; //  getShapeStyle update  style \n\n    var keyShape = item.get('keyShape');\n    var style = deepMix({}, keyShape.attr(), strokeStyle, cfg.style);\n    this.updateShape(cfg, item, style, true);\n  }\n}, 'single-node');","import { __assign } from \"tslib\";\nimport { mix } from '@antv/util';\nimport Global from '../../global';\nimport Shape from '../shape';\nShape.registerNode('simple-rect', {\n  // \n  options: {\n    size: [100, 30],\n    style: {\n      radius: 0,\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    // \n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      }\n    },\n    // \n    // anchorPoints: [{ x: 0, y: 0.5 }, { x: 1, y: 0.5 }]\n    anchorPoints: [[0, 0.5], [1, 0.5]],\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'simple-rect',\n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('rect', {\n      attrs: style,\n      className: \"\".concat(this.type, \"-keyShape\"),\n      name: \"\".concat(this.type, \"-keyShape\"),\n      draggable: true\n    });\n    return keyShape;\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle);\n    var size = this.getSize(cfg);\n    var width = style.width || size[0];\n    var height = style.height || size[1];\n\n    var styles = __assign({\n      x: -width / 2,\n      y: -height / 2,\n      width: width,\n      height: height\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var group = item.getContainer(); //  cfg  cfg.style \n\n    var defaultStyle = this.getOptions({}).style;\n    var size = this.getSize(cfg);\n    var keyShape = item.get('keyShape');\n\n    if (!cfg.size) {\n      size[0] = keyShape.attr('width') || defaultStyle.width;\n      size[1] = keyShape.attr('height') || defaultStyle.height;\n    } //  cfg  cfg \n\n\n    var strokeStyle = {\n      stroke: cfg.color,\n      x: -size[0] / 2,\n      y: -size[1] / 2,\n      width: size[0],\n      height: size[1]\n    }; //  getShapeStyle update  style \n\n    var style = mix({}, defaultStyle, keyShape.attr(), strokeStyle);\n    style = mix(style, cfg.style);\n    this.updateShape(cfg, item, style, false);\n  }\n}, 'single-node');","import { __assign } from \"tslib\";\nimport Shape from '../shape';\n/**\n * \n */\n\nShape.registerNode('image', {\n  options: {\n    img: 'https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ',\n    size: 200,\n    clipCfg: {\n      show: false,\n      type: 'circle',\n      // circle\n      r: 50,\n      // ellipse\n      rx: 50,\n      ry: 35,\n      // rect\n      width: 50,\n      height: 35,\n      // polygon\n      points: [[30, 12], [12, 30], [30, 48], [48, 30]],\n      // path\n      path: [['M', 25, 25], ['L', 50, 25], ['A', 12.5, 12.5, 0, 1, 1, 50, 50], ['A', 12.5, 12.5, 0, 1, 0, 50, 50], ['L', 25, 75], ['Z']],\n      // \n      x: 0,\n      y: 0 // clip \n      // style: {\n      //   lineWidth: 1\n      // },\n\n    }\n  },\n  shapeType: 'image',\n  labelPosition: 'bottom',\n  drawShape: function drawShape(cfg, group) {\n    var shapeType = this.shapeType; // || this.type shapeType\n\n    var style = this.getShapeStyle(cfg);\n    delete style.fill;\n    var shape = group.addShape(shapeType, {\n      attrs: style,\n      className: \"\".concat(this.type, \"-keyShape\"),\n      name: \"\".concat(this.type, \"-keyShape\"),\n      draggable: true\n    });\n    this.drawClip(cfg, shape);\n    return shape;\n  },\n  drawClip: function drawClip(cfg, shape) {\n    var clip = this.getOptions(cfg).clipCfg;\n\n    if (!clip.show) {\n      return;\n    } //  circlerectellipsePolygon  path clip\n\n\n    var type = clip.type,\n        x = clip.x,\n        y = clip.y,\n        style = clip.style;\n\n    if (type === 'circle') {\n      var r = clip.r;\n      shape.setClip({\n        type: 'circle',\n        attrs: __assign({\n          r: r,\n          x: x,\n          y: y\n        }, style)\n      });\n    } else if (type === 'rect') {\n      var width = clip.width,\n          height = clip.height;\n      var rectX = x - width / 2;\n      var rectY = y - height / 2;\n      shape.setClip({\n        type: 'rect',\n        attrs: __assign({\n          x: rectX,\n          y: rectY,\n          width: width,\n          height: height\n        }, style)\n      });\n    } else if (type === 'ellipse') {\n      var rx = clip.rx,\n          ry = clip.ry;\n      shape.setClip({\n        type: 'ellipse',\n        attrs: __assign({\n          x: x,\n          y: y,\n          rx: rx,\n          ry: ry\n        }, style)\n      });\n    } else if (type === 'polygon') {\n      var points = clip.points;\n      shape.setClip({\n        type: 'polygon',\n        attrs: __assign({\n          points: points\n        }, style)\n      });\n    } else if (type === 'path') {\n      var path = clip.path;\n      shape.setClip({\n        type: 'path',\n        attrs: __assign({\n          path: path\n        }, style)\n      });\n    }\n  },\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var size = this.getSize(cfg);\n    var img = this.getOptions(cfg).img;\n    var width = size[0];\n    var height = size[1];\n\n    if (defaultStyle) {\n      width = defaultStyle.width || size[0];\n      height = defaultStyle.height || size[1];\n    }\n\n    var style = __assign({\n      x: -width / 2,\n      y: -height / 2,\n      width: width,\n      height: height,\n      img: img\n    }, defaultStyle);\n\n    return style;\n  },\n  updateShapeStyle: function updateShapeStyle(cfg, item) {\n    var group = item.getContainer();\n    var shapeClassName = \"\".concat(this.itemType, \"-shape\");\n    var shape = group.find(function (element) {\n      return element.get('className') === shapeClassName;\n    }) || item.getKeyShape();\n    var shapeStyle = this.getShapeStyle(cfg);\n\n    if (shape) {\n      shape.attr(shapeStyle);\n    }\n  }\n}, 'single-node');","export default {\n  triangle: function triangle(width, length, d) {\n    if (width === void 0) {\n      width = 10;\n    }\n\n    if (length === void 0) {\n      length = 15;\n    }\n\n    if (d === void 0) {\n      d = 0;\n    }\n\n    var begin = d * 2;\n    var path = \"M \".concat(begin, \",0 L \").concat(begin + length, \",-\").concat(width / 2, \" L \").concat(begin + length, \",\").concat(width / 2, \" Z\");\n    return path;\n  },\n  vee: function vee(width, length, d) {\n    if (width === void 0) {\n      width = 15;\n    }\n\n    if (length === void 0) {\n      length = 20;\n    }\n\n    if (d === void 0) {\n      d = 0;\n    }\n\n    var begin = d * 2;\n    var path = \"M \".concat(begin, \",0 L \").concat(begin + length, \",-\").concat(width / 2, \"\\n        L \").concat(begin + 2 * length / 3, \",0 L \").concat(begin + length, \",\").concat(width / 2, \" Z\");\n    return path;\n  },\n  circle: function circle(r, d) {\n    if (r === void 0) {\n      r = 5;\n    }\n\n    if (d === void 0) {\n      d = 0;\n    }\n\n    var begin = d * 2;\n    var path = \"M \".concat(begin, \", 0\\n            a \").concat(r, \",\").concat(r, \" 0 1,0 \").concat(r * 2, \",0\\n            a \").concat(r, \",\").concat(r, \" 0 1,0 \").concat(-r * 2, \",0\");\n    return path;\n  },\n  rect: function rect(width, length, d) {\n    if (width === void 0) {\n      width = 10;\n    }\n\n    if (length === void 0) {\n      length = 10;\n    }\n\n    if (d === void 0) {\n      d = 0;\n    }\n\n    var begin = d * 2;\n    var path = \"M \".concat(begin, \",\").concat(-width / 2, \" \\n        L \").concat(begin + length, \",\").concat(-width / 2, \" \\n        L \").concat(begin + length, \",\").concat(width / 2, \" \\n        L \").concat(begin, \",\").concat(width / 2, \" Z\");\n    return path;\n  },\n  diamond: function diamond(width, length, d) {\n    if (width === void 0) {\n      width = 15;\n    }\n\n    if (length === void 0) {\n      length = 15;\n    }\n\n    if (d === void 0) {\n      d = 0;\n    }\n\n    var begin = d * 2;\n    var path = \"M \".concat(begin, \",0 \\n        L \").concat(begin + length / 2, \",\").concat(-width / 2, \" \\n        L \").concat(begin + length, \",0 \\n        L \").concat(begin + length / 2, \",\").concat(width / 2, \" Z\");\n    return path;\n  },\n  triangleRect: function triangleRect(tWidth, tLength, rWidth, rLength, gap, d) {\n    if (tWidth === void 0) {\n      tWidth = 15;\n    }\n\n    if (tLength === void 0) {\n      tLength = 15;\n    }\n\n    if (rWidth === void 0) {\n      rWidth = 15;\n    }\n\n    if (rLength === void 0) {\n      rLength = 3;\n    }\n\n    if (gap === void 0) {\n      gap = 5;\n    }\n\n    if (d === void 0) {\n      d = 0;\n    }\n\n    var begin = d * 2;\n    var rectBegin = begin + tLength + gap;\n    var path = \"M \".concat(begin, \",0 L \").concat(begin + tLength, \",-\").concat(tWidth / 2, \" L \").concat(begin + tLength, \",\").concat(tWidth / 2, \" Z\\n            M \").concat(rectBegin, \", -\").concat(rWidth / 2, \"\\n            L \").concat(rectBegin + rLength, \" -\").concat(rWidth / 2, \"\\n            L \").concat(rectBegin + rLength, \" \").concat(rWidth / 2, \"\\n            L \").concat(rectBegin, \" \").concat(rWidth / 2, \"\\n            Z\");\n    return path;\n  }\n};","export * from '../interface'; // Behavior type file\n\nexport var G6Event;\n\n(function (G6Event) {\n  // common events\n  G6Event[\"CLICK\"] = \"click\";\n  G6Event[\"DBLCLICK\"] = \"dblclick\";\n  G6Event[\"TAP\"] = \"tap\";\n  G6Event[\"DBLTAP\"] = \"dbltap\";\n  G6Event[\"DRAGSTART\"] = \"dragstart\";\n  G6Event[\"DRAGEND\"] = \"dragend\";\n  G6Event[\"DRAG\"] = \"drag\";\n  G6Event[\"DRAGENTER\"] = \"dragenter\";\n  G6Event[\"DRAGLEAVE\"] = \"dragleave\";\n  G6Event[\"DRAGOVER\"] = \"dragover\";\n  G6Event[\"DRAGOUT\"] = \"dragout\";\n  G6Event[\"DDROP\"] = \"drop\";\n  G6Event[\"PINCHSTART\"] = \"pinchstart\";\n  G6Event[\"PINCHMOVE\"] = \"pinchmove\";\n  G6Event[\"PANSTART\"] = \"panstart\";\n  G6Event[\"PANMOVE\"] = \"panmove\";\n  G6Event[\"PANEND\"] = \"panend\";\n  G6Event[\"PRESS\"] = \"press\";\n  G6Event[\"ACTION_END\"] = \"actionend\"; // touch events\n\n  G6Event[\"TOUCHSTART\"] = \"touchstart\";\n  G6Event[\"TOUCHMOVE\"] = \"touchmove\";\n  G6Event[\"TOUCHEND\"] = \"touchend\";\n  G6Event[\"CANVAS_TOUCHSTART\"] = \"canvas:touchstart\";\n  G6Event[\"CANVAS_TOUCHMOVE\"] = \"canvas:touchmove\";\n  G6Event[\"CANVAS_TOUCHEND\"] = \"canvas:touchend\";\n  G6Event[\"NODE_TOUCHSTART\"] = \"node:touchstart\";\n  G6Event[\"NODE_TOUCHMOVE\"] = \"node:touchmove\";\n  G6Event[\"NODE_TOUCHEND\"] = \"node:touchend\";\n  G6Event[\"COMBO_TOUCHSTART\"] = \"combo:touchstart\";\n  G6Event[\"COMBO_TOUCHMOVE\"] = \"combo:touchmove\";\n  G6Event[\"COMBO_TOUCHEND\"] = \"combo:touchend\";\n  G6Event[\"EDGE_TOUCHSTART\"] = \"edge:touchstart\";\n  G6Event[\"EDGE_TOUCHMOVE\"] = \"edge:touchmove\";\n  G6Event[\"EDGE_TOUCHEND\"] = \"edge:touchend\"; // node events\n\n  G6Event[\"NODE_CLICK\"] = \"node:click\";\n  G6Event[\"NODE_DBLCLICK\"] = \"node:dblclick\";\n  G6Event[\"NODE_DROP\"] = \"node:drop\";\n  G6Event[\"NODE_DRAGOVER\"] = \"node:dragover\";\n  G6Event[\"NODE_DRAGENTER\"] = \"node:dragenter\";\n  G6Event[\"NODE_DRAGLEAVE\"] = \"node:dragleave\";\n  G6Event[\"NODE_DRAGSTART\"] = \"node:dragstart\";\n  G6Event[\"NODE_DRAG\"] = \"node:drag\";\n  G6Event[\"NODE_DRAGEND\"] = \"node:dragend\";\n  G6Event[\"NODE_TAP\"] = \"node:tap\";\n  G6Event[\"NODE_DBLTAP\"] = \"node:dbltap\";\n  G6Event[\"NODE_PANSTART\"] = \"node:panstart\";\n  G6Event[\"NODE_PANMOVE\"] = \"node:panmove\";\n  G6Event[\"NODE_PANEND\"] = \"node:panend\";\n  G6Event[\"NODE_PRESS\"] = \"node:press\"; // combo, extends from nodes\n\n  G6Event[\"COMBO_CLICK\"] = \"combo:click\";\n  G6Event[\"COMBO_DBLCLICK\"] = \"combo:dblclick\";\n  G6Event[\"COMBO_DROP\"] = \"combo:drop\";\n  G6Event[\"COMBO_DRAGOVER\"] = \"combo:dragover\";\n  G6Event[\"COMBO_DRAGENTER\"] = \"combo:dragenter\";\n  G6Event[\"COMBO_DRAGLEAVE\"] = \"combo:dragleave\";\n  G6Event[\"COMBO_DRAGSTART\"] = \"combo:dragstart\";\n  G6Event[\"COMBO_DRAG\"] = \"combo:drag\";\n  G6Event[\"COMBO_DRAGEND\"] = \"combo:dragend\";\n  G6Event[\"COMBO_TAP\"] = \"combo:tap\";\n  G6Event[\"COMBO_DBLTAP\"] = \"combo:dbltap\";\n  G6Event[\"COMBO_PANSTART\"] = \"combo:panstart\";\n  G6Event[\"COMBO_PANMOVE\"] = \"combo:panmove\";\n  G6Event[\"COMBO_PANEND\"] = \"combo:panend\";\n  G6Event[\"COMBO_PRESS\"] = \"combo:press\"; // edge events\n\n  G6Event[\"EDGE_CLICK\"] = \"edge:click\";\n  G6Event[\"EDGE_DBLCLICK\"] = \"edge:dblclick\";\n  G6Event[\"EDGE_DROP\"] = \"edge:drop\";\n  G6Event[\"EDGE_DRAGOVER\"] = \"edge:dragover\";\n  G6Event[\"EDGE_DRAGENTER\"] = \"edge:dragenter\";\n  G6Event[\"EDGE_DRAGLEAVE\"] = \"edge:dragleave\";\n  G6Event[\"EDGE_TAP\"] = \"edge:tap\";\n  G6Event[\"EDGE_DBLTAP\"] = \"edge:dbltap\";\n  G6Event[\"EDGE_PRESS\"] = \"edge:press\"; // canvas events\n\n  G6Event[\"CANVAS_CLICK\"] = \"canvas:click\";\n  G6Event[\"CANVAS_DBLCLICK\"] = \"canvas:dblclick\";\n  G6Event[\"CANVAS_DROP\"] = \"canvas:drop\";\n  G6Event[\"CANVAS_DRAGENTER\"] = \"canvas:dragenter\";\n  G6Event[\"CANVAS_DRAGLEAVE\"] = \"canvas:dragleave\";\n  G6Event[\"CANVAS_DRAGSTART\"] = \"canvas:dragstart\";\n  G6Event[\"CANVAS_DRAG\"] = \"canvas:drag\";\n  G6Event[\"CANVAS_DRAGEND\"] = \"canvas:dragend\";\n  G6Event[\"CANVAS_TAP\"] = \"canvas:tap\";\n  G6Event[\"CANVAS_DBLTAP\"] = \"canvas:dbltap\";\n  G6Event[\"CANVAS_PANSTART\"] = \"canvas:panstart\";\n  G6Event[\"CANVAS_PANMOVE\"] = \"canvas:panmove\";\n  G6Event[\"CANVAS_PANEND\"] = \"canvas:panend\";\n  G6Event[\"CANVAS_PRESS\"] = \"canvas:press\"; // timing events\n\n  G6Event[\"BEFORERENDER\"] = \"beforerender\";\n  G6Event[\"AFTERRENDER\"] = \"afterrender\";\n  G6Event[\"BEFOREADDITEM\"] = \"beforeadditem\";\n  G6Event[\"AFTERADDITEM\"] = \"afteradditem\";\n  G6Event[\"BEFOREREMOVEITEM\"] = \"beforeremoveitem\";\n  G6Event[\"AFTERREMOVEITEM\"] = \"afterremoveitem\";\n  G6Event[\"BEFOREUPDATEITEM\"] = \"beforeupdateitem\";\n  G6Event[\"AFTERUPDATEITEM\"] = \"afterupdateitem\";\n  G6Event[\"BEFOREITEMVISIBILITYCHANGE\"] = \"beforeitemvisibilitychange\";\n  G6Event[\"AFTERITEMVISIBILITYCHANGE\"] = \"afteritemvisibilitychange\";\n  G6Event[\"BEFOREITEMSTATECHANGE\"] = \"beforeitemstatechange\";\n  G6Event[\"AFTERITEMSTATECHANGE\"] = \"afteritemstatechange\";\n  G6Event[\"BEFOREITEMREFRESH\"] = \"beforeitemrefresh\";\n  G6Event[\"AFTERITEMREFRESH\"] = \"afteritemrefresh\";\n  G6Event[\"BEFOREITEMSTATESCLEAR\"] = \"beforeitemstatesclear\";\n  G6Event[\"AFTERITEMSTATESCLEAR\"] = \"afteritemstatesclear\";\n  G6Event[\"BEFOREMODECHANGE\"] = \"beforemodechange\";\n  G6Event[\"AFTERMODECHANGE\"] = \"aftermodechange\";\n  G6Event[\"BEFORELAYOUT\"] = \"beforelayout\";\n  G6Event[\"AFTERLAYOUT\"] = \"afterlayout\";\n  G6Event[\"BEFORECREATEEDGE\"] = \"beforecreateedge\";\n  G6Event[\"AFTERCREATEEDGE\"] = \"aftercreateedge\";\n  G6Event[\"BEFOREGRAPHREFRESHPOSITION\"] = \"beforegraphrefreshposition\";\n  G6Event[\"AFTERGRAPHREFRESHPOSITION\"] = \"aftergraphrefreshposition\";\n  G6Event[\"BEFOREGRAPHREFRESH\"] = \"beforegraphrefresh\";\n  G6Event[\"AFTERGRAPHREFRESH\"] = \"aftergraphrefresh\";\n  G6Event[\"BEFOREANIMATE\"] = \"beforeanimate\";\n  G6Event[\"AFTERANIMATE\"] = \"afteranimate\";\n  G6Event[\"BEFOREPAINT\"] = \"beforepaint\";\n  G6Event[\"AFTERPAINT\"] = \"afterpaint\";\n  G6Event[\"BEFORECOLLAPSEEXPANDCOMBO\"] = \"beforecollapseexpandcombo\";\n  G6Event[\"AFTERCOLLAPSEEXPANDCOMBO\"] = \"aftercollapseexpandcombo\";\n  G6Event[\"GRAPHSTATECHANGE\"] = \"graphstatechange\";\n  G6Event[\"AFTERACTIVATERELATIONS\"] = \"afteractivaterelations\";\n  G6Event[\"NODESELECTCHANGE\"] = \"nodeselectchange\";\n  G6Event[\"TOOLTIPCHANGE\"] = \"tooltipchange\";\n  G6Event[\"WHEELZOOM\"] = \"wheelzoom\";\n  G6Event[\"VIEWPORTCHANGE\"] = \"viewportchange\";\n  G6Event[\"DRAGNODEEND\"] = \"dragnodeend\";\n  G6Event[\"STACKCHANGE\"] = \"stackchange\";\n})(G6Event || (G6Event = {}));","export default {\n  collapse: function collapse(x, y, r) {\n    return [['M', x - r, y], ['a', r, r, 0, 1, 0, r * 2, 0], ['a', r, r, 0, 1, 0, -r * 2, 0], ['M', x - r + 4, y], ['L', x + r - 4, y]];\n  },\n  expand: function expand(x, y, r) {\n    return [['M', x - r, y], ['a', r, r, 0, 1, 0, r * 2, 0], ['a', r, r, 0, 1, 0, -r * 2, 0], ['M', x - r + 4, y], ['L', x - r + 2 * r - 4, y], ['M', x - r + r, y - r + 4], ['L', x, y + r - 4]];\n  },\n  upTriangle: function upTriangle(x, y, r) {\n    var l1 = r * Math.cos(Math.PI / 6);\n    var l2 = r * Math.sin(Math.PI / 6);\n    return [['M', x - l1, y + l2], ['L', x + l1, y + l2], ['L', x, y - r], ['Z']];\n  },\n  downTriangle: function downTriangle(x, y, r) {\n    var l1 = r * Math.cos(Math.PI / 6);\n    var l2 = r * Math.sin(Math.PI / 6);\n    return [['M', x - l1, y - l2], ['L', x + l1, y - l2], ['L', x, y + r], ['Z']];\n  }\n};","import Shape from './shape';\nimport './node';\nimport './edge';\nimport './combo';\nimport './combos';\nimport './nodes';\nexport { default as Arrow } from './arrow';\nexport { default as Marker } from './marker';\nexport default Shape;","export var defaultSubjectColors = ['#5F95FF', '#61DDAA', '#65789B', '#F6BD16', '#7262FD', '#78D3F8', '#9661BC', '#F6903D', '#008685', '#F08BB4'];","import { __assign } from \"tslib\";\nimport * as MathUtil from './math';\nimport * as GraphicUtil from './graphic';\nimport * as PathUtil from './path';\nimport * as BaseUtil from './base';\nimport * as ColorUtil from './color';\nimport { ext, mat3 } from '@antv/matrix-util';\nvar transform = ext.transform;\n\nvar Util = __assign(__assign(__assign(__assign(__assign(__assign({}, BaseUtil), GraphicUtil), PathUtil), MathUtil), ColorUtil), {\n  transform: transform,\n  mat3: mat3\n});\n\nexport default Util;","import { __assign, __rest } from \"tslib\";\nimport { isFunction, groupBy } from '@antv/util';\nimport { isNaN, calculationItemsBBox } from '../../util/base';\n\nvar LayoutController =\n/** @class */\nfunction () {\n  function LayoutController(graph) {\n    this.graph = graph;\n    this.layoutCfg = graph.get('layout') || {};\n    this.layoutType = this.getLayoutType();\n    this.layoutMethods = [];\n    this.initLayout();\n  } // eslint-disable-next-line class-methods-use-this\n\n\n  LayoutController.prototype.initLayout = function () {// no data before rendering\n  };\n\n  LayoutController.prototype.getLayoutType = function () {\n    return this.getLayoutCfgType(this.layoutCfg);\n  };\n\n  LayoutController.prototype.getLayoutCfgType = function (layoutCfg) {\n    var type = layoutCfg.type; // type should be top priority\n\n    if (type) {\n      return type;\n    }\n\n    var pipes = layoutCfg.pipes;\n\n    if (Array.isArray(pipes)) {\n      return pipes.map(function (pipe) {\n        return (pipe === null || pipe === void 0 ? void 0 : pipe.type) || '';\n      });\n    }\n\n    return null;\n  };\n\n  LayoutController.prototype.isLayoutTypeSame = function (cfg) {\n    var current = this.getLayoutCfgType(cfg); // already has pipes\n\n    if (Array.isArray(this.layoutType)) {\n      return this.layoutType.every(function (type, index) {\n        return type === current[index];\n      });\n    }\n\n    return (cfg === null || cfg === void 0 ? void 0 : cfg.type) === this.layoutType;\n  }; // \n\n\n  LayoutController.prototype.refreshLayout = function () {\n    var graph = this.graph;\n    if (!graph) return;\n\n    if (graph.get('animate')) {\n      graph.positionsAnimate();\n    } else {\n      graph.refreshPositions();\n    }\n  }; // \n\n\n  LayoutController.prototype.changeLayout = function (cfg) {\n    this.layoutCfg = cfg;\n    this.destoryLayoutMethods();\n    this.layout();\n  }; // \n\n\n  LayoutController.prototype.changeData = function () {\n    this.destoryLayoutMethods();\n    this.layout();\n  };\n\n  LayoutController.prototype.destoryLayoutMethods = function () {\n    var layoutMethods = this.layoutMethods;\n    layoutMethods === null || layoutMethods === void 0 ? void 0 : layoutMethods.forEach(function (layoutMethod) {\n      layoutMethod.destroy();\n    });\n    this.layoutMethods = [];\n  }; //  this.destroy controller \n\n\n  LayoutController.prototype.destroyLayout = function () {\n    var graph = this.graph;\n    this.destoryLayoutMethods();\n    graph.set('layout', undefined);\n    this.layoutCfg = undefined;\n    this.layoutType = undefined;\n    this.layoutMethods = undefined;\n  }; //  this.graph \n\n\n  LayoutController.prototype.setDataFromGraph = function () {\n    var nodes = [];\n    var hiddenNodes = [];\n    var edges = [];\n    var hiddenEdges = [];\n    var comboEdges = [];\n    var combos = [];\n    var hiddenCombos = [];\n    var nodeItems = this.graph.getNodes();\n    var edgeItems = this.graph.getEdges();\n    var comboItems = this.graph.getCombos();\n    var nodeLength = nodeItems.length;\n\n    for (var i = 0; i < nodeLength; i++) {\n      var nodeItem = nodeItems[i];\n      if (!nodeItem || nodeItem.destroyed) continue;\n      var model = nodeItem.getModel();\n\n      if (!nodeItem.isVisible()) {\n        hiddenNodes.push(model);\n        continue;\n      }\n\n      nodes.push(model);\n    }\n\n    var edgeLength = edgeItems.length;\n\n    for (var i = 0; i < edgeLength; i++) {\n      var edgeItem = edgeItems[i];\n      if (!edgeItem || edgeItem.destroyed) continue;\n      var model = edgeItem.getModel();\n\n      if (!edgeItem.isVisible()) {\n        hiddenEdges.push(model);\n        continue;\n      }\n\n      if (!model.isComboEdge) edges.push(model);else comboEdges.push(model);\n    }\n\n    var comboLength = comboItems.length;\n\n    for (var i = 0; i < comboLength; i++) {\n      var comboItem = comboItems[i];\n      if (comboItem.destroyed) continue;\n      var model = comboItem.getModel();\n\n      if (!comboItem.isVisible()) {\n        hiddenEdges.push(model);\n        continue;\n      }\n\n      combos.push(model);\n    }\n\n    return {\n      nodes: nodes,\n      hiddenNodes: hiddenNodes,\n      edges: edges,\n      hiddenEdges: hiddenEdges,\n      combos: combos,\n      hiddenCombos: hiddenCombos,\n      comboEdges: comboEdges\n    };\n  };\n\n  LayoutController.prototype.reLayoutMethod = function (layoutMethod, layoutCfg) {\n    var _this = this;\n\n    return new Promise(function (reslove, reject) {\n      var graph = _this.graph;\n      var layoutType = layoutCfg === null || layoutCfg === void 0 ? void 0 : layoutCfg.type; // \n\n      layoutCfg.onLayoutEnd = function () {\n        graph.emit('aftersublayout', {\n          type: layoutType\n        });\n        reslove();\n      };\n\n      layoutMethod.init(_this.data);\n\n      if (layoutType === 'force') {\n        layoutMethod.ticking = false;\n        layoutMethod.forceSimulation.stop();\n      }\n\n      graph.emit('beforesublayout', {\n        type: layoutType\n      });\n      layoutMethod.execute();\n      if (layoutMethod.isCustomLayout && layoutCfg.onLayoutEnd) layoutCfg.onLayoutEnd();\n    });\n  }; // \n\n\n  LayoutController.prototype.relayout = function (reloadData) {\n    var _this = this;\n\n    var _a = this,\n        graph = _a.graph,\n        layoutMethods = _a.layoutMethods,\n        layoutCfg = _a.layoutCfg;\n\n    if (reloadData) {\n      this.data = this.setDataFromGraph();\n      var nodes = this.data.nodes;\n\n      if (!nodes) {\n        return false;\n      }\n\n      this.initPositions(layoutCfg.center, nodes);\n    }\n\n    graph.emit('beforelayout');\n    var start = Promise.resolve();\n    layoutMethods === null || layoutMethods === void 0 ? void 0 : layoutMethods.forEach(function (layoutMethod, index) {\n      var currentCfg = layoutCfg[index];\n      start = start.then(function () {\n        return _this.reLayoutMethod(layoutMethod, currentCfg);\n      });\n    });\n    start.then(function () {\n      if (layoutCfg.onAllLayoutEnd) layoutCfg.onAllLayoutEnd();\n    }).catch(function (error) {\n      console.warn('relayout failed', error);\n    });\n  }; // nodesedges\n\n\n  LayoutController.prototype.filterLayoutData = function (data, cfg) {\n    var nodes = data.nodes,\n        edges = data.edges,\n        rest = __rest(data, [\"nodes\", \"edges\"]);\n\n    if (!nodes) {\n      return data;\n    }\n\n    var nodesFilter;\n    var edegsFilter;\n\n    if (isFunction(cfg === null || cfg === void 0 ? void 0 : cfg.nodesFilter)) {\n      nodesFilter = cfg.nodesFilter;\n    } else {\n      nodesFilter = function nodesFilter() {\n        return true;\n      };\n    }\n\n    if (isFunction(cfg === null || cfg === void 0 ? void 0 : cfg.edgesFilter)) {\n      edegsFilter = cfg.edgesFilter;\n    } else {\n      var nodesMap_1 = nodes.reduce(function (acc, cur) {\n        acc[cur.id] = true;\n        return acc;\n      }, {});\n\n      edegsFilter = function edegsFilter(edge) {\n        return nodesMap_1[edge.source] && nodesMap_1[edge.target];\n      };\n    }\n\n    return __assign({\n      nodes: nodes.filter(nodesFilter),\n      edges: edges.filter(edegsFilter)\n    }, rest);\n  };\n\n  LayoutController.prototype.getLayoutBBox = function (nodes) {\n    var graph = this.graph;\n    var graphGroupNodes = groupBy(graph.getNodes(), function (n) {\n      return n.getModel().layoutOrder;\n    });\n    var layoutNodes = Object.values(graphGroupNodes).map(function (value) {\n      var bbox = calculationItemsBBox(value);\n      bbox.size = [bbox.width, bbox.height];\n      return bbox;\n    });\n    var groupNodes = Object.values(groupBy(nodes, 'layoutOrder'));\n    return {\n      groupNodes: groupNodes,\n      layoutNodes: layoutNodes\n    };\n  }; // \n  // eslint-disable-next-line class-methods-use-this\n\n\n  LayoutController.prototype.layoutAnimate = function () {}; // \n\n\n  LayoutController.prototype.moveToZero = function () {\n    var graph = this.graph;\n    var data = graph.get('data');\n    var nodes = data.nodes;\n\n    if (nodes[0].x === undefined || nodes[0].x === null || isNaN(nodes[0].x)) {\n      return;\n    }\n\n    var meanCenter = [0, 0];\n    var nodeLength = nodes.length;\n\n    for (var i = 0; i < nodeLength; i++) {\n      var node = nodes[i];\n      meanCenter[0] += node.x;\n      meanCenter[1] += node.y;\n    }\n\n    meanCenter[0] /= nodes.length;\n    meanCenter[1] /= nodes.length;\n\n    for (var i = 0; i < nodeLength; i++) {\n      var node = nodes[i];\n      node.x -= meanCenter[0];\n      node.y -= meanCenter[1];\n    }\n  }; //  center \n\n\n  LayoutController.prototype.initPositions = function (center, nodes) {\n    var graph = this.graph;\n\n    if (!nodes) {\n      return false;\n    }\n\n    var nodeLength = nodes ? nodes.length : 0;\n    if (!nodeLength) return;\n    var width = graph.get('width') * 0.85;\n    var height = graph.get('height') * 0.85;\n    var horiNum = Math.ceil(Math.sqrt(nodeLength) * (width / height));\n    var vertiNum = Math.ceil(nodeLength / horiNum);\n    var horiGap = width / (horiNum - 1);\n    var vertiGap = height / (vertiNum - 1);\n    if (!isFinite(horiGap) || !horiGap) horiGap = 0;\n    if (!isFinite(vertiGap) || !horiGap) vertiGap = 0;\n    var beginX = center[0] - width / 2;\n    var beginY = center[1] - height / 2;\n    var allHavePos = true;\n\n    for (var i = 0; i < nodeLength; i++) {\n      var node = nodes[i];\n\n      if (isNaN(node.x)) {\n        allHavePos = false;\n        node.x = i % horiNum * horiGap + beginX;\n      }\n\n      if (isNaN(node.y)) {\n        allHavePos = false;\n        node.y = Math.floor(i / horiNum) * vertiGap + beginY;\n      }\n    }\n\n    return allHavePos;\n  };\n\n  LayoutController.prototype.destroy = function () {\n    this.graph = null;\n    this.destoryLayoutMethods();\n    this.destroyed = true;\n  };\n\n  LayoutController.prototype.onTick = function (timestamp) {\n    var _a;\n\n    (_a = this.layoutMethods) === null || _a === void 0 ? void 0 : _a.forEach(function (layoutMethod) {\n      var _a;\n\n      (_a = layoutMethod === null || layoutMethod === void 0 ? void 0 : layoutMethod.onTick) === null || _a === void 0 ? void 0 : _a.call(layoutMethod, timestamp);\n    });\n  };\n\n  return LayoutController;\n}();\n\nexport default LayoutController;","var EventController =\n/** @class */\nfunction () {\n  function EventController(graph) {\n    this.graph = graph;\n    this.destroyed = false;\n    this.initEvents();\n  }\n\n  return EventController;\n}();\n\nexport default EventController;","import Behavior from './behavior';\nimport AbstractGraph from './graph/graph';\nimport Shape, { Arrow, Marker } from './element';\nimport Global from './global';\nimport Util from './util'; //  PC  Mobile  layout  updateLayoutCfg \n\nimport AbstractLayout from './graph/controller/layout';\nimport AbstractEvent from './graph/controller/event';\nimport Node from './item/node';\nimport Edge from './item/edge';\nimport Hull from './item/hull';\nimport Combo from './item/combo';\nvar registerNode = Shape.registerNode;\nvar registerEdge = Shape.registerEdge;\nvar registerCombo = Shape.registerCombo;\nvar registerBehavior = Behavior.registerBehavior;\nvar BaseGlobal = Global;\nexport * from './types';\nexport { Arrow, Shape, Node, Edge, Combo, Hull, Marker, registerNode, registerCombo, AbstractGraph, Util, registerEdge, registerBehavior, AbstractLayout, AbstractEvent, BaseGlobal };\nexport default {\n  version: Global.version,\n  AbstractGraph: AbstractGraph,\n  BaseGlobal: BaseGlobal,\n  Util: Util,\n  Shape: Shape,\n  Node: Node,\n  Edge: Edge,\n  Combo: Combo,\n  Hull: Hull,\n  registerNode: Shape.registerNode,\n  registerEdge: Shape.registerEdge,\n  registerCombo: Shape.registerCombo,\n  registerBehavior: Behavior.registerBehavior,\n  Arrow: Arrow,\n  Marker: Marker,\n  AbstractLayout: AbstractLayout,\n  AbstractEvent: AbstractEvent\n};",null,null,null,null,null,null,null,"import { Layout, Layouts } from '@antv/layout/lib/layout/layout';\nimport { registerLayout, unRegisterLayout } from '@antv/layout/lib/registy';\nimport { RandomLayout } from '@antv/layout/lib/layout/random';\n\n//  random \nregisterLayout('random', RandomLayout);\n\nexport { Layout, Layouts, registerLayout, unRegisterLayout };\n","var adjMatrix = function adjMatrix(graphData, directed) {\n  var nodes = graphData.nodes,\n      edges = graphData.edges;\n  var matrix = []; // map node with index in data.nodes\n\n  var nodeMap = {};\n\n  if (!nodes) {\n    throw new Error(\"invalid nodes data!\");\n  }\n\n  if (nodes) {\n    nodes.forEach(function (node, i) {\n      nodeMap[node.id] = i;\n      var row = [];\n      matrix.push(row);\n    });\n  }\n\n  if (edges) {\n    edges.forEach(function (edge) {\n      var source = edge.source,\n          target = edge.target;\n      var sIndex = nodeMap[source];\n      var tIndex = nodeMap[target];\n      if (!sIndex && sIndex !== 0 || !tIndex && tIndex !== 0) return;\n      matrix[sIndex][tIndex] = 1;\n\n      if (!directed) {\n        matrix[tIndex][sIndex] = 1;\n      }\n    });\n  }\n\n  return matrix;\n};\n\nexport default adjMatrix;","var defaultComparator = function defaultComparator(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  return false;\n};\n/**\n * \n */\n\n\nvar LinkedListNode =\n/** @class */\nfunction () {\n  function LinkedListNode(value, next) {\n    if (next === void 0) {\n      next = null;\n    }\n\n    this.value = value;\n    this.next = next;\n  }\n\n  LinkedListNode.prototype.toString = function (callback) {\n    return callback ? callback(this.value) : \"\".concat(this.value);\n  };\n\n  return LinkedListNode;\n}();\n\nexport { LinkedListNode };\n\nvar LinkedList =\n/** @class */\nfunction () {\n  function LinkedList(comparator) {\n    if (comparator === void 0) {\n      comparator = defaultComparator;\n    }\n\n    this.head = null;\n    this.tail = null;\n    this.compare = comparator;\n  }\n  /**\n   * \n   * @param value\n   */\n\n\n  LinkedList.prototype.prepend = function (value) {\n    // \n    var newNode = new LinkedListNode(value, this.head);\n    this.head = newNode;\n\n    if (!this.tail) {\n      this.tail = newNode;\n    }\n\n    return this;\n  };\n  /**\n   * \n   * @param value\n   */\n\n\n  LinkedList.prototype.append = function (value) {\n    var newNode = new LinkedListNode(value); // \n\n    if (!this.head) {\n      this.head = newNode;\n      this.tail = newNode;\n      return this;\n    } // \n\n\n    this.tail.next = newNode;\n    this.tail = newNode;\n    return this;\n  };\n  /**\n   * \n   * @param value \n   */\n\n\n  LinkedList.prototype.delete = function (value) {\n    if (!this.head) {\n      return null;\n    }\n\n    var deleteNode = null; // next\n\n    while (this.head && this.compare(this.head.value, value)) {\n      deleteNode = this.head;\n      this.head = this.head.next;\n    }\n\n    var currentNode = this.head;\n\n    if (currentNode !== null) {\n      // next\n      while (currentNode.next) {\n        if (this.compare(currentNode.next.value, value)) {\n          deleteNode = currentNode.next;\n          currentNode.next = currentNode.next.next;\n        } else {\n          currentNode = currentNode.next;\n        }\n      }\n    } // \n\n\n    if (this.compare(this.tail.value, value)) {\n      this.tail = currentNode;\n    }\n\n    return deleteNode;\n  };\n  /**\n   * \n   * @param param0\n   */\n\n\n  LinkedList.prototype.find = function (_a) {\n    var _b = _a.value,\n        value = _b === void 0 ? undefined : _b,\n        _c = _a.callback,\n        callback = _c === void 0 ? undefined : _c;\n\n    if (!this.head) {\n      return null;\n    }\n\n    var currentNode = this.head;\n\n    while (currentNode) {\n      //  callback callback \n      if (callback && callback(currentNode.value)) {\n        return currentNode;\n      } //  value value \n\n\n      if (value !== undefined && this.compare(currentNode.value, value)) {\n        return currentNode;\n      }\n\n      currentNode = currentNode.next;\n    }\n\n    return null;\n  };\n  /**\n   * \n   */\n\n\n  LinkedList.prototype.deleteTail = function () {\n    var deletedTail = this.tail;\n\n    if (this.head === this.tail) {\n      // \n      this.head = null;\n      this.tail = null;\n      return deletedTail;\n    }\n\n    var currentNode = this.head;\n\n    while (currentNode.next) {\n      if (!currentNode.next.next) {\n        currentNode.next = null;\n      } else {\n        currentNode = currentNode.next;\n      }\n    }\n\n    this.tail = currentNode;\n    return deletedTail;\n  };\n  /**\n   * \n   */\n\n\n  LinkedList.prototype.deleteHead = function () {\n    if (!this.head) {\n      return null;\n    }\n\n    var deletedHead = this.head;\n\n    if (this.head.next) {\n      this.head = this.head.next;\n    } else {\n      this.head = null;\n      this.tail = null;\n    }\n\n    return deletedHead;\n  };\n  /**\n   * \n   * @param values \n   */\n\n\n  LinkedList.prototype.fromArray = function (values) {\n    var _this = this;\n\n    values.forEach(function (value) {\n      return _this.append(value);\n    });\n    return this;\n  };\n  /**\n   * \n   */\n\n\n  LinkedList.prototype.toArray = function () {\n    var nodes = [];\n    var currentNode = this.head;\n\n    while (currentNode) {\n      nodes.push(currentNode);\n      currentNode = currentNode.next;\n    }\n\n    return nodes;\n  };\n  /**\n   * \n   */\n\n\n  LinkedList.prototype.reverse = function () {\n    var currentNode = this.head;\n    var prevNode = null;\n    var nextNode = null;\n\n    while (currentNode) {\n      // \n      nextNode = currentNode.next; // \n\n      currentNode.next = prevNode; //  prevNode  currentNode \n\n      prevNode = currentNode;\n      currentNode = nextNode;\n    }\n\n    this.tail = this.head;\n    this.head = prevNode;\n  };\n\n  LinkedList.prototype.toString = function (callback) {\n    if (callback === void 0) {\n      callback = undefined;\n    }\n\n    return this.toArray().map(function (node) {\n      return node.toString(callback);\n    }).toString();\n  };\n\n  return LinkedList;\n}();\n\nexport default LinkedList;","import LinkedList from './linked-list';\n\nvar Queue =\n/** @class */\nfunction () {\n  function Queue() {\n    this.linkedList = new LinkedList();\n  }\n  /**\n   * \n   */\n\n\n  Queue.prototype.isEmpty = function () {\n    return !this.linkedList.head;\n  };\n  /**\n   *  \n   */\n\n\n  Queue.prototype.peek = function () {\n    if (!this.linkedList.head) {\n      return null;\n    }\n\n    return this.linkedList.head.value;\n  };\n  /**\n   * \n   * @param value\n   */\n\n\n  Queue.prototype.enqueue = function (value) {\n    this.linkedList.append(value);\n  };\n  /**\n   *  null\n   */\n\n\n  Queue.prototype.dequeue = function () {\n    var removeHead = this.linkedList.deleteHead();\n    return removeHead ? removeHead.value : null;\n  };\n\n  Queue.prototype.toString = function (callback) {\n    return this.linkedList.toString(callback);\n  };\n\n  return Queue;\n}();\n\nexport default Queue;","/**\n * \n * @param nodeId  ID\n * @param edges \n * @param type \n */\nexport var getNeighbors = function getNeighbors(nodeId, edges, type) {\n  if (edges === void 0) {\n    edges = [];\n  }\n\n  var currentEdges = edges.filter(function (edge) {\n    return edge.source === nodeId || edge.target === nodeId;\n  });\n\n  if (type === 'target') {\n    //  source\n    var neighhborsConverter_1 = function neighhborsConverter_1(edge) {\n      return edge.source === nodeId;\n    };\n\n    return currentEdges.filter(neighhborsConverter_1).map(function (edge) {\n      return edge.target;\n    });\n  }\n\n  if (type === 'source') {\n    //  target\n    var neighhborsConverter_2 = function neighhborsConverter_2(edge) {\n      return edge.target === nodeId;\n    };\n\n    return currentEdges.filter(neighhborsConverter_2).map(function (edge) {\n      return edge.source;\n    });\n  } //  type \n\n\n  var neighhborsConverter = function neighhborsConverter(edge) {\n    return edge.source === nodeId ? edge.target : edge.source;\n  };\n\n  return currentEdges.map(neighhborsConverter);\n};\n/**\n * \n * @param nodeId  ID\n * @param edges \n */\n\nexport var getOutEdgesNodeId = function getOutEdgesNodeId(nodeId, edges) {\n  return edges.filter(function (edge) {\n    return edge.source === nodeId;\n  });\n};\n/**\n * \n * @param nodeId  ID\n * @param edges \n */\n\nexport var getEdgesByNodeId = function getEdgesByNodeId(nodeId, edges) {\n  return edges.filter(function (edge) {\n    return edge.source === nodeId || edge.target === nodeId;\n  });\n};\n/**\n *  ID + \n * @param index \n */\n\nexport var uniqueId = function uniqueId(index) {\n  if (index === void 0) {\n    index = 0;\n  }\n\n  var random1 = \"\".concat(Math.random()).split('.')[1].substr(0, 5);\n  var random2 = \"\".concat(Math.random()).split('.')[1].substr(0, 5);\n  return \"\".concat(index, \"-\").concat(random1).concat(random2);\n};","import Queue from './structs/queue';\nimport { getNeighbors } from './util';\n/**\n *\n * @param callbacks\n * allowTraversal:  BFS \n * enterNode:  BFS \n * leaveNode:  BFS \n */\n\nfunction initCallbacks(callbacks) {\n  if (callbacks === void 0) {\n    callbacks = {};\n  }\n\n  var initiatedCallback = callbacks;\n\n  var stubCallback = function stubCallback() {};\n\n  var allowTraversalCallback = function () {\n    var seen = {};\n    return function (_a) {\n      var next = _a.next;\n      var id = next;\n\n      if (!seen[id]) {\n        seen[id] = true;\n        return true;\n      }\n\n      return false;\n    };\n  }();\n\n  initiatedCallback.allowTraversal = callbacks.allowTraversal || allowTraversalCallback;\n  initiatedCallback.enter = callbacks.enter || stubCallback;\n  initiatedCallback.leave = callbacks.leave || stubCallback;\n  return initiatedCallback;\n}\n/**\n * \n * @param graph Graph \n * @param startNode \n * @param originalCallbacks \n */\n\n\nvar breadthFirstSearch = function breadthFirstSearch(graphData, startNodeId, originalCallbacks, directed) {\n  if (directed === void 0) {\n    directed = true;\n  }\n\n  var callbacks = initCallbacks(originalCallbacks);\n  var nodeQueue = new Queue();\n  var _a = graphData.edges,\n      edges = _a === void 0 ? [] : _a; // \n\n  nodeQueue.enqueue(startNodeId);\n  var previousNode = '';\n\n  var _loop_1 = function _loop_1() {\n    var currentNode = nodeQueue.dequeue();\n    callbacks.enter({\n      current: currentNode,\n      previous: previousNode\n    }); // \n\n    getNeighbors(currentNode, edges, directed ? 'target' : undefined).forEach(function (nextNode) {\n      if (callbacks.allowTraversal({\n        previous: previousNode,\n        current: currentNode,\n        next: nextNode\n      })) {\n        nodeQueue.enqueue(nextNode);\n      }\n    });\n    callbacks.leave({\n      current: currentNode,\n      previous: previousNode\n    }); // \n\n    previousNode = currentNode;\n  }; // \n\n\n  while (!nodeQueue.isEmpty()) {\n    _loop_1();\n  }\n};\n\nexport default breadthFirstSearch;","import { getNeighbors } from \"./util\";\n/**\n * Generate all connected components for an undirected graph\n * @param graph\n */\n\nexport var detectConnectedComponents = function detectConnectedComponents(graphData) {\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n  var allComponents = [];\n  var visited = {};\n  var nodeStack = [];\n\n  var getComponent = function getComponent(node) {\n    nodeStack.push(node);\n    visited[node.id] = true;\n    var neighbors = getNeighbors(node.id, edges);\n\n    var _loop_1 = function _loop_1(i) {\n      var neighbor = neighbors[i];\n\n      if (!visited[neighbor]) {\n        var targetNode = nodes.filter(function (node) {\n          return node.id === neighbor;\n        });\n\n        if (targetNode.length > 0) {\n          getComponent(targetNode[0]);\n        }\n      }\n    };\n\n    for (var i = 0; i < neighbors.length; ++i) {\n      _loop_1(i);\n    }\n  };\n\n  for (var i = 0; i < nodes.length; i++) {\n    var node = nodes[i];\n\n    if (!visited[node.id]) {\n      // dfs\n      getComponent(node);\n      var component = [];\n\n      while (nodeStack.length > 0) {\n        component.push(nodeStack.pop());\n      }\n\n      allComponents.push(component);\n    }\n  }\n\n  return allComponents;\n};\n/**\n * Tarjan's Algorithm   O(|V|+|E|)\n * For directed graph only\n * a directed graph is said to be strongly connected if \"every vertex is reachable from every other vertex\".\n * refer: http://en.wikipedia.org/wiki/Tarjan%27s_strongly_connected_components_algorithm\n * @param graph\n * @return a list of strongly connected components\n */\n\nexport var detectStrongConnectComponents = function detectStrongConnectComponents(graphData) {\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n  var nodeStack = [];\n  var inStack = {}; // stack\n\n  var indices = {};\n  var lowLink = {};\n  var allComponents = [];\n  var index = 0;\n\n  var getComponent = function getComponent(node) {\n    // Set the depth index for v to the smallest unused index\n    indices[node.id] = index;\n    lowLink[node.id] = index;\n    index += 1;\n    nodeStack.push(node);\n    inStack[node.id] = true; // \n\n    var neighbors = getNeighbors(node.id, edges, 'target').filter(function (n) {\n      return nodes.map(function (node) {\n        return node.id;\n      }).indexOf(n) > -1;\n    });\n\n    var _loop_2 = function _loop_2(i) {\n      var targetNodeID = neighbors[i];\n\n      if (!indices[targetNodeID] && indices[targetNodeID] !== 0) {\n        var targetNode = nodes.filter(function (node) {\n          return node.id === targetNodeID;\n        });\n\n        if (targetNode.length > 0) {\n          getComponent(targetNode[0]);\n        } // tree edge\n\n\n        lowLink[node.id] = Math.min(lowLink[node.id], lowLink[targetNodeID]);\n      } else if (inStack[targetNodeID]) {\n        // back edge, target node is in the current SCC\n        lowLink[node.id] = Math.min(lowLink[node.id], indices[targetNodeID]);\n      }\n    };\n\n    for (var i = 0; i < neighbors.length; i++) {\n      _loop_2(i);\n    } // If node is a root node, generate an SCC\n\n\n    if (lowLink[node.id] === indices[node.id]) {\n      var component = [];\n\n      while (nodeStack.length > 0) {\n        var tmpNode = nodeStack.pop();\n        inStack[tmpNode.id] = false;\n        component.push(tmpNode);\n        if (tmpNode === node) break;\n      }\n\n      if (component.length > 0) {\n        allComponents.push(component);\n      }\n    }\n  };\n\n  for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n    var node = nodes_1[_i];\n\n    if (!indices[node.id] && indices[node.id] !== 0) {\n      getComponent(node);\n    }\n  }\n\n  return allComponents;\n};\nexport default function getConnectedComponents(graphData, directed) {\n  if (directed) return detectStrongConnectComponents(graphData);\n  return detectConnectedComponents(graphData);\n}","var degree = function degree(graphData) {\n  var degrees = {};\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n  nodes.forEach(function (node) {\n    degrees[node.id] = {\n      degree: 0,\n      inDegree: 0,\n      outDegree: 0\n    };\n  });\n  edges.forEach(function (edge) {\n    degrees[edge.source].degree++;\n    degrees[edge.source].outDegree++;\n    degrees[edge.target].degree++;\n    degrees[edge.target].inDegree++;\n  });\n  return degrees;\n};\n\nexport default degree;\n/**\n * \n * @param graphData \n * @param nodeId ID\n */\n\nexport var getInDegree = function getInDegree(graphData, nodeId) {\n  var nodeDegree = degree(graphData);\n\n  if (nodeDegree[nodeId]) {\n    return degree(graphData)[nodeId].inDegree;\n  }\n\n  return 0;\n};\n/**\n * \n * @param graphData \n * @param nodeId ID\n */\n\nexport var getOutDegree = function getOutDegree(graphData, nodeId) {\n  var nodeDegree = degree(graphData);\n\n  if (nodeDegree[nodeId]) {\n    return degree(graphData)[nodeId].outDegree;\n  }\n\n  return 0;\n};","import { getNeighbors } from './util';\n\nfunction initCallbacks(callbacks) {\n  if (callbacks === void 0) {\n    callbacks = {};\n  }\n\n  var initiatedCallback = callbacks;\n\n  var stubCallback = function stubCallback() {};\n\n  var allowTraversalCallback = function () {\n    var seen = {};\n    return function (_a) {\n      var next = _a.next;\n\n      if (!seen[next]) {\n        seen[next] = true;\n        return true;\n      }\n\n      return false;\n    };\n  }();\n\n  initiatedCallback.allowTraversal = callbacks.allowTraversal || allowTraversalCallback;\n  initiatedCallback.enter = callbacks.enter || stubCallback;\n  initiatedCallback.leave = callbacks.leave || stubCallback;\n  return initiatedCallback;\n}\n/**\n * @param {Graph} graph\n * @param {GraphNode} currentNode\n * @param {GraphNode} previousNode\n * @param {Callbacks} callbacks\n */\n\n\nfunction depthFirstSearchRecursive(graphData, currentNode, previousNode, callbacks) {\n  callbacks.enter({\n    current: currentNode,\n    previous: previousNode\n  });\n  var _a = graphData.edges,\n      edges = _a === void 0 ? [] : _a;\n  getNeighbors(currentNode, edges, 'target').forEach(function (nextNode) {\n    if (callbacks.allowTraversal({\n      previous: previousNode,\n      current: currentNode,\n      next: nextNode\n    })) {\n      depthFirstSearchRecursive(graphData, nextNode, currentNode, callbacks);\n    }\n  });\n  callbacks.leave({\n    current: currentNode,\n    previous: previousNode\n  });\n}\n/**\n * \n * @param data GraphData \n * @param startNodeId  ID\n * @param originalCallbacks \n */\n\n\nexport default function depthFirstSearch(graphData, startNodeId, callbacks) {\n  depthFirstSearchRecursive(graphData, startNodeId, '', initCallbacks(callbacks));\n}","import dfs from './dfs';\nimport getConnectedComponents, { detectStrongConnectComponents } from './connected-component';\nimport { getNeighbors } from './util';\n\nvar detectDirectedCycle = function detectDirectedCycle(graphData) {\n  var cycle = null;\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a;\n  var dfsParentMap = {}; // \n\n  var unvisitedSet = {}; // \n\n  var visitingSet = {}; // \n\n  var visitedSet = {}; //  unvisitedSet\n\n  nodes.forEach(function (node) {\n    unvisitedSet[node.id] = node;\n  });\n  var callbacks = {\n    enter: function enter(_a) {\n      var currentNode = _a.current,\n          previousNode = _a.previous;\n\n      if (visitingSet[currentNode]) {\n        // \n        cycle = {};\n        var currentCycleNode = currentNode;\n        var previousCycleNode = previousNode;\n\n        while (previousCycleNode !== currentNode) {\n          cycle[currentCycleNode] = previousCycleNode;\n          currentCycleNode = previousCycleNode;\n          previousCycleNode = dfsParentMap[previousCycleNode];\n        }\n\n        cycle[currentCycleNode] = previousCycleNode;\n      } else {\n        // \n        visitingSet[currentNode] = currentNode;\n        delete unvisitedSet[currentNode]; //  DSF parents \n\n        dfsParentMap[currentNode] = previousNode;\n      }\n    },\n    leave: function leave(_a) {\n      var currentNode = _a.current; // \n      // \n\n      visitedSet[currentNode] = currentNode;\n      delete visitingSet[currentNode];\n    },\n    allowTraversal: function allowTraversal(_a) {\n      var nextNode = _a.next; // \n\n      if (cycle) {\n        return false;\n      } // visitedSet \n\n\n      return !visitedSet[nextNode];\n    }\n  }; // \n\n  while (Object.keys(unvisitedSet).length) {\n    //  DFS \n    var firsetUnVisitedKey = Object.keys(unvisitedSet)[0];\n    dfs(graphData, firsetUnVisitedKey, callbacks);\n  }\n\n  return cycle;\n};\n/**\n * Base cycles\n * refer: https://www.codeproject.com/Articles/1158232/Enumerating-All-Cycles-in-an-Undirected-Graph\n * @param graph\n * @param nodeIds  ID \n * @param include \n * @return [{[key: string]: INode}] base cycles\n */\n\n\nexport var detectAllUndirectedCycle = function detectAllUndirectedCycle(graphData, nodeIds, include) {\n  var _a, _b;\n\n  if (include === void 0) {\n    include = true;\n  }\n\n  var allCycles = [];\n  var components = getConnectedComponents(graphData, false); // loop through all connected components\n\n  for (var _i = 0, components_1 = components; _i < components_1.length; _i++) {\n    var component = components_1[_i];\n    if (!component.length) continue;\n    var root = component[0];\n    var rootId = root.id;\n    var stack = [root];\n    var parent_1 = (_a = {}, _a[rootId] = root, _a);\n    var used = (_b = {}, _b[rootId] = new Set(), _b); // walk a spanning tree to find cycles\n\n    while (stack.length > 0) {\n      var curNode = stack.pop();\n      var curNodeId = curNode.id;\n      var neighbors = getNeighbors(curNodeId, graphData.edges);\n\n      var _loop_1 = function _loop_1(i) {\n        var _c;\n\n        var neighborId = neighbors[i];\n        var neighbor = graphData.nodes.find(function (node) {\n          return node.id === neighborId;\n        }); // const neighborId = neighbor.get('id');\n\n        if (neighborId === curNodeId) {\n          // \n          allCycles.push((_c = {}, _c[neighborId] = curNode, _c));\n        } else if (!(neighborId in used)) {\n          // visit a new node\n          parent_1[neighborId] = curNode;\n          stack.push(neighbor);\n          used[neighborId] = new Set([curNode]);\n        } else if (!used[curNodeId].has(neighbor)) {\n          // a cycle found\n          var cycleValid = true;\n          var cyclePath = [neighbor, curNode];\n          var p = parent_1[curNodeId];\n\n          while (used[neighborId].size && !used[neighborId].has(p)) {\n            cyclePath.push(p);\n            if (p === parent_1[p.id]) break;else p = parent_1[p.id];\n          }\n\n          cyclePath.push(p);\n\n          if (nodeIds && include) {\n            // \n            cycleValid = false;\n\n            if (cyclePath.findIndex(function (node) {\n              return nodeIds.indexOf(node.id) > -1;\n            }) > -1) {\n              cycleValid = true;\n            }\n          } else if (nodeIds && !include) {\n            // \n            if (cyclePath.findIndex(function (node) {\n              return nodeIds.indexOf(node.id) > -1;\n            }) > -1) {\n              cycleValid = false;\n            }\n          } //  node list  cycle \n\n\n          if (cycleValid) {\n            var cycle = {};\n\n            for (var index = 1; index < cyclePath.length; index += 1) {\n              cycle[cyclePath[index - 1].id] = cyclePath[index];\n            }\n\n            if (cyclePath.length) {\n              cycle[cyclePath[cyclePath.length - 1].id] = cyclePath[0];\n            }\n\n            allCycles.push(cycle);\n          }\n\n          used[neighborId].add(curNode);\n        }\n      };\n\n      for (var i = 0; i < neighbors.length; i += 1) {\n        _loop_1(i);\n      }\n    }\n  }\n\n  return allCycles;\n};\n/**\n * Johnson's algorithm,  O((V + E)(C + 1))$ and space bounded by O(V + E)\n * refer: https://www.cs.tufts.edu/comp/150GA/homeworks/hw1/Johnson%2075.PDF\n * refer: https://networkx.github.io/documentation/stable/_modules/networkx/algorithms/cycles.html#simple_cycles\n * @param graph\n * @param nodeIds  ID \n * @param include \n * @return [{[key: string]: INode}]  simple cycles\n */\n\nexport var detectAllDirectedCycle = function detectAllDirectedCycle(graphData, nodeIds, include) {\n  if (include === void 0) {\n    include = true;\n  }\n\n  var path = []; // stack of nodes in current path\n\n  var blocked = new Set();\n  var B = []; // remember portions of the graph that yield no elementary circuit\n\n  var allCycles = [];\n  var idx2Node = {};\n  var node2Idx = {}; //  unblock all blocked nodes\n\n  var unblock = function unblock(thisNode) {\n    var stack = [thisNode];\n\n    while (stack.length > 0) {\n      var node = stack.pop();\n\n      if (blocked.has(node)) {\n        blocked.delete(node);\n        B[node.id].forEach(function (n) {\n          stack.push(n);\n        });\n        B[node.id].clear();\n      }\n    }\n  };\n\n  var circuit = function circuit(node, start, adjList) {\n    var closed = false; // whether a path is closed\n\n    if (nodeIds && include === false && nodeIds.indexOf(node.id) > -1) return closed;\n    path.push(node);\n    blocked.add(node);\n    var neighbors = adjList[node.id];\n\n    for (var i = 0; i < neighbors.length; i += 1) {\n      var neighbor = idx2Node[neighbors[i]];\n\n      if (neighbor === start) {\n        var cycle = {};\n\n        for (var index = 1; index < path.length; index += 1) {\n          cycle[path[index - 1].id] = path[index];\n        }\n\n        if (path.length) {\n          cycle[path[path.length - 1].id] = path[0];\n        }\n\n        allCycles.push(cycle);\n        closed = true;\n      } else if (!blocked.has(neighbor)) {\n        if (circuit(neighbor, start, adjList)) {\n          closed = true;\n        }\n      }\n    }\n\n    if (closed) {\n      unblock(node);\n    } else {\n      for (var i = 0; i < neighbors.length; i += 1) {\n        var neighbor = idx2Node[neighbors[i]];\n\n        if (!B[neighbor.id].has(node)) {\n          B[neighbor.id].add(node);\n        }\n      }\n    }\n\n    path.pop();\n    return closed;\n  };\n\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a; // Johnson's algorithm \n\n  for (var i = 0; i < nodes.length; i += 1) {\n    var node = nodes[i];\n    var nodeId = node.id;\n    node2Idx[nodeId] = i;\n    idx2Node[i] = node;\n  } // \n\n\n  if (nodeIds && include) {\n    var _loop_2 = function _loop_2(i) {\n      var nodeId = nodeIds[i];\n      node2Idx[nodes[i].id] = node2Idx[nodeId];\n      node2Idx[nodeId] = 0;\n      idx2Node[0] = nodes.find(function (node) {\n        return node.id === nodeId;\n      });\n      idx2Node[node2Idx[nodes[i].id]] = nodes[i];\n    };\n\n    for (var i = 0; i < nodeIds.length; i++) {\n      _loop_2(i);\n    }\n  } //   >= nodeOrder adjList\n\n\n  var getMinComponentAdj = function getMinComponentAdj(components) {\n    var _a;\n\n    var minCompIdx;\n    var minIdx = Infinity; // Find least component and the lowest node\n\n    for (var i = 0; i < components.length; i += 1) {\n      var comp = components[i];\n\n      for (var j = 0; j < comp.length; j++) {\n        var nodeIdx_1 = node2Idx[comp[j].id];\n\n        if (nodeIdx_1 < minIdx) {\n          minIdx = nodeIdx_1;\n          minCompIdx = i;\n        }\n      }\n    }\n\n    var component = components[minCompIdx];\n    var adjList = [];\n\n    for (var i = 0; i < component.length; i += 1) {\n      var node = component[i];\n      adjList[node.id] = [];\n\n      for (var _i = 0, _b = getNeighbors(node.id, graphData.edges, 'target').filter(function (n) {\n        return component.map(function (c) {\n          return c.id;\n        }).indexOf(n) > -1;\n      }); _i < _b.length; _i++) {\n        var neighbor = _b[_i]; //  () adjList\n\n        if (neighbor === node.id && !(include === false && nodeIds.indexOf(node.id) > -1)) {\n          allCycles.push((_a = {}, _a[node.id] = node, _a));\n        } else {\n          adjList[node.id].push(node2Idx[neighbor]);\n        }\n      }\n    }\n\n    return {\n      component: component,\n      adjList: adjList,\n      minIdx: minIdx\n    };\n  };\n\n  var nodeIdx = 0;\n\n  while (nodeIdx < nodes.length) {\n    var subgraphNodes = nodes.filter(function (n) {\n      return node2Idx[n.id] >= nodeIdx;\n    });\n    var sccs = detectStrongConnectComponents({\n      nodes: subgraphNodes,\n      edges: graphData.edges\n    }).filter(function (component) {\n      return component.length > 1;\n    });\n    if (sccs.length === 0) break;\n    var scc = getMinComponentAdj(sccs);\n    var minIdx = scc.minIdx,\n        adjList = scc.adjList,\n        component = scc.component;\n\n    if (component.length > 1) {\n      component.forEach(function (node) {\n        B[node.id] = new Set();\n      });\n      var startNode = idx2Node[minIdx]; // startNode \n\n      if (nodeIds && include && nodeIds.indexOf(startNode.id) === -1) return allCycles;\n      circuit(startNode, startNode, adjList);\n      nodeIdx = minIdx + 1;\n    } else {\n      break;\n    }\n  }\n\n  return allCycles;\n};\n/**\n * \n * @param graph\n * @param directed \n * @param nodeIds  ID \n * @param include \n * @return [{[key: string]: Node}] Objectkeyidvalue\n */\n\nexport var detectAllCycles = function detectAllCycles(graphData, directed, nodeIds, include) {\n  if (include === void 0) {\n    include = true;\n  }\n\n  if (directed) return detectAllDirectedCycle(graphData, nodeIds, include);\n  return detectAllUndirectedCycle(graphData, nodeIds, include);\n};\nexport default detectDirectedCycle;","import { __spreadArray } from \"tslib\";\nimport { isArray } from '@antv/util';\nimport { getOutEdgesNodeId, getEdgesByNodeId } from './util';\n\nvar minVertex = function minVertex(D, nodes, marks) {\n  // \n  var minDis = Infinity;\n  var minNode;\n\n  for (var i = 0; i < nodes.length; i++) {\n    var nodeId = nodes[i].id;\n\n    if (!marks[nodeId] && D[nodeId] <= minDis) {\n      minDis = D[nodeId];\n      minNode = nodes[i];\n    }\n  }\n\n  return minNode;\n};\n\nvar dijkstra = function dijkstra(graphData, source, directed, weightPropertyName) {\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n  var nodeIds = [];\n  var marks = {};\n  var D = {};\n  var prevs = {}; // key: , value: \n\n  nodes.forEach(function (node, i) {\n    var id = node.id;\n    nodeIds.push(id);\n    D[id] = Infinity;\n    if (id === source) D[id] = 0;\n  });\n  var nodeNum = nodes.length;\n\n  var _loop_1 = function _loop_1(i) {\n    // Process the vertices\n    var minNode = minVertex(D, nodes, marks);\n    var minNodeId = minNode.id;\n    marks[minNodeId] = true;\n    if (D[minNodeId] === Infinity) return \"continue\"; // Unreachable vertices cannot be the intermediate point\n\n    var relatedEdges = [];\n    if (directed) relatedEdges = getOutEdgesNodeId(minNodeId, edges);else relatedEdges = getEdgesByNodeId(minNodeId, edges);\n    relatedEdges.forEach(function (edge) {\n      var edgeTarget = edge.target;\n      var edgeSource = edge.source;\n      var w = edgeTarget === minNodeId ? edgeSource : edgeTarget;\n      var weight = weightPropertyName && edge[weightPropertyName] ? edge[weightPropertyName] : 1;\n\n      if (D[w] > D[minNode.id] + weight) {\n        D[w] = D[minNode.id] + weight;\n        prevs[w] = [minNode.id];\n      } else if (D[w] === D[minNode.id] + weight) {\n        prevs[w].push(minNode.id);\n      }\n    });\n  };\n\n  for (var i = 0; i < nodeNum; i++) {\n    _loop_1(i);\n  }\n\n  prevs[source] = [source]; // \n\n  var paths = {};\n\n  for (var target in D) {\n    if (D[target] !== Infinity) {\n      findAllPaths(source, target, prevs, paths);\n    }\n  } // \n\n\n  var path = {};\n\n  for (var target in paths) {\n    path[target] = paths[target][0];\n  }\n\n  return {\n    length: D,\n    path: path,\n    allPath: paths\n  };\n};\n\nexport default dijkstra;\n\nfunction findAllPaths(source, target, prevs, foundPaths) {\n  if (source === target) {\n    return [source];\n  }\n\n  if (foundPaths[target]) {\n    return foundPaths[target];\n  }\n\n  var paths = [];\n\n  for (var _i = 0, _a = prevs[target]; _i < _a.length; _i++) {\n    var prev = _a[_i];\n    var prevPaths = findAllPaths(source, prev, prevs, foundPaths);\n    if (!prevPaths) return;\n\n    for (var _b = 0, prevPaths_1 = prevPaths; _b < prevPaths_1.length; _b++) {\n      var prePath = prevPaths_1[_b];\n      if (isArray(prePath)) paths.push(__spreadArray(__spreadArray([], prePath, true), [target], false));else paths.push([prePath, target]);\n    }\n  }\n\n  foundPaths[target] = paths;\n  return foundPaths[target];\n}","import dijkstra from './dijkstra';\nimport { getNeighbors } from './util';\nexport var findShortestPath = function findShortestPath(graphData, start, end, directed, weightPropertyName) {\n  var _a = dijkstra(graphData, start, directed, weightPropertyName),\n      length = _a.length,\n      path = _a.path,\n      allPath = _a.allPath;\n\n  return {\n    length: length[end],\n    path: path[end],\n    allPath: allPath[end]\n  };\n};\nexport var findAllPath = function findAllPath(graphData, start, end, directed) {\n  var _a;\n\n  if (start === end) return [[start]];\n  var _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n  var visited = [start];\n  var isVisited = (_a = {}, _a[start] = true, _a);\n  var stack = []; // \n\n  var allPath = [];\n  var neighbors = directed ? getNeighbors(start, edges, 'target') : getNeighbors(start, edges);\n  stack.push(neighbors);\n\n  while (visited.length > 0 && stack.length > 0) {\n    var children = stack[stack.length - 1];\n\n    if (children.length) {\n      var child = children.shift();\n\n      if (child) {\n        visited.push(child);\n        isVisited[child] = true;\n        neighbors = directed ? getNeighbors(child, edges, 'target') : getNeighbors(child, edges);\n        stack.push(neighbors.filter(function (neighbor) {\n          return !isVisited[neighbor];\n        }));\n      }\n    } else {\n      var node = visited.pop();\n      isVisited[node] = false;\n      stack.pop();\n      continue;\n    }\n\n    if (visited[visited.length - 1] === end) {\n      var path = visited.map(function (node) {\n        return node;\n      });\n      allPath.push(path);\n      var node = visited.pop();\n      isVisited[node] = false;\n      stack.pop();\n    }\n  }\n\n  return allPath;\n};","export var DistanceType;\n\n(function (DistanceType) {\n  DistanceType[\"EuclideanDistance\"] = \"euclideanDistance\";\n})(DistanceType || (DistanceType = {}));","import getAdjMatrix from \"./adjacent-matrix\";\n\nvar floydWarshall = function floydWarshall(graphData, directed) {\n  var adjacentMatrix = getAdjMatrix(graphData, directed);\n  var dist = [];\n  var size = adjacentMatrix.length;\n\n  for (var i = 0; i < size; i += 1) {\n    dist[i] = [];\n\n    for (var j = 0; j < size; j += 1) {\n      if (i === j) {\n        dist[i][j] = 0;\n      } else if (adjacentMatrix[i][j] === 0 || !adjacentMatrix[i][j]) {\n        dist[i][j] = Infinity;\n      } else {\n        dist[i][j] = adjacentMatrix[i][j];\n      }\n    }\n  } // floyd\n\n\n  for (var k = 0; k < size; k += 1) {\n    for (var i = 0; i < size; i += 1) {\n      for (var j = 0; j < size; j += 1) {\n        if (dist[i][j] > dist[i][k] + dist[k][j]) {\n          dist[i][j] = dist[i][k] + dist[k][j];\n        }\n      }\n    }\n  }\n\n  return dist;\n};\n\nexport default floydWarshall;","import getAdjMatrix from './adjacent-matrix';\nimport { uniqueId } from './util';\n/**\n * \n * @param graphData \n * @param directed  false\n * @param weightPropertyName \n * @param maxIteration \n */\n\nvar labelPropagation = function labelPropagation(graphData, directed, weightPropertyName, maxIteration) {\n  if (directed === void 0) {\n    directed = false;\n  }\n\n  if (weightPropertyName === void 0) {\n    weightPropertyName = 'weight';\n  }\n\n  if (maxIteration === void 0) {\n    maxIteration = 1000;\n  } // the origin data\n\n\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n  var clusters = {};\n  var nodeMap = {}; // init the clusters and nodeMap\n\n  nodes.forEach(function (node, i) {\n    var cid = uniqueId();\n    node.clusterId = cid;\n    clusters[cid] = {\n      id: cid,\n      nodes: [node]\n    };\n    nodeMap[node.id] = {\n      node: node,\n      idx: i\n    };\n  }); // the adjacent matrix of calNodes inside clusters\n\n  var adjMatrix = getAdjMatrix(graphData, directed); // the sum of each row in adjacent matrix\n\n  var ks = [];\n  /**\n   * neighbor nodes (id for key and weight for value) for each node\n   * neighbors = {\n   *  id(node_id): { id(neighbor_1_id): weight(weight of the edge), id(neighbor_2_id): weight(weight of the edge), ... },\n   *  ...\n   * }\n   */\n\n  var neighbors = {};\n  adjMatrix.forEach(function (row, i) {\n    var k = 0;\n    var iid = nodes[i].id;\n    neighbors[iid] = {};\n    row.forEach(function (entry, j) {\n      if (!entry) return;\n      k += entry;\n      var jid = nodes[j].id;\n      neighbors[iid][jid] = entry;\n    });\n    ks.push(k);\n  });\n  var iter = 0;\n\n  var _loop_1 = function _loop_1() {\n    var changed = false;\n    nodes.forEach(function (node) {\n      var neighborClusters = {};\n      Object.keys(neighbors[node.id]).forEach(function (neighborId) {\n        var neighborWeight = neighbors[node.id][neighborId];\n        var neighborNode = nodeMap[neighborId].node;\n        var neighborClusterId = neighborNode.clusterId;\n        if (!neighborClusters[neighborClusterId]) neighborClusters[neighborClusterId] = 0;\n        neighborClusters[neighborClusterId] += neighborWeight;\n      }); // find the cluster with max weight\n\n      var maxWeight = -Infinity;\n      var bestClusterIds = [];\n      Object.keys(neighborClusters).forEach(function (clusterId) {\n        if (maxWeight < neighborClusters[clusterId]) {\n          maxWeight = neighborClusters[clusterId];\n          bestClusterIds = [clusterId];\n        } else if (maxWeight === neighborClusters[clusterId]) {\n          bestClusterIds.push(clusterId);\n        }\n      });\n      if (bestClusterIds.length === 1 && bestClusterIds[0] === node.clusterId) return;\n      var selfClusterIdx = bestClusterIds.indexOf(node.clusterId);\n      if (selfClusterIdx >= 0) bestClusterIds.splice(selfClusterIdx, 1);\n\n      if (bestClusterIds && bestClusterIds.length) {\n        changed = true; // remove from origin cluster\n\n        var selfCluster = clusters[node.clusterId];\n        var nodeInSelfClusterIdx = selfCluster.nodes.indexOf(node);\n        selfCluster.nodes.splice(nodeInSelfClusterIdx, 1); // move the node to the best cluster\n\n        var randomIdx = Math.floor(Math.random() * bestClusterIds.length);\n        var bestCluster = clusters[bestClusterIds[randomIdx]];\n        bestCluster.nodes.push(node);\n        node.clusterId = bestCluster.id;\n      }\n    });\n    if (!changed) return \"break\";\n    iter++;\n  };\n\n  while (iter < maxIteration) {\n    var state_1 = _loop_1();\n\n    if (state_1 === \"break\") break;\n  } // delete the empty clusters\n\n\n  Object.keys(clusters).forEach(function (clusterId) {\n    var cluster = clusters[clusterId];\n\n    if (!cluster.nodes || !cluster.nodes.length) {\n      delete clusters[clusterId];\n    }\n  }); // get the cluster edges\n\n  var clusterEdges = [];\n  var clusterEdgeMap = {};\n  edges.forEach(function (edge) {\n    var source = edge.source,\n        target = edge.target;\n    var weight = edge[weightPropertyName] || 1;\n    var sourceClusterId = nodeMap[source].node.clusterId;\n    var targetClusterId = nodeMap[target].node.clusterId;\n    var newEdgeId = \"\".concat(sourceClusterId, \"---\").concat(targetClusterId);\n\n    if (clusterEdgeMap[newEdgeId]) {\n      clusterEdgeMap[newEdgeId].weight += weight;\n      clusterEdgeMap[newEdgeId].count++;\n    } else {\n      var newEdge = {\n        source: sourceClusterId,\n        target: targetClusterId,\n        weight: weight,\n        count: 1\n      };\n      clusterEdgeMap[newEdgeId] = newEdge;\n      clusterEdges.push(newEdge);\n    }\n  });\n  var clustersArray = [];\n  Object.keys(clusters).forEach(function (clusterId) {\n    clustersArray.push(clusters[clusterId]);\n  });\n  return {\n    clusters: clustersArray,\n    clusterEdges: clusterEdges\n  };\n};\n\nexport default labelPropagation;","/**\n * \n */\nimport { clone } from '@antv/util';\n\nvar Vector =\n/** @class */\nfunction () {\n  function Vector(arr) {\n    this.arr = arr;\n  }\n\n  Vector.prototype.getArr = function () {\n    return this.arr || [];\n  };\n\n  Vector.prototype.add = function (otherVector) {\n    var _a;\n\n    var otherArr = otherVector.arr;\n\n    if (!((_a = this.arr) === null || _a === void 0 ? void 0 : _a.length)) {\n      return new Vector(otherArr);\n    }\n\n    if (!(otherArr === null || otherArr === void 0 ? void 0 : otherArr.length)) {\n      return new Vector(this.arr);\n    }\n\n    if (this.arr.length === otherArr.length) {\n      var res = [];\n\n      for (var index in this.arr) {\n        res[index] = this.arr[index] + otherArr[index];\n      }\n\n      return new Vector(res);\n    }\n  };\n\n  Vector.prototype.subtract = function (otherVector) {\n    var _a;\n\n    var otherArr = otherVector.arr;\n\n    if (!((_a = this.arr) === null || _a === void 0 ? void 0 : _a.length)) {\n      return new Vector(otherArr);\n    }\n\n    if (!(otherArr === null || otherArr === void 0 ? void 0 : otherArr.length)) {\n      return new Vector(this.arr);\n    }\n\n    if (this.arr.length === otherArr.length) {\n      var res = [];\n\n      for (var index in this.arr) {\n        res[index] = this.arr[index] - otherArr[index];\n      }\n\n      return new Vector(res);\n    }\n  };\n\n  Vector.prototype.avg = function (length) {\n    var res = [];\n\n    if (length !== 0) {\n      for (var index in this.arr) {\n        res[index] = this.arr[index] / length;\n      }\n    }\n\n    return new Vector(res);\n  };\n\n  Vector.prototype.negate = function () {\n    var res = [];\n\n    for (var index in this.arr) {\n      res[index] = -this.arr[index];\n    }\n\n    return new Vector(res);\n  }; // \n\n\n  Vector.prototype.squareEuclideanDistance = function (otherVector) {\n    var _a;\n\n    var otherArr = otherVector.arr;\n\n    if (!((_a = this.arr) === null || _a === void 0 ? void 0 : _a.length) || !(otherArr === null || otherArr === void 0 ? void 0 : otherArr.length)) {\n      return 0;\n    }\n\n    if (this.arr.length === otherArr.length) {\n      var res = 0;\n\n      for (var index in this.arr) {\n        res += Math.pow(this.arr[index] - otherVector.arr[index], 2);\n      }\n\n      return res;\n    }\n  }; // \n\n\n  Vector.prototype.euclideanDistance = function (otherVector) {\n    var _a;\n\n    var otherArr = otherVector.arr;\n\n    if (!((_a = this.arr) === null || _a === void 0 ? void 0 : _a.length) || !(otherArr === null || otherArr === void 0 ? void 0 : otherArr.length)) {\n      return 0;\n    }\n\n    if (this.arr.length === otherArr.length) {\n      var res = 0;\n\n      for (var index in this.arr) {\n        res += Math.pow(this.arr[index] - otherVector.arr[index], 2);\n      }\n\n      return Math.sqrt(res);\n    } else {\n      console.error('The two vectors are unequal in length.');\n    }\n  }; // \n\n\n  Vector.prototype.normalize = function () {\n    var res = [];\n    var cloneArr = clone(this.arr);\n    cloneArr.sort(function (a, b) {\n      return a - b;\n    });\n    var max = cloneArr[cloneArr.length - 1];\n    var min = cloneArr[0];\n\n    for (var index in this.arr) {\n      res[index] = (this.arr[index] - min) / (max - min);\n    }\n\n    return new Vector(res);\n  }; // 2 or \n\n\n  Vector.prototype.norm2 = function () {\n    var _a;\n\n    if (!((_a = this.arr) === null || _a === void 0 ? void 0 : _a.length)) {\n      return 0;\n    }\n\n    var res = 0;\n\n    for (var index in this.arr) {\n      res += Math.pow(this.arr[index], 2);\n    }\n\n    return Math.sqrt(res);\n  }; // \n\n\n  Vector.prototype.dot = function (otherVector) {\n    var _a;\n\n    var otherArr = otherVector.arr;\n\n    if (!((_a = this.arr) === null || _a === void 0 ? void 0 : _a.length) || !(otherArr === null || otherArr === void 0 ? void 0 : otherArr.length)) {\n      return 0;\n    }\n\n    if (this.arr.length === otherArr.length) {\n      var res = 0;\n\n      for (var index in this.arr) {\n        res += this.arr[index] * otherVector.arr[index];\n      }\n\n      return res;\n    } else {\n      console.error('The two vectors are unequal in length.');\n    }\n  }; // \n\n\n  Vector.prototype.equal = function (otherVector) {\n    var _a;\n\n    var otherArr = otherVector.arr;\n\n    if (((_a = this.arr) === null || _a === void 0 ? void 0 : _a.length) !== (otherArr === null || otherArr === void 0 ? void 0 : otherArr.length)) {\n      return false;\n    }\n\n    for (var index in this.arr) {\n      if (this.arr[index] !== otherArr[index]) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  return Vector;\n}();\n\nexport default Vector;","import { secondReg, dateReg } from '../constants/time'; // \n\nexport var getAllSortProperties = function getAllSortProperties(nodes, n) {\n  if (nodes === void 0) {\n    nodes = [];\n  }\n\n  if (n === void 0) {\n    n = 100;\n  }\n\n  var propertyKeyInfo = {};\n  nodes.forEach(function (node) {\n    if (!node.properties) {\n      return;\n    }\n\n    Object.keys(node.properties).forEach(function (propertyKey) {\n      // , todo: one-hotembedding\n      if (propertyKey === 'id' || !\"\".concat(node.properties[propertyKey]).match(secondReg) && !\"\".concat(node.properties[propertyKey]).match(dateReg) && isNaN(Number(node.properties[propertyKey]))) {\n        if (propertyKeyInfo.hasOwnProperty(propertyKey)) {\n          delete propertyKeyInfo[propertyKey];\n        }\n\n        return;\n      }\n\n      if (propertyKeyInfo.hasOwnProperty(propertyKey)) {\n        propertyKeyInfo[propertyKey] += 1;\n      } else {\n        propertyKeyInfo[propertyKey] = 1;\n      }\n    });\n  }); // top50\n\n  var sortKeys = Object.keys(propertyKeyInfo).sort(function (a, b) {\n    return propertyKeyInfo[b] - propertyKeyInfo[a];\n  });\n  return sortKeys.length < n ? sortKeys : sortKeys.slice(0, n);\n};\n\nvar processProperty = function processProperty(properties, propertyKeys) {\n  return propertyKeys.map(function (key) {\n    if (properties.hasOwnProperty(key)) {\n      // \n      if (!isNaN(Number(properties[key]))) {\n        return Number(properties[key]);\n      } // \n\n\n      if (properties[key].match(secondReg) || properties[key].match(dateReg)) {\n        // @ts-ignore\n        return Number(Date.parse(new Date(properties[key]))) / 1000;\n      }\n    }\n\n    return 0;\n  });\n}; // \n\n\nexport var getPropertyWeight = function getPropertyWeight(nodes) {\n  var propertyKeys = getAllSortProperties(nodes);\n  var allPropertiesWeight = [];\n\n  for (var i = 0; i < nodes.length; i++) {\n    allPropertiesWeight[i] = processProperty(nodes[i].properties, propertyKeys);\n  }\n\n  return allPropertiesWeight;\n}; // \n\nexport var getAllProperties = function getAllProperties(nodes, key) {\n  if (key === void 0) {\n    key = undefined;\n  }\n\n  var allProperties = [];\n  nodes.forEach(function (node) {\n    if (key === undefined) {\n      allProperties.push(node);\n    }\n\n    if (node[key] !== undefined) {\n      allProperties.push(node[key]);\n    }\n  });\n  return allProperties;\n};\nexport default {\n  getAllSortProperties: getAllSortProperties,\n  getPropertyWeight: getPropertyWeight,\n  getAllProperties: getAllProperties\n};","import { uniq } from '@antv/util';\nimport { DistanceType } from '../types';\nimport Vector from './vector';\n/**\n * \n * @param dataList \n * @param involvedKeys key\n * @param uninvolvedKeys key\n */\n\nexport var getAllKeyValueMap = function getAllKeyValueMap(dataList, involvedKeys, uninvolvedKeys) {\n  var keys = []; // keyskeys\n\n  if (involvedKeys === null || involvedKeys === void 0 ? void 0 : involvedKeys.length) {\n    keys = involvedKeys;\n  } else {\n    // keyskey\n    dataList.forEach(function (data) {\n      keys = keys.concat(Object.keys(data));\n    });\n    keys = uniq(keys);\n  } // keyvalue\n\n\n  var allKeyValueMap = {};\n  keys.forEach(function (key) {\n    var value = [];\n    dataList.forEach(function (data) {\n      if (data[key] !== undefined && data[key] !== '') {\n        value.push(data[key]);\n      }\n    });\n\n    if (value.length && !(uninvolvedKeys === null || uninvolvedKeys === void 0 ? void 0 : uninvolvedKeys.includes(key))) {\n      allKeyValueMap[key] = uniq(value);\n    }\n  });\n  return allKeyValueMap;\n};\n/**\n * one-hot\n * @param dataList \n * @param involvedKeys key\n * @param uninvolvedKeys key\n */\n\nexport var oneHot = function oneHot(dataList, involvedKeys, uninvolvedKeys) {\n  // \n  var allKeyValueMap = getAllKeyValueMap(dataList, involvedKeys, uninvolvedKeys);\n  var oneHotCode = [];\n\n  if (!Object.keys(allKeyValueMap).length) {\n    return oneHotCode;\n  } // one-hot\n\n\n  dataList.forEach(function (data, index) {\n    var code = [];\n\n    if (Object.keys(allKeyValueMap).length === 1) {\n      // \n      var key = Object.keys(allKeyValueMap)[0];\n      var keyValue = allKeyValueMap[key];\n\n      if (keyValue.every(function (value) {\n        return !isNaN(Number(value));\n      })) {\n        code = [data[key]];\n      }\n    } else {\n      Object.keys(allKeyValueMap).forEach(function (key) {\n        var keyValue = data[key];\n        var allKeyValue = allKeyValueMap[key];\n        var valueIndex = allKeyValue.findIndex(function (value) {\n          return keyValue === value;\n        });\n        var subCode = [];\n\n        for (var i = 0; i < allKeyValue.length; i++) {\n          if (i === valueIndex) {\n            subCode.push(1);\n          } else {\n            subCode.push(0);\n          }\n        }\n\n        code = code.concat(subCode);\n      });\n    }\n\n    oneHotCode[index] = code;\n  });\n  return oneHotCode;\n};\n/**\n * getDistance\n * @param item\n * @param otherItem\n * @param distanceType \n * @param graphData \n */\n\nexport var getDistance = function getDistance(item, otherItem, distanceType, graphData) {\n  if (distanceType === void 0) {\n    distanceType = DistanceType.EuclideanDistance;\n  }\n\n  var distance = 0;\n\n  switch (distanceType) {\n    case DistanceType.EuclideanDistance:\n      distance = new Vector(item).euclideanDistance(new Vector(otherItem));\n      break;\n\n    default:\n      break;\n  }\n\n  return distance;\n};\nexport default {\n  getAllKeyValueMap: getAllKeyValueMap,\n  oneHot: oneHot,\n  getDistance: getDistance\n};","import { clone } from '@antv/util';\nimport getAdjMatrix from './adjacent-matrix';\nimport Vector from './utils/vector';\nimport { getAllProperties } from './utils/node-properties';\nimport { oneHot } from './utils/data-preprocessing';\n\nvar getModularity = function getModularity(nodes, adjMatrix, ks, m) {\n  var length = adjMatrix.length;\n  var param = 2 * m;\n  var modularity = 0;\n\n  for (var i = 0; i < length; i++) {\n    var clusteri = nodes[i].clusterId;\n\n    for (var j = 0; j < length; j++) {\n      var clusterj = nodes[j].clusterId;\n      if (clusteri !== clusterj) continue;\n      var entry = adjMatrix[i][j] || 0;\n      var ki = ks[i] || 0;\n      var kj = ks[j] || 0;\n      modularity += entry - ki * kj / param;\n    }\n  }\n\n  modularity *= 1 / param;\n  return modularity;\n}; // \n\n\nvar getInertialModularity = function getInertialModularity(nodes, allPropertiesWeight) {\n  if (nodes === void 0) {\n    nodes = [];\n  }\n\n  var length = nodes.length;\n  var totalProperties = new Vector([]);\n\n  for (var i = 0; i < length; i++) {\n    totalProperties = totalProperties.add(new Vector(allPropertiesWeight[i]));\n  } // \n\n\n  var avgProperties = totalProperties.avg(length);\n  avgProperties.normalize(); // : v\n\n  var variance = 0;\n\n  for (var i = 0; i < length; i++) {\n    var propertiesi = new Vector(allPropertiesWeight[i]);\n    var squareEuclideanDistance = propertiesi.squareEuclideanDistance(avgProperties);\n    variance += squareEuclideanDistance;\n  } // \n\n\n  var squareEuclideanDistanceInfo = [];\n  nodes.forEach(function () {\n    squareEuclideanDistanceInfo.push([]);\n  });\n\n  for (var i = 0; i < length; i++) {\n    var propertiesi = new Vector(allPropertiesWeight[i]);\n    nodes[i]['clusterInertial'] = 0;\n\n    for (var j = 0; j < length; j++) {\n      if (i === j) {\n        squareEuclideanDistanceInfo[i][j] = 0;\n        continue;\n      }\n\n      var propertiesj = new Vector(allPropertiesWeight[j]);\n      squareEuclideanDistanceInfo[i][j] = propertiesi.squareEuclideanDistance(propertiesj);\n      nodes[i]['clusterInertial'] += squareEuclideanDistanceInfo[i][j];\n    }\n  } // \n\n\n  var inertialModularity = 0;\n  var param = 2 * length * variance;\n\n  for (var i = 0; i < length; i++) {\n    var clusteri = nodes[i].clusterId;\n\n    for (var j = 0; j < length; j++) {\n      var clusterj = nodes[j].clusterId;\n      if (i === j || clusteri !== clusterj) continue;\n      var inertial = nodes[i].clusterInertial * nodes[j].clusterInertial / Math.pow(param, 2) - squareEuclideanDistanceInfo[i][j] / param;\n      inertialModularity += inertial;\n    }\n  }\n\n  return Number(inertialModularity.toFixed(4));\n};\n/**\n *  louvain \n * @param graphData \n * @param directed  false\n * @param weightPropertyName \n * @param threshold \n * @param inertialModularity \n * @param propertyKey \n * @param involvedKeys key\n * @param uninvolvedKeys key\n * @param inertialWeight \n */\n\n\nvar louvain = function louvain(graphData, directed, weightPropertyName, threshold, inertialModularity, propertyKey, involvedKeys, uninvolvedKeys, inertialWeight) {\n  if (directed === void 0) {\n    directed = false;\n  }\n\n  if (weightPropertyName === void 0) {\n    weightPropertyName = 'weight';\n  }\n\n  if (threshold === void 0) {\n    threshold = 0.0001;\n  }\n\n  if (inertialModularity === void 0) {\n    inertialModularity = false;\n  }\n\n  if (propertyKey === void 0) {\n    propertyKey = undefined;\n  }\n\n  if (involvedKeys === void 0) {\n    involvedKeys = [];\n  }\n\n  if (uninvolvedKeys === void 0) {\n    uninvolvedKeys = ['id'];\n  }\n\n  if (inertialWeight === void 0) {\n    inertialWeight = 1;\n  } // the origin data\n\n\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n  var allPropertiesWeight = [];\n\n  if (inertialModularity) {\n    nodes.forEach(function (node, index) {\n      node.properties = node.properties || {};\n      node.originIndex = index;\n    });\n    var nodeTypeInfo_1 = [];\n\n    if (nodes.every(function (node) {\n      return node.hasOwnProperty('nodeType');\n    })) {\n      nodeTypeInfo_1 = Array.from(new Set(nodes.map(function (node) {\n        return node.nodeType;\n      })));\n      nodes.forEach(function (node) {\n        node.properties.nodeType = nodeTypeInfo_1.findIndex(function (nodeType) {\n          return nodeType === node.nodeType;\n        });\n      });\n    } // \n\n\n    var properties = getAllProperties(nodes, propertyKey); // one-hot\n\n    allPropertiesWeight = oneHot(properties, involvedKeys, uninvolvedKeys);\n  }\n\n  var uniqueId = 1;\n  var clusters = {};\n  var nodeMap = {}; // init the clusters and nodeMap\n\n  nodes.forEach(function (node, i) {\n    var cid = String(uniqueId++);\n    node.clusterId = cid;\n    clusters[cid] = {\n      id: cid,\n      nodes: [node]\n    };\n    nodeMap[node.id] = {\n      node: node,\n      idx: i\n    };\n  }); // the adjacent matrix of calNodes inside clusters\n\n  var adjMatrix = getAdjMatrix(graphData, directed); // the sum of each row in adjacent matrix\n\n  var ks = [];\n  /**\n   * neighbor nodes (id for key and weight for value) for each node\n   * neighbors = {\n   *  id(node_id): { id(neighbor_1_id): weight(weight of the edge), id(neighbor_2_id): weight(weight of the edge), ... },\n   *  ...\n   * }\n   */\n\n  var neighbors = {}; // the sum of the weights of all edges in the graph\n\n  var m = 0;\n  adjMatrix.forEach(function (row, i) {\n    var k = 0;\n    var iid = nodes[i].id;\n    neighbors[iid] = {};\n    row.forEach(function (entry, j) {\n      if (!entry) return;\n      k += entry;\n      var jid = nodes[j].id;\n      neighbors[iid][jid] = entry;\n      m += entry;\n    });\n    ks.push(k);\n  });\n  m /= 2;\n  var totalModularity = Infinity;\n  var previousModularity = Infinity;\n  var iter = 0;\n  var finalNodes = [];\n  var finalClusters = {};\n\n  while (true) {\n    if (inertialModularity && nodes.every(function (node) {\n      return node.hasOwnProperty('properties');\n    })) {\n      totalModularity = getModularity(nodes, adjMatrix, ks, m) + getInertialModularity(nodes, allPropertiesWeight) * inertialWeight;\n    } else {\n      totalModularity = getModularity(nodes, adjMatrix, ks, m);\n    } // previousModularity\n\n\n    if (iter === 0) {\n      previousModularity = totalModularity;\n      finalNodes = nodes;\n      finalClusters = clusters;\n    }\n\n    var increaseWithinThreshold = totalModularity > 0 && totalModularity > previousModularity && totalModularity - previousModularity < threshold; // \n\n    if (totalModularity > previousModularity) {\n      finalNodes = nodes.map(function (node) {\n        return {\n          node: node,\n          clusterId: node.clusterId\n        };\n      });\n      finalClusters = clone(clusters);\n      previousModularity = totalModularity;\n    } // whether to terminate the iterations\n\n\n    if (increaseWithinThreshold || iter > 100) {\n      break;\n    }\n\n    ;\n    iter++; // pre compute some values for current clusters\n\n    Object.keys(clusters).forEach(function (clusterId) {\n      // sum of weights of edges to nodes in cluster\n      var sumTot = 0;\n      edges.forEach(function (edge) {\n        var source = edge.source,\n            target = edge.target;\n        var sourceClusterId = nodeMap[source].node.clusterId;\n        var targetClusterId = nodeMap[target].node.clusterId;\n\n        if (sourceClusterId === clusterId && targetClusterId !== clusterId || targetClusterId === clusterId && sourceClusterId !== clusterId) {\n          sumTot = sumTot + (edge[weightPropertyName] || 1);\n        }\n      });\n      clusters[clusterId].sumTot = sumTot;\n    }); // move the nodes to increase the delta modularity\n\n    nodes.forEach(function (node, i) {\n      var selfCluster = clusters[node.clusterId];\n      var bestIncrease = 0;\n      var bestCluster;\n      var commonParam = ks[i] / (2 * m); // sum of weights of edges from node to nodes in cluster\n\n      var kiin = 0;\n      var selfClusterNodes = selfCluster.nodes;\n      selfClusterNodes.forEach(function (scNode) {\n        var scNodeIdx = nodeMap[scNode.id].idx;\n        kiin += adjMatrix[i][scNodeIdx] || 0;\n      }); // the modurarity for **removing** the node i from the origin cluster of node i\n\n      var removeModurarity = kiin - selfCluster.sumTot * commonParam; // nodes for **removing** node i into this neighbor cluster\n\n      var selfClusterNodesAfterRemove = selfClusterNodes.filter(function (scNode) {\n        return scNode.id !== node.id;\n      });\n      var propertiesWeightRemove = [];\n      selfClusterNodesAfterRemove.forEach(function (nodeRemove, index) {\n        propertiesWeightRemove[index] = allPropertiesWeight[nodeRemove.originIndex];\n      }); // the inertialModularity for **removing** the node i from the origin cluster of node i\n\n      var removeInertialModularity = getInertialModularity(selfClusterNodesAfterRemove, allPropertiesWeight) * inertialWeight; // the neightbors of the node\n\n      var nodeNeighborIds = neighbors[node.id];\n      Object.keys(nodeNeighborIds).forEach(function (neighborNodeId) {\n        var neighborNode = nodeMap[neighborNodeId].node;\n        var neighborClusterId = neighborNode.clusterId; // if the node and the neighbor of node are in the same cluster, reutrn\n\n        if (neighborClusterId === node.clusterId) return;\n        var neighborCluster = clusters[neighborClusterId];\n        var clusterNodes = neighborCluster.nodes; // if the cluster is empty, remove the cluster and return\n\n        if (!clusterNodes || !clusterNodes.length) return; // sum of weights of edges from node to nodes in cluster\n\n        var neighborClusterKiin = 0;\n        clusterNodes.forEach(function (cNode) {\n          var cNodeIdx = nodeMap[cNode.id].idx;\n          neighborClusterKiin += adjMatrix[i][cNodeIdx] || 0;\n        }); // the modurarity for **adding** node i into this neighbor cluster\n\n        var addModurarity = neighborClusterKiin - neighborCluster.sumTot * commonParam; // nodes for **adding** node i into this neighbor cluster\n\n        var clusterNodesAfterAdd = clusterNodes.concat([node]);\n        var propertiesWeightAdd = [];\n        clusterNodesAfterAdd.forEach(function (nodeAdd, index) {\n          propertiesWeightAdd[index] = allPropertiesWeight[nodeAdd.originIndex];\n        }); // the inertialModularity for **adding** node i into this neighbor cluster\n\n        var addInertialModularity = getInertialModularity(clusterNodesAfterAdd, allPropertiesWeight) * inertialWeight; // the increase modurarity is the difference between addModurarity and removeModurarity\n\n        var increase = addModurarity - removeModurarity;\n\n        if (inertialModularity) {\n          increase = addModurarity + addInertialModularity - (removeModurarity + removeInertialModularity);\n        } // find the best cluster to move node i into\n\n\n        if (increase > bestIncrease) {\n          bestIncrease = increase;\n          bestCluster = neighborCluster;\n        }\n      }); // if found a best cluster to move into\n\n      if (bestIncrease > 0) {\n        bestCluster.nodes.push(node);\n        var previousClusterId_1 = node.clusterId;\n        node.clusterId = bestCluster.id; // move the node to the best cluster\n\n        var nodeInSelfClusterIdx = selfCluster.nodes.indexOf(node); // remove from origin cluster\n\n        selfCluster.nodes.splice(nodeInSelfClusterIdx, 1); // update sumTot for clusters\n        // sum of weights of edges to nodes in cluster\n\n        var neighborClusterSumTot_1 = 0;\n        var selfClusterSumTot_1 = 0;\n        edges.forEach(function (edge) {\n          var source = edge.source,\n              target = edge.target;\n          var sourceClusterId = nodeMap[source].node.clusterId;\n          var targetClusterId = nodeMap[target].node.clusterId;\n\n          if (sourceClusterId === bestCluster.id && targetClusterId !== bestCluster.id || targetClusterId === bestCluster.id && sourceClusterId !== bestCluster.id) {\n            neighborClusterSumTot_1 = neighborClusterSumTot_1 + (edge[weightPropertyName] || 1);\n          }\n\n          if (sourceClusterId === previousClusterId_1 && targetClusterId !== previousClusterId_1 || targetClusterId === previousClusterId_1 && sourceClusterId !== previousClusterId_1) {\n            selfClusterSumTot_1 = selfClusterSumTot_1 + (edge[weightPropertyName] || 1);\n          }\n        }); // the nodes of the clusters to move into and remove are changed, update their sumTot\n\n        bestCluster.sumTot = neighborClusterSumTot_1;\n        selfCluster.sumTot = selfClusterSumTot_1;\n      }\n    });\n  } // delete the empty clusters, assign increasing clusterId\n\n\n  var newClusterIdMap = {};\n  var clusterIdx = 0;\n  Object.keys(finalClusters).forEach(function (clusterId) {\n    var cluster = finalClusters[clusterId];\n\n    if (!cluster.nodes || !cluster.nodes.length) {\n      delete finalClusters[clusterId];\n      return;\n    }\n\n    var newId = String(clusterIdx + 1);\n\n    if (newId === clusterId) {\n      return;\n    }\n\n    cluster.id = newId;\n    cluster.nodes = cluster.nodes.map(function (item) {\n      return {\n        id: item.id,\n        clusterId: newId\n      };\n    });\n    finalClusters[newId] = cluster;\n    newClusterIdMap[clusterId] = newId;\n    delete finalClusters[clusterId];\n    clusterIdx++;\n  }); // restore node clusterId\n\n  finalNodes.forEach(function (nodeInfo) {\n    var node = nodeInfo.node,\n        clusterId = nodeInfo.clusterId;\n    node.clusterId = clusterId;\n    if (node.clusterId && newClusterIdMap[node.clusterId]) node.clusterId = newClusterIdMap[node.clusterId];\n  }); // get the cluster edges\n\n  var clusterEdges = [];\n  var clusterEdgeMap = {};\n  edges.forEach(function (edge) {\n    var source = edge.source,\n        target = edge.target;\n    var weight = edge[weightPropertyName] || 1;\n    var sourceClusterId = nodeMap[source].node.clusterId;\n    var targetClusterId = nodeMap[target].node.clusterId;\n    var newEdgeId = \"\".concat(sourceClusterId, \"---\").concat(targetClusterId);\n\n    if (clusterEdgeMap[newEdgeId]) {\n      clusterEdgeMap[newEdgeId].weight += weight;\n      clusterEdgeMap[newEdgeId].count++;\n    } else {\n      var newEdge = {\n        source: sourceClusterId,\n        target: targetClusterId,\n        weight: weight,\n        count: 1\n      };\n      clusterEdgeMap[newEdgeId] = newEdge;\n      clusterEdges.push(newEdge);\n    }\n  });\n  var clustersArray = [];\n  Object.keys(finalClusters).forEach(function (clusterId) {\n    clustersArray.push(finalClusters[clusterId]);\n  });\n  return {\n    clusters: clustersArray,\n    clusterEdges: clusterEdges\n  };\n};\n\nexport default louvain;","import louvain from './louvain';\n/**\n *  i-louvain  + \n * @param graphData \n * @param directed  false\n * @param weightPropertyName \n * @param threshold \n * @param propertyKey \n * @param involvedKeys key\n * @param uninvolvedKeys key\n * @param inertialWeight \n */\n\nvar iLouvain = function iLouvain(graphData, directed, weightPropertyName, threshold, propertyKey, involvedKeys, uninvolvedKeys, inertialWeight) {\n  if (directed === void 0) {\n    directed = false;\n  }\n\n  if (weightPropertyName === void 0) {\n    weightPropertyName = 'weight';\n  }\n\n  if (threshold === void 0) {\n    threshold = 0.0001;\n  }\n\n  if (propertyKey === void 0) {\n    propertyKey = undefined;\n  }\n\n  if (involvedKeys === void 0) {\n    involvedKeys = [];\n  }\n\n  if (uninvolvedKeys === void 0) {\n    uninvolvedKeys = ['id'];\n  }\n\n  if (inertialWeight === void 0) {\n    inertialWeight = 1;\n  }\n\n  return louvain(graphData, directed, weightPropertyName, threshold, true, propertyKey, involvedKeys, uninvolvedKeys, inertialWeight);\n};\n\nexport default iLouvain;","import { clone } from '@antv/util';\nimport degree from './degree';\n/**\n *  k-core \n * @param graphData \n * @param k \n */\n\nvar kCore = function kCore(graphData, k) {\n  var _a;\n\n  if (k === void 0) {\n    k = 1;\n  }\n\n  var data = clone(graphData);\n  var _b = data.nodes,\n      nodes = _b === void 0 ? [] : _b;\n  var _c = data.edges,\n      edges = _c === void 0 ? [] : _c;\n\n  var _loop_1 = function _loop_1() {\n    // \n    var degrees = degree({\n      nodes: nodes,\n      edges: edges\n    });\n    var nodeIds = Object.keys(degrees); // \n\n    nodeIds.sort(function (a, b) {\n      var _a, _b;\n\n      return ((_a = degrees[a]) === null || _a === void 0 ? void 0 : _a.degree) - ((_b = degrees[b]) === null || _b === void 0 ? void 0 : _b.degree);\n    });\n    var minIndexId = nodeIds[0];\n\n    if (!nodes.length || ((_a = degrees[minIndexId]) === null || _a === void 0 ? void 0 : _a.degree) >= k) {\n      return \"break\";\n    }\n\n    var originIndex = nodes.findIndex(function (node) {\n      return node.id === minIndexId;\n    }); // k\n\n    nodes.splice(originIndex, 1); // k\n\n    edges = edges.filter(function (edge) {\n      return !(edge.source === minIndexId || edge.target === minIndexId);\n    });\n  };\n\n  while (true) {\n    var state_1 = _loop_1();\n\n    if (state_1 === \"break\") break;\n  }\n\n  return {\n    nodes: nodes,\n    edges: edges\n  };\n};\n\nexport default kCore;","import { isEqual, uniq } from '@antv/util';\nimport { getAllProperties } from './utils/node-properties';\nimport { oneHot, getDistance } from './utils/data-preprocessing';\nimport Vector from './utils/vector';\nimport { DistanceType } from './types'; // \n\nvar getCentroid = function getCentroid(distanceType, allPropertiesWeight, index) {\n  var centroid = [];\n\n  switch (distanceType) {\n    case DistanceType.EuclideanDistance:\n      centroid = allPropertiesWeight[index];\n      break;\n\n    default:\n      centroid = [];\n      break;\n  }\n\n  return centroid;\n};\n/**\n *  k-means K\n * @param data \n * @param k \n * @param propertyKey \n * @param involvedKeys key\n * @param uninvolvedKeys key\n * @param distanceType  \n */\n\n\nvar kMeans = function kMeans(data, k, propertyKey, involvedKeys, uninvolvedKeys, distanceType) {\n  if (k === void 0) {\n    k = 3;\n  }\n\n  if (propertyKey === void 0) {\n    propertyKey = undefined;\n  }\n\n  if (involvedKeys === void 0) {\n    involvedKeys = [];\n  }\n\n  if (uninvolvedKeys === void 0) {\n    uninvolvedKeys = ['id'];\n  }\n\n  if (distanceType === void 0) {\n    distanceType = DistanceType.EuclideanDistance;\n  }\n\n  var _a = data.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = data.edges,\n      edges = _b === void 0 ? [] : _b;\n  var defaultClusterInfo = {\n    clusters: [{\n      id: \"0\",\n      nodes: nodes\n    }],\n    clusterEdges: []\n  }; // return\n\n  if (distanceType === DistanceType.EuclideanDistance && !nodes.every(function (node) {\n    return node.hasOwnProperty(propertyKey);\n  })) {\n    return defaultClusterInfo;\n  } // \n\n\n  var properties = []; // one-hot\n\n  var allPropertiesWeight = [];\n\n  if (distanceType === DistanceType.EuclideanDistance) {\n    properties = getAllProperties(nodes, propertyKey);\n    allPropertiesWeight = oneHot(properties, involvedKeys, uninvolvedKeys);\n  }\n\n  if (!allPropertiesWeight.length) {\n    return defaultClusterInfo;\n  }\n\n  var allPropertiesWeightUniq = uniq(allPropertiesWeight.map(function (item) {\n    return item.join('');\n  })); // kk\n\n  var finalK = Math.min(k, nodes.length, allPropertiesWeightUniq.length); // indexallPropertiesWeight\n\n  for (var i = 0; i < nodes.length; i++) {\n    nodes[i].originIndex = i;\n  } // \n\n\n  var centroids = [];\n  var centroidIndexList = [];\n  var clusters = [];\n\n  for (var i = 0; i < finalK; i++) {\n    if (i === 0) {\n      // \n      var randomIndex = Math.floor(Math.random() * nodes.length);\n\n      switch (distanceType) {\n        case DistanceType.EuclideanDistance:\n          centroids[i] = allPropertiesWeight[randomIndex];\n          break;\n\n        default:\n          centroids[i] = [];\n          break;\n      }\n\n      centroidIndexList.push(randomIndex);\n      clusters[i] = [nodes[randomIndex]];\n      nodes[randomIndex].clusterId = String(i);\n    } else {\n      var maxDistance = -Infinity;\n      var maxDistanceNodeIndex = 0;\n\n      var _loop_1 = function _loop_1(m) {\n        if (!centroidIndexList.includes(m)) {\n          var totalDistance = 0;\n\n          for (var j = 0; j < centroids.length; j++) {\n            // \n            var distance = 0;\n\n            switch (distanceType) {\n              case DistanceType.EuclideanDistance:\n                distance = getDistance(allPropertiesWeight[nodes[m].originIndex], centroids[j], distanceType);\n                break;\n\n              default:\n                break;\n            }\n\n            totalDistance += distance;\n          } // \n\n\n          var avgDistance = totalDistance / centroids.length; // \n\n          if (avgDistance > maxDistance && !centroids.find(function (centroid) {\n            return isEqual(centroid, getCentroid(distanceType, allPropertiesWeight, nodes[m].originIndex));\n          })) {\n            maxDistance = avgDistance;\n            maxDistanceNodeIndex = m;\n          }\n        }\n      }; // \n\n\n      for (var m = 0; m < nodes.length; m++) {\n        _loop_1(m);\n      }\n\n      centroids[i] = getCentroid(distanceType, allPropertiesWeight, maxDistanceNodeIndex);\n      centroidIndexList.push(maxDistanceNodeIndex);\n      clusters[i] = [nodes[maxDistanceNodeIndex]];\n      nodes[maxDistanceNodeIndex].clusterId = String(i);\n    }\n  }\n\n  var iterations = 0;\n\n  while (true) {\n    for (var i = 0; i < nodes.length; i++) {\n      var minDistanceIndex = 0;\n      var minDistance = Infinity;\n\n      if (!(iterations === 0 && centroidIndexList.includes(i))) {\n        for (var j = 0; j < centroids.length; j++) {\n          // \n          var distance = 0;\n\n          switch (distanceType) {\n            case DistanceType.EuclideanDistance:\n              distance = getDistance(allPropertiesWeight[i], centroids[j], distanceType);\n              break;\n\n            default:\n              break;\n          } // \n\n\n          if (distance < minDistance) {\n            minDistance = distance;\n            minDistanceIndex = j;\n          }\n        } // \n\n\n        if (nodes[i].clusterId !== undefined) {\n          for (var n = clusters[Number(nodes[i].clusterId)].length - 1; n >= 0; n--) {\n            if (clusters[Number(nodes[i].clusterId)][n].id === nodes[i].id) {\n              clusters[Number(nodes[i].clusterId)].splice(n, 1);\n            }\n          }\n        } // \n\n\n        nodes[i].clusterId = String(minDistanceIndex);\n        clusters[minDistanceIndex].push(nodes[i]);\n      }\n    } // \n\n\n    var centroidsEqualAvg = false;\n\n    for (var i = 0; i < clusters.length; i++) {\n      var clusterNodes = clusters[i];\n      var totalVector = new Vector([]);\n\n      for (var j = 0; j < clusterNodes.length; j++) {\n        totalVector = totalVector.add(new Vector(allPropertiesWeight[clusterNodes[j].originIndex]));\n      } // \n\n\n      var avgVector = totalVector.avg(clusterNodes.length); // \n\n      if (!avgVector.equal(new Vector(centroids[i]))) {\n        centroidsEqualAvg = true; // /\n\n        centroids[i] = avgVector.getArr();\n      }\n    }\n\n    iterations++; // 1000\n\n    if (nodes.every(function (node) {\n      return node.clusterId !== undefined;\n    }) && centroidsEqualAvg || iterations >= 1000) {\n      break;\n    }\n  } // get the cluster edges\n\n\n  var clusterEdges = [];\n  var clusterEdgeMap = {};\n  edges.forEach(function (edge) {\n    var _a, _b;\n\n    var source = edge.source,\n        target = edge.target;\n    var sourceClusterId = (_a = nodes.find(function (node) {\n      return node.id === source;\n    })) === null || _a === void 0 ? void 0 : _a.clusterId;\n    var targetClusterId = (_b = nodes.find(function (node) {\n      return node.id === target;\n    })) === null || _b === void 0 ? void 0 : _b.clusterId;\n    var newEdgeId = \"\".concat(sourceClusterId, \"---\").concat(targetClusterId);\n\n    if (clusterEdgeMap[newEdgeId]) {\n      clusterEdgeMap[newEdgeId].count++;\n    } else {\n      var newEdge = {\n        source: sourceClusterId,\n        target: targetClusterId,\n        count: 1\n      };\n      clusterEdgeMap[newEdgeId] = newEdge;\n      clusterEdges.push(newEdge);\n    }\n  });\n  return {\n    clusters: clusters,\n    clusterEdges: clusterEdges\n  };\n};\n\nexport default kMeans;","import Vector from './utils/vector';\n/**\n * cosine-similarity \n * @param item \n * @param targetItem \n */\n\nvar cosineSimilarity = function cosineSimilarity(item, targetItem) {\n  // \n  var targetItemVector = new Vector(targetItem); // \n\n  var targetNodeNorm2 = targetItemVector.norm2(); // \n\n  var itemVector = new Vector(item); // \n\n  var itemNorm2 = itemVector.norm2(); // \n\n  var dot = targetItemVector.dot(itemVector);\n  var norm2Product = targetNodeNorm2 * itemNorm2; // \n\n  var cosineSimilarity = norm2Product ? dot / norm2Product : 0;\n  return cosineSimilarity;\n};\n\nexport default cosineSimilarity;","import { clone } from '@antv/util';\nimport { getAllProperties } from './utils/node-properties';\nimport { oneHot } from './utils/data-preprocessing';\nimport cosineSimilarity from './cosine-similarity';\n/**\n *  nodes-cosine-similarity ()\n * @param nodes \n * @param seedNode \n * @param propertyKey \n * @param involvedKeys key\n * @param uninvolvedKeys key\n */\n\nvar nodesCosineSimilarity = function nodesCosineSimilarity(nodes, seedNode, propertyKey, involvedKeys, uninvolvedKeys) {\n  if (nodes === void 0) {\n    nodes = [];\n  }\n\n  if (propertyKey === void 0) {\n    propertyKey = undefined;\n  }\n\n  if (involvedKeys === void 0) {\n    involvedKeys = [];\n  }\n\n  if (uninvolvedKeys === void 0) {\n    uninvolvedKeys = [];\n  }\n\n  var similarNodes = clone(nodes.filter(function (node) {\n    return node.id !== seedNode.id;\n  }));\n  var seedNodeIndex = nodes.findIndex(function (node) {\n    return node.id === seedNode.id;\n  }); // \n\n  var properties = getAllProperties(nodes, propertyKey); // one-hot\n\n  var allPropertiesWeight = oneHot(properties, involvedKeys, uninvolvedKeys); // \n\n  var seedNodeProperties = allPropertiesWeight[seedNodeIndex];\n  var allCosineSimilarity = [];\n  similarNodes.forEach(function (node, index) {\n    if (node.id !== seedNode.id) {\n      // \n      var nodeProperties = allPropertiesWeight[index]; // \n\n      var cosineSimilarityValue = cosineSimilarity(nodeProperties, seedNodeProperties);\n      allCosineSimilarity.push(cosineSimilarityValue);\n      node.cosineSimilarity = cosineSimilarityValue;\n    }\n  }); // \n\n  similarNodes.sort(function (a, b) {\n    return b.cosineSimilarity - a.cosineSimilarity;\n  });\n  return {\n    allCosineSimilarity: allCosineSimilarity,\n    similarNodes: similarNodes\n  };\n};\n\nexport default nodesCosineSimilarity;","/**\n *  Disjoint set to support quick union\n */\nvar UnionFind =\n/** @class */\nfunction () {\n  function UnionFind(items) {\n    this.count = items.length;\n    this.parent = {};\n\n    for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n      var i = items_1[_i];\n      this.parent[i] = i;\n    }\n  } // find the root of the item\n\n\n  UnionFind.prototype.find = function (item) {\n    while (this.parent[item] !== item) {\n      item = this.parent[item];\n    }\n\n    return item;\n  };\n\n  UnionFind.prototype.union = function (a, b) {\n    var rootA = this.find(a);\n    var rootB = this.find(b);\n    if (rootA === rootB) return; // make the element with smaller root the parent\n\n    if (rootA < rootB) {\n      if (this.parent[b] !== b) this.union(this.parent[b], a);\n      this.parent[b] = this.parent[a];\n    } else {\n      if (this.parent[a] !== a) this.union(this.parent[a], b);\n      this.parent[a] = this.parent[b];\n    }\n  }; // whether a and b are connected, i.e. a and b have the same root\n\n\n  UnionFind.prototype.connected = function (a, b) {\n    return this.find(a) === this.find(b);\n  };\n\n  return UnionFind;\n}();\n\nexport default UnionFind;","var defaultCompare = function defaultCompare(a, b) {\n  return a - b;\n};\n\nvar MinBinaryHeap =\n/** @class */\nfunction () {\n  function MinBinaryHeap(compareFn) {\n    if (compareFn === void 0) {\n      compareFn = defaultCompare;\n    }\n\n    this.compareFn = compareFn;\n    this.list = [];\n  }\n\n  MinBinaryHeap.prototype.getLeft = function (index) {\n    return 2 * index + 1;\n  };\n\n  MinBinaryHeap.prototype.getRight = function (index) {\n    return 2 * index + 2;\n  };\n\n  MinBinaryHeap.prototype.getParent = function (index) {\n    if (index === 0) {\n      return null;\n    }\n\n    return Math.floor((index - 1) / 2);\n  };\n\n  MinBinaryHeap.prototype.isEmpty = function () {\n    return this.list.length <= 0;\n  };\n\n  MinBinaryHeap.prototype.top = function () {\n    return this.isEmpty() ? undefined : this.list[0];\n  };\n\n  MinBinaryHeap.prototype.delMin = function () {\n    var top = this.top();\n    var bottom = this.list.pop();\n\n    if (this.list.length > 0) {\n      this.list[0] = bottom;\n      this.moveDown(0);\n    }\n\n    return top;\n  };\n\n  MinBinaryHeap.prototype.insert = function (value) {\n    if (value !== null) {\n      this.list.push(value);\n      var index = this.list.length - 1;\n      this.moveUp(index);\n      return true;\n    }\n\n    return false;\n  };\n\n  MinBinaryHeap.prototype.moveUp = function (index) {\n    var parent = this.getParent(index);\n\n    while (index && index > 0 && this.compareFn(this.list[parent], this.list[index]) > 0) {\n      // swap\n      var tmp = this.list[parent];\n      this.list[parent] = this.list[index];\n      this.list[index] = tmp; // [this.list[index], this.list[parent]] = [this.list[parent], this.list[index]]\n\n      index = parent;\n      parent = this.getParent(index);\n    }\n  };\n\n  MinBinaryHeap.prototype.moveDown = function (index) {\n    var _a;\n\n    var element = index;\n    var left = this.getLeft(index);\n    var right = this.getRight(index);\n    var size = this.list.length;\n\n    if (left !== null && left < size && this.compareFn(this.list[element], this.list[left]) > 0) {\n      element = left;\n    } else if (right !== null && right < size && this.compareFn(this.list[element], this.list[right]) > 0) {\n      element = right;\n    }\n\n    if (index !== element) {\n      _a = [this.list[element], this.list[index]], this.list[index] = _a[0], this.list[element] = _a[1];\n      this.moveDown(element);\n    }\n  };\n\n  return MinBinaryHeap;\n}();\n\nexport default MinBinaryHeap;","import UnionFind from './structs/union-find';\nimport MinBinaryHeap from './structs/binary-heap';\nimport { getEdgesByNodeId } from './util';\n/**\n * Prim algorithmuse priority queue O(E+V*logV), V: E: \n * refer: https://en.wikipedia.org/wiki/Prim%27s_algorithm\n * @param graph\n * @param weight \n */\n\nvar primMST = function primMST(graphData, weight) {\n  var selectedEdges = [];\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n\n  if (nodes.length === 0) {\n    return selectedEdges;\n  } // nodes[0]\n\n\n  var currNode = nodes[0];\n  var visited = new Set();\n  visited.add(currNode); // \n\n  var compareWeight = function compareWeight(a, b) {\n    if (weight) {\n      return a.weight - b.weight;\n    }\n\n    return 0;\n  };\n\n  var edgeQueue = new MinBinaryHeap(compareWeight);\n  getEdgesByNodeId(currNode.id, edges).forEach(function (edge) {\n    edgeQueue.insert(edge);\n  });\n\n  while (!edgeQueue.isEmpty()) {\n    // \n    var currEdge = edgeQueue.delMin();\n    var source = currEdge.source;\n    var target = currEdge.target;\n    if (visited.has(source) && visited.has(target)) continue;\n    selectedEdges.push(currEdge);\n\n    if (!visited.has(source)) {\n      visited.add(source);\n      getEdgesByNodeId(source, edges).forEach(function (edge) {\n        edgeQueue.insert(edge);\n      });\n    }\n\n    if (!visited.has(target)) {\n      visited.add(target);\n      getEdgesByNodeId(target, edges).forEach(function (edge) {\n        edgeQueue.insert(edge);\n      });\n    }\n  }\n\n  return selectedEdges;\n};\n/**\n * Kruskal algorithm O(E*logE), E: \n * refer: https://en.wikipedia.org/wiki/Kruskal%27s_algorithm\n * @param graph\n * @param weight \n * @return IEdge[] MST\n */\n\n\nvar kruskalMST = function kruskalMST(graphData, weight) {\n  var selectedEdges = [];\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n\n  if (nodes.length === 0) {\n    return selectedEdges;\n  } // weight\n\n\n  var weightEdges = edges.map(function (edge) {\n    return edge;\n  });\n\n  if (weight) {\n    weightEdges.sort(function (a, b) {\n      return a.weight - b.weight;\n    });\n  }\n\n  var disjointSet = new UnionFind(nodes.map(function (n) {\n    return n.id;\n  })); // G\n  // \n\n  while (weightEdges.length > 0) {\n    var curEdge = weightEdges.shift();\n    var source = curEdge.source;\n    var target = curEdge.target;\n\n    if (!disjointSet.connected(source, target)) {\n      selectedEdges.push(curEdge);\n      disjointSet.union(source, target);\n    }\n  }\n\n  return selectedEdges;\n};\n/**\n * \n * refer: https://en.wikipedia.org/wiki/Kruskal%27s_algorithm\n * @param graph\n * @param weight \n * @param algo 'prim' | 'kruskal' \n * @return EdgeConfig[] MST\n */\n\n\nvar minimumSpanningTree = function minimumSpanningTree(graphData, weight, algo) {\n  var algos = {\n    prim: primMST,\n    kruskal: kruskalMST\n  };\n  if (!algo) return kruskalMST(graphData, weight);\n  return algos[algo](graphData, weight);\n};\n\nexport default minimumSpanningTree;","import degree from './degree';\nimport { getNeighbors } from \"./util\";\n/**\n * PageRank https://en.wikipedia.org/wiki/PageRank\n * refer: https://github.com/anvaka/ngraph.pagerank\n * @param graph\n * @param epsilon  0.000001\n * @param linkProb dumping factor 0.85\n */\n\nvar pageRank = function pageRank(graphData, epsilon, linkProb) {\n  if (typeof epsilon !== 'number') epsilon = 0.000001;\n  if (typeof linkProb !== 'number') linkProb = 0.85;\n  var distance = 1;\n  var leakedRank = 0;\n  var maxIterations = 1000;\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n  var nodesCount = nodes.length;\n  var currentRank;\n  var curRanks = {};\n  var prevRanks = {}; // Initialize pageranks \n\n  for (var j = 0; j < nodesCount; ++j) {\n    var node = nodes[j];\n    var nodeId = node.id;\n    curRanks[nodeId] = 1 / nodesCount;\n    prevRanks[nodeId] = 1 / nodesCount;\n  }\n\n  var nodeDegree = degree(graphData);\n\n  while (maxIterations > 0 && distance > epsilon) {\n    leakedRank = 0;\n\n    for (var j = 0; j < nodesCount; ++j) {\n      var node = nodes[j];\n      var nodeId = node.id;\n      currentRank = 0;\n\n      if (nodeDegree[node.id].inDegree === 0) {\n        curRanks[nodeId] = 0;\n      } else {\n        var neighbors = getNeighbors(nodeId, edges, 'source');\n\n        for (var i = 0; i < neighbors.length; ++i) {\n          var neighbor = neighbors[i];\n          var outDegree = nodeDegree[neighbor].outDegree;\n          if (outDegree > 0) currentRank += prevRanks[neighbor] / outDegree;\n        }\n\n        curRanks[nodeId] = linkProb * currentRank;\n        leakedRank += curRanks[nodeId];\n      }\n    }\n\n    leakedRank = (1 - leakedRank) / nodesCount;\n    distance = 0;\n\n    for (var j = 0; j < nodesCount; ++j) {\n      var node = nodes[j];\n      var nodeId = node.id;\n      currentRank = curRanks[nodeId] + leakedRank;\n      distance += Math.abs(currentRank - prevRanks[nodeId]);\n      prevRanks[nodeId] = currentRank;\n    }\n\n    maxIterations -= 1;\n  }\n\n  return prevRanks;\n};\n\nexport default pageRank;","export var VACANT_EDGE_ID = -1;\nexport var VACANT_NODE_ID = -1;\nexport var VACANT_EDGE_LABEL = \"-1\";\nexport var VACANT_NODE_LABEL = \"-1\";\nexport var VACANT_GRAPH_ID = -1;\nexport var AUTO_EDGE_ID = \"-1\";\n\nvar Edge =\n/** @class */\nfunction () {\n  function Edge(id, from, to, label) {\n    if (id === void 0) {\n      id = VACANT_EDGE_ID;\n    }\n\n    if (from === void 0) {\n      from = VACANT_NODE_ID;\n    }\n\n    if (to === void 0) {\n      to = VACANT_NODE_ID;\n    }\n\n    if (label === void 0) {\n      label = VACANT_EDGE_LABEL;\n    }\n\n    this.id = id;\n    this.from = from;\n    this.to = to;\n    this.label = label;\n  }\n\n  return Edge;\n}();\n\nexport { Edge };\n\nvar Node =\n/** @class */\nfunction () {\n  function Node(id, label) {\n    if (id === void 0) {\n      id = VACANT_NODE_ID;\n    }\n\n    if (label === void 0) {\n      label = VACANT_NODE_LABEL;\n    }\n\n    this.id = id;\n    this.label = label;\n    this.edges = [];\n    this.edgeMap = {};\n  }\n\n  Node.prototype.addEdge = function (edge) {\n    this.edges.push(edge);\n    this.edgeMap[edge.id] = edge;\n  };\n\n  return Node;\n}();\n\nexport { Node };\n\nvar Graph =\n/** @class */\nfunction () {\n  function Graph(id, edgeIdAutoIncrease, directed) {\n    if (id === void 0) {\n      id = VACANT_NODE_ID;\n    }\n\n    if (edgeIdAutoIncrease === void 0) {\n      edgeIdAutoIncrease = true;\n    }\n\n    if (directed === void 0) {\n      directed = false;\n    }\n\n    this.id = id;\n    this.edgeIdAutoIncrease = edgeIdAutoIncrease;\n    this.edges = [];\n    this.nodes = [];\n    this.nodeMap = {};\n    this.edgeMap = {};\n    this.nodeLabelMap = {};\n    this.edgeLabelMap = {};\n    this.counter = 0;\n    this.directed = directed;\n  }\n\n  Graph.prototype.getNodeNum = function () {\n    return this.nodes.length;\n  };\n\n  Graph.prototype.addNode = function (id, label) {\n    if (this.nodeMap[id]) return;\n    var node = new Node(id, label);\n    this.nodes.push(node);\n    this.nodeMap[id] = node;\n    if (!this.nodeLabelMap[label]) this.nodeLabelMap[label] = [];\n    this.nodeLabelMap[label].push(id);\n  };\n\n  Graph.prototype.addEdge = function (id, from, to, label) {\n    if (this.edgeIdAutoIncrease || id === undefined) id = this.counter++;\n    if (this.nodeMap[from] && this.nodeMap[to] && this.nodeMap[to].edgeMap[id]) return;\n    var edge = new Edge(id, from, to, label);\n    this.edges.push(edge);\n    this.edgeMap[id] = edge;\n    this.nodeMap[from].addEdge(edge);\n    if (!this.edgeLabelMap[label]) this.edgeLabelMap[label] = [];\n    this.edgeLabelMap[label].push(edge);\n\n    if (!this.directed) {\n      var rEdge = new Edge(id, to, from, label);\n      this.nodeMap[to].addEdge(rEdge);\n      this.edgeLabelMap[label].push(rEdge);\n    }\n  };\n\n  return Graph;\n}();\n\nexport { Graph };","import { clone } from \"@antv/util\";\nimport { Graph, VACANT_NODE_LABEL, VACANT_GRAPH_ID, VACANT_EDGE_LABEL } from \"./struct\";\n\nvar DFSedge =\n/** @class */\nfunction () {\n  function DFSedge(fromNode, toNode, fromNodeLabel, edgeLabel, toNodeLabel) {\n    this.fromNode = fromNode;\n    this.toNode = toNode;\n    this.nodeEdgeNodeLabel = {\n      nodeLabel1: fromNodeLabel || VACANT_NODE_LABEL,\n      edgeLabel: edgeLabel || VACANT_EDGE_LABEL,\n      nodeLabel2: toNodeLabel || VACANT_NODE_LABEL\n    };\n  }\n\n  DFSedge.prototype.equalTo = function (other) {\n    return this.fromNode === other.formNode && this.toNode === other.toNode && this.nodeEdgeNodeLabel === other.nodeEdgeNodeLabel;\n  };\n\n  DFSedge.prototype.notEqualTo = function (other) {\n    return !this.equalTo(other);\n  };\n\n  return DFSedge;\n}(); // DFScode  DESedge \n\n\nvar DFScode =\n/** @class */\nfunction () {\n  function DFScode() {\n    this.rmpath = [];\n    this.dfsEdgeList = [];\n  }\n\n  DFScode.prototype.equalTo = function (other) {\n    var aLength = this.dfsEdgeList.length;\n    var bLength = other.length;\n    if (aLength !== bLength) return false;\n\n    for (var i = 0; i < aLength; i++) {\n      if (this.dfsEdgeList[i] !== other[i]) return false;\n    }\n\n    return true;\n  };\n\n  DFScode.prototype.notEqualTo = function (other) {\n    return !this.equalTo(other);\n  };\n  /**  edge  DFScode */\n\n\n  DFScode.prototype.pushBack = function (fromNode, toNode, fromNodeLabel, edgeLabel, toNodeLabel) {\n    this.dfsEdgeList.push(new DFSedge(fromNode, toNode, fromNodeLabel, edgeLabel, toNodeLabel));\n    return this.dfsEdgeList;\n  };\n  /**  dfs  */\n\n\n  DFScode.prototype.toGraph = function (graphId, directed) {\n    if (graphId === void 0) {\n      graphId = VACANT_GRAPH_ID;\n    }\n\n    if (directed === void 0) {\n      directed = false;\n    }\n\n    var graph = new Graph(graphId, true, directed);\n    this.dfsEdgeList.forEach(function (dfsEdge) {\n      var fromNodeId = dfsEdge.fromNode;\n      var toNodeId = dfsEdge.toNode;\n      var _a = dfsEdge.nodeEdgeNodeLabel,\n          nodeLabel1 = _a.nodeLabel1,\n          edgeLabel = _a.edgeLabel,\n          nodeLabel2 = _a.nodeLabel2;\n      if (nodeLabel1 !== VACANT_NODE_LABEL) graph.addNode(fromNodeId, nodeLabel1);\n      if (nodeLabel2 !== VACANT_NODE_LABEL) graph.addNode(toNodeId, nodeLabel2);\n      if (nodeLabel1 !== VACANT_NODE_LABEL && nodeLabel2 !== nodeLabel1) graph.addEdge(undefined, fromNodeId, toNodeId, edgeLabel);\n    });\n    return graph;\n  }; //  rightmost path\n\n\n  DFScode.prototype.buildRmpath = function () {\n    this.rmpath = [];\n    var oldFrom = undefined;\n    var selfLength = this.dfsEdgeList.length;\n\n    for (var i = selfLength - 1; i >= 0; i--) {\n      var dfsEdge = this.dfsEdgeList[i];\n      var fromNodeIdx = dfsEdge.fromNode;\n      var toNodeIdx = dfsEdge.toNode;\n\n      if (fromNodeIdx < toNodeIdx && (oldFrom === undefined || toNodeIdx === oldFrom)) {\n        this.rmpath.push(i);\n        oldFrom = fromNodeIdx;\n      }\n    }\n\n    return this.rmpath;\n  };\n\n  DFScode.prototype.getNodeNum = function () {\n    var nodeMap = {};\n    this.dfsEdgeList.forEach(function (dfsEdge) {\n      if (!nodeMap[dfsEdge.fromNode]) nodeMap[dfsEdge.fromNode] = true;\n      if (!nodeMap[dfsEdge.toNode]) nodeMap[dfsEdge.toNode] = true;\n    });\n    return Object.keys(nodeMap).length;\n  };\n\n  return DFScode;\n}();\n\nvar History =\n/** @class */\nfunction () {\n  function History(pdfs) {\n    this.his = {};\n    this.nodesUsed = {};\n    this.edgesUsed = {};\n    this.edges = [];\n    if (!pdfs) return;\n\n    while (pdfs) {\n      var e = pdfs.edge;\n      this.edges.push(e);\n      this.nodesUsed[e.from] = 1;\n      this.nodesUsed[e.to] = 1;\n      this.edgesUsed[e.id] = 1;\n      pdfs = pdfs.preNode;\n    } // \n\n\n    this.edges = this.edges.reverse();\n  }\n\n  History.prototype.hasNode = function (node) {\n    return this.nodesUsed[node.id] === 1;\n  };\n\n  History.prototype.hasEdge = function (edge) {\n    return this.edgesUsed[edge.id] === 1;\n  };\n\n  return History;\n}();\n\nvar GSpan =\n/** @class */\nfunction () {\n  function GSpan(_a) {\n    var graphs = _a.graphs,\n        _b = _a.minSupport,\n        minSupport = _b === void 0 ? 2 : _b,\n        _c = _a.minNodeNum,\n        minNodeNum = _c === void 0 ? 1 : _c,\n        _d = _a.maxNodeNum,\n        maxNodeNum = _d === void 0 ? 4 : _d,\n        _e = _a.top,\n        top = _e === void 0 ? 10 : _e,\n        _f = _a.directed,\n        directed = _f === void 0 ? false : _f,\n        _g = _a.verbose,\n        verbose = _g === void 0 ? false : _g; // -------- -------\n\n    this.graphs = graphs;\n    this.dfsCode = new DFScode();\n    this.support = 0;\n    this.frequentSize1Subgraphs = [];\n    this.frequentSubgraphs = [];\n    this.minSupport = minSupport;\n    this.top = top;\n    this.directed = directed;\n    this.counter = 0; // TODO? timestamp = {}\n\n    this.maxNodeNum = maxNodeNum;\n    this.minNodeNum = minNodeNum;\n    this.verbose = verbose;\n    if (this.maxNodeNum < this.minNodeNum) this.maxNodeNum = this.minNodeNum;\n    this.reportDF = []; // matrix\n  } // Line 352\n\n\n  GSpan.prototype.findForwardRootEdges = function (graph, fromNode) {\n    var _this = this;\n\n    var result = [];\n    var nodeMap = graph.nodeMap;\n    fromNode.edges.forEach(function (edge) {\n      if (_this.directed || fromNode.label <= nodeMap[edge.to].label) result.push(edge);\n    });\n    return result;\n  };\n\n  GSpan.prototype.findBackwardEdge = function (graph, edge1, edge2, history) {\n    if (!this.directed && edge1 === edge2) return null;\n    var nodeMap = graph.nodeMap;\n    var edge2To = nodeMap[edge2.to];\n    var edge2ToEdges = edge2To.edges;\n    var edgeLength = edge2ToEdges.length;\n\n    for (var i = 0; i < edgeLength; i++) {\n      var edge = edge2ToEdges[i];\n      if (history.hasEdge(edge) || edge.to !== edge1.from) continue;\n\n      if (!this.directed) {\n        if (edge1.label < edge.label || edge1.label === edge.label && nodeMap[edge1.to].label <= nodeMap[edge2.to].label) {\n          return edge;\n        }\n      } else {\n        if (nodeMap[edge1.from].label < nodeMap[edge2.to].label || nodeMap[edge1.from].label === nodeMap[edge2.to].label && edge1.label <= edge.label) {\n          return edge;\n        }\n      }\n    }\n\n    return null;\n  };\n\n  GSpan.prototype.findForwardPureEdges = function (graph, rightmostEdge, minNodeLabel, history) {\n    var result = [];\n    var rightmostEdgeToId = rightmostEdge.to;\n    var edges = graph.nodeMap[rightmostEdgeToId].edges;\n    var edgeLength = edges.length;\n\n    for (var i = 0; i < edgeLength; i++) {\n      var edge = edges[i];\n      var toNode = graph.nodeMap[edge.to];\n\n      if (minNodeLabel <= toNode.label && !history.hasNode(toNode)) {\n        result.push(edge);\n      }\n    }\n\n    return result;\n  };\n\n  GSpan.prototype.findForwardRmpathEdges = function (graph, rightmostEdge, minNodeLabel, history) {\n    var result = [];\n    var nodeMap = graph.nodeMap;\n    var toNodeLabel = nodeMap[rightmostEdge.to].label;\n    var fromNode = nodeMap[rightmostEdge.from];\n    var edges = fromNode.edges;\n    var edgeLength = edges.length;\n\n    for (var i = 0; i < edgeLength; i++) {\n      var edge = edges[i];\n      var newToNodeLabel = nodeMap[edge.to].label;\n\n      if (rightmostEdge.to === edge.to || minNodeLabel > newToNodeLabel || history.hasNode(nodeMap[edge.to])) {\n        continue;\n      }\n\n      if (rightmostEdge.label < edge.label || rightmostEdge.label === edge.label && toNodeLabel <= newToNodeLabel) {\n        result.push(edge);\n      }\n    }\n\n    return result;\n  };\n\n  GSpan.prototype.getSupport = function (projected) {\n    var graphMap = {};\n    projected.forEach(function (pro) {\n      if (!graphMap[pro.graphId]) graphMap[pro.graphId] = true;\n    });\n    return Object.keys(graphMap).length;\n  };\n\n  GSpan.prototype.findMinLabel = function (obj) {\n    var minLabel = undefined;\n    Object.keys(obj).forEach(function (nodeEdgeNodeLabel) {\n      var _a = obj[nodeEdgeNodeLabel],\n          nodeLabel1 = _a.nodeLabel1,\n          edgeLabel = _a.edgeLabel,\n          nodeLabel2 = _a.nodeLabel2;\n\n      if (!minLabel) {\n        minLabel = {\n          nodeLabel1: nodeLabel1,\n          edgeLabel: edgeLabel,\n          nodeLabel2: nodeLabel2\n        };\n        return;\n      }\n\n      if (nodeLabel1 < minLabel.nodeLabel1 || nodeLabel1 === minLabel.nodeLabel1 && edgeLabel < minLabel.edgeLabel || nodeLabel1 === minLabel.nodeLabel1 && edgeLabel === minLabel.edgeLabel && nodeLabel2 < minLabel.nodeLabel2) {\n        minLabel = {\n          nodeLabel1: nodeLabel1,\n          edgeLabel: edgeLabel,\n          nodeLabel2: nodeLabel2\n        };\n      }\n    });\n    return minLabel;\n  };\n\n  GSpan.prototype.isMin = function () {\n    var _this = this;\n\n    var dfsCode = this.dfsCode;\n    if (this.verbose) console.log(\"isMin checking\", dfsCode);\n    if (dfsCode.dfsEdgeList.length === 1) return true;\n    var directed = this.directed;\n    var graph = dfsCode.toGraph(VACANT_GRAPH_ID, directed);\n    var nodeMap = graph.nodeMap;\n    var dfsCodeMin = new DFScode();\n    var root = {};\n    graph.nodes.forEach(function (node) {\n      var forwardEdges = _this.findForwardRootEdges(graph, node);\n\n      forwardEdges.forEach(function (edge) {\n        var otherNode = nodeMap[edge.to];\n        var nodeEdgeNodeLabel = \"\".concat(node.label, \"-\").concat(edge.label, \"-\").concat(otherNode.label);\n        if (!root[nodeEdgeNodeLabel]) root[nodeEdgeNodeLabel] = {\n          projected: [],\n          nodeLabel1: node.label,\n          edgeLabel: edge.label,\n          nodeLabel2: otherNode.label\n        };\n        var pdfs = {\n          graphId: graph.id,\n          edge: edge,\n          preNode: null\n        };\n        root[nodeEdgeNodeLabel].projected.push(pdfs);\n      });\n    }); //  root  nodeEdgeNodeLabel  nodeLabel1edgeLabenodeLabel2 \n\n    var minLabel = this.findMinLabel(root); // line 419\n\n    if (!minLabel) return;\n    dfsCodeMin.dfsEdgeList.push(new DFSedge(0, 1, minLabel.nodeLabel1, minLabel.edgeLabel, minLabel.nodeLabel2)); // line 423\n\n    var projectIsMin = function projectIsMin(projected) {\n      // right most path\n      var rmpath = dfsCodeMin.buildRmpath();\n      var minNodeLabel = dfsCodeMin.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1;\n      var maxToC = dfsCodeMin.dfsEdgeList[rmpath[0]].toNode; // node id\n\n      var backwardRoot = {};\n      var flag = false,\n          newTo = 0;\n      var end = directed ? -1 : 0; //  1  0\n\n      var _loop_1 = function _loop_1(i) {\n        if (flag) return \"break\"; // line 435\n\n        projected.forEach(function (p) {\n          var history = new History(p);\n\n          var backwardEdge = _this.findBackwardEdge(graph, history.edges[rmpath[i]], history.edges[rmpath[0]], history);\n\n          if (backwardEdge) {\n            // Line 441\n            if (!backwardRoot[backwardEdge.label]) {\n              backwardRoot[backwardEdge.label] = {\n                projected: [],\n                edgeLabel: backwardEdge.label\n              };\n            }\n\n            backwardRoot[backwardEdge.label].projected.push({\n              graphId: graph.id,\n              edge: backwardRoot,\n              preNode: p\n            });\n            newTo = dfsCodeMin.dfsEdgeList[rmpath[i]].fromNode;\n            flag = true;\n          }\n        });\n      };\n\n      for (var i = rmpath.length - 1; i > end; i--) {\n        var state_1 = _loop_1(i);\n\n        if (state_1 === \"break\") break;\n      }\n\n      if (flag) {\n        var minBackwardEdgeLabel = _this.findMinLabel(backwardRoot);\n\n        dfsCodeMin.dfsEdgeList.push(new DFSedge(maxToC, newTo, VACANT_NODE_LABEL, minBackwardEdgeLabel.edgeLabel, VACANT_NODE_LABEL));\n        var idx_1 = dfsCodeMin.dfsEdgeList.length - 1;\n        if (_this.dfsCode.dfsEdgeList[idx_1] !== dfsCodeMin.dfsEdgeList[idx_1]) return false;\n        return projectIsMin(backwardRoot[minBackwardEdgeLabel.edgeLabel].projected);\n      }\n\n      var forwardRoot = {};\n      flag = false;\n      var newFrom = 0;\n      projected.forEach(function (p) {\n        var history = new History(p);\n\n        var forwardPureEdges = _this.findForwardPureEdges(graph, history.edges[rmpath[0]], minNodeLabel, history);\n\n        if (forwardPureEdges.length > 0) {\n          flag = true;\n          newFrom = maxToC;\n          forwardPureEdges.forEach(function (edge) {\n            var key = \"\".concat(edge.label, \"-\").concat(nodeMap[edge.to].label);\n            if (!forwardRoot[key]) forwardRoot[key] = {\n              projected: [],\n              edgeLabel: edge.label,\n              nodeLabel2: nodeMap[edge.to].label\n            };\n            forwardRoot[key].projected.push({\n              graphId: graph.id,\n              edge: edge,\n              preNode: p\n            });\n          });\n        }\n      });\n      var pathLength = rmpath.length;\n\n      var _loop_2 = function _loop_2(i) {\n        if (flag) return \"break\";\n        var value = rmpath[i];\n        projected.forEach(function (p) {\n          var history = new History(p);\n\n          var forwardRmpathEdges = _this.findForwardRmpathEdges(graph, history.edges[value], minNodeLabel, history);\n\n          if (forwardRmpathEdges.length > 0) {\n            flag = true;\n            newFrom = dfsCodeMin.dfsEdgeList[value].fromNode;\n            forwardRmpathEdges.forEach(function (edge) {\n              var key = \"\".concat(edge.label, \"-\").concat(nodeMap[edge.to].label);\n              if (!forwardRoot[key]) forwardRoot[key] = {\n                projected: [],\n                edgeLabel: edge.label,\n                nodeLabel2: nodeMap[edge.to].label\n              };\n              forwardRoot[key].projected.push({\n                graphId: graph.id,\n                edge: edge,\n                preNode: p\n              });\n            });\n          }\n        });\n      };\n\n      for (var i = 0; i < pathLength; i++) {\n        var state_2 = _loop_2(i);\n\n        if (state_2 === \"break\") break;\n      }\n\n      if (!flag) return true;\n\n      var forwardMinEdgeNodeLabel = _this.findMinLabel(forwardRoot);\n\n      dfsCodeMin.dfsEdgeList.push(new DFSedge(newFrom, maxToC + 1, VACANT_NODE_LABEL, forwardMinEdgeNodeLabel.edgeLabel, forwardMinEdgeNodeLabel.nodeLabel2));\n      var idx = dfsCodeMin.dfsEdgeList.length - 1;\n      if (dfsCode.dfsEdgeList[idx] !== dfsCodeMin.dfsEdgeList[idx]) return false;\n      return projectIsMin(forwardRoot[\"\".concat(forwardMinEdgeNodeLabel.edgeLabel, \"-\").concat(forwardMinEdgeNodeLabel.nodeLabel2)].projected);\n    };\n\n    var key = \"\".concat(minLabel.nodeLabel1, \"-\").concat(minLabel.edgeLabel, \"-\").concat(minLabel.nodeLabel2);\n    return projectIsMin(root[key].projected);\n  };\n\n  GSpan.prototype.report = function () {\n    if (this.dfsCode.getNodeNum() < this.minNodeNum) return;\n    this.counter++;\n    var graph = this.dfsCode.toGraph(this.counter, this.directed);\n    this.frequentSubgraphs.push(clone(graph));\n  };\n\n  GSpan.prototype.subGraphMining = function (projected) {\n    var _this = this;\n\n    var support = this.getSupport(projected);\n    if (support < this.minSupport) return;\n    if (!this.isMin()) return;\n    this.report();\n    var nodeNum = this.dfsCode.getNodeNum();\n    var rmpath = this.dfsCode.buildRmpath();\n    var maxToC = this.dfsCode.dfsEdgeList[rmpath[0]].toNode;\n    var minNodeLabel = this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1;\n    var forwardRoot = {};\n    var backwardRoot = {};\n    projected.forEach(function (p) {\n      var graph = _this.graphs[p.graphId];\n      var nodeMap = graph.nodeMap;\n      var history = new History(p); // backward Line 526\n\n      for (var i = rmpath.length - 1; i >= 0; i--) {\n        var backwardEdge = _this.findBackwardEdge(graph, history.edges[rmpath[i]], history.edges[rmpath[0]], history);\n\n        if (backwardEdge) {\n          var key = \"\".concat(_this.dfsCode.dfsEdgeList[rmpath[i]].fromNode, \"-\").concat(backwardEdge.label);\n          if (!backwardRoot[key]) backwardRoot[key] = {\n            projected: [],\n            toNodeId: _this.dfsCode.dfsEdgeList[rmpath[i]].fromNode,\n            edgeLabel: backwardEdge.label\n          };\n          backwardRoot[key].projected.push({\n            graphId: p.graphId,\n            edge: backwardEdge,\n            preNode: p\n          });\n        }\n      } // pure forward\n\n\n      if (nodeNum >= _this.maxNodeNum) return;\n\n      var forwardPureEdges = _this.findForwardPureEdges(graph, history.edges[rmpath[0]], minNodeLabel, history);\n\n      forwardPureEdges.forEach(function (edge) {\n        var key = \"\".concat(maxToC, \"-\").concat(edge.label, \"-\").concat(nodeMap[edge.to].label);\n        if (!forwardRoot[key]) forwardRoot[key] = {\n          projected: [],\n          fromNodeId: maxToC,\n          edgeLabel: edge.label,\n          nodeLabel2: nodeMap[edge.to].label\n        };\n        forwardRoot[key].projected.push({\n          graphId: p.graphId,\n          edge: edge,\n          preNode: p\n        });\n      });\n\n      var _loop_3 = function _loop_3(i) {\n        var forwardRmpathEdges = _this.findForwardRmpathEdges(graph, history.edges[rmpath[i]], minNodeLabel, history);\n\n        forwardRmpathEdges.forEach(function (edge) {\n          var key = \"\".concat(_this.dfsCode.dfsEdgeList[rmpath[i]].fromNode, \"-\").concat(edge.label, \"-\").concat(nodeMap[edge.to].label);\n          if (!forwardRoot[key]) forwardRoot[key] = {\n            projected: [],\n            fromNodeId: _this.dfsCode.dfsEdgeList[rmpath[i]].fromNode,\n            edgeLabel: edge.label,\n            nodeLabel2: nodeMap[edge.to].label\n          };\n          forwardRoot[key].projected.push({\n            graphId: p.graphId,\n            edge: edge,\n            preNode: p\n          });\n        });\n      }; // rmpath forward\n\n\n      for (var i = 0; i < rmpath.length; i++) {\n        _loop_3(i);\n      }\n    }); // backward\n\n    Object.keys(backwardRoot).forEach(function (key) {\n      var _a = backwardRoot[key],\n          toNodeId = _a.toNodeId,\n          edgeLabel = _a.edgeLabel;\n\n      _this.dfsCode.dfsEdgeList.push(new DFSedge(maxToC, toNodeId, \"-1\", edgeLabel, \"-1\"));\n\n      _this.subGraphMining(backwardRoot[key].projected);\n\n      _this.dfsCode.dfsEdgeList.pop();\n    }); // forward\n\n    Object.keys(forwardRoot).forEach(function (key) {\n      var _a = forwardRoot[key],\n          fromNodeId = _a.fromNodeId,\n          edgeLabel = _a.edgeLabel,\n          nodeLabel2 = _a.nodeLabel2;\n\n      _this.dfsCode.dfsEdgeList.push(new DFSedge(fromNodeId, maxToC + 1, VACANT_NODE_LABEL, edgeLabel, nodeLabel2));\n\n      _this.subGraphMining(forwardRoot[key].projected);\n\n      _this.dfsCode.dfsEdgeList.pop();\n    });\n  };\n\n  GSpan.prototype.generate1EdgeFrequentSubGraphs = function () {\n    var graphs = this.graphs;\n    var directed = this.directed;\n    var minSupport = this.minSupport;\n    var frequentSize1Subgraphs = this.frequentSize1Subgraphs;\n    var nodeLabelCounter = {},\n        nodeEdgeNodeCounter = {}; //  mapkey  graphKey-node\n\n    var nodeLableCounted = {}; //  mapkey  graphKey-fromNode-edge-toNode\n\n    var nodeEdgeNodeLabelCounted = {};\n    Object.keys(graphs).forEach(function (key) {\n      // Line 271\n      var graph = graphs[key];\n      var nodeMap = graph.nodeMap; //    label  nodeLableCounted\n\n      graph.nodes.forEach(function (node, i) {\n        // Line 272\n        var nodeLabel = node.label;\n        var graphNodeKey = \"\".concat(key, \"-\").concat(nodeLabel);\n\n        if (!nodeLableCounted[graphNodeKey]) {\n          var counter = nodeLabelCounter[nodeLabel] || 0;\n          counter++;\n          nodeLabelCounter[nodeLabel] = counter;\n        }\n\n        nodeLableCounted[graphNodeKey] = {\n          graphKey: key,\n          label: nodeLabel\n        }; //  nodeEdgeNodeLabelCounted. Line 276\n\n        node.edges.forEach(function (edge) {\n          var nodeLabel1 = nodeLabel;\n          var nodeLabel2 = nodeMap[edge.to].label;\n\n          if (!directed && nodeLabel1 > nodeLabel2) {\n            var tmp = nodeLabel2;\n            nodeLabel2 = nodeLabel1;\n            nodeLabel1 = tmp;\n          }\n\n          var edgeLabel = edge.label;\n          var graphNodeEdgeNodeKey = \"\".concat(key, \"-\").concat(nodeLabel1, \"-\").concat(edgeLabel, \"-\").concat(nodeLabel2);\n          var nodeEdgeNodeKey = \"\".concat(nodeLabel1, \"-\").concat(edgeLabel, \"-\").concat(nodeLabel2);\n\n          if (!nodeEdgeNodeCounter[nodeEdgeNodeKey]) {\n            var counter = nodeEdgeNodeCounter[nodeEdgeNodeKey] || 0;\n            counter++;\n            nodeEdgeNodeCounter[nodeEdgeNodeKey] = counter; // Line281\n          }\n\n          nodeEdgeNodeLabelCounted[graphNodeEdgeNodeKey] = {\n            graphId: key,\n            nodeLabel1: nodeLabel1,\n            edgeLabel: edgeLabel,\n            nodeLabel2: nodeLabel2\n          };\n        });\n      });\n    }); // \n\n    Object.keys(nodeLabelCounter).forEach(function (label) {\n      var count = nodeLabelCounter[label];\n      if (count < minSupport) return;\n      var g = {\n        nodes: [],\n        edges: []\n      };\n      g.nodes.push({\n        id: \"0\",\n        label: label\n      });\n      frequentSize1Subgraphs.push(g); // if (minNodeNum <= 1) reportSize1 TODO\n    });\n    return frequentSize1Subgraphs;\n  };\n\n  GSpan.prototype.run = function () {\n    var _this = this; // -------- , _generate_1edge_frequent_subgraphs-------\n\n\n    this.frequentSize1Subgraphs = this.generate1EdgeFrequentSubGraphs();\n    if (this.maxNodeNum < 2) return;\n    var graphs = this.graphs;\n    var directed = this.directed; // PDFS  map Line 304\n\n    var root = {};\n    Object.keys(graphs).forEach(function (graphId) {\n      var graph = graphs[graphId];\n      var nodeMap = graph.nodeMap; // Line 306\n\n      graph.nodes.forEach(function (node) {\n        var forwardRootEdges = _this.findForwardRootEdges(graph, node); // Line 308\n\n\n        forwardRootEdges.forEach(function (edge) {\n          var toNode = nodeMap[edge.to];\n          var nodeEdgeNodeLabel = \"\".concat(node.label, \"-\").concat(edge.label, \"-\").concat(toNode.label);\n          if (!root[nodeEdgeNodeLabel]) root[nodeEdgeNodeLabel] = {\n            projected: [],\n            nodeLabel1: node.label,\n            edgeLabel: edge.label,\n            nodeLabel2: toNode.label\n          };\n          var pdfs = {\n            graphId: graphId,\n            edge: edge,\n            preNode: null\n          };\n          root[nodeEdgeNodeLabel].projected.push(pdfs);\n        });\n      });\n    }); // Line 313\n\n    Object.keys(root).forEach(function (nodeEdgeNodeLabel) {\n      var _a = root[nodeEdgeNodeLabel],\n          projected = _a.projected,\n          nodeLabel1 = _a.nodeLabel1,\n          edgeLabel = _a.edgeLabel,\n          nodeLabel2 = _a.nodeLabel2;\n\n      _this.dfsCode.dfsEdgeList.push(new DFSedge(0, 1, nodeLabel1, edgeLabel, nodeLabel2));\n\n      _this.subGraphMining(projected);\n\n      _this.dfsCode.dfsEdgeList.pop();\n    });\n  };\n\n  return GSpan;\n}();\n\nvar formatGraphs = function formatGraphs(graphs, directed, nodeLabelProp, edgeLabelProp) {\n  var result = {};\n  Object.keys(graphs).forEach(function (key, i) {\n    var graph = graphs[key];\n    var fGraph = new Graph(i, true, directed);\n    var nodeIdxMap = {};\n    graph.nodes.forEach(function (node, j) {\n      fGraph.addNode(j, node[nodeLabelProp]);\n      nodeIdxMap[node.id] = j;\n    });\n    graph.edges.forEach(function (edge, k) {\n      var sourceIdx = nodeIdxMap[edge.source];\n      var targetIdx = nodeIdxMap[edge.target];\n      fGraph.addEdge(-1, sourceIdx, targetIdx, edge[edgeLabelProp]);\n    });\n    if (fGraph && fGraph.getNodeNum()) result[fGraph.id] = fGraph;\n  });\n  return result;\n};\n\nvar toGraphDatas = function toGraphDatas(graphs, nodeLabelProp, edgeLabelProp) {\n  var result = [];\n  graphs.forEach(function (graph) {\n    var graphData = {\n      nodes: [],\n      edges: []\n    };\n    graph.nodes.forEach(function (node) {\n      var _a;\n\n      graphData.nodes.push((_a = {\n        id: \"\".concat(node.id)\n      }, _a[nodeLabelProp] = node.label, _a));\n    });\n    graph.edges.forEach(function (edge) {\n      var _a;\n\n      graphData.edges.push((_a = {\n        source: \"\".concat(edge.from),\n        target: \"\".concat(edge.to)\n      }, _a[edgeLabelProp] = edge.label, _a));\n    });\n    result.push(graphData);\n  });\n  return result;\n};\n\nvar DEFAULT_LABEL_NAME = \"cluster\";\n/**\n * gSpan frequent graph mining\n * @param params \n */\n\nvar gSpan = function gSpan(params) {\n  // -------  GraphData  map  -------\n  var graphs = params.graphs,\n      _a = params.directed,\n      directed = _a === void 0 ? false : _a,\n      _b = params.nodeLabelProp,\n      nodeLabelProp = _b === void 0 ? DEFAULT_LABEL_NAME : _b,\n      _c = params.edgeLabelProp,\n      edgeLabelProp = _c === void 0 ? DEFAULT_LABEL_NAME : _c;\n  var formattedGraphs = formatGraphs(graphs, directed, nodeLabelProp, edgeLabelProp);\n  var minSupport = params.minSupport,\n      maxNodeNum = params.maxNodeNum,\n      minNodeNum = params.minNodeNum,\n      verbose = params.verbose,\n      top = params.top; // -------  -------\n\n  var algoParams = {\n    graphs: formattedGraphs,\n    minSupport: minSupport,\n    maxNodeNum: maxNodeNum,\n    minNodeNum: minNodeNum,\n    top: top,\n    verbose: verbose,\n    directed: directed\n  };\n  var calculator = new GSpan(algoParams);\n  calculator.run();\n  var result = toGraphDatas(calculator.frequentSubgraphs, nodeLabelProp, edgeLabelProp);\n  return result;\n};\n\nexport default gSpan;","import { __spreadArray } from \"tslib\";\nimport floydWarshall from './floydWarshall';\nimport gSpan from './gSpan/gSpan';\nimport dijkstra from './dijkstra';\nimport { uniqueId } from './util';\n/**\n *  graphData \n * @param graphData\n * @param spm\n * @param nodeLabelProp\n * @param k k-\n */\n\nvar findKNeighborUnits = function findKNeighborUnits(graphData, spm, nodeLabelProp, k) {\n  if (nodeLabelProp === void 0) {\n    nodeLabelProp = 'cluster';\n  }\n\n  if (k === void 0) {\n    k = 2;\n  }\n\n  var units = [];\n  var nodes = graphData.nodes;\n  spm.forEach(function (row, i) {\n    units.push(findKNeighborUnit(nodes, row, i, nodeLabelProp, k));\n  });\n  return units;\n};\n\nvar findKNeighborUnit = function findKNeighborUnit(nodes, row, i, nodeLabelProp, k) {\n  var unitNodeIdxs = [i];\n  var neighbors = [];\n  var labelCountMap = {};\n  row.forEach(function (v, j) {\n    if (v <= k && i !== j) {\n      unitNodeIdxs.push(j);\n      neighbors.push(nodes[j]);\n      var label = nodes[j][nodeLabelProp];\n      if (!labelCountMap[label]) labelCountMap[label] = {\n        count: 1,\n        dists: [v]\n      };else {\n        labelCountMap[label].count++;\n        labelCountMap[label].dists.push(v);\n      }\n    }\n  }); //  labelCountMap  dists \n\n  Object.keys(labelCountMap).forEach(function (label) {\n    labelCountMap[label].dists = labelCountMap[label].dists.sort(function (a, b) {\n      return a - b;\n    });\n  });\n  return {\n    nodeIdx: i,\n    nodeId: nodes[i].id,\n    nodeIdxs: unitNodeIdxs,\n    neighbors: neighbors,\n    neighborNum: unitNodeIdxs.length - 1,\n    nodeLabelCountMap: labelCountMap\n  };\n};\n/**\n *  k\n * @param k  k k-\n * @param nodeNum  length\n * @param maxNodePairNum  maxNodePairNum\n * @param spm \n */\n\n\nvar findNodePairsRandomly = function findNodePairsRandomly(k, nodeNum, maxNodePairNum, kNeighborUnits, spm) {\n  // \n  var nodePairNumEachNode = Math.ceil(maxNodePairNum / nodeNum);\n  var nodePairMap = {};\n  var foundNodePairCount = 0; //  nodePairNumEachNode  k maxNodePairNum \n\n  kNeighborUnits.forEach(function (unit, i) {\n    //  nodePairNumEachNode(2 * nodeNum)\n    var nodePairForICount = 0;\n    var outerLoopCount = 0;\n    var neighbors = unit.nodeIdxs; // the first one is the center node\n\n    var neighborNum = unit.neighborNum - 1;\n\n    while (nodePairForICount < nodePairNumEachNode) {\n      //  index\n      var oidx = neighbors[1 + Math.floor(Math.random() * neighborNum)];\n      var innerLoopCount = 0; //  idx  random k\n\n      while (nodePairMap[\"\".concat(i, \"-\").concat(oidx)] || nodePairMap[\"\".concat(oidx, \"-\").concat(i)]) {\n        oidx = Math.floor(Math.random() * nodeNum);\n        innerLoopCount++;\n        if (innerLoopCount > 2 * nodeNum) break; // (2 * nodeNum)\n      }\n\n      if (innerLoopCount < 2 * nodeNum) {\n        // \n        nodePairMap[\"\".concat(i, \"-\").concat(oidx)] = {\n          start: i,\n          end: oidx,\n          distance: spm[i][oidx]\n        };\n        nodePairForICount++;\n        foundNodePairCount++; // \n\n        if (foundNodePairCount >= maxNodePairNum) return nodePairMap;\n      }\n\n      outerLoopCount++;\n      if (outerLoopCount > 2 * nodeNum) break; // (2 * nodeNum)\n    } //  nodePairNumEachNode  nodePairNumEachNode\n\n\n    if (nodePairForICount < nodePairNumEachNode) {\n      var gap = nodePairNumEachNode - nodePairForICount;\n      nodePairNumEachNode = (nodePairNumEachNode + gap) / (nodeNum - i - 1);\n    }\n  });\n  return nodePairMap;\n};\n/**\n *  nodePairMap \n * @param nodePairMap  mapkey  node1.id-node2.idvalue  { startNodeIdx, endNodeIdx, distance }\n * @param neighborUnits \n * @param graphData \n * @param edgeMap  map\n * @param cachedInducedGraphMap  key \n */\n\n\nvar getIntersectNeighborInducedGraph = function getIntersectNeighborInducedGraph(nodePairMap, neighborUnits, graphData, cachedInducedGraphMap) {\n  var nodes = graphData.nodes;\n  if (!cachedInducedGraphMap) cachedInducedGraphMap = {};\n  Object.keys(nodePairMap).forEach(function (key) {\n    var _a, _b;\n\n    if (cachedInducedGraphMap && cachedInducedGraphMap[key]) return;\n    cachedInducedGraphMap[key] = {\n      nodes: [],\n      edges: []\n    };\n    var pair = nodePairMap[key];\n    var startUnitNodeIds = (_a = neighborUnits[pair.start]) === null || _a === void 0 ? void 0 : _a.nodeIdxs;\n    var endUnitNodeIds = (_b = neighborUnits[pair.end]) === null || _b === void 0 ? void 0 : _b.nodeIdxs;\n    if (!startUnitNodeIds || !endUnitNodeIds) return; // \n\n    var endSet = new Set(endUnitNodeIds);\n    var intersect = startUnitNodeIds.filter(function (x) {\n      return endSet.has(x);\n    }); //  1580 + 6 nodes full-connected \n\n    if (!intersect || !intersect.length) return; // \n\n    var intersectIdMap = {};\n    var intersectLength = intersect.length;\n\n    for (var i = 0; i < intersectLength; i++) {\n      var node = nodes[intersect[i]];\n      cachedInducedGraphMap[key].nodes.push(node); // \n\n      intersectIdMap[node.id] = true;\n    } // \n\n\n    graphData.edges.forEach(function (edge) {\n      if (intersectIdMap[edge.source] && intersectIdMap[edge.target]) cachedInducedGraphMap[key].edges.push(edge);\n    });\n  });\n  return cachedInducedGraphMap;\n};\n/**\n *  strcutre  graph \n * @param graph \n * @param structure \n * @param nodeLabelProp \n * @param edgeLabelProp \n */\n\n\nvar getMatchedCount = function getMatchedCount(graph, structure, nodeLabelProp, edgeLabelProp) {\n  var _a, _b;\n\n  var nodeMap = {};\n  graph.nodes.forEach(function (node) {\n    nodeMap[node.id] = node;\n  });\n  var count = 0;\n  if (!((_a = structure === null || structure === void 0 ? void 0 : structure.edges) === null || _a === void 0 ? void 0 : _a.length) || ((_b = structure === null || structure === void 0 ? void 0 : structure.nodes) === null || _b === void 0 ? void 0 : _b.length) < 2) return 0;\n  graph.edges.forEach(function (e) {\n    var sourceLabel = nodeMap[e.source][nodeLabelProp];\n    var targetLabel = nodeMap[e.target][nodeLabelProp];\n    var strNodeLabel1 = structure === null || structure === void 0 ? void 0 : structure.nodes[0][nodeLabelProp];\n    var strNodeLabel2 = structure === null || structure === void 0 ? void 0 : structure.nodes[1][nodeLabelProp];\n    var strEdgeLabel = structure === null || structure === void 0 ? void 0 : structure.edges[0][edgeLabelProp];\n    if (e[edgeLabelProp] !== strEdgeLabel) return;\n\n    if (sourceLabel === strNodeLabel1 && targetLabel === strNodeLabel2 || sourceLabel === strNodeLabel2 && targetLabel === strNodeLabel1) {\n      count++;\n    }\n  });\n  return count;\n};\n/**\n * structures  matchedCountMap \n * @param matchedCountMap  structure  { [strcture.idx]: { [interInducedGraphKey]: count } }\n * @param structureNum strcuture  matchedCountMap.length \n * @param structures\n */\n\n\nvar findRepresentStructure = function findRepresentStructure(matchedCountMap, structureNum, structures) {\n  var maxOffset = Infinity,\n      representClusterType = 0;\n\n  var _loop_1 = function _loop_1(i) {\n    //  mapkey  intGraph  keyvalue  structures[i] \n    var countMapI = matchedCountMap[i]; //  value  keys \n\n    var sortedGraphKeys = Object.keys(countMapI).sort(function (a, b) {\n      return countMapI[a] - countMapI[b];\n    }); //  100  graphKeys graphKeys  groupNum \n\n    var groupNum = 10;\n    var clusters = []; //  groupNum \n\n    sortedGraphKeys.forEach(function (key, j) {\n      if (!clusters[j % groupNum]) clusters[j % groupNum] = {\n        graphs: [],\n        totalCount: 0,\n        aveCount: 0\n      };\n      clusters[j % groupNum].graphs.push(key);\n      clusters[j % groupNum].totalCount += countMapI[key];\n    }); //  cluster  cluster  innerDist cluster  intraDist\n\n    var aveIntraDist = 0; // \n\n    var aveCounts = []; // \n\n    clusters.forEach(function (graphsInCluster) {\n      // \n      var aveCount = graphsInCluster.totalCount / graphsInCluster.graphs.length;\n      graphsInCluster.aveCount = aveCount;\n      aveCounts.push(aveCount); // \n\n      var aveIntraPerCluster = 0;\n      var graphsNum = graphsInCluster.length;\n      graphsInCluster.graphs.forEach(function (graphKey1, j) {\n        var graph1Count = countMapI[graphKey1];\n        graphsInCluster.graphs.forEach(function (graphKey2, k) {\n          if (j === k) return;\n          aveIntraPerCluster += Math.abs(graph1Count - countMapI[graphKey2]);\n        });\n      });\n      aveIntraPerCluster /= graphsNum * (graphsNum - 1) / 2;\n      aveIntraDist += aveIntraPerCluster;\n    });\n    aveIntraDist /= clusters.length; // \n\n    var aveInterDist = 0; // \n\n    aveCounts.forEach(function (aveCount1, j) {\n      aveCounts.forEach(function (aveCount2, k) {\n        if (j === k) return;\n        aveInterDist += Math.abs(aveCount1 - aveCount2);\n      });\n      aveInterDist /= aveCounts.length * (aveCounts.length - 1) / 2;\n    }); //  (-)  structure  DS(G)\n\n    var offset = aveInterDist - aveIntraDist;\n\n    if (maxOffset < offset) {\n      maxOffset = offset;\n      representClusterType = i;\n    }\n  };\n\n  for (var i = 0; i < structureNum; i++) {\n    _loop_1(i);\n  }\n\n  return {\n    structure: structures[representClusterType],\n    structureCountMap: matchedCountMap[representClusterType]\n  };\n};\n\nvar getNodeMaps = function getNodeMaps(nodes, nodeLabelProp) {\n  var nodeMap = {},\n      nodeLabelMap = {};\n  nodes.forEach(function (node, i) {\n    nodeMap[node.id] = {\n      idx: i,\n      node: node,\n      degree: 0,\n      inDegree: 0,\n      outDegree: 0\n    };\n    var label = node[nodeLabelProp];\n    if (!nodeLabelMap[label]) nodeLabelMap[label] = [];\n    nodeLabelMap[label].push(node);\n  });\n  return {\n    nodeMap: nodeMap,\n    nodeLabelMap: nodeLabelMap\n  };\n};\n\nvar getEdgeMaps = function getEdgeMaps(edges, edgeLabelProp, nodeMap) {\n  var edgeMap = {},\n      edgeLabelMap = {};\n  edges.forEach(function (edge, i) {\n    edgeMap[\"\".concat(uniqueId)] = {\n      idx: i,\n      edge: edge\n    };\n    var label = edge[edgeLabelProp];\n    if (!edgeLabelMap[label]) edgeLabelMap[label] = [];\n    edgeLabelMap[label].push(edge);\n    var sourceNode = nodeMap[edge.source];\n\n    if (sourceNode) {\n      sourceNode.degree++;\n      sourceNode.outDegree++;\n    }\n\n    var targetNode = nodeMap[edge.target];\n\n    if (targetNode) {\n      targetNode.degree++;\n      targetNode.inDegree++;\n    }\n  });\n  return {\n    edgeMap: edgeMap,\n    edgeLabelMap: edgeLabelMap\n  };\n};\n/**\n *  mapkey  sourceNode.id-targetNode.idvalue \n * @param nodes\n * @param spm\n * @param directed\n */\n\n\nvar getSpmMap = function getSpmMap(nodes, spm, directed) {\n  var length = spm.length;\n  var map = {};\n  spm.forEach(function (row, i) {\n    var start = directed ? 0 : i + 1;\n    var iId = nodes[i].id;\n\n    for (var j = start; j < length; j++) {\n      if (i === j) continue;\n      var jId = nodes[j].id;\n      var dist = row[j];\n      map[\"\".concat(iId, \"-\").concat(jId)] = dist;\n      if (!directed) map[\"\".concat(jId, \"-\").concat(iId)] = dist;\n    }\n  });\n  return map;\n};\n/**\n * node1node2 NDS \n * @param graph \n * @param node1\n * @param node2\n */\n\n\nvar getNDSDist = function getNDSDist(graph, node1, node2, nodeMap, spDist, kNeighborUnits, structure, nodeLabelProp, edgeLabelProp, cachedNDSMap, cachedInterInducedGraph) {\n  var _a;\n\n  var key = \"\".concat(node1.id, \"-\").concat(node2.id);\n  if (cachedNDSMap && cachedNDSMap[key]) return cachedNDSMap[key];\n  var interInducedGraph = cachedInterInducedGraph ? cachedInterInducedGraph[key] : undefined; // \n\n  if (!interInducedGraph) {\n    var pairMap = (_a = {}, _a[key] = {\n      start: nodeMap[node1.id].idx,\n      end: nodeMap[node2.id].idx,\n      distance: spDist\n    }, _a);\n    cachedInterInducedGraph = getIntersectNeighborInducedGraph(pairMap, kNeighborUnits, graph, cachedInterInducedGraph);\n    interInducedGraph = cachedInterInducedGraph[key];\n  }\n\n  return getMatchedCount(interInducedGraph, structure, nodeLabelProp, edgeLabelProp);\n};\n/**\n *  pattern  minPatternNodeLabelDegreeMap\n */\n\n\nvar stashPatternNodeLabelDegreeMap = function stashPatternNodeLabelDegreeMap(minPatternNodeLabelDegreeMap, neighborLabel, patternNodeMap, patternNodeLabelMap) {\n  var _a, _b, _c;\n\n  var minPatternNodeLabelDegree = (_a = minPatternNodeLabelDegreeMap[neighborLabel]) === null || _a === void 0 ? void 0 : _a.degree;\n  var minPatternNodeLabelInDegree = (_b = minPatternNodeLabelDegreeMap[neighborLabel]) === null || _b === void 0 ? void 0 : _b.inDegree;\n  var minPatternNodeLabelOutDegree = (_c = minPatternNodeLabelDegreeMap[neighborLabel]) === null || _c === void 0 ? void 0 : _c.outDegree;\n\n  if (minPatternNodeLabelDegreeMap[neighborLabel] === undefined) {\n    minPatternNodeLabelDegree = Infinity;\n    minPatternNodeLabelInDegree = Infinity;\n    minPatternNodeLabelOutDegree = Infinity;\n    patternNodeLabelMap[neighborLabel].forEach(function (patternNodeWithLabel) {\n      var patternNodeDegree = patternNodeMap[patternNodeWithLabel.id].degree;\n      if (minPatternNodeLabelDegree > patternNodeDegree) minPatternNodeLabelDegree = patternNodeDegree;\n      var patternNodeInDegree = patternNodeMap[patternNodeWithLabel.id].inDegree;\n      if (minPatternNodeLabelInDegree > patternNodeInDegree) minPatternNodeLabelInDegree = patternNodeInDegree;\n      var patternNodeOutDegree = patternNodeMap[patternNodeWithLabel.id].outDegree;\n      if (minPatternNodeLabelOutDegree > patternNodeOutDegree) minPatternNodeLabelOutDegree = patternNodeOutDegree;\n    });\n    minPatternNodeLabelDegreeMap[neighborLabel] = {\n      degree: minPatternNodeLabelDegree,\n      inDegree: minPatternNodeLabelInDegree,\n      outDegree: minPatternNodeLabelOutDegree\n    };\n  }\n\n  return {\n    minPatternNodeLabelDegree: minPatternNodeLabelDegree,\n    minPatternNodeLabelInDegree: minPatternNodeLabelInDegree,\n    minPatternNodeLabelOutDegree: minPatternNodeLabelOutDegree\n  };\n};\n/**\n * GADDI \n * @param graphData \n * @param pattern \n * @param directed  false\n * @param k  k k-\n * @param length  length\n * @param nodeLabelProp  cluster\n * @param edgeLabelProp  cluster\n */\n\n\nvar GADDI = function GADDI(graphData, pattern, directed, k, length, nodeLabelProp, edgeLabelProp) {\n  var _a;\n\n  if (directed === void 0) {\n    directed = false;\n  }\n\n  if (nodeLabelProp === void 0) {\n    nodeLabelProp = 'cluster';\n  }\n\n  if (edgeLabelProp === void 0) {\n    edgeLabelProp = 'cluster';\n  }\n\n  if (!graphData || !graphData.nodes) return; // \n  // 0. /\n  // 1.  graphData 1~5 \n  // 2. \n  // console.log(\"----- stage-pre: preprocessing -------\");\n  // -------- /-------\n\n  var nodeNum = graphData.nodes.length;\n  if (!nodeNum) return; // console.log(\"----- stage-pre.1: calc shortest path matrix for graph -------\");\n\n  var spm = floydWarshall(graphData, directed); // console.log(\n  //   \"----- stage-pre.2: calc shortest path matrix for pattern -------\"\n  // );\n\n  var patternSpm = floydWarshall(pattern, directed); // console.log(\n  //   \"----- stage-pre.3: calc shortest path matrix map for graph -------\"\n  // );\n\n  var spmMap = getSpmMap(graphData.nodes, spm, directed); // console.log(\n  //   \"----- stage-pre.4: calc shortest path matrix map for pattern -------\"\n  // );\n\n  var patternSpmMap = getSpmMap(pattern.nodes, patternSpm, directed); // console.log(\"----- stage-pre.5: establish maps -------\");\n  //  map id  id \n\n  var _b = getNodeMaps(graphData.nodes, nodeLabelProp),\n      nodeMap = _b.nodeMap,\n      nodeLabelMap = _b.nodeLabelMap;\n\n  var _c = getNodeMaps(pattern.nodes, nodeLabelProp),\n      patternNodeMap = _c.nodeMap,\n      patternNodeLabelMap = _c.nodeLabelMap; // \n\n\n  getEdgeMaps(graphData.edges, edgeLabelProp, nodeMap);\n  var patternEdgeLabelMap = getEdgeMaps(pattern.edges, edgeLabelProp, patternNodeMap).edgeLabelMap; //  length pattern \n\n  var patternSpmSpread = [];\n  patternSpm === null || patternSpm === void 0 ? void 0 : patternSpm.forEach(function (row) {\n    patternSpmSpread = patternSpmSpread.concat(row);\n  });\n  if (!length) length = Math.max.apply(Math, __spreadArray(__spreadArray([], patternSpmSpread, false), [2], false));\n  if (!k) k = length; // console.log(\"params\", directed, length, k);\n  // console.log(\"----- stage-pre.6: calc k neighbor units -------\");\n  //  k \n\n  var kNeighborUnits = findKNeighborUnits(graphData, spm, nodeLabelProp, k);\n  var patternKNeighborUnits = findKNeighborUnits(pattern, patternSpm, nodeLabelProp, k); // console.log(\n  //   \"----- stage0: going to processing graph and find intersect neighbor induced graphs -------\"\n  // );\n  // console.log(\"----- stage0.1: going to select random node pairs -------\");\n  // --------  graphData-------\n  // 1.1.  100  Length  k\n  //  graphData  20  100  n(n-1)/2 \n\n  var maxNodePairNum = Math.min(100, nodeNum * (nodeNum - 1) / 2);\n  var nodePairsMap = findNodePairsRandomly(k, nodeNum, maxNodePairNum, kNeighborUnits, spm); // console.log(\n  //   \"----- stage0.2: going to calculate intersect neighbor induced graphs -------\"\n  // );\n  // 1.2.  {'beginNodeIdx-endNodeIdx': {nodes: [], edges: []}}\n\n  var intGMap = getIntersectNeighborInducedGraph(nodePairsMap, kNeighborUnits, graphData); // 1.3.  gSpan frequent graph mining ISIntG  10 3-4\n\n  var top = 10,\n      minSupport = 1,\n      minNodeNum = 1,\n      maxNodeNum = 4;\n  var params = {\n    graphs: intGMap,\n    nodeLabelProp: nodeLabelProp,\n    edgeLabelProp: edgeLabelProp,\n    minSupport: minSupport,\n    minNodeNum: minNodeNum,\n    maxNodeNum: maxNodeNum,\n    directed: directed\n  }; // console.log(\n  //   \"----- stage1: (gSpan) going to find frequent structure dsG -------\"\n  // );\n  // console.log(\"----- stage1.1: going to run gSpan -------\");\n  //  sub structure \n\n  var freStructures = gSpan(params).slice(0, top); // structureNum  top\n\n  var structureNum = freStructures.length; // 1.4.  10  intGMap \n\n  var matchedCountMap = [];\n  freStructures.forEach(function (structure, i) {\n    matchedCountMap[i] = {};\n    Object.keys(intGMap).forEach(function (key) {\n      var graph = intGMap[key];\n      var subStructureCount = getMatchedCount(graph, structure, nodeLabelProp, edgeLabelProp);\n      matchedCountMap[i][key] = subStructureCount;\n    });\n  }); // console.log(\n  //   \"----- stage1.1: going to find the most represent strucutre -------\"\n  // );\n  // 1.5.  intGMap  structureNum \n  //  DS(G)\n\n  var _d = findRepresentStructure(matchedCountMap, structureNum, freStructures),\n      dsG = _d.structure,\n      ndsDist = _d.structureCountMap; // -------- -------\n  // 2.1  Q  G  G \n\n\n  var beginPNode = pattern.nodes[0],\n      candidates = [],\n      label = (_a = pattern.nodes[0]) === null || _a === void 0 ? void 0 : _a[nodeLabelProp],\n      maxNodeNumWithSameLabel = -Infinity;\n  pattern.nodes.forEach(function (node) {\n    var pLabel = node[nodeLabelProp];\n    var nodesWithSameLabel = nodeLabelMap[pLabel];\n\n    if ((nodesWithSameLabel === null || nodesWithSameLabel === void 0 ? void 0 : nodesWithSameLabel.length) > maxNodeNumWithSameLabel) {\n      maxNodeNumWithSameLabel = nodesWithSameLabel.length;\n      candidates = nodesWithSameLabel;\n      label = pLabel;\n      beginPNode = node;\n    }\n  }); // console.log(\"----- stage2: going to find candidates -------\");\n  // \n\n  var minPatternNodeLabelDegreeMap = {}; // key  labelvalue  label \n\n  var patternIntGraphMap = {},\n      patternNDSDist = {},\n      // key  node.id-node.id\n  patternNDSDistMap = {}; // key  node.id-label2value nds node2\n  // 2.2.2  Q  k  node  NDS \n\n  var patternSpDist = {};\n  var patternSpDistBack = {};\n  Object.keys(patternNodeLabelMap).forEach(function (label2, j) {\n    patternSpDist[label2] = [];\n\n    if (directed) {\n      patternSpDistBack[label2] = [];\n    }\n\n    var maxDist = -Infinity;\n    var patternNodesWithLabel2 = patternNodeLabelMap[label2];\n    var patternNodePairMap = {};\n    patternNodesWithLabel2.forEach(function (nodeWithLabel2) {\n      var dist = patternSpmMap[\"\".concat(beginPNode.id, \"-\").concat(nodeWithLabel2.id)];\n      dist && patternSpDist[label2].push(dist);\n      if (maxDist < dist) maxDist = dist;\n      patternNodePairMap[\"\".concat(beginPNode.id, \"-\").concat(nodeWithLabel2.id)] = {\n        start: 0,\n        end: patternNodeMap[nodeWithLabel2.id].idx,\n        distance: dist\n      };\n\n      if (directed) {\n        var distBack = patternSpmMap[\"\".concat(nodeWithLabel2.id, \"-\").concat(beginPNode.id)];\n        distBack && patternSpDistBack[label2].push(distBack);\n      }\n    }); // spDist[label2] \n\n    patternSpDist[label2] = patternSpDist[label2].sort(function (a, b) {\n      return a - b;\n    });\n    if (directed) patternSpDistBack[label2] = patternSpDistBack[label2].sort(function (a, b) {\n      return a - b;\n    }); //  Q  label2  beginPNode  NDS \n    //  label2  beginPNode \n    // key: node1.id-node2.id\n\n    patternIntGraphMap = getIntersectNeighborInducedGraph(patternNodePairMap, patternKNeighborUnits, pattern, patternIntGraphMap); // pattern  beginNode  label2   NDS \n\n    var currentPatternNDSDistArray = [];\n    Object.keys(patternNodePairMap).forEach(function (key) {\n      if (patternNDSDist[key]) {\n        currentPatternNDSDistArray.push(patternNDSDist[key]);\n        return; // \n      }\n\n      var patternIntGraph = patternIntGraphMap[key];\n      patternNDSDist[key] = getMatchedCount(patternIntGraph, dsG, nodeLabelProp, edgeLabelProp);\n      currentPatternNDSDistArray.push(patternNDSDist[key]);\n    }); //  currentPatternNDSDist \n\n    currentPatternNDSDistArray = currentPatternNDSDistArray.sort(function (a, b) {\n      return b - a;\n    });\n    patternNDSDistMap[\"\".concat(beginPNode.id, \"-\").concat(label2)] = currentPatternNDSDistArray;\n    if (label2 === label) return;\n    var candidatesNum = (candidates === null || candidates === void 0 ? void 0 : candidates.length) || 0;\n\n    var _loop_4 = function _loop_4(m) {\n      var cNode = candidates[m]; // prune1 candidates  cNode  kNeighborUnits  label2  pattern  label2 \n\n      var graphNeighborUnit = kNeighborUnits[nodeMap[cNode.id].idx];\n      var graphNeighborUnitCountMap = graphNeighborUnit.nodeLabelCountMap[label2];\n      var patternLabel2Num = patternNodeLabelMap[label2].length;\n\n      if (!graphNeighborUnitCountMap || graphNeighborUnitCountMap.count < patternLabel2Num) {\n        candidates.splice(m, 1);\n        return \"continue\";\n      } // prune2 candidates  cNode  kNeighborUnits  label2  patternSpDist[label2]\n      // (prune2 candidate  spDist[label2].length  patternSpDist[label2]  G > Q  candidate)\n\n\n      var prune2Invalid = false;\n\n      for (var n = 0; n < patternLabel2Num; n++) {\n        if (graphNeighborUnitCountMap.dists[n] > patternSpDist[label2][n]) {\n          prune2Invalid = true;\n          break;\n        }\n      }\n\n      if (prune2Invalid) {\n        candidates.splice(m, 1);\n        return \"continue\";\n      } // prune3 candidates  cNode  kNeighborUnits  label2  NDS  patternNDSDist[beginNode.id-label2]\n      // TODOprune3currentPatternNDSDistArray  currentNDSDist \n      //  G  label2  cNode  NDS \n      //  label2  cNode \n\n\n      var cNodePairMap = {};\n      graphNeighborUnit.neighbors.forEach(function (neighborNode) {\n        var dist = spmMap[\"\".concat(cNode.id, \"-\").concat(neighborNode.id)];\n        cNodePairMap[\"\".concat(cNode.id, \"-\").concat(neighborNode.id)] = {\n          start: nodeMap[cNode.id].idx,\n          end: nodeMap[neighborNode.id].idx,\n          distance: dist\n        };\n      }); //  intGMap\n\n      intGMap = getIntersectNeighborInducedGraph(cNodePairMap, kNeighborUnits, graphData, intGMap); // candidate  label2  NDS , key  node.id-node.id\n\n      var currentNDSDistArray = [];\n      Object.keys(cNodePairMap).forEach(function (key) {\n        if (ndsDist[key]) {\n          currentNDSDistArray.push(ndsDist[key]);\n          return; // \n        }\n\n        var intGraph = intGMap[key];\n        ndsDist[key] = getMatchedCount(intGraph, dsG, nodeLabelProp, edgeLabelProp);\n        currentNDSDistArray.push(ndsDist[key]);\n      }); //  currentNDSDistArray \n\n      currentNDSDistArray = currentNDSDistArray.sort(function (a, b) {\n        return b - a;\n      });\n      var prune3Invalid = false;\n\n      for (var n = 0; n < patternLabel2Num; n++) {\n        if (currentNDSDistArray[n] < currentPatternNDSDistArray[n]) {\n          prune3Invalid = true;\n          break;\n        }\n      }\n\n      if (prune3Invalid) {\n        candidates.splice(m, 1);\n        return \"continue\";\n      }\n    };\n\n    for (var m = candidatesNum - 1; m >= 0; m--) {\n      _loop_4(m);\n    }\n  });\n  var candidateGraphs = []; // console.log(\n  //   \"----- stage3: going to splice neighbors for each candidate graph -------\"\n  // );\n  // candidates  candidate  Length-neighbor \n  //  Q  Q  label label  candidate  QNDS  Q\n\n  candidates === null || candidates === void 0 ? void 0 : candidates.forEach(function (candidate) {\n    var nodeIdx = nodeMap[candidate.id].idx;\n    var lengthNeighborUnit = findKNeighborUnit(graphData.nodes, spm[nodeIdx], nodeIdx, nodeLabelProp, length);\n    var neighborNodes = lengthNeighborUnit.neighbors; // \n\n    var neighborNum = neighborNodes.length;\n    var unmatched = false;\n\n    for (var i = neighborNum - 1; i >= 0; i--) {\n      //  candidate \n      if (neighborNodes.length + 1 < pattern.nodes.length) {\n        unmatched = true;\n        return;\n      }\n\n      var neighborNode = neighborNodes[i];\n      var neighborLabel = neighborNode[nodeLabelProp]; // prune1:  label  pattern \n\n      if (!patternNodeLabelMap[neighborLabel] || !patternNodeLabelMap[neighborLabel].length) {\n        neighborNodes.splice(i, 1);\n        continue;\n      } // prune2:  candidate  label  beginPNode \n      // prune2.1:  beginPNode  pattern  beginPNode  label label \n\n\n      if (!patternSpDist[neighborLabel] || !patternSpDist[neighborLabel].length) {\n        neighborNodes.splice(i, 1);\n        continue;\n      }\n\n      var key = \"\".concat(candidate.id, \"-\").concat(neighborNode.id); // prune2.2\n\n      var distToCandidate = spmMap[key];\n      var idx = patternSpDist[neighborLabel].length - 1;\n      var maxDistWithLabelInPattern = patternSpDist[neighborLabel][idx]; // patternSpDist[neighborLabel] \n\n      if (distToCandidate > maxDistWithLabelInPattern) {\n        neighborNodes.splice(i, 1);\n        continue;\n      }\n\n      if (directed) {\n        var keyBack = \"\".concat(neighborNode.id, \"-\").concat(candidate.id);\n        var distFromCandidate = spmMap[keyBack];\n        idx = patternSpDistBack[neighborLabel].length - 1;\n        var maxBackDistWithLabelInPattern = patternSpDistBack[neighborLabel][idx];\n\n        if (distFromCandidate > maxBackDistWithLabelInPattern) {\n          neighborNodes.splice(i, 1);\n          continue;\n        }\n      } // prune3:  candidate  NDS  label  beginPNode  NDS \n\n\n      var ndsToCandidate = ndsDist[key] ? ndsDist[key] : getNDSDist(graphData, candidate, neighborNode, nodeMap, distToCandidate, kNeighborUnits, dsG, nodeLabelProp, edgeLabelProp, ndsDist, intGMap);\n      var patternKey = \"\".concat(beginPNode.id, \"-\").concat(neighborLabel);\n      var minNdsWithLabelInPattern = patternNDSDistMap[patternKey][patternNDSDistMap[patternKey].length - 1]; // patternNDSDist[key] \n\n      if (ndsToCandidate < minNdsWithLabelInPattern) {\n        neighborNodes.splice(i, 1);\n        continue;\n      } // prune4:  pattern  label \n\n\n      var _a = stashPatternNodeLabelDegreeMap(minPatternNodeLabelDegreeMap, neighborLabel, patternNodeMap, patternNodeLabelMap),\n          minPatternNodeLabelDegree = _a.minPatternNodeLabelDegree,\n          minPatternNodeLabelInDegree = _a.minPatternNodeLabelInDegree,\n          minPatternNodeLabelOutDegree = _a.minPatternNodeLabelOutDegree;\n\n      if (nodeMap[neighborNode.id].degree < minPatternNodeLabelDegree) {\n        neighborNodes.splice(i, 1);\n        continue;\n      }\n    } //  pattern \n\n\n    if (!unmatched) {\n      candidateGraphs.push({\n        nodes: [candidate].concat(neighborNodes)\n      });\n    }\n  }); // console.log(\n  //   \"----- stage4: going to splice edges and neighbors for each candidate graph -------\"\n  // );\n\n  var undirectedLengthsToBeginPNode = dijkstra(pattern, beginPNode.id, false).length;\n  var undirectedLengthsToBeginPNodeLabelMap = {};\n\n  if (directed) {\n    Object.keys(undirectedLengthsToBeginPNode).forEach(function (nodeId) {\n      var nodeLabel = patternNodeMap[nodeId].node[nodeLabelProp];\n      if (!undirectedLengthsToBeginPNodeLabelMap[nodeLabel]) undirectedLengthsToBeginPNodeLabelMap[nodeLabel] = [undirectedLengthsToBeginPNode[nodeId]];else undirectedLengthsToBeginPNodeLabelMap[nodeLabel].push(undirectedLengthsToBeginPNode[nodeId]);\n    });\n    Object.keys(undirectedLengthsToBeginPNodeLabelMap).forEach(function (pLabel) {\n      undirectedLengthsToBeginPNodeLabelMap[pLabel].sort(function (a, b) {\n        return a - b;\n      });\n    });\n  } else {\n    undirectedLengthsToBeginPNodeLabelMap = patternSpDist;\n  } //  candidateGraphs \n\n\n  var candidateGraphNum = candidateGraphs.length;\n\n  var _loop_2 = function _loop_2(i) {\n    var candidateGraph = candidateGraphs[i];\n    var candidate = candidateGraph.nodes[0];\n    var candidateNodeLabelCountMap = {};\n    var candidateNodeMap = {};\n    candidateGraph.nodes.forEach(function (node, q) {\n      candidateNodeMap[node.id] = {\n        idx: q,\n        node: node,\n        degree: 0,\n        inDegree: 0,\n        outDegree: 0\n      };\n      var cNodeLabel = node[nodeLabelProp];\n      if (!candidateNodeLabelCountMap[cNodeLabel]) candidateNodeLabelCountMap[cNodeLabel] = 1;else candidateNodeLabelCountMap[cNodeLabel]++;\n    }); //  candidate  neighborNodes  G \n    //  graphData  candidateGraph.nodes  candidateEdges\n\n    var candidateEdges = [];\n    var edgeLabelCountMap = {};\n    graphData.edges.forEach(function (edge) {\n      if (candidateNodeMap[edge.source] && candidateNodeMap[edge.target]) {\n        candidateEdges.push(edge);\n        if (!edgeLabelCountMap[edge[edgeLabelProp]]) edgeLabelCountMap[edge[edgeLabelProp]] = 1;else edgeLabelCountMap[edge[edgeLabelProp]]++;\n        candidateNodeMap[edge.source].degree++;\n        candidateNodeMap[edge.target].degree++;\n        candidateNodeMap[edge.source].outDegree++;\n        candidateNodeMap[edge.target].inDegree++;\n      }\n    }); // prune edgeLabel  candidateGraph  pattern\n\n    var pattenrEdgeLabelNum = Object.keys(patternEdgeLabelMap).length;\n    var prunedByEdgeLabel = false;\n\n    for (var e = 0; e < pattenrEdgeLabelNum; e++) {\n      var label_1 = Object.keys(patternEdgeLabelMap)[e];\n\n      if (!edgeLabelCountMap[label_1] || edgeLabelCountMap[label_1] < patternEdgeLabelMap[label_1].length) {\n        prunedByEdgeLabel = true;\n        break;\n      }\n    }\n\n    if (prunedByEdgeLabel) {\n      candidateGraphs.splice(i, 1);\n      return \"continue\";\n    } //  candidateEdges\n\n\n    var candidateEdgeNum = candidateEdges.length; // prune\n\n    if (candidateEdgeNum < pattern.edges.length) {\n      candidateGraphs.splice(i, 1);\n      return \"break\";\n    }\n\n    var candidateGraphInvalid = false;\n\n    var _loop_5 = function _loop_5(e) {\n      var edge = candidateEdges[e];\n      var edgeLabel = edge[edgeLabelProp];\n      var patternEdgesWithLabel = patternEdgeLabelMap[edgeLabel]; // prune 1:  label  pattern  label \n\n      if (!patternEdgesWithLabel || !patternEdgesWithLabel.length) {\n        edgeLabelCountMap[edgeLabel]--; //  label  count  label \n\n        if (patternEdgesWithLabel && edgeLabelCountMap[edgeLabel] < patternEdgesWithLabel.length) {\n          candidateGraphInvalid = true;\n          return \"break\";\n        }\n\n        candidateEdges.splice(e, 1);\n        candidateNodeMap[edge.source].degree--;\n        candidateNodeMap[edge.target].degree--;\n        candidateNodeMap[edge.source].outDegree--;\n        candidateNodeMap[edge.target].inDegree--;\n        return \"continue\";\n      } // prune 2:  label + label  pattern \n\n\n      var sourceLabel = candidateNodeMap[edge.source].node[nodeLabelProp];\n      var targetLabel = candidateNodeMap[edge.target].node[nodeLabelProp];\n      var edgeMatched = false;\n      patternEdgesWithLabel.forEach(function (patternEdge) {\n        var patternSource = patternNodeMap[patternEdge.source].node;\n        var patternTarget = patternNodeMap[patternEdge.target].node;\n        if (patternSource[nodeLabelProp] === sourceLabel && patternTarget[nodeLabelProp] === targetLabel) edgeMatched = true;\n        if (!directed && patternSource[nodeLabelProp] === targetLabel && patternTarget[nodeLabelProp] === sourceLabel) edgeMatched = true;\n      });\n\n      if (!edgeMatched) {\n        edgeLabelCountMap[edgeLabel]--; //  label  count  label \n\n        if (patternEdgesWithLabel && edgeLabelCountMap[edgeLabel] < patternEdgesWithLabel.length) {\n          candidateGraphInvalid = true;\n          return \"break\";\n        }\n\n        candidateEdges.splice(e, 1);\n        candidateNodeMap[edge.source].degree--;\n        candidateNodeMap[edge.target].degree--;\n        candidateNodeMap[edge.source].outDegree--;\n        candidateNodeMap[edge.target].inDegree--;\n        return \"continue\";\n      }\n    };\n\n    for (var e = candidateEdgeNum - 1; e >= 0; e--) {\n      var state_2 = _loop_5(e);\n\n      if (state_2 === \"break\") break;\n    } // prune2: / label \n\n\n    if (candidateGraphInvalid) {\n      candidateGraphs.splice(i, 1);\n      return \"continue\";\n    }\n\n    candidateGraph.edges = candidateEdges;\n    var lengthsToCandidate = dijkstra(candidateGraph, candidateGraph.nodes[0].id, false).length;\n    Object.keys(lengthsToCandidate).reverse().forEach(function (targetId) {\n      if (targetId === candidateGraph.nodes[0].id || candidateGraphInvalid) return; // prune4:  candidate\n\n      if (lengthsToCandidate[targetId] === Infinity) {\n        var targetNodeLabel = candidateNodeMap[targetId].node[nodeLabelProp];\n        candidateNodeLabelCountMap[targetNodeLabel]--;\n\n        if (candidateNodeLabelCountMap[targetNodeLabel] < patternNodeLabelMap[targetNodeLabel].length) {\n          candidateGraphInvalid = true;\n          return;\n        }\n\n        var idx = candidateGraph.nodes.indexOf(candidateNodeMap[targetId].node);\n        candidateGraph.nodes.splice(idx, 1);\n        candidateNodeMap[targetId] = undefined;\n        return;\n      } // prune5:   pattern  label  beginNode \n\n\n      var nLabel = nodeMap[targetId].node[nodeLabelProp];\n\n      if (!undirectedLengthsToBeginPNodeLabelMap[nLabel] || !undirectedLengthsToBeginPNodeLabelMap[nLabel].length || lengthsToCandidate[targetId] > undirectedLengthsToBeginPNodeLabelMap[nLabel][undirectedLengthsToBeginPNodeLabelMap[nLabel].length - 1]) {\n        var targetNodeLabel = candidateNodeMap[targetId].node[nodeLabelProp];\n        candidateNodeLabelCountMap[targetNodeLabel]--;\n\n        if (candidateNodeLabelCountMap[targetNodeLabel] < patternNodeLabelMap[targetNodeLabel].length) {\n          candidateGraphInvalid = true;\n          return;\n        }\n\n        var idx = candidateGraph.nodes.indexOf(candidateNodeMap[targetId].node);\n        candidateGraph.nodes.splice(idx, 1);\n        candidateNodeMap[targetId] = undefined;\n      }\n    });\n\n    if (candidateGraphInvalid) {\n      candidateGraphs.splice(i, 1);\n      return \"continue\";\n    }\n\n    var degreeChanged = true;\n    var loopCount = 0;\n\n    while (degreeChanged && !candidateGraphInvalid) {\n      degreeChanged = false; // candidate \n\n      var condition = directed ? candidateNodeMap[candidate.id].degree < patternNodeMap[beginPNode.id].degree || candidateNodeMap[candidate.id].inDegree < patternNodeMap[beginPNode.id].inDegree || candidateNodeMap[candidate.id].outDegree < patternNodeMap[beginPNode.id].outDegree : candidateNodeMap[candidate.id].degree < patternNodeMap[beginPNode.id].degree;\n\n      if (condition) {\n        candidateGraphInvalid = true;\n        break;\n      } // candidate label \n\n\n      if (candidateNodeLabelCountMap[candidate[nodeLabelProp]] < patternNodeLabelMap[candidate[nodeLabelProp]].length) {\n        candidateGraphInvalid = true;\n        break;\n      } // prune6\n\n\n      var currentCandidateNodeNum = candidateGraph.nodes.length;\n\n      for (var o = currentCandidateNodeNum - 1; o >= 0; o--) {\n        var cgNode = candidateGraph.nodes[o];\n        var nodeDegree = candidateNodeMap[cgNode.id].degree;\n        var nodeInDegree = candidateNodeMap[cgNode.id].inDegree;\n        var nodeOutDegree = candidateNodeMap[cgNode.id].outDegree;\n        var cNodeLabel = cgNode[nodeLabelProp];\n\n        var _e = stashPatternNodeLabelDegreeMap(minPatternNodeLabelDegreeMap, cNodeLabel, patternNodeMap, patternNodeLabelMap),\n            minPatternNodeLabelDegree = _e.minPatternNodeLabelDegree,\n            minPatternNodeLabelInDegree = _e.minPatternNodeLabelInDegree,\n            minPatternNodeLabelOutDegree = _e.minPatternNodeLabelOutDegree;\n\n        var deleteCondition = directed ? nodeDegree < minPatternNodeLabelDegree || nodeInDegree < minPatternNodeLabelInDegree || nodeOutDegree < minPatternNodeLabelOutDegree : nodeDegree < minPatternNodeLabelDegree;\n\n        if (deleteCondition) {\n          candidateNodeLabelCountMap[cgNode[nodeLabelProp]]--; //  label \n\n          if (candidateNodeLabelCountMap[cgNode[nodeLabelProp]] < patternNodeLabelMap[cgNode[nodeLabelProp]].length) {\n            candidateGraphInvalid = true;\n            break;\n          }\n\n          candidateGraph.nodes.splice(o, 1);\n          candidateNodeMap[cgNode.id] = undefined;\n          degreeChanged = true;\n        }\n      }\n\n      if (candidateGraphInvalid || !degreeChanged && loopCount !== 0) break; //  prune5  candidateGraph \n\n      candidateEdgeNum = candidateEdges.length;\n\n      for (var y = candidateEdgeNum - 1; y >= 0; y--) {\n        var cedge = candidateEdges[y];\n\n        if (!candidateNodeMap[cedge.source] || !candidateNodeMap[cedge.target]) {\n          candidateEdges.splice(y, 1);\n          var edgeLabel = cedge[edgeLabelProp];\n          edgeLabelCountMap[edgeLabel]--;\n\n          if (candidateNodeMap[cedge.source]) {\n            candidateNodeMap[cedge.source].degree--;\n            candidateNodeMap[cedge.source].outDegree--;\n          }\n\n          if (candidateNodeMap[cedge.target]) {\n            candidateNodeMap[cedge.target].degree--;\n            candidateNodeMap[cedge.target].inDegree--;\n          } //  label \n\n\n          if (patternEdgeLabelMap[edgeLabel] && edgeLabelCountMap[edgeLabel] < patternEdgeLabelMap[edgeLabel].length) {\n            candidateGraphInvalid = true;\n            break;\n          }\n\n          degreeChanged = true;\n        }\n      }\n\n      loopCount++;\n    }\n\n    if (candidateGraphInvalid) {\n      candidateGraphs.splice(i, 1);\n      return \"continue\";\n    } // prune: // label \n\n\n    if (candidateGraphInvalid || candidateGraph.nodes.length < pattern.nodes.length || candidateEdges.length < pattern.edges.length) {\n      candidateGraphs.splice(i, 1);\n      return \"continue\";\n    }\n  };\n\n  for (var i = candidateGraphNum - 1; i >= 0; i--) {\n    var state_1 = _loop_2(i);\n\n    if (state_1 === \"break\") break;\n  } //  candidateGraphs\n  // console.log(\n  //   \"----- stage5: going to splice dulplicated candidate graphs -------\"\n  // );\n  //  candidateGraphs  node-node-edgeLabel  key value\n\n\n  var currentLength = candidateGraphs.length;\n\n  var _loop_3 = function _loop_3(i) {\n    var cg1 = candidateGraphs[i];\n    var cg1EdgeMap = {}; // [node1.id-node2.id-edge.label]: count\n\n    cg1.edges.forEach(function (edge) {\n      var key = \"\".concat(edge.source, \"-\").concat(edge.target, \"-\").concat(edge.label);\n      if (!cg1EdgeMap[key]) cg1EdgeMap[key] = 1;else cg1EdgeMap[key]++;\n    });\n\n    var _loop_6 = function _loop_6(j) {\n      var cg2 = candidateGraphs[j];\n      var cg2EdgeMap = {}; // [node1.id-node2.id-edge.label]: count\n\n      cg2.edges.forEach(function (edge) {\n        var key = \"\".concat(edge.source, \"-\").concat(edge.target, \"-\").concat(edge.label);\n        if (!cg2EdgeMap[key]) cg2EdgeMap[key] = 1;else cg2EdgeMap[key]++;\n      });\n      var same = true;\n\n      if (Object.keys(cg2EdgeMap).length !== Object.keys(cg1EdgeMap).length) {\n        same = false;\n      } else {\n        Object.keys(cg1EdgeMap).forEach(function (key) {\n          if (cg2EdgeMap[key] !== cg1EdgeMap[key]) same = false;\n        });\n      }\n\n      if (same) {\n        candidateGraphs.splice(j, 1);\n      }\n    };\n\n    for (var j = currentLength - 1; j > i; j--) {\n      _loop_6(j);\n    }\n\n    currentLength = candidateGraphs.length;\n  };\n\n  for (var i = 0; i <= currentLength - 1; i++) {\n    _loop_3(i);\n  }\n\n  return candidateGraphs;\n};\n\nexport default GADDI;","import LinkedList from './linked-list';\n\nvar Stack =\n/** @class */\nfunction () {\n  function Stack(maxStep) {\n    if (maxStep === void 0) {\n      maxStep = 10;\n    }\n\n    this.linkedList = new LinkedList();\n    this.maxStep = maxStep;\n  }\n\n  Object.defineProperty(Stack.prototype, \"length\", {\n    get: function get() {\n      return this.linkedList.toArray().length;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * \n   */\n\n  Stack.prototype.isEmpty = function () {\n    return !this.linkedList.head;\n  };\n  /**\n   * \n   */\n\n\n  Stack.prototype.isMaxStack = function () {\n    return this.toArray().length >= this.maxStep;\n  };\n  /**\n   * \n   */\n\n\n  Stack.prototype.peek = function () {\n    if (this.isEmpty()) {\n      return null;\n    } // \n\n\n    return this.linkedList.head.value;\n  };\n\n  Stack.prototype.push = function (value) {\n    this.linkedList.prepend(value);\n\n    if (this.length > this.maxStep) {\n      this.linkedList.deleteTail();\n    }\n  };\n\n  Stack.prototype.pop = function () {\n    var removeHead = this.linkedList.deleteHead();\n    return removeHead ? removeHead.value : null;\n  };\n\n  Stack.prototype.toArray = function () {\n    return this.linkedList.toArray().map(function (node) {\n      return node.value;\n    });\n  };\n\n  Stack.prototype.clear = function () {\n    while (!this.isEmpty()) {\n      this.pop();\n    }\n  };\n\n  return Stack;\n}();\n\nexport default Stack;","import getAdjMatrix from './adjacent-matrix';\nimport breadthFirstSearch from './bfs';\nimport connectedComponent from './connected-component';\nimport getDegree from './degree';\nimport { getInDegree, getOutDegree } from './degree';\nimport detectCycle, { detectAllCycles, detectAllDirectedCycle, detectAllUndirectedCycle } from './detect-cycle';\nimport depthFirstSearch from './dfs';\nimport dijkstra from './dijkstra';\nimport { findAllPath, findShortestPath } from './find-path';\nimport floydWarshall from './floydWarshall';\nimport labelPropagation from './label-propagation';\nimport louvain from './louvain';\nimport iLouvain from './i-louvain';\nimport kCore from './k-core';\nimport kMeans from './k-means';\nimport cosineSimilarity from './cosine-similarity';\nimport nodesCosineSimilarity from './nodes-cosine-similarity';\nimport minimumSpanningTree from './mts';\nimport pageRank from './pageRank';\nimport GADDI from './gaddi';\nimport Stack from './structs/stack';\nimport { getNeighbors } from './util';\nvar detectDirectedCycle = detectCycle;\nexport { getAdjMatrix, breadthFirstSearch, connectedComponent, getDegree, getInDegree, getOutDegree, detectCycle, detectDirectedCycle, detectAllCycles, detectAllDirectedCycle, detectAllUndirectedCycle, depthFirstSearch, dijkstra, findAllPath, findShortestPath, floydWarshall, labelPropagation, louvain, iLouvain, kCore, kMeans, cosineSimilarity, nodesCosineSimilarity, minimumSpanningTree, pageRank, getNeighbors, Stack, GADDI };\nexport default {\n  getAdjMatrix: getAdjMatrix,\n  breadthFirstSearch: breadthFirstSearch,\n  connectedComponent: connectedComponent,\n  getDegree: getDegree,\n  getInDegree: getInDegree,\n  getOutDegree: getOutDegree,\n  detectCycle: detectCycle,\n  detectDirectedCycle: detectDirectedCycle,\n  detectAllCycles: detectAllCycles,\n  detectAllDirectedCycle: detectAllDirectedCycle,\n  detectAllUndirectedCycle: detectAllUndirectedCycle,\n  depthFirstSearch: depthFirstSearch,\n  dijkstra: dijkstra,\n  findAllPath: findAllPath,\n  findShortestPath: findShortestPath,\n  floydWarshall: floydWarshall,\n  labelPropagation: labelPropagation,\n  louvain: louvain,\n  iLouvain: iLouvain,\n  kCore: kCore,\n  kMeans: kMeans,\n  cosineSimilarity: cosineSimilarity,\n  nodesCosineSimilarity: nodesCosineSimilarity,\n  minimumSpanningTree: minimumSpanningTree,\n  pageRank: pageRank,\n  getNeighbors: getNeighbors,\n  Stack: Stack,\n  GADDI: GADDI\n};","import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.hammer=e():t.hammer=e()}(self,(function(){return function(){\"use strict\";var t={d:function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r:function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})}},e={};function n(t,e){return void 0===t?e:t}t.r(e),t.d(e,{default:function(){return ke}});var r,o,i=Math.round,u=Math.abs,c=Date.now,a=\"compute\",s=\"auto\",f=\"manipulation\",l=\"none\",p=\"pan-x\",y=\"pan-y\",h=(r={},[\"auto\",\"manipulation\",\"pan-y\",\"pan-x\",\"pan-x pan-y\",\"none\"].forEach((function(t){return r[t]=!0})),r),v=\"touch\",b=[\"x\",\"y\"],d=[\"clientX\",\"clientY\"],m=32;o=\"function\"!=typeof Object.assign?function(t){if(null==t)throw new TypeError(\"Cannot convert undefined or null to object\");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}return e}:Object.assign;var g=o,O=1;function w(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function T(t,e,n){return!!Array.isArray(t)&&(w(t,n[e],n),!0)}function j(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function P(t){return P=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},P(t)}function _(t,e){return\"function\"===P(t)?t.apply(e&&e[0]||void 0,e):t}function E(t,e){var n=e.manager;return n?n.get(t):t}function R(t){return 16&t?\"cancel\":8&t?\"end\":4&t?\"move\":2&t?\"start\":\"\"}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var k=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.options=g({},this.defaults,e||{}),this.id=O++,this.manager=null,this.options.enable=n(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}var e,r;return e=t,(r=[{key:\"set\",value:function(t){return g(this.options,t),this.manager&&this.manager.touchAction.update(),this}},{key:\"recognizeWith\",value:function(t){if(T(t,\"recognizeWith\",this))return this;var e=this.simultaneous;return e[(t=E(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this}},{key:\"dropRecognizeWith\",value:function(t){return T(t,\"dropRecognizeWith\",this)||(t=E(t,this),delete this.simultaneous[t.id]),this}},{key:\"requireFailure\",value:function(t){if(T(t,\"requireFailure\",this))return this;var e=this.requireFail;return-1===j(e,t=E(t,this))&&(e.push(t),t.requireFailure(this)),this}},{key:\"dropRequireFailure\",value:function(t){if(T(t,\"dropRequireFailure\",this))return this;t=E(t,this);var e=j(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this}},{key:\"hasRequireFailures\",value:function(){return this.requireFail.length>0}},{key:\"canRecognizeWith\",value:function(t){return!!this.simultaneous[t.id]}},{key:\"emit\",value:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+R(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+R(n))}},{key:\"tryEmit\",value:function(t){if(this.canEmit())return this.emit(t);this.state=m}},{key:\"canEmit\",value:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0}},{key:\"recognize\",value:function(t){var e=g({},t);if(!_(this.options.enable,[this,e]))return this.reset(),void(this.state=m);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)}},{key:\"process\",value:function(t){}},{key:\"getTouchAction\",value:function(){}},{key:\"reset\",value:function(){}}])&&S(e.prototype,r),Object.defineProperty(e,\"prototype\",{writable:!1}),t}();function x(t){return x=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},x(t)}function D(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function I(t,e){return I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},I(t,e)}function C(t,e){if(e&&(\"object\"===x(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},z(t)}k.prototype.defaults={};var N=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&I(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=z(r);if(o){var n=z(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return C(this,t)});function u(){return D(this,u),i.apply(this,arguments)}return e=u,(n=[{key:\"attrTest\",value:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e}},{key:\"process\",value:function(t){var e=this.state,n=t.eventType,r=6&e,o=this.attrTest(t);return r&&(8&n||!o)?16|e:r||o?4&n?8|e:2&e?4|e:2:m}}])&&A(e.prototype,n),Object.defineProperty(e,\"prototype\",{writable:!1}),u}(k);function X(t){return X=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},X(t)}function Y(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function B(){return B=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=M(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},B.apply(this,arguments)}function M(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=W(t)););return t}function q(t,e){return q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},q(t,e)}function L(t,e){if(e&&(\"object\"===X(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}N.prototype.defaults={pointers:1};var U=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&q(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=W(r);if(o){var n=W(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return L(this,t)});function u(){return Y(this,u),i.apply(this,arguments)}return e=u,(n=[{key:\"getTouchAction\",value:function(){return[l]}},{key:\"attrTest\",value:function(t){return B(W(u.prototype),\"attrTest\",this).call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}])&&F(e.prototype,n),Object.defineProperty(e,\"prototype\",{writable:!1}),u}(N);function V(t){return V=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},V(t)}function H(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z(){return Z=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=$(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Z.apply(this,arguments)}function $(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Q(t)););return t}function J(t,e){return J=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},J(t,e)}function K(t,e){if(e&&(\"object\"===V(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}function Q(t){return Q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Q(t)}U.prototype.defaults={event:\"rotate\",threshold:0,pointers:2};var tt=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&J(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Q(r);if(o){var n=Q(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return K(this,t)});function u(){return H(this,u),i.apply(this,arguments)}return e=u,(n=[{key:\"getTouchAction\",value:function(){return[l]}},{key:\"attrTest\",value:function(t){return Z(Q(u.prototype),\"attrTest\",this).call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)}},{key:\"emit\",value:function(t){if(1!==t.scale){var e=t.scale<1?\"in\":\"out\";t.additionalEvent=this.options.event+e}Z(Q(u.prototype),\"emit\",this).call(this,t)}}])&&G(e.prototype,n),Object.defineProperty(e,\"prototype\",{writable:!1}),u}(N);function et(t){return 16===t?\"down\":8===t?\"up\":2===t?\"left\":4===t?\"right\":\"\"}function nt(t){return nt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},nt(t)}function rt(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function it(){return it=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=ut(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},it.apply(this,arguments)}function ut(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=st(t)););return t}function ct(t,e){return ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ct(t,e)}function at(t,e){if(e&&(\"object\"===nt(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}function st(t){return st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},st(t)}tt.prototype.defaults={event:\"pinch\",threshold:0,pointers:2};var ft=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&ct(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=st(r);if(o){var n=st(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return at(this,t)});function u(){var t;return rt(this,u),(t=i.apply(this,arguments)).pX=null,t.pY=null,t}return e=u,(n=[{key:\"getTouchAction\",value:function(){var t=this.options.direction,e=[];return 6&t&&e.push(y),24&t&&e.push(p),e}},{key:\"directionTest\",value:function(t){var e=this.options,n=!0,r=t.distance,o=t.direction,i=t.deltaX,u=t.deltaY;return o&e.direction||(6&e.direction?(o=0===i?1:i<0?2:4,n=i!==this.pX,r=Math.abs(t.deltaX)):(o=0===u?1:u<0?8:16,n=u!==this.pY,r=Math.abs(t.deltaY))),t.direction=o,n&&r>e.threshold&&o&e.direction}},{key:\"attrTest\",value:function(t){return N.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))}},{key:\"emit\",value:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=et(t.direction);e&&(t.additionalEvent=this.options.event+e),it(st(u.prototype),\"emit\",this).call(this,t)}}])&&ot(e.prototype,n),Object.defineProperty(e,\"prototype\",{writable:!1}),u}(N);function lt(t){return lt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},lt(t)}function pt(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ht(){return ht=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=vt(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ht.apply(this,arguments)}function vt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=mt(t)););return t}function bt(t,e){return bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},bt(t,e)}function dt(t,e){if(e&&(\"object\"===lt(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}function mt(t){return mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},mt(t)}ft.prototype.defaults={event:\"pan\",threshold:10,pointers:1,direction:30};var gt=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&bt(t,e)}(c,t);var e,n,r,o,i=(r=c,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mt(r);if(o){var n=mt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return dt(this,t)});function c(){return pt(this,c),i.apply(this,arguments)}return e=c,(n=[{key:\"getTouchAction\",value:function(){return ft.prototype.getTouchAction.call(this)}},{key:\"attrTest\",value:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),ht(mt(c.prototype),\"attrTest\",this).call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers===this.options.pointers&&u(e)>this.options.velocity&&4&t.eventType}},{key:\"emit\",value:function(t){var e=et(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}])&&yt(e.prototype,n),Object.defineProperty(e,\"prototype\",{writable:!1}),c}(N);function Ot(t,e){return function(){return t.apply(e,arguments)}}function wt(t,e,n){return setTimeout(Ot(t,n),e)}function Tt(t,e,n){n||(n=b);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(r*r+o*o)}function jt(t){return jt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},jt(t)}function Pt(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Et(t,e){return Et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Et(t,e)}function Rt(t,e){if(e&&(\"object\"===jt(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}function St(t){return St=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},St(t)}gt.prototype.defaults={event:\"swipe\",threshold:10,velocity:.3,direction:30,pointers:1};var kt=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Et(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=St(r);if(o){var n=St(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Rt(this,t)});function u(){var t;return Pt(this,u),(t=i.apply(this,arguments)).pTime=!1,t.pCenter=!1,t._timer=null,t._input=null,t.count=0,t}return e=u,(n=[{key:\"getTouchAction\",value:function(){return[f]}},{key:\"process\",value:function(t){var e=this,n=this.options,r=t.pointers.length===n.pointers,o=t.distance<n.threshold,i=t.deltaTime<n.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(o&&i&&r){if(4!==t.eventType)return this.failTimeout();var u=!this.pTime||t.timeStamp-this.pTime<n.interval,c=!this.pCenter||Tt(this.pCenter,t.center)<n.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,c&&u?this.count+=1:this.count=1,this._input=t,0==this.count%n.taps)return this.hasRequireFailures()?(this._timer=wt((function(){e.state=8,e.tryEmit()}),n.interval,this),2):8}return m}},{key:\"failTimeout\",value:function(){var t=this;return this._timer=wt((function(){t.state=m}),this.options.interval,this),m}},{key:\"reset\",value:function(){clearTimeout(this._timer),this._timer=null}},{key:\"emit\",value:function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}])&&_t(e.prototype,n),Object.defineProperty(e,\"prototype\",{writable:!1}),u}(k);function xt(t){return xt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},xt(t)}function Dt(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function At(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function It(t,e){return It=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},It(t,e)}function Ct(t,e){if(e&&(\"object\"===xt(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}function zt(t){return zt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zt(t)}kt.prototype.defaults={event:\"tap\",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10};var Nt=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&It(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=zt(r);if(o){var n=zt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ct(this,t)});function u(){var t;return Dt(this,u),(t=i.apply(this,arguments))._timer=null,t._input=null,t}return e=u,(n=[{key:\"getTouchAction\",value:function(){return[s]}},{key:\"process\",value:function(t){var e=this,n=this.options,r=t.pointers.length===n.pointers,o=t.distance<n.threshold,i=t.deltaTime>n.time;if(this._input=t,!o||!r||12&t.eventType&&!i)this.reset();else if(1&t.eventType)this.reset(),this._timer=wt((function(){e.state=8,e.tryEmit()}),n.time,this);else if(4&t.eventType)return 8;return m}},{key:\"reset\",value:function(){clearTimeout(this._timer),this._timer=null}},{key:\"emit\",value:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(\"\".concat(this.options.event,\"up\"),t):(this._input.timeStamp=c(),this.manager.emit(this.options.event,this._input)))}}])&&At(e.prototype,n),Object.defineProperty(e,\"prototype\",{writable:!1}),u}(k);function Xt(t,e){return t.indexOf(e)>-1}function Yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Nt.prototype.defaults={event:\"press\",pointers:1,time:251,threshold:9};var Ft=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.manager=e,this.set(n)}var e,n;return e=t,(n=[{key:\"set\",value:function(t){t===a&&(t=this.compute()),this.actions=t.toLowerCase().trim()}},{key:\"update\",value:function(){this.set(this.manager.options.touchAction)}},{key:\"compute\",value:function(){var t=[];return w(this.manager.recognizers,(function(e){_(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(Xt(t,l))return l;var e=Xt(t,p),n=Xt(t,y);return e&&n?l:e||n?e?p:y:Xt(t,f)?f:s}(t.join(\" \"))}},{key:\"preventDefaults\",value:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,o=Xt(r,l)&&!h.none,i=Xt(r,y)&&!h[\"pan-y\"],u=Xt(r,p)&&!h[\"pan-x\"];if(o){var c=1===t.pointers.length,a=t.distance<2,s=t.deltaTime<250;if(c&&a&&s)return}if(!u||!i)return o||i&&6&n||u&&24&n?this.preventSrc(e):void 0}}},{key:\"preventSrc\",value:function(t){this.manager.session.prevented=!0,t.preventDefault()}}])&&Yt(e.prototype,n),Object.defineProperty(e,\"prototype\",{writable:!1}),t}();function Bt(t){var e=t.length;if(1===e)return{x:i(t[0].clientX),y:i(t[0].clientY)};for(var n=0,r=0,o=0;o<e;)n+=t[o].clientX,r+=t[o].clientY,o++;return{x:i(n/e),y:i(r/e)}}function Mt(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:i(t.pointers[n].clientX),clientY:i(t.pointers[n].clientY)},n++;return{timeStamp:c(),pointers:e,center:Bt(e),deltaX:t.deltaX,deltaY:t.deltaY}}function qt(t,e,n){n||(n=b);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return 180*Math.atan2(o,r)/Math.PI}function Lt(t,e){return t===e?1:u(t)>=u(e)?t<0?2:4:e<0?8:16}function Wt(t,e,n){return{x:e/t||0,y:n/t||0}}function Ut(t,e,n){var r=n.pointers.length,o=n.changedPointers.length,i=1&e&&r-o==0,a=12&e&&r-o==0;n.isFirst=!!i,n.isFinal=!!a,i&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,o=r.length;n.firstInput||(n.firstInput=Mt(e)),o>1&&!n.firstMultiple?n.firstMultiple=Mt(e):1===o&&(n.firstMultiple=!1);var i=n.firstInput,a=n.firstMultiple,s=a?a.center:i.center,f=e.center=Bt(r);e.timeStamp=c(),e.deltaTime=e.timeStamp-i.timeStamp,e.angle=qt(s,f),e.distance=Tt(s,f),function(t,e){var n=e.center,r=t.offsetDelta||{},o=t.prevDelta||{},i=t.prevInput||{};1!==e.eventType&&4!==i.eventType||(o=t.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=o.x+(n.x-r.x),e.deltaY=o.y+(n.y-r.y)}(n,e),e.offsetDirection=Lt(e.deltaX,e.deltaY);var l,p,y=Wt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=y.x,e.overallVelocityY=y.y,e.overallVelocity=u(y.x)>u(y.y)?y.x:y.y,e.scale=a?(l=a.pointers,Tt((p=r)[0],p[1],d)/Tt(l[0],l[1],d)):1,e.rotation=a?function(t,e){return qt(e[1],e[0],d)+qt(t[1],t[0],d)}(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,o,i,c=t.lastInterval||e,a=e.timeStamp-c.timeStamp;if(8!==e.eventType&&(a>25||void 0===c.velocity)){var s=e.deltaX-c.deltaX,f=e.deltaY-c.deltaY,l=Wt(a,s,f);r=l.x,o=l.y,n=u(l.x)>u(l.y)?l.x:l.y,i=Lt(s,f),t.lastInterval=e}else n=c.velocity,r=c.velocityX,o=c.velocityY,i=c.direction;e.velocity=n,e.velocityX=r,e.velocityY=o,e.direction=i}(n,e)}(t,n),t.emit(\"hammer.input\",n),t.recognize(n),t.session.prevInput=n}function Vt(t){return t.trim().split(/\\s+/g)}function Ht(t,e,n){w(Vt(e),(function(e){t.addEventListener(e,n,!1)}))}function Gt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Zt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var r=this;this.manager=e,this.callback=n,this.eventHandler=function(t){_(e.options.enable,[e])&&r.handler(t)},this.init()}var e,n;return e=t,(n=[{key:\"handler\",value:function(){}},{key:\"init\",value:function(){var t,e,n;t=this.manager,e=this.events||\"\",n=this.eventHandler,w(Vt(e),(function(e){t.on(\"origin_input:\".concat(e),n)}))}},{key:\"destroy\",value:function(){removeManagerListeners(this.manager,this.events||\"\",this.eventHandler)}}])&&Gt(e.prototype,n),Object.defineProperty(e,\"prototype\",{writable:!1}),t}();function $t(t){return Array.prototype.slice.call(t,0)}function Jt(t,e,n){for(var r=[],o=[],i=0;i<t.length;){var u=e?t[i][e]:t[i];j(o,u)<0&&r.push(t[i]),o[i]=u,i++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function Kt(t){return Kt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Kt(t)}function Qt(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function te(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ee(t,e){return ee=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ee(t,e)}function ne(t,e){if(e&&(\"object\"===Kt(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}function re(t){return re=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},re(t)}var oe={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ie=\"touchstart touchmove touchend touchcancel\",ue=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&ee(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=re(r);if(o){var n=re(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ne(this,t)});function u(){var t;return Qt(this,u),u.prototype.evTarget=ie,u.prototype.targetIds={},u.prototype.events=ie,(t=i.apply(this,arguments)).evTarget=ie,t.targetIds={},t}return e=u,(n=[{key:\"handler\",value:function(t){var e=oe[t.type],n=ce.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:v,srcEvent:t})}}])&&te(e.prototype,n),Object.defineProperty(e,\"prototype\",{writable:!1}),u}(Zt);function ce(t,e){var n,r,o=$t(t.touches),i=this.targetIds;if(3&e&&1===o.length)return i[o[0].identifier]=!0,[o,o];var u=$t(t.changedTouches),c=[];if(this.target,r=o,1===e)for(n=0;n<r.length;)i[r[n].identifier]=!0,n++;for(n=0;n<u.length;)i[u[n].identifier]&&c.push(u[n]),12&e&&delete i[u[n].identifier],n++;return c.length?[Jt(r.concat(c),\"identifier\",!0),c]:void 0}function ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var se=function(){function t(e){var n,r=this;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.options=g({},pe.defaults,e||{}),this.handlers={},this.filters=[],this.session={},this.recognizers=[],this.input=(n=ue,this.options.inputClass&&(n=inputClass),new n(this,Ut)),this.touchAction=new Ft(this,this.options.touchAction),w(this.options.recognizers,(function(t){var e=r.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}var e,n;return e=t,(n=[{key:\"set\",value:function(t){return g(this.options,t),t.touchAction&&this.touchAction.update(),this}},{key:\"stop\",value:function(t){this.session.stopped=t?2:1}},{key:\"addFilter\",value:function(t){if(\"function\"!=typeof t)throw new Error(\"filter must be a function\");this.filters.push(t)}},{key:\"recognize\",value:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,o=e.curRecognizer;(!o||o&&8&o.state)&&(o=e.curRecognizer=null);for(var i=0;i<r.length;)n=r[i],2===e.stopped||o&&n!==o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&14&n.state&&(o=e.curRecognizer=n),i++}}},{key:\"get\",value:function(t){if(t instanceof k)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event===t)return e[n];return null}},{key:\"add\",value:function(t){if(T(t,\"add\",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t}},{key:\"remove\",value:function(t){if(T(t,\"remove\",this))return this;if(t=this.get(t)){var e=this.recognizers,n=j(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this}},{key:\"on\",value:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return w(Vt(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}}},{key:\"off\",value:function(t,e){if(void 0!==t){var n=this.handlers;return w(Vt(t),(function(t){e?n[t]&&n[t].splice(j(n[t],e),1):delete n[t]})),this}}},{key:\"emit\",value:function(t,e){var n=this.handlers[t]&&this.handlers[t].slice();if(this.filters,n&&n.length){t.startsWith(\"origin_input\")||(e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault&&e.srcEvent.preventDefault()});for(var r=0;r<n.length;)n[r](e),r++}}},{key:\"destroy\",value:function(){this.handlers={},this.filters=[],this.session={},this.input.destroy()}}])&&ae(e.prototype,n),Object.defineProperty(e,\"prototype\",{writable:!1}),t}();function fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function le(t,e,n){return e&&fe(t.prototype,e),n&&fe(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}var pe=le((function t(e){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),(e=e||{}).recognizers=n(e.recognizers,t.defaults.preset),new se(e)}));function ye(t){return ye=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},ye(t)}function he(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function ve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function be(t,e){return be=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},be(t,e)}function de(t,e){if(e&&(\"object\"===ye(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}function me(t){return me=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},me(t)}pe.defaults={domEvents:!1,touchAction:a,enable:!0,inputClass:null,preset:[[U,{enable:!1}],[tt,{enable:!1},[\"rotate\"]],[gt,{direction:6}],[ft,{direction:6},[\"swipe\"]],[kt],[kt,{event:\"doubletap\",taps:2},[\"tap\"]],[Nt]]};var ge={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Oe={2:v,3:\"pen\",4:\"mouse\",5:\"kinect\"},we=\"pointerdown\",Te=\"pointermove pointerup pointercancel\",je=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&be(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=me(r);if(o){var n=me(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return de(this,t)});function u(){var t;return he(this,u),u.prototype.events=\"\".concat(we,\" \").concat(Te),(t=i.apply(this,arguments)).evEl=we,t.evWin=Te,t.store=t.manager.session.pointerEvents=[],t}return e=u,(n=[{key:\"handler\",value:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace(\"ms\",\"\"),o=ge[r],i=Oe[t.pointerType]||t.pointerType,u=i===v,c=j(e,t.pointerId,\"pointerId\");1&o&&(0===t.button||u)?c<0&&(e.push(t),c=e.length-1):12&o&&(n=!0),c<0||(e[c]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:i,srcEvent:t}),n&&e.splice(c,1))}}])&&ve(e.prototype,n),Object.defineProperty(e,\"prototype\",{writable:!1}),u}(Zt);function Pe(t,e,n){w(Vt(e),(function(e){t.removeEventListener(e,n,!1)}))}function _e(t,e,n){var r=\"DEPRECATED METHOD: \".concat(e,\"\\n\").concat(n,\" AT \\n\");return function(){var e=new Error(\"get-stack-trace\"),n=e&&e.stack?e.stack.replace(/^[^\\(]+?[\\n$]/gm,\"\").replace(/^\\s+at\\s+/gm,\"\").replace(/^Object.<anonymous>\\s*\\(/gm,\"{anonymous}()@\"):\"Unknown Stack Trace\",o=console.warn;return o&&o(r,n),t.apply(this,arguments)}}var Ee=_e((function(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;)(!n||n&&void 0===t[r[o]])&&(t[r[o]]=e[r[o]]),o++;return t}),\"extend\",\"Use `assign`.\"),Re=Ee,Se=_e((function(t,e){return Re(t,e,!0)}),\"merge\",\"Use `assign`.\"),ke=g(pe,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:m,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:se,Input:Zt,TouchAction:Ft,TouchInput:ue,PointerEventInput:je,Recognizer:k,AttrRecognizer:N,Tap:kt,Pan:ft,Swipe:gt,Pinch:tt,Rotate:U,Press:Nt,on:Ht,off:Pe,each:w,merge:Se,extend:Re,assign:g,inherit:function(t,e,n){var r,o=e.prototype;(r=t.prototype=Object.create(o)).constructor=t,r._super=o,n&&g(r,n)},bindFn:Ot,toArray:$t,inArray:j,uniqueArray:Jt,splitStr:Vt,boolOrFn:_,hasParent:function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1},addEventListeners:Ht,removeEventListeners:Pe});return e}()}));\n//# sourceMappingURL=hammer.min.js.map","import { IPoint, TreeGraphData, Util } from '@antv/f6-core';\nimport { isNumber } from '@antv/util';\n\nconst { traverseTree } = Util;\n\n/**\n *  number | Function  return number  Function\n * @param  {number | Function}  value \n * @param  {number}  defaultV \n * @return {Function} \n */\nexport const proccessToFunc = (\n  value: number | Function,\n  defaultV?: number,\n): ((d?: any) => number) => {\n  let func;\n  if (!value) {\n    func = (d) => {\n      return defaultV || 1;\n    };\n  } else if (isNumber(value)) {\n    func = (d) => {\n      return value;\n    };\n  } else {\n    func = value;\n  }\n  return func;\n};\n\n/**\n *  GPU  maxEdgePerVetex\n * @param  {NodeConfig[]}  nodes \n * @param  {EdgeConfig[]}  edges \n * @return {Object}  maxEdgePerVetex \n */\nexport const buildTextureData = (\n  nodes,\n  edges,\n): {\n  array: Float32Array;\n  maxEdgePerVetex: number;\n} => {\n  const dataArray = [];\n  const nodeDict = [];\n  const mapIdPos = {};\n  let i = 0;\n  for (i = 0; i < nodes.length; i++) {\n    const n = nodes[i];\n    mapIdPos[n.id] = i;\n    dataArray.push(n.x);\n    dataArray.push(n.y);\n    dataArray.push(0);\n    dataArray.push(0);\n    nodeDict.push([]);\n  }\n  for (i = 0; i < edges.length; i++) {\n    const e = edges[i];\n    nodeDict[mapIdPos[e.source]].push(mapIdPos[e.target]);\n    nodeDict[mapIdPos[e.target]].push(mapIdPos[e.source]);\n  }\n\n  let maxEdgePerVetex = 0;\n  for (i = 0; i < nodes.length; i++) {\n    const offset = dataArray.length;\n    const dests = nodeDict[i];\n    const len = dests.length;\n    dataArray[i * 4 + 2] = offset;\n    dataArray[i * 4 + 3] = dests.length;\n    maxEdgePerVetex = Math.max(maxEdgePerVetex, dests.length);\n    for (let j = 0; j < len; ++j) {\n      const dest = dests[j];\n      dataArray.push(+dest);\n    }\n  }\n\n  while (dataArray.length % 4 !== 0) {\n    dataArray.push(0);\n  }\n  return {\n    array: new Float32Array(dataArray),\n    maxEdgePerVetex,\n  };\n};\n\n/**\n *  GPU  maxEdgePerVetex\n * @param  {NodeConfig[]}  nodes \n * @param  {EdgeConfig[]}  edges \n * @param  {Function}  attrs \n * @return {Object}  maxEdgePerVetex \n */\nexport const buildTextureDataWithOneEdgeAttr = (\n  nodes,\n  edges,\n  attrs: Function,\n): {\n  array: Float32Array;\n  maxEdgePerVetex: number;\n} => {\n  const dataArray = [];\n  const nodeDict = [];\n  const mapIdPos = {};\n  let i = 0;\n  for (i = 0; i < nodes.length; i++) {\n    const n = nodes[i];\n    mapIdPos[n.id] = i;\n    dataArray.push(n.x);\n    dataArray.push(n.y);\n    dataArray.push(0);\n    dataArray.push(0);\n    nodeDict.push([]);\n  }\n  for (i = 0; i < edges.length; i++) {\n    const e = edges[i];\n    nodeDict[mapIdPos[e.source]].push(mapIdPos[e.target]);\n    nodeDict[mapIdPos[e.source]].push(attrs(e)); // \n    nodeDict[mapIdPos[e.target]].push(mapIdPos[e.source]);\n    nodeDict[mapIdPos[e.target]].push(attrs(e)); // \n  }\n\n  let maxEdgePerVetex = 0;\n  for (i = 0; i < nodes.length; i++) {\n    const offset = dataArray.length;\n    const dests = nodeDict[i]; // dest  id  id\n    const len = dests.length;\n    dataArray[i * 4 + 2] = offset;\n    dataArray[i * 4 + 3] = len / 2; // \n    maxEdgePerVetex = Math.max(maxEdgePerVetex, len / 2);\n    for (let j = 0; j < len; ++j) {\n      const dest = dests[j];\n      dataArray.push(+dest);\n    }\n  }\n\n  //  4  0\n  while (dataArray.length % 4 !== 0) {\n    dataArray.push(0);\n  }\n  return {\n    array: new Float32Array(dataArray),\n    maxEdgePerVetex,\n  };\n};\n\n/**\n *  GPU  maxEdgePerVetex\n * @param  {NodeConfig[]}  nodes \n * @param  {EdgeConfig[]}  edges \n * @param  {Function}  attrs \n * @return {Object}  maxEdgePerVetex \n */\nexport const buildTextureDataWithTwoEdgeAttr = (\n  nodes,\n  edges,\n  attrs1: Function,\n  attrs2: Function,\n): {\n  array: Float32Array;\n  maxEdgePerVetex: number;\n} => {\n  const dataArray = [];\n  const nodeDict = [];\n  const mapIdPos = {};\n  let i = 0;\n  for (i = 0; i < nodes.length; i++) {\n    const n = nodes[i];\n    mapIdPos[n.id] = i;\n    dataArray.push(n.x);\n    dataArray.push(n.y);\n    dataArray.push(0);\n    dataArray.push(0);\n    nodeDict.push([]);\n  }\n  for (i = 0; i < edges.length; i++) {\n    const e = edges[i];\n    nodeDict[mapIdPos[e.source]].push(mapIdPos[e.target]);\n    nodeDict[mapIdPos[e.source]].push(attrs1(e));\n    nodeDict[mapIdPos[e.source]].push(attrs2(e));\n    nodeDict[mapIdPos[e.source]].push(0);\n    nodeDict[mapIdPos[e.target]].push(mapIdPos[e.source]);\n    nodeDict[mapIdPos[e.target]].push(attrs1(e));\n    nodeDict[mapIdPos[e.target]].push(attrs2(e));\n    nodeDict[mapIdPos[e.target]].push(0);\n  }\n\n  let maxEdgePerVetex = 0;\n  for (i = 0; i < nodes.length; i++) {\n    const offset = dataArray.length;\n    const dests = nodeDict[i]; // dest  id  id\n    const len = dests.length;\n    // dataArray[i * 4 + 2] = offset;\n    // dataArray[i * 4 + 3] = len / 4; // \n    // pack offset & length into float32: offset 20bit, length 12bit\n    dataArray[i * 4 + 2] = offset + (1048576 * len) / 4;\n    dataArray[i * 4 + 3] = 0; // \n    maxEdgePerVetex = Math.max(maxEdgePerVetex, len / 4);\n    for (let j = 0; j < len; ++j) {\n      const dest = dests[j];\n      dataArray.push(+dest);\n    }\n  }\n\n  //  4  0\n  while (dataArray.length % 4 !== 0) {\n    dataArray.push(0);\n  }\n  return {\n    array: new Float32Array(dataArray),\n    maxEdgePerVetex,\n  };\n};\n/**\n * transform the extended attributes of nodes or edges to a texture array\n * @param  {string[]}  attributeNames attributes' name to be read from items and put into output array\n * @param  {ModelConfig[]}  items the items to be read\n * @return {Float32Array} the attributes' value array to be read by GPU\n */\nexport const attributesToTextureData = (\n  attributeNames: string[],\n  items,\n): { array: Float32Array; count: number } => {\n  const dataArray = [];\n  const attributeNum = attributeNames.length;\n  const attributteStringMap = {};\n  items.forEach((item) => {\n    attributeNames.forEach((name, i) => {\n      if (attributteStringMap[item[name]] === undefined) {\n        attributteStringMap[item[name]] = Object.keys(attributteStringMap).length;\n      }\n      dataArray.push(attributteStringMap[item[name]]);\n      // insure each node's attributes take inter number of grids\n      if (i === attributeNum - 1) {\n        while (dataArray.length % 4 !== 0) {\n          dataArray.push(0);\n        }\n      }\n    });\n  });\n  return {\n    array: new Float32Array(dataArray),\n    count: Object.keys(attributteStringMap).length,\n  };\n};\n\n/**\n * transform the number array format of extended attributes of nodes or edges to a texture array\n * @param  {string[]}  attributeNames attributes' name to be read from items and put into output array\n * @return {Float32Array} the attributes' value array to be read by GPU\n */\nexport const arrayToTextureData = (valueArrays: number[][]): Float32Array => {\n  const dataArray = [];\n  const attributeNum = valueArrays.length;\n  const itemNum = valueArrays[0].length;\n  for (let j = 0; j < itemNum; j++) {\n    valueArrays.forEach((valueArray, i) => {\n      dataArray.push(valueArray[j]);\n      // insure each node's attributes take inter number of grids\n      if (i === attributeNum - 1) {\n        while (dataArray.length % 4 !== 0) {\n          dataArray.push(0);\n        }\n      }\n    });\n  }\n\n  return new Float32Array(dataArray);\n};\n\nexport type TreeGraphDataWithPosition = TreeGraphData & {\n  x: number;\n  y: number;\n  children?: TreeGraphDataWithPosition[];\n};\n\n/**\n *\n * @param data Tree graph data\n * @param layout\n */\nexport const radialLayout = (\n  data: TreeGraphDataWithPosition,\n  layout?: string,\n): TreeGraphDataWithPosition => {\n  //  H / V / LR / RL / TB / BT\n  const VERTICAL_LAYOUTS: string[] = ['V', 'TB', 'BT'];\n  const min: IPoint = {\n    x: Infinity,\n    y: Infinity,\n  };\n\n  const max: IPoint = {\n    x: -Infinity,\n    y: -Infinity,\n  };\n  // TBxradyr\n  let rScale: 'x' | 'y' = 'x';\n  let radScale: 'x' | 'y' = 'y';\n  if (layout && VERTICAL_LAYOUTS.indexOf(layout) >= 0) {\n    // yradxr\n    radScale = 'x';\n    rScale = 'y';\n  }\n  let count = 0;\n  traverseTree(data, (node: TreeGraphDataWithPosition) => {\n    count++;\n    if (node.x > max.x) {\n      max.x = node.x;\n    }\n    if (node.x < min.x) {\n      min.x = node.x;\n    }\n    if (node.y > max.y) {\n      max.y = node.y;\n    }\n    if (node.y < min.y) {\n      min.y = node.y;\n    }\n    return true;\n  });\n  const avgRad = (Math.PI * 2) / count;\n  const radDiff = max[radScale] - min[radScale];\n  if (radDiff === 0) {\n    return data;\n  }\n\n  traverseTree(data, (node) => {\n    const radial = ((node[radScale] - min[radScale]) / radDiff) * (Math.PI * 2 - avgRad) + avgRad;\n    const r = Math.abs(rScale === 'x' ? node.x - data.x : node.y - data.y);\n    node.x = r * Math.cos(radial);\n    node.y = r * Math.sin(radial);\n    return true;\n  });\n  return data;\n};\n","import * as ColorUtil from './color';\nimport * as LayoutUtil from './layout';\nimport { Util } from '@antv/f6-core';\n\nconst G6Util: any = { ...Util, ...ColorUtil, ...LayoutUtil };\n\nexport default G6Util;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { __assign, __rest } from \"tslib\";\nimport { registerNode, BaseGlobal as Global } from '@antv/f6-core';\nimport { deepMix } from '@antv/util'; // \n\nregisterNode('circle', {\n  // \n  options: {\n    size: Global.defaultNode.size,\n    style: {\n      x: 0,\n      y: 0,\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      }\n    },\n    // circle\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle\n      size: Global.defaultNode.linkPoints.size,\n      lineWidth: Global.defaultNode.linkPoints.lineWidth,\n      fill: Global.defaultNode.linkPoints.fill,\n      stroke: Global.defaultNode.linkPoints.stroke\n    },\n    // icon\n    icon: {\n      // icon false icon\n      show: false,\n      // icon\n      img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',\n      width: 20,\n      height: 20\n    },\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'circle',\n  // \n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var _a = this.getOptions(cfg).icon,\n        defaultIcon = _a === void 0 ? {} : _a;\n    var style = this.getShapeStyle(cfg);\n    var icon = deepMix({}, defaultIcon, cfg.icon);\n    var keyShape = group.addShape('circle', {\n      attrs: style,\n      className: \"\".concat(this.type, \"-keyShape\"),\n      draggable: true\n    });\n    var width = icon.width,\n        height = icon.height,\n        show = icon.show,\n        text = icon.text;\n\n    if (show) {\n      if (text) {\n        group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      } else {\n        group.addShape('image', {\n          attrs: __assign({\n            x: -width / 2,\n            y: -height / 2\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      }\n    }\n\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n\n  /**\n   * LinkPoints\n   * @param {Object} cfg data\n   * @param {Group} group Group\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = this.getOptions(cfg).linkPoints,\n        linkPoints = _a === void 0 ? {} : _a;\n\n    var top = linkPoints.top,\n        left = linkPoints.left,\n        right = linkPoints.right,\n        bottom = linkPoints.bottom,\n        markSize = linkPoints.size,\n        markR = linkPoints.r,\n        markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"bottom\", \"size\", \"r\"]);\n\n    var size = this.getSize(cfg);\n    var r = size[0] / 2;\n\n    if (left) {\n      // left circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: -r,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n\n    if (right) {\n      // right circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: r,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n\n    if (top) {\n      // top circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: -r,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n\n    if (bottom) {\n      // bottom circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: r,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-bottom',\n        name: 'link-point-bottom',\n        isAnchorPoint: true\n      });\n    }\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = deepMix({}, defaultStyle, strokeStyle);\n    var size = this.getSize(cfg);\n    var r = size[0] / 2;\n\n    var styles = __assign({\n      x: 0,\n      y: 0,\n      r: r\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var group = item.getContainer();\n    var size = this.getSize(cfg); //  cfg  cfg \n\n    var strokeStyle = {\n      stroke: cfg.color,\n      r: size[0] / 2\n    }; //  getShapeStyle update  style \n\n    var keyShape = item.get('keyShape');\n    var style = deepMix({}, keyShape.attr(), strokeStyle, cfg.style);\n    this.updateShape(cfg, item, style, true);\n    this.updateLinkPoints(cfg, group);\n  }\n}, 'single-node');","import { __assign, __rest } from \"tslib\";\nimport { mix } from '@antv/util';\nimport { registerNode, BaseGlobal as Global } from '@antv/f6-core';\nregisterNode('rect', {\n  // \n  options: {\n    size: [100, 30],\n    style: {\n      radius: 0,\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    // \n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      }\n    },\n    // circle\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle\n      size: Global.defaultNode.linkPoints.size,\n      lineWidth: Global.defaultNode.linkPoints.lineWidth,\n      fill: Global.defaultNode.linkPoints.fill,\n      stroke: Global.defaultNode.linkPoints.stroke\n    },\n    // icon\n    icon: {\n      // icon false icon\n      show: false,\n      // icon\n      img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',\n      width: 20,\n      height: 20\n    },\n    // \n    // anchorPoints: [{ x: 0, y: 0.5 }, { x: 1, y: 0.5 }]\n    anchorPoints: [[0, 0.5], [1, 0.5]],\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'rect',\n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('rect', {\n      attrs: style,\n      className: \"\".concat(this.type, \"-keyShape\"),\n      name: \"\".concat(this.type, \"-keyShape\"),\n      draggable: true\n    });\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n\n  /**\n   * LinkPoints\n   * @param {Object} cfg data\n   * @param {Group} group Group\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = this.getOptions(cfg).linkPoints,\n        linkPoints = _a === void 0 ? {} : _a;\n\n    var top = linkPoints.top,\n        left = linkPoints.left,\n        right = linkPoints.right,\n        bottom = linkPoints.bottom,\n        markSize = linkPoints.size,\n        markR = linkPoints.r,\n        markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"bottom\", \"size\", \"r\"]);\n\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n\n    if (left) {\n      // left circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: -width / 2,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n\n    if (right) {\n      // right circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: width / 2,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n\n    if (top) {\n      // top circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: -height / 2,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n\n    if (bottom) {\n      // bottom circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: height / 2,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-bottom',\n        name: 'link-point-bottom',\n        isAnchorPoint: true\n      });\n    }\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle);\n    var size = this.getSize(cfg);\n    var width = style.width || size[0];\n    var height = style.height || size[1];\n\n    var styles = __assign({\n      x: -width / 2,\n      y: -height / 2,\n      width: width,\n      height: height\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var group = item.getContainer(); //  cfg  cfg.style \n\n    var defaultStyle = this.getOptions({}).style;\n    var size = this.getSize(cfg);\n    var keyShape = item.get('keyShape');\n\n    if (!cfg.size) {\n      size[0] = keyShape.attr('width') || defaultStyle.width;\n      size[1] = keyShape.attr('height') || defaultStyle.height;\n    } //  cfg  cfg \n\n\n    var strokeStyle = {\n      stroke: cfg.color,\n      x: -size[0] / 2,\n      y: -size[1] / 2,\n      width: size[0],\n      height: size[1]\n    }; //  getShapeStyle update  style \n\n    var style = mix({}, defaultStyle, keyShape.attr(), strokeStyle);\n    style = mix(style, cfg.style);\n    this.updateShape(cfg, item, style, false);\n    this.updateLinkPoints(cfg, group);\n  }\n}, 'single-node');","import { __assign, __rest } from \"tslib\";\nimport { registerNode, BaseGlobal as Global } from '@antv/f6-core';\nimport { mix } from '@antv/util';\n/**\n * \n */\n\nregisterNode('ellipse', {\n  // \n  options: {\n    size: [80, 40],\n    style: {\n      x: 0,\n      y: 0,\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    // \n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      }\n    },\n    // circle\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle\n      size: Global.defaultNode.linkPoints.size,\n      lineWidth: Global.defaultNode.linkPoints.lineWidth,\n      fill: Global.defaultNode.linkPoints.fill,\n      stroke: Global.defaultNode.linkPoints.stroke\n    },\n    // icon\n    icon: {\n      // icon false icon\n      show: false,\n      // icon\n      img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',\n      width: 20,\n      height: 20\n    },\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'ellipse',\n  // \n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var _a = this.getOptions(cfg).icon,\n        icon = _a === void 0 ? {} : _a;\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('ellipse', {\n      attrs: style,\n      className: 'ellipse-keyShape',\n      name: 'ellipse-keyShape',\n      draggable: true\n    });\n    var width = icon.width,\n        height = icon.height,\n        show = icon.show,\n        text = icon.text;\n\n    if (show) {\n      if (text) {\n        group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      } else {\n        group.addShape('image', {\n          attrs: __assign({\n            x: -width / 2,\n            y: -height / 2\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      }\n    }\n\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n\n  /**\n   * LinkPoints\n   * @param {Object} cfg data\n   * @param {Group} group Group\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = this.getOptions(cfg).linkPoints,\n        linkPoints = _a === void 0 ? {} : _a;\n\n    var top = linkPoints.top,\n        left = linkPoints.left,\n        right = linkPoints.right,\n        bottom = linkPoints.bottom,\n        markSize = linkPoints.size,\n        markR = linkPoints.r,\n        markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"bottom\", \"size\", \"r\"]);\n\n    var size = this.getSize(cfg);\n    var rx = size[0] / 2;\n    var ry = size[1] / 2;\n\n    if (left) {\n      // left circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: -rx,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n\n    if (right) {\n      // right circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: rx,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n\n    if (top) {\n      // top circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: -ry,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n\n    if (bottom) {\n      // bottom circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: ry,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-bottom',\n        name: 'link-point-bottom',\n        isAnchorPoint: true\n      });\n    }\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle);\n    var size = this.getSize(cfg);\n    var rx = size[0] / 2;\n    var ry = size[1] / 2;\n\n    var styles = __assign({\n      x: 0,\n      y: 0,\n      rx: rx,\n      ry: ry\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var group = item.getContainer(); //  cfg  cfg.style \n\n    var defaultStyle = this.getOptions({}).style;\n    var size = this.getSize(cfg);\n    var strokeStyle = {\n      stroke: cfg.color,\n      rx: size[0] / 2,\n      ry: size[1] / 2\n    }; //  getShapeStyle update  style \n\n    var keyShape = item.get('keyShape');\n    var style = mix({}, defaultStyle, keyShape.attr(), strokeStyle);\n    style = mix(style, cfg.style);\n    this.updateShape(cfg, item, style, true);\n    this.updateLinkPoints(cfg, group);\n  }\n}, 'single-node');","import { __assign, __rest } from \"tslib\";\nimport { registerNode, BaseGlobal as Global } from '@antv/f6-core';\nimport { mix } from '@antv/util'; // shape\n\nregisterNode('diamond', {\n  // \n  options: {\n    size: [80, 80],\n    style: {\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    // \n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      }\n    },\n    // circle\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle\n      size: Global.defaultNode.linkPoints.size,\n      lineWidth: Global.defaultNode.linkPoints.lineWidth,\n      fill: Global.defaultNode.linkPoints.fill,\n      stroke: Global.defaultNode.linkPoints.stroke\n    },\n    // icon\n    icon: {\n      // icon false icon\n      show: false,\n      // icon\n      img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',\n      width: 20,\n      height: 20\n    },\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'diamond',\n  // \n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var _a = this.getOptions(cfg).icon,\n        icon = _a === void 0 ? {} : _a;\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('path', {\n      attrs: style,\n      className: \"\".concat(this.type, \"-keyShape\"),\n      name: \"\".concat(this.type, \"-keyShape\"),\n      draggable: true\n    });\n    var w = icon.width,\n        h = icon.height,\n        show = icon.show,\n        text = icon.text;\n\n    if (show) {\n      if (text) {\n        group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      } else {\n        group.addShape('image', {\n          attrs: __assign({\n            x: -w / 2,\n            y: -h / 2\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      }\n    }\n\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n\n  /**\n   * LinkPoints\n   * @param {Object} cfg data\n   * @param {Group} group Group\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = this.getOptions(cfg).linkPoints,\n        linkPoints = _a === void 0 ? {} : _a;\n\n    var top = linkPoints.top,\n        left = linkPoints.left,\n        right = linkPoints.right,\n        bottom = linkPoints.bottom,\n        markSize = linkPoints.size,\n        markR = linkPoints.r,\n        markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"bottom\", \"size\", \"r\"]);\n\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n\n    if (left) {\n      // left circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: -width / 2,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n\n    if (right) {\n      // right circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: width / 2,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n\n    if (top) {\n      // top circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: -height / 2,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n\n    if (bottom) {\n      // bottom circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: height / 2,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-bottom',\n        name: 'link-point-bottom',\n        isAnchorPoint: true\n      });\n    }\n  },\n  getPath: function getPath(cfg) {\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n    var path = [['M', 0, -height / 2], ['L', width / 2, 0], ['L', 0, height / 2], ['L', -width / 2, 0], ['Z'] // \n    ];\n    return path;\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle);\n    var path = this.getPath(cfg);\n\n    var styles = __assign({\n      path: path\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var group = item.getContainer(); //  cfg  cfg.style \n\n    var defaultStyle = this.getOptions({}).style;\n    var path = this.getPath(cfg); //  cfg  cfg \n\n    var strokeStyle = {\n      stroke: cfg.color,\n      path: path\n    }; //  getShapeStyle update  style \n\n    var keyShape = item.get('keyShape');\n    var style = mix({}, defaultStyle, keyShape.attr(), strokeStyle);\n    style = mix(style, cfg.style);\n    this.updateShape(cfg, item, style, true);\n    this.updateLinkPoints(cfg, group);\n  }\n}, 'single-node');","import { __assign, __rest } from \"tslib\";\nimport { registerNode, BaseGlobal as Global } from '@antv/f6-core';\nimport { mix } from '@antv/util'; // \n\nregisterNode('triangle', {\n  // \n  options: {\n    size: 40,\n    direction: 'up',\n    style: {\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      },\n      offset: 15\n    },\n    // circle\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle\n      size: Global.defaultNode.linkPoints.size,\n      lineWidth: Global.defaultNode.linkPoints.lineWidth,\n      fill: Global.defaultNode.linkPoints.fill,\n      stroke: Global.defaultNode.linkPoints.stroke\n    },\n    // icon\n    icon: {\n      // icon false icon\n      show: false,\n      // icon\n      img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',\n      width: 20,\n      height: 20,\n      offset: 6\n    },\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'triangle',\n  // \n  labelPosition: 'bottom',\n  drawShape: function drawShape(cfg, group) {\n    var _a = this.getOptions(cfg),\n        _b = _a.icon,\n        icon = _b === void 0 ? {} : _b,\n        defaultDirection = _a.direction;\n\n    var style = this.getShapeStyle(cfg);\n    var direction = cfg.direction || defaultDirection;\n    var keyShape = group.addShape('path', {\n      attrs: style,\n      className: \"\".concat(this.type, \"-keyShape\"),\n      name: \"\".concat(this.type, \"-keyShape\"),\n      draggable: true\n    });\n    var w = icon.width,\n        h = icon.height,\n        show = icon.show,\n        offset = icon.offset,\n        text = icon.text;\n\n    if (show) {\n      if (text) {\n        group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      } else {\n        var iconW = -w / 2;\n        var iconH = -h / 2;\n\n        if (direction === 'up' || direction === 'down') {\n          iconH += offset;\n        }\n\n        if (direction === 'left' || direction === 'right') {\n          iconW += offset;\n        }\n\n        group.addShape('image', {\n          attrs: __assign({\n            x: iconW,\n            y: iconH\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      }\n    }\n\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n\n  /**\n   * LinkPoints\n   * @param {Object} cfg data\n   * @param {Group} group Group\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = this.getOptions(cfg),\n        _b = _a.linkPoints,\n        linkPoints = _b === void 0 ? {} : _b,\n        defaultDirection = _a.direction;\n\n    var direction = cfg.direction || defaultDirection;\n\n    var top = linkPoints.top,\n        left = linkPoints.left,\n        right = linkPoints.right,\n        bottom = linkPoints.bottom,\n        markSize = linkPoints.size,\n        markR = linkPoints.r,\n        markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"bottom\", \"size\", \"r\"]);\n\n    var size = this.getSize(cfg);\n    var len = size[0];\n\n    if (left) {\n      // up down left right \n      var leftPos = null;\n      var diffY = len * Math.sin(1 / 3 * Math.PI);\n      var r = len * Math.sin(1 / 3 * Math.PI);\n\n      if (direction === 'up') {\n        leftPos = [-r, diffY];\n      } else if (direction === 'down') {\n        leftPos = [-r, -diffY];\n      } else if (direction === 'left') {\n        leftPos = [-r, r - diffY];\n      }\n\n      if (leftPos) {\n        // left circle\n        group.addShape('circle', {\n          attrs: __assign(__assign({}, markStyle), {\n            x: leftPos[0],\n            y: leftPos[1],\n            r: markSize / 2 || markR || 5\n          }),\n          className: 'link-point-left',\n          name: 'link-point-left'\n        });\n      }\n    }\n\n    if (right) {\n      // right circle\n      // up down left right \n      var rightPos = null;\n      var diffY = len * Math.sin(1 / 3 * Math.PI);\n      var r = len * Math.sin(1 / 3 * Math.PI);\n\n      if (direction === 'up') {\n        rightPos = [r, diffY];\n      } else if (direction === 'down') {\n        rightPos = [r, -diffY];\n      } else if (direction === 'right') {\n        rightPos = [r, r - diffY];\n      }\n\n      if (rightPos) {\n        group.addShape('circle', {\n          attrs: __assign(__assign({}, markStyle), {\n            x: rightPos[0],\n            y: rightPos[1],\n            r: markSize / 2 || markR || 5\n          }),\n          className: 'link-point-right',\n          name: 'link-point-right'\n        });\n      }\n    }\n\n    if (top) {\n      // up down left right \n      var topPos = null;\n      var diffY = len * Math.sin(1 / 3 * Math.PI);\n      var r = len * Math.sin(1 / 3 * Math.PI);\n\n      if (direction === 'up') {\n        topPos = [r - diffY, -diffY];\n      } else if (direction === 'left') {\n        topPos = [r, -diffY];\n      } else if (direction === 'right') {\n        topPos = [-r, -diffY];\n      }\n\n      if (topPos) {\n        // top circle\n        group.addShape('circle', {\n          attrs: __assign(__assign({}, markStyle), {\n            x: topPos[0],\n            y: topPos[1],\n            r: markSize / 2 || markR || 5\n          }),\n          className: 'link-point-top',\n          name: 'link-point-top'\n        });\n      }\n    }\n\n    if (bottom) {\n      // up down left right \n      var bottomPos = null;\n      var diffY = len * Math.sin(1 / 3 * Math.PI);\n      var r = len * Math.sin(1 / 3 * Math.PI);\n\n      if (direction === 'down') {\n        bottomPos = [-r + diffY, diffY];\n      } else if (direction === 'left') {\n        bottomPos = [r, diffY];\n      } else if (direction === 'right') {\n        bottomPos = [-r, diffY];\n      }\n\n      if (bottomPos) {\n        // bottom circle\n        group.addShape('circle', {\n          attrs: __assign(__assign({}, markStyle), {\n            x: bottomPos[0],\n            y: bottomPos[1],\n            r: markSize / 2 || markR || 5\n          }),\n          className: 'link-point-bottom',\n          name: 'link-point-bottom'\n        });\n      }\n    }\n  },\n  getPath: function getPath(cfg) {\n    var defaultDirection = this.getOptions(cfg).direction;\n    var direction = cfg.direction || defaultDirection;\n    var size = this.getSize(cfg);\n    var len = size[0];\n    var diffY = len * Math.sin(1 / 3 * Math.PI);\n    var r = len * Math.sin(1 / 3 * Math.PI);\n    var path = [['M', -r, diffY], ['L', 0, -diffY], ['L', r, diffY], ['Z'] // \n    ];\n\n    if (direction === 'down') {\n      path = [['M', -r, -diffY], ['L', r, -diffY], ['L', 0, diffY], ['Z'] // \n      ];\n    } else if (direction === 'left') {\n      path = [['M', -r, r - diffY], ['L', r, -r], ['L', r, r], ['Z'] // \n      ];\n    } else if (direction === 'right') {\n      path = [['M', r, r - diffY], ['L', -r, r], ['L', -r, -r], ['Z'] // \n      ];\n    }\n\n    return path;\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle);\n    var path = this.getPath(cfg);\n\n    var styles = __assign({\n      path: path\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var group = item.getContainer(); //  cfg  cfg.style \n\n    var defaultStyle = this.getOptions({}).style;\n    var path = this.getPath(cfg); //  cfg  cfg \n\n    var strokeStyle = {\n      stroke: cfg.color,\n      path: path\n    }; //  getShapeStyle update  style \n\n    var keyShape = item.get('keyShape');\n    var style = mix({}, defaultStyle, keyShape.attr(), strokeStyle);\n    style = mix(style, cfg.style);\n    this.updateShape(cfg, item, style, true);\n    this.updateLinkPoints(cfg, group);\n  },\n\n  /**\n   * linkPoints\n   * @param {Object} cfg \n   * @param {Group} group Itemgroup\n   */\n  updateLinkPoints: function updateLinkPoints(cfg, group) {\n    var _a = this.getOptions({}),\n        defaultLinkPoints = _a.linkPoints,\n        defaultDirection = _a.direction;\n\n    var direction = cfg.direction || defaultDirection;\n    var markLeft = group.find(function (element) {\n      return element.get('className') === 'link-point-left';\n    });\n    var markRight = group.find(function (element) {\n      return element.get('className') === 'link-point-right';\n    });\n    var markTop = group.find(function (element) {\n      return element.get('className') === 'link-point-top';\n    });\n    var markBottom = group.find(function (element) {\n      return element.get('className') === 'link-point-bottom';\n    });\n    var currentLinkPoints = defaultLinkPoints;\n    var existLinkPoint = markLeft || markRight || markTop || markBottom;\n\n    if (existLinkPoint) {\n      currentLinkPoints = existLinkPoint.attr();\n    }\n\n    var linkPoints = mix({}, currentLinkPoints, cfg.linkPoints);\n    var markFill = linkPoints.fill,\n        markStroke = linkPoints.stroke,\n        borderWidth = linkPoints.lineWidth;\n    var markSize = linkPoints.size / 2;\n    if (!markSize) markSize = linkPoints.r;\n\n    var _b = cfg.linkPoints ? cfg.linkPoints : {\n      left: undefined,\n      right: undefined,\n      top: undefined,\n      bottom: undefined\n    },\n        left = _b.left,\n        right = _b.right,\n        top = _b.top,\n        bottom = _b.bottom;\n\n    var size = this.getSize(cfg);\n    var len = size[0];\n    var styles = {\n      r: markSize,\n      fill: markFill,\n      stroke: markStroke,\n      lineWidth: borderWidth\n    };\n    var leftPos = null;\n    var diffY = len * Math.sin(1 / 3 * Math.PI);\n    var r = len * Math.sin(1 / 3 * Math.PI);\n\n    if (direction === 'up') {\n      leftPos = [-r, diffY];\n    } else if (direction === 'down') {\n      leftPos = [-r, -diffY];\n    } else if (direction === 'left') {\n      leftPos = [-r, r - diffY];\n    }\n\n    if (leftPos) {\n      if (markLeft) {\n        if (!left && left !== undefined) {\n          markLeft.remove();\n        } else {\n          markLeft.attr(__assign(__assign({}, styles), {\n            x: leftPos[0],\n            y: leftPos[1]\n          }));\n        }\n      } else if (left) {\n        group.addShape('circle', {\n          attrs: __assign(__assign({}, styles), {\n            x: leftPos[0],\n            y: leftPos[1]\n          }),\n          className: 'link-point-left',\n          name: 'link-point-left',\n          isAnchorPoint: true\n        });\n      }\n    }\n\n    var rightPos = null;\n\n    if (direction === 'up') {\n      rightPos = [r, diffY];\n    } else if (direction === 'down') {\n      rightPos = [r, -diffY];\n    } else if (direction === 'right') {\n      rightPos = [r, r - diffY];\n    }\n\n    if (rightPos) {\n      if (markRight) {\n        if (!right && right !== undefined) {\n          markRight.remove();\n        } else {\n          markRight.attr(__assign(__assign({}, styles), {\n            x: rightPos[0],\n            y: rightPos[1]\n          }));\n        }\n      } else if (right) {\n        group.addShape('circle', {\n          attrs: __assign(__assign({}, styles), {\n            x: rightPos[0],\n            y: rightPos[1]\n          }),\n          className: 'link-point-right',\n          name: 'link-point-right',\n          isAnchorPoint: true\n        });\n      }\n    }\n\n    var topPos = null;\n\n    if (direction === 'up') {\n      topPos = [r - diffY, -diffY];\n    } else if (direction === 'left') {\n      topPos = [r, -diffY];\n    } else if (direction === 'right') {\n      topPos = [-r, -diffY];\n    }\n\n    if (topPos) {\n      if (markTop) {\n        if (!top && top !== undefined) {\n          markTop.remove();\n        } else {\n          // top circle\n          markTop.attr(__assign(__assign({}, styles), {\n            x: topPos[0],\n            y: topPos[1]\n          }));\n        }\n      } else if (top) {\n        group.addShape('circle', {\n          attrs: __assign(__assign({}, styles), {\n            x: topPos[0],\n            y: topPos[1]\n          }),\n          className: 'link-point-top',\n          name: 'link-point-top',\n          isAnchorPoint: true\n        });\n      }\n    }\n\n    var bottomPos = null;\n\n    if (direction === 'down') {\n      bottomPos = [-r + diffY, diffY];\n    } else if (direction === 'left') {\n      bottomPos = [r, diffY];\n    } else if (direction === 'right') {\n      bottomPos = [-r, diffY];\n    }\n\n    if (bottomPos) {\n      if (markBottom) {\n        if (!bottom && bottom !== undefined) {\n          markBottom.remove();\n        } else {\n          markBottom.attr(__assign(__assign({}, styles), {\n            x: bottomPos[0],\n            y: bottomPos[1]\n          }));\n        }\n      } else if (bottom) {\n        group.addShape('circle', {\n          attrs: __assign(__assign({}, styles), {\n            x: bottomPos[0],\n            y: bottomPos[1]\n          }),\n          className: 'link-point-bottom',\n          name: 'link-point-bottom',\n          isAnchorPoint: true\n        });\n      }\n    }\n  }\n}, 'single-node');","import { __assign, __rest } from \"tslib\";\nimport { mix, isString } from '@antv/util';\nimport { registerNode, BaseGlobal as Global } from '@antv/f6-core';\nregisterNode('modelRect', {\n  // \n  options: {\n    size: [185, 70],\n    style: {\n      radius: 5,\n      stroke: '#69c0ff',\n      fill: '#ffffff',\n      lineWidth: Global.defaultNode.style.lineWidth,\n      fillOpacity: 1\n    },\n    // \n    labelCfg: {\n      style: {\n        fill: '#595959',\n        fontSize: 14\n      },\n      offset: 30 //  offset y \n\n    },\n    descriptionCfg: {\n      style: {\n        fontSize: 12,\n        fill: '#bfbfbf'\n      },\n      paddingTop: 0\n    },\n    preRect: {\n      show: true,\n      width: 4,\n      fill: '#40a9ff',\n      radius: 2\n    },\n    // circle\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle\n      size: 10,\n      lineWidth: 1,\n      fill: '#72CC4A',\n      stroke: '#72CC4A'\n    },\n    // icon\n    logoIcon: {\n      // icon false icon\n      show: true,\n      x: 0,\n      y: 0,\n      // icon\n      img: 'https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg',\n      width: 16,\n      height: 16,\n      // \n      offset: 0\n    },\n    // icon\n    stateIcon: {\n      // icon false icon\n      show: true,\n      x: 0,\n      y: 0,\n      // icon\n      img: 'https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg',\n      width: 16,\n      height: 16,\n      // \n      offset: -5\n    },\n    // \n    // anchorPoints: [{ x: 0, y: 0.5 }, { x: 1, y: 0.5 }]\n    anchorPoints: [[0, 0.5], [1, 0.5]]\n  },\n  shapeType: 'modelRect',\n  drawShape: function drawShape(cfg, group) {\n    var _a = this.getOptions(cfg).preRect,\n        preRect = _a === void 0 ? {} : _a;\n    var style = this.getShapeStyle(cfg);\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n    var keyShape = group.addShape('rect', {\n      attrs: style,\n      className: \"\".concat(this.type, \"-keyShape\"),\n      name: \"\".concat(this.type, \"-keyShape\"),\n      draggable: true\n    });\n\n    var preRectShow = preRect.show,\n        preRectStyle = __rest(preRect, [\"show\"]);\n\n    if (preRectShow) {\n      group.addShape('rect', {\n        attrs: __assign({\n          x: -width / 2,\n          y: -height / 2,\n          height: height\n        }, preRectStyle),\n        className: 'pre-rect',\n        name: 'pre-rect',\n        draggable: true\n      });\n    }\n\n    this.drawLogoIcon(cfg, group);\n    this.drawStateIcon(cfg, group);\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n\n  /**\n   * logo\n   * @param {Object} cfg \n   * @param {Group} group Group\n   */\n  drawLogoIcon: function drawLogoIcon(cfg, group) {\n    var _a = this.getOptions(cfg).logoIcon,\n        logoIcon = _a === void 0 ? {} : _a;\n    var size = this.getSize(cfg);\n    var width = size[0];\n\n    if (logoIcon.show) {\n      var w = logoIcon.width,\n          h = logoIcon.height,\n          x = logoIcon.x,\n          y = logoIcon.y,\n          offset = logoIcon.offset,\n          text = logoIcon.text,\n          logoIconStyle = __rest(logoIcon, [\"width\", \"height\", \"x\", \"y\", \"offset\", \"text\"]);\n\n      if (text) {\n        group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, logoIconStyle),\n          className: 'rect-logo-icon',\n          name: 'rect-logo-icon',\n          draggable: true\n        });\n      } else {\n        group.addShape('image', {\n          attrs: __assign(__assign({}, logoIconStyle), {\n            x: x || -width / 2 + w + offset,\n            y: y || -h / 2,\n            width: w,\n            height: h\n          }),\n          className: 'rect-logo-icon',\n          name: 'rect-logo-icon',\n          draggable: true\n        });\n      }\n    }\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @param {Group} group Group\n   */\n  drawStateIcon: function drawStateIcon(cfg, group) {\n    var _a = this.getOptions(cfg).stateIcon,\n        stateIcon = _a === void 0 ? {} : _a;\n    var size = this.getSize(cfg);\n    var width = size[0];\n\n    if (stateIcon.show) {\n      var w = stateIcon.width,\n          h = stateIcon.height,\n          x = stateIcon.x,\n          y = stateIcon.y,\n          offset = stateIcon.offset,\n          text = stateIcon.text,\n          iconStyle = __rest(stateIcon, [\"width\", \"height\", \"x\", \"y\", \"offset\", \"text\"]);\n\n      if (text) {\n        group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, iconStyle),\n          className: 'rect-state-icon',\n          name: 'rect-state-icon',\n          draggable: true\n        });\n      } else {\n        group.addShape('image', {\n          attrs: __assign(__assign({}, iconStyle), {\n            x: x || width / 2 - w + offset,\n            y: y || -h / 2,\n            width: w,\n            height: h\n          }),\n          className: 'rect-state-icon',\n          name: 'rect-state-icon',\n          draggable: true\n        });\n      }\n    }\n  },\n\n  /**\n   * LinkPoints\n   * @param {Object} cfg data\n   * @param {Group} group Group\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = this.getOptions(cfg).linkPoints,\n        linkPoints = _a === void 0 ? {} : _a;\n\n    var top = linkPoints.top,\n        left = linkPoints.left,\n        right = linkPoints.right,\n        bottom = linkPoints.bottom,\n        markSize = linkPoints.size,\n        markR = linkPoints.r,\n        markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"bottom\", \"size\", \"r\"]);\n\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n\n    if (left) {\n      // left circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: -width / 2,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n\n    if (right) {\n      // right circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: width / 2,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n\n    if (top) {\n      // top circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: -height / 2,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n\n    if (bottom) {\n      // bottom circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: height / 2,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-bottom',\n        name: 'link-point-bottom',\n        isAnchorPoint: true\n      });\n    }\n  },\n  drawLabel: function drawLabel(cfg, group) {\n    var _a = this.getOptions(cfg),\n        _b = _a.labelCfg,\n        labelCfg = _b === void 0 ? {} : _b,\n        _c = _a.logoIcon,\n        logoIcon = _c === void 0 ? {} : _c,\n        _d = _a.descriptionCfg,\n        descriptionCfg = _d === void 0 ? {} : _d;\n\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var label = null;\n    var show = logoIcon.show,\n        w = logoIcon.width;\n    var offsetX = -width / 2 + labelCfg.offset;\n\n    if (show) {\n      offsetX = -width / 2 + w + labelCfg.offset;\n    }\n\n    var fontStyle = labelCfg.style;\n    var descriptionStyle = descriptionCfg.style,\n        descriptionPaddingTop = descriptionCfg.paddingTop;\n\n    if (isString(cfg.description)) {\n      label = group.addShape('text', {\n        attrs: __assign(__assign({}, fontStyle), {\n          x: offsetX,\n          y: -5,\n          text: cfg.label\n        }),\n        className: 'text-shape',\n        name: 'text-shape',\n        draggable: true\n      });\n      group.addShape('text', {\n        attrs: __assign(__assign({}, descriptionStyle), {\n          x: offsetX,\n          y: 17 + (descriptionPaddingTop || 0),\n          text: cfg.description\n        }),\n        className: 'rect-description',\n        name: 'rect-description',\n        draggable: true\n      });\n    } else {\n      label = group.addShape('text', {\n        attrs: __assign(__assign({}, fontStyle), {\n          x: offsetX,\n          y: 7,\n          text: cfg.label\n        }),\n        className: 'text-shape',\n        name: 'text-shape',\n        draggable: true\n      });\n    }\n\n    return label;\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle);\n    var size = this.getSize(cfg);\n    var width = style.width || size[0];\n    var height = style.height || size[1];\n\n    var styles = __assign({\n      x: -width / 2,\n      y: -height / 2,\n      width: width,\n      height: height\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var _a = this.getOptions(cfg),\n        _b = _a.style,\n        style = _b === void 0 ? {} : _b,\n        _c = _a.labelCfg,\n        labelCfg = _c === void 0 ? {} : _c,\n        _d = _a.descriptionCfg,\n        descriptionCfg = _d === void 0 ? {} : _d;\n\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n    var keyShape = item.get('keyShape');\n    keyShape.attr(__assign(__assign({}, style), {\n      x: -width / 2,\n      y: -height / 2,\n      width: width,\n      height: height\n    }));\n    var group = item.getContainer();\n    var logoIconShape = group.find(function (element) {\n      return element.get('className') === 'rect-logo-icon';\n    });\n    var currentLogoIconAttr = logoIconShape ? logoIconShape.attr() : {};\n    var logoIcon = mix({}, currentLogoIconAttr, cfg.logoIcon);\n    var w = logoIcon.width;\n\n    if (w === undefined) {\n      w = this.options.logoIcon.width;\n    }\n\n    var show = cfg.logoIcon ? cfg.logoIcon.show : undefined;\n    var offset = labelCfg.offset;\n    var offsetX = -width / 2 + w + offset;\n\n    if (!show && show !== undefined) {\n      offsetX = -width / 2 + offset;\n    }\n\n    var label = group.find(function (element) {\n      return element.get('className') === 'node-label';\n    });\n    var description = group.find(function (element) {\n      return element.get('className') === 'rect-description';\n    });\n\n    if (cfg.label) {\n      if (!label) {\n        group.addShape('text', {\n          attrs: __assign(__assign({}, labelCfg.style), {\n            x: offsetX,\n            y: cfg.description ? -5 : 7,\n            text: cfg.label\n          }),\n          className: 'node-label',\n          name: 'node-label',\n          draggable: true\n        });\n      } else {\n        var cfgStyle = cfg.labelCfg ? cfg.labelCfg.style : {};\n        var labelStyle = mix({}, label.attr(), cfgStyle);\n        if (cfg.label) labelStyle.text = cfg.label;\n        labelStyle.x = offsetX;\n        if (isString(cfg.description)) labelStyle.y = -5;\n\n        if (description) {\n          description.resetMatrix();\n          description.attr({\n            x: offsetX\n          });\n        }\n\n        label.resetMatrix();\n        label.attr(labelStyle);\n      }\n    }\n\n    if (isString(cfg.description)) {\n      var paddingTop = descriptionCfg.paddingTop;\n\n      if (!description) {\n        group.addShape('text', {\n          attrs: __assign(__assign({}, descriptionCfg.style), {\n            x: offsetX,\n            y: 17 + (paddingTop || 0),\n            text: cfg.description\n          }),\n          className: 'rect-description',\n          name: 'rect-description',\n          draggable: true\n        });\n      } else {\n        var cfgStyle = cfg.descriptionCfg ? cfg.descriptionCfg.style : {};\n        var descriptionStyle = mix({}, description.attr(), cfgStyle);\n        if (isString(cfg.description)) descriptionStyle.text = cfg.description;\n        descriptionStyle.x = offsetX;\n        description.resetMatrix();\n        description.attr(__assign(__assign({}, descriptionStyle), {\n          y: 17 + (paddingTop || 0)\n        }));\n      }\n    }\n\n    var preRectShape = group.find(function (element) {\n      return element.get('className') === 'pre-rect';\n    });\n\n    if (preRectShape) {\n      var preRect = mix({}, preRectShape.attr(), cfg.preRect);\n      preRectShape.attr(__assign(__assign({}, preRect), {\n        x: -width / 2,\n        y: -height / 2,\n        height: height\n      }));\n    }\n\n    if (logoIconShape) {\n      if (!show && show !== undefined) {\n        logoIconShape.remove();\n      } else {\n        var logoW = logoIcon.width,\n            h = logoIcon.height,\n            x = logoIcon.x,\n            y = logoIcon.y,\n            logoOffset = logoIcon.offset,\n            logoIconStyle = __rest(logoIcon, [\"width\", \"height\", \"x\", \"y\", \"offset\"]);\n\n        logoIconShape.attr(__assign(__assign({}, logoIconStyle), {\n          x: x || -width / 2 + logoW + logoOffset,\n          y: y || -h / 2,\n          width: logoW,\n          height: h\n        }));\n      }\n    } else if (show) {\n      this.drawLogoIcon(cfg, group);\n    }\n\n    var stateIconShape = group.find(function (element) {\n      return element.get('className') === 'rect-state-icon';\n    });\n    var currentStateIconAttr = stateIconShape ? stateIconShape.attr() : {};\n    var stateIcon = mix({}, currentStateIconAttr, cfg.stateIcon);\n\n    if (stateIconShape) {\n      if (!stateIcon.show && stateIcon.show !== undefined) {\n        stateIconShape.remove();\n      }\n\n      var stateW = stateIcon.width,\n          h = stateIcon.height,\n          x = stateIcon.x,\n          y = stateIcon.y,\n          stateOffset = stateIcon.offset,\n          stateIconStyle = __rest(stateIcon, [\"width\", \"height\", \"x\", \"y\", \"offset\"]);\n\n      stateIconShape.attr(__assign(__assign({}, stateIconStyle), {\n        x: x || width / 2 - stateW + stateOffset,\n        y: y || -h / 2,\n        width: stateW,\n        height: h\n      }));\n    } else if (stateIcon.show) {\n      this.drawStateIcon(cfg, group);\n    }\n\n    this.updateLinkPoints(cfg, group);\n  }\n}, 'single-node');","import { __assign, __rest } from \"tslib\";\nimport { registerNode, BaseGlobal as Global } from '@antv/f6-core';\nimport { mix } from '@antv/util'; // shape\n\nregisterNode('star', {\n  // \n  options: {\n    size: 60,\n    style: {\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      }\n    },\n    // circle\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle\n      size: Global.defaultNode.linkPoints.size,\n      lineWidth: Global.defaultNode.linkPoints.lineWidth,\n      fill: Global.defaultNode.linkPoints.fill,\n      stroke: Global.defaultNode.linkPoints.stroke\n    },\n    // icon\n    icon: {\n      // icon false icon\n      show: false,\n      // icon\n      img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',\n      width: 20,\n      height: 20\n    },\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'star',\n  // \n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var _a = this.getOptions(cfg).icon,\n        icon = _a === void 0 ? {} : _a;\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('path', {\n      attrs: style,\n      className: \"\".concat(this.type, \"-keyShape\"),\n      name: \"\".concat(this.type, \"-keyShape\"),\n      draggable: true\n    });\n    var w = icon.width,\n        h = icon.height,\n        show = icon.show,\n        text = icon.text;\n\n    if (show) {\n      if (text) {\n        group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      } else {\n        group.addShape('image', {\n          attrs: __assign({\n            x: -w / 2,\n            y: -h / 2\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      }\n    }\n\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n\n  /**\n   * LinkPoints\n   * @param {Object} cfg data\n   * @param {Group} group Group\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = this.getOptions(cfg).linkPoints,\n        linkPoints = _a === void 0 ? {} : _a;\n\n    var top = linkPoints.top,\n        left = linkPoints.left,\n        right = linkPoints.right,\n        leftBottom = linkPoints.leftBottom,\n        rightBottom = linkPoints.rightBottom,\n        markSize = linkPoints.size,\n        markR = linkPoints.r,\n        markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"leftBottom\", \"rightBottom\", \"size\", \"r\"]);\n\n    var size = this.getSize(cfg);\n    var outerR = size[0];\n\n    if (right) {\n      // right circle\n      // up down left right \n      var x1 = Math.cos((18 + 72 * 0) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 0) / 180 * Math.PI) * outerR;\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right'\n      });\n    }\n\n    if (top) {\n      // up down left right \n      var x1 = Math.cos((18 + 72 * 1) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 1) / 180 * Math.PI) * outerR; // top circle\n\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top'\n      });\n    }\n\n    if (left) {\n      // up down left right \n      var x1 = Math.cos((18 + 72 * 2) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 2) / 180 * Math.PI) * outerR; // left circle\n\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left'\n      });\n    }\n\n    if (leftBottom) {\n      // up down left right \n      var x1 = Math.cos((18 + 72 * 3) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 3) / 180 * Math.PI) * outerR; // left bottom circle\n\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left-bottom',\n        name: 'link-point-left-bottom'\n      });\n    }\n\n    if (rightBottom) {\n      // up down left right \n      var x1 = Math.cos((18 + 72 * 4) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 4) / 180 * Math.PI) * outerR; // left bottom circle\n\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right-bottom',\n        name: 'link-point-right-bottom'\n      });\n    }\n  },\n  getPath: function getPath(cfg) {\n    var size = this.getSize(cfg);\n    var outerR = size[0];\n    var defaultInnerR = outerR * 3 / 8;\n    var innerR = cfg.innerR || defaultInnerR;\n    var path = [];\n\n    for (var i = 0; i < 5; i++) {\n      var x1 = Math.cos((18 + 72 * i) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * i) / 180 * Math.PI) * outerR;\n      var x2 = Math.cos((54 + 72 * i) / 180 * Math.PI) * innerR;\n      var y2 = Math.sin((54 + 72 * i) / 180 * Math.PI) * innerR;\n\n      if (i === 0) {\n        path.push(['M', x1, -y1]);\n      } else {\n        path.push(['L', x1, -y1]);\n      }\n\n      path.push(['L', x2, -y2]);\n    }\n\n    path.push(['Z']);\n    return path;\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // color stroke  cfg  stroke \n\n    var style = mix({}, defaultStyle, strokeStyle);\n    var path = this.getPath(cfg);\n\n    var styles = __assign({\n      path: path\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var group = item.getContainer(); //  cfg  cfg.style \n\n    var defaultStyle = this.getOptions({}).style;\n    var path = this.getPath(cfg); //  cfg  cfg \n\n    var strokeStyle = {\n      stroke: cfg.color,\n      path: path\n    }; //  getShapeStyle update  style \n\n    var keyShape = item.get('keyShape');\n    var style = mix({}, defaultStyle, keyShape.attr(), strokeStyle);\n    style = mix(style, cfg.style);\n    this.updateShape(cfg, item, style, true);\n    this.updateLinkPoints(cfg, group);\n  },\n\n  /**\n   * linkPoints\n   * @param {Object} cfg \n   * @param {Group} group Itemgroup\n   */\n  updateLinkPoints: function updateLinkPoints(cfg, group) {\n    var defaultLinkPoints = this.getOptions({}).linkPoints;\n    var markLeft = group.find(function (element) {\n      return element.get('className') === 'link-point-left';\n    });\n    var markRight = group.find(function (element) {\n      return element.get('className') === 'link-point-right';\n    });\n    var markTop = group.find(function (element) {\n      return element.get('className') === 'link-point-top';\n    });\n    var markLeftBottom = group.find(function (element) {\n      return element.get('className') === 'link-point-left-bottom';\n    });\n    var markRightBottom = group.find(function (element) {\n      return element.get('className') === 'link-point-right-bottom';\n    });\n    var currentLinkPoints = defaultLinkPoints;\n    var existLinkPoint = markLeft || markRight || markTop || markLeftBottom || markRightBottom;\n\n    if (existLinkPoint) {\n      currentLinkPoints = existLinkPoint.attr();\n    }\n\n    var linkPoints = mix({}, currentLinkPoints, cfg.linkPoints);\n    var markFill = linkPoints.fill,\n        markStroke = linkPoints.stroke,\n        borderWidth = linkPoints.lineWidth;\n    var markSize = linkPoints.size / 2;\n    if (!markSize) markSize = linkPoints.r;\n\n    var _a = cfg.linkPoints ? cfg.linkPoints : {\n      left: undefined,\n      right: undefined,\n      top: undefined,\n      leftBottom: undefined,\n      rightBottom: undefined\n    },\n        left = _a.left,\n        right = _a.right,\n        top = _a.top,\n        leftBottom = _a.leftBottom,\n        rightBottom = _a.rightBottom;\n\n    var size = this.getSize(cfg);\n    var outerR = size[0];\n    var styles = {\n      r: markSize,\n      fill: markFill,\n      stroke: markStroke,\n      lineWidth: borderWidth\n    };\n    var x = Math.cos((18 + 72 * 0) / 180 * Math.PI) * outerR;\n    var y = Math.sin((18 + 72 * 0) / 180 * Math.PI) * outerR;\n\n    if (markRight) {\n      if (!right && right !== undefined) {\n        markRight.remove();\n      } else {\n        markRight.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (right) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n\n    x = Math.cos((18 + 72 * 1) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 1) / 180 * Math.PI) * outerR;\n\n    if (markTop) {\n      if (!top && top !== undefined) {\n        markTop.remove();\n      } else {\n        markTop.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (top) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n\n    x = Math.cos((18 + 72 * 2) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 2) / 180 * Math.PI) * outerR;\n\n    if (markLeft) {\n      if (!left && left !== undefined) {\n        markLeft.remove();\n      } else {\n        markLeft.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (left) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n\n    x = Math.cos((18 + 72 * 3) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 3) / 180 * Math.PI) * outerR;\n\n    if (markLeftBottom) {\n      if (!leftBottom && leftBottom !== undefined) {\n        markLeftBottom.remove();\n      } else {\n        markLeftBottom.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (leftBottom) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-left-bottom',\n        name: 'link-point-left-bottom',\n        isAnchorPoint: true\n      });\n    }\n\n    x = Math.cos((18 + 72 * 4) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 4) / 180 * Math.PI) * outerR;\n\n    if (markRightBottom) {\n      if (!rightBottom && rightBottom !== undefined) {\n        markLeftBottom.remove();\n      } else {\n        markRightBottom.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (rightBottom) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-right-bottom',\n        name: 'link-point-right-bottom',\n        isAnchorPoint: true\n      });\n    }\n  }\n}, 'single-node');","import { __assign } from \"tslib\";\nimport { registerNode, BaseGlobal as Global, Util } from '@antv/f6-core';\nimport { deepMix, isNumber } from '@antv/util';\nvar defaultSubjectColors = Util.defaultSubjectColors; // \n\nregisterNode('donut', {\n  // \n  options: {\n    size: Global.defaultNode.size,\n    style: {\n      x: 0,\n      y: 0,\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      }\n    },\n    // circle\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle\n      size: Global.defaultNode.linkPoints.size,\n      lineWidth: Global.defaultNode.linkPoints.lineWidth,\n      fill: Global.defaultNode.linkPoints.fill,\n      stroke: Global.defaultNode.linkPoints.stroke\n    },\n    // icon\n    icon: {\n      // icon false icon\n      show: false,\n      // icon\n      img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',\n      width: 20,\n      height: 20\n    },\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'circle',\n  // \n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var _a = this.getOptions(cfg).icon,\n        defaultIcon = _a === void 0 ? {} : _a;\n    var style = this.getShapeStyle(cfg);\n    var icon = deepMix({}, defaultIcon, cfg.icon);\n    var keyShape = group.addShape('circle', {\n      attrs: style,\n      className: \"\".concat(this.type, \"-keyShape\"),\n      draggable: true,\n      name: \"\".concat(this.type, \"-keyShape\")\n    });\n    var width = icon.width,\n        height = icon.height,\n        show = icon.show,\n        text = icon.text;\n\n    if (show) {\n      if (text) {\n        group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      } else {\n        group.addShape('image', {\n          attrs: __assign({\n            x: -width / 2,\n            y: -height / 2\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      }\n    }\n\n    var donutR = keyShape.attr('r');\n    var innerR = 0.6 * donutR; // \n\n    var arcR = (donutR + innerR) / 2; // \n\n    var _b = cfg,\n        _c = _b.donutAttrs,\n        donutAttrs = _c === void 0 ? {} : _c,\n        _d = _b.donutColorMap,\n        donutColorMap = _d === void 0 ? {} : _d;\n    var attrNum = Object.keys(donutAttrs).length;\n\n    if (donutAttrs && attrNum > 1) {\n      var attrs_1 = [];\n      var totalValue_1 = 0;\n      Object.keys(donutAttrs).forEach(function (name) {\n        var value = donutAttrs[name] || 0;\n        if (!isNumber(value)) return;\n        attrs_1.push({\n          key: name,\n          value: value,\n          color: donutColorMap[name]\n        });\n        totalValue_1 += value;\n      });\n\n      if (totalValue_1) {\n        var lineWidth_1 = donutR - innerR;\n\n        if (attrNum === 1) {\n          group.addShape('circle', {\n            attrs: {\n              r: arcR,\n              x: 0,\n              y: 0,\n              stroke: attrs_1[0].color || defaultSubjectColors[0],\n              lineWidth: lineWidth_1\n            },\n            name: \"fan-shape-0\"\n          });\n          return;\n        }\n\n        var arcBegin_1 = [arcR, 0];\n        var beginAngle_1 = 0;\n        attrs_1.forEach(function (attr, i) {\n          var percent = attr.value / totalValue_1;\n          if (percent < 0.001) return;\n          if (percent > 0.999) percent = 1;\n\n          if (percent === 1) {\n            group.addShape('circle', {\n              attrs: {\n                r: arcR,\n                x: 0,\n                y: 0,\n                stroke: attr.color || defaultSubjectColors[i % defaultSubjectColors.length],\n                lineWidth: lineWidth_1\n              },\n              name: \"fan-shape-\".concat(i)\n            });\n            return;\n          }\n\n          attr.percent = percent;\n          attr.angle = percent * Math.PI * 2;\n          attr.beginAgnle = beginAngle_1;\n          beginAngle_1 += attr.angle;\n          attr.endAngle = beginAngle_1;\n          attr.arcBegin = arcBegin_1;\n          attr.arcEnd = [arcR * Math.cos(attr.endAngle), -arcR * Math.sin(attr.endAngle)];\n          var isBig = attr.angle > Math.PI ? 1 : 0;\n          var path = [['M', attr.arcBegin[0], attr.arcBegin[1]], ['A', arcR, arcR, 0, isBig, 0, attr.arcEnd[0], attr.arcEnd[1]], ['L', attr.arcEnd[0], attr.arcEnd[1]]];\n          group.addShape('path', {\n            attrs: {\n              path: path,\n              lineWidth: lineWidth_1,\n              stroke: attr.color || defaultSubjectColors[i % defaultSubjectColors.length]\n            },\n            name: \"fan-shape-\".concat(i)\n          });\n          arcBegin_1 = attr.arcEnd;\n        });\n      }\n    }\n\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n  update: undefined\n}, 'circle');","export var getBBoxFromPoint = function getBBoxFromPoint(point) {\n  var x = point.x,\n      y = point.y;\n  return {\n    x: x,\n    y: y,\n    centerX: x,\n    centerY: y,\n    minX: x,\n    minY: y,\n    maxX: x,\n    maxY: y,\n    height: 0,\n    width: 0\n  };\n};\nexport var getBBoxFromPoints = function getBBoxFromPoints(points) {\n  if (points === void 0) {\n    points = [];\n  }\n\n  var xs = [];\n  var ys = [];\n  points.forEach(function (p) {\n    xs.push(p.x);\n    ys.push(p.y);\n  });\n  var minX = Math.min.apply(Math, xs);\n  var maxX = Math.max.apply(Math, xs);\n  var minY = Math.min.apply(Math, ys);\n  var maxY = Math.max.apply(Math, ys);\n  return {\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2,\n    maxX: maxX,\n    maxY: maxY,\n    minX: minX,\n    minY: minY,\n    height: maxY - minY,\n    width: maxX - minX\n  };\n};\nexport var isBBoxesOverlapping = function isBBoxesOverlapping(b1, b2) {\n  return Math.abs(b1.centerX - b2.centerX) * 2 < b1.width + b2.width && Math.abs(b1.centerY - b2.centerY) * 2 < b1.height + b2.height;\n};\nexport var filterConnectPoints = function filterConnectPoints(points) {\n  // pre-process: remove duplicated points\n  var result = [];\n  var pointsMap = {};\n  var pointsLength = points.length;\n\n  for (var i = pointsLength - 1; i >= 0; i--) {\n    var p = points[i];\n    p.id = \"\".concat(p.x, \"|||\").concat(p.y);\n    pointsMap[p.id] = p;\n    result.push(p);\n  }\n\n  return result;\n};\nexport var simplifyPolyline = function simplifyPolyline(points) {\n  return filterConnectPoints(points);\n};\nexport var getSimplePolyline = function getSimplePolyline(sPoint, tPoint) {\n  return [sPoint, {\n    x: sPoint.x,\n    y: tPoint.y\n  }, tPoint];\n};\nexport var getExpandedBBox = function getExpandedBBox(bbox, offset) {\n  if (bbox.width || bbox.height) {\n    return {\n      centerX: bbox.centerX,\n      centerY: bbox.centerY,\n      minX: bbox.minX - offset,\n      minY: bbox.minY - offset,\n      maxX: bbox.maxX + offset,\n      maxY: bbox.maxY + offset,\n      height: bbox.height + 2 * offset,\n      width: bbox.width + 2 * offset\n    };\n  } // when it is a point\n\n\n  return bbox;\n};\nexport var isHorizontalPort = function isHorizontalPort(port, bbox) {\n  var dx = Math.abs(port.x - bbox.centerX);\n  var dy = Math.abs(port.y - bbox.centerY);\n  if (dx === 0 && dy === 0) return 0;\n  return dx / bbox.width > dy / bbox.height;\n};\nexport var getExpandedBBoxPoint = function getExpandedBBoxPoint(bbox, //  bbox  offset  bbox gridSize \npoint, //  gridSize anchorPoint\nanotherPoint) {\n  var isHorizontal = isHorizontalPort(point, bbox);\n\n  if (isHorizontal === 0) {\n    // linkCenter: true\n    var x = bbox.centerX;\n    var y = bbox.centerY;\n\n    if (anotherPoint.y < point.y) {\n      // /\n      y = bbox.minY;\n    } else if (anotherPoint.x > point.x) {\n      // \n      x = bbox.maxX;\n    } else if (anotherPoint.x < point.x) {\n      // \n      x = bbox.minX;\n    } else if (anotherPoint.x === point.x) {\n      // \n      y = bbox.maxY;\n    }\n\n    return {\n      x: x,\n      y: y\n    };\n  }\n\n  if (isHorizontal) {\n    return {\n      x: point.x > bbox.centerX ? bbox.maxX : bbox.minX,\n      y: point.y\n    };\n  }\n\n  return {\n    x: point.x,\n    y: point.y > bbox.centerY ? bbox.maxY : bbox.minY\n  };\n};\n/**\n *\n * @param b1\n * @param b2\n */\n\nexport var mergeBBox = function mergeBBox(b1, b2) {\n  var minX = Math.min(b1.minX, b2.minX);\n  var minY = Math.min(b1.minY, b2.minY);\n  var maxX = Math.max(b1.maxX, b2.maxX);\n  var maxY = Math.max(b1.maxY, b2.maxY);\n  return {\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2,\n    minX: minX,\n    minY: minY,\n    maxX: maxX,\n    maxY: maxY,\n    height: maxY - minY,\n    width: maxX - minX\n  };\n};\nexport var getPointsFromBBox = function getPointsFromBBox(bbox) {\n  // anticlockwise\n  // const { minX, minY, maxX, maxY } = bbox;\n  return [{\n    x: bbox.minX,\n    y: bbox.minY\n  }, {\n    x: bbox.maxX,\n    y: bbox.minY\n  }, {\n    x: bbox.maxX,\n    y: bbox.maxY\n  }, {\n    x: bbox.minX,\n    y: bbox.maxY\n  }];\n};\nexport var isPointOutsideBBox = function isPointOutsideBBox(point, bbox) {\n  var x = point.x,\n      y = point.y;\n  return x < bbox.minX || x > bbox.maxX || y < bbox.minY || y > bbox.maxY;\n};\nexport var getBBoxXCrossPoints = function getBBoxXCrossPoints(bbox, x) {\n  if (x < bbox.minX || x > bbox.maxX) {\n    return [];\n  }\n\n  return [{\n    x: x,\n    y: bbox.minY\n  }, {\n    x: x,\n    y: bbox.maxY\n  }];\n};\nexport var getBBoxYCrossPoints = function getBBoxYCrossPoints(bbox, y) {\n  if (y < bbox.minY || y > bbox.maxY) {\n    return [];\n  }\n\n  return [{\n    x: bbox.minX,\n    y: y\n  }, {\n    x: bbox.maxX,\n    y: y\n  }];\n};\nexport var getBBoxCrossPointsByPoint = function getBBoxCrossPointsByPoint(bbox, point) {\n  return getBBoxXCrossPoints(bbox, point.x).concat(getBBoxYCrossPoints(bbox, point.y));\n};\n/**\n * \n */\n\nexport var distance = function distance(p1, p2) {\n  return Math.abs(p1.x - p2.x) + Math.abs(p1.y - p2.y);\n};\n/**\n *  points  x  p  -2y \n *  points  / \n */\n// eslint-disable-next-line @typescript-eslint/naming-convention\n\nexport var _costByPoints = function _costByPoints(p, points) {\n  var offset = -2;\n  var result = 0;\n  points.forEach(function (point) {\n    if (point) {\n      if (p.x === point.x) {\n        result += offset;\n      }\n\n      if (p.y === point.y) {\n        result += offset;\n      }\n    }\n  });\n  return result;\n};\n/**\n * ps  p  pt \n */\n\nexport var heuristicCostEstimate = function heuristicCostEstimate(p, ps, pt, source, target) {\n  return distance(p, ps) + distance(p, pt) + _costByPoints(p, [ps, pt, source, target]);\n};\nexport var reconstructPath = function reconstructPath(pathPoints, pointById, cameFrom, currentId, iterator) {\n  if (iterator === void 0) {\n    iterator = 0;\n  }\n\n  pathPoints.unshift(pointById[currentId]);\n\n  if (cameFrom[currentId] && cameFrom[currentId] !== currentId && iterator <= 100) {\n    reconstructPath(pathPoints, pointById, cameFrom, cameFrom[currentId], iterator + 1);\n  }\n};\n/**\n *  arr  item\n */\n\nexport var removeFrom = function removeFrom(arr, item) {\n  var index = arr.indexOf(item);\n\n  if (index > -1) {\n    arr.splice(index, 1);\n  }\n};\nexport var isSegmentsIntersected = function isSegmentsIntersected(p0, p1, p2, p3) {\n  var v1x = p2.x - p0.x;\n  var v1y = p2.y - p0.y;\n  var v2x = p3.x - p0.x;\n  var v2y = p3.y - p0.y;\n  var v3x = p2.x - p1.x;\n  var v3y = p2.y - p1.y;\n  var v4x = p3.x - p1.x;\n  var v4y = p3.y - p1.y;\n  var pd1 = v1x * v2y - v1y * v2x;\n  var pd2 = v3x * v4y - v3y * v4x;\n  var pd3 = v1x * v3y - v1y * v3x;\n  var pd4 = v2x * v4y - v2y * v4x;\n  return pd1 * pd2 <= 0 && pd3 * pd4 <= 0;\n};\nexport var isSegmentCrossingBBox = function isSegmentCrossingBBox(p1, p2, bbox) {\n  if (bbox.width || bbox.height) {\n    var _a = getPointsFromBBox(bbox),\n        pa = _a[0],\n        pb = _a[1],\n        pc = _a[2],\n        pd = _a[3];\n\n    return isSegmentsIntersected(p1, p2, pa, pb) || isSegmentsIntersected(p1, p2, pa, pd) || isSegmentsIntersected(p1, p2, pb, pc) || isSegmentsIntersected(p1, p2, pc, pd);\n  }\n\n  return false;\n};\n/**\n *  points  x  y  point  x  y  point  bbox1  bbox2 \n */\n\nexport var getNeighborPoints = function getNeighborPoints(points, point, bbox1, bbox2) {\n  var neighbors = [];\n  points.forEach(function (p) {\n    if (p === point) return;\n\n    if (p.x === point.x || p.y === point.y) {\n      if (isSegmentCrossingBBox(p, point, bbox1) || isSegmentCrossingBBox(p, point, bbox2)) return;\n      neighbors.push(p);\n    }\n  });\n  return filterConnectPoints(neighbors);\n};\nexport var pathFinder = function pathFinder(points, start, goal, sBBox, tBBox, os, ot) {\n  // A-Star Algorithm\n  var closedSet = [];\n  var openSet = [start];\n  var cameFrom = {};\n  var gScore = {}; // all default values are Infinity\n\n  var fScore = {}; // all default values are Infinity\n\n  gScore[start.id] = 0;\n  fScore[start.id] = heuristicCostEstimate(start, goal, start);\n  var pointById = {};\n  points.forEach(function (p) {\n    pointById[p.id] = p;\n  });\n  var current, lowestFScore;\n\n  while (openSet.length) {\n    current = undefined;\n    lowestFScore = Infinity; //  openSet  fScore \n\n    openSet.forEach(function (p) {\n      if (fScore[p.id] <= lowestFScore) {\n        lowestFScore = fScore[p.id];\n        current = p;\n      }\n    }); //  openSet  fScore \n\n    if (current === goal) {\n      // ending condition\n      var pathPoints = [];\n      reconstructPath(pathPoints, pointById, cameFrom, goal.id);\n      return pathPoints;\n    }\n\n    removeFrom(openSet, current);\n    closedSet.push(current);\n    getNeighborPoints(points, current, sBBox, tBBox).forEach(function (neighbor) {\n      if (closedSet.indexOf(neighbor) !== -1) {\n        return;\n      }\n\n      if (openSet.indexOf(neighbor) === -1) {\n        openSet.push(neighbor);\n      }\n\n      var tentativeGScore = fScore[current.id] + distance(current, neighbor); // + distance(neighbor, goal);\n\n      if (gScore[neighbor.id] && tentativeGScore >= gScore[neighbor.id]) {\n        return;\n      }\n\n      cameFrom[neighbor.id] = current.id;\n      gScore[neighbor.id] = tentativeGScore;\n      fScore[neighbor.id] = gScore[neighbor.id] + heuristicCostEstimate(neighbor, goal, start, os, ot);\n    });\n  } // throw new Error('Cannot find path');\n\n\n  return [start, goal];\n};\nexport var isBending = function isBending(p0, p1, p2) {\n  return !(p0.x === p1.x && p1.x === p2.x || p0.y === p1.y && p1.y === p2.y);\n};\nexport var getBorderRadiusPoints = function getBorderRadiusPoints(p0, p1, p2, r) {\n  var d0 = distance(p0, p1);\n  var d1 = distance(p2, p1);\n\n  if (d0 < r) {\n    r = d0;\n  }\n\n  if (d1 < r) {\n    r = d1;\n  }\n\n  var ps = {\n    x: p1.x - r / d0 * (p1.x - p0.x),\n    y: p1.y - r / d0 * (p1.y - p0.y)\n  };\n  var pt = {\n    x: p1.x - r / d1 * (p1.x - p2.x),\n    y: p1.y - r / d1 * (p1.y - p2.y)\n  };\n  return [ps, pt];\n};\nexport var getPathWithBorderRadiusByPolyline = function getPathWithBorderRadiusByPolyline(points, borderRadius) {\n  var pathSegments = [];\n  var startPoint = points[0];\n  pathSegments.push(\"M\".concat(startPoint.x, \" \").concat(startPoint.y));\n  points.forEach(function (p, i) {\n    var p1 = points[i + 1];\n    var p2 = points[i + 2];\n\n    if (p1 && p2) {\n      if (isBending(p, p1, p2)) {\n        var _a = getBorderRadiusPoints(p, p1, p2, borderRadius),\n            ps = _a[0],\n            pt = _a[1];\n\n        pathSegments.push(\"L\".concat(ps.x, \" \").concat(ps.y));\n        pathSegments.push(\"Q\".concat(p1.x, \" \").concat(p1.y, \" \").concat(pt.x, \" \").concat(pt.y));\n        pathSegments.push(\"L\".concat(pt.x, \" \").concat(pt.y));\n      } else {\n        pathSegments.push(\"L\".concat(p1.x, \" \").concat(p1.y));\n      }\n    } else if (p1) {\n      pathSegments.push(\"L\".concat(p1.x, \" \").concat(p1.y));\n    }\n  });\n  return pathSegments.join('');\n};\nexport var getPolylinePoints = function getPolylinePoints(start, end, sNode, tNode, offset) {\n  var sBBox, tBBox;\n\n  if (!sNode || !sNode.getType()) {\n    sBBox = getBBoxFromPoint(start);\n  } else if (sNode.getType() === 'combo') {\n    var sNodeKeyShape = sNode.getKeyShape();\n    sBBox = sNodeKeyShape.getCanvasBBox() || getBBoxFromPoint(start);\n    sBBox.centerX = (sBBox.minX + sBBox.maxX) / 2;\n    sBBox.centerY = (sBBox.minY + sBBox.maxY) / 2;\n  } else {\n    sBBox = sNode.getBBox();\n  }\n\n  if (!tNode || !tNode.getType()) {\n    tBBox = getBBoxFromPoint(end);\n  } else if (tNode.getType() === 'combo') {\n    var tKeyShapeBBox = tNode.getKeyShape().getBBox();\n\n    if (tKeyShapeBBox) {\n      var _a = tNode.getModel(),\n          tx = _a.x,\n          ty = _a.y;\n\n      tBBox = {\n        x: tx,\n        y: ty,\n        width: tKeyShapeBBox.width,\n        height: tKeyShapeBBox.height,\n        minX: tKeyShapeBBox.minX + tx,\n        maxX: tKeyShapeBBox.maxX + tx,\n        minY: tKeyShapeBBox.minY + ty,\n        maxY: tKeyShapeBBox.maxY + ty\n      };\n      tBBox.centerX = (tBBox.minX + tBBox.maxX) / 2;\n      tBBox.centerY = (tBBox.minY + tBBox.maxY) / 2;\n    } else {\n      tBBox = getBBoxFromPoint(end);\n    }\n  } else {\n    tBBox = tNode && tNode.getBBox();\n  } // if (isBBoxesOverlapping(sBBox, tBBox)) {\n  //   // source and target nodes are overlapping\n  //   return simplifyPolyline(getSimplePolyline(start, end));\n  // }\n\n\n  var sxBBox = getExpandedBBox(sBBox, offset);\n  var txBBox = getExpandedBBox(tBBox, offset); // if (isBBoxesOverlapping(sxBBox, txBBox)) {\n  //   // the expanded bounding boxes of source and target nodes are overlapping\n  //   return simplifyPolyline(getSimplePolyline(start, end));\n  // }\n\n  var sPoint = getExpandedBBoxPoint(sxBBox, start, end);\n  var tPoint = getExpandedBBoxPoint(txBBox, end, start);\n  var lineBBox = getBBoxFromPoints([sPoint, tPoint]);\n  var sMixBBox = mergeBBox(sxBBox, lineBBox);\n  var tMixBBox = mergeBBox(txBBox, lineBBox);\n  var connectPoints = [];\n  connectPoints = connectPoints.concat(getPointsFromBBox(sMixBBox)).concat(getPointsFromBBox(tMixBBox));\n  var centerPoint = {\n    x: (start.x + end.x) / 2,\n    y: (start.y + end.y) / 2\n  };\n  [lineBBox, sMixBBox, tMixBBox].forEach(function (bbox) {\n    connectPoints = connectPoints.concat(getBBoxCrossPointsByPoint(bbox, centerPoint).filter(function (p) {\n      return isPointOutsideBBox(p, sxBBox) && isPointOutsideBBox(p, txBBox);\n    }));\n  });\n  [{\n    x: sPoint.x,\n    y: tPoint.y\n  }, {\n    x: tPoint.x,\n    y: sPoint.y\n  }].forEach(function (p) {\n    // impossible!!\n    if (isPointOutsideBBox(p, sxBBox) && isPointOutsideBBox(p, txBBox) // &&\n    // isPointInsideBBox(p, sMixBBox) && isPointInsideBBox(p, tMixBBox)\n    ) {\n      connectPoints.push(p);\n    }\n  });\n  connectPoints.unshift(sPoint);\n  connectPoints.push(tPoint); // filter out dulplicated points in connectPoints\n\n  connectPoints = filterConnectPoints(connectPoints); // , sxBBox, txBBox, outerBBox\n\n  var pathPoints = pathFinder(connectPoints, sPoint, tPoint, sBBox, tBBox, start, end);\n  pathPoints.unshift(start);\n  pathPoints.push(end);\n  return simplifyPolyline(pathPoints);\n};","/**\n *  costFunc, distFunc, constraints  router\n * generalRouter: \n * orthogonal: 4\n * octolinearRouter: 8\n */\nimport { Util } from '@antv/f6-core';\nimport { deepMix } from '@antv/util';\nimport { getExpandedBBox, getExpandedBBoxPoint, getPolylinePoints, simplifyPolyline, isSegmentCrossingBBox } from './polyline-util';\n\nvar manhattanDist = function manhattanDist(p1, p2) {\n  return Math.abs(p1.x - p2.x) + Math.abs(p1.y - p2.y);\n};\n\nvar eucliDist = function eucliDist(p1, p2) {\n  return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2));\n};\n\nvar straightPath = function straightPath(start, end) {\n  // console.warn('fallbackRoute: straight path');\n  return [start, end];\n};\n\nvar simplePolyline = function simplePolyline(start, end, startNode, endNode, cfg) {\n  return simplifyPolyline(getPolylinePoints(start, end, startNode, endNode, cfg.offset));\n}; // getPolylinePoints\n\n\nvar defaultCfg = {\n  offset: 20,\n  maxAllowedDirectionChange: Math.PI / 2,\n  maximumLoops: 2000,\n  gridSize: 10,\n  directions: [{\n    stepX: 1,\n    stepY: 0\n  }, {\n    stepX: -1,\n    stepY: 0\n  }, {\n    stepX: 0,\n    stepY: 1\n  }, {\n    stepX: 0,\n    stepY: -1\n  } // top\n  ],\n\n  get penalties() {\n    return {\n      0: 0,\n      45: this.gridSize / 2,\n      90: this.gridSize / 2\n    };\n  },\n\n  distFunc: manhattanDist,\n  fallbackRoute: simplePolyline\n};\nexport var octolinearCfg = {\n  maxAllowedDirectionChange: Math.PI / 4,\n  // 8 :  + 45\n  directions: [{\n    stepX: 1,\n    stepY: 0\n  }, {\n    stepX: 1,\n    stepY: 1\n  }, {\n    stepX: 0,\n    stepY: 1\n  }, {\n    stepX: -1,\n    stepY: 1\n  }, {\n    stepX: -1,\n    stepY: 0\n  }, {\n    stepX: -1,\n    stepY: -1\n  }, {\n    stepX: 0,\n    stepY: -1\n  }, {\n    stepX: 1,\n    stepY: -1\n  }],\n  distFunc: eucliDist,\n  fallbackRoute: straightPath\n};\n\nvar pos2GridIx = function pos2GridIx(pos, gridSize) {\n  var gridIx = Math.round(Math.abs(pos / gridSize));\n  var sign = pos < 0 ? -1 : 1;\n  return gridIx < 0 ? 0 : sign * gridIx;\n};\n\nvar getObstacleMap = function getObstacleMap(items, gridSize, offset) {\n  var map = {};\n  items.forEach(function (item) {\n    // create-edge  polyline  endNode  null\n    if (!item) return;\n    var bbox = getExpandedBBox(item.getBBox(), offset);\n\n    for (var x = pos2GridIx(bbox.minX, gridSize); x <= pos2GridIx(bbox.maxX, gridSize); x += 1) {\n      for (var y = pos2GridIx(bbox.minY, gridSize); y <= pos2GridIx(bbox.maxY, gridSize); y += 1) {\n        map[\"\".concat(x, \"|||\").concat(y)] = true;\n      }\n    }\n  });\n  return map;\n};\n/**\n *  p1  p2 0\n * @param p1 PolyPoint\n * @param p2 PolyPoint\n */\n\n\nvar getDirectionAngle = function getDirectionAngle(p1, p2) {\n  var deltaX = p2.x - p1.x;\n  var deltaY = p2.y - p1.y;\n\n  if (deltaX || deltaY) {\n    return Math.atan2(deltaY, deltaX);\n  }\n\n  return 0;\n};\n/**\n * 180\n * @param angle1\n * @param angle2\n */\n\n\nvar getAngleDiff = function getAngleDiff(angle1, angle2) {\n  var directionChange = Math.abs(angle1 - angle2);\n  return directionChange > Math.PI ? 2 * Math.PI - directionChange : directionChange; // return directionChange > 180 ? 360 - directionChange : directionChange;\n}; // Path finder //\n\n\nvar estimateCost = function estimateCost(from, endPoints, distFunc) {\n  var min = Infinity;\n\n  for (var i = 0, len = endPoints.length; i < len; i++) {\n    var cost = distFunc(from, endPoints[i]);\n\n    if (cost < min) {\n      min = cost;\n    }\n  }\n\n  return min;\n}; //  offset  BBox \n\n\nvar getBoxPoints = function getBoxPoints(point, //  gridSize anchorPoint\noriPoint, //  gridSize anchorPoint\nnode, //  bbox\nanotherPoint, //  gridSize \ncfg) {\n  var points = []; // create-edge endNode  null\n\n  if (!node) {\n    return [point];\n  }\n\n  var directions = cfg.directions,\n      offset = cfg.offset;\n  var bbox = node.getBBox();\n  var isInside = oriPoint.x > bbox.minX && oriPoint.x < bbox.maxX && oriPoint.y > bbox.minY && oriPoint.y < bbox.maxY;\n  var expandBBox = getExpandedBBox(bbox, offset);\n\n  for (var i in expandBBox) {\n    expandBBox[i] = pos2GridIx(expandBBox[i], cfg.gridSize);\n  }\n\n  if (isInside) {\n    //  anchorPoint \n    for (var _i = 0, directions_1 = directions; _i < directions_1.length; _i++) {\n      var dir = directions_1[_i];\n      var bounds = [[{\n        x: expandBBox.minX,\n        y: expandBBox.minY\n      }, {\n        x: expandBBox.maxX,\n        y: expandBBox.minY\n      }], [{\n        x: expandBBox.minX,\n        y: expandBBox.minY\n      }, {\n        x: expandBBox.minX,\n        y: expandBBox.maxY\n      }], [{\n        x: expandBBox.maxX,\n        y: expandBBox.minY\n      }, {\n        x: expandBBox.maxX,\n        y: expandBBox.maxY\n      }], [{\n        x: expandBBox.minX,\n        y: expandBBox.maxY\n      }, {\n        x: expandBBox.maxX,\n        y: expandBBox.maxY\n      }]];\n\n      for (var i = 0; i < 4; i++) {\n        var boundLine = bounds[i];\n        var insterctP_1 = Util.getLineIntersect(point, {\n          x: point.x + dir.stepX * expandBBox.width,\n          y: point.y + dir.stepY * expandBBox.height\n        }, boundLine[0], boundLine[1]);\n\n        if (insterctP_1 && !isSegmentCrossingBBox(point, insterctP_1, bbox)) {\n          insterctP_1.id = \"\".concat(insterctP_1.x, \"|||\").concat(insterctP_1.y);\n          points.push(insterctP_1);\n        }\n      }\n    }\n\n    return points;\n  } //  anchorPoint \n\n\n  var insterctP = getExpandedBBoxPoint(expandBBox, point, anotherPoint);\n  insterctP.id = \"\".concat(insterctP.x, \"|||\").concat(insterctP.y);\n  return [insterctP];\n};\n\nvar getDirectionChange = function getDirectionChange(current, neighbor, cameFrom, scaleStartPoint) {\n  var directionAngle = getDirectionAngle(current, neighbor);\n\n  if (!cameFrom[current.id]) {\n    var startAngle = getDirectionAngle(scaleStartPoint, current);\n    return getAngleDiff(startAngle, directionAngle);\n  }\n\n  var prevDirectionAngle = getDirectionAngle({\n    x: cameFrom[current.id].x,\n    y: cameFrom[current.id].y\n  }, current);\n  return getAngleDiff(prevDirectionAngle, directionAngle);\n};\n\nvar getControlPoints = function getControlPoints(current, cameFrom, scaleStartPoint, endPoint, startPoint, scaleEndPoint, gridSize) {\n  var controlPoints = [endPoint];\n  var currentId = current.id;\n  var currentX = current.x;\n  var currentY = current.y;\n  var lastPoint = {\n    x: currentX,\n    y: currentY,\n    id: currentId\n  };\n\n  if (getDirectionChange(lastPoint, scaleEndPoint, cameFrom, scaleStartPoint)) {\n    // if (scaleEndPoint.x === endPoint.x && scaleEndPoint.y === endPoint.y)\n    //   controlPoints.unshift({\n    //     x: endPoint.x,\n    //     y: endPoint.y\n    //   })\n    // else\n    //   controlPoints.unshift({\n    //     x: lastPoint.x * gridSize,\n    //     y: lastPoint.y * gridSize,\n    //   });\n    controlPoints.unshift({\n      x: scaleEndPoint.x === endPoint.x ? endPoint.x : lastPoint.x * gridSize,\n      y: scaleEndPoint.y === endPoint.y ? endPoint.y : lastPoint.y * gridSize\n    });\n  }\n\n  while (cameFrom[currentId] && cameFrom[currentId].id !== currentId) {\n    var point = {\n      x: currentX,\n      y: currentY,\n      id: currentId\n    };\n    var preId = cameFrom[currentId].id;\n    var preX = cameFrom[currentId].x;\n    var preY = cameFrom[currentId].y;\n    var prePoint = {\n      x: preX,\n      y: preY,\n      id: preId\n    };\n    var directionChange = getDirectionChange(prePoint, point, cameFrom, scaleStartPoint);\n\n    if (directionChange) {\n      // if (prePoint.x === point.x && prePoint.y === point.y)\n      //   controlPoints.unshift({\n      //     x: controlPoints[0].x,\n      //     y: controlPoints[0].y\n      //   })\n      // else\n      //   controlPoints.unshift({\n      //     x: prePoint.x * gridSize,\n      //     y: prePoint.y * gridSize,\n      //   });\n      controlPoints.unshift({\n        x: prePoint.x === point.x ? controlPoints[0].x : prePoint.x * gridSize,\n        y: prePoint.y === point.y ? controlPoints[0].y : prePoint.y * gridSize\n      });\n    }\n\n    currentId = preId;\n    currentX = preX;\n    currentY = preY;\n  } // startNode\n\n\n  var firstPoint = {\n    x: currentX,\n    y: currentY,\n    id: currentId\n  }; // if (firstPoint.x === scaleStartPoint.x && firstPoint.y === scaleStartPoint.y) {\n  //   controlPoints[0].x = startPoint.x;\n  //   controlPoints[0].y = startPoint.y;\n  // }\n\n  controlPoints[0].x = firstPoint.x === scaleStartPoint.x ? startPoint.x : controlPoints[0].x;\n  controlPoints[0].y = firstPoint.y === scaleStartPoint.y ? startPoint.y : controlPoints[0].y;\n  controlPoints.unshift(startPoint);\n  return controlPoints;\n};\n\nexport var pathFinder = function pathFinder(startPoint, endPoint, startNode, endNode, routerCfg) {\n  if (isNaN(startPoint.x) || isNaN(endPoint.x)) return [];\n  var cfg = deepMix(defaultCfg, routerCfg);\n  cfg.obstacles = cfg.obstacles || [];\n  var gridSize = cfg.gridSize;\n  var map = getObstacleMap(cfg.obstacles.concat([startNode, endNode]), gridSize, cfg.offset);\n  var scaleStartPoint = {\n    x: pos2GridIx(startPoint.x, gridSize),\n    y: pos2GridIx(startPoint.y, gridSize)\n  };\n  var scaleEndPoint = {\n    x: pos2GridIx(endPoint.x, gridSize),\n    y: pos2GridIx(endPoint.y, gridSize)\n  };\n  startPoint.id = \"\".concat(scaleStartPoint.x, \"|||\").concat(scaleStartPoint.y);\n  endPoint.id = \"\".concat(scaleEndPoint.x, \"|||\").concat(scaleEndPoint.y);\n  var startPoints = getBoxPoints(scaleStartPoint, startPoint, startNode, scaleEndPoint, cfg);\n  var endPoints = getBoxPoints(scaleEndPoint, endPoint, endNode, scaleStartPoint, cfg);\n  startPoints.forEach(function (point) {\n    delete map[point.id];\n  });\n  endPoints.forEach(function (point) {\n    delete map[point.id];\n  });\n  var openSet = {};\n  var closedSet = {};\n  var cameFrom = {}; //  cost, default: Infinity\n\n  var gScore = {}; //  cost, default: Infinity\n\n  var fScore = {}; // initialize\n\n  for (var i = 0; i < startPoints.length; i++) {\n    var firstStep = startPoints[i];\n    openSet[firstStep.id] = firstStep; // cameFrom[firstStep.id] = startPoint.id;\n\n    gScore[firstStep.id] = 0;\n    fScore[firstStep.id] = estimateCost(firstStep, endPoints, cfg.distFunc);\n  }\n\n  var remainLoops = cfg.maximumLoops;\n  var penalties = cfg.penalties;\n  var current, curCost, direction, neighbor, neighborCost, costFromStart, directionChange;\n\n  while (Object.keys(openSet).length > 0 && remainLoops > 0) {\n    current = undefined;\n    curCost = Infinity; //  openSet  fScore \n\n    Object.keys(openSet).forEach(function (key) {\n      var id = openSet[key].id;\n\n      if (fScore[id] <= curCost) {\n        curCost = fScore[id];\n        current = openSet[id];\n      }\n    });\n    if (!current) break; //  fScore \n\n    if (endPoints.findIndex(function (point) {\n      return point.x === current.x && point.y === current.y;\n    }) > -1) {\n      return getControlPoints(current, cameFrom, scaleStartPoint, endPoint, startPoint, scaleEndPoint, gridSize);\n    }\n\n    delete openSet[current.id];\n    closedSet[current.id] = true; // \n    // \n\n    for (var i = 0; i < cfg.directions.length; i++) {\n      direction = cfg.directions[i];\n      neighbor = {\n        x: current.x + direction.stepX,\n        y: current.y + direction.stepY,\n        id: \"\".concat(Math.round(current.x) + direction.stepX, \"|||\").concat(Math.round(current.y) + direction.stepY)\n      };\n      if (closedSet[neighbor.id]) continue;\n      directionChange = getDirectionChange(current, neighbor, cameFrom, scaleStartPoint);\n      if (directionChange > cfg.maxAllowedDirectionChange) continue;\n      if (map[neighbor.id]) continue; // \n      //  openSet,  cost\n\n      if (!openSet[neighbor.id]) {\n        openSet[neighbor.id] = neighbor;\n      }\n\n      neighborCost = cfg.distFunc(current, neighbor) + (isNaN(penalties[directionChange]) ? gridSize : penalties[directionChange]);\n      costFromStart = gScore[current.id] + neighborCost;\n\n      if (gScore[neighbor.id] && costFromStart >= gScore[neighbor.id]) {\n        continue;\n      }\n\n      cameFrom[neighbor.id] = current;\n      gScore[neighbor.id] = costFromStart;\n      fScore[neighbor.id] = costFromStart + estimateCost(neighbor, endPoints, cfg.distFunc);\n    }\n\n    remainLoops -= 1;\n  }\n\n  return cfg.fallbackRoute(startPoint, endPoint, startNode, endNode, cfg);\n};","import { __assign } from \"tslib\";\nimport { mix, each, isArray, isString } from '@antv/util';\nimport { registerEdge, Util, BaseGlobal as Global } from '@antv/f6-core';\nimport { getPathWithBorderRadiusByPolyline, getPolylinePoints } from './polyline-util';\nimport { pathFinder } from './router'; // \n\nregisterEdge('polyline', {\n  options: {\n    color: Global.defaultEdge.color,\n    size: Global.defaultEdge.size,\n    style: {\n      radius: 0,\n      offset: 15,\n      x: 0,\n      y: 0,\n      stroke: Global.defaultEdge.style.stroke,\n      lineAppendWidth: Global.defaultEdge.style.lineAppendWidth\n    },\n    // \n    labelCfg: {\n      style: {\n        fill: Global.edgeLabel.style.fill,\n        fontSize: Global.edgeLabel.style.fontSize\n      }\n    },\n    routeCfg: {\n      obstacles: [],\n      maxAllowedDirectionChange: Math.PI,\n      maximumLoops: 500,\n      gridSize: 10 // \n\n    },\n    stateStyles: __assign({}, Global.edgeStateStyles)\n  },\n  shapeType: 'polyline',\n  // \n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var shapeStyle = this.getShapeStyle(cfg);\n    if (shapeStyle.radius === 0) delete shapeStyle.radius;\n    var keyShape = group.addShape('path', {\n      className: 'edge-shape',\n      name: 'edge-shape',\n      attrs: shapeStyle\n    });\n    return keyShape;\n  },\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.options.style;\n    var strokeStyle = {\n      stroke: cfg.color\n    };\n    var style = mix({}, defaultStyle, strokeStyle, cfg.style);\n    cfg = this.getPathPoints(cfg);\n    this.radius = style.radius;\n    this.offset = style.offset;\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    var controlPoints = this.getControlPoints(cfg);\n    var points = [startPoint]; // \n    // \n\n    if (controlPoints) {\n      points = points.concat(controlPoints);\n    } // \n\n\n    points.push(endPoint);\n    var source = cfg.sourceNode;\n    var target = cfg.targetNode;\n    var radius = style.radius;\n    var defaultRouteCfg = this.options.routeCfg;\n    var routeCfg = mix({}, defaultRouteCfg, cfg.routeCfg);\n    routeCfg.offset = style.offset;\n    var path = this.getPath(points, source, target, radius, routeCfg);\n\n    if (isArray(path) && path.length <= 1 || isString(path) && path.indexOf('L') === -1) {\n      path = 'M0 0, L0 0';\n    }\n\n    if (isNaN(startPoint.x) || isNaN(startPoint.y) || isNaN(endPoint.x) || isNaN(endPoint.y)) {\n      path = 'M0 0, L0 0';\n    }\n\n    var attrs = mix({}, Global.defaultEdge.style, style, {\n      lineWidth: cfg.size,\n      path: path\n    });\n    return attrs;\n  },\n  updateShapeStyle: function updateShapeStyle(cfg, item) {\n    var group = item.getContainer();\n    if (!item.isVisible()) return;\n    var strokeStyle = {\n      stroke: cfg.color\n    };\n    var shape = group.find(function (element) {\n      return element.get('className') === 'edge-shape';\n    }) || item.getKeyShape();\n    var size = cfg.size;\n    cfg = this.getPathPoints(cfg);\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    var controlPoints = this.getControlPoints(cfg); // || cfg.controlPoints;\n\n    var points = [startPoint]; // \n    // \n\n    if (controlPoints) {\n      points = points.concat(controlPoints);\n    } // \n\n\n    points.push(endPoint);\n    var currentAttr = shape.attr();\n    var previousStyle = mix({}, strokeStyle, currentAttr, cfg.style);\n    var source = cfg.sourceNode;\n    var target = cfg.targetNode;\n    var radius = previousStyle.radius;\n    var defaultRouteCfg = this.options.routeCfg;\n    var routeCfg = mix({}, defaultRouteCfg, cfg.routeCfg);\n    routeCfg.offset = previousStyle.offset;\n    var path = this.getPath(points, source, target, radius, routeCfg);\n\n    if (isArray(path) && path.length <= 1 || isString(path) && path.indexOf('L') === -1) {\n      path = 'M0 0, L0 0';\n    }\n\n    if (isNaN(startPoint.x) || isNaN(startPoint.y) || isNaN(endPoint.x) || isNaN(endPoint.y)) {\n      path = 'M0 0, L0 0';\n    }\n\n    if (currentAttr.endArrow && previousStyle.endArrow === false) {\n      cfg.style.endArrow = {\n        path: ''\n      };\n    }\n\n    if (currentAttr.startArrow && previousStyle.startArrow === false) {\n      cfg.style.startArrow = {\n        path: ''\n      };\n    }\n\n    var style = mix(strokeStyle, shape.attr(), {\n      lineWidth: size,\n      path: path\n    }, cfg.style);\n\n    if (shape) {\n      shape.attr(style);\n    }\n  },\n  getPath: function getPath(points, source, target, radius, routeCfg) {\n    var offset = routeCfg.offset,\n        simple = routeCfg.simple; // \n\n    if (!offset || points.length > 2) {\n      if (radius) {\n        return getPathWithBorderRadiusByPolyline(points, radius);\n      }\n\n      var pathArray_1 = [];\n      each(points, function (point, index) {\n        if (index === 0) {\n          pathArray_1.push(['M', point.x, point.y]);\n        } else {\n          pathArray_1.push(['L', point.x, point.y]);\n        }\n      });\n      return pathArray_1;\n    } // \n\n\n    var polylinePoints = simple ? getPolylinePoints(points[points.length - 1], points[0], target, source, offset) : pathFinder(points[0], points[points.length - 1], source, target, routeCfg);\n    if (!polylinePoints || !polylinePoints.length) return 'M0 0, L0 0';\n\n    if (radius) {\n      var res_1 = getPathWithBorderRadiusByPolyline(polylinePoints, radius);\n      return res_1;\n    }\n\n    var res = Util.pointsToPolygon(polylinePoints);\n    return res;\n  }\n}, 'single-edge');","import { G6Event, IG6GraphEvent } from '@antv/f6-core';\nimport { IGraph } from '../interface/graph';\nimport Util from '../util';\n\nconst { cloneEvent, isNaN } = Util;\n\nconst { abs } = Math;\nconst DRAG_OFFSET = 10;\n\nexport default {\n  getDefaultCfg(): object {\n    return {\n      direction: 'both',\n      enableOptimize: false,\n      // drag-canvas  0\n      //  0 \n      //  0 \n      // https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*IFfoS67_HssAAAAAAAAAAAAAARQnAQ\n      scalableRange: 0,\n      allowDragOnItem: false,\n    };\n  },\n  getEvents(): { [key in G6Event]?: string } {\n    return {\n      dragstart: 'onDragStart',\n      drag: 'onDragMove',\n      dragend: 'onDragEnd',\n    };\n  },\n  updateViewport(e: IG6GraphEvent) {\n    const { origin } = this;\n    const clientX = +e.clientX;\n    const clientY = +e.clientY;\n\n    if (isNaN(clientX) || isNaN(clientY)) {\n      return;\n    }\n    let dx = clientX - origin.x;\n    let dy = clientY - origin.y;\n\n    if (this.get('direction') === 'x') {\n      dy = 0;\n    } else if (this.get('direction') === 'y') {\n      dx = 0;\n    }\n    this.origin = {\n      x: clientX,\n      y: clientY,\n    };\n    const width = this.graph.get('width');\n    const height = this.graph.get('height');\n    const graphCanvasBBox = this.graph.get('canvas').getCanvasBBox();\n\n    if (\n      (graphCanvasBBox.minX <= width + this.scalableRange &&\n        graphCanvasBBox.minX + dx > width + this.scalableRange) ||\n      (graphCanvasBBox.maxX + this.scalableRange >= 0 &&\n        graphCanvasBBox.maxX + this.scalableRange + dx < 0)\n    ) {\n      dx = 0;\n    }\n    if (\n      (graphCanvasBBox.minY <= height + this.scalableRange &&\n        graphCanvasBBox.minY + dy > height + this.scalableRange) ||\n      (graphCanvasBBox.maxY + this.scalableRange >= 0 &&\n        graphCanvasBBox.maxY + this.scalableRange + dy < 0)\n    ) {\n      dy = 0;\n    }\n    this.graph.translate(dx, dy);\n  },\n  onDragStart(e: IG6GraphEvent) {\n    const self = this as any;\n    const event = e.originalEvent as Event;\n    if (!this.shouldBegin.call(this, e)) {\n      return;\n    }\n\n    const target = e.target;\n    const targetIsCanvas = target && target.isCanvas && target.isCanvas();\n    if (!this.allowDragOnItem && !targetIsCanvas) return;\n\n    self.origin = { x: e.clientX, y: e.clientY };\n    self.dragging = false;\n\n    if (this.enableOptimize) {\n      //  canvas label\n      const graph: IGraph = this.graph;\n      const edges = graph.getEdges();\n      for (let i = 0, len = edges.length; i < len; i++) {\n        const shapes = edges[i].get('group').get('children');\n        if (!shapes) continue;\n        shapes.forEach((shape) => {\n          shape.set('ori-visibility', shape.get('ori-visibility') || shape.get('visible'));\n          shape.hide();\n        });\n      }\n      const nodes = graph.getNodes();\n      for (let j = 0, nodeLen = nodes.length; j < nodeLen; j++) {\n        const container = nodes[j].getContainer();\n        const children = container.get('children');\n        for (const child of children) {\n          const isKeyShape = child.get('isKeyShape');\n          if (!isKeyShape) {\n            child.set('ori-visibility', child.get('ori-visibility') || child.get('visible'));\n            child.hide();\n          }\n        }\n      }\n    }\n  },\n\n  onDragMove(e: IG6GraphEvent) {\n    const { graph } = this;\n    const target = e.target;\n    const targetIsCanvas = target && target.isCanvas && target.isCanvas();\n    if (!this.allowDragOnItem && !targetIsCanvas) return;\n\n    e = cloneEvent(e);\n    if (!this.origin) {\n      return;\n    }\n\n    if (!this.dragging) {\n      if (abs(this.origin.x - e.clientX) + abs(this.origin.y - e.clientY) < DRAG_OFFSET) {\n        return;\n      }\n      if (this.shouldBegin.call(this, e)) {\n        e.type = 'dragstart';\n        this.dragging = true;\n      }\n    }\n    if (this.shouldUpdate.call(this, e)) {\n      this.updateViewport(e);\n    }\n  },\n  onDragEnd(e: IG6GraphEvent) {\n    const { graph } = this;\n\n    if (this.enableOptimize) {\n      // \n      const edges = graph.getEdges();\n      for (let i = 0, len = edges.length; i < len; i++) {\n        const shapes = edges[i].get('group').get('children');\n        if (!shapes) continue;\n        shapes.forEach((shape) => {\n          const oriVis = shape.get('ori-visibility');\n          if (oriVis) shape.show();\n        });\n      }\n      const nodes = graph.getNodes();\n      for (let j = 0, nodeLen = nodes.length; j < nodeLen; j++) {\n        const container = nodes[j].getContainer();\n        const children = container.get('children');\n        for (const child of children) {\n          const isKeyShape = child.get('isKeyShape');\n          if (!isKeyShape) {\n            const oriVis = child.get('ori-visibility');\n            if (oriVis) child.show();\n          }\n        }\n      }\n    }\n\n    if (!this.dragging) {\n      this.origin = null;\n      return;\n    }\n\n    e = cloneEvent(e);\n\n    if (this.shouldEnd.call(this, e)) {\n      this.updateViewport(e);\n    }\n    e.type = 'dragend';\n    // graph.emit('canvas:dragend', e);\n    this.endDrag();\n  },\n  endDrag() {\n    this.origin = null;\n    this.dragging = false;\n    this.dragbegin = false;\n  },\n};\n","/*\n * @Author: moyee\n * @Date: 2019-06-27 18:12:06\n * @LastEditors: moyee\n * @LastEditTime: 2019-08-22 18:41:45\n * @Description: Behavior\n */\nimport { Point } from '@antv/g-base';\nimport { deepMix, clone } from '@antv/util';\nimport { G6Event, IG6GraphEvent, Item, NodeConfig, INode, ICombo } from '@antv/f6-core';\nimport { IGraph } from '../interface/graph';\nimport Global from '../global';\n\nexport default {\n  getDefaultCfg(): object {\n    return {\n      updateEdge: true,\n      delegateStyle: {},\n      // delegate\n      enableDelegate: false,\n      //  Combo \n      onlyChangeComboSize: false,\n      //  combo \n      comboActiveState: '',\n      selectedState: 'selected',\n    };\n  },\n  getEvents(): { [key in G6Event]?: string } {\n    return {\n      'node:dragstart': 'onDragStart',\n      'node:drag': 'onDrag',\n      'node:dragend': 'onDragEnd',\n      'combo:dragenter': 'onDragEnter',\n      'combo:dragleave': 'onDragLeave',\n      'combo:drop': 'onDropCombo',\n      'node:drop': 'onDropNode',\n      'canvas:drop': 'onDropCanvas',\n    };\n  },\n  validationCombo(item: ICombo) {\n    if (!this.origin || !item || item.destroyed) {\n      return false;\n    }\n\n    const type = item.getType();\n    if (type !== 'combo') {\n      return false;\n    }\n    return true;\n  },\n  /**\n   * \n   * @param evt\n   */\n  onDragStart(evt: IG6GraphEvent) {\n    if (!this.shouldBegin.call(this, evt)) {\n      return;\n    }\n\n    const item: INode = evt.item as INode;\n    if (!item || item.destroyed || item.hasLocked()) {\n      return;\n    }\n\n    // target linkPoints / anchorPoints \n    const { target } = evt;\n    if (target) {\n      const isAnchorPoint = target.get('isAnchorPoint');\n      if (isAnchorPoint) {\n        return;\n      }\n    }\n\n    const { graph } = this;\n\n    this.targets = [];\n\n    //  Combo\n    this.targetCombo = null;\n\n    // \n    const nodes = graph.findAllByState('node', this.selectedState);\n\n    const currentNodeId = item.get('id');\n\n    // \n    const dragNodes = nodes.filter((node) => {\n      const nodeId = node.get('id');\n      return currentNodeId === nodeId;\n    });\n\n    // \n    if (dragNodes.length === 0) {\n      this.targets.push(item);\n    } else if (nodes.length > 1) {\n      // \n      nodes.forEach((node) => {\n        const locked = node.hasLocked();\n        if (!locked) {\n          this.targets.push(node);\n        }\n      });\n    } else {\n      this.targets.push(item);\n    }\n    const beforeDragNodes = [];\n    this.targets.forEach((t) => {\n      beforeDragNodes.push(clone(t.getModel()));\n    });\n    this.set('beforeDragNodes', beforeDragNodes);\n\n    this.origin = {\n      x: evt.x,\n      y: evt.y,\n    };\n\n    this.point = {};\n    this.originPoint = {};\n  },\n\n  /**\n   * \n   * @param evt\n   */\n  onDrag(evt: IG6GraphEvent) {\n    if (!this.origin) {\n      return;\n    }\n\n    if (!this.shouldUpdate(this, evt)) {\n      return;\n    }\n\n    if (this.get('enableDelegate')) {\n      this.updateDelegate(evt);\n    } else {\n      this.targets.map((target) => {\n        this.update(target, evt);\n      });\n    }\n  },\n  /**\n   * capturetrue combo combo \n   * @param evt\n   */\n  onDragEnd(evt: IG6GraphEvent) {\n    if (!this.origin || !this.shouldEnd.call(this, evt)) {\n      return;\n    }\n\n    //  group  capture  true\n    const item = evt.item as INode;\n    if (item) {\n      const group = item.getContainer();\n      group.set('capture', true);\n    }\n\n    if (this.delegateRect) {\n      this.delegateRect.remove();\n      this.delegateRect = null;\n    }\n\n    this.updatePositions(evt);\n\n    const graph: IGraph = this.graph;\n\n    // \n    if (graph.get('enabledStack')) {\n      const stackData = {\n        before: { nodes: this.get('beforeDragNodes'), edges: [], combos: [] },\n        after: { nodes: [], edges: [], combos: [] },\n      };\n\n      this.targets.forEach((target) => {\n        stackData.after.nodes.push(target.getModel());\n      });\n      graph.pushStack('update', clone(stackData));\n    }\n\n    // emitnull\n    graph.emit('dragnodeend', {\n      items: this.targets,\n      targetItem: null,\n    });\n\n    this.point = {};\n    this.origin = null;\n    this.originPoint = {};\n    this.targets.length = 0;\n    this.targetCombo = null;\n  },\n  /**\n   *  combo \n   * @param evt\n   */\n  onDropCombo(evt: IG6GraphEvent) {\n    const item = evt.item as ICombo;\n    if (!this.validationCombo(item)) return;\n\n    this.updatePositions(evt);\n\n    const graph: IGraph = this.graph;\n\n    if (this.comboActiveState) {\n      graph.setItemState(item, this.comboActiveState, false);\n    }\n\n    this.targetCombo = item;\n\n    //  Combo  Combo \n    if (this.onlyChangeComboSize) {\n      //  Combo \n      graph.updateCombos();\n    } else {\n      const targetComboModel = item.getModel();\n      this.targets.map((node: INode) => {\n        const nodeModel = node.getModel();\n        if (nodeModel.comboId !== targetComboModel.id) {\n          graph.updateComboTree(node, targetComboModel.id);\n        }\n      });\n      graph.updateCombo(item as ICombo);\n    }\n\n    //  combo emit combo\n    graph.emit('dragnodeend', {\n      items: this.targets,\n      targetItem: this.targetCombo,\n    });\n  },\n\n  onDropCanvas(evt: IG6GraphEvent) {\n    const graph: IGraph = this.graph;\n    if (!this.targets || this.targets.length === 0) return;\n    this.updatePositions(evt);\n    if (this.onlyChangeComboSize) {\n      //  Combo \n      graph.updateCombos();\n    } else {\n      this.targets.map((node: INode) => {\n        //  comboId combo \n        const model = node.getModel();\n        if (model.comboId) {\n          graph.updateComboTree(node);\n        }\n      });\n    }\n  },\n\n  /**\n   *  combo  node \n   * @param evt\n   */\n  onDropNode(evt: IG6GraphEvent) {\n    const self = this;\n    if (!self.targets || self.targets.length === 0) return;\n    const item = evt.item as INode;\n    self.updatePositions(evt);\n    const graph: IGraph = self.graph;\n\n    const comboId = item.getModel().comboId as string;\n\n    if (comboId) {\n      const combo = graph.findById(comboId);\n      if (self.comboActiveState) {\n        graph.setItemState(combo, self.comboActiveState, false);\n      }\n      self.targets.map((node: INode) => {\n        const nodeModel = node.getModel();\n        if (comboId !== nodeModel.comboId) {\n          graph.updateComboTree(node, comboId);\n        }\n      });\n      graph.updateCombo(combo as ICombo);\n    } else {\n      self.targets.map((node: INode) => {\n        const model = node.getModel();\n        if (model.comboId) {\n          graph.updateComboTree(node);\n        }\n      });\n    }\n\n    // emit \n    graph.emit('dragnodeend', {\n      items: self.targets,\n      targetItem: item,\n    });\n  },\n  /**\n   *  Combo \n   * @param evt\n   */\n  onDragEnter(evt: IG6GraphEvent) {\n    const item = evt.item as ICombo;\n    if (!this.validationCombo(item)) return;\n\n    const graph: IGraph = this.graph;\n    if (this.comboActiveState) {\n      graph.setItemState(item, this.comboActiveState, true);\n    }\n  },\n  /**\n   *  Combo \n   * @param evt\n   */\n  onDragLeave(evt: IG6GraphEvent) {\n    const item = evt.item as ICombo;\n    if (!this.validationCombo(item)) return;\n\n    const graph: IGraph = this.graph;\n    if (this.comboActiveState) {\n      graph.setItemState(item, this.comboActiveState, false);\n    }\n  },\n\n  updatePositions(evt: IG6GraphEvent) {\n    if (!this.targets || this.targets.length === 0) return;\n    //  delegate \n    if (this.get('enableDelegate')) {\n      this.targets.map((node) => this.update(node, evt));\n    }\n  },\n  /**\n   * \n   * @param item \n   * @param evt\n   */\n  update(item: Item, evt: IG6GraphEvent) {\n    const { origin } = this;\n    const model: NodeConfig = item.get('model');\n    const nodeId: string = item.get('id');\n    if (!this.point[nodeId]) {\n      this.point[nodeId] = {\n        x: model.x || 0,\n        y: model.y || 0,\n      };\n    }\n\n    const x: number = evt.x - origin.x + this.point[nodeId].x;\n    const y: number = evt.y - origin.y + this.point[nodeId].y;\n\n    const pos: Point = { x, y };\n\n    if (this.get('updateEdge')) {\n      this.graph.updateItem(item, pos, false);\n    } else {\n      item.updatePosition(pos);\n    }\n  },\n  /**\n   * delegate\n   * @param {Event} e \n   * @param {number} x x\n   * @param {number} y y\n   */\n  updateDelegate(e) {\n    const { graph } = this;\n    if (!this.delegateRect) {\n      // \n      const parent = this.graph.get('group');\n      const attrs = deepMix({}, Global.delegateStyle, this.delegateStyle);\n\n      const { x: cx, y: cy, width, height, minX, minY } = this.calculationGroupPosition(e);\n      this.originPoint = { x: cx, y: cy, width, height, minX, minY };\n      // modelx, ydelegateShapegx,y\n      this.delegateRect = parent.addShape('rect', {\n        attrs: {\n          width,\n          height,\n          x: cx,\n          y: cy,\n          ...attrs,\n        },\n        name: 'rect-delegate-shape',\n      });\n      // this.delegateRect.set('capture', false);\n    } else {\n      const clientX = e.x - this.origin.x + this.originPoint.minX;\n      const clientY = e.y - this.origin.y + this.originPoint.minY;\n      this.delegateRect.attr({\n        x: clientX,\n        y: clientY,\n      });\n    }\n  },\n  /**\n   * delegate\n   * @memberof ItemGroup\n   * @return {object} delegate\n   */\n  calculationGroupPosition(evt: IG6GraphEvent) {\n    const { graph } = this;\n\n    const nodes = graph.findAllByState('node', this.selectedState);\n    if (nodes.length === 0) {\n      nodes.push(evt.item);\n    }\n\n    let minx = Infinity;\n    let maxx = -Infinity;\n    let miny = Infinity;\n    let maxy = -Infinity;\n\n    // x y\n    for (let i = 0; i < nodes.length; i++) {\n      const element = nodes[i];\n      const bbox = element.getBBox();\n      const { minX, minY, maxX, maxY } = bbox;\n      if (minX < minx) {\n        minx = minX;\n      }\n\n      if (minY < miny) {\n        miny = minY;\n      }\n\n      if (maxX > maxx) {\n        maxx = maxX;\n      }\n\n      if (maxY > maxy) {\n        maxy = maxY;\n      }\n    }\n\n    const x = Math.floor(minx);\n    const y = Math.floor(miny);\n    const width = Math.ceil(maxx) - Math.floor(minx);\n    const height = Math.ceil(maxy) - Math.floor(miny);\n\n    return {\n      x,\n      y,\n      width,\n      height,\n      minX: minx,\n      minY: miny,\n    };\n  },\n};\n","import { each } from '@antv/util';\nimport { G6Event, IG6GraphEvent } from '@antv/f6-core';\n\nexport default {\n  getDefaultCfg(): object {\n    return {\n      multiple: true,\n      selectedState: 'selected',\n    };\n  },\n  getEvents(): { [key in G6Event]?: string } {\n    const self = this as any;\n\n    return {\n      'node:tap': 'onClick',\n      'combo:tap': 'onClick',\n      'canvas:tap': 'onCanvasClick',\n    };\n  },\n  onClick(evt: IG6GraphEvent) {\n    const self = this;\n    const { item } = evt;\n    if (!item || item.destroyed) {\n      return;\n    }\n\n    const type = item.getType();\n    const { graph, multiple, shouldUpdate, shouldBegin } = self;\n    if (!shouldBegin.call(self, evt)) {\n      return;\n    }\n\n    // allow to select multiple nodes but did not press a key || do not allow the select multiple nodes\n    if (!multiple) {\n      const selected = graph.findAllByState(type, self.selectedState);\n      each(selected, (combo) => {\n        if (combo !== item) {\n          graph.setItemState(combo, self.selectedState, false);\n        }\n      });\n    }\n\n    if (item.hasState(self.selectedState)) {\n      if (shouldUpdate.call(self, evt)) {\n        graph.setItemState(item, self.selectedState, false);\n      }\n      const selectedNodes = graph.findAllByState('node', self.selectedState);\n      const selectedCombos = graph.findAllByState('combo', self.selectedState);\n      graph.emit('nodeselectchange', {\n        target: item,\n        selectedItems: {\n          nodes: selectedNodes,\n          combos: selectedCombos,\n        },\n        select: false,\n      });\n    } else {\n      if (shouldUpdate.call(self, evt)) {\n        graph.setItemState(item, self.selectedState, true);\n      }\n      const selectedNodes = graph.findAllByState('node', self.selectedState);\n      const selectedCombos = graph.findAllByState('combo', self.selectedState);\n      graph.emit('nodeselectchange', {\n        target: item,\n        selectedItems: {\n          nodes: selectedNodes,\n          combos: selectedCombos,\n        },\n        select: true,\n      });\n    }\n  },\n  onCanvasClick() {\n    const { graph } = this;\n    const selected = graph.findAllByState('node', this.selectedState);\n    each(selected, (node) => {\n      graph.setItemState(node, this.selectedState, false);\n    });\n\n    const selectedCombos = graph.findAllByState('combo', this.selectedState);\n    each(selectedCombos, (combo) => {\n      graph.setItemState(combo, this.selectedState, false);\n    });\n    graph.emit('nodeselectchange', {\n      selectedItems: { nodes: [], edges: [], combos: [] },\n      select: false,\n    });\n  },\n};\n","import { G6Event } from '@antv/f6-core';\n\nexport default {\n  firstScale: null,\n  getDefaultCfg(): object {\n    return {\n      originScale: 1,\n      sensitivity: 2,\n      minZoom: undefined,\n      maxZoom: undefined,\n      enableOptimize: false,\n      optimizeZoom: 0.1,\n      fixSelectedItems: {\n        fixAll: false,\n        fixLineWidth: false,\n        fixLabel: false,\n        fixState: 'selected',\n      },\n    };\n  },\n  getEvents(): { [key in G6Event]?: string } {\n    const { fixSelectedItems } = this;\n\n    if (!fixSelectedItems.fixState) fixSelectedItems.fixState = 'selected';\n    if (fixSelectedItems.fixAll) {\n      fixSelectedItems.fixLineWidth = true;\n      fixSelectedItems.fixLabel = true;\n    }\n\n    return {\n      pinchstart: 'onPinch',\n      pinchmove: 'onPinch',\n    };\n  },\n  onPinch(evt) {\n    if (evt.preventDefault) evt.preventDefault();\n    if (evt.originalEvent.preventDefault) evt.originalEvent.preventDefault();\n\n    const pointers = evt.originalEvent.pointers;\n    if (pointers.length < 2) return;\n\n    if (evt.type === 'pinchstart') {\n      this.firstScale = this.graph.getZoom();\n    }\n\n    const scale = evt.originalEvent.scale || evt.originalEvent.srcEvent.extra.scale;\n\n    // \n    const zoom = this.firstScale * scale;\n\n    // \n    this.currentScale = zoom;\n\n    const minZoom = this.get('minZoom') || this.graph.get('minZoom');\n    const maxZoom = this.get('maxZoom') || this.graph.get('maxZoom');\n\n    if (zoom > maxZoom || zoom < minZoom) {\n      return;\n    }\n    const canvas = this.graph.get('canvas');\n\n    const posA = { x: pointers[0].clientX, y: pointers[0].clientY };\n    const posB = { x: pointers[1].clientX, y: pointers[1].clientY };\n    // \n    const point = canvas.getPointByClient((posA.x + posB.x) / 2, (posA.y + posB.y) / 2);\n    this.graph.zoomTo(zoom, { x: point.x, y: point.y });\n  },\n};\n","import { G6Event, IG6GraphEvent } from '@antv/f6-core';\n\nconst DEFAULT_TRIGGER = 'tap';\nconst ALLOW_EVENTS = ['tap', 'dbltap'];\nexport default {\n  getDefaultCfg(): object {\n    return {\n      /**\n       * /\n       */\n      trigger: DEFAULT_TRIGGER,\n      onChange() {},\n    };\n  },\n  getEvents(): { [key in G6Event]?: string } {\n    let trigger: string;\n    // \n    if (ALLOW_EVENTS.includes(this.trigger)) {\n      ({ trigger } = this);\n    } else {\n      trigger = DEFAULT_TRIGGER;\n      // eslint-disable-next-line no-console\n      console.warn(\"Behavior collapse-expand  trigger  'click'  'dblclick'\");\n    }\n    return {\n      [`node:${trigger}`]: 'onNodeTap',\n      // \n      touchstart: 'onNodeTap',\n    };\n  },\n  onNodeTap(e: IG6GraphEvent) {\n    const { item } = e;\n\n    // model  merge model \n    const sourceData = this.graph.findDataById(item.get('id'));\n    if (!sourceData) {\n      return;\n    }\n\n    const { children } = sourceData;\n    // \n    if (!children || children.length === 0) {\n      return;\n    }\n    const collapsed = !sourceData.collapsed;\n    if (!this.shouldBegin(e, collapsed)) {\n      return;\n    }\n    sourceData.collapsed = collapsed;\n    item.getModel().collapsed = collapsed;\n    this.graph.emit('itemcollapsed', { item: e.item, collapsed });\n    if (!this.shouldUpdate(e, collapsed)) {\n      return;\n    }\n    try {\n      this.onChange(item, collapsed);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.warn(err);\n    }\n    this.graph.layout();\n  },\n};\n","/*\n * @Author: moyee\n * @LastEditors: moyee\n * @Description:  Combo\n */\nimport { each } from '@antv/util';\nimport { IGroup } from '@antv/g-base';\nimport { G6Event, IG6GraphEvent, Item, ComboConfig, ICombo, INode } from '@antv/f6-core';\nimport { IGraph } from '../interface/graph';\nimport Util from '../util';\nimport Global from '../global';\n\nconst { calculationItemsBBox } = Util;\n\n/**\n *  Combo  Combo\n * @param data  Combo\n * @param fn\n */\nconst traverseCombo = (data, fn: (param: any) => boolean) => {\n  if (fn(data) === false) {\n    return;\n  }\n\n  if (data) {\n    const combos = data.get('combos');\n    if (combos.length === 0) {\n      return false;\n    }\n    each(combos, (child) => {\n      traverseCombo(child, fn);\n    });\n  }\n};\n\nexport default {\n  getDefaultCfg() {\n    return {\n      enableDelegate: false,\n      delegateStyle: {},\n      //  Combo \n      onlyChangeComboSize: false,\n      //  combo \n      activeState: '',\n      selectedState: 'selected',\n    };\n  },\n  getEvents(): { [key in G6Event]?: string } {\n    return {\n      'combo:dragstart': 'onDragStart',\n      'combo:drag': 'onDrag',\n      'combo:dragend': 'onDragEnd',\n      'combo:drop': 'onDrop',\n      'node:drop': 'onNodeDrop',\n      'combo:dragenter': 'onDragEnter',\n      'combo:dragleave': 'onDragLeave',\n    };\n  },\n  validationCombo(evt: IG6GraphEvent) {\n    const { item } = evt;\n    if (!item || item.destroyed) {\n      return false;\n    }\n\n    if (!this.shouldUpdate(this, evt)) {\n      return false;\n    }\n\n    const type = item.getType();\n\n    if (type !== 'combo') {\n      return false;\n    }\n    return true;\n  },\n  onDragStart(evt: IG6GraphEvent) {\n    const graph: IGraph = this.graph;\n    const { item } = evt;\n\n    if (!this.validationCombo(evt)) return;\n\n    this.targets = [];\n\n    //  Combo\n    const combos = graph.findAllByState('combo', this.selectedState);\n\n    const currentCombo = item.get('id');\n\n    const dragCombos = combos.filter((combo) => {\n      const comboId = combo.get('id');\n      return currentCombo === comboId;\n    });\n\n    if (dragCombos.length === 0) {\n      this.targets.push(item);\n    } else {\n      this.targets = combos;\n    }\n\n    if (this.activeState) {\n      this.targets.map((combo: ICombo) => {\n        const model = combo.getModel() as ComboConfig;\n        if (model.parentId) {\n          const parentCombo = graph.findById(model.parentId);\n          if (parentCombo) {\n            graph.setItemState(parentCombo, this.activeState, true);\n          }\n        }\n      });\n    }\n\n    this.point = {};\n    this.originPoint = {};\n\n    this.origin = {\n      x: evt.x,\n      y: evt.y,\n    };\n\n    this.currentItemChildCombos = [];\n\n    traverseCombo(item, (param) => {\n      if (param.destroyed) {\n        return false;\n      }\n      const model = param.getModel();\n      this.currentItemChildCombos.push(model.id);\n      return true;\n    });\n  },\n  onDrag(evt: IG6GraphEvent) {\n    if (!this.origin) {\n      return;\n    }\n\n    if (!this.validationCombo(evt)) return;\n\n    if (this.enableDelegate) {\n      this.updateDelegate(evt);\n    } else {\n      if (this.activeState) {\n        const graph: IGraph = this.graph;\n        const item: Item = evt.item;\n        const model = item.getModel();\n        // \n        const combos = graph.getCombos();\n        const sourceBBox = item.getBBox();\n\n        const { centerX, centerY, width } = sourceBBox;\n\n        //  Combo\n        // 1 combo \n        // 2 combo  parent\n        // 3 Combo  children\n\n        const calcCombos = combos.filter((combo) => {\n          const cmodel = combo.getModel() as ComboConfig;\n          //  Combo parent\n          if (!model.parentId) {\n            return cmodel.id !== model.id && !this.currentItemChildCombos.includes(cmodel.id);\n          }\n          return cmodel.id !== model.id && !this.currentItemChildCombos.includes(cmodel.id);\n        });\n\n        calcCombos.map((combo) => {\n          const { centerX: cx, centerY: cy, width: w } = combo.getBBox();\n\n          //  combo  combo \n          const disX = centerX - cx;\n          const disY = centerY - cy;\n          // \n          const distance = 2 * Math.sqrt(disX * disX + disY * disY);\n\n          if (width + w - distance > 0.8 * width) {\n            graph.setItemState(combo, this.activeState, true);\n          } else {\n            graph.setItemState(combo, this.activeState, false);\n          }\n        });\n      }\n\n      each(this.targets, (item) => {\n        this.updateCombo(item, evt);\n      });\n    }\n  },\n\n  updatePositions(evt: IG6GraphEvent) {\n    //  delegate  combo\n    if (this.enableDelegate) {\n      each(this.targets, (item) => {\n        this.updateCombo(item, evt);\n      });\n    }\n  },\n\n  onDrop(evt: IG6GraphEvent) {\n    //  combo\n    const { item } = evt;\n    if (!item || !this.targets || item.destroyed) {\n      return;\n    }\n    this.updatePositions(evt);\n\n    const graph: IGraph = this.graph;\n\n    const targetModel = item.getModel();\n\n    this.targets.map((combo: ICombo) => {\n      const model = combo.getModel();\n      if (model.parentId !== targetModel.id) {\n        if (this.activeState) {\n          graph.setItemState(item, this.activeState, false);\n        }\n        //  Combo  Combo  onlyChangeComboSize  false  Combo \n        if (!this.onlyChangeComboSize) {\n          graph.updateComboTree(combo, targetModel.id);\n        } else {\n          graph.updateCombo(combo);\n        }\n      } else {\n        graph.updateCombo(item as ICombo);\n      }\n    });\n\n    this.end(item, evt);\n\n    // \n    this.endComparison = true;\n  },\n  onNodeDrop(evt: IG6GraphEvent) {\n    if (!this.targets || this.targets.length === 0) return;\n    this.updatePositions(evt);\n    const graph: IGraph = this.graph;\n\n    const item = evt.item as INode;\n    const comboId = item.getModel().comboId as string;\n    let droppedCombo;\n    //  comboId comboId  combo  id  comboId\n    if (comboId) {\n      if (this.activeState) {\n        const combo = graph.findById(comboId);\n        graph.setItemState(combo, this.activeState, false);\n      }\n      this.targets.map((combo: ICombo) => {\n        if (!this.onlyChangeComboSize) {\n          if (comboId !== combo.getID()) {\n            droppedCombo = graph.findById(comboId);\n            if (comboId !== combo.getModel().parentId) graph.updateComboTree(combo, comboId);\n          }\n        } else {\n          graph.updateCombo(combo);\n        }\n      });\n    } else {\n      //  comboId combo  id undefined\n      this.targets.map((combo: ICombo) => {\n        if (!this.onlyChangeComboSize) {\n          const model = combo.getModel();\n          if (model.comboId) {\n            graph.updateComboTree(combo);\n          }\n        } else {\n          graph.updateCombo(combo);\n        }\n      });\n    }\n\n    // \n    this.endComparison = true;\n    this.end(droppedCombo, evt);\n  },\n  onDragEnter(evt: IG6GraphEvent) {\n    if (!this.origin) {\n      return;\n    }\n\n    if (!this.validationCombo(evt)) return;\n\n    const { item } = evt;\n    const graph: IGraph = this.graph;\n    if (this.activeState) {\n      graph.setItemState(item, this.activeState, true);\n    }\n  },\n  onDragLeave(evt) {\n    if (!this.origin) {\n      return;\n    }\n\n    if (!this.validationCombo(evt)) return;\n\n    const item = evt.item as ICombo;\n    const graph: IGraph = this.graph;\n    if (this.activeState) {\n      graph.setItemState(item, this.activeState, false);\n    }\n  },\n  onDragEnd(evt: IG6GraphEvent) {\n    if (!this.targets || this.targets.length === 0) return;\n    const item = evt.item;\n    this.updatePositions(evt);\n    const parentCombo = this.getParentCombo(item.getModel().parentId);\n    const graph: IGraph = this.graph;\n    if (parentCombo && this.activeState) {\n      graph.setItemState(parentCombo, this.activeState, false);\n    }\n    this.end(undefined, evt);\n  },\n\n  end(comboDropedOn: ICombo | undefined, evt: IG6GraphEvent) {\n    if (!this.origin) return;\n    const graph: IGraph = this.graph;\n\n    // delegate shape\n    if (this.delegateShape) {\n      const delegateGroup = graph.get('delegateGroup');\n      delegateGroup.clear();\n      this.delegateShape = null;\n    }\n\n    if (comboDropedOn && this.activeState) {\n      graph.setItemState(comboDropedOn, this.activeState, false);\n    }\n    //  combo\n    if (!comboDropedOn) {\n      this.targets.map((combo: ICombo) => {\n        //  Combo  Combo  onlyChangeComboSize  false  Combo \n        if (!this.onlyChangeComboSize) {\n          graph.updateComboTree(combo);\n        } else {\n          graph.updateCombo(combo);\n        }\n      });\n    }\n\n    this.point = [];\n    this.origin = null;\n    this.originPoint = null;\n    this.targets.length = 0;\n  },\n\n  /**\n   *  comboTree node  combo\n   * @param data\n   * @param fn\n   */\n  traverse<T extends Item>(data: T, fn: (param: T) => boolean) {\n    if (fn(data) === false) {\n      return;\n    }\n\n    if (data) {\n      const combos = data.get('combos');\n      each(combos, (child) => {\n        this.traverse(child, fn);\n      });\n\n      const nodes = data.get('nodes');\n      each(nodes, (child) => {\n        this.traverse(child, fn);\n      });\n    }\n  },\n\n  updateCombo(item: ICombo, evt: IG6GraphEvent) {\n    this.traverse(item, (param) => {\n      if (param.destroyed) {\n        return false;\n      }\n      this.updateSignleItem(param, evt);\n      return true;\n    });\n  },\n\n  /**\n   *\n   * @param item \n   * @param evt\n   */\n  updateSignleItem(item: Item, evt: IG6GraphEvent) {\n    const { origin } = this;\n    const graph: IGraph = this.graph;\n    const model = item.getModel() as ComboConfig;\n    const itemId = item.get('id');\n\n    if (!this.point[itemId]) {\n      this.point[itemId] = {\n        x: model.x,\n        y: model.y,\n      };\n    }\n\n    const x: number = evt.x - origin.x + this.point[itemId].x;\n    const y: number = evt.y - origin.y + this.point[itemId].y;\n\n    graph.updateItem(item, { x, y });\n  },\n\n  /**\n   *  ID  Combo\n   * @param parentId  Combo ID\n   */\n  getParentCombo(parentId: string): ICombo | undefined {\n    const graph: IGraph = this.graph;\n    if (!parentId) {\n      return undefined;\n    }\n\n    const parentCombo = graph.findById(parentId) as ICombo;\n    if (!parentCombo) {\n      return undefined;\n    }\n\n    return parentCombo;\n  },\n\n  updateDelegate(evt: IG6GraphEvent) {\n    const graph: IGraph = this.graph;\n    //  delegate shape \n    if (!this.delegateShape) {\n      const delegateGroup: IGroup = graph.get('delegateGroup');\n\n      let bbox = null;\n      if (this.targets.length > 1) {\n        bbox = calculationItemsBBox(this.targets);\n      } else {\n        bbox = this.targets[0].getBBox();\n      }\n\n      const { x, y, width, height, minX, minY } = bbox;\n\n      this.originPoint = { x, y, width, height, minX, minY };\n\n      const attrs = { ...Global.delegateStyle, ...this.delegateStyle };\n\n      this.delegateShape = delegateGroup.addShape('rect', {\n        attrs: {\n          width: bbox.width,\n          height: bbox.height,\n          x: bbox.x,\n          y: bbox.y,\n          ...attrs,\n        },\n        name: 'combo-delegate-shape',\n      });\n    } else {\n      const clientX = evt.x - this.origin.x + this.originPoint.minX;\n      const clientY = evt.y - this.origin.y + this.originPoint.minY;\n\n      this.delegateShape.attr({\n        x: clientX,\n        y: clientY,\n      });\n    }\n  },\n};\n","/*\n * @Author: Shiwu\n * @Description:  Combo\n */\n\nimport { G6Event, IG6GraphEvent } from '@antv/f6-core';\n\nconst DEFAULT_TRIGGER = 'dblclick';\nconst ALLOW_EVENTS = ['click', 'dblclick'];\nexport default {\n  getDefaultCfg(): object {\n    return {\n      trigger: DEFAULT_TRIGGER,\n      relayout: true,\n    };\n  },\n  getEvents(): { [key in G6Event]?: string } {\n    let trigger: string;\n    // \n    if (ALLOW_EVENTS.includes(this.trigger)) {\n      trigger = this.trigger;\n    } else {\n      trigger = DEFAULT_TRIGGER;\n      // eslint-disable-next-line no-console\n      console.warn(\n        \"Behavior collapse-expand-group  trigger  'click'  'dblclick'\",\n      );\n    }\n    return {\n      [`combo:${trigger}`]: 'onComboClick',\n    };\n  },\n  onComboClick(evt: IG6GraphEvent) {\n    const { item } = evt;\n    const { graph, relayout } = this;\n\n    if (!item || item.destroyed || item.getType() !== 'combo') return;\n    const model = item.getModel();\n    const comboId = model.id;\n    if (!comboId) {\n      return;\n    }\n    graph.collapseExpandCombo(comboId);\n    if (relayout && graph.get('layout')) graph.layout();\n    else graph.refreshPositions();\n  },\n};\n","import { G6Event, IG6GraphEvent, EdgeConfig } from '@antv/f6-core';\nimport { IGraph } from '../interface/graph';\n\nconst DEFAULT_TRIGGER = 'tap';\nconst ALLOW_EVENTS = ['tap', 'drag'];\nconst DEFAULT_KEY = undefined;\nconst ALLOW_KEYS = ['shift', 'ctrl', 'control', 'alt', 'meta', undefined];\n\nexport default {\n  getDefaultCfg(): object {\n    return {\n      trigger: DEFAULT_TRIGGER,\n      key: DEFAULT_KEY,\n      edgeConfig: {},\n    };\n  },\n  getEvents(): { [key in G6Event]?: string } {\n    const self = this as any;\n    // \n    if (!(ALLOW_EVENTS.indexOf(self.trigger.toLowerCase()) > -1)) {\n      self.trigger = DEFAULT_TRIGGER;\n      // eslint-disable-next-line no-console\n      console.warn(\"Behavior create-edge  trigger  'click''drag'\");\n    }\n    if (self.key && ALLOW_KEYS.indexOf(self.key.toLowerCase()) === -1) {\n      self.trigger = DEFAULT_KEY;\n      // eslint-disable-next-line no-console\n      console.warn(\n        \"Behavior create-edge  key  'shift''ctrl''alt''control' undefined\",\n      );\n    }\n    let events;\n    if (self.trigger === 'drag') {\n      events = {\n        'node:dragstart': 'onClick',\n        'combo:dragstart': 'onClick',\n        drag: 'updateEndPoint',\n        'node:drop': 'onClick',\n        'combo:drop': 'onClick',\n        dragend: 'onDragEnd',\n      };\n    } else if (self.trigger === 'click') {\n      events = {\n        'node:tap': 'onClick', // The event is node:click, the responsing function is onClick\n        mousemove: 'updateEndPoint', // The event is mousemove, the responsing function is onMousemove\n        'edge:tap': 'cancelCreating', // The event is edge:click, the responsing function is onEdgeClick\n        'canvas:tap': 'cancelCreating',\n        'combo:tap': 'onClick',\n      };\n    }\n    if (self.key) {\n      events.keydown = 'onKeyDown';\n      events.keyup = 'onKeyUp';\n    }\n    return events;\n  },\n  onDragEnd(ev: IG6GraphEvent) {\n    const self = this;\n    if (self.key && !self.keydown) return;\n    const { item } = ev;\n    if (!item || item.getID() === self.source || item.getType() !== 'node')\n      self.cancelCreating({\n        item: self.edge,\n        x: ev.x,\n        y: ev.y,\n      });\n  },\n  // \n  onClick(ev: IG6GraphEvent) {\n    const self = this;\n    if (self.key && !self.keydown) return;\n    const node = ev.item;\n    const graph: IGraph = self.graph;\n    const model = node.getModel();\n    // \n    if (self.addingEdge && self.edge) {\n      if (!self.shouldEnd.call(self, ev)) return;\n      const updateCfg: EdgeConfig = {\n        target: model.id,\n      };\n      if (self.source === model.id) {\n        updateCfg.type = 'loop';\n      }\n\n      graph.emit('beforecreateedge', {});\n\n      graph.updateItem(self.edge, updateCfg);\n\n      graph.emit('aftercreateedge', {\n        edge: self.edge,\n      });\n\n      //  capture  true\n      self.edge.getKeyShape().set('capture', true);\n\n      self.edge = null;\n      self.addingEdge = false;\n    } else {\n      // \n      if (!self.shouldBegin.call(self, ev)) return;\n      self.edge = graph.addItem(\n        'edge',\n        {\n          source: model.id,\n          target: model.id,\n          ...self.edgeConfig,\n        },\n        false,\n      );\n      self.source = model.id;\n      self.addingEdge = true;\n      //  capture  false\n      self.edge.getKeyShape().set('capture', false);\n    }\n  },\n  // \n  updateEndPoint(ev: IG6GraphEvent) {\n    const self = this;\n    if (self.key && !self.keydown) return;\n    const point = { x: ev.x, y: ev.y };\n\n    //  source \n    if (!self.graph.findById(self.source)) {\n      self.addingEdge = false;\n      return;\n    }\n    if (self.addingEdge && self.edge) {\n      // \n      self.graph.updateItem(\n        self.edge,\n        {\n          target: point,\n        },\n        false,\n      );\n    }\n  },\n  // \n  cancelCreating(ev: IG6GraphEvent) {\n    const self = this;\n    if (self.key && !self.keydown) return;\n    const graph: IGraph = self.graph;\n    const currentEdge = ev.item;\n    if (self.addingEdge && ev.target && ev.target.isCanvas && ev.target.isCanvas()) {\n      graph.removeItem(self.edge, false);\n      self.edge = null;\n      self.addingEdge = false;\n      return;\n    }\n    if (self.addingEdge && self.edge === currentEdge) {\n      let cancelEdge = true;\n      // !graph.get('groupByTypes')  click \n      if (!graph.get('groupByTypes')) {\n        // \n        const { x, y } = ev;\n        const nodes = graph.getNodes();\n        const length = nodes.length;\n        for (let i = 0; i < length; i++) {\n          const node = nodes[i];\n          const model = node.getModel();\n          const nodeBBox = node.getBBox();\n          if (\n            x <= nodeBBox.maxX &&\n            x >= nodeBBox.minX &&\n            y <= nodeBBox.maxY &&\n            y >= nodeBBox.minY\n          ) {\n            if (\n              !self.shouldEnd.call(self, {\n                x: ev.x,\n                y: ev.y,\n                canvasX: ev.canvasX,\n                canvasY: ev.canvasY,\n                clientX: ev.clientX,\n                clientY: ev.clientY,\n                item: node,\n              })\n            ) {\n              return;\n            }\n\n            graph.emit('beforecreateedge', {});\n\n            graph.updateItem(self.edge, {\n              target: model.id,\n            });\n            graph.emit('aftercreateedge', {\n              edge: self.edge,\n            });\n            cancelEdge = false;\n            break;\n          }\n        }\n      }\n      if (cancelEdge) graph.removeItem(self.edge, false);\n      self.edge = null;\n      self.addingEdge = false;\n    }\n  },\n\n  onKeyDown(e: IG6GraphEvent) {\n    const self = this;\n    const code = e.key;\n    if (!code) {\n      return;\n    }\n    if (code.toLowerCase() === self.key.toLowerCase()) {\n      self.keydown = true;\n    } else {\n      self.keydown = false;\n    }\n  },\n  onKeyUp() {\n    const self = this;\n    if (self.addingEdge && self.edge) {\n      // \n      self.graph.removeItem(self.edge, false);\n      self.addingEdge = false;\n      self.edge = null;\n    }\n    this.keydown = false;\n  },\n};\n","import { each } from '@antv/util';\nimport { IAbstractGraph, G6Event } from '@antv/f6-core';\n\nexport default {\n  /**\n   * auto bind events when register behavior\n   * @param graph Graph instance\n   */\n  bind(graph: IAbstractGraph) {\n    if (this.type === 'drag-canvas') {\n      graph.get('canvas').set('draggable', true);\n    }\n    const { events } = this;\n    this.graph = graph;\n    each(events, (handler: () => void, event: G6Event) => {\n      graph.on(event, handler);\n    });\n  },\n\n  unbind(graph: IAbstractGraph) {\n    const { events } = this;\n    if (this.type === 'drag-canvas') {\n      graph.get('canvas').set('draggable', false);\n    }\n    this.graph = null;\n    each(events, (handler: () => void, event: G6Event) => {\n      graph.off(event, handler);\n    });\n  },\n};\n","import { each } from '@antv/util';\nimport { registerBehavior } from '@antv/f6-core';\nimport DragCanvas from './drag-canvas';\nimport DragNode from './drag-node';\nimport ActivateRelations from './activate-relations';\nimport ClickSelect from './click-select';\nimport ZoomCanvas from './zoom-canvas';\nimport CollapseExpand from './collapse-expand';\nimport DragCombo from './drag-combo';\nimport CollapseExpandCombo from './collapse-expand-combo';\nimport CreateEdge from './create-edge';\nimport mobileBehavior from './mobile-behavior';\n\nconst behaviors = {\n  'drag-canvas': DragCanvas,\n  'zoom-canvas': ZoomCanvas,\n  'drag-node': DragNode,\n  'activate-relations': ActivateRelations,\n  'click-select': ClickSelect,\n  'collapse-expand': CollapseExpand,\n  'drag-combo': DragCombo,\n  'collapse-expand-combo': CollapseExpandCombo,\n  'create-edge': CreateEdge,\n};\n\neach(behaviors, (behavior, type: string) => {\n  registerBehavior(type, { ...behavior, ...mobileBehavior });\n});\n\n// export default Behavior;\n","import { G6Event, IG6GraphEvent, INode } from '@antv/f6-core';\n\nexport default {\n  getDefaultCfg(): object {\n    return {\n      activeState: 'active',\n      inactiveState: 'inactive',\n      resetSelected: false,\n      shouldUpdate() {\n        return true;\n      },\n    };\n  },\n  getEvents(): { [key in G6Event]?: string } {\n    return {\n      'node:tap': 'setAllItemStates',\n      'canvas:tap': 'clearAllItemStates',\n    };\n  },\n  setAllItemStates(e: IG6GraphEvent) {\n    const self = this;\n    const item: INode = e.item as INode;\n    const graph = self.graph;\n    self.item = item;\n    if (!self.shouldUpdate(e.item, { event: e, action: 'activate' })) {\n      return;\n    }\n    const activeState = self.activeState;\n    const inactiveState = self.inactiveState;\n    const nodes = graph.getNodes();\n    const edges = graph.getEdges();\n    const nodeLength = nodes.length;\n    const edgeLength = edges.length;\n    for (let i = 0; i < nodeLength; i++) {\n      const node = nodes[i];\n      const hasSelected = node.hasState('selected');\n      if (self.resetSelected) {\n        if (hasSelected) {\n          graph.setItemState(node, 'selected', false);\n        }\n      }\n      graph.setItemState(node, activeState, false);\n      if (inactiveState) {\n        graph.setItemState(node, inactiveState, true);\n      }\n    }\n\n    for (let i = 0; i < edgeLength; i++) {\n      const edge = edges[i];\n      graph.setItemState(edge, activeState, false);\n      if (inactiveState) {\n        graph.setItemState(edge, inactiveState, true);\n      }\n    }\n\n    if (inactiveState) {\n      graph.setItemState(item, inactiveState, false);\n    }\n    graph.setItemState(item, activeState, true);\n\n    const rEdges = item.getEdges();\n    const rEdgeLegnth = rEdges.length;\n    for (let i = 0; i < rEdgeLegnth; i++) {\n      const edge = rEdges[i];\n      let otherEnd;\n      if (edge.getSource() === item) {\n        otherEnd = edge.getTarget();\n      } else {\n        otherEnd = edge.getSource();\n      }\n      if (inactiveState) {\n        graph.setItemState(otherEnd, inactiveState, false);\n      }\n      graph.setItemState(otherEnd, activeState, true);\n      graph.setItemState(edge, inactiveState, false);\n      graph.setItemState(edge, activeState, true);\n      edge.toFront();\n    }\n    graph.emit('afteractivaterelations', { item: e.item, action: 'activate' });\n  },\n  clearActiveState(e: any) {\n    const self = this;\n    const graph = self.get('graph');\n    if (!self.shouldUpdate(e.item, { event: e, action: 'deactivate' })) {\n      return;\n    }\n\n    const activeState = this.activeState;\n    const inactiveState = this.inactiveState;\n\n    const autoPaint = graph.get('autoPaint');\n    graph.setAutoPaint(false);\n    const nodes = graph.getNodes();\n    const edges = graph.getEdges();\n    const nodeLength = nodes.length;\n    const edgeLength = edges.length;\n\n    for (let i = 0; i < nodeLength; i++) {\n      const node = nodes[i];\n      graph.clearItemStates(node, [activeState, inactiveState]);\n    }\n    for (let i = 0; i < edgeLength; i++) {\n      const edge = edges[i];\n      graph.clearItemStates(edge, [activeState, inactiveState, 'deactivate']);\n    }\n    graph.paint();\n    graph.setAutoPaint(autoPaint);\n    graph.emit('afteractivaterelations', {\n      item: e.item || self.get('item'),\n      action: 'deactivate',\n    });\n  },\n  clearAllItemStates(e: any) {\n    const self = this;\n    const graph = self.graph;\n    if (!self.shouldUpdate(e.item, { event: e, action: 'deactivate' })) {\n      return;\n    }\n\n    const activeState = this.activeState;\n    const inactiveState = this.inactiveState;\n\n    const nodes = graph.getNodes();\n    const edges = graph.getEdges();\n    const nodeLength = nodes.length;\n    const edgeLength = edges.length;\n\n    for (let i = 0; i < nodeLength; i++) {\n      const node = nodes[i];\n      graph.clearItemStates(node, [activeState, inactiveState]);\n    }\n    for (let i = 0; i < edgeLength; i++) {\n      const edge = edges[i];\n      graph.clearItemStates(edge, [activeState, inactiveState, 'deactivate']);\n    }\n\n    graph.emit('afteractivaterelations', {\n      item: e.item || self.get('item'),\n      action: 'deactivate',\n    });\n  },\n};\n",null,"import * as glMatrix from \"./common.js\";\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();",null,null,"\"use strict\";function _typeof(t){return(_typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var colorString=require(\"color-string\"),convert=require(\"color-convert\"),_slice=[].slice,skippedModels=[\"keyword\",\"gray\",\"hex\"],hashedModelKeys={};Object.keys(convert).forEach((function(t){hashedModelKeys[_slice.call(convert[t].labels).sort().join(\"\")]=t}));var limiters={};function Color(t,r){if(!(this instanceof Color))return new Color(t,r);if(r&&r in skippedModels&&(r=null),r&&!(r in convert))throw new Error(\"Unknown model: \"+r);var o,e,n,l,i,a,s,h,c;if(null==t)this.model=\"rgb\",this.color=[0,0,0],this.valpha=1;else if(t instanceof Color)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if(\"string\"==typeof t){if(null===(e=colorString.get(t)))throw new Error(\"Unable to parse color from string: \"+t);this.model=e.model,c=convert[this.model].channels,this.color=e.value.slice(0,c),this.valpha=\"number\"==typeof e.value[c]?e.value[c]:1}else if(t.length)this.model=r||\"rgb\",c=convert[this.model].channels,n=_slice.call(t,0,c),this.color=zeroArray(n,c),this.valpha=\"number\"==typeof t[c]?t[c]:1;else if(\"number\"==typeof t)t&=16777215,this.model=\"rgb\",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{if(this.valpha=1,l=Object.keys(t),\"alpha\"in t&&(l.splice(l.indexOf(\"alpha\"),1),this.valpha=\"number\"==typeof t.alpha?t.alpha:0),!((i=l.sort().join(\"\"))in hashedModelKeys))throw new Error(\"Unable to parse color from object: \"+JSON.stringify(t));for(this.model=hashedModelKeys[i],a=convert[this.model].labels,s=[],o=0;o<a.length;o++)s.push(t[a[o]]);this.color=zeroArray(s)}if(limiters[this.model])for(c=convert[this.model].channels,o=0;o<c;o++)(h=limiters[this.model][o])&&(this.color[o]=h(this.color[o]));this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function roundTo(t,r){return Number(t.toFixed(r))}function roundToPlace(t){return function(r){return roundTo(r,t)}}function getset(t,r,o){return(t=Array.isArray(t)?t:[t]).forEach((function(t){(limiters[t]||(limiters[t]=[]))[r]=o})),t=t[0],function(e){var n;return arguments.length?(o&&(e=o(e)),(n=this[t]()).color[r]=e,n):(n=this[t]().color[r],o&&(n=o(n)),n)}}function maxfn(t){return function(r){return Math.max(0,Math.min(t,r))}}function assertArray(t){return Array.isArray(t)?t:[t]}function zeroArray(t,r){var o;for(o=0;o<r;o++)\"number\"!=typeof t[o]&&(t[o]=0);return t}Color.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var r=this.model in colorString.to?this:this.rgb(),o=1===(r=r.round(\"number\"==typeof t?t:1)).valpha?r.color:r.color.concat(this.valpha);return colorString.to[r.model](o)},percentString:function(t){var r=this.rgb().round(\"number\"==typeof t?t:1),o=1===r.valpha?r.color:r.color.concat(this.valpha);return colorString.to.rgb.percent(o)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){var t,r={},o=convert[this.model].channels,e=convert[this.model].labels;for(t=0;t<o;t++)r[e[t]]=this.color[t];return 1!==this.valpha&&(r.alpha=this.valpha),r},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new Color(this.color.map(roundToPlace(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new Color(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:getset(\"rgb\",0,maxfn(255)),green:getset(\"rgb\",1,maxfn(255)),blue:getset(\"rgb\",2,maxfn(255)),hue:getset([\"hsl\",\"hsv\",\"hsl\",\"hwb\",\"hcg\"],0,(function(t){return(t%360+360)%360})),saturationl:getset(\"hsl\",1,maxfn(100)),lightness:getset(\"hsl\",2,maxfn(100)),saturationv:getset(\"hsv\",1,maxfn(100)),value:getset(\"hsv\",2,maxfn(100)),chroma:getset(\"hcg\",1,maxfn(100)),gray:getset(\"hcg\",2,maxfn(100)),white:getset(\"hwb\",1,maxfn(100)),wblack:getset(\"hwb\",2,maxfn(100)),cyan:getset(\"cmyk\",0,maxfn(100)),magenta:getset(\"cmyk\",1,maxfn(100)),yellow:getset(\"cmyk\",2,maxfn(100)),black:getset(\"cmyk\",3,maxfn(100)),x:getset(\"xyz\",0,maxfn(100)),y:getset(\"xyz\",1,maxfn(100)),z:getset(\"xyz\",2,maxfn(100)),l:getset(\"lab\",0,maxfn(100)),a:getset(\"lab\",1),b:getset(\"lab\",2),keyword:function(t){return arguments.length?new Color(t):convert[this.model].keyword(this.color)},hex:function(t){return arguments.length?new Color(t):colorString.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){var t,r,o=this.rgb().color,e=[];for(t=0;t<o.length;t++)r=o[t]/255,e[t]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4);return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var r=this.luminosity(),o=t.luminosity();return r>o?(r+.05)/(o+.05):(o+.05)/(r+.05)},level:function(t){var r=this.contrast(t);return r>=7.1?\"AAA\":r>=4.5?\"AA\":\"\"},isDark:function(){var t=this.rgb().color;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){var t,r=this.rgb();for(t=0;t<3;t++)r.color[t]=255-r.color[t];return r},lighten:function(t){var r=this.hsl();return r.color[2]+=r.color[2]*t,r},darken:function(t){var r=this.hsl();return r.color[2]-=r.color[2]*t,r},saturate:function(t){var r=this.hsl();return r.color[1]+=r.color[1]*t,r},desaturate:function(t){var r=this.hsl();return r.color[1]-=r.color[1]*t,r},whiten:function(t){var r=this.hwb();return r.color[1]+=r.color[1]*t,r},blacken:function(t){var r=this.hwb();return r.color[2]+=r.color[2]*t,r},grayscale:function(){var t=this.rgb().color,r=.3*t[0]+.59*t[1]+.11*t[2];return Color.rgb(r,r,r)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var r=this.hsl(),o=r.color[0];return o=(o=(o+t)%360)<0?360+o:o,r.color[0]=o,r},mix:function(t,r){if(!t||!t.rgb)throw new Error('Argument to \"mix\" was not a Color instance, but rather an instance of '+_typeof(t));var o=t.rgb(),e=this.rgb(),n=void 0===r?.5:r,l=2*n-1,i=o.alpha()-e.alpha(),a=((l*i==-1?l:(l+i)/(1+l*i))+1)/2,s=1-a;return Color.rgb(a*o.red()+s*e.red(),a*o.green()+s*e.green(),a*o.blue()+s*e.blue(),o.alpha()*n+e.alpha()*(1-n))}},Object.keys(convert).forEach((function(t){if(-1===skippedModels.indexOf(t)){var r=convert[t].channels;Color.prototype[t]=function(){if(this.model===t)return new Color(this);if(arguments.length)return new Color(arguments,t);var o=\"number\"==typeof arguments[r]?r:this.valpha;return new Color(assertArray(convert[this.model][t].raw(this.color)).concat(o),t)},Color[t]=function(o){return\"number\"==typeof o&&(o=zeroArray(_slice.call(arguments),r)),new Color(o,t)}}})),module.exports=Color;","/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","\"use strict\";var __extends=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if(\"function\"!=typeof r&&null!==r)throw new TypeError(\"Class extends value \"+String(r)+\" is not a constructor or null\");function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.getLayoutByName=exports.unRegisterLayout=exports.registerLayout=void 0;var base_1=require(\"../layout/base\"),util_1=require(\"../util/index\"),map=new Map,registerLayout=function(t,e){var r;map.get(t)&&console.warn(\"The layout with the name \"+t+\" exists already, it will be overridden\"),util_1.isObject(e)?(r=function(t){function r(r){var o=t.call(this)||this,n=o,a={},u=n.getDefaultCfg();return Object.assign(a,u,e,r),Object.keys(a).forEach((function(t){var e=a[t];n[t]=e})),o}return __extends(r,t),r}(base_1.Base),map.set(t,r)):map.set(t,e)};exports.registerLayout=registerLayout;var unRegisterLayout=function(t){map.has(t)&&map.delete(t)};exports.unRegisterLayout=unRegisterLayout;var getLayoutByName=function(t){return map.has(t)?map.get(t):null};exports.getLayoutByName=getLayoutByName;","\"use strict\";var __extends=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.RandomLayout=void 0;var base_1=require(\"./base\"),RandomLayout=function(t){function e(e){var n=t.call(this)||this;return n.center=[0,0],n.width=300,n.height=300,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.updateCfg(e),n}return __extends(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},e.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;return t.width||\"undefined\"==typeof window||(t.width=window.innerWidth),t.height||\"undefined\"==typeof window||(t.height=window.innerHeight),e&&e.forEach((function(e){e.x=.9*(Math.random()-.5)*t.width+n[0],e.y=.9*(Math.random()-.5)*t.height+n[1]})),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:this.edges}},e.prototype.getType=function(){return\"random\"},e}(base_1.Base);exports.RandomLayout=RandomLayout;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Base=void 0;var Base=function(){function t(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}return t.prototype.layout=function(t){return this.init(t),this.execute(!0)},t.prototype.init=function(t){this.nodes=t.nodes||[],this.edges=t.edges||[],this.combos=t.combos||[]},t.prototype.execute=function(){},t.prototype.executeWithWorker=function(){},t.prototype.getDefaultCfg=function(){return{}},t.prototype.updateCfg=function(t){t&&Object.assign(this,t)},t.prototype.getType=function(){return\"base\"},t.prototype.destroy=function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0},t}();exports.Base=Base;",null,null,null,null,null,null,null,"var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export function linear(t) {\n  return +t;\n}\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { ICanvas, IGroup, IShape } from '@antv/g-base';\nimport { each, wrapBehavior } from '@antv/util';\nimport { AbstractEvent, IG6GraphEvent, Matrix, Item, Util } from '@antv/f6-core';\nimport Graph from '../graph';\n\nconst { cloneEvent, isViewportChanged } = Util;\n\ntype Fun = () => void;\n\nexport default class EventController extends AbstractEvent {\n  protected extendEvents: any[] = [];\n\n  protected canvasHandler!: Fun;\n\n  protected dragging: boolean = false;\n\n  protected preItem: Item | null = null;\n\n  public destroyed: boolean;\n\n  constructor(graph: Graph) {\n    super(graph);\n    this.graph = graph;\n    this.destroyed = false;\n  }\n\n  //  G6 \n  protected initEvents() {\n    const { graph, extendEvents = [] } = this;\n    const canvas: ICanvas = graph.get('canvas');\n    this.canvasHandler = wrapBehavior(this, 'onCanvasEvents') as Fun;\n    canvas.off('*').on('*', this.canvasHandler);\n  }\n\n  //  shape  item \n  private static getItemRoot<T extends IShape>(shape: any): T {\n    while (shape && !shape.get('item')) {\n      shape = shape.get('parent');\n    }\n    return shape;\n  }\n\n  /**\n   *  canvas \n   * @param evt \n   */\n  protected onCanvasEvents(evt: IG6GraphEvent) {\n    const { graph } = this;\n    const canvas = graph.get('canvas');\n    const { target } = evt;\n    const eventType = evt.type;\n\n    /**\n     * (clientX, clientY): \n     * (canvasX, canvasY):  <canvas> \n     * (x, y): ,  model  x, y \n     */\n    evt.canvasX = evt.x;\n    evt.canvasY = evt.y;\n    let point = { x: evt.canvasX, y: evt.canvasY };\n\n    const group: IGroup = graph.get('group');\n    let matrix: Matrix = group.getMatrix();\n\n    if (!matrix) {\n      matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    }\n\n    if (isViewportChanged(matrix)) {\n      point = graph.getPointByClient(evt.clientX, evt.clientY);\n    }\n\n    evt.x = point.x;\n    evt.y = point.y;\n\n    evt.currentTarget = graph;\n\n    if (target === canvas) {\n      if (eventType === 'panmove') {\n        this.handleTouchMove(evt, 'canvas');\n      }\n      evt.target = canvas;\n      evt.item = null;\n\n      graph.emit(eventType, evt);\n      graph.emit(`canvas:${eventType}`, evt);\n      return;\n    }\n\n    const itemShape: IShape = EventController.getItemRoot(target);\n    if (!itemShape) {\n      graph.emit(eventType, evt);\n      return;\n    }\n\n    const item = itemShape.get('item');\n    if (item.destroyed) {\n      return;\n    }\n\n    const type = item.getType();\n\n    // targetShapeitemitem\n    evt.target = target;\n    evt.item = item;\n    if (evt.canvasX === evt.x && evt.canvasY === evt.y) {\n      const canvasPoint = graph.getCanvasByPoint(evt.x, evt.y);\n      evt.canvasX = canvasPoint.x;\n      evt.canvasY = canvasPoint.y;\n    }\n\n    graph.emit(eventType, evt);\n    if (evt.name && !evt.name.includes(':')) {\n      graph.emit(`${type}:${eventType}`, evt);\n    } else {\n      graph.emit(evt.name, evt);\n    }\n\n    if (eventType === 'dragstart') {\n      this.dragging = true;\n    }\n    if (eventType === 'dragend') {\n      this.dragging = false;\n    }\n    if (eventType === 'panmove') {\n      this.handleTouchMove(evt, type);\n    }\n  }\n\n  /**\n   * \n   * @param evt \n   */\n  protected onExtendEvents(evt: IG6GraphEvent) {\n    this.graph.emit(evt.type, evt);\n  }\n\n  /**\n   *  graph  emit \n   * @param itemType item \n   * @param eventType \n   * @param evt \n   */\n  private emitCustomEvent(itemType: string, eventType: string, evt: IG6GraphEvent) {\n    evt.type = eventType;\n    this.graph.emit(`${itemType}:${eventType}`, evt);\n  }\n\n  public destroy() {\n    const { graph, canvasHandler, extendEvents } = this;\n    const canvas: ICanvas = graph.get('canvas');\n\n    // each(EVENTS, event => {\n    //   canvas.off(event, canvasHandler);\n    // });\n\n    canvas.off('*', canvasHandler);\n\n    each(extendEvents, (event) => {\n      event.remove();\n    });\n\n    this.dragging = false;\n    this.preItem = null;\n    this.extendEvents.length = 0;\n    (this.canvasHandler as Fun | null) = null;\n    this.destroyed = true;\n  }\n\n  /**\n   * \n   * @param evt \n   * @param type item \n   */\n  private handleTouchMove(evt: IG6GraphEvent, type: string) {\n    const { graph, preItem } = this;\n    const canvas: ICanvas = graph.get('canvas');\n    const item = (evt.target as any) === canvas ? null : evt.item;\n\n    evt = cloneEvent(evt) as IG6GraphEvent;\n\n    // itemitemitemleave\n    if (preItem && preItem !== item && !preItem.destroyed) {\n      evt.item = preItem;\n      this.emitCustomEvent(preItem.getType(), 'touchleave', evt);\n      if (this.dragging) {\n        this.emitCustomEvent(preItem.getType(), 'dragleave', evt);\n      }\n    }\n\n    // itemcanvasitemitementer\n    if (item && preItem !== item) {\n      evt.item = item;\n      this.emitCustomEvent(type, 'touchenter', evt);\n      if (this.dragging) {\n        this.emitCustomEvent(type, 'dragenter', evt);\n      }\n    }\n\n    this.preItem = item;\n  }\n}\n","import { AbstractLayout, GraphData } from '@antv/f6-core';\nimport { Layout } from '../../layout';\nimport { mix, clone } from '@antv/util';\n\nimport { IGraph } from '../../interface/graph';\n\nconst LayoutPipesAdjustNames = ['force', 'grid', 'circular'];\nexport default class LayoutController extends AbstractLayout {\n  public graph: IGraph;\n\n  public destroyed: boolean;\n\n  constructor(graph: IGraph) {\n    super(graph);\n    this.graph = graph;\n    this.layoutCfg = graph.get('layout') || {};\n    this.layoutType = this.getLayoutType();\n  }\n\n  // \n  public updateLayoutCfg(cfg) {\n    const { graph, layoutMethods } = this;\n    const layoutCfg = mix({}, this.layoutCfg, cfg);\n    this.layoutCfg = layoutCfg;\n\n    if (!layoutMethods?.length) {\n      this.layout();\n      return;\n    }\n    this.data = this.setDataFromGraph();\n\n    graph.emit('beforelayout');\n\n    let start = Promise.resolve();\n    if (layoutMethods.length === 1) {\n      start = start.then(() => this.updateLayoutMethod(layoutMethods[0], layoutCfg));\n    } else {\n      layoutMethods?.forEach((layoutMethod, index) => {\n        const currentCfg = layoutCfg.pipes[index];\n        start = start.then(() => this.updateLayoutMethod(layoutMethod, currentCfg));\n      });\n    }\n    this.data = this.setDataFromGraph();\n\n    start\n      .then(() => {\n        if (layoutCfg.onAllLayoutEnd) layoutCfg.onAllLayoutEnd();\n      })\n      .catch((error) => {\n        console.warn('layout failed', error);\n      });\n  }\n\n  /**\n   * @param {function} success callback\n   * @return {boolean} web worker\n   */\n  public layout(success?: () => void): boolean {\n    const { graph } = this;\n\n    this.data = this.setDataFromGraph();\n    const { nodes, hiddenNodes } = this.data;\n\n    if (!nodes) {\n      return false;\n    }\n    const width = graph.get('width');\n    const height = graph.get('height');\n    const layoutCfg: any = {};\n    Object.assign(\n      layoutCfg,\n      {\n        width,\n        height,\n        center: [width / 2, height / 2],\n      },\n      this.layoutCfg,\n    );\n    this.layoutCfg = layoutCfg;\n\n    this.destoryLayoutMethods();\n\n    graph.emit('beforelayout');\n    this.initPositions(layoutCfg.center, nodes);\n    // init hidden ndoes\n    this.initPositions(layoutCfg.center, hiddenNodes);\n\n    //  onAllLayoutEnd  onLayoutEnd afterlayoutfitView/fitCenter afterrender\n    const { onLayoutEnd, layoutEndFormatted, adjust } = layoutCfg;\n\n    if (!layoutEndFormatted) {\n      layoutCfg.layoutEndFormatted = true;\n\n      layoutCfg.onAllLayoutEnd = async () => {\n        //  onLayoutEnd\n        if (onLayoutEnd) {\n          onLayoutEnd();\n        }\n\n        // \n        this.refreshLayout();\n\n        // \n        if (adjust && layoutCfg.pipes) {\n          await this.adjustPipesBox(this.data, adjust);\n          this.refreshLayout();\n        }\n\n        //  afterlayout\n        graph.emit('afterlayout');\n      };\n    }\n\n    let start = Promise.resolve();\n    if (layoutCfg.type) {\n      start = start.then(() => this.execLayoutMethod(layoutCfg, 0));\n    } else if (layoutCfg.pipes) {\n      layoutCfg.pipes.forEach((cfg, index) => {\n        start = start.then(() => this.execLayoutMethod(cfg, index));\n      });\n    }\n\n    // onAllLayoutEnd\n    start\n      .then(() => {\n        if (layoutCfg.onAllLayoutEnd) layoutCfg.onAllLayoutEnd();\n        //  execute  success timeBar  throttle timeBar  afterrender  changeData  layout\n        //  force  fitView  onLayoutEnd \n        if (success) success();\n      })\n      .catch((error) => {\n        console.warn('graph layout failed,', error);\n      });\n\n    return false;\n  }\n\n  private execLayoutMethod(layoutCfg, order): Promise<void> {\n    return new Promise((reslove, reject) => {\n      const { graph } = this;\n      const layoutType = layoutCfg.type;\n\n      // \n      layoutCfg.onLayoutEnd = () => {\n        graph.emit('aftersublayout', { type: layoutType });\n        reslove();\n      };\n\n      const isForce = layoutType === 'force' || layoutType === 'g6force' || layoutType === 'gForce';\n      if (isForce) {\n        const { onTick } = layoutCfg;\n        const tick = () => {\n          if (onTick) {\n            onTick();\n          }\n          graph.refreshPositions();\n        };\n        layoutCfg.tick = tick;\n      } else if (layoutCfg.type === 'comboForce') {\n        layoutCfg.comboTrees = graph.get('comboTrees');\n      }\n\n      let enableTick = false;\n      let layoutMethod;\n\n      try {\n        layoutMethod = new Layout(layoutCfg);\n      } catch (e) {\n        console.warn(`The layout method: '${layoutType}' does not exist! Please specify it first.`);\n        reject();\n      }\n\n      // \n      enableTick = layoutMethod.enableTick;\n      if (enableTick) {\n        const { onTick } = layoutCfg;\n        const tick = () => {\n          if (onTick) {\n            onTick();\n          }\n          graph.refreshPositions();\n        };\n        layoutMethod.tick = tick;\n      }\n      const layoutData = this.filterLayoutData(this.data, layoutCfg);\n      addLayoutOrder(layoutData, order);\n      layoutMethod.init(layoutData);\n      //  layout initPositions  random  random \n      //  layout\n      graph.emit('beforesublayout', { type: layoutType });\n      layoutMethod.execute();\n      if (layoutMethod.isCustomLayout && layoutCfg.onLayoutEnd) layoutCfg.onLayoutEnd();\n      this.layoutMethods.push(layoutMethod);\n    });\n  }\n\n  private updateLayoutMethod(layoutMethod, layoutCfg): Promise<void> {\n    return new Promise((reslove, reject) => {\n      const { graph } = this;\n      const layoutType = layoutCfg?.type;\n\n      // \n      layoutCfg.onLayoutEnd = () => {\n        graph.emit('aftersublayout', { type: layoutType });\n        reslove();\n      };\n\n      const layoutData = this.filterLayoutData(this.data, layoutCfg);\n      layoutMethod.init(layoutData);\n      layoutMethod.updateCfg(layoutCfg);\n      graph.emit('beforesublayout', { type: layoutType });\n      layoutMethod.execute();\n      if (layoutMethod.isCustomLayout && layoutCfg.onLayoutEnd) layoutCfg.onLayoutEnd();\n    });\n  }\n\n  protected adjustPipesBox(data, adjust: string): Promise<void> {\n    return new Promise((resolve) => {\n      const { nodes } = data;\n      if (!nodes?.length) {\n        resolve();\n      }\n\n      if (!LayoutPipesAdjustNames.includes(adjust)) {\n        console.warn(\n          `The adjust type ${adjust} is not supported yet, please assign it with 'force', 'grid', or 'circular'.`,\n        );\n        resolve();\n      }\n\n      const layoutCfg = {\n        center: this.layoutCfg.center,\n        nodeSize: (d) => Math.max(d.height, d.width),\n        preventOverlap: true,\n        onLayoutEnd: () => {},\n      };\n\n      // \n      const { groupNodes, layoutNodes } = this.getLayoutBBox(nodes);\n      const preNodes = clone(layoutNodes);\n\n      // nodes\n      layoutCfg.onLayoutEnd = () => {\n        layoutNodes?.forEach((ele, index) => {\n          const dx = ele.x - preNodes[index]?.x;\n          const dy = ele.y - preNodes[index]?.y;\n          groupNodes[index]?.forEach((n: any) => {\n            n.x += dx;\n            n.y += dy;\n          });\n        });\n        resolve();\n      };\n      const layoutMethod = new Layout(layoutCfg);\n      layoutMethod.layout({ nodes: layoutNodes });\n    });\n  }\n\n  public destroy() {\n    this.destoryLayoutMethods();\n    this.destroyed = true;\n\n    this.graph.set('layout', undefined);\n    this.layoutCfg = undefined;\n    this.layoutType = undefined;\n    this.layoutMethods = undefined;\n    this.graph = null;\n  }\n}\n\nfunction addLayoutOrder(data, order) {\n  if (!data?.nodes?.length) {\n    return;\n  }\n  const { nodes } = data;\n  nodes.forEach((node) => {\n    node.layoutOrder = order;\n  });\n}\n","import { Canvas as GMobileCanvas } from '@antv/g-mobile';\nimport { IGroup } from '@antv/g-base';\nimport { mat3 } from '@antv/matrix-util';\nimport { clone, deepMix, each, isString, isNumber } from '@antv/util';\nimport { IGraph, DataUrlType } from '../interface/graph';\nimport { AbstractGraph, GraphOptions } from '@antv/f6-core';\n\nimport { WaterMarkerConfig } from '../types';\nimport Global from '../global';\nimport { LayoutController, EventController } from './controller';\nimport PluginBase from '../plugin/base';\nimport { createDom } from '@antv/dom-util';\n\nexport const registerGraph = (graphName: string, GraphFunction: any, G6: Object): Object => {\n  if (G6[graphName]) {\n    console.warn(`The graph with the name ${graphName} exists already, it will be overridden`);\n  }\n  G6[graphName] = GraphFunction(G6);\n  return G6;\n};\nexport default class Graph extends AbstractGraph implements IGraph {\n  // private cfg: GraphOptions & { [key: string]: any };\n\n  public destroyed: boolean;\n\n  constructor(cfg: GraphOptions) {\n    super(cfg);\n\n    if (this.get('renderer').startsWith('mini')) {\n      this.set('context', (cfg as any).context);\n    }\n\n    super.init();\n    const defaultNode = this.get('defaultNode');\n    if (!defaultNode) {\n      this.set('defaultNode', { type: 'circle' });\n    }\n    if (!defaultNode.type) {\n      defaultNode.type = 'circle';\n      this.set('defaultNode', defaultNode);\n    }\n    this.destroyed = false;\n  }\n\n  // deepmix\n  protected init() {}\n\n  public emitEvent(event) {\n    const canvas: GMobileCanvas = this.get('canvas');\n    event.type = event.type.toLowerCase();\n    canvas.registerEventCallback(event);\n  }\n\n  protected initLayoutController() {\n    const layoutController = new LayoutController(this);\n    this.set({\n      layoutController,\n    });\n  }\n\n  protected initEventController() {\n    const eventController = new EventController(this);\n    this.set({\n      eventController,\n    });\n\n    if (this.get('renderer').startsWith('mini')) {\n      return;\n    }\n\n    const canvas: GMobileCanvas = this.get('canvas');\n    const canvasDom = canvas.get('el');\n    'touchstart touchmove touchend touchcancel'.split(' ').forEach((key) => {\n      canvasDom.addEventListener(key, canvas.registerEventCallback.bind(canvas), false);\n    });\n  }\n\n  protected initCanvas() {\n    let container: string | HTMLElement | Element | null = this.get('container');\n    if (container !== null && typeof container === 'string') {\n      container = document.getElementById(container);\n      this.set('container', container);\n    }\n\n    const renderer: string = this.get('renderer');\n\n    if (!container && !renderer.startsWith('mini')) {\n      throw new Error('invalid container');\n    }\n\n    const width: number = this.get('width');\n    const height: number = this.get('height');\n    const context: string = this.get('context');\n    const fitView: boolean = this.get('fitView');\n\n    const canvasCfg: any = {\n      container, // native canvas  requestAnimationFrame, clearAnimationFrame \n      context,\n      width,\n      height,\n      renderer,\n      fitView,\n    };\n\n    const pixelRatio = this.get('pixelRatio');\n\n    if (pixelRatio) {\n      canvasCfg.pixelRatio = pixelRatio;\n    }\n\n    const canvas = new GMobileCanvas(canvasCfg);\n\n    this.set('canvas', canvas);\n  }\n\n  protected initPlugins(): void {\n    const self = this;\n    each(self.get('plugins'), (plugin) => {\n      if (!plugin.destroyed && plugin.initPlugin) {\n        plugin.initPlugin(self);\n      }\n    });\n  }\n\n  /**\n   *  dataUrl\n   * @param {String} type \"image/png\" | \"image/jpeg\" | \"image/webp\" | \"image/bmp\"\n   * @param {string} backgroundColor \n   * @return {string}  dataURL\n   */\n  public toDataURL(type?: DataUrlType, backgroundColor?: string): string {\n    const canvas: GMobileCanvas = this.get('canvas');\n    const renderer = canvas.getRenderer();\n    const canvasDom = canvas.get('el');\n\n    if (!type) type = 'image/png';\n\n    let dataURL = '';\n    if (renderer === 'svg') {\n      const cloneNode = canvasDom.cloneNode(true);\n      const svgDocType = document.implementation.createDocumentType(\n        'svg',\n        '-//W3C//DTD SVG 1.1//EN',\n        'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd',\n      );\n      const svgDoc = document.implementation.createDocument(\n        'http://www.w3.org/2000/svg',\n        'svg',\n        svgDocType,\n      );\n      svgDoc.replaceChild(cloneNode, svgDoc.documentElement);\n      const svgData = new XMLSerializer().serializeToString(svgDoc);\n      dataURL = `data:image/svg+xml;charset=utf8,${encodeURIComponent(svgData)}`;\n    } else {\n      let imageData;\n      const context = canvasDom.getContext('2d');\n      const width = this.get('width');\n      const height = this.get('height');\n      let compositeOperation;\n      if (backgroundColor) {\n        const pixelRatio = typeof window !== 'undefined' ? window.devicePixelRatio : 1;\n        imageData = context.getImageData(0, 0, width * pixelRatio, height * pixelRatio);\n        compositeOperation = context.globalCompositeOperation;\n        context.globalCompositeOperation = 'destination-over';\n        context.fillStyle = backgroundColor;\n        context.fillRect(0, 0, width, height);\n      }\n      dataURL = canvasDom.toDataURL(type);\n      if (backgroundColor) {\n        context.clearRect(0, 0, width, height);\n        context.putImageData(imageData, 0, 0);\n        context.globalCompositeOperation = compositeOperation;\n      }\n    }\n    return dataURL;\n  }\n\n  /**\n   *  dataUrl\n   * @param {Function} callback  dataUrl  dataUrl \n   * @param {String} type \"image/png\" | \"image/jpeg\" | \"image/webp\" | \"image/bmp\"\n   * @param {Object} imageConfig  padding\n   */\n  public toFullDataURL(\n    callback: (res: string) => any,\n    type?: DataUrlType,\n    imageConfig?: { backgroundColor?: string; padding?: number | number[] },\n  ) {\n    const bbox = this.get('group').getCanvasBBox();\n    const height = bbox.height;\n    const width = bbox.width;\n    const renderer = this.get('renderer');\n    const vContainerDOM: HTMLDivElement = createDom('<id=\"virtual-image\"></div>');\n\n    const backgroundColor = imageConfig ? imageConfig.backgroundColor : undefined;\n    let padding = imageConfig ? imageConfig.padding : undefined;\n    if (!padding) padding = [0, 0, 0, 0];\n    else if (isNumber(padding)) padding = [padding, padding, padding, padding];\n\n    const vHeight = height + padding[0] + padding[2];\n    const vWidth = width + padding[1] + padding[3];\n    const canvasOptions = {\n      container: vContainerDOM,\n      height: vHeight,\n      width: vWidth,\n      quickHit: true,\n    };\n\n    const vCanvas = new GMobileCanvas(canvasOptions);\n\n    const group = this.get('group');\n    const vGroup = group.clone();\n\n    let matrix = clone(vGroup.getMatrix());\n    if (!matrix) matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    const centerX = (bbox.maxX + bbox.minX) / 2;\n    const centerY = (bbox.maxY + bbox.minY) / 2;\n    mat3.translate(matrix, matrix, [-centerX, -centerY]);\n    mat3.translate(matrix, matrix, [width / 2 + padding[3], height / 2 + padding[0]]);\n\n    vGroup.resetMatrix();\n    vGroup.setMatrix(matrix);\n    vCanvas.add(vGroup);\n\n    const vCanvasEl = vCanvas.get('el');\n\n    let dataURL = '';\n    if (!type) type = 'image/png';\n\n    setTimeout(() => {\n      if (renderer === 'svg') {\n        const cloneNode = vCanvasEl.cloneNode(true);\n        const svgDocType = document.implementation.createDocumentType(\n          'svg',\n          '-//W3C//DTD SVG 1.1//EN',\n          'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd',\n        );\n        const svgDoc = document.implementation.createDocument(\n          'http://www.w3.org/2000/svg',\n          'svg',\n          svgDocType,\n        );\n        svgDoc.replaceChild(cloneNode, svgDoc.documentElement);\n        const svgData = new XMLSerializer().serializeToString(svgDoc);\n        dataURL = `data:image/svg+xml;charset=utf8,${encodeURIComponent(svgData)}`;\n      } else {\n        let imageData;\n        const context = vCanvasEl.getContext('2d');\n        let compositeOperation;\n        if (backgroundColor) {\n          const pixelRatio = typeof window !== 'undefined' ? window.devicePixelRatio : 1;\n          imageData = context.getImageData(0, 0, vWidth * pixelRatio, vHeight * pixelRatio);\n          compositeOperation = context.globalCompositeOperation;\n          context.globalCompositeOperation = 'destination-over';\n          context.fillStyle = backgroundColor;\n          context.fillRect(0, 0, vWidth, vHeight);\n        }\n        dataURL = vCanvasEl.toDataURL(type);\n        if (backgroundColor) {\n          context.clearRect(0, 0, vWidth, vHeight);\n          context.putImageData(imageData, 0, 0);\n          context.globalCompositeOperation = compositeOperation;\n        }\n      }\n      if (callback) callback(dataURL);\n    }, 16);\n  }\n\n  /**\n   * \n   * @param {String} name \n   * @param {String} type \"image/png\" | \"image/jpeg\" | \"image/webp\" | \"image/bmp\"\n   * @param {Object} imageConfig  padding\n   */\n  public downloadFullImage(\n    name?: string,\n    type?: DataUrlType,\n    imageConfig?: { backgroundColor?: string; padding?: number | number[] },\n  ): void {\n    const bbox = this.get('group').getCanvasBBox();\n    const height = bbox.height;\n    const width = bbox.width;\n    const renderer = this.get('renderer');\n    const vContainerDOM: HTMLDivElement = createDom('<id=\"virtual-image\"></div>');\n\n    const backgroundColor = imageConfig ? imageConfig.backgroundColor : undefined;\n    let padding = imageConfig ? imageConfig.padding : undefined;\n    if (!padding) padding = [0, 0, 0, 0];\n    else if (isNumber(padding)) padding = [padding, padding, padding, padding];\n\n    const vHeight = height + padding[0] + padding[2];\n    const vWidth = width + padding[1] + padding[3];\n    const canvasOptions = {\n      container: vContainerDOM,\n      height: vHeight,\n      width: vWidth,\n    };\n    const vCanvas = new GMobileCanvas(canvasOptions);\n\n    const group = this.get('group');\n    const vGroup = group.clone();\n\n    let matrix = clone(vGroup.getMatrix());\n    if (!matrix) matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    const centerX = (bbox.maxX + bbox.minX) / 2;\n    const centerY = (bbox.maxY + bbox.minY) / 2;\n    mat3.translate(matrix, matrix, [-centerX, -centerY]);\n    mat3.translate(matrix, matrix, [width / 2 + padding[3], height / 2 + padding[0]]);\n\n    vGroup.resetMatrix();\n    vGroup.setMatrix(matrix);\n    vCanvas.add(vGroup);\n\n    const vCanvasEl = vCanvas.get('el');\n\n    if (!type) type = 'image/png';\n    setTimeout(() => {\n      let dataURL = '';\n      if (renderer === 'svg') {\n        const cloneNode = vCanvasEl.cloneNode(true);\n        const svgDocType = document.implementation.createDocumentType(\n          'svg',\n          '-//W3C//DTD SVG 1.1//EN',\n          'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd',\n        );\n        const svgDoc = document.implementation.createDocument(\n          'http://www.w3.org/2000/svg',\n          'svg',\n          svgDocType,\n        );\n        svgDoc.replaceChild(cloneNode, svgDoc.documentElement);\n        const svgData = new XMLSerializer().serializeToString(svgDoc);\n        dataURL = `data:image/svg+xml;charset=utf8,${encodeURIComponent(svgData)}`;\n      } else {\n        let imageData;\n        const context = vCanvasEl.getContext('2d');\n        let compositeOperation;\n        if (backgroundColor) {\n          const pixelRatio = typeof window !== 'undefined' ? window.devicePixelRatio : 1;\n          imageData = context.getImageData(0, 0, vWidth * pixelRatio, vHeight * pixelRatio);\n          compositeOperation = context.globalCompositeOperation;\n          context.globalCompositeOperation = 'destination-over';\n          context.fillStyle = backgroundColor;\n          context.fillRect(0, 0, vWidth, vHeight);\n        }\n        dataURL = vCanvasEl.toDataURL(type);\n        if (backgroundColor) {\n          context.clearRect(0, 0, vWidth, vHeight);\n          context.putImageData(imageData, 0, 0);\n          context.globalCompositeOperation = compositeOperation;\n        }\n      }\n\n      const link: HTMLAnchorElement = document.createElement('a');\n      const fileName: string =\n        (name || 'graph') + (renderer === 'svg' ? '.svg' : `.${type.split('/')[1]}`);\n\n      this.dataURLToImage(dataURL, renderer, link, fileName);\n\n      const e = document.createEvent('MouseEvents');\n      e.initEvent('click', false, false);\n      link.dispatchEvent(e);\n    }, 16);\n  }\n\n  /**\n   * \n   * @param {String} name \n   * @param {String} type \"image/png\" | \"image/jpeg\" | \"image/webp\" | \"image/bmp\"\n   * @param {string} backgroundColor \n   */\n  public downloadImage(name?: string, type?: DataUrlType, backgroundColor?: string): void {\n    const self = this;\n\n    if (self.isAnimating()) {\n      self.stopAnimate();\n    }\n\n    const canvas = self.get('canvas');\n    const renderer = canvas.getRenderer();\n    if (!type) type = 'image/png';\n    const fileName: string = (name || 'graph') + (renderer === 'svg' ? '.svg' : type.split('/')[1]);\n    const link: HTMLAnchorElement = document.createElement('a');\n    setTimeout(() => {\n      const dataURL = self.toDataURL(type, backgroundColor);\n      this.dataURLToImage(dataURL, renderer, link, fileName);\n\n      const e = document.createEvent('MouseEvents');\n      e.initEvent('click', false, false);\n      link.dispatchEvent(e);\n    }, 16);\n  }\n\n  private dataURLToImage(dataURL: string, renderer: string, link, fileName) {\n    if (typeof window !== 'undefined') {\n      if (window.Blob && window.URL && renderer !== 'svg') {\n        const arr = dataURL.split(',');\n        let mime = '';\n        if (arr && arr.length > 0) {\n          const match = arr[0].match(/:(.*?);/);\n          // eslint-disable-next-line prefer-destructuring\n          if (match && match.length >= 2) mime = match[1];\n        }\n\n        const bstr = atob(arr[1]);\n        let n = bstr.length;\n        const u8arr = new Uint8Array(n);\n\n        while (n--) {\n          u8arr[n] = bstr.charCodeAt(n);\n        }\n\n        const blobObj = new Blob([u8arr], { type: mime });\n\n        if (window.navigator['msSaveBlob']) {\n          window.navigator['msSaveBlob'](blobObj, fileName);\n        } else {\n          link.addEventListener('click', () => {\n            link.download = fileName;\n            link.href = window.URL.createObjectURL(blobObj);\n          });\n        }\n      } else {\n        link.addEventListener('click', () => {\n          link.download = fileName;\n          link.href = dataURL;\n        });\n      }\n    }\n  }\n\n  /**\n   * \n   * @param {object} plugin \n   */\n  public addPlugin(plugin: PluginBase): void {\n    const self = this;\n    if (plugin.destroyed) {\n      return;\n    }\n    self.get('plugins').push(plugin);\n    plugin.initPlugin(self);\n  }\n\n  /**\n   * \n   * @param {object} plugin \n   */\n  public removePlugin(plugin: PluginBase): void {\n    const plugins = this.get('plugins');\n    const index = plugins.indexOf(plugin);\n    if (index >= 0) {\n      plugin.destroyPlugin();\n      plugins.splice(index, 1);\n    }\n  }\n\n  private isMiniNative() {\n    return this.get('renderer') === 'mini-native';\n  }\n\n  private isMini() {\n    return this.get('renderer').startsWith('mini');\n  }\n\n  private isBrowser() {\n    return this.get('renderer') === 'canvas';\n  }\n\n  /**\n   * \n   * @param {string} imgURL url\n   * @param {WaterMarkerConfig} config \n   * @param {any} waterCanvas canvas\n   */\n  public setImageWaterMarker(imgURL: string, config: WaterMarkerConfig, waterCanvas?: any) {\n    //\n    const waterMarkerConfig = deepMix({}, Global.imageWaterMarkerConfig, config);\n    const { width, height, image } = waterMarkerConfig;\n    const { rotate, x, y, width: imgWidth, height: imgHeight } = image;\n    //mini\n    if (this.isMini() && !this.isMiniNative()) {\n      //\n    }\n    //mini-native\n    if (this.isMiniNative()) {\n      //canvas\n      waterCanvas.width = width ? width : this.get('width');\n      waterCanvas.height = height ? height : this.get('height');\n      //context\n      const waterCanvasContext = waterCanvas.getContext('2d');\n\n      const { createImage } = this.get('extra');\n\n      const img = createImage();\n      img.crossOrigin = 'anonymous';\n      img.src = imgURL;\n      img.onload = () => {\n        if (this.destroyed) return;\n        //\n        const scaleX = imgWidth / img.width;\n        const scaleY = imgHeight / img.height;\n\n        //\n        waterCanvasContext.rotate(-(rotate * Math.PI) / 180);\n\n        //\n        const pattern = waterCanvasContext.createPattern(img, 'repeat');\n        waterCanvasContext.fillStyle = pattern;\n        waterCanvasContext.scale(scaleX, scaleY);\n        //\n        waterCanvasContext.fillRect(\n          -this.get('width') * 2,\n          -this.get('height'),\n          this.get('width') * 10,\n          this.get('height') * 10,\n        );\n        this.get('waterGroup').addShape('image', {\n          attrs: {\n            img: waterCanvas,\n          },\n        });\n      };\n    }\n    //render\n    if (this.isBrowser()) {\n      const waterCanvas = document.createElement('canvas');\n\n      //\n      waterCanvas.width = width ? width : this.get('width');\n      waterCanvas.height = height ? height : this.get('height');\n      const context = waterCanvas.getContext('2d');\n      const img = new Image();\n      img.crossOrigin = 'anonymous';\n      img.src = imgURL;\n      img.onload = () => {\n        if (this.destroyed) return;\n\n        //\n        const scaleX = imgWidth / img.width;\n        const scaleY = imgHeight / img.height;\n\n        //\n        context.rotate(-(rotate * Math.PI) / 180);\n        //\n        const pattern = context.createPattern(img, 'repeat');\n        context.fillStyle = pattern;\n        context.scale(scaleX, scaleY);\n        //\n        context.fillRect(\n          -this.get('width') * 2,\n          -this.get('height'),\n          this.get('width') * 10,\n          this.get('height') * 10,\n        );\n\n        const water_img_url = waterCanvas.toDataURL();\n        this.get('waterGroup').addShape('image', {\n          attrs: {\n            img: water_img_url,\n          },\n        });\n      };\n    }\n  }\n\n  /**\n   * \n   * @param {string[]} texts \n   * @param {WaterMarkerConfig} config \n   */\n  public setTextWaterMarker(texts: string[], config?: WaterMarkerConfig) {\n    let container: string | HTMLElement | null = this.get('container');\n    if (isString(container)) {\n      container = document.getElementById(container);\n    }\n\n    if (!container.style.position) {\n      container.style.position = 'relative';\n    }\n\n    let canvas = this.get('graphWaterMarker');\n\n    const waterMarkerConfig: WaterMarkerConfig = deepMix({}, Global.textWaterMarkerConfig, config);\n    const { width, height, compatible, text } = waterMarkerConfig;\n\n    if (!canvas) {\n      const canvasCfg: any = {\n        container,\n        width,\n        height,\n        capture: false,\n      };\n      const pixelRatio = this.get('pixelRatio');\n      if (pixelRatio) {\n        canvasCfg.pixelRatio = pixelRatio;\n      }\n      canvas = new GMobileCanvas(canvasCfg);\n      this.set('graphWaterMarker', canvas);\n    }\n    canvas.get('el').style.display = 'none';\n    const ctx = canvas.get('context');\n\n    const { rotate, fill, fontFamily, fontSize, baseline, x, y, lineHeight } = text;\n    // 20\n    ctx.rotate((-rotate * Math.PI) / 180);\n\n    // \n    ctx.font = `${fontSize}px ${fontFamily}`;\n\n    // \n    ctx.fillStyle = fill;\n\n    ctx.textBaseline = baseline;\n\n    for (let i = texts.length - 1; i >= 0; i--) {\n      // \n      ctx.fillText(texts[i], x, y + i * lineHeight);\n    }\n\n    // \n    ctx.rotate((rotate * Math.PI) / 180);\n\n    // \n    if (!compatible) {\n      let box = document.querySelector('.g6-graph-watermarker') as HTMLElement;\n      if (!box) {\n        box = document.createElement('div');\n        box.className = 'g6-graph-watermarker';\n      }\n      box.style.cssText = `background-image: url(${canvas\n        .get('el')\n        .toDataURL(\n          'image/png',\n        )});background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;`;\n      container.appendChild(box);\n    } else {\n      //  pointer-events compatible  true\n      container.style.cssText = `background-image: url(${canvas\n        .get('el')\n        .toDataURL('image/png')});background-repeat:repeat;`;\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    each(this.get('plugins'), (plugin) => {\n      plugin.destroyPlugin();\n    });\n\n    // destroy tooltip doms, removed when upgrade G6 4.0\n    const tooltipDOMs = this.get('tooltips');\n    if (tooltipDOMs) {\n      for (let i = 0; i < tooltipDOMs.length; i++) {\n        const container = tooltipDOMs[i];\n        if (!container) continue;\n        const parent = container.parentElement;\n        if (!parent) continue;\n        parent.removeChild(container);\n      }\n    }\n\n    this.get('eventController').destroy();\n    this.get('layoutController').destroy();\n\n    if (this.get('graphWaterMarker')) {\n      this.get('graphWaterMarker').destroy();\n    }\n\n    if (\n      typeof document !== 'undefined' &&\n      document.querySelector &&\n      document.querySelector('.g6-graph-watermarker')\n    ) {\n      document.querySelector('.g6-graph-watermarker').remove();\n    }\n\n    super.destroy();\n  }\n\n  //  Group\n  protected initGroups(): void {\n    const canvas: GMobileCanvas = this.get('canvas');\n\n    const group: IGroup = canvas.addGroup({\n      id: 'root',\n      className: Global.rootContainerClassName,\n    });\n\n    const waterGroup: IGroup = canvas.addGroup({\n      id: 'water',\n      className: Global.waterContainerClassName,\n    });\n\n    if (this.get('groupByTypes')) {\n      const edgeGroup: IGroup = group.addGroup({\n        id: 'edge',\n        className: Global.edgeContainerClassName,\n      });\n\n      const nodeGroup: IGroup = group.addGroup({\n        id: 'node',\n        className: Global.nodeContainerClassName,\n      });\n\n      const comboGroup: IGroup = group.addGroup({\n        id: 'combo',\n        className: Global.comboContainerClassName,\n      });\n\n      // \n      comboGroup.toBack();\n\n      this.set({ nodeGroup, edgeGroup, comboGroup });\n    }\n\n    const uiGroup: IGroup = canvas.addGroup({\n      id: 'uiGroup',\n      className: Global.uiContainerClassName,\n    });\n\n    const delegateGroup: IGroup = group.addGroup({\n      id: 'delegate',\n      className: Global.delegateContainerClassName,\n    });\n    this.set({ delegateGroup });\n    this.set('group', group);\n    this.set('uiGroup', uiGroup);\n    this.set('waterGroup', waterGroup);\n  }\n}\n","/**\n * Take input from [0, n] and return it as [0, 1]\n * @hidden\n */\nexport function bound01(n, max) {\n    if (isOnePointZero(n)) {\n        n = '100%';\n    }\n    var isPercent = isPercentage(n);\n    n = max === 360 ? n : Math.min(max, Math.max(0, parseFloat(n)));\n    // Automatically convert percentage into number\n    if (isPercent) {\n        n = parseInt(String(n * max), 10) / 100;\n    }\n    // Handle floating point rounding errors\n    if (Math.abs(n - max) < 0.000001) {\n        return 1;\n    }\n    // Convert into [0, 1] range if it isn't already\n    if (max === 360) {\n        // If n is a hue given in degrees,\n        // wrap around out-of-range values into [0, 360] range\n        // then convert into [0, 1].\n        n = (n < 0 ? (n % max) + max : n % max) / parseFloat(String(max));\n    }\n    else {\n        // If n not a hue given in degrees\n        // Convert into [0, 1] range if it isn't already.\n        n = (n % max) / parseFloat(String(max));\n    }\n    return n;\n}\n/**\n * Force a number between 0 and 1\n * @hidden\n */\nexport function clamp01(val) {\n    return Math.min(1, Math.max(0, val));\n}\n/**\n * Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n * <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\n * @hidden\n */\nexport function isOnePointZero(n) {\n    return typeof n === 'string' && n.indexOf('.') !== -1 && parseFloat(n) === 1;\n}\n/**\n * Check to see if string passed in is a percentage\n * @hidden\n */\nexport function isPercentage(n) {\n    return typeof n === 'string' && n.indexOf('%') !== -1;\n}\n/**\n * Return a valid alpha value [0,1] with all invalid values being set to 1\n * @hidden\n */\nexport function boundAlpha(a) {\n    a = parseFloat(a);\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n    return a;\n}\n/**\n * Replace a decimal with it's percentage value\n * @hidden\n */\nexport function convertToPercentage(n) {\n    if (n <= 1) {\n        return \"\".concat(Number(n) * 100, \"%\");\n    }\n    return n;\n}\n/**\n * Force a hex value to have 2 characters\n * @hidden\n */\nexport function pad2(c) {\n    return c.length === 1 ? '0' + c : String(c);\n}\n","import { bound01, pad2 } from './util';\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n/**\n * Handle bounds / percentage checking to conform to CSS color spec\n * <http://www.w3.org/TR/css3-color/>\n * *Assumes:* r, g, b in [0, 255] or [0, 1]\n * *Returns:* { r, g, b } in [0, 255]\n */\nexport function rgbToRgb(r, g, b) {\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255,\n    };\n}\n/**\n * Converts an RGB color value to HSL.\n * *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n * *Returns:* { h, s, l } in [0,1]\n */\nexport function rgbToHsl(r, g, b) {\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var h = 0;\n    var s = 0;\n    var l = (max + min) / 2;\n    if (max === min) {\n        s = 0;\n        h = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch (max) {\n            case r:\n                h = (g - b) / d + (g < b ? 6 : 0);\n                break;\n            case g:\n                h = (b - r) / d + 2;\n                break;\n            case b:\n                h = (r - g) / d + 4;\n                break;\n            default:\n                break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, l: l };\n}\nfunction hue2rgb(p, q, t) {\n    if (t < 0) {\n        t += 1;\n    }\n    if (t > 1) {\n        t -= 1;\n    }\n    if (t < 1 / 6) {\n        return p + (q - p) * (6 * t);\n    }\n    if (t < 1 / 2) {\n        return q;\n    }\n    if (t < 2 / 3) {\n        return p + (q - p) * (2 / 3 - t) * 6;\n    }\n    return p;\n}\n/**\n * Converts an HSL color value to RGB.\n *\n * *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n * *Returns:* { r, g, b } in the set [0, 255]\n */\nexport function hslToRgb(h, s, l) {\n    var r;\n    var g;\n    var b;\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n    if (s === 0) {\n        // achromatic\n        g = l;\n        b = l;\n        r = l;\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1 / 3);\n    }\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n/**\n * Converts an RGB color value to HSV\n *\n * *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n * *Returns:* { h, s, v } in [0,1]\n */\nexport function rgbToHsv(r, g, b) {\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var h = 0;\n    var v = max;\n    var d = max - min;\n    var s = max === 0 ? 0 : d / max;\n    if (max === min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch (max) {\n            case r:\n                h = (g - b) / d + (g < b ? 6 : 0);\n                break;\n            case g:\n                h = (b - r) / d + 2;\n                break;\n            case b:\n                h = (r - g) / d + 4;\n                break;\n            default:\n                break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n/**\n * Converts an HSV color value to RGB.\n *\n * *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n * *Returns:* { r, g, b } in the set [0, 255]\n */\nexport function hsvToRgb(h, s, v) {\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n    var i = Math.floor(h);\n    var f = h - i;\n    var p = v * (1 - s);\n    var q = v * (1 - f * s);\n    var t = v * (1 - (1 - f) * s);\n    var mod = i % 6;\n    var r = [v, q, p, p, t, v][mod];\n    var g = [t, v, v, q, p, p][mod];\n    var b = [p, p, t, v, v, q][mod];\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n/**\n * Converts an RGB color to hex\n *\n * Assumes r, g, and b are contained in the set [0, 255]\n * Returns a 3 or 6 character hex\n */\nexport function rgbToHex(r, g, b, allow3Char) {\n    var hex = [\n        pad2(Math.round(r).toString(16)),\n        pad2(Math.round(g).toString(16)),\n        pad2(Math.round(b).toString(16)),\n    ];\n    // Return a 3 character hex if possible\n    if (allow3Char &&\n        hex[0].startsWith(hex[0].charAt(1)) &&\n        hex[1].startsWith(hex[1].charAt(1)) &&\n        hex[2].startsWith(hex[2].charAt(1))) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n    return hex.join('');\n}\n/**\n * Converts an RGBA color plus alpha transparency to hex\n *\n * Assumes r, g, b are contained in the set [0, 255] and\n * a in [0, 1]. Returns a 4 or 8 character rgba hex\n */\n// eslint-disable-next-line max-params\nexport function rgbaToHex(r, g, b, a, allow4Char) {\n    var hex = [\n        pad2(Math.round(r).toString(16)),\n        pad2(Math.round(g).toString(16)),\n        pad2(Math.round(b).toString(16)),\n        pad2(convertDecimalToHex(a)),\n    ];\n    // Return a 4 character hex if possible\n    if (allow4Char &&\n        hex[0].startsWith(hex[0].charAt(1)) &&\n        hex[1].startsWith(hex[1].charAt(1)) &&\n        hex[2].startsWith(hex[2].charAt(1)) &&\n        hex[3].startsWith(hex[3].charAt(1))) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n    return hex.join('');\n}\n/**\n * Converts an RGBA color to an ARGB Hex8 string\n * Rarely used, but required for \"toFilter()\"\n */\nexport function rgbaToArgbHex(r, g, b, a) {\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(Math.round(r).toString(16)),\n        pad2(Math.round(g).toString(16)),\n        pad2(Math.round(b).toString(16)),\n    ];\n    return hex.join('');\n}\n/** Converts a decimal to a hex value */\nexport function convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n/** Converts a hex value to a decimal */\nexport function convertHexToDecimal(h) {\n    return parseIntFromHex(h) / 255;\n}\n/** Parse a base-16 hex value into a base-10 integer */\nexport function parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\nexport function numberInputToObject(color) {\n    return {\n        r: color >> 16,\n        g: (color & 0xff00) >> 8,\n        b: color & 0xff,\n    };\n}\n","// https://github.com/bahamas10/css-color-names/blob/master/css-color-names.json\n/**\n * @hidden\n */\nexport var names = {\n    aliceblue: '#f0f8ff',\n    antiquewhite: '#faebd7',\n    aqua: '#00ffff',\n    aquamarine: '#7fffd4',\n    azure: '#f0ffff',\n    beige: '#f5f5dc',\n    bisque: '#ffe4c4',\n    black: '#000000',\n    blanchedalmond: '#ffebcd',\n    blue: '#0000ff',\n    blueviolet: '#8a2be2',\n    brown: '#a52a2a',\n    burlywood: '#deb887',\n    cadetblue: '#5f9ea0',\n    chartreuse: '#7fff00',\n    chocolate: '#d2691e',\n    coral: '#ff7f50',\n    cornflowerblue: '#6495ed',\n    cornsilk: '#fff8dc',\n    crimson: '#dc143c',\n    cyan: '#00ffff',\n    darkblue: '#00008b',\n    darkcyan: '#008b8b',\n    darkgoldenrod: '#b8860b',\n    darkgray: '#a9a9a9',\n    darkgreen: '#006400',\n    darkgrey: '#a9a9a9',\n    darkkhaki: '#bdb76b',\n    darkmagenta: '#8b008b',\n    darkolivegreen: '#556b2f',\n    darkorange: '#ff8c00',\n    darkorchid: '#9932cc',\n    darkred: '#8b0000',\n    darksalmon: '#e9967a',\n    darkseagreen: '#8fbc8f',\n    darkslateblue: '#483d8b',\n    darkslategray: '#2f4f4f',\n    darkslategrey: '#2f4f4f',\n    darkturquoise: '#00ced1',\n    darkviolet: '#9400d3',\n    deeppink: '#ff1493',\n    deepskyblue: '#00bfff',\n    dimgray: '#696969',\n    dimgrey: '#696969',\n    dodgerblue: '#1e90ff',\n    firebrick: '#b22222',\n    floralwhite: '#fffaf0',\n    forestgreen: '#228b22',\n    fuchsia: '#ff00ff',\n    gainsboro: '#dcdcdc',\n    ghostwhite: '#f8f8ff',\n    goldenrod: '#daa520',\n    gold: '#ffd700',\n    gray: '#808080',\n    green: '#008000',\n    greenyellow: '#adff2f',\n    grey: '#808080',\n    honeydew: '#f0fff0',\n    hotpink: '#ff69b4',\n    indianred: '#cd5c5c',\n    indigo: '#4b0082',\n    ivory: '#fffff0',\n    khaki: '#f0e68c',\n    lavenderblush: '#fff0f5',\n    lavender: '#e6e6fa',\n    lawngreen: '#7cfc00',\n    lemonchiffon: '#fffacd',\n    lightblue: '#add8e6',\n    lightcoral: '#f08080',\n    lightcyan: '#e0ffff',\n    lightgoldenrodyellow: '#fafad2',\n    lightgray: '#d3d3d3',\n    lightgreen: '#90ee90',\n    lightgrey: '#d3d3d3',\n    lightpink: '#ffb6c1',\n    lightsalmon: '#ffa07a',\n    lightseagreen: '#20b2aa',\n    lightskyblue: '#87cefa',\n    lightslategray: '#778899',\n    lightslategrey: '#778899',\n    lightsteelblue: '#b0c4de',\n    lightyellow: '#ffffe0',\n    lime: '#00ff00',\n    limegreen: '#32cd32',\n    linen: '#faf0e6',\n    magenta: '#ff00ff',\n    maroon: '#800000',\n    mediumaquamarine: '#66cdaa',\n    mediumblue: '#0000cd',\n    mediumorchid: '#ba55d3',\n    mediumpurple: '#9370db',\n    mediumseagreen: '#3cb371',\n    mediumslateblue: '#7b68ee',\n    mediumspringgreen: '#00fa9a',\n    mediumturquoise: '#48d1cc',\n    mediumvioletred: '#c71585',\n    midnightblue: '#191970',\n    mintcream: '#f5fffa',\n    mistyrose: '#ffe4e1',\n    moccasin: '#ffe4b5',\n    navajowhite: '#ffdead',\n    navy: '#000080',\n    oldlace: '#fdf5e6',\n    olive: '#808000',\n    olivedrab: '#6b8e23',\n    orange: '#ffa500',\n    orangered: '#ff4500',\n    orchid: '#da70d6',\n    palegoldenrod: '#eee8aa',\n    palegreen: '#98fb98',\n    paleturquoise: '#afeeee',\n    palevioletred: '#db7093',\n    papayawhip: '#ffefd5',\n    peachpuff: '#ffdab9',\n    peru: '#cd853f',\n    pink: '#ffc0cb',\n    plum: '#dda0dd',\n    powderblue: '#b0e0e6',\n    purple: '#800080',\n    rebeccapurple: '#663399',\n    red: '#ff0000',\n    rosybrown: '#bc8f8f',\n    royalblue: '#4169e1',\n    saddlebrown: '#8b4513',\n    salmon: '#fa8072',\n    sandybrown: '#f4a460',\n    seagreen: '#2e8b57',\n    seashell: '#fff5ee',\n    sienna: '#a0522d',\n    silver: '#c0c0c0',\n    skyblue: '#87ceeb',\n    slateblue: '#6a5acd',\n    slategray: '#708090',\n    slategrey: '#708090',\n    snow: '#fffafa',\n    springgreen: '#00ff7f',\n    steelblue: '#4682b4',\n    tan: '#d2b48c',\n    teal: '#008080',\n    thistle: '#d8bfd8',\n    tomato: '#ff6347',\n    turquoise: '#40e0d0',\n    violet: '#ee82ee',\n    wheat: '#f5deb3',\n    white: '#ffffff',\n    whitesmoke: '#f5f5f5',\n    yellow: '#ffff00',\n    yellowgreen: '#9acd32',\n};\n","import { convertHexToDecimal, hslToRgb, hsvToRgb, parseIntFromHex, rgbToRgb } from './conversion';\nimport { names } from './css-color-names';\nimport { boundAlpha, convertToPercentage } from './util';\n/**\n * Given a string or object, convert that input to RGB\n *\n * Possible string inputs:\n * ```\n * \"red\"\n * \"#f00\" or \"f00\"\n * \"#ff0000\" or \"ff0000\"\n * \"#ff000000\" or \"ff000000\"\n * \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n * \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n * \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n * \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n * \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n * \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n * \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n * ```\n */\nexport function inputToRGB(color) {\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n    if (typeof color === 'string') {\n        color = stringInputToObject(color);\n    }\n    if (typeof color === 'object') {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === '%' ? 'prgb' : 'rgb';\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = 'hsv';\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = 'hsl';\n        }\n        if (Object.prototype.hasOwnProperty.call(color, 'a')) {\n            a = color.a;\n        }\n    }\n    a = boundAlpha(a);\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: Math.min(255, Math.max(rgb.r, 0)),\n        g: Math.min(255, Math.max(rgb.g, 0)),\n        b: Math.min(255, Math.max(rgb.b, 0)),\n        a: a,\n    };\n}\n// <http://www.w3.org/TR/css3-values/#integers>\nvar CSS_INTEGER = '[-\\\\+]?\\\\d+%?';\n// <http://www.w3.org/TR/css3-values/#number-value>\nvar CSS_NUMBER = '[-\\\\+]?\\\\d*\\\\.\\\\d+%?';\n// Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\nvar CSS_UNIT = \"(?:\".concat(CSS_NUMBER, \")|(?:\").concat(CSS_INTEGER, \")\");\n// Actual matching.\n// Parentheses and commas are optional, but not required.\n// Whitespace can take the place of commas or opening paren\nvar PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\".concat(CSS_UNIT, \")[,|\\\\s]+(\").concat(CSS_UNIT, \")[,|\\\\s]+(\").concat(CSS_UNIT, \")\\\\s*\\\\)?\");\nvar PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\".concat(CSS_UNIT, \")[,|\\\\s]+(\").concat(CSS_UNIT, \")[,|\\\\s]+(\").concat(CSS_UNIT, \")[,|\\\\s]+(\").concat(CSS_UNIT, \")\\\\s*\\\\)?\");\nvar matchers = {\n    CSS_UNIT: new RegExp(CSS_UNIT),\n    rgb: new RegExp('rgb' + PERMISSIVE_MATCH3),\n    rgba: new RegExp('rgba' + PERMISSIVE_MATCH4),\n    hsl: new RegExp('hsl' + PERMISSIVE_MATCH3),\n    hsla: new RegExp('hsla' + PERMISSIVE_MATCH4),\n    hsv: new RegExp('hsv' + PERMISSIVE_MATCH3),\n    hsva: new RegExp('hsva' + PERMISSIVE_MATCH4),\n    hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n    hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n};\n/**\n * Permissive string parsing.  Take in a number of formats, and output an object\n * based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\n */\nexport function stringInputToObject(color) {\n    color = color.trim().toLowerCase();\n    if (color.length === 0) {\n        return false;\n    }\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color === 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: 'name' };\n    }\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match = matchers.rgb.exec(color);\n    if (match) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    match = matchers.rgba.exec(color);\n    if (match) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    match = matchers.hsl.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    match = matchers.hsla.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    match = matchers.hsv.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    match = matchers.hsva.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    match = matchers.hex8.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? 'name' : 'hex8',\n        };\n    }\n    match = matchers.hex6.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? 'name' : 'hex',\n        };\n    }\n    match = matchers.hex4.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1] + match[1]),\n            g: parseIntFromHex(match[2] + match[2]),\n            b: parseIntFromHex(match[3] + match[3]),\n            a: convertHexToDecimal(match[4] + match[4]),\n            format: named ? 'name' : 'hex8',\n        };\n    }\n    match = matchers.hex3.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1] + match[1]),\n            g: parseIntFromHex(match[2] + match[2]),\n            b: parseIntFromHex(match[3] + match[3]),\n            format: named ? 'name' : 'hex',\n        };\n    }\n    return false;\n}\n/**\n * Check to see if it looks like a CSS unit\n * (see `matchers` above for definition).\n */\nexport function isValidCSSUnit(color) {\n    return Boolean(matchers.CSS_UNIT.exec(String(color)));\n}\n","import { numberInputToObject, rgbaToHex, rgbToHex, rgbToHsl, rgbToHsv } from './conversion';\nimport { names } from './css-color-names';\nimport { inputToRGB } from './format-input';\nimport { bound01, boundAlpha, clamp01 } from './util';\nvar TinyColor = /** @class */ (function () {\n    function TinyColor(color, opts) {\n        if (color === void 0) { color = ''; }\n        if (opts === void 0) { opts = {}; }\n        var _a;\n        // If input is already a tinycolor, return itself\n        if (color instanceof TinyColor) {\n            // eslint-disable-next-line no-constructor-return\n            return color;\n        }\n        if (typeof color === 'number') {\n            color = numberInputToObject(color);\n        }\n        this.originalInput = color;\n        var rgb = inputToRGB(color);\n        this.originalInput = color;\n        this.r = rgb.r;\n        this.g = rgb.g;\n        this.b = rgb.b;\n        this.a = rgb.a;\n        this.roundA = Math.round(100 * this.a) / 100;\n        this.format = (_a = opts.format) !== null && _a !== void 0 ? _a : rgb.format;\n        this.gradientType = opts.gradientType;\n        // Don't let the range of [0,255] come back in [0,1].\n        // Potentially lose a little bit of precision here, but will fix issues where\n        // .5 gets interpreted as half of the total, instead of half of 1\n        // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n        if (this.r < 1) {\n            this.r = Math.round(this.r);\n        }\n        if (this.g < 1) {\n            this.g = Math.round(this.g);\n        }\n        if (this.b < 1) {\n            this.b = Math.round(this.b);\n        }\n        this.isValid = rgb.ok;\n    }\n    TinyColor.prototype.isDark = function () {\n        return this.getBrightness() < 128;\n    };\n    TinyColor.prototype.isLight = function () {\n        return !this.isDark();\n    };\n    /**\n     * Returns the perceived brightness of the color, from 0-255.\n     */\n    TinyColor.prototype.getBrightness = function () {\n        // http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    };\n    /**\n     * Returns the perceived luminance of a color, from 0-1.\n     */\n    TinyColor.prototype.getLuminance = function () {\n        // http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var R;\n        var G;\n        var B;\n        var RsRGB = rgb.r / 255;\n        var GsRGB = rgb.g / 255;\n        var BsRGB = rgb.b / 255;\n        if (RsRGB <= 0.03928) {\n            R = RsRGB / 12.92;\n        }\n        else {\n            // eslint-disable-next-line prefer-exponentiation-operator\n            R = Math.pow((RsRGB + 0.055) / 1.055, 2.4);\n        }\n        if (GsRGB <= 0.03928) {\n            G = GsRGB / 12.92;\n        }\n        else {\n            // eslint-disable-next-line prefer-exponentiation-operator\n            G = Math.pow((GsRGB + 0.055) / 1.055, 2.4);\n        }\n        if (BsRGB <= 0.03928) {\n            B = BsRGB / 12.92;\n        }\n        else {\n            // eslint-disable-next-line prefer-exponentiation-operator\n            B = Math.pow((BsRGB + 0.055) / 1.055, 2.4);\n        }\n        return 0.2126 * R + 0.7152 * G + 0.0722 * B;\n    };\n    /**\n     * Returns the alpha value of a color, from 0-1.\n     */\n    TinyColor.prototype.getAlpha = function () {\n        return this.a;\n    };\n    /**\n     * Sets the alpha value on the current color.\n     *\n     * @param alpha - The new alpha value. The accepted range is 0-1.\n     */\n    TinyColor.prototype.setAlpha = function (alpha) {\n        this.a = boundAlpha(alpha);\n        this.roundA = Math.round(100 * this.a) / 100;\n        return this;\n    };\n    /**\n     * Returns the object as a HSVA object.\n     */\n    TinyColor.prototype.toHsv = function () {\n        var hsv = rgbToHsv(this.r, this.g, this.b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this.a };\n    };\n    /**\n     * Returns the hsva values interpolated into a string with the following format:\n     * \"hsva(xxx, xxx, xxx, xx)\".\n     */\n    TinyColor.prototype.toHsvString = function () {\n        var hsv = rgbToHsv(this.r, this.g, this.b);\n        var h = Math.round(hsv.h * 360);\n        var s = Math.round(hsv.s * 100);\n        var v = Math.round(hsv.v * 100);\n        return this.a === 1 ? \"hsv(\".concat(h, \", \").concat(s, \"%, \").concat(v, \"%)\") : \"hsva(\".concat(h, \", \").concat(s, \"%, \").concat(v, \"%, \").concat(this.roundA, \")\");\n    };\n    /**\n     * Returns the object as a HSLA object.\n     */\n    TinyColor.prototype.toHsl = function () {\n        var hsl = rgbToHsl(this.r, this.g, this.b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this.a };\n    };\n    /**\n     * Returns the hsla values interpolated into a string with the following format:\n     * \"hsla(xxx, xxx, xxx, xx)\".\n     */\n    TinyColor.prototype.toHslString = function () {\n        var hsl = rgbToHsl(this.r, this.g, this.b);\n        var h = Math.round(hsl.h * 360);\n        var s = Math.round(hsl.s * 100);\n        var l = Math.round(hsl.l * 100);\n        return this.a === 1 ? \"hsl(\".concat(h, \", \").concat(s, \"%, \").concat(l, \"%)\") : \"hsla(\".concat(h, \", \").concat(s, \"%, \").concat(l, \"%, \").concat(this.roundA, \")\");\n    };\n    /**\n     * Returns the hex value of the color.\n     * @param allow3Char will shorten hex value to 3 char if possible\n     */\n    TinyColor.prototype.toHex = function (allow3Char) {\n        if (allow3Char === void 0) { allow3Char = false; }\n        return rgbToHex(this.r, this.g, this.b, allow3Char);\n    };\n    /**\n     * Returns the hex value of the color -with a # appened.\n     * @param allow3Char will shorten hex value to 3 char if possible\n     */\n    TinyColor.prototype.toHexString = function (allow3Char) {\n        if (allow3Char === void 0) { allow3Char = false; }\n        return '#' + this.toHex(allow3Char);\n    };\n    /**\n     * Returns the hex 8 value of the color.\n     * @param allow4Char will shorten hex value to 4 char if possible\n     */\n    TinyColor.prototype.toHex8 = function (allow4Char) {\n        if (allow4Char === void 0) { allow4Char = false; }\n        return rgbaToHex(this.r, this.g, this.b, this.a, allow4Char);\n    };\n    /**\n     * Returns the hex 8 value of the color -with a # appened.\n     * @param allow4Char will shorten hex value to 4 char if possible\n     */\n    TinyColor.prototype.toHex8String = function (allow4Char) {\n        if (allow4Char === void 0) { allow4Char = false; }\n        return '#' + this.toHex8(allow4Char);\n    };\n    /**\n     * Returns the object as a RGBA object.\n     */\n    TinyColor.prototype.toRgb = function () {\n        return {\n            r: Math.round(this.r),\n            g: Math.round(this.g),\n            b: Math.round(this.b),\n            a: this.a,\n        };\n    };\n    /**\n     * Returns the RGBA values interpolated into a string with the following format:\n     * \"RGBA(xxx, xxx, xxx, xx)\".\n     */\n    TinyColor.prototype.toRgbString = function () {\n        var r = Math.round(this.r);\n        var g = Math.round(this.g);\n        var b = Math.round(this.b);\n        return this.a === 1 ? \"rgb(\".concat(r, \", \").concat(g, \", \").concat(b, \")\") : \"rgba(\".concat(r, \", \").concat(g, \", \").concat(b, \", \").concat(this.roundA, \")\");\n    };\n    /**\n     * Returns the object as a RGBA object.\n     */\n    TinyColor.prototype.toPercentageRgb = function () {\n        var fmt = function (x) { return \"\".concat(Math.round(bound01(x, 255) * 100), \"%\"); };\n        return {\n            r: fmt(this.r),\n            g: fmt(this.g),\n            b: fmt(this.b),\n            a: this.a,\n        };\n    };\n    /**\n     * Returns the RGBA relative values interpolated into a string\n     */\n    TinyColor.prototype.toPercentageRgbString = function () {\n        var rnd = function (x) { return Math.round(bound01(x, 255) * 100); };\n        return this.a === 1\n            ? \"rgb(\".concat(rnd(this.r), \"%, \").concat(rnd(this.g), \"%, \").concat(rnd(this.b), \"%)\")\n            : \"rgba(\".concat(rnd(this.r), \"%, \").concat(rnd(this.g), \"%, \").concat(rnd(this.b), \"%, \").concat(this.roundA, \")\");\n    };\n    /**\n     * The 'real' name of the color -if there is one.\n     */\n    TinyColor.prototype.toName = function () {\n        if (this.a === 0) {\n            return 'transparent';\n        }\n        if (this.a < 1) {\n            return false;\n        }\n        var hex = '#' + rgbToHex(this.r, this.g, this.b, false);\n        for (var _i = 0, _a = Object.entries(names); _i < _a.length; _i++) {\n            var _b = _a[_i], key = _b[0], value = _b[1];\n            if (hex === value) {\n                return key;\n            }\n        }\n        return false;\n    };\n    TinyColor.prototype.toString = function (format) {\n        var formatSet = Boolean(format);\n        format = format !== null && format !== void 0 ? format : this.format;\n        var formattedString = false;\n        var hasAlpha = this.a < 1 && this.a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format.startsWith('hex') || format === 'name');\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === 'name' && this.a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === 'rgb') {\n            formattedString = this.toRgbString();\n        }\n        if (format === 'prgb') {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === 'hex' || format === 'hex6') {\n            formattedString = this.toHexString();\n        }\n        if (format === 'hex3') {\n            formattedString = this.toHexString(true);\n        }\n        if (format === 'hex4') {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === 'hex8') {\n            formattedString = this.toHex8String();\n        }\n        if (format === 'name') {\n            formattedString = this.toName();\n        }\n        if (format === 'hsl') {\n            formattedString = this.toHslString();\n        }\n        if (format === 'hsv') {\n            formattedString = this.toHsvString();\n        }\n        return formattedString || this.toHexString();\n    };\n    TinyColor.prototype.toNumber = function () {\n        return (Math.round(this.r) << 16) + (Math.round(this.g) << 8) + Math.round(this.b);\n    };\n    TinyColor.prototype.clone = function () {\n        return new TinyColor(this.toString());\n    };\n    /**\n     * Lighten the color a given amount. Providing 100 will always return white.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.lighten = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.l += amount / 100;\n        hsl.l = clamp01(hsl.l);\n        return new TinyColor(hsl);\n    };\n    /**\n     * Brighten the color a given amount, from 0 to 100.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.brighten = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var rgb = this.toRgb();\n        rgb.r = Math.max(0, Math.min(255, rgb.r - Math.round(255 * -(amount / 100))));\n        rgb.g = Math.max(0, Math.min(255, rgb.g - Math.round(255 * -(amount / 100))));\n        rgb.b = Math.max(0, Math.min(255, rgb.b - Math.round(255 * -(amount / 100))));\n        return new TinyColor(rgb);\n    };\n    /**\n     * Darken the color a given amount, from 0 to 100.\n     * Providing 100 will always return black.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.darken = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.l -= amount / 100;\n        hsl.l = clamp01(hsl.l);\n        return new TinyColor(hsl);\n    };\n    /**\n     * Mix the color with pure white, from 0 to 100.\n     * Providing 0 will do nothing, providing 100 will always return white.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.tint = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        return this.mix('white', amount);\n    };\n    /**\n     * Mix the color with pure black, from 0 to 100.\n     * Providing 0 will do nothing, providing 100 will always return black.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.shade = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        return this.mix('black', amount);\n    };\n    /**\n     * Desaturate the color a given amount, from 0 to 100.\n     * Providing 100 will is the same as calling greyscale\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.desaturate = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.s -= amount / 100;\n        hsl.s = clamp01(hsl.s);\n        return new TinyColor(hsl);\n    };\n    /**\n     * Saturate the color a given amount, from 0 to 100.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.saturate = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.s += amount / 100;\n        hsl.s = clamp01(hsl.s);\n        return new TinyColor(hsl);\n    };\n    /**\n     * Completely desaturates a color into greyscale.\n     * Same as calling `desaturate(100)`\n     */\n    TinyColor.prototype.greyscale = function () {\n        return this.desaturate(100);\n    };\n    /**\n     * Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n     * Values outside of this range will be wrapped into this range.\n     */\n    TinyColor.prototype.spin = function (amount) {\n        var hsl = this.toHsl();\n        var hue = (hsl.h + amount) % 360;\n        hsl.h = hue < 0 ? 360 + hue : hue;\n        return new TinyColor(hsl);\n    };\n    /**\n     * Mix the current color a given amount with another color, from 0 to 100.\n     * 0 means no mixing (return current color).\n     */\n    TinyColor.prototype.mix = function (color, amount) {\n        if (amount === void 0) { amount = 50; }\n        var rgb1 = this.toRgb();\n        var rgb2 = new TinyColor(color).toRgb();\n        var p = amount / 100;\n        var rgba = {\n            r: (rgb2.r - rgb1.r) * p + rgb1.r,\n            g: (rgb2.g - rgb1.g) * p + rgb1.g,\n            b: (rgb2.b - rgb1.b) * p + rgb1.b,\n            a: (rgb2.a - rgb1.a) * p + rgb1.a,\n        };\n        return new TinyColor(rgba);\n    };\n    TinyColor.prototype.analogous = function (results, slices) {\n        if (results === void 0) { results = 6; }\n        if (slices === void 0) { slices = 30; }\n        var hsl = this.toHsl();\n        var part = 360 / slices;\n        var ret = [this];\n        for (hsl.h = (hsl.h - ((part * results) >> 1) + 720) % 360; --results;) {\n            hsl.h = (hsl.h + part) % 360;\n            ret.push(new TinyColor(hsl));\n        }\n        return ret;\n    };\n    /**\n     * taken from https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js\n     */\n    TinyColor.prototype.complement = function () {\n        var hsl = this.toHsl();\n        hsl.h = (hsl.h + 180) % 360;\n        return new TinyColor(hsl);\n    };\n    TinyColor.prototype.monochromatic = function (results) {\n        if (results === void 0) { results = 6; }\n        var hsv = this.toHsv();\n        var h = hsv.h;\n        var s = hsv.s;\n        var v = hsv.v;\n        var res = [];\n        var modification = 1 / results;\n        while (results--) {\n            res.push(new TinyColor({ h: h, s: s, v: v }));\n            v = (v + modification) % 1;\n        }\n        return res;\n    };\n    TinyColor.prototype.splitcomplement = function () {\n        var hsl = this.toHsl();\n        var h = hsl.h;\n        return [\n            this,\n            new TinyColor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l }),\n            new TinyColor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l }),\n        ];\n    };\n    /**\n     * Compute how the color would appear on a background\n     */\n    TinyColor.prototype.onBackground = function (background) {\n        var fg = this.toRgb();\n        var bg = new TinyColor(background).toRgb();\n        return new TinyColor({\n            r: bg.r + (fg.r - bg.r) * fg.a,\n            g: bg.g + (fg.g - bg.g) * fg.a,\n            b: bg.b + (fg.b - bg.b) * fg.a,\n        });\n    };\n    /**\n     * Alias for `polyad(3)`\n     */\n    TinyColor.prototype.triad = function () {\n        return this.polyad(3);\n    };\n    /**\n     * Alias for `polyad(4)`\n     */\n    TinyColor.prototype.tetrad = function () {\n        return this.polyad(4);\n    };\n    /**\n     * Get polyad colors, like (for 1, 2, 3, 4, 5, 6, 7, 8, etc...)\n     * monad, dyad, triad, tetrad, pentad, hexad, heptad, octad, etc...\n     */\n    TinyColor.prototype.polyad = function (n) {\n        var hsl = this.toHsl();\n        var h = hsl.h;\n        var result = [this];\n        var increment = 360 / n;\n        for (var i = 1; i < n; i++) {\n            result.push(new TinyColor({ h: (h + i * increment) % 360, s: hsl.s, l: hsl.l }));\n        }\n        return result;\n    };\n    /**\n     * compare color vs current color\n     */\n    TinyColor.prototype.equals = function (color) {\n        return this.toRgbString() === new TinyColor(color).toRgbString();\n    };\n    return TinyColor;\n}());\nexport { TinyColor };\n// kept for backwards compatability with v1\nexport function tinycolor(color, opts) {\n    if (color === void 0) { color = ''; }\n    if (opts === void 0) { opts = {}; }\n    return new TinyColor(color, opts);\n}\n","import { TinyColor } from '@ctrl/tinycolor';\n\nvar hueStep = 2; // \n\nvar saturationStep = 0.16; // \n\nvar saturationStep2 = 0.05; // \n\nvar brightnessStep1 = 0.05; // \n\nvar brightnessStep2 = 0.15; // \n\nvar lightColorCount = 5; // \n\nvar darkColorCount = 4; // \n// \n\nvar darkColorMap = [{\n  index: 7,\n  opacity: 0.15\n}, {\n  index: 6,\n  opacity: 0.25\n}, {\n  index: 5,\n  opacity: 0.3\n}, {\n  index: 5,\n  opacity: 0.45\n}, {\n  index: 5,\n  opacity: 0.65\n}, {\n  index: 5,\n  opacity: 0.85\n}, {\n  index: 4,\n  opacity: 0.9\n}, {\n  index: 3,\n  opacity: 0.95\n}, {\n  index: 2,\n  opacity: 0.97\n}, {\n  index: 1,\n  opacity: 0.98\n}];\n\nfunction getHue(hsv, i, light) {\n  var hue; // \n\n  if (Math.round(hsv.h) >= 60 && Math.round(hsv.h) <= 240) {\n    hue = light ? Math.round(hsv.h) - hueStep * i : Math.round(hsv.h) + hueStep * i;\n  } else {\n    hue = light ? Math.round(hsv.h) + hueStep * i : Math.round(hsv.h) - hueStep * i;\n  }\n\n  if (hue < 0) {\n    hue += 360;\n  } else if (hue >= 360) {\n    hue -= 360;\n  }\n\n  return hue;\n}\n\nfunction getSaturation(hsv, i, light) {\n  // grey color don't change saturation\n  if (hsv.h === 0 && hsv.s === 0) {\n    return hsv.s;\n  }\n\n  var saturation;\n\n  if (light) {\n    saturation = hsv.s - saturationStep * i;\n  } else if (i === darkColorCount) {\n    saturation = hsv.s + saturationStep;\n  } else {\n    saturation = hsv.s + saturationStep2 * i;\n  } // \n\n\n  if (saturation > 1) {\n    saturation = 1;\n  } //  s  0.06-0.1 \n\n\n  if (light && i === lightColorCount && saturation > 0.1) {\n    saturation = 0.1;\n  }\n\n  if (saturation < 0.06) {\n    saturation = 0.06;\n  }\n\n  return Number(saturation.toFixed(2));\n}\n\nfunction getValue(hsv, i, light) {\n  var value;\n\n  if (light) {\n    value = hsv.v + brightnessStep1 * i;\n  } else {\n    value = hsv.v - brightnessStep2 * i;\n  }\n\n  if (value > 1) {\n    value = 1;\n  }\n\n  return Number(value.toFixed(2));\n}\n\nfunction generate(color) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var patterns = [];\n  var pColor = new TinyColor(color);\n\n  for (var i = lightColorCount; i > 0; i -= 1) {\n    var hsv = pColor.toHsv();\n    var colorString = new TinyColor({\n      h: getHue(hsv, i, true),\n      s: getSaturation(hsv, i, true),\n      v: getValue(hsv, i, true)\n    }).toHexString();\n    patterns.push(colorString);\n  }\n\n  patterns.push(pColor.toHexString());\n\n  for (var _i = 1; _i <= darkColorCount; _i += 1) {\n    var _hsv = pColor.toHsv();\n\n    var _colorString = new TinyColor({\n      h: getHue(_hsv, _i),\n      s: getSaturation(_hsv, _i),\n      v: getValue(_hsv, _i)\n    }).toHexString();\n\n    patterns.push(_colorString);\n  } // dark theme patterns\n\n\n  if (opts.theme === 'dark') {\n    return darkColorMap.map(function (_ref) {\n      var index = _ref.index,\n          opacity = _ref.opacity;\n      var darkColorString = new TinyColor(opts.backgroundColor || '#141414').mix(patterns[index], opacity * 100).toHexString();\n      return darkColorString;\n    });\n  }\n\n  return patterns;\n}\n\nvar presetPrimaryColors = {\n  red: '#F5222D',\n  volcano: '#FA541C',\n  orange: '#FA8C16',\n  gold: '#FAAD14',\n  yellow: '#FADB14',\n  lime: '#A0D911',\n  green: '#52C41A',\n  cyan: '#13C2C2',\n  blue: '#1890FF',\n  geekblue: '#2F54EB',\n  purple: '#722ED1',\n  magenta: '#EB2F96',\n  grey: '#666666'\n};\nvar presetPalettes = {};\nvar presetDarkPalettes = {};\nObject.keys(presetPrimaryColors).forEach(function (key) {\n  presetPalettes[key] = generate(presetPrimaryColors[key]);\n  presetPalettes[key].primary = presetPalettes[key][5]; // dark presetPalettes\n\n  presetDarkPalettes[key] = generate(presetPrimaryColors[key], {\n    theme: 'dark',\n    backgroundColor: '#141414'\n  });\n  presetDarkPalettes[key].primary = presetDarkPalettes[key][5];\n});\nvar red = presetPalettes.red;\nvar volcano = presetPalettes.volcano;\nvar gold = presetPalettes.gold;\nvar orange = presetPalettes.orange;\nvar yellow = presetPalettes.yellow;\nvar lime = presetPalettes.lime;\nvar green = presetPalettes.green;\nvar cyan = presetPalettes.cyan;\nvar blue = presetPalettes.blue;\nvar geekblue = presetPalettes.geekblue;\nvar purple = presetPalettes.purple;\nvar magenta = presetPalettes.magenta;\nvar grey = presetPalettes.grey;\n\nexport { blue, cyan, geekblue, generate, gold, green, grey, lime, magenta, orange, presetDarkPalettes, presetPalettes, presetPrimaryColors, purple, red, volcano, yellow };\n","import color from 'color';\nimport { generate } from '@ant-design/colors';\n\n/**\n * get the mix color of backColor and frontColor with alpah\n * @param backColor background color\n * @param frontColor foreground color\n * @param frontAlpha the opacity of foreground color\n */\nexport const mixColor = (backColor, frontColor, frontAlpha) => {\n  const bc = color(backColor);\n  const fc = color(frontColor);\n  return color([\n    (1 - frontAlpha) * bc.red() + frontAlpha * fc.red(),\n    (1 - frontAlpha) * bc.green() + frontAlpha * fc.green(),\n    (1 - frontAlpha) * bc.blue() + frontAlpha * fc.blue(),\n  ]).rgb();\n};\n\nconst getColorsWithDefaultTheme = (\n  subjectColor,\n  backColor = '#fff',\n  disableColor = 'rgb(150, 150, 150)',\n) => {\n  const subjectColor005 = mixColor(backColor, subjectColor, 0.05).rgb().toString();\n  const subjectColor01 = mixColor(backColor, subjectColor, 0.1).rgb().toString();\n  const subjectColor02 = mixColor(backColor, subjectColor, 0.2).rgb().toString();\n  const subjectColor04 = mixColor(backColor, subjectColor, 0.4).rgb().toString();\n\n  const disableColor002 = mixColor(backColor, disableColor, 0.02).rgb().toString();\n  const disableColor005 = mixColor(backColor, disableColor, 0.05).rgb().toString();\n  const disableColor01 = mixColor(backColor, disableColor, 0.1).rgb().toString();\n  const disableColor02 = mixColor(backColor, disableColor, 0.2).rgb().toString();\n  const disableColor03 = mixColor(backColor, disableColor, 0.3).rgb().toString();\n\n  const paletteFromSubject = generate(subjectColor, {\n    theme: 'default',\n    backgroundColor: backColor,\n  });\n  const subjectHex = color(subjectColor).hex().toLowerCase();\n  const subjectIdx = paletteFromSubject.indexOf(subjectHex);\n  let deeperSubject = subjectColor;\n  if (subjectIdx !== -1) {\n    deeperSubject = paletteFromSubject[subjectIdx + 1];\n  }\n  return {\n    // for nodes\n    mainStroke: subjectColor,\n    mainFill: subjectColor01,\n\n    activeStroke: subjectColor,\n    activeFill: subjectColor005,\n\n    inactiveStroke: subjectColor04,\n    inactiveFill: subjectColor005,\n\n    selectedStroke: subjectColor,\n    selectedFill: backColor,\n\n    highlightStroke: deeperSubject,\n    highlightFill: subjectColor02,\n\n    disableStroke: disableColor03,\n    disableFill: disableColor005,\n\n    // for edges\n    edgeMainStroke: disableColor03,\n    edgeActiveStroke: subjectColor,\n    edgeInactiveStroke: disableColor02,\n    edgeSelectedStroke: subjectColor,\n    edgeHighlightStroke: subjectColor,\n    edgeDisableStroke: disableColor01,\n\n    // for combos\n    comboMainStroke: disableColor03,\n    comboMainFill: disableColor002,\n\n    comboActiveStroke: subjectColor,\n    comboActiveFill: subjectColor005,\n\n    comboInactiveStroke: disableColor03,\n    comboInactiveFill: disableColor002,\n\n    comboSelectedStroke: subjectColor,\n    comboSelectedFill: disableColor002,\n\n    comboHighlightStroke: deeperSubject, // 'rgb(53, 119, 222)', // TODO: how to generate it ???\n    comboHighlightFill: disableColor002,\n\n    comboDisableStroke: disableColor02,\n    comboDisableFill: disableColor005,\n  };\n};\n\nconst getColorsWithDarkTheme = (subjectColor, backColor = '#fff', disableColor = '#777') => {\n  const subjectColor02 = mixColor(backColor, subjectColor, 0.2).rgb().toString();\n  const subjectColor03 = mixColor(backColor, subjectColor, 0.3).rgb().toString();\n  const subjectColor06 = mixColor(backColor, subjectColor, 0.6).rgb().toString();\n  const subjectColor08 = mixColor(backColor, subjectColor, 0.8).rgb().toString();\n\n  const disableColor02 = mixColor(backColor, disableColor, 0.2).rgb().toString();\n  const disableColor025 = mixColor(backColor, disableColor, 0.25).rgb().toString();\n  const disableColor03 = mixColor(backColor, disableColor, 0.3).rgb().toString();\n  const disableColor04 = mixColor(backColor, disableColor, 0.4).rgb().toString();\n  const disableColor05 = mixColor(backColor, disableColor, 0.5).rgb().toString();\n\n  const paletteFromSubject = generate(subjectColor, { theme: 'dark', backgroundColor: backColor });\n  const subjectHex = color(subjectColor).hex().toLowerCase();\n  const subjectIdx = paletteFromSubject.indexOf(subjectHex);\n  let deeperSubject = subjectColor;\n  if (subjectIdx !== -1) {\n    deeperSubject = paletteFromSubject[subjectIdx + 1];\n  }\n  return {\n    // for nodes\n    mainStroke: subjectColor08,\n    mainFill: subjectColor02,\n\n    activeStroke: subjectColor,\n    activeFill: subjectColor03,\n\n    inactiveStroke: subjectColor08,\n    inactiveFill: subjectColor02,\n\n    selectedStroke: subjectColor,\n    selectedFill: subjectColor02,\n\n    highlightStroke: subjectColor,\n    highlightFill: subjectColor06,\n\n    disableStroke: disableColor05,\n    disableFill: disableColor025,\n\n    // for edges\n    edgeMainStroke: disableColor,\n    edgeActiveStroke: subjectColor,\n    edgeInactiveStroke: disableColor,\n    edgeSelectedStroke: subjectColor,\n    edgeHighlightStroke: subjectColor,\n    edgeDisableStroke: disableColor03,\n\n    // for combos\n    comboMainStroke: disableColor04,\n    comboMainFill: disableColor025,\n\n    comboActiveStroke: subjectColor,\n    comboActiveFill: disableColor02,\n\n    comboInactiveStroke: disableColor04,\n    comboInactiveFill: disableColor025,\n\n    comboSelectedStroke: subjectColor,\n    comboSelectedFill: disableColor02,\n\n    comboHighlightStroke: deeperSubject, // 'rgb(53, 119, 222)', // TODO: how to generate it ???\n    comboHighlightFill: disableColor025,\n\n    comboDisableStroke: disableColor04,\n    comboDisableFill: disableColor02,\n  };\n};\n\n/**\n * get the set of colors according to the subject color and background color\n * @param subjectColor the subject color\n * @param backColor background color\n * @param disableColor the color for disable state\n */\nexport const getColorsWithSubjectColor = (\n  subjectColor,\n  backColor = '#fff',\n  theme: 'default' | 'dark' = 'default',\n  disableColor = 'rgb(150, 150, 150)',\n) => {\n  if (theme === 'default')\n    return getColorsWithDefaultTheme(subjectColor, backColor, 'rgb(150, 150, 150)');\n  return getColorsWithDarkTheme(subjectColor, backColor, '#777');\n};\n\nexport const getColorSetsBySubjectColors = (\n  subjectColors,\n  backColor = '#fff',\n  theme: 'default' | 'dark' = 'default',\n  disableColor = 'rgb(150, 150, 150)',\n) => {\n  const sets = [];\n  subjectColors.forEach((sColor) => {\n    sets.push(getColorsWithSubjectColor(sColor, backColor, theme, disableColor));\n  });\n  return sets;\n};\n","\"use strict\";function _typeof(e){return(_typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.clearAnimationFrame=clearAnimationFrame,exports.requestAnimationFrame=requestAnimationFrame,exports.setExtraFunction=setExtraFunction;var cache={};function setExtraFunction(e){void 0===e&&(e={}),cache.requestAnimationFrame=e.requestAnimationFrame,cache.clearAnimationFrame=e.cancelAnimationFrame}function requestAnimationFrame(e){return cache.requestAnimationFrame?cache.requestAnimationFrame(e):(\"object\"===(\"undefined\"==typeof window?\"undefined\":_typeof(window))&&window.requestAnimationFrame?window.requestAnimationFrame:function(e){return setTimeout(e,16)})(e)}function clearAnimationFrame(e){return cache.clearAnimationFrame?cache.clearAnimationFrame(e):(\"object\"===(\"undefined\"==typeof window?\"undefined\":_typeof(window))&&window.cancelAnimationFrame?window.cancelAnimationFrame:clearTimeout)(e)}","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Layouts=exports.Layout=void 0;var registy_1=require(\"../registy/index\"),Layout=function(){function t(t){var e=registy_1.getLayoutByName(t.type);this.layoutInstance=new e(t)}return t.prototype.layout=function(t){return this.layoutInstance.layout(t)},t.prototype.updateCfg=function(t){this.layoutInstance.updateCfg(t)},t.prototype.init=function(t){this.layoutInstance.init(t)},t.prototype.execute=function(){this.layoutInstance.execute()},t.prototype.getDefaultCfg=function(){return this.layoutInstance.getDefaultCfg()},t.prototype.destroy=function(){return this.layoutInstance.destroy()},t}();exports.Layout=Layout,exports.Layouts=new Proxy({},{get:function(t,e){return registy_1.getLayoutByName(e)},set:function(t,e,o){return registy_1.registerLayout(e,o),!0}});","import {\n  registerBehavior,\n  registerCombo,\n  registerEdge,\n  registerNode,\n  Arrow,\n  Marker,\n  Shape,\n} from '@antv/f6-core';\nimport { ICanvas, IGroup, IShape } from '@antv/g-base';\nimport * as Algorithm from '@antv/algorithm';\nimport Graph, { registerGraph as oRegisterGraph } from './graph/graph';\nimport { Layout, Layouts, registerLayout, unRegisterLayout } from './layout';\nimport Global from './global';\nimport Util from './util';\nimport './element';\nimport './behavior';\n\nconst F6 = {\n  version: Global.version,\n  Graph,\n  Util,\n  Layout,\n  Layouts,\n  registerLayout,\n  unRegisterLayout,\n  Global,\n  registerBehavior,\n  registerCombo,\n  registerEdge,\n  registerNode,\n  Algorithm,\n  Arrow,\n  Marker,\n  Shape,\n};\n\nfunction registerExtenderWrapper<T1, T2>(\n  registerExtender: (registerName: T1, registerFunction: T2, global: Object) => Object,\n): (registerName: T1, registerFunction: T2) => Object {\n  return function (...args) {\n    return registerExtender.apply(null, [...args, F6]);\n  };\n}\n\nconst registerGraph = registerExtenderWrapper(oRegisterGraph);\n\n(F6 as any).registerGraph = registerGraph;\n\nexport * from '@antv/f6-core';\nexport * from './types';\nexport * from './interface/graph';\n\nexport {\n  Graph,\n  Util,\n  Layout,\n  registerLayout,\n  registerGraph,\n  Global,\n  Algorithm,\n  Arrow,\n  Marker,\n  Shape,\n  //  G-Base \n  ICanvas,\n  IGroup,\n  IShape,\n};\n\nexport default F6;\n","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.assembleFont=exports.getTextWidth=exports.getLineSpaceing=exports.getTextHeight=void 0;var util_1=require(\"./util\"),offscreen_1=require(\"./offscreen\");function getTextHeight(e,t,i){var n=1;return(0,util_1.isString)(e)&&(n=e.split(\"\\n\").length),n>1?t*n+getLineSpaceing(t,i)*(n-1):t}function getLineSpaceing(e,t){return t?t-e:.14*e}function getTextWidth(e,t){var i,n=(0,offscreen_1.getOffScreenContext)(),r=0;return(0,util_1.isNil)(e)||\"\"===e||(n.save(),n.font=t,(0,util_1.isString)(e)&&e.includes(\"\\n\")?(i=e.split(\"\\n\"),(0,util_1.each)(i,(function(e){var t=n.measureText(e).width;r<t&&(r=t)}))):r=n.measureText(e).width,n.restore()),r}function assembleFont(e){var t=e.fontSize,i=e.fontFamily,n=e.fontWeight;return[e.fontStyle,e.fontVariant,n,t+\"px\",i].join(\" \").trim()}exports.getTextHeight=getTextHeight,exports.getLineSpaceing=getLineSpaceing,exports.getTextWidth=getTextWidth,exports.assembleFont=assembleFont;"],"sourceRoot":""}